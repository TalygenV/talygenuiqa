(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03a90f4a"],{"015c":function(t,e,a){"use strict";a("691d")},"0534":function(t,e,a){"use strict";a("d7ec")},"10da":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),t.exports=e},"13cc":function(t,e,a){"use strict";a("d028")},"1c8f":function(t,e,a){"use strict";a("dc15")},"1ee0":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".view-report[data-v-7cc79021]{float:left}.grid-toDo-list[data-v-7cc79021]{display:grid;grid-template-columns:.7fr 1fr}.grid-toDo-list>div[data-v-7cc79021]:first-child{grid-column:span 2}.widget-dropdown[data-v-7cc79021]{position:absolute;width:150px;top:40px;border-radius:4px;right:0;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.1);border:1px solid #ccc;display:flex;flex-direction:column;z-index:2}.widget-dropdown div[data-v-7cc79021]{padding:0 8px;border:none;background:none;cursor:pointer;text-align:left}.vue-grid-layout[data-v-7cc79021]{background:#eee}.vue-grid-item[data-v-7cc79021]:not(.vue-grid-placeholder){background:#ccc;border:1px solid #000}.vue-grid-item .resizing[data-v-7cc79021]{opacity:.9}.vue-grid-item .static[data-v-7cc79021]{background:#cce}.vue-grid-item .text[data-v-7cc79021]{font-size:24px;text-align:center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.vue-grid-item .no-drag[data-v-7cc79021],.vue-grid-item .text[data-v-7cc79021]{height:100%;width:100%}.vue-grid-item .minMax[data-v-7cc79021]{font-size:12px}.vue-grid-item .add[data-v-7cc79021]{cursor:pointer}.vue-draggable-handle[data-v-7cc79021]{position:absolute;width:20px;height:20px;top:0;left:0;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><circle cx='5' cy='5' r='5' fill='#999999'/></svg>\") no-repeat;background-position:100% 100%;padding:0 8px 8px 0;background-repeat:no-repeat;background-origin:content-box;box-sizing:border-box;cursor:pointer}.graph-widget-box[data-v-7cc79021]{min-height:auto!important}.graph-widget[data-v-7cc79021]{height:100%!important}.view-report[data-v-7cc79021]{margin-left:10px;margin-top:10px;text-decoration:underline;color:#1f77b4;font-weight:400;cursor:pointer}",""]),t.exports=e},2127:function(t,e,a){var s=a("4497");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("2da9f9a8",s,!0,{sourceMap:!1,shadowMode:!1})},2281:function(t,e,a){"use strict";a("579a")},"24f5":function(t,e,a){"use strict";a("ea36")},"28f0":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".cursor-pointer[data-v-0fd95cbc]{cursor:default!important}.p-action-btn[data-v-0fd95cbc]{background-color:#525f65;height:auto!important}.p-action-btn[data-v-0fd95cbc],.p-action-btn[data-v-0fd95cbc]:hover{border-left:2px solid #495a62;border-right:0;border-top:0;border-bottom:0}.p-action-btn[data-v-0fd95cbc]:hover{background-color:#4a585e}",""]),t.exports=e},"2b62":function(t,e,a){"use strict";a("c65a")},"2d2b":function(t,e,a){"use strict";a("b4a0")},"34c1":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),t.exports=e},"38b1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-action"},[e("div",{staticClass:"container-fluid px-0",class:{"cursor-pointer":t.cursorPointer}},[e("div",{staticClass:"row"},[e("input",{attrs:{type:"hidden",value:"@titleName",id:"hdnModuleName"}}),e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition p-actions-expand d-flex justify-content-between",staticStyle:{overflow:"visible"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"p-name text-white px-2",attrs:{title:"dashboard"}},["Edit"==t.editOrSave?e("select",{directives:[{name:"model",rawName:"v-model",value:t.dashboardid,expression:"dashboardid"}],staticClass:"form-control customized_ddl",attrs:{name:"dashsbords"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.dashboardid=e.target.multiple?a:a[0]},function(e){return t.onchangeView()}]}},[e("option",{attrs:{value:"0"}},[t._v("Default Dashboard")]),t._l(t.dashboards,(function(a){return e("option",{key:a,domProps:{value:a.dashboard_id}},[t._v(t._s(a.dashboard_name)+" ")])}))],2):e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedDashboardName,expression:"selectedDashboardName"}],class:{"form-control":!0},attrs:{id:"dashboardNameEdit",name:"dashboardNameEdit",maxlength:"200",type:"text"},domProps:{value:t.selectedDashboardName},on:{input:function(e){e.target.composing||(t.selectedDashboardName=e.target.value)}}})]),t.dashboardid>0?e("div",{staticClass:"p-actions"},[1!=t.isDefaultKey&&"Edit"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white link",on:{click:t.makeDefault}},[e("i",{class:t.SaveDefaultClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Make_Default"))+" ")]):t._e(),1==t.isDefaultKey&&"Edit"==t.editOrSave?e("button",{directives:[{name:"else",rawName:"v-else"}],staticClass:"p-action-btn text-white link",on:{click:t.removeDefault}},[e("i",{class:t.SaveDefaultClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("RemoveDefault"))+" ")]):t._e(),t.shareReportKey&&"Edit"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white link",on:{click:t.shareReport}},[e("i",{class:t.ShareButtonClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Share"))+" ")]):t._e(),t.isOwnerKey&&"Edit"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white link",on:{click:t.deleteReport}},[e("i",{class:t.DeleteButtonClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Delete"))+" ")]):t._e()]):t._e()]),e("div",{staticClass:"p-actions"},["Billing"==t.moduleCode&&"Edit"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white",attrs:{id:"teamview"},on:{click:function(e){return t.addFilterss()}}},[e("i",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("Filter"))+" ")]):t._e(),t.displayEditButton&&t.dashboardid>0?e("button",{staticClass:"p-action-btn text-white link",on:{click:t.editreport}},[e("i",{class:t.SaveEditButtonClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.editOrSave)+" ")]):t._e(),t.displayEditButton&&"Save"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white link",on:{click:function(e){return t.cancelEdit(t.dashboardid)}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Cancel"))+" ")]):t._e(),"Edit"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white",attrs:{id:"teamview"},on:{click:function(e){return t.opendashborad()}}},[e("i",{staticClass:"fa fa-dashboard",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("Add Dashboard"))+" ")]):t._e(),"Edit"==t.editOrSave&&t.dashboardid>0&&t.displayEditButton?e("button",{staticClass:"p-action-btn text-white",attrs:{id:"teamview"},on:{click:function(e){return t.openReport()}}},[e("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("AddReport"))+" ")]):t._e(),"Edit"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white",attrs:{id:"teamview"},on:{click:function(e){return t.OpenDatePopUp(e)}}},[e("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.GetLocalizedValue(t.calenderSelect))+" ")]):t._e(),e("daterange",{attrs:{pgaction:"global",showDateRange:t.showpopup},on:{"set-date":t.SetDateRange}})],1),e("div",{class:{"action-list-box2 expand":!0,"d-none":0==t.showFilters}},[e("span",{staticClass:"p-2"},[e("Multiselect",{attrs:{placeholder:"Select State",searchable:!0,options:t.StateList,"track-by":"value",label:"name"}})],1),e("span",{staticClass:"p-2"},[e("div",{staticClass:"dropdown",on:{click:function(e){t.isDropdownOpen=!t.isDropdownOpen}}},[e("div",{staticClass:"selected-options"},[0===t.selectedClient.length?e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v("Select options")]):1===t.selectedClient.length?e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v(t._s(t.selectedClient[0].text))]):e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v(t._s(t.selectedClient.length)+" options selected")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isDropdownOpen,expression:"isDropdownOpen"}],staticClass:"dropdown-menu",attrs:{role:"menu","aria-labelledby":"dLabel"}},t._l(t.clientByCompany,(function(a){return e("div",{key:a.value,staticClass:"option"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.selected,expression:"option.selected"}],attrs:{type:"checkbox"},domProps:{value:a.value,checked:Array.isArray(a.selected)?t._i(a.selected,a.value)>-1:a.selected},on:{change:[function(e){var s=a.selected,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=a.value,l=t._i(s,o);i.checked?l<0&&t.$set(a,"selected",s.concat([o])):l>-1&&t.$set(a,"selected",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(a,"selected",r)},t.updateSelectedOptions]}}),t._v(" "+t._s(a.text)+" ")])])})),0)])]),e("span",{staticClass:"p-2"},[e("select",{staticClass:"form-control"},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("Biller"))+" "+t._s(t.$t("Assigned")))])])]),e("div",{staticClass:"row flex-row-reverse mt-2"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success formbtn text-white mr-1",attrs:{href:"javascript:;",id:"aSearch",title:t.$t("Search"),name:"aSearch"}},[e("i",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger formbtn widthhalf btnCancel",attrs:{href:"javascript:;",title:t.$t("Reset"),id:"aClear"}},[e("i",{staticClass:"fa fa-refresh"})])])])]),t._m(0)]),t.reports.length>0&&t.fromDate?e("ReportLayout",{ref:"reportLayoutref",attrs:{reports:t.reports,moduleCode:t.moduleCode,dashboardid:t.dashboardid,selectedDashboardName:t.selectedDashboardName,isTodo:t.SelectedDashboardItem}}):t._e()],1)]),t.showAdddashboard?e("ModalAddDashboard",{attrs:{dashboardid:t.dashboardid,moduleCode:t.moduleCode}}):t._e(),t.showAddReport?e("ModalAddReport",{attrs:{dashboardid:t.dashboardid,moduleCode:t.moduleCode}}):t._e(),t.showShareReport?e("ModalShareReport",{attrs:{dashboardid:t.dashboardid,moduleCode:t.moduleCode},on:{close:function(e){t.showShareReport=!1}}}):t._e(),t.addFilters?e("AddFilter",{attrs:{FilterJsonForEdit:t.FilterJsonForEdit,dashboardid:t.dashboardid},on:{close:function(e){t.addFilters=!1},updatefilter:t.updateFilter}}):t._e()],1),e("loader",{attrs:{isVisible:t.isLoading}})],1)},i=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-angle-up text-white"})])])}],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups right fade",attrs:{"data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpopforadddabhboard",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",staticStyle:{height:"56px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseDashboardView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v(" Add Dashboard ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Dashboard Name")))]),e("span",{staticClass:"required"},[t._v("*")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dashboradName,expression:"dashboradName"}],class:{"form-control":!0},attrs:{id:"dashboradName",name:"dashboradName",maxlength:"200",type:"text"},domProps:{value:t.dashboradName},on:{input:[function(e){e.target.composing||(t.dashboradName=e.target.value)},t.checkSpaces]}}),t.hasOnlySpaces&&t.dashboradName.length>0?e("span",{staticClass:"error-message"},[t._v("Input cannot contain only spaces")]):t._e(),t.dashboardRequired&&0==t.dashboradName.length?e("span",{staticClass:"error-message"},[t._v("Dashboard Name is required")]):t._e()])])]),e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx"}},[e("div",{staticClass:"border bg-light"},[e("div",{staticClass:"card mb-2 p-2"},[t._m(0),e("div",{staticClass:"multi-collapse collapse show",attrs:{id:"ColumnCollapse1",role:"tabpanel","aria-labelledby":"MainColumn1","data-parent":"#accordionEx"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0 mt-1"},[t.reportGroups?e("div",{staticClass:"accordion md-accordion w-100",attrs:{id:"accordion",role:"tablist"}},[e("div",{staticClass:"border bg-light"},t._l(t.reportGroups,(function(a,s){return e("div",{key:s,staticClass:"card"},[e("div",{staticClass:"card-header"},[e("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+s,"aria-expanded":"true","data-target":"#collapseOne"+s,"aria-controls":"collapseOne"+s}},[e("div",{},[e("span",[e("em",{staticClass:"fa fa-folder pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(a.reports[0].folderName))])])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne"+s,role:"tabpanel","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[e("div",{staticClass:"col-md-12 listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblReport"+s}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{id:"chkAll",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),e("th",[t._v("Report Name")]),e("th"),e("th",[t._v("View Type")])])]),e("tbody",t._l(a.reports,(function(a,i){return e("tr",{key:a.id},[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{"data-reportid":a.reportId,"data-chartType":null==a.chartType?0:a.chartType,type:"checkbox"}})]),e("td",[t._v(t._s(a.reportName))]),e("td",["Pie"===a.chartType||"Bar"===a.chartType||"Donut"===a.chartType||"Line"===a.chartType||"Horizontal_Bar"===a.chartType||"Multiple_Bar"===a.chartType?e("span",{staticClass:"badge badge-danger float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px"}},[t._v("Graph Widget")]):"Numbers_Chart"===a.chartType?e("span",{staticClass:"badge badge-success float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px"}},[t._v("Numeric Widget")]):e("span",{staticClass:"badge badge-warning float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px",color:"white"}},[t._v("Table Widget")])]),e("td",["Table"!=a.chartType?e("label",{staticClass:"switch auto"},[e("input",{staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"chartType"+i+"_"+s,type:"checkbox",name:"viewtype"},domProps:{checked:a.chartType,value:a.chartType?a.chartType:"Table"}}),t._m(1,!0)]):t._e()])])})),0)])])])])])])])})),0)]):t._e()])])])])])]),e("div",{staticClass:"float-right my-3"},[e("a",{staticClass:"btn btn-success float-right",attrs:{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",title:"Save"},on:{click:function(e){return t.saveDashboard()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Save ")])])])])]),e("loader",{attrs:{isVisible:t.isLoading}})],1)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header heading-border p-0",attrs:{role:"tab",id:"MainColumn1"}},[e("h5",{staticClass:"mb-0"},[e("a",{staticClass:"d-block",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse1",href:"javascript:;","aria-expanded":"true","aria-controls":"ColumnCollapse1"}},[e("span",{staticClass:"Textstyle"},[t._v("Reports")]),e("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Graph")]),e("span",{staticClass:"slider-no"},[t._v("Table")])])}],l=(a("14d9"),a("9769")),n={props:{moduleCode:null,dashboardid:null},data:function(){return{isLoading:!1,reportGroups:[],SystemReport:[],dashboradName:"",newDashboardId:null,hasOnlySpaces:!1,dashboardRequired:!1,addToDoList:!1}},created(){this.GetDynamicReport()},mounted(){$("#modalprojectquickviewpopforadddabhboard").modal("show")},methods:{checkSpaces(){this.hasOnlySpaces=/^\s*$/.test(this.dashboradName)},toggleSwitch(){this.addToDoList=!this.addToDoList},CloseDashboardView:function(){var t=this;t.$parent.showAdddashboard=!1},SelectSystemReports:function(t){const e=t.currentTarget;e.classList.toggle("active")},GetDynamicReport(){var t=this,e=`dashboardId=${t.dashboardid}&moduleName=${t.moduleCode}`;l["a"].GetDynamicReport(e).then((function(e){t.reportGroups=e.data.UserReport,setTimeout(()=>{t.CheckBoxBootstrap()},1e3)}))},filterObjects(){var t=this;return t.idsToFilter=t.idsString.split(","),t.filteredObjects=t.SystemReportFiltered.filter(e=>t.idsToFilter.includes(e.privilege_id.toString())),t.filteredObjects},saveDashboard:function(){var t=this,e=[];for(let r=0;r<t.reportGroups.length;r++)$("#tblReport"+r+" .chkItems:checked").not("[id^='chkAll']").each((function(){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:r,xaxis:0,yaxis:0,is_system_report:0})}));var a=0;for(let r=0;r<e.length;r++)e[r].xaxis=r%4*3,e[r].yaxis=a;if(""!=t.dashboradName&&null!=t.dashboradName&&void 0!=t.dashboradName&&e.length>=2&&0==t.hasOnlySpaces){var s={dashboardName:t.dashboradName,dashboardDesc:"added dashboard",moduleName:t.moduleCode,reports:e,addToDoList:t.addToDoList},i=JSON.stringify(s);l["a"].SaveDashboard(i).then((function(a){console.log(a),"Success"==a.data.status&&e.length>0?(t.newDashboardId=a.data.result,console.log(t.newDashboardId),t.ShowAlert(t.$t("AddedSuccess",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")),$("#modalprojectquickviewpopforadddabhboard").modal("hide"),t.$parent.GetDashboard(t.newDashboardId),t.SystemReport=[],t.UserReport=[],t.dashboradName=""):t.ShowAlert(t.$t("SameDashboardExist",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))}))}else e.length<=1&&""!=t.dashboradName&&null!=t.dashboradName?t.ShowAlert(t.$t("ReportSelectionRequired",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert")):1==t.hasOnlySpaces?t.ShowAlert(t.$t("DashBoardNameRequired",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert")):t.dashboardRequired=!0}}},d=n,c=(a("462a"),a("7a74"),a("2877")),p=Object(c["a"])(d,r,o,!1,null,"1a4484be",null),u=p.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups right fade",attrs:{"data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpopaddreport",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",staticStyle:{height:"56px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseReportView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v("Add Report")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx"}},[e("div",{staticClass:"border bg-light"},[e("div",{staticClass:"card mb-2 p-2"},[t._m(0),e("div",{staticClass:"multi-collapse collapse show",attrs:{id:"ColumnCollapse1",role:"tabpanel","aria-labelledby":"MainColumn1","data-parent":"#accordionEx"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0 mt-1"},[t.reportGroups?e("div",{staticClass:"accordion md-accordion w-100",attrs:{id:"accordion",role:"tablist"}},[e("div",{staticClass:"border bg-light"},t._l(t.reportGroups,(function(a,s){return e("div",{key:s,staticClass:"card"},[e("div",{staticClass:"card-header"},[e("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+s,"aria-expanded":"true","data-target":"#collapseOne"+s,"aria-controls":"collapseOne"+s}},[e("div",{},[e("span",[e("em",{staticClass:"fa fa-folder pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(a.reports[0].folderName)+" ")])])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne"+s,role:"tabpanel","data-parent":"#accordion"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[e("div",{staticClass:"col-md-12 listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblReport"+s}},[t._m(1,!0),e("tbody",t._l(a.reports,(function(a,i){return e("tr",{key:i},[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{"data-reportid":a.reportId,"data-chartType":null==a.chartType?0:a.chartType,type:"checkbox"},domProps:{checked:t.reportbydashbord&&t.reportbydashbord.some(t=>t.reportId==a.reportId)}})]),e("td",[t._v(t._s(a.reportName))]),e("td",["Pie"===a.chartType||"Bar"===a.chartType||"Donut"===a.chartType||"Line"===a.chartType||"Horizontal_Bar"===a.chartType||"Multiple_Bar"===a.chartType?e("span",{staticClass:"badge badge-danger float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px"}},[t._v("Graph Widget")]):"Numbers_Chart"===a.chartType?e("span",{staticClass:"badge badge-success float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px"}},[t._v("Numeric Widget")]):e("span",{staticClass:"badge badge-warning float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px",color:"white"}},[t._v("Table Widget")])]),e("td",[t._v(" "+t._s(a.chartType)+" "),"Table"!=a.chartType?e("label",{staticClass:"switch auto"},[e("input",{staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"chartType"+i+"_"+s,type:"checkbox",name:"viewtype"},domProps:{checked:!t.reportbydashbord||!t.reportbydashbord.some(t=>t.reportId==a.reportId&&"Table"==t.chartType),value:t.reportbydashbord&&t.reportbydashbord.some(t=>t.reportId==a.reportId)?t.reportbydashbord.find(t=>t.reportId==a.reportId).chartType:a.chartType?a.chartType:"Table"}}),t._m(2,!0)]):t._e()])])})),0)])])])])])])])})),0)]):t._e()])])])])])]),e("div",{staticClass:"my-3"},[e("a",{staticClass:"btn btn-success float-right",attrs:{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",title:"Save"},on:{click:function(e){return t.saveReport()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Save ")])])])])]),t.isLoading?e("loader"):t._e()],1)},m=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header heading-border p-0",attrs:{role:"tab",id:"MainColumn1"}},[e("h5",{staticClass:"mb-0"},[e("a",{staticClass:"d-block",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse1",href:"javascript:;","aria-expanded":"true","aria-controls":"ColumnCollapse1"}},[e("span",{staticClass:"Textstyle"},[t._v("Reports")]),e("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{id:"chkAll",type:"checkbox"}})]),e("th",[t._v("Report Name")]),e("th"),e("th",[t._v("View Type")])])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Graph")]),e("span",{staticClass:"slider-no"},[t._v("Table")])])}],g={props:{dashboardid:null,moduleCode:null},data:function(){return{isLoading:!1,reportGroups:[],SystemReport:[],filteredObjects:[],idsString:null,SystemReportFiltered:[],reportbydashbord:null}},created(){this.GetDynamicReport()},mounted(){$("#modalprojectquickviewpopaddreport").modal("show"),this.CheckBoxBootstrap()},methods:{SelectSystemReports(t){const e=t.currentTarget;e.classList.toggle("active")},CloseReportView:function(){var t=this;t.$parent.showAddReport=!1},GetDynamicReport(){var t=this,e=`moduleName=${this.moduleCode}&dashboardId=${t.dashboardid}`;l["a"].GetDynamicReport(e).then((function(e){t.reportGroups=e.data.UserReport,setTimeout(()=>{t.CheckBoxBootstrap(),t.GetDashboardReport()},1e3)}))},GetDashboardReport:function(){var t=this,e=`dashboardId=${t.dashboardid}&moduleName=${t.moduleCode}`;l["a"].GetDashboardReport(e).then((function(e){t.reportbydashbord=e.data,e.data.forEach((function(t){var e=t.reportId,a=document.getElementById(e);a&&a.classList.add("active")}))}))},filterObjects(){var t=this;return t.idsToFilter=t.idsString.split(","),t.filteredObjects=t.SystemReportFiltered.filter(e=>t.idsToFilter.includes(e.privilege_id.toString())),t.filteredObjects},saveReport:function(){var t=this,e=[];t.SystemReportFiltered=t.SystemReport;const a=document.querySelectorAll(".SystemReport"),s=Array.from(a).filter(t=>t.classList.contains("active")),i=s.map(t=>t.id);t.idsString=i.join(",");var r=t.filterObjects();for(const l in r)e.push({reportId:r[l].privilege_id,chartType:r[l].chart_type,displayOrder:l,xaxis:0,yaxis:0,is_system_report:1});for(let l=0;l<t.reportGroups.length;l++)$("#tblReport"+l+" .chkItems:checked").not("[id^='chkAll']").each((function(){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:l,xaxis:0,yaxis:0,is_system_report:0})}));if(e.length>=2){var o={moduleName:"CRM",reports:e,dashboardId:t.dashboardid},n=JSON.stringify(o);l["a"].SaveReport(n).then((function(e){"Success"==e.data.status?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Report")]),"success",!0,t.$t("Alert")),t.$parent.GetDashboard(t.dashboardid),t.GetDashboardReport(),$("#modalprojectquickviewpopaddreport").modal("hide")):t.ShowAlert(t.$t("error",[t.$t("Report")]),"warning",!0,t.$t("Alert")),t.isLoading=!0}))}else t.ShowAlert(t.$t("ReportSelectionRequired",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))}}},f=g,v=(a("f419"),Object(c["a"])(f,h,m,!1,null,"5c7395a8",null)),b=v.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups",attrs:{id:"MMMM"}},[e("div",{staticClass:"modal d-block",attrs:{id:"choosewizards"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Share Dashboard")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseShareReportView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Share Dashboard with User/Roles:")]),e("div",{staticClass:"d-flex input-group"},[e("label",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],staticClass:"custom-control-input",attrs:{name:"",id:"Sharewithtype_0",type:"radio",value:"USER"},domProps:{checked:t._q(t.selectedOption,"USER")},on:{change:[function(e){t.selectedOption="USER"},t.getListData]}}),e("label",{staticClass:"custom-control-label",attrs:{for:"Sharewithtype_0"}},[t._v("User")])])]),e("label",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],staticClass:"custom-control-input",attrs:{name:"",id:"Sharewithtype_1",type:"radio",value:"ROLE"},domProps:{checked:t._q(t.selectedOption,"ROLE")},on:{change:[function(e){t.selectedOption="ROLE"},t.getListData]}}),e("label",{staticClass:"custom-control-label",attrs:{for:"Sharewithtype_1"}},[t._v("Roles")])])])])]),e("ValidationProvider",{ref:"validationProvider",attrs:{rules:t.required},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[t.selectedOption?e("Multiselect",{attrs:{placeholder:t.placeholderText,searchable:!0,multiple:!0,options:t.selectedLists,"track-by":"value",label:"name"},model:{value:t.selectedUsersID,callback:function(e){t.selectedUsersID=e},expression:"selectedUsersID"}},["USER"==t.selectedOption?e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("No User were found.")]):"ROLE"==t.selectedOption?e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("No Roles were found.")]):t._e()]):t._e(),e("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(a.default))])]}}])}),e("div",{staticClass:"d-flex form-group mb-0"},[e("label",{staticClass:"d-flex align-items-center mr-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isEditable,expression:"isEditable"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isEditable)?t._i(t.isEditable,null)>-1:t.isEditable},on:{change:function(e){var a=t.isEditable,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);s.checked?o<0&&(t.isEditable=a.concat([r])):o>-1&&(t.isEditable=a.slice(0,o).concat(a.slice(o+1)))}else t.isEditable=i}}}),t._v(" Is Editable? ")]),e("label",{staticClass:"d-flex align-items-center mr-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isShareable,expression:"isShareable"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isShareable)?t._i(t.isShareable,null)>-1:t.isShareable},on:{change:function(e){var a=t.isShareable,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);s.checked?o<0&&(t.isShareable=a.concat([r])):o>-1&&(t.isShareable=a.slice(0,o).concat(a.slice(o+1)))}else t.isShareable=i}}}),t._v(" Is Shareable? ")])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-right mb-2 p-0"},[e("a",{staticClass:"btn btn-success float-right",attrs:{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",title:"Save"},on:{click:function(e){return t.saveShareReport()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("Save"))+" ")])]),e("div",{staticClass:"table-responsive w-100 float-left"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 my-2 px-3"},[e("span",[t._v(t._s(t.$t("SharedAlready")))])])]),e("div",{ref:"tableContainer",staticClass:"table-container"},[e("table",{staticClass:"table table-bordered"},[e("thead",[e("tr",[t._l(t.displayedColumns,(function(a){return e("th",{key:a},[t._v(t._s(a))])})),e("th",[t._v("Actions")])],2)]),e("tbody",[t.UserListingData.ShareData&&t.UserListingData.ShareData.length>0?t._l(t.UserListingData.ShareData,(function(a,s){return e("tr",{key:a.ROWNUMBER},[e("td",[e("div",{staticClass:"conversation-box_custreps"},["USER"===a.Ref_Code?e("div",{staticClass:"name-square"},[e("em",{staticClass:"fa fa-user text-white fa-2x",attrs:{"aria-hidden":"true"}})]):t._e(),"ROLE"===a.Ref_Code?e("div",{staticClass:"role-square"},[e("em",{staticClass:"fa fa-user-circle text-white fa-2x",attrs:{"aria-hidden":"true"}})]):t._e(),e("div",{staticClass:"conversation-header"},[t._v(" "+t._s(a.UserName)+" ")]),e("div",{staticClass:"conversation-header"},[e("small",[t._v(" "+t._s(a.Ref_Code)+" ")])])])]),e("td",[a.Created_By==t.GetUserInfo.ID||a.Is_Editable==t.IsEdit?e("label",{staticClass:"switch auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Is_Editable,expression:"item.Is_Editable"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"",type:"checkbox"},domProps:{checked:a.Is_Editable,checked:Array.isArray(a.Is_Editable)?t._i(a.Is_Editable,null)>-1:a.Is_Editable},on:{change:[function(e){var s=a.Is_Editable,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=null,l=t._i(s,o);i.checked?l<0&&t.$set(a,"Is_Editable",s.concat([o])):l>-1&&t.$set(a,"Is_Editable",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(a,"Is_Editable",r)},function(e){return t.handleStatusChange(a,"editable")}]}}),t._m(0,!0)]):t._e()]),e("td",[a.Created_By==t.GetUserInfo.ID||a.Is_Shareable==t.IsShare?e("label",{staticClass:"switch auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Is_Shareable,expression:"item.Is_Shareable"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"",type:"checkbox"},domProps:{checked:a.Is_Shareable,checked:Array.isArray(a.Is_Shareable)?t._i(a.Is_Shareable,null)>-1:a.Is_Shareable},on:{change:[function(e){var s=a.Is_Shareable,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=null,l=t._i(s,o);i.checked?l<0&&t.$set(a,"Is_Shareable",s.concat([o])):l>-1&&t.$set(a,"Is_Shareable",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(a,"Is_Shareable",r)},function(e){return t.handleStatusChange(a,"shareable")}]}}),t._m(1,!0)]):t._e()]),e("td",[e("button",{staticClass:"delete-button",on:{click:function(e){return t.deleteListItem(a)}}},[e("em",{staticClass:"fa fa-trash text-danger ml-4"})])])])})):[e("td",{staticClass:"text-danger no-record"},[t._v("No Record(s) found")])]],2)])])])],1)])])])])])},C=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Yes")]),e("span",{staticClass:"slider-no"},[t._v("No")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Yes")]),e("span",{staticClass:"slider-no"},[t._v("No")])])}],y=a("7bb1"),D=a("be92"),T=a("b0ac");const{GetUserInfo:S}=Object(D["d"])(Object(T["b"])());var k={components:{ValidationProvider:y["c"]},props:{dashboardid:null,moduleCode:null},data:function(){return{selectedOption:"USER",displayedColumns:["User Name","Is Editable","Is Shareable"],selectedUsersID:[],errorUserNotSelected:"",isEditable:!1,isShareable:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,selectedLists:[],idsString:null,reportbydashbord:null,UserListingData:[],IsEdit:!0,IsShare:!0}},created(){this.getListData(),this.alreadySharedData()},mounted(){$("#modalprojectquickviewpopsharereport").modal("show"),this.CheckBoxBootstrap()},beforeDestroy(){window.removeEventListener("resize",this.checkTableWidth)},computed:{placeholderText(){return"USER"===this.selectedOption?"Select Users":"ROLE"===this.selectedOption?"Select Roles":"Select"}},methods:{checkTableWidth(){const t=this.$refs.tableContainer;if(t){const e=t.getBoundingClientRect().height,a=75.1,s=5,i=a*s;e>i?t.classList.add("scrollable"):t.classList.remove("scrollable")}},async handleStatusChange(t,e){var a=this;a.confirmR(a.$t("ConfirmUpdateSettings"),!0,a.$t("Delete")+"  "+a.$t("Report"),(function(){let e=`moduleName=${a.moduleCode}&Id=${t.Id}&dashboardId=${a.dashboardid}&refId=${a.selectedUsersID}&refCode=${a.selectedOption}&isEditable=${t.Is_Editable}&isShareable=${t.Is_Shareable}`;l["a"].SaveDashboardShareReport(e).then((async function(t){200==t.status?a.ShowAlert(a.$t("SettingsUpdate",[a.$t("dashboard")]),"success",!0,a.$t("Alert")):a.ShowAlert(a.$t("SettingsError",[a.$t("dashboard")]),"success",!0,a.$t("Alert"))}))}),(function(){"editable"===e?t.Is_Editable=!t.Is_Editable:"shareable"===e&&(t.Is_Shareable=!t.Is_Shareable)}))},async alreadySharedData(){this.isLoading=!0;try{const t=`dashboardId=${this.dashboardid}&pageSize=${this.PageSize}&pageNum=${this.PageNumber}&sortBy=${this.SortBy}&sortExp=${this.SortExp}`,e=await l["a"].GetDashboardShareData(t);this.UserListingData=JSON.parse(e.data.map(t=>t.Value)),this.$nextTick(()=>{this.checkTableWidth(),window.addEventListener("resize",this.checkTableWidth)})}catch(t){console.error("Error fetching shared data:",t)}finally{this.isLoading=!1}},async deleteListItem(t){var e=this;e.isLoading=!0,e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Report"),(function(){let a=`moduleName=${e.moduleCode}&Id=${t.Id}`;l["a"].DeleteAssignedShareDashboard(a).then((async function(t){200==t.status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("dashboard")]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<=0&&(e.PageNumber=1),e.CloseShareReportView()):e.ShowAlert(e.$t("DeletedError",[e.$t("dashboard")]),"success",!0,e.$t("Alert"))}))})),e.isLoading=!1},async getListData(){try{let t;"USER"==this.selectedOption?(this.selectedUsersID=[],t=`moduleName=${this.moduleCode}&id=${this.dashboardid}&type=DASHBOARD_USERS`):(this.selectedUsersID=[],t=`moduleName=${this.moduleCode}&id=${this.dashboardid}&type=DASHBOARD_ROLES`);const e=await l["a"].GetDDLData(t);this.selectedLists=e.data.DATA}catch(t){console.error("API error:",t)}},async saveShareReport(){try{var t=this;let e;if(this.selectedUsersID&&this.selectedUsersID.length>0){const a=t.selectedUsersID.map(t=>t.value),s=a.join(",");e=`moduleName=${t.moduleCode}&dashboardId=${t.dashboardid}&refId=${s}&refCode=${t.selectedOption}&isEditable=${t.isEditable}&isShareable=${t.isShareable}`;const i=await l["a"].SaveDashboardShareReport(e);i.data[0].Status?t.ShowAlert(t.$t("AddedSuccessShared",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")):t.ShowAlert(t.$t("Failure",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert")),t.CloseShareReportView(),t.$parent.GetDashboard(t.dashboardid),t.isLoading=!1}else t.$refs.validationProvider&&t.$refs.validationProvider.setErrors({default:"Please Select User"})}catch(e){console.error("API error:",e)}},SelectSystemReports:function(t){const e=t.currentTarget;e.classList.toggle("active")},CloseShareReportView:function(){var t=this;t.$parent.showShareReport=!1,$(".modal-backdrop").remove()}}},w=k,x=(a("8f9a"),Object(c["a"])(w,_,C,!1,null,"2c771e61",null)),I=x.exports,A=function(){var t=this,e=t._self._c;return e("div",{class:{"edit-mode":t.isInEditMode},attrs:{id:"ReportContainer"}},[e("ul",{staticClass:"dashbord-widget",staticStyle:{float:"none !important","margin-top":"10px !important"}},[t._l(t.numberLayout,(function(a,s){return[a.chartType&&"numbers_chart"===a.chartType.toLowerCase()?e("NumberChart",{attrs:{isSystemReport:a.isSystemReport,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,index:a.i,icon:a.icon,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,dashboardid:t.dashboardid,moduleCode:t.moduleCode,isInEditMode:t.isInEditMode,numberLayout:t.numberLayout}}):t._e()]}))],2),e("div",{staticClass:"row"},[t.toDoList?[e("div",{staticClass:"col-md-5 default_db"},[t._m(0),e("div",{staticClass:"clearfix"}),e("kanbanview",{attrs:{module:t.moduleCode,status:t.statusArray}})],1)]:t._e(),[e("div",{class:t.toDoList?"col-md-7":"col-md-12"},[t._m(1),e("div",{staticClass:"clearfix"}),e("grid-layout",{attrs:{layout:t.layout,"col-num":12,"row-height":40,"is-draggable":t.draggable,"is-resizable":t.resizable,"vertical-compact":!0,"use-css-transforms":!0},on:{"update:layout":function(e){t.layout=e}}},t._l(t.layout,(function(a,s){return e("grid-item",{key:a.i,class:a.reportId,attrs:{static:a.static,x:a.x,y:a.y,w:a.w,h:a.h,i:a.i},on:{resized:t.resizedEvent,resize:t.resizeEvent}},[e("div",{class:{"graph-widget align-self-stretch ticketingDashboardHead reportcontainer mb-2":!0}},[e("div",{staticClass:"dashboard-boxes graph-widget-box bg-white"},[e("div",{staticClass:"graph-widget-heading float-left w-100"},[e("span",{staticClass:"text-truncate float-left w-75",attrs:{title:t.$t(a.reportName)}},[t._v(t._s(t.$t(a.reportName)))]),e("div",{staticClass:"mw-80 float-right"},[e("a",{class:{"hlkDeleteReport float-right":!0,"d-none":!t.isInEditMode},attrs:{href:"javascript:;",title:"Remove"},on:{click:function(e){return t.removeItem(a.i,a.reportId,a.chartType)}}},[e("span",{staticClass:"icon_close"},[e("i",{staticClass:"fa fa-times"})])]),"Table"!=a.actualWidgetType&&null!=a.actualWidgetType?e("a",{staticClass:"float-right",attrs:{href:"javascript:;"},on:{click:function(e){return t.toggleWidgetDropdown(a)}}},[e("span",{staticClass:"icon_expand"},[e("i",{staticClass:"fa fa-cog"})])]):t._e(),a.showDropdown?e("div",{staticClass:"widget-dropdown"},[a.isSystemReport?e("div",{class:{"d-none":t.isInEditMode},on:{click:function(e){return t.openPopup(a,"Date Filter")}}},[t._v(" Date Filter ")]):t._e(),e("div",{on:{click:function(e){return t.openPopup(a,"Graph Filter")}}},[t._v(" Graph Filter ")])]):t._e()])]),e("div",{class:{"graph-widget-content bg-white float-left w-100":!0,"d-flex  align-content-center justify-content-center":!0}},[a.chartType&&"line"===a.chartType.toLowerCase()?e("LineChart",{ref:"line"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height},on:{"set-widget-data":t.SetWidgetData}}):t._e(),!a.chartType||"bar"!==a.chartType.toLowerCase()&&"horizontal_bar"!==a.chartType.toLowerCase()&&"multiple_bar"!==a.chartType.toLowerCase()?t._e():e("bar-chart",{ref:("bar"===a.chartType.toLowerCase())+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height,resizeheight:t.resizeheight},on:{"set-widget-data":t.SetWidgetData}}),a.chartType&&"pie"===a.chartType.toLowerCase()?e("PieChart",{ref:"pie"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height,resizeheight:t.resizeheight},on:{"set-widget-data":t.SetWidgetData}}):t._e(),a.chartType&&"donut"===a.chartType.toLowerCase()?e("DonutChart",{ref:"donut"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height,resizeheight:t.resizeheight},on:{"set-widget-data":t.SetWidgetData}}):t._e(),null===a.chartType||"table"===a.chartType.toLowerCase()?e("TableChart",{ref:"table"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{tableheight:t.tableheight,isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:null===a.chartType?"Table":a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e()],1),0==a.isSystemReport?e("div",{staticClass:"view-report",on:{click:function(e){return t.ViewReport(a.reportId)}}},[t._v("View Report ")]):t._e()])])])})),1)],1)]],2),t.showPopup?e("popup-component",{ref:"popup",attrs:{moduleCode:t.moduleCode,dashboardid:t.dashboardid,"content-type":t.popupContentType,"report-id":t.popupReportId,"report-name":t.popupReportName,"popup-item":t.popupItem},on:{"close-popup":t.closePopup}}):t._e()],1)},E=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-12 float-left mb-3 p-0"},[e("div",{staticClass:"float-left col-12 p-0"},[e("h5",{staticClass:"h5 heading-border"},[e("span",[t._v("To Do List")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-12 float-left mb-3 p-0"},[e("div",{staticClass:"float-left col-12 p-0"},[e("h5",{staticClass:"h5 heading-border"},[e("span",[t._v("Reports")])])])])}],R=(a("b7ef"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Barchrt text-center"},[e("loader",{attrs:{isVisible:t.isLoading}}),0===t.BarWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record",staticStyle:{display:"flex","align-items":"center","justify-content":"center"},style:{height:t.height+150+"px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{staticStyle:{display:"grid","align-items":"center"},style:{height:t.height+150+"px"},attrs:{id:"BarChart_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index}},[e("div",{class:{"bar d-block mt-2 reportBlock t-min-height align-center c3 w-100":t.BarWidgetData.length>0,"bar d-inline-block mt-2 align-center c3 w-100":0==t.BarWidgetData.length},staticStyle:{display:"flex!important"},style:{"width:60%; float:left; text-align:center;":t.BarWidgetData.length>0,"width:100%;text-align:center;":0==t.BarWidgetData.length,"max-height":t.height+100+"px !important"},attrs:{controller:t.moduleCode,id:"div_BarChart_"+t.action.replace(/\s+/g,"_")+t.index}})])]],2)}),N=[],P=(a("5698"),a("2d5f"),a("8b5c"),{props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:"",toDate:"",filterData:"",index:null,reportId:null,isSystemReport:null,width:null,height:null,resizeheight:null},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"bar",xaxis:"",yaxis:"",BarWidgetData:[],HeaderData:null,showAddDashboardReport:!1,chart:null}},created(){this.FetchData()},watch:{width:"handleResize",height:"handleResize",toDate:"handleFetchData",fromDate:"handleFetchData",filterData:"handleFetchData",chartType:"handleFetchData",resizeheight:"handleResize"},methods:{ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await l["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.BarWidgetData=e.data.result.data,t.xaxis=e.data.result.Xaxis,t.yaxis=e.data.result.Yaxis,t.bindWidget(t)),t.isLoading=!1}))},bindWidget(t){var e=this;if(t.charT_TYPE&&t.BarWidgetData.length>0){var a=t.xaxis,s=t.yaxis,i=[],r=[],o=[];if("multiple_bar"!=e.chartType)$.each(t.BarWidgetData,(function(t,e){r.push(e.NAME),i.push(e.VALUE)})),i.splice(0,0,s);else{e.chartOptionXAxisData=[];var l=[],n=[];t.BarWidgetData.forEach((t,e)=>{var a={XaxisField:t.NAME};r.push(t.NAME),t.Data.forEach(t=>{var e=void 0!=t.YFieldData?t.YFieldData:"-",s=n.filter(t=>t==e);a[e]=t.Countable,0==s.length&&n.push(e)}),l.push(a)}),n.forEach((function(t){var e={name:t,data:[]};l.forEach((function(a){a[t]?e.data.push(a[t]):e.data.push(0)})),e.data.splice(0,0,t),o.push(e.data)}))}var d="#div_BarChart_"+t.action.replace(/\s+/g,"_")+t.index;$(d).html("");let p={bindto:d,data:{columns:"multiple_bar"!=e.chartType?[i]:o,type:"bar",empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},tooltip:{grouped:!1,position:""},size:{height:this.height+100},bar:{width:{ratio:.5}},legend:{show:!0,position:"bottom"},axis:{rotated:"bar"!==t.chartType.toLowerCase()&&"multiple_bar"!==t.chartType.toLowerCase(),x:{label:{text:a,position:"outer-center"},categories:r,type:"category"},y:{label:{text:s,position:"outer-middle"},padding:{top:0}}}};var c=c3.generate(p);$(d).data("c3-chart",c)}},handleResize(){this.bindWidget(this)},handleFetchData(){this.FetchData()}}}),M=P,O=(a("4dae"),Object(c["a"])(M,R,N,!1,null,"3bc37766",null)),L=O.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Linechrt text-center"},[e("loader",{attrs:{isVisible:t.isLoading}}),0===t.LineWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record",staticStyle:{display:"flex","align-items":"center","justify-content":"center"},style:{height:t.height+150+"px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{attrs:{id:"lineDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index}},[e("div",{class:{"line d-inline-block mt-2 reportBlock t-min-height align-center c3 w-100":t.LineWidgetData.length>0,"line d-inline-block mt-2 align-center c3 w-100":0==t.LineWidgetData.length},staticStyle:{display:"flex!important"},style:{"width:60%; float:left; text-align:center;":t.LineWidgetData.length>0,"width:100%;text-align:center;":0==t.LineWidgetData.length},attrs:{controller:t.moduleCode,id:"div_LineChart_"+t.action.replace(/\s+/g,"_")+t.index}})])]],2)},j=[],U={props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:null,toDate:null,index:null,width:null,height:null,reportId:null,isSystemReport:null,resizeheight:null,filterData:""},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"line",xaxis:"",yaxis:"",LineWidgetData:[],HeaderData:null,showAddDashboardReport:!1,ChartName:null}},watch:{width:function(){this.bindWidget(this)},height:function(){this.bindWidget(this)},toDate:function(){this.FetchData()},fromDate:function(){this.FetchData()},filterData:function(){this.FetchData()}},created(){this.FetchData(),this.action=this.action.replace(/\s/g,"")},methods:{async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await l["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.LineWidgetData=e.data.result.data,t.xaxis=e.data.result.Xaxis,t.yaxis=e.data.result.Yaxis,t.bindWidget(t)),t.isLoading=!1}))},bindWidget(t){if(t.charT_TYPE&&t.LineWidgetData.length>0){var e=t.xaxis,a=t.yaxis,s=[],i=[];$.each(t.LineWidgetData,(function(t,e){i.push(e.NAME),s.push(e.VALUE)})),s.splice(0,0,a);var r="#div_LineChart_"+t.action.replace(/\s+/g,"_")+t.index;$(r).html("");let l={bindto:r,data:{columns:[s],type:"line",empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},tooltip:{grouped:!1},size:{height:this.resizeheight?40*this.resizeheight:this.height+100},legend:{show:!0,position:"bottom"},axis:{x:{label:{text:e,position:"outer-center"},categories:i,type:"category"},y:{label:{text:a,position:"outer-middle"},padding:{top:0}}}};var o=c3.generate(l);$(r).data("c3-chart",o)}}}},B=U,G=(a("2721"),a("24f5"),Object(c["a"])(B,F,j,!1,null,null,null)),V=G.exports,H=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Piechrt text-center"},[e("loader",{attrs:{isVisible:t.isLoading}}),0===t.PieWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record",staticStyle:{display:"flex","align-items":"center","justify-content":"center"},style:{height:t.height+150+"px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{staticStyle:{display:"grid","align-items":"center"},style:{height:t.height+150+"px"},attrs:{id:"pieDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index}},[e("div",{class:{"d-inline-block mt-2 reportBlock t-min-height align-center c3":t.PieWidgetData.length>0,"d-inline-block mt-2 align-center c3":0==t.PieWidgetData.length,"max-height":t.height+100+"px !important"},attrs:{controller:t.moduleCode,id:"div_PieChart_"+t.action.replace(/\s+/g,"_")+t.index}}),e("div",{staticClass:"legend-container"})])]],2)},Y=[],q={props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:null,toDate:null,filterData:"",index:null,width:null,height:null,reportId:null,resizeheight:null,isSystemReport:null},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"pie",PieWidgetData:[],HeaderData:null,showAddDashboardReport:!1,chart:null}},watch:{width:function(){this.bindWidget(this)},height:function(){this.bindWidget(this)},toDate:function(){this.FetchData()},fromDate:function(){this.FetchData()},filterData:function(){this.FetchData()},resizeheight:function(){this.bindWidget(this)}},created:function(){this.FetchData()},methods:{ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},FetchData:function(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;l["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.PieWidgetData=e.data.result.data,t.bindWidget(t)),t.$emit("set-widget-data",t.PieWidgetData,t.charT_TYPE),t.isLoading=!1}))},bindWidget:function(t){if(t.charT_TYPE&&t.PieWidgetData.length>0){var e="",a="",s=[],i=[];$.each(t.PieWidgetData,(function(t,e){s.push([e.NAME+" ("+e.VALUE+")",e.VALUE]),i.push(e.NAME+" ("+e.VALUE+")")}));var r="#div_PieChart_"+t.action.replace(/\s+/g,"_")+t.index;$(r).html("");let l={bindto:r,data:{columns:s,type:"pie",empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},tooltip:{grouped:!1},size:{height:this.height+100},legend:{show:!1},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{x:{label:{text:"",position:"outer-center"},categories:[e],type:"category"},y:{label:{text:a,position:"outer-center"}}}};var o=c3.generate(l);$(r).data("c3-chart",o);let n=$("#pieDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container").find(".legend").length>0;n&&$("#pieDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container .legend").remove(),0===$("#pieDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container").find(".legend").length&&d3.select("#pieDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container").insert("div",".chart").attr("class","legend").selectAll("div").data(i).enter().append("div").attr("data-id",(function(t){return t})).html((function(t){return t})).each((function(t){d3.select(this).append("span").style("background-color",o.color(t))})).on("mouseover",(function(t){o.focus(t)})).on("mouseout",(function(t){o.revert()})).on("click",(function(t){$(this).toggleClass("c3-legend-item-hidden"),o.toggle(t)}))}}}},W=q,z=(a("dd8c"),Object(c["a"])(W,H,Y,!1,null,null,null)),K=z.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white t-min-height donut custom-chart-div text-center"},[e("loader",{attrs:{isVisible:t.isLoading}}),0===t.DonutWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record",staticStyle:{display:"flex","align-items":"center","justify-content":"center"},style:{height:t.height+150+"px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{attrs:{id:"DonutDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index}},[e("div",{class:t.DonutWidgetData.length>0?"d-inline-block mt-2 reportBlock align-center c3":"d-inline-block mt-2 align-center c3",style:{"width:60%; float:left; text-align:center;":t.DonutWidgetData.length,"width:100%;text-align:center;":0==t.DonutWidgetData.length},attrs:{controller:t.moduleCode,id:"div_WidgetChart_"+t.action.replace(/\s+/g,"_")+t.index,"data-test":t.DonutWidgetData.length}}),e("div",{staticClass:"legend-container"})])]],2)},Q=[],X={props:{reportName:null,chartType:null,dashboardid:null,moduleCode:null,fromDate:null,toDate:null,filterData:"",index:null,width:null,height:null,reportId:null,isSystemReport:null,resizeheight:null},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"donut",DonutWidgetData:[],HeaderData:null,showAddDashboardReport:!1,ChartName:null}},watch:{width:"handleResize",height:"handleResize",toDate:"handleFetchData",fromDate:"handleFetchData",filterData:"handleFetchData",chartType:"handleFetchData"},created:function(){var t=this;t.FetchData()},mounted(){window.addEventListener("resize",this.handleResize)},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await l["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.DonutWidgetData=e.data.result.data,t.bindWidget(t)),t.$emit("set-widget-data",t.DonutWidgetData),setTimeout(()=>{t.isLoading=!1},3e3)}))},bindWidget:function(t){if(t.charT_TYPE&&t.DonutWidgetData.length>0){var e=this.charT_TYPE,a=[],s=[];$.each(t.DonutWidgetData,(function(e,i){"LoggedHoursByProject"==t.action?(a.push([i.NAME+" ("+i.VALUE+" h)",i.VALUE]),s.push(i.NAME+" ("+i.VALUE+" h)")):(a.push([i.NAME+" ("+i.VALUE+")",i.VALUE]),s.push(i.NAME+" ("+i.VALUE+")"))}));var i="",r="",o="#div_WidgetChart_"+t.action.replace(/\s+/g,"_")+t.index;$(o).html("");var l={bindto:o,data:{columns:a,type:e,empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},tooltip:{grouped:!1},size:{height:this.resizeheight?40*this.resizeheight:this.height+100},legend:{show:!1},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[i],type:"category"},y:{label:{text:r,position:"outer-center"}}}},n=c3.generate(l);$(o).data("c3-chart",n);let d=$("#DonutDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container").find(".legend").length>0;d&&$("#DonutDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container .legend").remove(),0===$("#DonutDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container").find(".legend").length&&d3.select("#DonutDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container").insert("div",".chart").attr("class","legend").selectAll("div").data(s).enter().append("div").attr("data-id",(function(t){return t})).html((function(t){return t})).each((function(t){d3.select(this).append("span").style("background-color",n.color(t))})).on("mouseover",(function(t){n.focus(t)})).on("mouseout",(function(t){n.revert()})).on("click",(function(t){$(this).toggleClass("c3-legend-item-hidden"),n.toggle(t)}))}},handleResize(){this.bindWidget(this)},handleFetchData(){this.FetchData()}}},Z=X,tt=(a("2281"),Object(c["a"])(Z,J,Q,!1,null,null,null)),et=tt.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Tablechrt text-center"},[0===t.OpenTicketsWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record",staticStyle:{display:"flex","align-items":"center","justify-content":"center"},style:{height:t.height+150+"px"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[t.OpenTicketsWidgetData?e("div",{staticClass:"listing",attrs:{id:"div_TableChart_"+t.action.replace(/\s+/g,"_")+t.index}},[e("loader",{attrs:{isVisible:t.isLoading}}),e("div",{staticClass:"listing"},[e("div",{staticClass:"graph-widget align-self-stretch pl-0",class:{scrollable:t.isTableResponsive},style:{maxHeight:2*t.height-100+"px",overflow:"auto"}},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",t._l(t.items,(function(a,s){return e("th",{key:s,attrs:{scope:"col"}},[t._v(" "+t._s(t.GetLocalizedValue(a))+" ")])})),0)]),1==t.IsGrouping?e("tbody",t._l(t.OpenTicketsWidgetData,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a[0]))]),e("td",[t._v(t._s(a[1]))]),e("td",t._l(a.slice(2),(function(a,s){return e("div",{key:s},[t._v(" "+t._s(t.capitalize(a[1]))+" ")])})),0),e("td",t._l(a.slice(2),(function(a,s){return e("div",{key:s},[t._v(" "+t._s(t.capitalize(a[1]))+" ")])})),0)])})),0):0==t.IsGrouping?e("tbody",t._l(t.OpenTicketsWidgetData,(function(a,s){return e("tr",{key:s},t._l(a,(function(a,s){return e("td",{key:s},[e("span",{domProps:{innerHTML:t._s(a)}})])})),0)})),0):e("tbody",t._l(t.OpenTicketsWidgetData,(function(a,s){return e("tr",{key:s},t._l(a,(function(a,s){return e("td",{key:s},[t._v(" "+t._s(a)+" ")])})),0)})),0)])])])],1):t._e()]],2)},st=[],it={props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:null,toDate:null,index:null,width:null,height:null,tableheight:null,reports:null,reportId:null,isSystemReport:null,filterData:""},data:function(){return{isLoading:!1,action:this.reportName,charT_TYPE:"table",OpenTicketsWidgetData:[],HeaderData:null,items:[],IsGrouping:!1,showAddDashboardReport:!1,TotalRecord:0,PageCalculate:0}},created:function(){this.FetchData(),console.log(this.tableheight)},watch:{height:"handleResize",toDate:"handleFetchData",fromDate:"handleFetchData",chartType:"handleFetchData",filterData:"handleFetchData"},methods:{capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},handleResize(){console.log(this.height)},async FetchData(){var t=this;t.OpenTicketsWidgetData=[],t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await l["a"].GetDashboardData(a).then((function(e){if(null!=e.data&&""!=e.data&&"Success"==e.data.status)if(null!=e.data.result.data&&""!=e.data.result.data)if(t.HeaderData=e.data.result.data,null!=e.data.result.data.Xaxis||null!=e.data.result.Yaxis){var a=e.data.result.Xaxis,s=e.data.result.Yaxis;t.HeaderData=e.data.result.data;var i=[],r=[];$.each(t.HeaderData,(function(t,e){i.push(e.NAME),r.push(e.VALUE)})),t.items=[a,s],t.OpenTicketsWidgetData=i.map((t,e)=>({listing:t,count:r[e]})),console.log(t.OpenTicketsWidgetData)}else t.HeaderData.map(e=>{if(0==e.IsGrouping){t.IsGrouping=!1,t.TotalRecord=e.Total;const a=JSON.parse(e.VALUE),s=a.map(t=>JSON.parse(t.Value));s.length>0&&(t.items=Object.keys(s[0]),s.forEach(e=>{const a=Object.values(e);t.OpenTicketsWidgetData.push(a)}))}else if(1==e.IsGrouping){t.IsGrouping=!0,t.TotalRecord=e.Total;const a=JSON.parse(e.VALUE),s=a.map(t=>JSON.parse(t.Value)),i=Object.keys(s[0]),r=i.filter(t=>"data"!==t),o=Array.from(new Set(s.flatMap(t=>t.data?t.data.flatMap(t=>Object.keys(t)):[])));t.items=[...r,...o],s.forEach(e=>{const{data:a,...s}=e,i=[...Object.values(s),...a.map(t=>Object.values(t))];t.OpenTicketsWidgetData.push(i)})}else t.isLoading=!1});else{a=e.data.result.Xaxis,s=e.data.result.Yaxis;t.HeaderData=e.data.result.data;i=[],r=[];$.each(t.HeaderData,(function(t,e){i.push(e.NAME),r.push(e.VALUE)})),t.items=[a,s],t.OpenTicketsWidgetData=i.map((t,e)=>({listing:t,count:r[e]}))}})),t.isLoading=!1},handleFetchData(){this.FetchData()},Increase(){var t=this;t.PageNumber++,t.PageCalculate=10*t.PageNumber},Decrease(){var t=this;t.PageNumber--}}},rt=it,ot=(a("13cc"),Object(c["a"])(rt,at,st,!1,null,"215f79d2",null)),lt=ot.exports,nt=function(){var t=this,e=t._self._c;return e("li",{staticClass:"cursor-pointer one_wid position-relative",staticStyle:{cursor:"pointer !important",display:"inline-grid"},style:{borderColor:t.initialColor+" !important"}},[e("i",{staticClass:"fa fa-times mr-2 font-18",class:{"d-none":!t.isInEditMode},staticStyle:{position:"absolute",right:"0",top:"2px"},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.removeItem(t.index,t.reportName)}}}),t.NumberWidgetData&&t.NumberWidgetData.length>0?t._l(t.NumberWidgetData,(function(a,s){return e("div",{key:s,staticClass:"d-flex justify-content-between"},[e("h3",{style:{color:t.initialColor+" !important"}},[t._v(t._s(a.VALUE))]),e("div",[e("i",{class:t.icon?t.icon:"fa fa fa-list-ul",attrs:{"aria-hidden":"true"}})])])})):[t._m(0)],e("div",[t._v(t._s(t.GetLocalizedValue(t.reportName)))])],2)},dt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-start"},[e("i",{staticClass:"fa fa-circle-o-notch fa-spin"})])}],ct={props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:"",toDate:"",index:null,icon:null,reportId:null,isSystemReport:null,numberLayout:null,isInEditMode:null,filterData:""},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"numbers_chart",NumberWidgetData:[],selectedColors:["#23a5fd","#37b8df","#c49e71","#488fa4","#dbb429"],selectedBackgroundColors:["#edf7ff","#eef7f9","#fff4e8","#def5fa","#fff8df"],initialColor:"",initialBackgroundColor:"",showAddDashboardReport:!1,chart:null}},created(){this.FetchData(),this.initialColor=this.getRandomColor(),this.initialBackgroundColor=this.getRandomBackgroundColor()},watch:{numberLayout(){this.FetchData()}},methods:{removeItem(t){var e=this;e.$parent.removeItem(t,e.reportId,e.chartType)},getRandomColor(){const t=Math.floor(Math.random()*this.selectedColors.length);return this.selectedColors[t]},getRandomBackgroundColor(){const t=Math.floor(Math.random()*this.selectedBackgroundColors.length);return this.selectedBackgroundColors[t]},async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await l["a"].GetDashboardData(a).then((function(e){null!=e.data.result&&""!=e.data.result&&"Success"==e.data.status&&null!=e.data.result.data&&(t.NumberWidgetData=e.data.result.data),t.isLoading=!1}))}}},pt=ct,ut=Object(c["a"])(pt,nt,dt,!1,null,null,null),ht=ut.exports,mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups centre fade",attrs:{id:"modalprojectquickviewpopaddreport",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.closePopupOutside.apply(null,arguments)}}},[e("div",{staticClass:"modal-dialog",class:{"w-auto":"Date Filter"===t.contentType},attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.closePopup()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v(" "+t._s(t.contentType)+" ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},["Date Filter"===t.contentType?e("div",[e("daterangereport",{attrs:{pgaction:"global",popupItem:t.popupItem},on:{"set-date-report":t.SetDateRangeReport}})],1):"Data Filter"===t.contentType?e("div",[e("div",[t._v("Content 2")])]):e("div",[e("div",{staticClass:"user_type_choice mt-2 coloredicons"},t._l(t.GraphViewList,(function(a){return e("div",{key:a.graph_id,staticClass:"btn-group btn-group-toggle custom-reports-icons my-2",attrs:{"data-toggle":"buttons"}},[e("label",{staticClass:"btn btn_cstm GraphViewList",class:[{active:t.capitalizeChartType(t.popupItem.chartType)===a.graph_name?a.graph_name:null===t.popupItem.chartType&&"Table"===a.graph_name}],attrs:{for:"cls_usertype",id:a.graph_id},on:{click:function(e){return t.selectGraphViewLists(a.graph_name)}}},[e("input",{attrs:{type:"radio",name:a.graph_id,id:a.graph_id},domProps:{value:a.graph_id}}),e("span",{staticClass:"d-block pb-2"},[e("em",{class:a.graph_image+" bg-transparent"})]),t._v(" "+t._s(t.$t(a.graph_name))+" ")])])})),0)])])])])]),t.isLoading?e("loader"):t._e()],1)},gt=[],ft=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"DatePopUp dynamicdb divtimer_design p-1",attrs:{id:"DivTimer_"+t.pgaction,"data-pageaction":t.pgaction}},[e("table",{staticClass:"table-responsive AssetDatePopUp d-block"},[e("tbody",{staticClass:"daterangebody"},[e("tr",{ref:"daterange",staticClass:"daterangetr"},[e("td",{staticClass:"sep daterangetd"},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"1"}},[e("a",{staticClass:"Today",attrs:{title:t.$t("Today"),id:"aToday",typ:"Today"},on:{click:function(e){return t.ClickTimer("Today",this,t.pgaction)}}},[t._v(t._s(t.$t("Today")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin1","aria-hidden":"true"}})]),e("li",{attrs:{id:"2"}},[e("a",{staticClass:"Yesterday",attrs:{title:t.$t("Yesterday"),id:"aYesterday",typ:"Yesterday"},on:{click:function(e){return t.ClickTimer("Yesterday",this,t.pgaction)}}},[t._v(t._s(t.$t("Yesterday")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 inpinner pinhide",attrs:{id:"pin2","aria-hidden":"true"}})]),e("li",{attrs:{id:"3"}},[e("a",{staticClass:"Week",attrs:{title:t.$t("ThisWeek"),id:"aWeek",typ:"Week"},on:{click:function(e){return t.ClickTimer("Week",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin3","aria-hidden":"true"}})]),e("li",{attrs:{id:"4"}},[e("a",{staticClass:"AllTime",attrs:{title:t.$t("AllTime"),id:"aAll",typ:"AllTime"},on:{click:function(e){return t.ClickTimer("AllTime",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisYear")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin4","aria-hidden":"true"}})])])]),e("td",{staticClass:"daterangetd",attrs:{valign:"top"}},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"5"}},[e("a",{staticClass:"LastWeek",attrs:{id:"aLastWeek",typ:"LastWeek",title:t.$t("LastWeek")},on:{click:function(e){return t.ClickTimer("LastWeek",this,t.pgaction)}}},[t._v(t._s(t.$t("LastWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin5","aria-hidden":"true"}})]),e("li",{attrs:{id:"6"}},[e("a",{staticClass:"Month",attrs:{id:"aMonth",typ:"Month",title:t.$t("ThisMonth")},on:{click:function(e){return t.ClickTimer("Month",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin6","aria-hidden":"true"}})]),e("li",{attrs:{id:"7"}},[e("a",{staticClass:"LastMonth",attrs:{id:"aLastMonth",typ:"LastMonth",title:t.$t("LastMonth")},on:{click:function(e){return t.ClickTimer("LastMonth",this,t.pgaction)}}},[t._v(t._s(t.$t("LastMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin7","aria-hidden":"true"}})])])])])])]),e("div",{staticClass:"d-flex justify-content-between align-items-end daterangetr",staticStyle:{"column-gap":"10px"}},[e("div",{staticClass:"table_datepickerfix"},[e("label",[t._v("From")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none FromDate form-control p-1",attrs:{id:"txtFromDateReport_"+t.pgaction,name:"startDate"},domProps:{value:a}},s))]}}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("div",{staticClass:"table_datepickerfix"},[e("label",[t._v("To")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none ToDate form-control p-1",attrs:{id:"txtToDateReport_"+t.pgaction,name:"endDate"},domProps:{value:a}},s))]}}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("div",{staticClass:"table_datepickerfix"},[e("input",{staticClass:"btn btn-success float-left p-1 p-1 pl-4 pr-4",attrs:{type:"button",id:"btnsearch_"+t.pgaction,"data-result":"btnsearch",value:"Go"},on:{click:function(e){return t.searchGoReportclick(this,t.pgaction,"DateFilterAdded")}}})])])]),e("input",{attrs:{type:"hidden",id:"hdnDateSpan",value:"Month",title:"hidden ctr for keeping current Search type Like week, month and day."}}),e("input",{attrs:{type:"hidden",id:"ReportViewer",name:"returnType"}}),e("input",{attrs:{type:"hidden",id:"pgaction",name:"pgaction"},domProps:{value:t.pgaction}}),e("input",{attrs:{type:"hidden",id:"hdnViewId",name:"viewid"}}),e("input",{attrs:{type:"hidden",id:"hdnPinnedViewId",name:"viewid"}})])},vt=[],bt={props:{popupItem:{type:Object},pgaction:null},data(){return{isLoading:!1,fromDate:null,toDate:null,eval:"",evaltype:"",showPin:!1}},created(){void 0!=this.popupItem.dateSpan?(this.fromDate=this.popupItem.fromDate,this.toDate=this.popupItem.toDate):this.ClickTimer("Week",this,this.pgaction)},mounted(){$("#DivTimer_global").addClass("d-none")},methods:{searchGoReportclick(t,e,a){var s=this;s.$emit("set-date-report",$("#txtFromDateReport_"+e).val(),$("#txtToDateReport_"+e).val(),{UserInputAction:a}),s.$parent.closePopup()},SearchRecord(t,e){var a=e,s=$("#txtFromDate_"+a).val(),i=$("#txtToDate_"+a).val(),r=$(t).closest(".ticketingDashboardHead").attr("dctrl"),o=$(t).closest(".ticketingDashboardHead").attr("daction"),l=$(t).closest(".ticketingDashboardHead").find(".reportBlock");$.ajax({url:"/"+r+"/"+o,data:{fromDate:s,toDate:i},type:"get",async:!0,cache:!1,success:function(t){l.empty(),l.append(t)},error:function(){}})},ClickTimer(t,e,a){var s=this;$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),"global"==$(e).closest("div.DatePopUp").attr("data-pageaction")?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),s.isLoading=!0,s.FadeInOut1(e),$("#dashbord-graph-widget").find(".ticketingDashboardHead").each((function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()})),"Today"==t?s.GetStartEndDates(t,e,a):"Yesterday"==t?s.GetStartEndDates("yesterday",e,a):"Week"==t?s.GetStartEndDates("thisweek",e,a):"LastWeek"==t?s.GetStartEndDates("lastweek",e,a):"Month"==t?s.GetStartEndDates("thismonth",e,a):"LastMonth"==t?s.GetStartEndDates("lastmonth",e,a):"AllTime"==t&&s.GetStartEndDates("thisyear",e,a),s.isLoading=!1):("Today"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates(t,e,a)):"Yesterday"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates("yesterday",e,a)):"Week"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),s.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),s.GetStartEndDates("lastweek",e,a)):"Month"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),s.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),s.GetStartEndDates("lastmonth",e,a)):"AllTime"==t&&($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates("thisyear",e,a)),s.FadeInOut1(e)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show()},FadeInOut(){$("#DivTimer").toggle()},FadeInOut1(t){var e=$(t).closest(".date_range").find("#pgaction").val();$(t).closest(".date_range").find("#DivTimer_"+e).toggle()},GetStartEndDates(t,e,a){var s=this;s.isLoading=!0;var i=`DateSpan=${t.toLowerCase()}&report=${$("#hdnGroupBy").val()}`;l["a"].GetStartEndDate_New(i).then((function(t){s.isLoading=!1;var e=t.data;s.fromDate=e.dateStart,s.toDate=e.dateEnd,$("#txtFromDate_"+a).val(e.dateStart),$("#txtToDate_"+a).val(e.dateEnd),$("#aDateLable_"+a).find("em").text(e.displayText)}))}}},_t=bt,Ct=(a("50fd"),Object(c["a"])(_t,ft,vt,!1,null,"ff26b886",null)),yt=Ct.exports,Dt={components:{daterangereport:yt},props:{popupItem:null,contentType:String,moduleCode:null,index:null,dashboardid:null},data:function(){return{hoveredGraphView:null,isLoading:!1,fromDate:null,toDate:null,GraphViewList:[{graph_id:1,graph_type:"line",graph_name:"Line",graph_image:"fa fa-line-chart"},{graph_id:2,graph_type:"bar",graph_name:"Bar",graph_image:"fa fa-bar-chart"},{graph_id:3,graph_type:"horizontal_bar",graph_name:"Horizontal_Bar",graph_image:"fa fa-bar-chart"},{graph_id:4,graph_type:"pie",graph_name:"Pie",graph_image:"fa fa-pie-chart"},{graph_id:5,graph_type:"donut",graph_name:"Donut",graph_image:"fa fa-circle-o-notch"},{graph_id:6,graph_type:"table",graph_name:"Table",graph_image:"fa fa-bars"}]}},created(){},mounted(){$("#modalprojectquickviewpopaddreport").modal("show")},methods:{closePopupOutside(t){t.target.closest(".modal-dialog")||this.$emit("close-popup")},capitalizeChartType(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""},SetDateRangeReport(t,e,a){this.popupItem.fromDate=t,this.popupItem.toDate=e,this.popupItem.dateSpan=a.UserInputAction},setHoveredGraphView(t){this.hoveredGraphView=t},clearHoveredGraphView(){this.hoveredGraphView=null},closePopup(){this.$emit("close-popup")},selectGraphViewLists(t){this.popupItem.chartType=t;var e=document.getElementsByClassName("modal-backdrop fade show");e.length>0&&e[0].remove(),$("body").removeClass("modal-open"),this.$emit("close-popup")},saveChangeChart(){this.$emit("close-popup")}}},Tt=Dt,St=(a("0534"),Object(c["a"])(Tt,mt,gt,!1,null,"d910ae32",null)),kt=St.exports,wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"onlyd-view onlytodo_kb"},[e("div",{staticClass:"canvan-view-list kvfixhead kvminwidth"},t._l(t.DataArray,(function(a,s){return e("div",{key:s,class:a.className},[1==a.show?e("h3",[t._v(t._s(a.count)),e("span",[t._v(t._s(t.$t(a.name))+" ")])]):t._e(),e("div",{staticClass:"w-100"},[e("draggable",{staticClass:"list-group",attrs:{list:a.data,options:{group:"clothes"},"data-status":a.name},on:{start:t.onStart,end:t.onEnd,change:function(e){return t.ChangeStatusDrag(e,a.StatusId)}}},t._l(a.data,(function(s,i){return e("div",{key:i,class:a.className},[e("div",{staticClass:"card card-exp"},[e("div",{staticClass:"card-header"},[e("h4",[e("span",{staticClass:"text-capitalize text-primary",attrs:{title:s.TASK_NAME}},[t._v(t._s(t._f("truncate")(s.TASK_NAME,20,"...")))]),e("a",{staticClass:"nostylelink mr-3 float-right",attrs:{"data-toggle-tooltip":"tooltip",title:"View",href:"javascript:;",value:s.PROJECT_ID,attr:s.PROJECT_ID},on:{click:function(e){return t.ProjectQuickView(s.PROJECT_ID,s.TASK_ID,s)}}},[e("em",{staticClass:"float-right fa fa-eye",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"verticle-action mt-1"},[e("em",{staticClass:"fa fa-ellipsis-v action_icon_cv",staticStyle:{width:"10px"},attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"action-list-box small"},[e("span",{staticClass:"list-actions fsm-list",attrs:{id:"action-list"}},[e("div",{staticClass:"float-left"},[e("div",{staticClass:"float-left"},["MANUALLY_BASED"==s.PROJECTTASKPROGRESS?e("a",{class:"completed"==s.STATUS.toLowerCase()?"update actions-onclick disabled_icon":"update actions-onclick",staticStyle:{cursor:"pointer"},attrs:{"data-toggle":"modal",checkPrivilege:"yes",href:"javascript:;","data-placement":"left",title:"Update Progress"},on:{click:function(e){return t.ProgressDivOpen(s)}}},[e("em",{staticClass:"fa fa-pencil action-icon"}),e("span",{staticClass:"text"},[t._v("Update Progress")])]):t._e(),"HR"!=t.ModuleNameAll&&"Ticketing"!=t.ModuleNameAll?e("a",{staticClass:"update actions-onclick",class:s.IS_APPROVE_REJECT>0||-1==["ACT","REFPEN","PNPGRS"].indexOf(s.PROJECT_STATUS_ID)&&null==s.LINKED_SOURCE_NAME?"edit-list disabled_icon":"edit-list",attrs:{title:"Request Time","data-placement":"left",href:"javascript:;"},on:{click:function(e){return t.RequestTimeBtn(s)}}},[e("em",{staticClass:"fa fa-reply text-dark"}),e("span",{staticClass:"text"},[t._v("Request Time")])]):t._e(),e("a",{staticClass:"update actions-onclick",attrs:{title:"QuickView","data-placement":"left",value:s.PROJECT_ID,href:"javascript:;",attr:s.PROJECT_ID},on:{click:function(e){return t.ProjectQuickView(s.PROJECT_ID,s.TASK_ID,s)}}},[e("em",{staticClass:"fa fa-eye text-info action-icon"}),e("span",{staticClass:"text"},[t._v("Quick View")])])])]),e("em",{staticClass:"fa fa-times close close-action_cv cursor-pointer",attrs:{"aria-hidden":"true"}})])])])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"spac-eq text-capitalize text-dark"},[e("b",[e("em",{staticClass:"fa fa-folder-o"}),t._v(" "),e("span",[t._v(t._s(t._f("truncate")(s.PROJECT_NAME,20,"...")))])])]),null!=s.TASK_DESCRIPTION&&""!=s.TASK_DESCRIPTION?e("div",{staticClass:"spac-eq"},[e("em",{staticClass:"fa fa-file-text"}),e("span",{domProps:{innerHTML:t._s(s.TASK_DESCRIPTION)}})]):e("div",{staticClass:"spac-eq"},[e("em",{staticClass:"fa fa-file-text"}),t._v(" -")]),e("div",{staticClass:"spac-eq"},[e("em",{staticClass:"fa fa-calendar"}),t._v(" "+t._s(s.START_DATE)+" - "+t._s(s.END_DATE)+" "+t._s(t.ModuleNameAll)+" "),"HR"!=t.ModuleNameAll&&"Expenses"!=t.ModuleNameAll?e("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(e){return t.openNoteListPopUp(s,i)}}},[e("em",{staticClass:"fa fa-file-text-o actionicon_20",staticStyle:{"margin-right":"5px"},attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-orange"},[t._v(t._s(null==s.NOTES_COUNT?0:s.NOTES_COUNT))])]):t._e()]),e("div",{staticClass:"spac-eq"},[e("span",[e("em",{staticClass:"fa fa-clock-o"}),s.TRACKED_HOURS>0?e("span",{staticClass:"blue-time pl-1"},[t._v(t._s(t.convertSecondsToHHMMSSNew(s.TRACKED_HOURS))+" of")]):t._e(),e("span",{staticClass:"blue-time pl-1"},[t._v(t._s(s.ALLOCATE_HOURS)+" "+t._s(t.$t("Hrsshort"))+" ")])]),"HR"!=t.ModuleNameAll&&"Ticketing"!=s.PROJECT_NAME?e("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;",attr:s.PROJECT_ID},on:{click:function(e){return t.ProjectQuickView(s.PROJECT_ID,s.TASK_ID,s,"attachment")}}},[e("em",{staticClass:"fa fa-paperclip",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(null==s.FILE_COUNT?0:s.FILE_COUNT))])]):"HR"!=t.ModuleNameAll&&"Ticketing"==s.PROJECT_NAME?e("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;",attr:s.PROJECT_ID},on:{click:function(e){t.$("#DivViewDetails").data({ticketId:s.LINKED_SOURCE_ID,status:s.STATUS,number:s.TASK_NAME}).dialog("open")}}},[e("em",{staticClass:"fa fa-paperclip",staticStyle:{"font-size":"20px","margin-right":"5px"},attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(null==s.FILE_COUNT?0:s.FILE_COUNT))])]):t._e()]),e("div",{staticClass:"spac-eq text-capitalize"},[e("b",[e("em",{staticClass:"fa fa-user"}),t._v(" "),e("span",[t._v(t._s(s.NAME))])]),"HR"!=t.ModuleNameAll?e("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(e){return t.OpenCommentModel(s)}}},[e("em",{staticClass:"fa fa-commenting-o",staticStyle:{"font-size":"20px"},attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-green"},[t._v(t._s(null==s.COMMENT_COUNT?0:s.COMMENT_COUNT))])]):t._e()]),""!=s.TAG_NAME?e("div",{staticClass:"spac-eq"},[e("em",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._l(s.TAG_NAME,(function(a,s){return e("span",{key:s,staticClass:"tags-dashbm"},[t._v(" "+t._s(a.TAG_NAME)+" ")])}))],2):e("div",{directives:[{name:"show",rawName:"v-show",value:"Expenses"!=t.ModuleNameAll,expression:"ModuleNameAll != 'Expenses'"}],staticClass:"spac-eq"},[e("em",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v(" - ")]),""!=s.PRIORITY_NAME&&"null"!=s.PRIORITY_NAME&&null!=s.PRIORITY_NAME?e("div",{staticClass:"spac-eq"},[e("span",{class:{badge:!0,"text-critical-badge":"Critical"==s.PRIORITY_NAME,"text-medium-badge":"Medium"==s.PRIORITY_NAME,"text-low-badge":"Low"==s.PRIORITY_NAME},attrs:{id:"priority-badge"}},[t._v(t._s(s.PRIORITY_NAME))])]):t._e(),e("div",{staticClass:"spac-eq border-top text-center"},[e("div",{staticClass:"time"},[e("div",{class:"c100 small p"+parseInt(t.showTrackPercent(s),10)},[e("span",[t._v(t._s(t.showTrackPercent(s))+"%")]),e("div",{staticClass:"slice"},[e("div",{class:{bar:t.showTrackPercent(s)>0}}),e("div",{staticClass:"fill"})])]),e("span",{staticClass:"t-title"},[t._v(t._s(t.$t("TimeLeft"))+" ")])]),e("div",{staticClass:"Task"},["MANUALLY_BASED"==s.PROJECTTASKPROGRESS?e("div",{class:"cursor-pointer c100 small green p"+parseInt(s.PROGRESS,10),on:{click:function(e){return t.ProgressDivOpen(s)}}},[e("span",[t._v(t._s(s.PROGRESS)+"%")]),e("div",{staticClass:"slice"},[e("div",{class:{bar:s.PROGRESS>0}}),e("div",{staticClass:"fill"})])]):t._e(),"MANUALLY_BASED"!=s.PROJECTTASKPROGRESS?e("div",{class:"c100 small green p"+parseInt(s.PROGRESS,10)},[e("span",[t._v(t._s(s.PROGRESS)+"%")]),e("div",{staticClass:"slice"},[e("div",{class:{bar:s.PROGRESS>0}}),e("div",{staticClass:"fill"})])]):t._e(),e("span",{staticClass:"t-title"},[t._v(t._s(t.$t("TaskProgress")))])])]),e("div",{staticClass:"spac-eq border-top text-center"},[s.AutomaticBtn?e("div",{staticClass:"timerbx green",attrs:{id:"TotalTime"}}):t._e(),"PAUS"==s.RUNNING_STATUS||"ACT"==s.RUNNING_STATUS?e("div",["ACT"==t.store.getTimer.statusCode&&"yes"!=t.store.getTimer.enableBreak?e("button",{staticClass:"btn Timertodo btn-info",attrs:{type:"button"},on:{click:function(e){return t.timerStopOrPause("pause","TimeTrack")}}},[e("span",{staticClass:"tag-name"},[t._v(t._s(t.$t("Pause")))])]):t._e(),t._v(" "),"PAUS"==t.store.getTimer.statusCode&&"yes"!=t.store.getTimer.enableBreak?e("button",{staticClass:"btn Timer btn-success",attrs:{type:"button"},on:{click:function(e){return t.timerStopOrPause("resume","TimeTrack")}}},[e("span",{staticClass:"tag-name"},[t._v(t._s(t.$t("Resume")))])]):t._e(),t._v(" "),"PAUS"==s.RUNNING_STATUS||"ACT"==s.RUNNING_STATUS?e("button",{staticClass:"btn Timer btn-danger",attrs:{type:"button"},on:{click:function(e){return t.timerStopOrPause("stop","TimeTrack")}}},[e("span",{staticClass:"tag-name"},[t._v(t._s(t.$t("Stop")))])]):t._e()]):e("div",[e("button",{class:"completed"==s.STATUS.toLowerCase()?"btn Timer manually-time inactive-disabled":"btn Timer manually-time",attrs:{disabled:"silentapp"==t.store.getTimer.trackAgent,type:"button","data-toggle":"modal",href:"javascript:;"},on:{click:function(e){return t.manualyAddTime(s)}}},[e("span",{staticClass:"tag-name"},[e("em",{staticClass:"fa fa-clock-o mr-1"}),t._v(t._s(t.$t("AddManually")))])]),t._v(" "),e("button",{class:"completed"==s.STATUS.toLowerCase()?"btn Timer auto-time inactive-disabled":"btn Timer auto-time",attrs:{disabled:"silentapp"==t.store.getTimer.trackAgent,type:"button","data-toggle":"modal",href:"javascript:;"},on:{click:function(e){return t.automaticStart(s)}}},[e("span",{staticClass:"tag-name"},[e("em",{staticClass:"fa fa-history mr-1"}),t._v(t._s(t.$t("Automatic"))+" ")])])])])])])])})),0)],1)])})),0),t.addManualShow?e("AddManualModal",{attrs:{manualData:t.trackerData,store:t.store},on:{close:function(e){t.addManualShow=!1},closeUpdateModal:function(e){return t.FetchData("kanban","")}}}):t._e(),t.commentsShow?e("Comments",{attrs:{manualData:t.trackerData,store:t.store},on:{close:function(e){t.commentsShow=!1},closeUpdateModal:function(e){return t.FetchData("kanban","")}}}):t._e(),t.requestShow?e("RequestTimeModal",{attrs:{manualData:t.trackerData,store:t.store},on:{close:function(e){t.requestShow=!1},closeUpdateModal:function(e){return t.FetchData("kanban","")}}}):t._e(),t.ShowManageProjectQuickView?e("Files",{attrs:{store:t.store},on:{close:function(e){t.ShowManageProjectQuickView=!1},closeUpdateModal:function(e){return t.FetchData("kanban","")}}}):t._e(),t.showAddNoteModal?e("AddNote",{attrs:{taskid:t.TaskId1,store:t.store},on:{close:function(e){t.showAddNoteModal=!1,t.modalNoteItem=null},closeUpdateModal:function(e){return t.FetchData("kanban","")}}},[e("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.header)+" ")])]):t._e(),t.showNoteModal?e("NoteListPopUp",{attrs:{userid:this.store.getUserInformation.id,reqfrom:"dashboard",store:t.store},on:{close:function(e){t.showNoteModal=!1,t.modalNoteTaskItem=null}}},[e("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("Notes"))+" ")])]):t._e(),t.showUpdateProgressModal?e("UpdateProgress",{attrs:{store:t.store},on:{close:function(e){t.showUpdateProgressModal=!1},closeUpdateModal:function(e){return t.FetchData("kanban","")}}}):t._e(),t.showTrackLocationModal?e("modaltracklocation",{attrs:{store:t.store},on:{close:function(e){t.showTrackLocationModal=!1}}},[e("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Location")))])]):t._e()],1)},xt=[],It=a("c1df"),At=a.n(It),$t=a("b9b9"),Et=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog ui-draggable",staticStyle:{display:"inline-block"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle"},[e("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[t._v(t._s(t.$t("AddedManually")))]),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"backgroundPopup"}},[e("span",{staticClass:"user-guide"},[e("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReply",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v("User Guide")]),e("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReply"}},[e("div",{staticClass:"custom-scrollbar-js",staticStyle:{overflow:"auto"},attrs:{id:"scrollbarreplyuserguide"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("User_Guide_AddMannualy"))}})])])]),e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("section",{staticClass:"main-content"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"p-0"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),a(t.submit)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3",attrs:{id:"divStarttime24"}},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("EventStartTime"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group mb-3"},[e("vue-timepicker",{staticClass:"w-100",attrs:{format:"HH:mm","hide-clear-button":""},on:{input:t.getTimeDiff},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1)])]),e("div",{staticClass:"col-md-3",attrs:{id:"divStoptime24"}},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("StopTime"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group mb-3"},[e("vue-timepicker",{staticClass:"w-100",attrs:{format:"HH:mm","hide-clear-button":""},on:{input:t.getTimeDiff},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("TimeTracked"))+":")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualData.totalHours,expression:"manualData.totalHours"}],staticClass:"DivTimer digitalbg DivTimer_hs form-control",attrs:{type:"text",disabled:""},domProps:{value:t.manualData.totalHours},on:{input:function(e){e.target.composing||t.$set(t.manualData,"totalHours",e.target.value)}}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group newtimertracked"},[e("label",[t._v(t._s(t.$t("SelectDate"))+":")]),e("div",{staticClass:"mb-3"},[e("DatePicker",{staticClass:"d-flex",attrs:{popover:!1},scopedSlots:t._u([{key:"default",fn:function({togglePopover:a,inputValue:s,inputEvents:i}){return[e("input",t._g({staticClass:"form-control datepicker_HS",attrs:{placeholder:"M/D/YYYY"},domProps:{value:s}},i)),e("div",{staticClass:"input-group-append cursor-pointer",on:{click:a}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Billable"}},[t._v(t._s(t.$t("Billable")))]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"switch"},[e("input",{staticClass:"form-check-input dynamic custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",id:"Billable","data-change-id":"no",checked:"checked",value:""}}),t._v(" "),e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v(t._s(t.$t("Yes")))]),t._v(" "),e("span",{staticClass:"slider-no"},[t._v(t._s(t.$t("No")))])])])])])]),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"FormControlTextarea1"}},[t._v(t._s(t.$t("communicationTypeDescription"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{staticClass:"tt_textarea_span position-relative",attrs:{rules:"required",name:"Description"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.manualData.trackDescription,expression:"manualData.trackDescription"}],staticClass:"form-control",class:a[0]?"is-invalid":"",staticStyle:{"border-color":"#BDBCBD",resize:"none"},attrs:{name:"Description",placeholder:t.$t("PleaseEnterDescription"),maxlength:"2000"},domProps:{value:t.manualData.trackDescription},on:{input:function(e){e.target.composing||t.$set(t.manualData,"trackDescription",e.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),e("button",{staticClass:"btn btn-danger",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])]}}])})],1)])])])])])])])]),e("Alert",{attrs:{type:t.store.getAlertMessage.type,message:t.store.getAlertMessage.message,open:t.store.getAlertMessage.open},on:{close:function(e){t.store.$state.getMessageAlert.open=!1}}})],1)},Rt=[],Nt=a("ed09");const Pt=Object(D["c"])("TimeTracker",{state:()=>({headingInactivityTab:"ActivitiesDoneByYou",timerCountInSec:0,breakTimerCountInSec:0,totalBreakRemainTime:0,timerInfo:"",projects:[],tasks:[],breakTimerList:[],loading:!1,timerListing:[],timerRunResponse:"",timerClock:"00:00:00",breakTimerClock:"00:00:00",interval:"",breakInterval:"",timerlistingByTrackId:[],selectedValues:[],selectedValuesWithTypeofObject:[],getMessageAlert:{type:"",open:!1,message:""},timerTags:[],dateFilterType:"Today",From:"",To:"",addManualResponse:"",tagResponseSave:"",tagsSaveForListing:"",expendListRow:!0,clientsProject:[],pmProject:[],requestTimeResponse:"",commentResponse:"",addManualBreakResponse:"",commetListingState:[],timerTeamStatusState:[],projectWithTasksState:[],trackEntryFlagState:[],updateTrackEntryResState:"",timerUserTaskViewState:[],activityListState:[],breakDetailsState:"",viewType:!1}),getters:{getTimer:t=>t.timerInfo,getProjectsByUser:t=>t.projects,getTasksFromProject:t=>t.tasks,getLoadingStatus:t=>t.loading,getBreakTimeList:t=>t.breakTimerList,getTimerRunResponse:t=>t.timerRunResponse,getTimerClock:t=>t.timerClock,getUserInformation:()=>{const{user:t}=Object(T["b"])();return t.profile},getTimerListing:t=>t.timerListing,getTimerRunResponse:t=>t.timerRunResponse,getTimerClock:t=>t.timerClock,getBreakTimerClock:t=>t.breakTimerClock,getTimerListingFromTrackId:t=>t.timerlistingByTrackId,getMessage:t=>t.getMessageAlert,getTags:t=>t.timerTags,getAlertMessage:t=>t.getMessageAlert,getTagSaveRes:t=>t.tagResponseSave,tagsSaveForListingResponse:t=>t.tagsSaveForListing,getclientsProject:t=>t.clientsProject,getPmProject:t=>t.pmProject,getRequestTimeResponse:t=>t.requestTimeResponse,getCommentResponse:t=>t.commentResponse,getAddManualBreakResponse:t=>t.addManualBreakResponse,getCommentListing:t=>t.commetListingState,getTimerTeamStatusState:t=>t.timerTeamStatusState,getProjectWithTasks:t=>t.projectWithTasksState,getTrackEntryFlag:t=>t.trackEntryFlagState,getUpdateTrackEntryRes:t=>t.updateTrackEntryResState,getTimerUserTaskViewState:t=>t.timerUserTaskViewState,getActivityList:t=>t.activityListState,getbreakDetails:t=>t.breakDetailsState},actions:{loaderStatus(t){this.loading=t},alertBOxForMessage(t){this.getMessageAlert=t},async submitProjectInfo(t){this.loading=!0;try{const{data:e}=await l["a"].SaveProjectInfo(t);if(this.getMessageAlert=e,this.timerRunResponse=e,e.userMsg){e.userMsg}e.status}catch(e){console.log(e)}this.loading=!1},async getProjects(t){this.loading=!0;try{let e=t>0?"user_Id="+t:"user_Id=0";const{data:a}=await l["a"].GetTimerProjectsByUserID(e);this.projects=null===a||void 0===a?void 0:a.res}catch(e){}this.loading=!1},async loadTasks(t,e){this.loading=!0;try{e=e>0?e:0;let a=`projectId=${t}&userId=${e}`;const{data:s}=await l["a"].LoadTasks(a);this.tasks=s.map(t=>(0==Number(t.secondAttribute)&&(t.isDisabled=!0),t)),this.tasks=this.buildHierarchy(this.tasks)}catch(a){}this.loading=!1},async getTimerInfo(){this.loading=!0;try{const{data:t}=await l["a"].GetIncompleteEntry();this.timerInfo=t.result[0]}catch(t){}this.loading=!1},async getBreakTime(){this.breakTimerList=[],this.loading=!0;try{var t;const{data:e}=await l["a"].GetBreakTimeList();null===e||void 0===e||null===(t=e.result)||void 0===t||t.map(t=>{this.breakTimerList.push({name:t.breakDetail,value:t.breakId,breakDuration:t.breakDuration,isBillable:t.isBillable,isPaid:t.isPaid})})}catch(e){}this.loading=!1},async GetTimerListingByTrackId(t){this.loading=!0;try{const{data:e}=await l["a"].GetTimerListingByTrackId(t);this.timerlistingByTrackId=e}catch(e){}this.loading=!1},async getTimerListing1(t){this.loading=!0;try{const{data:e}=await l["a"].GetTimerListing(t);this.timerListing=e}catch(e){}this.loading=!1},setTimerClock(t){this.timerClock=Object($t["formatter"])(t)},startTimer(){clearInterval(this.interval),clearInterval(this.breakInterval),this.interval=window.setInterval(()=>{this.timerCountInSec++,this.setTimerClock(this.timerCountInSec)},1e3)},stopTimer(){clearInterval(this.interval)},breakSetTimerClock(t){this.breakTimerClock=Object($t["formatter"])(t)},breakStartTimer(){clearInterval(this.breakInterval),clearInterval(this.interval),this.breakInterval=setInterval(()=>{this.breakTimerCountInSec--,this.breakSetTimerClock(this.breakTimerCountInSec,"positive")},1e3)},breakStopTimer(){clearInterval(this.breakInterval)},async addManualyTimer(t){try{const{data:e}=await l["a"].AddManually(t);this.getMessageAlert=e,this.addManualResponse=e}catch(e){console.log("data",e)}},async tagGetForTimer(){try{const{data:t}=await l["a"].GetCompanyTaglist();this.timerTags=t.result}catch(t){console.log("data",t)}},async deleteChildTimer(t){try{const{data:e}=await l["a"].DeleteByTrackId(t);e.msg="success"}catch(e){console.log(e)}},async tagsSave(t){try{const{data:e}=await l["a"].SaveTagPopUp(t);this.tagResponseSave=e}catch(e){}},async UpdateOrDeleteEntries(t){try{const{data:e}=await l["a"].setAction(t);this.tagsSaveForListing=e}catch(e){}},async requestTime(t){try{const{data:e}=await l["a"].RequestTime(t);this.requestTimeResponse=e,e&&("Success"==e.status||e.status)}catch(e){}},async commetsFromClient(t){try{const{data:e}=await l["a"].Comments(t);this.commentResponse=e.result.result,e.result.result&&("Success"==e.result.result.status||e.result.result.status)}catch(e){}},async pmGetFromProjectId(t){try{const{data:e}=await l["a"].PMGetfromProject(t);this.pmProject=e.result.DATA}catch(e){}},async clientsGetFromProjectId(t){try{const{data:e}=await l["a"].ClientsGetFromProject(t);this.clientsProject=e.result.DATA}catch(e){}},async addManualBreak(t){try{const{data:e}=await l["a"].AddManuallyBreak(t);this.addManualBreakResponse=e}catch(e){console.log("abc")}},async commetListing(t){this.loading=!0;try{const{data:e}=await l["a"].CommentListing(t);this.commetListingState=e}catch(e){}this.loading=!1},async TimerTeamStatus(t){this.loading=!0;try{this.timerTeamStatusState=[];const{data:e}=await l["a"].TimerTeamStatus(t);this.timerTeamStatusState=e.result}catch(e){}this.loading=!1},async TimerUserTaskView(t){this.loading=!0;try{const{data:e}=await l["a"].GetTimerUserTaskView(t);this.timerUserTaskViewState=e.result}catch(e){}this.loading=!1},async projectWithTasks(){try{const{data:t}=await l["a"].GetProjectWithTasks();this.projectWithTasksState=t.map(t=>(t.tasks.map(t=>(t.projectName=t.taskName,t.projectId=t.taskId,t)),t))}catch(t){}},async trackEntryFlag(t){try{const{data:e}=await l["a"].TrackEntryFlag(t);this.trackEntryFlagState=e}catch(e){}},async updateTrackEntry(t){try{const{data:e}=await l["a"].UpdateTimeTrackEntry(t);this.updateTrackEntryResState=e}catch(e){}},async getTrackedtimings(t){this.activityListState=[];const{data:e}=await l["a"].getTrackedtimings(t);this.activityListState=e},async getBreaksDetails(t){const{data:e}=await l["a"].GetBreaksDetails(t);this.breakDetailsState=e},buildHierarchy(t){const e={},a=[];return t.forEach(t=>{e[t.value]=t}),console.log("items",t),t.forEach(t=>{t.id=t.value,t.label=t.text;const s=t.parentValue;if(0!=s){const a=e[s];a&&(console.log("parent",a),a.children=a.children||[],a.children.push(t))}else a.push(t)}),a}}});var Mt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.open?e("div",{staticClass:"overlay",attrs:{id:"notifymessage"}},[e("div",{staticClass:"alert alert-dismissible fade show msg mw-90",class:t.typeClass,attrs:{role:"alert"}},[e("span",[t._v(t._s(t.message))]),e("button",{staticClass:"close p-1",staticStyle:{background:"none !important"},attrs:{type:"button",id:"closenotifymessage"},on:{click:function(e){t.$emit("close"),t.close()}}},[t._m(0)])])]):t._e()])},Ot=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("span",{attrs:{"aria-hidden":"true"}},[e("i",{staticClass:"fa fa-times text-secondary"})])}],Lt=Object(Nt["a"])({components:{},props:{message:{type:String},type:{type:String},open:{type:Boolean}},data(){return{typeClass:""}},created(){this.changeClassName()},methods:{changeClassName(){(this.type="error")?this.typeClass="alert-danger":(this.type="warning")?this.typeClass="alert-warning":this.typeClass="alert-success"},close(){this.open=!1,this.$emit("close")}}}),Ft=Lt,jt=Object(c["a"])(Ft,Mt,Ot,!1,null,null,null),Ut=jt.exports,Bt=a("97fc"),Gt=a.n(Bt),Vt=a("404b"),Ht=a.n(Vt);Object(y["d"])("required",{validate(t){return{required:!0,valid:-1===["",null,void 0].indexOf(t)}},message:"The {_field_} is required"});var Yt=Object(Nt["a"])({name:"Add Manual Break",components:{ValidationObserver:y["b"],Alert:Ut,VueTimepicker:Gt.a,DatePicker:Ht.a},props:{manualData:{type:Object}},data(){return{startTime:"00:00",endTime:"00:00",date:Object($t["dateAndTimeZone"])(At()())}},created:function(){this.manualData.trackDescription="",this.manualData.totalHours="",console.log("manuall",this.manualData)},methods:{async submit(){if(console.log("test",this.manualData),this.validHours()&&(this.store.$state.getMessageAlert="",await this.store.addManualyTimer(this.manualData),0==this.store.$state.getMessageAlert.status)){this.$emit("close");const t=`dateType=${this.store.$state.dateFilterType}&search=&toDate=&fromDate=&newTrackId=0`;this.store.getTimerListing1(t);const e=`dateType=${this.store.$state.dateFilterType}&type=list&toDate=&fromDate=`;this.store.getTrackedtimings(e)}},validHours(){let t=!1;if(this.startTime)if(this.endTime){if(this.startTime&&this.endTime){let e=At()(new Date(this.date),"YYYY-MM-DD").format("YYYY-MM-DD"),a=At()(e+" "+this.startTime,"YYYY-MM-DD HH:mm"),s=At()(e+" "+this.endTime,"YYYY-MM-DD HH:mm"),i=At()(Object($t["dateAndTimeZone"])(At()(),"YYYY-MM-DD HH:mm"));console.log("today",i),t=!0;let r=Object($t["getSecondsFromDate"])({startDate:At()(this.startTime,"hh:mm"),endDate:At()(this.endTime,"hh:mm")},"seconds");this.manualData.startDate=a.format("YYYY-MM-DD HH:mm:ss"),this.manualData.date=a.format("YYYY-MM-DD HH:mm:ss"),this.manualData.startTime=a.format("YYYY-MM-DD HH:mm:ss"),this.manualData.stopTime=s.format("YYYY-MM-DD HH:mm:ss"),this.manualData.totalHours=Object($t["formatter"])(r)}}else this.status=!1,this.store.alertBOxForMessage({type:"warning",open:!0,message:this.$t("PleaseEnterEndDate")});else this.status=!1,this.store.alertBOxForMessage({type:"warning",open:!0,message:this.$t("PleaseEnterStartDate")});return t},getTimeDiff(){if(this.startTime&&this.endTime){let t=At()(new Date(this.date),"YYYY-MM-DD").format("YYYY-MM-DD"),e=At()(t+" "+this.startTime,"YYYY-MM-DD HH:mm"),a=At()(t+" "+this.endTime,"YYYY-MM-DD HH:mm"),s=At()(Object($t["dateAndTimeZone"])(At()(),"YYYY-MM-DD HH:mm"));if(e.valueOf()>a.valueOf()||a.valueOf()>s.valueOf())this.manualData.totalHours="00:00:00";else{let t=Object($t["getSecondsFromDate"])({startDate:At()(this.startTime,"hh:mm"),endDate:At()(this.endTime,"hh:mm")},"seconds");this.manualData.totalHours=Object($t["formatter"])(t)}}}},setup(){const t=Pt();return{store:t}}}),qt=Yt,Wt=(a("2d2b"),Object(c["a"])(qt,Et,Rt,!1,null,null,null)),zt=Wt.exports,Kt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog ui-draggable",staticStyle:{display:"inline-block"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle"},[e("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[t._v(t._s(t.$t("Comments"))+" "+t._s(t.commentData.Title))]),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"backgroundPopup"}},[e("span",{staticClass:"user-guide"},[e("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReply",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v("User Guide")]),e("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReply"}},[e("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguide"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("User_Guide_Comments"))}})])])]),e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("section",{staticClass:"main-content"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"p-0"},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),a(t.submit)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("ValidationProvider",{staticClass:"tt_textarea_span position-relative",attrs:{rules:"required",name:"Comment"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",[t._v("Comments:"),e("span",{staticClass:"mandatory"},[t._v("*")])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentData.Comment,expression:"commentData.Comment"}],staticClass:"form-control",class:a[0]?"is-invalid":"",staticStyle:{"border-color":"#BDBCBD",resize:"none"},attrs:{placeholder:t.$t("WriteAComment"),name:"Comment",maxlength:"2000"},domProps:{value:t.commentData.Comment},on:{input:function(e){e.target.composing||t.$set(t.commentData,"Comment",e.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]?t.$t("CommentIsReq"):""))])]}}],null,!0)})],1)]),e("div",{staticClass:"row flex-row-reverse mt-2"},[e("div",{staticClass:"text-end text-right col-12"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save"))+" ")]),e("button",{staticClass:"btn btn-danger",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel"))+" ")])])])])]}}])})],1)])]),e("div",{staticClass:"col-12 tab-pane fade active show"},[0==t.store.getCommentListing.length?e("div",{staticClass:"row ticket-card-container card-view bg-border p-3"},[t._m(0)]):t._e()]),e("loader",{attrs:{isVisible:t.store.getLoadingStatus}}),0!=t.store.getCommentListing?e("div",{staticClass:"listing mt-4",attrs:{id:"divconversationbox"}},[e("div",{staticClass:"listing tab-content"},[e("div",{staticClass:"col-12 d-flex border border-bottom-0 bg-f5f5f5"},[t._m(1),e("div",{staticClass:"col-md-6 text-right pr-0 bottom_filter_button"},[e("a",{staticClass:"position-relative",staticStyle:{"z-index":"999"},attrs:{href:"javascript:;",id:"ancreplyExpandAllCollapseAll",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Expand All or Collapse All"},on:{click:t.expendOrcollapse}},[t._v("Expand All or Collapse All")])])]),t._l(t.store.getCommentListing,(function(a,s){return e("div",{key:s,staticClass:"tab-pane fade show activity-tab active pt-2",staticStyle:{"overflow-y":"auto","max-height":"500px"}},[e("div",{staticClass:"w-100",attrs:{id:"accordion"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse","aria-expanded":"isCollapsed(index)"},on:{click:function(e){return t.toggleCollapse(s)}}},[e("div",{staticClass:"conversation-date heading-border"},[e("span",[t.isCollapsed(s)?e("em",{staticClass:"fa fa-angle-up"}):e("em",{staticClass:"fa fa-angle-down"}),t._v(t._s(t.dateFormat(a.dateGroup)))])])])]),t.isCollapsed(s)?t._e():e("div",{staticClass:"collapse show",staticStyle:{display:"block"},attrs:{id:"collapseOne1requestcomment1"}},t._l(a.requestTimeCommentList,(function(a,s){return e("div",{key:s,staticClass:"card-body"},[e("div",{staticClass:"conversation-main"},[e("div",{staticClass:"conversation-time"},[e("span",[t._v(t._s(t.timeFormat(a.createdAt)))])]),e("div",{staticClass:"conversation-box-con"},[e("div",{staticClass:"conversation-box"},[e("div",{staticClass:"name-circle light-yellow"},[e("img",{staticClass:"img-circle avatar",attrs:{src:a.avatar,width:"51",height:"51",alt:""}})]),e("div",{staticClass:"conversation-header addednote-ticket"},[e("span",[e("span",{staticClass:"sender-name"},[t._v(t._s(a.userName))])])]),e("div",{staticClass:"conversation-header addednote-ticket"},[e("span",[e("span",{staticClass:"sender-department wordbreak"},[t._v(" "+t._s(a.comment))])])])])])])])})),0)])])])}))],2)]):t._e()],1)])])])])])])},Jt=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 mt-2 text-center"},[e("span",{staticClass:"text-danger"},[t._v("NoComments")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"col-md-6 pl-0"},[e("h6",{staticClass:"py-3 mb-0"},[t._v(" Comments ")])])}];Object(y["d"])("required",{validate(t){return{required:!0,valid:-1===["",null,void 0].indexOf(t)}}});var Qt=Object(Nt["a"])({name:"Comments",components:{ValidationProvider:y["c"],ValidationObserver:y["b"],VueTimepicker:Gt.a},props:{manualData:{type:Object},store:{type:Object}},data(){return{collapsedSections:[!1],MessageBoardId:0,expendCollapsedSections:[!1],commentData:{Title:"",Comment:"",MessageBoardId:0},messages:{MessageBoardContent:"",MessageBoardTitle:"",RefSourceName:"TaskComment",MessageType:"s",TaskId:"",ProjectId:"",UserList:[],MessageBoardId:0,type:"post",formData:{}},requestData:{title:"",comment:"",msgboardid:"",projectid:"",taskid:"",request_time_sec:"",file:"",clients:"",timeInHours:""}}},created:function(){this.commentData.Title=this.manualData.TASK_NAME,this.commentData.MessageBoardId=this.manualData.MESSAGE_BOARD_ID?this.manualData.MESSAGE_BOARD_ID:0,this.store.commetListing(`messageBoardId=${this.commentData.MessageBoardId}&taskId=${this.manualData.taskId}`),this.toggleCollapse(0)},methods:{isCollapsed(t){return this.collapsedSections[t]},toggleCollapse(t){this.$set(this.collapsedSections,t,!this.collapsedSections[t])},async submit(){this.commentData.MessageBoardId>0?(await this.store.commetsFromClient(this.commentData),"Success"==this.store.getCommentResponse.status&&(this.$emit("close"),this.$emit("closeUpdateModal"))):(this.messages.MessageBoardTitle=this.commentData.Title,this.messages.MessageBoardContent=this.commentData.Comment,this.messages.ProjectId=this.manualData.projectId,this.messages.TaskId=this.manualData.taskId,l["a"].Post(this.messages).then(t=>{this.MessageBoardId=t.data.msg,"0"==t.data.code&&(this.requestData.title=this.commentData.Title,this.requestData.comment=this.commentData.Comment,this.requestData.msgboardid=this.MessageBoardId,this.requestData.projectid=this.manualData.projectId,this.requestData.taskid=this.manualData.taskId,this.requestData.request_time_sec=0,l["a"].RequestTime(this.requestData).then(async t=>{"Success"==t.data.status&&null!=t.data.result&&""!=t.data.result&&(this.commentData.MessageBoardId=this.MessageBoardId,await this.store.commetsFromClient(this.commentData),"Success"==this.store.getCommentResponse.status&&(this.$emit("close"),this.$emit("closeUpdateModal")))})),this.$emit("close"),this.$emit("closeUpdateModal")}))},dateFormat(t){return Object($t["getPreviousDay"])(t)},timeFormat(t){return At()(t).format("HH:mm")},expendOrcollapse(){let t=!0;this.collapsedSections.map(e=>{e&&(t=!1)}),t?(this.collapsedSections=[],this.store.getCommentListing.map((t,e)=>{this.toggleCollapse(e)})):this.collapsedSections=[]}}}),Xt=Qt,Zt=Object(c["a"])(Xt,Kt,Jt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog ui-draggable",staticStyle:{display:"inline-block"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle"},[e("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[t._v(t._s(t.$t("RequestTime")))]),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"backgroundPopup"}},[e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("section",{staticClass:"main-content"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"p-0"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),a(t.submit)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("TrackedTime"))+":")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],staticClass:"form-control",attrs:{type:"text",disabled:"disabled"},domProps:{value:t.time},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",[t._v("Title:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.requestData.title,expression:"requestData.title"}],class:a[0]?"form-control is-invalid":"form-control",attrs:{type:"text",placeholder:"Title",maxlength:"100",name:"RequestTitle"},domProps:{value:t.requestData.title},on:{input:function(e){e.target.composing||t.$set(t.requestData,"title",e.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]?t.$t("ExpTitleRequired"):""))])])]}}],null,!0)})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",[t._v(t._s(t.$t("Time"))+":("+t._s(t.$t("InHours"))+")"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.requestData.timeInHours,expression:"requestData.timeInHours"}],class:a[0]?"form-control is-invalid":"form-control",attrs:{type:"text",maxlength:"4",name:"RequestHours"},domProps:{value:t.requestData.timeInHours},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||t.$set(t.requestData,"timeInHours",e.target.value)}}})]),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]?t.$t("TimeReq"):""))])]}}],null,!0)})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Select"))+":")]),e("div",{staticClass:"form-group pl-0 border-0"},[e("div",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientOrPm,expression:"clientOrPm"}],staticClass:"form-check-input custom-control-input",attrs:{type:"radio",id:"rdo_0",value:"1"},domProps:{checked:t._q(t.clientOrPm,"1")},on:{change:[function(e){t.clientOrPm="1"},t.clientsDropdownChange]}}),e("label",{staticClass:"custom-control-label",attrs:{for:"rdo_0"}})]),e("label",{staticClass:"form-check-label font-weight-normal",attrs:{for:"UserType"}},[t._v(" "+t._s(t.$t("CLFULL"))+" ")])]),e("div",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientOrPm,expression:"clientOrPm"}],staticClass:"form-check-input custom-control-input",attrs:{type:"radio",id:"rdo_1",value:"2"},domProps:{checked:t._q(t.clientOrPm,"2")},on:{change:[function(e){t.clientOrPm="2"},t.clientsDropdownChange]}}),e("label",{staticClass:"custom-control-label",attrs:{for:"rdo_1"}})]),e("label",{staticClass:"form-check-label font-weight-normal",attrs:{for:"UserType"}},[t._v(" "+t._s(t.$t("PM"))+" ")])])])])]),e("div",{staticClass:"col-md-6"},[1==t.clientOrPm?e("label",[t._v(t._s(t.$t("client_id"))),e("span",{staticClass:"text-danger"},[t._v("*")])]):e("label",[t._v(t._s(t.$t("SelectPm"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("multiselect",{ref:"selectClient",staticClass:"form-group p-0",attrs:{multiple:!0,"close-on-select":!1,placeholder:1==t.clientOrPm?t.$t("client_id"):t.$t("SelectPm"),options:1==t.clientOrPm?t.store.getclientsProject:t.store.getPmProject,label:1==t.clientOrPm?"CLIENTNAME":"USER_NAME","track-by":"USER_ID","show-labels":!1,id:"exampleFormControlSelect1"},on:{input:function(e){return t.setSelectedValue(e)}},model:{value:t.requestData.clients,callback:function(e){t.$set(t.requestData,"clients",e)},expression:"requestData.clients"}},[e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v(t._s(t.$t("No_Record_Found")))])])],1),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(" "+t._s(t.$t("UploadFile"))+":")]),t._v(" "),e("a",{attrs:{href:"javascript:;","data-toggle":"popoveruserguide","data-content":"<small class='form-text text-muted text-left'>Maximum upload size per file: 2 MB<br/>Disallowed File Types: .exe,.com,.js,.php,.asp,.aspx<br/></small>","data-original-title":"",title:""}},[e("i",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})]),e("div",{staticClass:"input-group"},[e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-inputs form-control",staticStyle:{position:"absolute",clip:"rect(0px, 0px, 0px, 0px)"},attrs:{type:"file",multiple:"",size:"4",name:"FileSrc","data-vv-as":"Image",tabindex:"-1",id:"filestyle-1"},on:{change:t.previewFiles}}),e("div",{staticClass:"bootstrap-filestyle input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"form-control disabled",attrs:{type:"text",disabled:""},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}}),e("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"}},[e("span",{staticClass:"group-span-filestyle input-group-btn input-group-text bg-white",attrs:{tabindex:"0"}},[e("label",{staticClass:"mb-0 font-weight-normal",attrs:{title:"Click here to select a file.",for:"filestyle-1"}},[t._v(t._s(t.$t("FileControlText")))])]),e("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[e("a",{staticClass:"round-icon-small btn-danger-light clsattclear",attrs:{href:"javascript:;",title:"Clear"}},[e("i",{staticClass:"fa fa-undo"})]),e("a",{staticClass:"round-icon-small btn-danger-light clsattremove d-none",attrs:{href:"javascript:;",title:"Remove"}},[e("i",{staticClass:"fa fa-times"})])])])])])])])]),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("ValidationProvider",{staticClass:"tt_textarea_span position-relative",attrs:{rules:"required",name:"comment"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",{attrs:{for:"FormControlTextarea1"}},[t._v("Description:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.requestData.comment,expression:"requestData.comment"}],staticClass:"form-control",class:a[0]?"is-invalid":"",staticStyle:{"border-color":"#BDBCBD",resize:"none"},attrs:{placeholder:t.$t("WriteAComment"),name:"comment",maxlength:"2000"},domProps:{value:t.requestData.comment},on:{input:function(e){e.target.composing||t.$set(t.requestData,"comment",e.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1)])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"text-end text-right col-12"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),e("button",{staticClass:"btn btn-danger",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])])])])]}}])})],1)])])])])])])])]),e("Alert",{attrs:{type:t.store.getAlertMessage.type,message:t.store.getAlertMessage.message,open:t.store.getAlertMessage.open},on:{close:function(e){t.store.$state.getMessageAlert.open=!1}}})],1)},ae=[];Object(y["d"])("required",{validate(t){return{required:!0,valid:-1===["",null,void 0].indexOf(t)}},message:"The {_field_} is required"}),Object(y["d"])("number",t=>{if(t>=0)return!0});var se=Object(Nt["a"])({name:"Request Time",components:{ValidationObserver:y["b"],Alert:Ut,VueTimepicker:Gt.a,ValidationProvider:y["c"]},props:{manualData:{type:Object},store:{type:Object}},data(){return{startTime:"00:00",endTime:"00:00",date:At()().format("YYYY-MM-DD"),time:"00:00:00",clientOrPm:1,requestData:{title:"",comment:"",msgboardid:"",projectid:"",taskid:"",request_time_sec:"",file:"",clients:"",timeInHours:""},messages:{MessageBoardContent:"",MessageBoardTitle:"",RefSourceName:"RequestTime",MessageType:"s",TaskId:"",ProjectId:"",UserList:[],MessageBoardId:0,type:"post",formData:{}},token:"",AttachmentFileDetail:[],uploadUrl:Object({NODE_ENV:"production",VUE_APP_API_URL:"https://qatestnewapi.talygen.com/api/crm",VUE_APP_ASSET_API:"https://qatestnewapi.talygen.com/api/asset",VUE_APP_COMMON_API:"https://qatestnewapi.talygen.com/api",VUE_APP_CURRENT_SITE_ROOT_URL:"https://qatestnewui.talygen.com",VUE_APP_DEFAULT_APP_URL:"http://qatest.talygen.com",VUE_APP_EVENT_APP_URL:"https://qatestnewapi.talygen.com/api/event",VUE_APP_FULL_MENU_APP_REDIRECTION:"true",VUE_APP_NODE_ENV:"qa",BASE_URL:"/"}).VUE_APP_DOCSTORAGE_API+"/UploadStreamNew",fileName:""}},created:function(){this.requestData.projectid=this.manualData.projectId,this.requestData.taskid=this.manualData.taskId,this.requestData.msgboardid=this.manualData.MESSAGE_BOARD_ID,this.time=Object($t["formatter"])(this.manualData.totalHours),this.store.clientsGetFromProjectId(this.manualData.projectId),this.store.pmGetFromProjectId(this.manualData.projectId),this.clientsDropdownChange(),this.token=this.GetUserInfo?this.GetUserInfo.Token:"",this.messages.MessageBoardId=this.manualData.MESSAGE_BOARD_ID,this.messages.TaskId=this.manualData.taskId,this.messages.ProjectId=this.manualData.projectId},methods:{async clientsDropdownChange(){console.log("check",this.manualData.projectid),this.requestData.clients=[]},setSelectedValue:function(t){var e=this,a=[];e.UserList=[],t.length>0&&($.each(t,$.proxy((function(t,e){a.push(e.Id)}))),e.UserList=a.join(","))},previewFiles(t){var e=this;e.fileName=t.target.files[0].name,e.AttachmentFileDetail.push(t.target.files[0])},async submit(){this.requestData.request_time_sec=60*this.requestData.timeInHours*60,this.messages.MessageBoardTitle=this.requestData.title,this.messages.MessageBoardContent=this.requestData.comment;var t=new FormData;t.append("fileId",0),t.append("folderId",0),t.append("moduleName","TodoList"),t.append("subModuleName",""),t.append("isGlobal",0),t.append("file",this.AttachmentFileDetail[0]),this.messages.formData=this.AttachmentFileDetail[0],console.log("checkkk",this.messages),await l["a"].Post(this.messages).then(async t=>{"0"==t.data.code&&(this.requestData.msgboardid=t.data.msg,this.requestData.projectid=this.manualData.projectId,this.requestData.taskid=this.manualData.taskId,this.requestData.request_time_sec=60*this.requestData.timeInHours*60,await l["a"].RequestTime(this.requestData).then(async t=>{null!=t.data.result&&""!=t.data.result?(this.$emit("close"),this.$emit("closeUpdateModal"),this.ShowAlert(this.$t("RequestTimeSubmited"),"success",!0,this.$t("Alert"))):this.ShowAlert(this.$t("Something_Wrong"),"danger",!0,this.$t("Alert"))}))})},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()}}}),ie=se,re=(a("2b62"),Object(c["a"])(ie,ee,ae,!1,null,null,null)),oe=re.exports,le=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"modal my-popups right fade show d-block"},[e("div",{staticClass:"modal-dialog maxwidth500",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseQuickView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate pb-1",attrs:{id:"myModalLabel"}},[t._v(t._s(t.TASK_NAME)+" "+t._s(t.QuickViewType))])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"white_bx"},[e("div",{staticClass:"col-lg-12 p-0"},["attachment"!=t.QuickViewType?e("div",{staticClass:"heading-border mb-3",attrs:{id:"status"}},[e("h5",{staticClass:"h5"},[e("span",[t._v("Progress")]),e("div",{staticClass:"btnnot px-2 text-white d-block text-center"},[t._v(t._s(t.ProjectStatus))])])]):t._e(),"attachment"!=t.QuickViewType?e("div",{staticClass:"level_info mb-3"},[e("ul",[e("li",[e("b",{staticStyle:{color:"rgb(35, 165, 253)"}},[t._v(t._s(t.ConvertTimeToHours(t.AllocateHours)))]),t._v(" Allocated Hours")]),e("li",[e("b",{staticStyle:{color:"rgb(40, 167, 69)"}},[t._v(t._s(t.ConvertTimeToHours(t.TrackHours)))]),t._v(" Tracked Hour(s) ")])]),e("div",{staticClass:"progress prog_bx"},[e("div",{staticClass:"progress-bar",class:{"bg-sky":t.ExtraHours>0,"bg-red":t.ExtraHours<0},style:"width:"+t.HoursDonePercentage+"%",attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}})]),t.ExtraHours<0?e("ul",[e("li",[e("b",{staticStyle:{color:"#ff0000"}},[t._v(t._s(t.ExceedHours))]),t._v(" Exceed Hours")])]):t._e()]):t._e(),e("div",{staticClass:"col-lg-12 p-0"},["attachment"!=t.QuickViewType?e("div",{staticClass:"heading-border mb-3",attrs:{id:"status"}},[t._m(0)]):t._e(),"attachment"!=t.QuickViewType?e("ul",{staticClass:"detail_list"},[e("li",[e("b",[t._v("Project Name:")]),t._v(" "),e("span",{attrs:{title:t.PM}},[t._v(" "+t._s(t.PROJECT_NAME))])]),e("li",[e("b",[t._v("Project Manager:")]),t._v(" "),e("span",{attrs:{title:"--"}},[t._v(t._s(t._f("truncate")(t.PM,150,"...")))])]),e("li",[e("b",[t._v("Is Billable:")]),t._v(" "),e("span",[t._v(" "+t._s(0==t.IS_BILLABLE?"No":"Yes"))])]),e("li",[e("b",[t._v("Parent Task Name:")]),t._v(" "),e("span",[t._v(" "+t._s(t.PARENT_TASK)+" ")])]),e("li",[e("b",[t._v("Task Name:")]),t._v(" "),e("span",[t._v(" "+t._s(t.TASK_NAME))])]),e("li",[e("b",[t._v("Start Date:")]),t._v(" "),e("span",[t._v(" "+t._s(t.$options.filters.formatDate(t.START_DATE)))])]),e("li",[e("b",[t._v("End Date:")]),t._v(" "),e("span",[t._v(t._s(t.$options.filters.formatDate(t.END_DATE)))])]),e("li",[e("b",[t._v("Task Description:")]),t._v(" "),e("span",{domProps:{innerHTML:t._f("truncate")(t.TASK_DESCRIPTION,150,"...")}})]),e("li",[e("b",[t._v("Task Rate:")]),t._v(" "),e("span",[t._v(" "+t._s(t.TASK_RATE))])])]):t._e(),"attachment"!=t.QuickViewType?e("div",{staticClass:"heading-border mb-3",attrs:{id:"status"}},[t._m(1)]):t._e(),"attachment"!=t.QuickViewType?e("div",{staticClass:"p-0 col-12",staticStyle:{"max-height":"300px",overflow:"auto"},attrs:{id:"divscrollsetuptabs"}},[e("div",{staticClass:"mCustomScrollBox mCS-dark-thick mCSB_vertical mCSB_inside",staticStyle:{"max-height":"none"},attrs:{id:"mCSB_15",tabindex:"0"}},[e("div",{staticClass:"mCSB_container",staticStyle:{position:"relative",top:"0px",left:"0px"},attrs:{id:"mCSB_15_container",dir:"ltr"}},t._l(t.GetQuickViewListingData.project_team,(function(a,s){return e("div",{key:s,staticClass:"profile-info mb-3"},[null!=a.Image_Url?e("span",{staticClass:"my-image d-none d-lg-block"},[e("img",{staticClass:"mCS_img_loaded",attrs:{src:a.Image_Url}})]):e("span",{staticClass:"my-image d-none d-lg-block"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/img-1.png"}})]),e("span",{staticClass:"m-text"},[t._v(t._s(a.Team_Name))])])})),0),t._m(2),""==t.ProjectTeam?e("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center borderbababa p-2 mb-4 no-record"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()])]):t._e(),"HR"!=t.ModuleNameAll?e("div",{staticClass:"heading-border mb-3 pt-2",attrs:{id:"status"}},[t._m(3),e("div",{staticClass:"text_link"},[t.ShowDiv?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openUploadFileModel(t.projectId)}}},[e("i",{staticClass:"fa fa-paperclip pr-2"}),t._v("Add File")]):t._e(),t.ShowDiv?t._e():e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.BackDetail()}}},[e("i",{staticClass:"fa fa-angle-double-left pr-2"}),t._v("Back")])])]):t._e(),"HR"!=t.ModuleNameAll?e("div",{staticClass:"w-100",staticStyle:{"max-height":"200px","overflow-y":"auto"},attrs:{id:"divscrollsetupfile"}},[t.noRecordForDetail?t._e():e("div",t._l(t.fileData,(function(a,s){return e("a",{key:s,staticClass:"p-1 m-1 d-block",attrs:{title:a.LATEST_FILE_NAME,href:"javascript:;"},on:{click:function(e){return t.DownloadFile(a)}}},[e("span",[t._v(t._s(t._f("truncate")(a.LATEST_FILE_NAME,25,"...")))])])})),0),t.noRecordForDetail?e("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center borderbababa p-2 mb-4 no-record"},[t._v(" NoRecordfound")]):t._e()]):t._e(),t._v(" "+t._s(t.noRecordForDetail)+t._s(this.ModuleNameAll)+" "),t.ShowDiv?e("ul",{staticClass:"file-list"},["HR"!=t.ModuleNameAll?e("li",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GetDetail("IMAGES",t.projectId)}}},[t._m(4),e("span",{staticClass:"m-text"},[t._v("Image")]),e("small",[t._v(t._s(t.Images)+" Items")]),t._m(5)]):t._e(),"HR"!=t.ModuleNameAll?e("li",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GetDetail("DOCUMENTS",t.projectId)}}},[t._m(6),e("span",{staticClass:"m-text"},[t._v("Documents")]),e("small",[t._v(t._s(t.Documents)+" Items")]),t._m(7)]):t._e(),"HR"!=t.ModuleNameAll?e("li",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GetDetail("VIDEOS",t.projectId)}}},[t._m(8),e("span",{staticClass:"m-text"},[t._v("Videos")]),e("small",[t._v(t._s(t.Videos)+" Items")]),t._m(9)]):t._e()]):t._e()])])])])])])]),t.ShowManageFile?e("Addfiles",{attrs:{ProjectDetails:t.ProjectDetails,taskId:t.taskId},on:{close:function(e){t.ShowManageFile=!1},closeUpdateModal:function(e){return t.QuickViewByProjectId(t.ProjectDetails,t.taskId)},fetchData:function(e){return t.fetchData()}}}):t._e()],1)},ne=[function(){var t=this,e=t._self._c;return e("h5",{staticClass:"h5"},[e("span",[t._v("Details")])])},function(){var t=this,e=t._self._c;return e("h5",{staticClass:"h5"},[e("span",[t._v("Team")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"mCSB_scrollTools mCSB_15_scrollbar mCS-dark-thick mCSB_scrollTools_vertical",staticStyle:{display:"block"},attrs:{id:"mCSB_15_scrollbar_vertical"}},[e("div",{staticClass:"mCSB_draggerContainer"},[e("div",{staticClass:"mCSB_dragger",staticStyle:{position:"absolute","min-height":"30px",display:"block",height:"197px","max-height":"290px",top:"0px"},attrs:{id:"mCSB_15_dragger_vertical"}},[e("div",{staticClass:"mCSB_dragger_bar",staticStyle:{"line-height":"30px"}})]),e("div",{staticClass:"mCSB_draggerRail"})])])},function(){var t=this,e=t._self._c;return e("h5",{staticClass:"h5"},[e("span",[t._v("Files")])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"fldr-icon"},[e("i",{staticClass:"fa fa-folder"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"right-acti d-none",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-ellipsis-h"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"fldr-icon"},[e("i",{staticClass:"fa fa-folder"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"right-acti d-none",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-ellipsis-h"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"fldr-icon"},[e("i",{staticClass:"fa fa-folder"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"right-acti d-none",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-ellipsis-h"})])}],de=(a("88a7"),a("271a"),a("5494"),function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal fade dialog my-popups ui-draggable show",staticStyle:{height:"auto",width:"auto",display:"block",top:"0px",left:"0px"},attrs:{"data-keyboard":"false","data-backdrop":"static",role:"dialog"}},[e("div",{staticClass:"modal-dialog maxwidth500",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title text-truncate pb-1",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("UploadFile"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.closePopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("span",{staticClass:"user-guide"},[e("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReply",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v(t._s(t.$t("UserGuide")))]),e("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReply"}},[e("div",{staticClass:"custom-scrollbar-js",staticStyle:{overflow:"auto"},attrs:{id:"scrollbarreplyuserguide"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("User_Guide_Quick_View_Add_File"))}})])])]),e("dynamic-form",{ref:"modalAddFile",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-AttachmentFile",fn:function({data:t}){}},{key:"tgslot-CheckBoxMultiple",fn:function({data1:a}){return[e("div",{staticClass:"col-md-12 col-lg-12 col-xl-12 float-left p-0 mb-2 lastchild-control",staticStyle:{"max-height":"450px","overflow-y":"auto","border-bottom":"1px solid #dee2e6 !important","border-top":"1px solid #dee2e6 !important"}},t._l(t.GetUserList,(function(a,s){return e("div",{key:s},[e("div",{staticClass:"form-group row m-0 border p-2 bg-f5f5f5"},[e("div",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{class:{"chkItems custom-control-input":!0},staticStyle:{display:"none"},attrs:{type:"checkbox",id:"chk_"+a.userTypeId},domProps:{checked:t.checkBoxUserType&&t.selectedUserTypeId==a.userTypeId},on:{change:function(e){return t.CheckUserTypeAll(e,a)}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_"+a.userTypeId}},[t._v(" "+t._s(a.userType)+" ")])])])]),e("ul",{staticClass:"row m-0 p-0 py-3 mb-3 border border-top-0",attrs:{id:a.userTypeId}},t._l(a.userses,(function(s,i){return e("li",{key:i,staticClass:"col-sm-12 col-md-4 col-lg-3 col-xl-3 float-left pl-2 mb-2",staticStyle:{"list-style":"none"}},[e("div",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBoxUser,expression:"checkBoxUser"}],class:{"chkItems custom-control-input":!0},staticStyle:{display:"none"},attrs:{type:"checkbox",id:"chk_"+s.id},domProps:{value:s.id,checked:Array.isArray(t.checkBoxUser)?t._i(t.checkBoxUser,s.id)>-1:t.checkBoxUser},on:{change:[function(e){var a=t.checkBoxUser,i=e.target,r=!!i.checked;if(Array.isArray(a)){var o=s.id,l=t._i(a,o);i.checked?l<0&&(t.checkBoxUser=a.concat([o])):l>-1&&(t.checkBoxUser=a.slice(0,l).concat(a.slice(l+1)))}else t.checkBoxUser=r},function(e){return t.updateCheckall(e,a)}]}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_"+s.id}},[t._v(" "+t._s(s.name)+" ")])])])])})),0)])})),0)]}}])}),e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])],1)])])])])],1)}),ce=[],pe={props:{ProjectDetails:{type:Number},TaskId:{type:Number}},data(){return{isLoading:!1,GetUserList:[],checkBoxUser:[],checkBoxUserType:!1,selectedUserTypeId:0,fileName:"",attachement_mime:"",base64String:"",fileData:[],modelUserId:"",modelInnerUserId:"",FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("FileTitle"),name:"FileTitle",value:"",placeholder:"Enter File Title",config:{options:[]},validationRules:{required:!0}},{astype:"FileField",label:this.$t("File"),showLabel:!0,name:"Attachment",placeholder:"",validationRules:"required",FieldIndex:0,config:{maxSize:5,accept:[{fileType:"doc",iconClass:"fa-file-word-o"},{fileType:"docx",iconClass:"fa-file-word-o"},{fileType:"txt",iconClass:"fa-file-text-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"gif",iconClass:"fa-file-image-o"},{fileType:"bmp",iconClass:"fa-file-image-o"},{fileType:"mp4",iconClass:"fa-file-video-o"},{fileType:"mov",iconClass:"fa-file-video-o"}],onChange:this.previewFiles,showAddIcon:!1,onAddButtonClick:"",multiple:!1}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",mode:"tag",placeholder:"",config:{options:[]},validationRules:{required:!0}}]},{layoutType:"single",group_name:"Visible To",group_display_name:this.$t("Visibleto"),Data:[{astype:"SlotField",label:"",name:"CheckBoxMultiple",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.onChangeDropdown},validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-upload pr-2'></i>Upload"},{type:"button",class:"btn btn-primary delete-btn mr-2 my-sm-0",text:"<i class='fa fa-times pr-2'></i>Cancel",onClick:this.closePopup}],model:{FileId:0,FileName:"",FilePath:"",FileTitle:"",FileContent:"",UserList:[],FileVersion:0,ProjectId:0,TaskId:0,FileDetail:"",StatusId:0,FileCategoryId:0,RequestType:"first",formData:{}}}},created(){var t=this;t.GetChecboxUserData(t.ProjectDetails)},methods:{closePopup(){this.$parent.ShowManageFile=!1},async GetChecboxUserData(t){var e=this,a="projectId="+t;await l["a"].GetChecboxUserData(a).then(t=>{t.data.result.length>0&&(e.GetUserList=t.data.result)}).catch(t=>{console.log(t)})},previewFiles(t){var e=this;e.fileData.push(t.target.files[0])},async onSubmit(){var t=this;t.isLoading=!0;var e="";if(t.checkBoxUser.map((t,a)=>{e+=0==a?t:","+t}),""==t.fileData)return t.ShowAlert(t.$t("SelectFileUpload"),"warning",!0,t.$t("Alert")),t.isLoading=!1,!1;if(""==t.checkBoxUser&&""!=t.fileData)return t.ShowAlert(t.$t("SelectUserToShareFile"),"warning",!0,t.$t("Alert")),t.isLoading=!1,!1;t.model.FileId=0,t.model.FileName=t.getFileName,t.model.FileTitle=t.FormSchema[0].Data[0].value,t.model.FileContent=t.FormSchema[1].Data[0].value,t.model.UserList=e,t.model.ProjectId=t.ProjectDetails,t.model.TaskId=t.TaskId,t.model.RequestType="Post",t.model.requestTypeValue="first",t.model.ModuleName="Project";var a=new FormData;a.append("file",t.fileData[0]),t.model.formData=t.fileData[0],await l["a"].Create(t.model).then(t=>{"FileAddedMsg"==t.data.result.msg&&(this.$emit("close"),this.$emit("closeUpdateModal"),this.$emit("fetchData"),this.ShowAlert(this.$t("FileAddedMsg"),"success",!0,this.$t("Alert"))),"ProcessingErroeOccured"==t.data.result.msg&&(this.$emit("close"),this.$emit("closeUpdateModal"),this.$emit("fetchData"),this.ShowAlert(this.$t("ProcessingErroeOccured"),"danger",!0,this.$t("Alert"))),"ErrorAddFile"==t.data.result.msg&&(this.$emit("close"),this.$emit("closeUpdateModal"),this.$emit("fetchData"),this.ShowAlert(this.$t("ErrorAddFile"),"danger",!0,this.$t("Alert")))}).catch(t=>{console.log(t)}),t.isLoading=!1},updateCheckall(t,e){var a=this;e.userses.length==a.checkBoxUser.length?(a.checkBoxUserType=!0,a.selectedUserTypeId=e.userTypeId):(a.checkBoxUserType=!1,a.selectedUserTypeId=e.userTypeId)},CheckUserTypeAll(t,e){var a=this;t.target.checked?e.userses.forEach(t=>{this.checkBoxUser.push(t.id)}):a.checkBoxUser=[]}}},ue=pe,he=(a("cd11"),Object(c["a"])(ue,de,ce,!1,null,null,null)),me=he.exports,ge={components:{Addfiles:me},props:{},created(){this.QuickViewType=this.$parent.QuickViewType,null!=this.$parent.modalProjectId&&(this.projectId=this.$parent.modalProjectId,this.taskId=this.$parent.modalTaskId,this.QuickViewByProjectId(this.$parent.modalProjectId,this.$parent.modalTaskId))},data(){return{PROJECT_NAME:"",ProjectStatus:"",ACTIVE_TASK:"",IS_BILLABLE:"",PARENT_TASK:"",TASK_DESCRIPTION:"",TASK_NAME:"",TASK_RATE:"",START_DATE:"",END_DATE:"",PM:"",Images:0,Videos:0,Documents:0,ProjectTeam:[],STATUS_COLOR:"",STATUS_BG_COLOR:"",secondsPerMinute:60,minutesPerHour:60,AllocateHours:0,AllocateHoursSecond:0,TrackHours:0,TrackHoursSecond:0,HoursDonePercentage:0,HoursToDoPercentage:0,ProjectHours:0,ExtraHours:0,ExceedHours:0,projectId:0,taskId:0,PageSize:10,PageNumber:1,ModelSortBy:"",ModelSortExp:"",noRecordForDetail:!1,fileData:[],ShowDiv:!0,QuickViewType:"",ModuleNameAll:"",ShowManageFile:!1,GetQuickViewListingData:[],ProjectDetails:0}},methods:{QuickViewByProjectId:function(t,e){var a=this,s=`projectId=${a.projectId}&taskId=${a.taskId}`;l["a"].GetQuickViewByProjectIdTaskId(s).then(t=>{console.log("this",t),"0"!=t.data.code&&(a.GetQuickViewListingData=t.data.result,a.PROJECT_NAME=t.data.result.project_detail[0].PROJECT_NAME,a.ProjectStatus=t.data.result.project_detail[0].ProjectStatus,a.ACTIVE_TASK=t.data.result.project_detail[0].ACTIVE_TASK,a.IS_BILLABLE=t.data.result.project_detail[0].IS_BILLABLE,a.PARENT_TASK=t.data.result.project_detail[0].PARENT_TASK,a.TASK_NAME=t.data.result.project_detail[0].TASK_NAME,a.TASK_RATE=t.data.result.project_detail[0].RATE,a.TASK_DESCRIPTION=t.data.result.project_detail[0].TASK_DESCRIPTION,a.START_DATE=null==t.data.result.project_detail[0].START_DATE?"--":t.data.result.project_detail[0].START_DATE,a.END_DATE=null==t.data.result.project_detail[0].END_DATE?"--":t.data.result.project_detail[0].END_DATE,a.STATUS_COLOR=t.data.result.project_detail[0].STATUS_COLOR,a.STATUS_BG_COLOR=t.data.result.project_detail[0].STATUS_BG_COLOR,a.PM=null==t.data.result.project_detail[0].PM?"--":t.data.result.project_detail[0].PM,a.Images=t.data.result.project_files[0].Images,a.Videos=t.data.result.project_files[0].Videos,a.Documents=t.data.result.project_files[0].Documents,a.ProjectTeam=t.data.result.project_team,a.AllocateHours=0==t.data.result.project_hours.length?0:Object($t["convertSecondToHHMM"])(t.data.result.project_hours[0].TOTAL_TASK_HOURS),a.TrackHours=0==t.data.result.project_hours.length?0:Object($t["convertSecondToHHMM"])(t.data.result.project_hours[0].TRACK_SECONDS),a.AllocateHoursSecond=0==t.data.result.project_hours.length?0:t.data.result.project_hours[0].TOTAL_TASK_HOURS,a.TrackHoursSecond=0==t.data.result.project_hours.length?0:t.data.result.project_hours[0].TRACK_SECONDS,a.ExtraHours=0==t.data.result.project_hours.length?0:a.GetExtraHours(t.data.result.project_hours[0].REMAINING_SECONDS),a.ExceedHours=Object($t["convertSecondToHHMM"])(Math.abs(a.ExtraHours)),a.HoursDonePercentage=0==t.data.result.project_hours.length?0:a.GetPercentage(t.data.result.project_hours[0].COMPLETED))})},fetchData:function(){this.$emit("closeUpdateModal")},GetDetail:function(t,e){var a=this;a.ShowDiv=!1,a.fileData=[];var s=`projectId=${e}&pageSize=${a.$parent.PageSize}&pageNum=${a.$parent.PageNumber}&sortBy=${a.$parent.ModelSortBy}&sortExp=${a.$parent.ModelSortExp}&viewType=${t}`;l["a"].FileListing(s).then(t=>{null!=t.data&&"Success"==t.data.status&&t.data.result.data.length>0?(a.fileData=t.data.result.data,a.noRecordForDetail=!1):a.noRecordForDetail=!0})},CloseQuickView:function(){var t=this;t.$parent.ShowManageProjectQuickView=!1},BackDetail:function(){var t=this;t.ShowDiv=!0,t.fileData=[],t.noRecordForDetail=!1},DownloadFile(t){console.log("item",t);var e=`fileId=${t.FILE_VERSION_ID}&IsVersion=${t.FILE_VERSION_ID}`;l["a"].DownloadFile(e).then((function(e){console.log("download",e.data);var a=document.createElement("a"),s=window.URL.createObjectURL(new Blob([e.data],{type:e.data.type}));a.href=s,a.setAttribute("download",t.LATEST_FILE_NAME),document.body.appendChild(a),a.click()}))},openUploadFileModel:function(t){this.ProjectDetails=t,this.ShowManageFile=!0},GetExtraHours:function(){var t=this,e=t.AllocateHoursSecond-t.TrackHoursSecond;return e},GetPercentage:function(){var t=this,e=100,a=t.ExtraHours/t.AllocateHoursSecond*100;return e-a},ConvertTimeToHours(t){if(0!=t){var e=t.split(":"),a=e[0]+" h "+e[1]+" m";return a}return"00 h 00 m"}}},fe=ge,ve=Object(c["a"])(fe,le,ne,!1,null,null,null),be=ve.exports,_e=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal d-block my-popups dialog"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._t("header"),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),e("div",{staticClass:"modal-body"},[e("span",{staticClass:"user-guide"},[e("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReply",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v(t._s(t.$t("UserGuide")))]),e("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReply"}},[e("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguide"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.userGuide)}},[t._v(t._s(t.userGuide))])])])]),e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{attrs:{"data-vv-scope":"Note"},on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[e("div",{staticClass:"d-flex flex-wrap"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"form-group"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",[t._v("Visibility"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Visibility,expression:"Visibility"}],class:{"form-control":!0},attrs:{name:"Visibility"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.Visibility=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v("Select")]),e("option",{attrs:{value:"true"}},[t._v(t._s(t.$t("Public")))]),e("option",{attrs:{value:"false"}},[t._v(t._s(t.$t("Private")))])]),a[0]?e("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Task"))+" :")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Task,expression:"Task"}],class:{"form-control bg-light":""==t.typeNoteTask,"form-control bg-light disabled":""!=t.typeNoteTask},attrs:{id:"TaskDropdown",name:"TaskDropdown"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.Task=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.TaskData,(function(a){return e("option",{domProps:{value:a.TASK_ID}},[t._v(" "+t._s(a.TASK_NAME)+" ")])}))],2),e("div",{staticClass:"invalid-feedback"})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-group"},[e("ValidationProvider",{attrs:{name:"Description",rules:t.submitted?"required":""},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",[t._v(t._s(t.$t("Description"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ckeditor",{staticClass:"mb-0",class:{"form-group":!0},attrs:{editor:t.editor,name:"Description",id:"Description",maxlength:"8000",cols:"20"},model:{value:t.Description,callback:function(e){t.Description=e},expression:"Description"}}),a[0]?e("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("button",{staticClass:"btn btn-success formbtn text-white mr-2 saveNote",attrs:{href:"javascript:;",type:"submit"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),e("a",{staticClass:"btn btn-danger formbtn widthhalf text-white",on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2 mandatory"},[t._v(t._s(t.$t("MandatoryString"))+" ")])])])])])])]}}])})],1)])])])])},Ce=[];Object(y["d"])("required",{validate(t){return{required:!0,valid:-1===["",null,void 0].indexOf(t)}},computesRequired:!0});var ye={name:"modalAddNote",components:{ValidationProvider:y["c"],ValidationObserver:y["b"]},props:{taskid:{type:String}},data:function(){return{noteId:null,Visibility:"",Task:"",Description:"",modal:null,isView:!1,isPublic:!1,userGuide:"",TaskData:[],typeNoteTask:"",submitted:!1,editor:this.CLASSIC_EDITOR}},created:function(){null!=this.$parent.modalNoteItem&&"undefined"!=typeof this.$parent.modalNoteItem&&(this.modal=this.$parent.modalNoteItem,this.noteId=this.$parent.modalNoteItem.NOTE_ID,this.Visibility=this.$parent.modalNoteItem.IS_PUBLIC,this.Task=this.$parent.modalNoteItem.TASK_ID,this.Description=this.$parent.modalNoteItem.NOTE_CONTENT,this.ProjectId=this.$parent.modalNoteItem.PROJECT_ID),null!=this.taskid&&(this.Task=this.taskid,this.typeNoteTask=this.$parent.typeNoteTask),this.userGuide=this.$parent.AddNoteUserGuide,this.TaskDropdown()},methods:{submitForm:function(){console.log("clicked");var t=this;t.submitted=!0,this.$refs.form.validate().then(e=>{if(e){var a={noteId:null==t.noteId?0:t.noteId,description:null==t.Description?0:t.Description,isPublic:null!=t.Visibility&&t.Visibility,projectId:null==t.$parent.ProjectId?0:t.$parent.ProjectId,taskId:null==t.Task?null:t.Task,moduleName:t.$parent.ModuleName},s=JSON.stringify(a);l["a"].saveNote(s).then((function(e){console.log(e),"Success"==e.data.status&&(t.ShowAlert(t.$t("RecordsSavedSuccessfully"),"success",!0,t.$t("Alert")),t.showAddNoteModal=!1,t.$emit("close"),t.$parent.FetchData("kanban",null)),t.isLoading=!1}),(function(e){t.isLoading=!1}))}})},TaskDropdown:function(){var t=this;t.isLoading=!0;var e="projectId="+t.$parent.ProjectId;l["a"].LoadTaskByProjectId(e).then((function(e){t.isLoading=!1,null!=e.data&&""!=e.data&&(t.TaskData=e.data.result.DATA)}))}}},De=ye,Te=Object(c["a"])(De,_e,Ce,!1,null,null,null),Se=Te.exports,ke=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal my-popups d-block",attrs:{id:"myModal2"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Update Progress")]),t._m(0),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),a(t.UpdateProgress)}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("TrackedTime"))+" :")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.TRACKED_HOURS,expression:"TRACKED_HOURS"}],staticClass:"form-control",attrs:{type:"text",placeholder:"00:00:00",disabled:""},domProps:{value:t.TRACKED_HOURS},on:{input:function(e){e.target.composing||(t.TRACKED_HOURS=e.target.value)}}})])]),e("div",{staticClass:"col-sm-12"},[e("label",[t._v(" "+t._s(t.$t("SetPercentage"))+" :")]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[e("div",{staticClass:"slider_setpercentage float-left mt-2"},[e("VueSlider",t._b({ref:"slider",model:{value:t.PROGRESS,callback:function(e){t.PROGRESS=e},expression:"PROGRESS"}},"VueSlider",t.slideroptions,!1))],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.PROGRESS,expression:"PROGRESS"}],staticClass:"form-control float-right mb-0 slider_setpercentagebox",attrs:{type:"text",readonly:""},domProps:{value:t.PROGRESS},on:{input:function(e){e.target.composing||(t.PROGRESS=e.target.value)}}})])]),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Comments"))+" :"),e("span",{staticClass:"mandatory"},[t._v("*")])]),e("ValidationProvider",{staticClass:"tt_textarea_span position-relative",attrs:{rules:"required",name:"Comment"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.ProgressComment,expression:"ProgressComment"}],staticClass:"form-control",class:a[0]?"form-control is-invalid":"form-control",attrs:{placeholder:"write a comment...",name:"ProgressComment"},domProps:{value:t.ProgressComment},on:{input:function(e){e.target.composing||(t.ProgressComment=e.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]?t.$t("CommentIsReq"):""))])]}}],null,!0)})],1)])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-success save-btn",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-save pr-2"}),e("span",[t._v(t._s(t.$t("Submit")))])]),e("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.ProgressCancelBtn()}}},[e("i",{staticClass:"fa fa-close pr-2"}),e("span",[t._v(t._s(t.$t("Cancel")))])])])])]}}])}),e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"listing border",attrs:{id:"divconversationbox"}}),e("div",{staticClass:"col-12 tab-pane fade active show"},[0==t.CommentList.length?e("div",{staticClass:"row ticket-card-container card-view bg-border p-3"},[t._m(1)]):t._e()]),0!=t.CommentList.length?e("div",{staticClass:"col-12 listing mt-4"},[e("div",{staticClass:"listing tab-content"},[e("div",{staticClass:"col-12 d-flex border border-bottom-0 bg-f5f5f5"},[t._m(2),e("div",{staticClass:"col-md-6 text-right pr-0 bottom_filter_button"},[e("a",{staticClass:"position-relative",staticStyle:{"z-index":"999"},attrs:{href:"javascript:;",id:"ancreplyExpandAllCollapseAll",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Expand All or Collapse All"},on:{click:t.expendOrcollapse}},[t._v("Expand All or Collapse All")])])]),t._l(t.CommentList,(function(a,s){return e("div",{key:s,staticClass:"tab-pane fade show activity-tab active pt-2",staticStyle:{"overflow-y":"auto","max-height":"500px"}},[e("div",{staticClass:"w-100",attrs:{id:"accordion"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse",href:"#collapseOne1requestcomment1","aria-expanded":"true"},on:{click:function(e){return t.toggleCollapse(s)}}},[e("div",{staticClass:"conversation-date heading-border"},[e("span",[e("i",{staticClass:"fa fa-angle-down rotate-icon pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.dateFormat(a.dateGroup)))])])])]),t.isCollapsed(s)?e("div",{staticClass:"collapse show",staticStyle:{display:"block"},attrs:{id:"collapseOne1requestcomment1"}},t._l(a.taskCommentList,(function(a,s){return e("div",{key:s,staticClass:"card-body"},[e("div",{staticClass:"conversation-main"},[e("div",{staticClass:"conversation-time"},[e("span",[t._v(t._s(t.timeFormat(a.createdAt))+" "+t._s())])]),e("div",{staticClass:"conversation-box-con"},[e("div",{staticClass:"conversation-box"},[e("div",{staticClass:"name-circle light-yellow"},["profile-img.jpg"==a.avatar&&null==a.avatar?e("img",{staticClass:"img-circle avatar",attrs:{src:"",width:"51",height:"51",alt:""}}):e("img",{staticClass:"img-circle avatar",attrs:{src:a.avatar,width:"51",height:"51",alt:""}})]),e("div",{staticClass:"conversation-content"},[e("div",{staticClass:"conversation-header addednote-ticket"},[e("span",[e("span",{staticClass:"sender-name"},[t._v(t._s(a.userName))])])]),e("div",{staticClass:"conversation-content"},[e("div",{staticClass:"col-12 p-0 notesdata"},[e("h6",{staticClass:"text-muted"},[e("i",[t._v(" Progress: "+t._s(a.progress)+" % ")])])])]),e("div",{staticClass:"conversation-header addednote-ticket"},[e("span",[e("span",{staticClass:"sender-department"},[t._v(" "+t._s(a.comment))])])])])])])])])})),0):t._e()])])])}))],2)]):t._e()])])],1)])])]),e("loader",{attrs:{isVisible:t.store.getLoadingStatus}})],1)},we=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"user-guide mt-2 mr-2 float-right"},[e("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReply",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v("User Guide")]),e("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReply"}},[e("div",{staticClass:"custom-scrollbar-js",staticStyle:{"overflow-x":"hidden"},attrs:{id:"scrollbarreplyuserguide"}},[e("div",{staticClass:"con"})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 mt-2 text-center"},[e("span",{staticClass:"text-danger"},[t._v("NoComments")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-6 pl-0"},[e("h6",{staticClass:"py-3 mb-0"},[t._v(" Comment ")])])}],xe=a("4971"),Ie=a.n(xe);a("3e39");Object(y["d"])("required",{validate(t){return{required:!0,valid:-1===["",null,void 0].indexOf(t)}}});var Ae={name:"Update Comment",components:{VueSlider:Ie.a,ValidationProvider:y["c"],ValidationObserver:y["b"]},props:{store:{type:Object}},data(){return{TRACKED_HOURS:"",TASK_ID:"",PROGRESS:"",ProgressComment:"",value:0,slideroptions:{dotSize:14,width:"auto",height:4,contained:!1,direction:"ltr",data:null,min:0,max:100,interval:1,disabled:!1,clickable:!0,duration:.5,adsorb:!1,lazy:!1,tooltip:"focus",tooltipPlacement:"top",tooltipFormatter:void 0,useKeyboard:!1,enableCross:!0,fixed:!1,minRange:void 0,maxRange:void 0,order:!0,marks:!1,dotOptions:void 0,process:!0,dotStyle:void 0,railStyle:void 0,processStyle:void 0,tooltipStyle:void 0,stepStyle:void 0,stepActiveStyle:void 0,labelStyle:void 0,labelActiveStyle:void 0},CommentList:[],collapsedSections:[!1]}},created:function(){this.TRACKED_HOURS=this.$parent.TRACKED_HOURS,this.TASK_ID=this.$parent.TASK_ID,this.PROGRESS=this.$parent.PROGRESS,this.GetTaskComment(this.TASK_ID),this.toggleCollapse(0)},methods:{ProgressCancelBtn:function(){var t=this;t.StopTimerBtn=!1,t.UpdateProgress=!1,t.$emit("close")},UpdateProgress:function(){var t=this,e={LogID:null,TaskID:t.TASK_ID,Progress:t.PROGRESS,Comment:t.ProgressComment,StatusId:1001},a=JSON.stringify(e);this.store.$state.loading=!0,l["a"].UpdateProgress(a).then(e=>{if(null!=e.data&&""!=e.data&&(console.log("checkk",e.data),"Success"==e.data.Status)){t.ProgressComment="",t.StopTimerBtn=!1,t.$emit("close");const e=`dateType=${this.store.$state.dateFilterType}&search=&toDate=&fromDate=&newTrackId=0`;this.store.getTimerListing1(e);const a=`dateType=${this.store.$state.dateFilterType}&type=list&toDate=&fromDate=`;this.store.getTrackedtimings(a)}this.store.$state.loading=!1})},GetTaskComment:function(t){var e="taskId="+t;this.store.$state.loading=!0,l["a"].TaskLogCommentDetail(e).then(t=>{this.CommentList=t.data,console.log("commentList",t),this.store.$state.loading=!1})},isCollapsed(t){return this.collapsedSections[t]},toggleCollapse(t){this.$set(this.collapsedSections,t,!this.collapsedSections[t])},dateFormat(t){return Object($t["getPreviousDay"])(t)},timeFormat(t){return At()(t).format("HH:mm")},expendOrcollapse(){let t=!0;this.collapsedSections.map(e=>{e&&(t=!1)}),t?(this.collapsedSections=[],this.CommentList.map((t,e)=>{this.toggleCollapse(e)})):this.collapsedSections=[]}}},$e=Ae,Ee=Object(c["a"])($e,ke,we,!1,null,null,null),Re=Ee.exports,Ne=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal my-popups d-block",attrs:{id:"myModal"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Location")))]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered nowrap mt-0",attrs:{id:"tableshowlocationandmapdata"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("Location")))])]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("TrackTime")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("IpAddress"))+" ")])])]),e("tbody",[t._l(t.TrackLocationData,(function(a,s){return e("tr",[e("td",[t._v(t._s(a.LOCATION))]),e("td",[t._v(t._s(t.FormatDateToTime(a.Tracking_Time,"MM/DD/YYYY hh:mm a")))]),e("td",[t._v(t._s(a.IP_ADDRESS))])])})),t.noRecord?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"3"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])]),t._l(t.TrackLocationData,(function(a,s){return t.noRecord?t._e():e("a",{staticClass:"btn btn-primary text-white float-right m-3",attrs:{id:"showMap",title:"View"},on:{click:function(e){return t.showMap(a,s)}}},[e("i",{staticClass:"fa fa-map-marker pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("ViewMap")))])})),e("div",{staticClass:"d-none col-12 float-left",staticStyle:{height:"400px",border:"5px solid #cccccc"},attrs:{id:"map-canvas"}})],2)])])])])},Pe=[],Me={data(){return{TrackLocationData:[],noRecord:!1,Latitude:"",Longitude:"",MapIndex:null,CurrentItem:null}},created:function(){this.showLocation();let t=document.createElement("script");t.setAttribute("src","https://maps.googleapis.com/maps/api/js?key=AIzaSyAJdx4gmhGKWjPTBBVk5riFgpbE0lGS-xM&libraries=geometry,drawing,places&v=weekly"),document.head.appendChild(t)},methods:{showLocation:function(){var t=this,e="trackId="+t.$parent.TrackId;l["a"].GetShowLocationsAndMap(e).then((function(e){t.isLoading=!1,console.log(e),null!=e.data&&""!=e.data?(t.TrackLocationData=e.data.result.data,t.TrackLocationData.length>0?t.noRecord=!1:t.noRecord=!0):t.noRecord=!0}))},showMap:function(t,e){var a=this;new google.maps.Map(document.getElementById("map-canvas"),{zoom:7,zoomControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_RIGHT},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},center:new google.maps.LatLng(30.7333,76.7794),mapTypeId:google.maps.MapTypeId.ROADMAP});null!=t&&""!=t&&($("#map-canvas").removeClass("d-none"),this.IsObject(t)||(t=JSON.parse(t)),a.CurrentItem=t,a.Latitude=t.LATITUDE,a.Longitude=t.LONGITUDE,a.MapIndex=e)},split:function(t){return t.split(/,\s*/)},initialize:function(t,e,a){var s=new google.maps.LatLng(t,e),i={center:s,zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP},r=(new google.maps.Marker({position:s,map:n,title:"Hello!"}),new Array);for(let d=0;d<a.length;d++){var o=new google.maps.LatLng(a[d].LATITUDE,a[d].LONGITUDE);r.push(o)}var l=new google.maps.Polyline({path:r,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2});for(let d=0;d<r.length;d++){new google.maps.Marker({position:new google.maps.LatLng(r[d].lat,r[d].lon),map:n,title:"Hello!"});var n=new google.maps.Map($("#map-canvas")[0],i);l.setMap(n),vm.setMarkers(n,r)}},setMarkers:function(t,e){for(var a={coord:[1,1,1,20,18,20,18,1],type:"poly"},s=0;s<e.length;s++){var i=new google.maps.LatLng(e[s].split(",")[0],e[s].split(",")[1]);new google.maps.Marker({position:i,map:t,icon:"../../Content/images/beachflag.jpg",shape:a,visible:!0})}},FormatDateToTime(t,e){return At()(t).format(e)}}},Oe=Me,Le=Object(c["a"])(Oe,Ne,Pe,!1,null,null,null),Fe=Le.exports,je=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Notes"))+" ")]),e("span",{staticClass:"float-right"},["list"==t.NoteListType?e("a",{staticClass:"text-white",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Card View"},on:{click:function(e){t.NoteListType="card"}}},[e("i",{staticClass:"fa fa-th-large"}),t._v(" "+t._s(t.$t("CardView"))+" ")]):t._e(),"list"!=t.NoteListType?e("a",{staticClass:"text-white",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"List View"},on:{click:function(e){t.NoteListType="list"}}},[e("i",{staticClass:"fa fa-list"}),t._v(" "+t._s(t.$t("ListView"))+" ")]):t._e()]),e("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body",staticStyle:{"max-height":"600px","overflow-y":"auto"}},[e("div",{staticClass:"col-12 p-0"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticStyle:{clear:"both"}}),e("div",{staticClass:"pb-2 d-inline-block"},[e("span",{staticClass:"legend-Progress colorboxsquare"}),t._v(t._s(t.$t("PrivateNOTE"))+" "),e("span",{staticClass:"legend-upcoming colorboxsquare ml-3"}),t._v(t._s(t.$t("PublicNOTE"))+" ")]),t.NoRecordForTab?e("div",{staticClass:"text-center text-danger p-2 border"},[t._v(t._s(t.$t("NoRecordfound")))]):t._e(),e("div",{staticStyle:{clear:"both"}}),"list"!=t.NoteListType?e("div",{staticClass:"row ticket-card-container card-view bg-border p-0"},t._l(t.NoteData,(function(a){return t.NoRecordForTab?t._e():e("div",{staticClass:"col-md-12 col-lg-6 col-xl-3 mb-3",staticStyle:{"min-width":"257px"}},[e("div",{class:{"card-box":!0,"blue-bg-light":a.IS_PUBLIC,"green-bg-light":!a.IS_PUBLIC}},[e("div",{staticClass:"card-heading d-flex align-items-center"},[e("span",{staticClass:"user-img-con mr-2"},[e("img",{attrs:{src:null!=a.USER_IMAGE_PATH&&""!=a.USER_IMAGE_PATH?a.USER_IMAGE_PATH:"/Content/images/uc/uc_user_new.jpg",alt:""}})]),t._v(" "+t._s(a.POSTED_BY)+" ")]),e("div",{staticClass:"card-detail-main",staticStyle:{"max-height":"150px"}},[1==a.IS_PUBLIC?e("div",{staticClass:"card-detail"},[e("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),e("span",[e("p",[t._v(t._s(t.$t("Public")))])])]):t._e(),1!=a.IS_PUBLIC?e("div",{staticClass:"card-detail"},[e("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),e("span",[e("p",[t._v(t._s(t.$t("Private")))])])]):t._e(),e("div",{staticClass:"card-detail"},[e("span",[e("p",{domProps:{innerHTML:t._s(a.NOTE_CONTENT)}})])]),e("div",{staticClass:"bottom-action"},[e("div",{staticClass:"card-date"},[e("i",{staticClass:"fa fa-calendar-o",attrs:{"aria-hidden":"true"}}),t._v(" "),e("span",[t._v(t._s(t._f("formatDateTime")(a.CREATED_AT)))])]),e("div",{staticClass:"card-action"},[t.userid==a.CREATED_BY?e("a",{staticClass:"round-icon-small btn-success-light",class:{disabled:t.disabledAddNote},attrs:{href:"javascript:;",title:"Edit"},on:{click:function(e){return t.OpenEditNote(a)}}},[e("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"false"}})]):t._e(),e("a",{staticClass:"round-icon-small btn-danger-light",attrs:{href:"javascript:;",title:"Delete"},on:{click:function(e){return t.DeleteNote(a)}}},[e("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])])])])])])})),0):t._e(),"list"==t.NoteListType?e("div",{staticClass:"conversation-main"},[t._l(t.NoteData,(function(a){return t.NoRecordForTab?t._e():[e("div",{staticClass:"conversation-time"},[e("span",[t._v(t._s(t.timeFormatOnly(a.CREATED_AT)))])]),e("div",{staticClass:"conversation-box-con"},[e("div",{class:{"conversation-box":!0,"public-note":a.IS_PUBLIC,"private-note":!a.IS_PUBLIC}},[e("div",{staticClass:"name-circle light-grey"},[e("img",{staticClass:"img-circle avatar img-max-width",attrs:{src:null!=a.USER_IMAGE_PATH&&""!=a.USER_IMAGE_PATH?a.USER_IMAGE_PATH:"/Content/images/uc/uc_user_new.jpg",alt:""}})]),e("div",{staticClass:"conversation-header"},[e("span",[e("span",{staticClass:"sender-name"},[t._v(t._s(a.POSTED_BY))]),e("span",{staticClass:"sender-department"},[t._v("("),e("small",{staticClass:"text-danger font-14",attrs:{title:t._f("formatDateTime")(a.CREATED_AT)}},[t._v(t._s(t._f("formatDateTime")(a.CREATED_AT)))]),t._v(")")])]),e("span",{},[t.userid==a.CREATED_BY?e("a",{staticClass:"round-icon-small btn-danger-light float-right",attrs:{title:"Delete",href:"javascript:;"},on:{click:function(e){return t.DeleteNote(a)}}},[e("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e(),t.userid==a.CREATED_BY?e("a",{staticClass:"round-icon-small btn-success-light float-right",class:{disabled:t.disabledAddNote},attrs:{href:"javascript:;",title:"Edit"},on:{click:function(e){return t.OpenEditNote(a)}}},[e("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]):t._e()])]),e("div",{staticClass:"conversation-content"},[e("p",{domProps:{innerHTML:t._s(a.NOTE_CONTENT)}})])])])]}))],2):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.NoRecordForTab&&t.NoteData.length>0,expression:"!NoRecordForTab && NoteData.length > 0"}],staticClass:"border-top-paging thispagebod-full"},[e("pager-control",{attrs:{numberofrecords:t.TotalRecords,callbackfunction:t.FetchNotes,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"}})],1),e("div",{staticClass:"modal-footer pr-0"},[e("div",{staticClass:"col-lg-6 text-right p-0 mr-0"},[e("a",{staticClass:"btn btn-success formbtn text-white",class:{disabled:t.disabledAddNote},attrs:{href:"javascript:;"},on:{click:function(e){return t.OpenNote()}}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("AddNoteTab")))])])])])])])])])])])])},Ue=[],Be={props:{notedata:{type:Array,required:!0},userid:{type:Number,required:!0},companyid:{type:Number,required:!0},projectid:{type:Number,required:!0},ispublic:{type:Boolean,required:!0},pageSize:{type:Number,required:!0},pageNum:{type:Number,required:!0},sortBy:{type:String,required:!0},sortExp:{type:String,required:!0},numberofrecords:{type:Number,required:!0},tokenid:{type:String,required:!0},reqfrom:{type:String}},data:function(){return{NoteData:[],NoRecordForTab:!0,note:"",TotalRecords:0,TotalPages:0,PageSize:10,PageSizeOption:null,CurrentPage:1,GroupStart:1,GroupEnd:3,ModelSortBy:"",ModelSortExp:"",modalDeleteItem:null,NoteListType:"card",TaskId:null,typeNoteTask:"",ticketStatus:"",disabledAddNote:!1}},watch:{notedata:function(t){this.NoteData=t,this.TotalRecords=this.numberofrecords,this.ProjectId=this.projectid,this.TokenId=this.tokenid,this.ModelSortBy=void 0==this.sortBy?"":this.sortBy,this.ModelSortExp=void 0==this.SortExp?"":this.SortExp,this.NoRecordForTab=!(null!=this.NoteData&&this.NoteData.length>0)}},created:function(){"dashboard"==this.reqfrom?(this.ProjectId=this.$parent.modalNoteTaskItem.PROJECT_ID,this.TaskId=this.$parent.modalNoteTaskItem.TASK_ID,this.ticketStatus=this.$parent.modalNoteTaskItem.STATUS_NAME):(this.ProjectId=this.$parent.modalNoteTaskItem.ProjectId,this.TaskId=this.$parent.modalNoteTaskItem.TaskId),"Closed"==this.ticketStatus||"Closed and Locked"==this.ticketStatus?this.disabledAddNote=!0:this.disabledAddNote=!1,this.typeNoteTask=this.$parent.typeNoteTask,this.FetchNotes()},methods:{DeleteNote:function(t){this.modalDeleteItem=t,this.DeleteNoteData(this.modalDeleteItem.NOTE_ID)},DeleteNoteData:function(t){var e=this;t>0&&e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("ConfirmDelete"),(function(){var a={ids:t,companyId:e.$parent.CompanyId,userId:e.$parent.UserId,moduleName:e.$parent.ModuleName,subModuleCode:"Project_Detail",refCode:"TALYGEN_NOTES",refId:e.$parent.ProjectId},s=JSON.stringify(a);l["a"].CommonDelete(s).then((function(t){"Success"==t.data[0].Status?(e.ShowAlert(e.$t("DeletedSuccessfully"),"Success",!0,e.$t("Alert")),e.FetchNotes(),e.$parent.FetchData("kanban",null)):e.ShowAlert(e.$t("DeleteError"),"warning",!0,e.$t("Alert")),e.isLoading=!1}),(function(t){e.isLoading=!1}))}))},FetchNotes:function(){var t=this;t.noteData=[],t.PageNumber=void 0==t.PageNumber?1:t.PageNumber;var e="projectId="+t.ProjectId+"&isPublic="+!0+"&taskId="+t.TaskId+"&sortBy="+t.ModelSortBy+"&sortExp="+t.ModelSortExp+"&pageSize="+t.PageSize+"&pageNum="+t.PageNumber;l["a"].NoteListingByProjectaAndTask(e).then((function(e){t.isLoading=!1,console.log(e),null!=e.data.result.data[0]&&"Success"==e.data.status?(t.NoteData=e.data.result.data,t.TotalRecords=e.data.result.data[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=void 0==t.PageNumber?1:t.PageNumber,t.NoRecordForTab=!1):t.NoRecordForTab=!0}))},OpenNote:function(){this.$emit("close"),this.$parent.openProjectNoteModel(null,this.TaskId,this.typeNoteTask)},OpenEditNote:function(t){this.$emit("close"),this.$parent.openProjectNoteModel(t,this.TaskId,this.typeNoteTask)},timeFormatOnly:function(t){if(t)return At()(t).format("hh:mm a").toUpperCase()}}},Ge=Be,Ve=Object(c["a"])(Ge,je,Ue,!1,null,null,null),He=Ve.exports,Ye={name:"ToDo List Canban View",components:{AddManualModal:zt,Comments:te,RequestTimeModal:oe,Files:be,NoteListPopUp:He,AddNote:Se,UpdateProgress:Re,modaltracklocation:Fe},props:{status:{type:String,required:!1},module:{type:String,required:!0}},setup(){const t=Pt();return{store:t}},data(){return{ShowManageProjectQuickView:!1,showTrackLocationModal:!1,showUpdateProgressModal:!1,toDoList:[],Timer:"",globalTime:"",secondsPerMinute:60,minutesPerHour:60,Date:"",noRecordToDoList:!1,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,projectName:"",Status:"",TotalRecords:0,TRACKED_HOURS:"",PROJECT_ID:"",TASK_ID:"",PROGRESS:"",PendingRecords:0,ProgressRecords:0,OverdueRecords:0,UpcomingRecords:0,CompletedRecords:0,cardViewData:[],TagData:[],TrackId:0,pendingData:[],inprogressData:[],comData:[],MaxCount:0,showNoteModal:!1,modalNoteTaskItem:null,showAddNoteModal:!1,modalNoteItem:null,header:"",TaskId1:null,ProjectId:null,ModuleName:"TODOLIST",ModuleNameAll:"",isLoading:!1,isActiveWeeklyStatus:!0,trackerData:{projectId:0,trackDescription:"",taskId:0,isBillable:0,format:!1,date:null,trackId:0,startTime:At()().format("YYYY-MM-DD HH:mm:ss"),stopTime:At()().format("YYYY-MM-DD HH:mm:ss"),companyId:null,currentDate:At()().format("YYYY-MM-DD HH:mm:ss"),trackAgent:"web",timerStatus:"start",CreatedBy:this.store.getUserInformation.id,createdBy:this.store.getUserInformation.id,linkedTrackId:null,totalHours:0,timeformat:12,TagIds:"",isForcedUpdate:null,type:"TimeTrack",trackType:"TimeTrack",BreakDate:null,BreakName:null,BreakId:"",BreakStartTime:0,Shift_ID:0,SelectedDate:"",Break_Shift:""},series:[],series1:[],chartOptions:{},chartOptions1:{},seriesbar:[],chartOptionsBar:{},addManualShow:!1,commentsShow:!1,requestShow:!1,fromData:{},buttonIndex:"",isActiveActionButton:!1,DataArray:[],DraggedFromElementStatus:"",DraggedToElementStatus:"",DraggedElementTaskId:null,DraggedElementStatus:null}},created(){this.StatusDropdown(),this.Status=this.status,this.FetchData(),Object.assign(this.fromData,this.trackerData),this.store.getTimerInfo()},mounted(){const t=document.querySelector(".onlyd-view");t.addEventListener("scroll",e=>{t.scrollTop+t.clientHeight>=t.scrollHeight&&this.TotalPages>this.PageNumber&&(this.PageNumber=this.PageNumber+1,this.FetchData("scroll"))})},watch:{canban(t,e){this.FetchData("kanban","")}},methods:{StatusDropdown:function(){var t=this,e="langCode=en&statusType=Project&hasGlobal=1";l["a"].StatusDropdown(e).then((function(e){null!=e.data&&""!=e.data&&(t.StatusList=e.data.result.data,t.pendingData=$.grep(t.StatusList,(function(t,e){return"REFPEN"==t.STATUS_CODE})),t.inprogressData=$.grep(t.StatusList,(function(t,e){return"PNPGRS"==t.STATUS_CODE})),t.comData=$.grep(t.StatusList,(function(t,e){return"STATUS_DONE"==t.STATUS_CODE})))}))},ShowDataArray:function(){var t=this,e=[];e.push({name:"pending",count:0,data:[],show:0,className:"pending",SortIcon:"fa-sort-alpha-desc",StatusId:t.pendingData[0].STATUS_ID}),e.push({name:"inprogress",count:0,data:[],show:0,className:"overdue",SortIcon:"fa-sort-alpha-desc",StatusId:t.inprogressData[0].STATUS_ID}),this.DataArray=e},async FetchData(t){var e=this;e.isLoading=!0;"scroll"!=t&&(e.DataArray.data=[],e.toDoList=[],e.TagData=[]);let a="";a=`pageSize=${this.PageSize}&pageNumber=${this.PageNumber}&sortBy=${this.SortBy}&sortExp=${this.SortExp}&projectId=&type=kanban`,this.module?a=a+"&moduleNameForSearch="+this.module:a+="&moduleNameForSearch=''",this.Status?a=a+"&status="+this.Status:a+="&status=",await l["a"].GetToDoListing(a).then(t=>{var a=t.data.result.DATA;e.ShowDataArray(),console.log("StatusId",this.DataArray),null!=t.data&&""!=t.data&&(e.toDoList=t.data.result.DATA,$.each(e.DataArray,(function(t,s){var i=s.name,r=$.grep(a,(function(t,e){return t.STATUS.toLowerCase()==i})),o=$.grep(e.DataArray,(function(t,e){return t.name==i}));o[0].data=r,"undefined"!=typeof r[0]&&(o[0].name==r[0].STATUS?o[0].show=0:o[0].show=1,"overdue"==o[0].name&&(o[0].count=r[0].OVERDUERECORDS),"pending"==o[0].name&&(o[0].count=r[0].PENDINGRECORDS),"inprogress"==o[0].name&&(o[0].count=r[0].PROGRESSRECORDS),"upcoming"==o[0].name&&(o[0].count=r[0].UPCOMINGRECORDS),"completed"==o[0].name&&(o[0].count=r[0].COMPLETEDRECORDS))}))),e.TotalPages=Math.ceil(e.toDoList[0].TOTALRECORDS/e.PageSize),e.CurrentPage=e.PageNumber,e.TagData=t.data.result.TAGDATA})},OpenCommentModel(t){var e=this;Object.assign(e.trackerData,e.fromData),e.trackerData.MESSAGE_BOARD_ID=t.MESSAGE_BOARD_ID,e.trackerData.totalHours=t.TRACKED_HOURS,e.trackerData.projectId=t.PROJECT_ID,e.trackerData.taskId=t.TASK_ID,e.trackerData.TASK_NAME=t.TASK_NAME,e.trackerData.trackDescription=t.TASK_DESCRIPTION,this.commentsShow=!0},RequestTimeBtn(t){var e=this;Object.assign(e.trackerData,e.fromData),e.trackerData.MESSAGE_BOARD_ID=t.MESSAGE_BOARD_ID,e.trackerData.trackId=0,e.trackerData.totalHours=t.TRACKED_HOURS,e.trackerData.projectId=t.PROJECT_ID,e.trackerData.taskId=t.TASK_ID,e.trackerData.TASK_NAME=t.TASK_NAME,e.trackerData.trackDescription=t.TASK_DESCRIPTION,this.requestShow=!0},automaticStart(t){var e=this;Object.assign(e.trackerData,e.fromData),e.trackerData.startTime=At()().format("YYYY-MM-DD HH:mm:ss"),e.trackerData.stopTime=At()().format("YYYY-MM-DD HH:mm:ss"),e.trackerData.trackId=0,e.trackerData.totalHours=0,e.trackerData.projectId=t.PROJECT_ID,e.trackerData.taskId=t.TASK_ID,e.trackerData.trackDescription=t.TASK_DESCRIPTION,this.store.getTimer.statusCode?e.confirmR(e.$t("PreviouseStopNewRunTime"),!0,e.$t("Send")+"  "+e.$t("Records"),(async function(){await e.timerStopOrPause("stop","TimeTrack"),"stop"==e.store.getTimerRunResponse.userMsg&&(await e.store.submitProjectInfo(e.trackerData),e.FetchData(),e.store.getTimerInfo(),e.urlChange())})):e.confirmR(e.$t("ConfirmTimerContinue"),!0,e.$t("Send")+"  "+e.$t("Records"),(async function(){await e.store.submitProjectInfo(e.trackerData),0!=e.store.getTimerRunResponse.trackId&&e.store.getTimerRunResponse.trackId&&(await e.store.startTimer(),e.FetchData(),e.store.getTimerInfo(),e.urlChange())}))},urlChange(){const t=Object.assign({},this.$route.query);t.reload="reload",this.$router.replace({query:t})},ToggleActionButton(t){this.isActiveActionButton=!this.isActiveActionButton,t===this.buttonIndex?this.buttonIndex="":this.buttonIndex=t},manualyAddTime(t){var e=this;Object.assign(e.trackerData,e.fromData),e.trackerData.trackId=0,e.trackerData.totalHours=0,e.trackerData.projectId=t.PROJECT_ID,e.trackerData.taskId=t.TASK_ID,e.trackerData.trackDescription=t.TASK_DESCRIPTION,e.trackerData.linkedTrackId=0,this.store.getTimer.statusCode?e.confirmR(e.$t("AddManualWhenTimerAllreadyRunning"),!0,e.$t("Send")+"  "+e.$t("Records"),(async function(){await e.timerStopOrPause("stop","TimeTrack"),"stop"==e.store.getTimerRunResponse.userMsg&&(e.addManualShow=!0)})):e.addManualShow=!0},async timerStopOrPause(t,e){if(this.store.getTimer.CreatedBy=this.store.getUserInformation.id,this.store.getTimer.createdBy=this.store.getUserInformation.id,this.store.getTimer.currentDate=At()().format("YYYY-MM-DD HH:mm:ss"),this.store.getTimer.timerStatus=t,this.store.getTimer.trackType=e,this.store.getTimer.type=e,this.store.trackAgent="web","pause"==t&&"TimeTrack"==e){let t=0;this.store.$state.timerCountInSec="01-01-1950"==At()(new Date(this.store.getTimer.dateStop),"DD/MM/YYYY HH:mm:ss").format("DD-MM-YYYY")?Object($t["getSecondsFromDate"])({startDate:this.store.getTimer.dateStart,endDate:At()()},"seconds"):t+parseInt(this.store.getTimer.resumeHours),this.store.getTimer.stopTime=At()().format("YYYY-MM-DD HH:mm:ss"),this.store.getTimer.totalHours=this.store.$state.timerCountInSec,await this.store.submitProjectInfo(this.store.getTimer),await this.store.getTimerInfo(),this.store.stopTimer()}else"stop"==t&&"TimeTrack"==e?(this.store.getTimer.stopTime=At()().format("YYYY-MM-DD HH:mm:ss"),this.store.getTimer.startTime=At()().format("YYYY-MM-DD HH:mm:ss"),this.store.getTimer.totalHours=this.store.$state.timerCountInSec,await this.store.submitProjectInfo(this.store.getTimer),await this.store.getTimerInfo(),this.store.stopTimer(),this.store.$state.timerCountInSec=0,this.store.$state.timerClock="00:00:00"):"resume"==t&&"TimeTrack"==e&&(this.store.getTimer.startTime=At()().format("YYYY-MM-DD HH:mm:ss"),await this.store.submitProjectInfo(this.store.getTimer),await this.store.getTimerInfo(),this.store.$state.timerCountInSec=parseInt(this.store.getTimer.resumeHours),this.store.startTimer());this.urlChange(),this.FetchData()},toggleWeeklyStatus(){this.isActiveWeeklyStatus?this.isActiveWeeklyStatus=!1:this.isActiveWeeklyStatus=!0},showTrackPercent:function(t){var e=0;return e=t.TRACKED_HOURS/(3600*t.ALLOCATE_HOURS),e*=100,e=parseFloat(e,10).toFixed(1),e=e<=0||isNaN(e)||"infinity"==e.toLowerCase()?100:100-e,Math.sign(e)<0&&(e=0),e=Math.round(parseFloat(e,10)),e},formatOnlyMonthYearWithComma:function(t){if(t)return At()(t).format("MMM")+", "+At()(t).format("YYYY")},formatOnlyDate:function(t){if(t)return At()(t).format("DD")},convertSecondsToHHMMSS:function(t){var e=this.convertHours(t),a=this.getRemainingMinutes(t);return a=60==a?"00":a,e<10&&(e="0"+e),a<10&&(a="0"+a),e+":"+a},calculateWeekHoursAVG:function(t,e){var a=Math.floor(t/e);return isNaN(a)&&(a=0),a},convertSecondsToHHMMSSNew:function(t){var e=this.convertHours(t),a=this.getRemainingMinutes(t);a=60==a?"00":a;var s=this.getRemainingSeconds(t);return e<10&&(e="0"+e),a<10&&(a="0"+a),s<10&&(s="0"+s),e+":"+a+":"+s},convertHours:function(t){var e=this.convertMinutes(t),a=Math.floor(e/this.minutesPerHour);return a},convertHoursTwoDecimal:function(t){var e=this.convertMinutes(t),a=(e/this.minutesPerHour).toFixed(2);return a},convertMinutes:function(t){return Math.floor(t/this.secondsPerMinute)},getRemainingMinutes:function(t){var e=this.convertMinutes(t);return e%this.minutesPerHour},getRemainingSeconds:function(t){return t%this.secondsPerMinute},splitTimeZone:function(t){var e=t.split(" ");t.split(")");return e[0]},splitTags:function(t){return null!=t?t.split(","):[]},convertSecondsToHH:function(t){var e=this.convertHoursTwoDecimal(t);return e<10&&(e="0"+e),e+" hrs "},checkMove:function(t){return this.DraggedFromElementStatus=t.draggedContext.element.STATUS,"completed"!=String(t.draggedContext.element.STATUS).toLowerCase()&&"upcoming"!=String(t.draggedContext.element.STATUS).toLowerCase()},onStart:function(t){try{this.DraggedFromElementStatus=t.item._underlying_vm_.STATUS}catch(e){console.log("Exception on onStart Method"),console.log(e)}if($(t.srcElement).attr("status")==$(t.target).attr("status"))return!1},onEnd:function(t){this.DraggedToElementStatus=t.to.getAttribute("data-status"),console.log("DraggedElementStatus",this.DraggedElementStatus),"undefined"!=typeof this.DraggedElementStatus&&""!=this.DraggedElementStatus&&null!=this.DraggedElementStatus&&"0"!=this.DraggedElementStatus||(this.DraggedElementStatus=$(t.to).closest(".cards-content").attr("data-statusid"),console.log("DraggedElementStatus",this.DraggedElementStatus)),this.UpdateStatusDragDrop()},ChangeStatusDrag:function(t,e){var a=this;"undefined"!=typeof t.added&&(a.DraggedElementTaskId=t.added.element.TASK_ID,a.DraggedElementStatus=e)},UpdateStatusDragDrop:function(){var t=this,e=!1,a=String(t.DraggedFromElementStatus).toLocaleLowerCase(),s=String(t.DraggedToElementStatus).toLocaleLowerCase();if(console.log("draggedFromElementStatus1",a),console.log("draggedToElementStatus1",s),""==a||null==t.DraggedElementTaskId)return!1;if(("overdue"!=a||"inprogress"!=s&&"completed"!=s)&&("pending"!=a||"inprogress"!=s&&"completed"!=s)?"inprogress"==a&&"completed"==s&&(e=!0):e=!0,e){var i={ID:t.DraggedElementTaskId,StatusId:t.DraggedElementStatus,IsFor:"TODOKANBANLISTING"},r=JSON.stringify(i);l["a"].UpdateStatus(r).then((function(e){t.isLoading=!0,console.log("response",e),null!=e.data&&"Success"===e.data.status?(t.DataArray.data=[],t.PageNumber=1,$("#hdfStartIndex").val(1),$("#hdfEndIndex").val(100),t.ShowAlert(t.$t("RecordsUpdatedSuccessfully"),"success",!0,t.$t("Alert")),t.FetchData()):(t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert")),t.FetchData()),t.isLoading=!1,t.DraggedElementTaskId=null}))}else t.DraggedElementTaskId=null,t.FetchData("kanban",null),t.ShowAlert(t.$t("Dragging"),"warning",!0,t.$t("Alert"));t.isLoading=!1},openNoteListPopUp:function(t,e){var a=this;a.showNoteModal=!0,a.modalNoteTaskItem=t,this.ProjectId=t.PROJECT_ID},ProjectQuickView(t,e,a,s){this.ShowManageProjectQuickView=!0,this.modalProjectId=t,this.modalTaskId=e},openProjectNoteModel:function(t,e){""!=t&&null!=t?(this.TaskId1=e,this.showAddNoteModal=1!=this.showAddNoteModal,this.modalNoteItem=t,this.header=this.$t("EditNotes")):(this.TaskId1=e,this.showAddNoteModal=1!=this.showAddNoteModal,this.header=this.$t("AddNotes"))},ProgressDivOpen:function(t){var e=this;e.showUpdateProgressModal=!0,t.StopTimerBtn=!0,t.UpdateProgress=!0,e.TRACKED_HOURS=this.convertSecondsToHHMMSSNew(t.TRACKED_HOURS),e.TASK_ID=t.TASK_ID,e.PROGRESS=t.PROGRESS},trackLocation:function(t){this.TrackId=t,this.showTrackLocationModal=!0},FormatDateToTime(t,e){return At()(t).format(e)}}},qe=Ye,We=(a("1c8f"),Object(c["a"])(qe,wt,xt,!1,null,null,null)),ze=We.exports,Ke={components:{BarChart:L,LineChart:V,PieChart:K,DonutChart:et,TableChart:lt,NumberChart:ht,PopupComponent:kt,kanbanview:ze},props:{reports:null,selectedDashboardName:null,moduleCode:null,dashboardid:Number,isdraggable:Boolean,isresizable:Boolean,isTodo:Boolean},data:function(){return{layout:[],numberLayout:[],layoutNew:[],isLoading:!1,toDoList:!1,draggable:this.isdraggable,resizable:this.isresizable,index:0,removedWidgets:[],isInEditMode:!1,showPopup:!1,popupContentType:"",popupItem:null,chartsArray:[],fromDate:"",toDate:"",chartType:"",resizeheight:null,tableheight:null,widgetData:null,statusArray:["PENDING","INPROGRESS"]}},mounted(){this.index=this.layout.length},created(){this.CreateReportWidget(),this.popupItem=this.layout.find(t=>t.reportId)},methods:{SetWidgetData(t,e){this.widgetData=t},ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},capitalizeChartType(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""},openPopup(t,e){this.popupItem=this.layout.find(e=>e.reportId===t.reportId),console.log(this.popupItem),this.popupContentType=e,this.popupReportId=t.reportId,this.popupReportName=t.reportName,this.showPopup=!0,this.showPopup&&(t.showDropdown=!1)},closePopup(t){this.showPopup=!1},addStyleInInnerGried(){this.$nextTick(()=>{const t=document.querySelector(".InnerGried").style.height,e=document.querySelector(".InnerGried").style.width;return{width:e,Height:t}})},updateChildVariables(){var t=this;t.isInEditMode=!t.isInEditMode,t.draggable=!t.draggable,t.resizable=!t.resizable},itemTitle(t){let e=t.i;return t.static&&(e+=" - Static"),e},ExpandCollapseReport:function(t,e){$(t.target).closest(".vue-grid-item").width(996).height(390)},onResizeStop:function(t){switch(t.chartType){case"Bar":this.$refs["bar"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Horizontal_Bar":this.$refs["horizontal_bar"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Line":this.$refs["line"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Pie":this.$refs["pie"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Donut":this.$refs["donut"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Numbers_Chart":this.$refs["numbers_chart"+t.reportId+"_"+t.widgetId][0].FetchData();break;default:this.$refs["table"+t.reportId+"_"+t.widgetId][0].FetchData();break}},CreateReportWidget(){var t=this;t.layout=[],t.numberLayout=[];for(let s=0;s<t.reports.length;s++){let i=null!=t.reports[s].widgetWidth?parseInt(t.reports[s].widgetWidth):3,r=null!=t.reports[s].widgetHeight?parseInt(t.reports[s].widgetHeight):10,o=document.getElementById("main-content").offsetWidth/12;var e=0;if(r>=4?e=25*r:r>4&&r<=15?e=30*r:r>15&&(e=100*r),null==t.reports[s].xaxis&&0==t.dashboardid)var a=s%4*3;else a=null!=t.reports[s].xaxis?parseInt(t.reports[s].xaxis):0;"numbers_chart"!==t.reports[s].chartType?t.layout.push({reportId:t.reports[s].reportId,widgetId:t.reports[s].widgetId,reportName:t.reports[s].reportName,chartType:t.reports[s].chartType,actualWidgetType:t.reports[s].actualWidgetType,isSystemReport:t.reports[s].isSystemReport,fromDate:t.reports[s].fromDate,toDate:t.reports[s].toDate,filterData:t.reports[s].filterData,x:a,y:null!=t.reports[s].yaxis?parseInt(t.reports[s].yaxis):0,w:i,h:r,i:s.toString(),width:o*i,height:e,static:!1}):t.numberLayout.push({reportId:t.reports[s].reportId,widgetId:t.reports[s].widgetId,reportName:t.reports[s].reportName,chartType:t.reports[s].chartType,actualWidgetType:t.reports[s].actualWidgetType,isSystemReport:t.reports[s].isSystemReport,icon:t.reports[s].icon,fromDate:t.reports[s].fromDate,toDate:t.reports[s].toDate,filterData:t.reports[s].filterData,i:s.toString(),static:!1})}},SaveEditedChanges(){var t=this,e=t.removedWidgets.join(", "),a={reports:t.layout,DeletedRec:e,dashboardId:t.dashboardid,dashboardName:t.selectedDashboardName},s=JSON.stringify(a);t.confirmR(t.$t("ConfirmDynamicReportsEdit"),!0,t.$t("Confirm"),(function(e){l["a"].SaveEditsInDashboardReports(s).then(e=>{try{t.ShowAlert(t.$t("EditedSuccess",[t.$t("Changes")]),"success",!0,t.$t("Alert")),t.$parent.GetDashboard(t.dashboardid)}catch(a){return HandleErrorOccured(a,"failure")}})}),(function(){t.$parent.GetDashboard(t.dashboardid)}))},increaseWidth:function(){let t=document.getElementById("content").offsetWidth;t+=20,document.getElementById("content").style.width=t+"px"},decreaseWidth:function(){let t=document.getElementById("content").offsetWidth;t-=20,document.getElementById("content").style.width=t+"px"},removeItem:function(t,e,a){var s=this;s.layout.length<=2&&"numbers_chart"!==a?s.ShowAlert(s.$t("ConfirmModalNotDelete"),"warning"):s.confirmR(s.$t("ConfirmModalDelete"),!0,s.$t("Confirm"),(function(){if("numbers_chart"===a){const i=s.numberLayout.findIndex(s=>s.i===t&&s.reportId===e&&s.chartType===a);-1!==i&&s.numberLayout.splice(i,1)}else{const e=s.layout.map(t=>t.i).indexOf(t);s.layout.splice(e,1)}s.removedWidgets.push(e)}))},toggleWidgetDropdown(t){this.layout.forEach(e=>{t.reportId==e.reportId?this.$set(e,"showDropdown",!t.showDropdown):this.$set(e,"showDropdown",!1)})},editWidget(t){console.log("Editing widget:",t)},configureWidget(t){console.log("Configuring widget:",t)},openWidgetSetting(t){this.selectedLayout=t,this.showWidgetsetting=!this.showWidgetsetting},addItem:function(){const t={x:0,y:0,w:2,h:2,i:this.index+"",whatever:"bbb"};this.index++,this.layout.push(t)},resizeEvent:function(t,e,a,s,i){this.resizeheight=e,this.tableheight=e,console.log("RESIZE i="+t+", H="+e+", W="+a+", H(px)="+s+", W(px)="+i)},resizedEvent:function(t,e,a,s,i){console.log("RESIZE i="+t+", H="+e+", W="+a+", H(px)="+s+", W(px)="+i);let r=document.getElementById("main-content").offsetWidth/12;this.layout[t].width=r*a,e>=4?this.layout[t].height=25*e:e>4&&e<=15?this.layout[t].height=30*e:e>15&&(this.layout[t].height=100*e)}}},Je=Ke,Qe=(a("697a"),Object(c["a"])(Je,A,E,!1,null,"7cc79021",null)),Xe=Qe.exports,Ze=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"DatePopUp dynamicdb divtimer_design p-1",attrs:{id:"DivTimer_"+t.pgaction,"data-pageaction":t.pgaction}},[e("table",{staticClass:"table-responsive AssetDatePopUp d-block"},[e("tbody",{staticClass:"daterangebody"},[e("tr",{ref:"daterange",staticClass:"daterangetr"},[e("td",{staticClass:"sep daterangetd"},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"1"}},[e("a",{staticClass:"Today",attrs:{title:t.$t("Today"),id:"aToday",typ:"Today"},on:{click:function(e){return t.ClickTimer("Today",this,t.pgaction)}}},[t._v(t._s(t.$t("Today")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin1","aria-hidden":"true"}})]),e("li",{attrs:{id:"2"}},[e("a",{staticClass:"Yesterday",attrs:{title:t.$t("Yesterday"),id:"aYesterday",typ:"Yesterday"},on:{click:function(e){return t.ClickTimer("Yesterday",this,t.pgaction)}}},[t._v(t._s(t.$t("Yesterday")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 inpinner pinhide",attrs:{id:"pin2","aria-hidden":"true"}})]),e("li",{attrs:{id:"3"}},[e("a",{staticClass:"Week",attrs:{title:t.$t("ThisWeek"),id:"aWeek",typ:"Week"},on:{click:function(e){return t.ClickTimer("ThisWeek",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin3","aria-hidden":"true"}})]),e("li",{attrs:{id:"4"}},[e("a",{staticClass:"AllTime",attrs:{title:t.$t("AllTime"),id:"aAll",typ:"AllTime"},on:{click:function(e){return t.ClickTimer("ThisYear",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisYear")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin4","aria-hidden":"true"}})])])]),e("td",{staticClass:"daterangetd",attrs:{valign:"top"}},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"5"}},[e("a",{staticClass:"LastWeek",attrs:{id:"aLastWeek",typ:"LastWeek",title:t.$t("LastWeek")},on:{click:function(e){return t.ClickTimer("LastWeek",this,t.pgaction)}}},[t._v(t._s(t.$t("LastWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin5","aria-hidden":"true"}})]),e("li",{attrs:{id:"6"}},[e("a",{staticClass:"Month",attrs:{id:"aMonth",typ:"Month",title:t.$t("ThisMonth")},on:{click:function(e){return t.ClickTimer("ThisMonth",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin6","aria-hidden":"true"}})]),e("li",{attrs:{id:"7"}},[e("a",{staticClass:"LastMonth",attrs:{id:"aLastMonth",typ:"LastMonth",title:t.$t("LastMonth")},on:{click:function(e){return t.ClickTimer("LastMonth",this,t.pgaction)}}},[t._v(t._s(t.$t("LastMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin7","aria-hidden":"true"}})])])])])])]),e("div",{staticClass:"d-flex justify-content-between align-items-end daterangetr",staticStyle:{"column-gap":"10px"}},[e("div",{staticClass:"table_datepickerfix"},[e("label",[t._v("From")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none FromDate form-control p-1",attrs:{id:"txtFromDate_"+t.pgaction,name:"startDate"},domProps:{value:a}},s))]}}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("div",{staticClass:"table_datepickerfix"},[e("label",[t._v("To")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none ToDate form-control p-1",attrs:{id:"txtToDate_"+t.pgaction,name:"endDate"},domProps:{value:a}},s))]}}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("div",{staticClass:"table_datepickerfix"},[e("input",{staticClass:"btn btn-success float-left p-1 p-1 pl-4 pr-4",attrs:{type:"button",id:"btnsearch_"+t.pgaction,"data-result":"btnsearch",value:"Go"},on:{click:function(e){return t.searchGoclick(this,t.pgaction)}}})])])]),e("input",{attrs:{type:"hidden",id:"hdnDateSpan",value:"Month",title:"hidden ctr for keeping current Search type Like week, month and day."}}),e("input",{attrs:{type:"hidden",id:"ReportViewer",name:"returnType"}}),e("input",{attrs:{type:"hidden",id:"pgaction",name:"pgaction"},domProps:{value:t.pgaction}}),e("input",{attrs:{type:"hidden",id:"hdnViewId",name:"viewid"}}),e("input",{attrs:{type:"hidden",id:"hdnPinnedViewId",name:"viewid"}})])},ta=[],ea={props:{pgaction:null},data(){return{isLoading:!1,fromDate:null,toDate:null,eval:"",evaltype:"",showPin:!1,typeCalender:null}},created(){this.ClickTimer("ThisWeek",this,this.pgaction)},mounted(){$("#DivTimer_global").addClass("d-none")},methods:{searchGoclick(t,e){var a=this;$("#hdnViewId").val(""),$(".btnPin").hide(),a.$emit("set-date",$("#txtFromDate_"+e).val(),$("#txtToDate_"+e).val(),a.typeCalender)},SearchRecord(t,e){var a=e,s=$("#txtFromDate_"+a).val(),i=$("#txtToDate_"+a).val(),r=($("#aDateLable_"+a).html(),$(t).closest(".ticketingDashboardHead").attr("dctrl")),o=$(t).closest(".ticketingDashboardHead").attr("daction"),l=$(t).closest(".ticketingDashboardHead").find(".reportBlock");$.ajax({url:"/"+r+"/"+o,data:{fromDate:s,toDate:i},type:"get",async:!0,cache:!1,success:function(t){l.empty(),l.append(t)},error:function(){}})},ClickTimer(t,e,a){var s=this;$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),"global"==$(e).closest("div.DatePopUp").attr("data-pageaction")?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),s.isLoading=!0,s.FadeInOut1(e),$("#dashbord-graph-widget").find(".ticketingDashboardHead").each((function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()})),"Today"==t?(s.typeCalender=t,s.GetStartEndDates(t,e,a)):"Yesterday"==t?(s.typeCalender=t,s.GetStartEndDates("yesterday",e,a)):"ThisWeek"==t?(s.typeCalender=t,s.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?(s.typeCalender=t,s.GetStartEndDates("lastweek",e,a)):"ThisMonth"==t?(s.typeCalender=t,s.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?(s.typeCalender=t,s.GetStartEndDates("lastmonth",e,a)):"ThisYear"==t&&(s.typeCalender=t,s.GetStartEndDates("thisyear",e,a)),s.isLoading=!1):("Today"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.typeCalender=t,s.GetStartEndDates(t,e,a)):"Yesterday"==t?(s.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates("yesterday",e,a)):"ThisWeek"==t?(s.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("week"),s.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?(s.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("week"),s.GetStartEndDates("lastweek",e,a)):"ThisMonth"==t?(s.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("month"),s.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?(s.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("month"),s.GetStartEndDates("lastmonth",e,a)):"ThisYear"==t&&(s.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates("thisyear",e,a)),s.FadeInOut1(e)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show(),$("#DivTimer_global").addClass("d-none")},FadeInOut(){$("#DivTimer").toggle()},FadeInOut1(t){var e=$(t).closest(".date_range").find("#pgaction").val();$(t).closest(".date_range").find("#DivTimer_"+e).toggle()},GetStartEndDates(t,e,a){var s=this;s.isLoading=!0;var i=`DateSpan=${t.toLowerCase()}&report=${$("#hdnGroupBy").val()}`;l["a"].GetStartEndDate_New(i).then((function(t){s.isLoading=!1;var e=t.data;s.fromDate=e.dateStart,s.toDate=e.dateEnd,$("#txtFromDate_"+a).val(e.dateStart),$("#txtToDate_"+a).val(e.dateEnd),$("#aDateLable_"+a).find("em").text(e.displayText),s.$emit("set-date",e.dateStart,e.dateEnd,s.typeCalender)}))}}},aa=ea,sa=(a("f55b"),Object(c["a"])(aa,Ze,ta,!1,null,null,null)),ia=sa.exports,ra=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups",attrs:{id:"MMMM"}},[e("div",{staticClass:"modal d-block",attrs:{id:"choosewizards"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Filter")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.CloseHeaderPopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"form",attrs:{id:"fileuploadForMessage"},scopedSlots:t._u([{key:"default",fn:function({valid:a,errors:s}){return[e("div",{staticClass:"listing mt-2"},[e("div",{staticClass:"table-responsive overflow-visible"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline"},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticStyle:{"min-width":"110px","max-width":"110px"}},[e("span",[t._v("Field Name")])]),e("th",{staticStyle:{"min-width":"160px","max-width":"110px"}},[e("span",[t._v("Conditional Operator")])]),e("th",{staticStyle:{"min-width":"350px"}},[e("span",[t._v("Value")])]),e("th",{staticClass:"text-center"},[e("a",{staticClass:"text-success",attrs:{href:"javascript:void(0)"},on:{click:t.addNewRow}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v("Add")])])])]),e("tbody",t._l(t.searchFilter,(function(a,i){return e("tr",[e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:a.fieldName,expression:"item.fieldName"}],class:{"form-control disableAria w-100":!0,error:s[0]},attrs:{name:"fieldName1","data-vv-name":"SearchFilter.fieldName1","aria-required":"true","aria-invalid":"false"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"fieldName",e.target.multiple?s:s[0])},function(e){return t.GetDropDownValue(a,i)}]}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select")]),t._l(t.FieldList,(function(a,s){return e("option",{attrs:{disabled:t.searchFilter.filter(t=>t.fieldName==a.value).length>0},domProps:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])}))],2)]),e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:a.operator,expression:"item.operator"}],staticClass:"form-control disableAria",attrs:{name:"operator1","aria-required":"true","aria-invalid":"false"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"operator",e.target.multiple?s:s[0])},function(e){return t.EmptyValue(a)}]}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.Operators,(function(a){return e("option",{domProps:{value:a.expression}},[t._v(t._s(a.name))])}))],2)]),e("td",{staticClass:"overflow-visible",staticStyle:{overflow:"visible !important"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 float-left"},[""==a.operator||"="==a.operator||"<>"==a.operator?e("select",{directives:[{name:"model",rawName:"v-model",value:a.fieldValue,expression:"item.fieldValue"}],staticClass:"form-control disableAria",attrs:{name:"operator1","aria-required":"true","aria-invalid":"false"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"fieldValue",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(a.SelectOptionsForValue,(function(a){return e("option",{domProps:{value:a.value}},[t._v(" "+t._s(a.label))])}))],2):e("Multiselect",{staticClass:"form-control",staticStyle:{"box-sizing":"border-box","margin-top":"0px","padding-left":"0px","padding-right":"0px"},attrs:{multiple:!0,label:"label","track-by":"value",placeholder:"Select",searchable:!0,mode:"tags",limit:2,taggable:!1,"close-on-select":!0,options:a.SelectOptionsForValue},on:{select:t.selectionChange,remove:t.removeElement},model:{value:a.fieldValue,callback:function(e){t.$set(a,"fieldValue",e)},expression:"item.fieldValue"}},[e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("No Record(s) found.")])])],1)])]),e("td",{staticClass:"text-center single-action"},[i>0?e("a",{staticClass:"text-danger",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.deleteRow(i)}}},[e("em",{staticClass:"fa fa-trash pr-2"})]):t._e()])])})),0)])]),e("div",{staticClass:"modal-footer text-right pr-0 pb-0"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[e("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;",title:t.$t("Search")},on:{click:function(e){return t.SubmitData()}}},[e("em",{staticClass:"fa fa-search pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Search"))+" ")]),e("a",{staticClass:"btn btn-primary delete-btn",attrs:{href:"javascript:;",title:t.$t("Reset")},on:{click:function(e){return t.CloseHeaderPopup()}}},[e("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Reset"))+" ")])])])])]}}])})],1)])])])])},oa=[],la={data(){return{FieldList:[{name:"Biller Assigned",value:"BillerName"},{name:"Contract",value:"Contract"},{name:"State",value:"State"}],Operators:[{name:"Equals to",expression:"="},{name:"No Equals to",expression:"<>"},{name:"Contains",expression:"IN"},{name:"Not contains",expression:"NOT IN"}],searchFilter:[{fieldName:"",operator:"",fieldValue:"",SelectOptionsForValue:[]}],DataValue:[],multiselectArray:[],modelmultiselect:[],FieldValue:"",OperatorValue:"",FirstSelectValue:"",AllSearchValue:[],TypeValue:"",isResultTrue:!0}},props:{FilterJsonForEdit:{type:Array,default:[]},dashboardid:null},created:function(){this.FilterJsonForEdit.length>0&&(this.searchFilter=this.FilterJsonForEdit)},methods:{CloseHeaderPopup(){var t=this;t.searchFilter=[{fieldName:"",operator:"",fieldValue:"",SelectOptionsForValue:[]}],t.$parent.addFilters=!1,t.$emit("updatefilter","",t.searchFilter)},deleteRow:function(t){this.searchFilter.splice(t,1)},addNewRow:function(){this.searchFilter.push({fieldName:"",operator:"",fieldValue:"",SelectOptionsForValue:[]})},GetDropDownValue:function(t,e){var a=t.fieldName,s="";t.fieldValue="",t.operator="",t.SelectOptionsForValue=[],"Contract"==a?(s="PageNumber=&PageSize=&Type=BILLING_DASHBOARD&Search=&Id=&ScreenName",l["a"].GetContractList(s).then((function(e){e.data.length>0&&e.data.forEach((e,a)=>{t.SelectOptionsForValue.push({value:e.chilD_USER_ID,label:e.chilD_NAME})})}))):"State"==a?(s="CountryId=223&IncludeCanadaState=false",l["a"].GetFilterStateList(s).then((function(e){e.data.length>0&&e.data.forEach((e,a)=>{t.SelectOptionsForValue.push({value:e.isO_CODE_3,label:e.statE_NAME})})}))):"BillerName"==a&&(s="Type=BILLEDUNBILLED",l["a"].GetBillerList(s).then((function(e){e.data.length>0&&e.data.forEach((e,a)=>{t.SelectOptionsForValue.push({value:e.userid,label:e.username})})})))},SubmitData(t){var e=this;let a=[];if(e.searchFilter.forEach((t,s)=>{let i=[];if(""!=t.fieldName&&""!=t.operator&&""!=t.fieldValue){let s={fieldName:t.fieldName,operator:t.operator,fieldValue:t.fieldValue};"IN"==t.operator||"NOT IN"==t.operator?"undefined"==typeof t.fieldValue.length?i.push("'"+t.fieldValue.value+"'"):t.fieldValue.forEach((function(t){i.push("'"+t.value+"'")})):i.push("'"+t.fieldValue+"'"),s.fieldValue=i.join(","),a.push(s),e.isResultTrue=!0}else e.isResultTrue=!1}),1==e.isResultTrue){var s=JSON.stringify(a);e.$emit("updatefilter",s,e.searchFilter),e.$emit("close")}else e.ShowAlert(e.$t("FillFealds"),"warning",!0,e.$t("Alert"))},EmptyValue(t){t.fieldValue=""}}},na=la,da=Object(c["a"])(na,ra,oa,!1,null,null,null),ca=da.exports,pa={components:{ModalAddDashboard:u,ModalAddReport:b,ModalShareReport:I,ReportLayout:Xe,daterange:ia,AddFilter:ca},data:function(){return{selectedDashboardName:"",cursorPointer:!1,isLoading:!1,showAdddashboard:!1,showAddReport:!1,shareReportKey:!1,showShareReport:!1,isOwnerKey:!1,isDefaultKey:!1,dashboards:[],dashboardid:0,reports:[],showFilters:!1,showpopup:!1,StateList:[],fromDate:null,toDate:null,calenderSelect:"",clientByCompany:[],selectedClient:[],isdraggable:!1,isresizable:!1,isDropdownOpen:!1,editOrSave:"Edit",DeleteButtonClass:"fa fa-trash",ShareButtonClass:"fa fa-share",SaveEditButtonClass:"fa fa-edit",SaveDefaultClass:"fa fa-floppy-o",displayEditButton:!1,addFilters:!1,moduleCode:"index"==this.$route.params.moduleCode.toLowerCase()?"CRM":this.$route.params.moduleCode,filterData:"",FilterJsonForEdit:[],SelectedDashboardItem:!1}},created:function(){this.GetDashboard(),this.GetStateListByCountryCode(),this.GetParentClientByCompanyIdForGroup_New()},computed:{computedSelectedDashboardName(){const t=this.dashboards.find(t=>t.dashboard_id===this.dashboardid);return t?t.dashboard_name:""}},watch:{fromDate:"handleDashboardData",toDate:"handleDashboardData",filterData:"handleDashboardData",computedSelectedDashboardName(t){this.selectedDashboardName=t}},methods:{makeDefault(){var t=this;t.confirmR(t.$t("ConfirmModal"),!0,t.$t("Confirm"),(function(){var e=`dashboardId=${t.dashboardid}&moduleCode=${t.moduleCode}`;l["a"].SaveDashboardDefaultReport(e).then((async function(e){e.data.status?(t.ShowAlert(t.$t("AddedDefault",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")),await t.GetDashboard()):t.ShowAlert(t.$t("Failure",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))}))}))},removeDefault(){var t=this;t.confirmR(t.$t("ConfirmModal"),!0,t.$t("Confirm"),(function(){var e=`dashboardId=${t.dashboardid}&moduleCode=${t.moduleCode}`;l["a"].RemoveDashboardDefaultData(e).then((async function(e){e.data.status?(t.ShowAlert(t.$t("RemoveDefaultDashboard",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")),await t.GetDashboard()):t.ShowAlert(t.$t("Failure",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))}))}))},updateSelectedOptions(){this.selectedClient=this.clientByCompany.filter(t=>t.selected)},SetDateRange(t,e,a){this.fromDate=t,this.toDate=e,this.calenderSelect=a},OpenDatePopUp(){this.showpopup=!this.showpopup,$("#DivTimer_global").toggleClass("d-none")},openFilters(){this.showFilters=!this.showFilters},addFilterss(){this.addFilters=!0},opendashborad(){this.showAdddashboard=!this.showAdddashboard},openReport(){this.showAddReport=!this.showAddReport},editreport(t){var e=this;"Save"==e.editOrSave&&1!=t&&(e.cursorPointer=!0,e.SaveEditReport()),e.SaveEditButtonClass="Edit"==e.editOrSave?"fa fa-save":"fa fa-edit",e.editOrSave="Edit"==e.editOrSave?"Save":"Edit",this.$refs.reportLayoutref.updateChildVariables()},SaveEditReport(){var t=this;"Save"==t.editOrSave&&this.$refs.reportLayoutref.SaveEditedChanges()},shareReport(){this.showShareReport=!0},deleteReport(){var t=this;t.dashboardid;var e={ids:t.dashboardid,refCode:"Dynamic_Dashboard"},a=JSON.stringify(e);t.confirmR(t.$t("ConfirmModalDelete"),!0,t.$t("Confirm"),(function(){l["a"].deleteActivityData(a).then(e=>{"Success"==e.data[0].Status?(t.getDefaultDashboard(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Dashboard")]),"success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Dashboard")]),"failure",!0,t.$t("Alert"))})}))},async getDefaultDashboard(){var t=this;t.isLoading=!0,t.dashboardid>0&&(t.dashboardid="0"),t.GetDashboard(t.dashboardid),t.isLoading=!1},async GetDashboard(t){var e=this,a="moduleCode="+this.moduleCode;e.isLoading=!0,await l["a"].GetDashboard(a).then(a=>{let s=JSON.parse(a.data);if(e.dashboards=s.DATA,e.dashboards.length>0){let a=e.dashboards.filter(t=>1==t.is_default);e.dashboardid=null!==a&&""!==a&&void 0===t?a.length>0?a[0].dashboard_id:e.dashboardid=0:t}e.onchangeView()}),setTimeout(()=>{e.isLoading=!1},6e3)},updateReportObject(){this.fromDate&&this.toDate&&this.reports.forEach(t=>{t.fromDate=this.fromDate,t.toDate=this.toDate,t.filterData=this.filterData})},async onchangeView(){var t=this,e=`dashboardId=${t.dashboardid}&moduleName=${t.moduleCode}`;t.reports=[],await l["a"].GetDashboardReport(e).then((function(e){var a=e.data;t.GetFirstvalofJson(),t.reports=a,t.updateReportObject()})),t.displayEditButton&&"Save"==t.editOrSave&&(t.cancelEdit(),this.$refs.reportLayoutref.updateChildVariables())},GetFirstvalofJson:function(){var t=this;if(t.dashboardid>0){const e=t.dashboards.find(e=>e.dashboard_id==t.dashboardid);t.SelectedDashboardItem=e.is_todo,t.displayEditButton=e.is_editable,t.isDefaultKey=e.is_default,t.shareReportKey=e.is_shareable,t.isOwnerKey=e.is_owner}else t.displayEditButton=!1,t.shareReportKey=!1,t.isOwnerKey=!1},cancelEdit(t){var e=this;e.cursorPointer=!0,e.editreport(!0),e.GetDashboard(t)},GetStateListByCountryCode:function(){var t=this,e="countryId=223&includeCandaState=true";l["a"].GetStateListByCountryCode(e).then(e=>{t.StateList=e.data})},GetParentClientByCompanyIdForGroup_New:function(){var t=this;l["a"].GetParentClientByCompanyIdForGroup_New().then(e=>{t.clientByCompany=e.data})},toggleMenu(t){$(t.target).parent().parent().find(".dropdown-menu").toggleClass("d-block")},handleDashboardData(){this.GetDashboard(this.dashboardid)},updateFilter:function(t,e){this.filterData=t,this.FilterJsonForEdit=e}}},ua=pa,ha=(a("015c"),a("6670"),Object(c["a"])(ua,s,i,!1,null,"0fd95cbc",null));e["default"]=ha.exports},"3d79":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".custom-reports-icons[data-v-d910ae32]{min-width:inherit;height:104px;width:33%}",""]),t.exports=e},4343:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".accordion>.card>.card-header[data-v-5c7395a8]{border-radius:0;margin-bottom:10px}.custom-reports-icons[data-v-5c7395a8]{min-width:inherit;height:104px;width:33%}.Textstyle[data-v-5c7395a8]{font-size:1.25rem;line-height:40px;text-transform:capitalize}",""]),t.exports=e},4497:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"#AttachmentFile{position:relative}#AttachmentFile .input-group .question-circle{position:absolute;top:-24px;left:34px}.custom-file .bootstrap-filestyle input{padding-bottom:7px;margin-bottom:3.55px}.custom-file .bootstrap-filestyle .choose-file{margin-bottom:4px}",""]),t.exports=e},"44a1":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".custom-chart-div.Linechrt .reportBlock{transform:none}",""]),t.exports=e},"462a":function(t,e,a){"use strict";a("dfbf")},"4dae":function(t,e,a){"use strict";a("c941")},"50fd":function(t,e,a){"use strict";a("9349")},"56ba":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".view-report[data-v-3bc37766]{margin-left:10px;margin-top:10px;text-decoration:underline;color:#1f77b4;font-weight:400;cursor:pointer;float:left}.chart-container[data-v-3bc37766]{display:inline-block;text-align:center}",""]),t.exports=e},5781:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"div.canvan-view-list{display:flex;flex-wrap:wrap}.onlytodo_kb .kvlistview{min-width:1970px!important}.onlytodo_kb .canvan-view-list.kvfixhead div.canceled,.onlytodo_kb .canvan-view-list.kvfixhead div.inactive,.onlytodo_kb .canvan-view-list.kvfixhead div.overdue,.onlytodo_kb .canvan-view-list.kvfixhead div.pending,.onlytodo_kb .canvan-view-list.kvfixhead div.upcoming{flex:1!important;width:380px!important;max-width:380px;list-style-type:none;margin-right:14px;padding:0;border-radius:0;font-size:14px}.onlytodo_kb .canvan-view-list.kvlistview div{flex:1!important;width:380px!important;max-width:380px}.canvan-view-list div>h3 span{color:#fff;font-size:18px;font-weight:400}.canvan-view-list div>h3{display:flex;justify-content:space-between;width:100%;padding:5px 10px;align-items:center;font-size:32px;position:sticky;top:0;z-index:999}.spac-eq .Timer{display:inline;width:49%;min-width:130px}.canvan-view-list div .list-group{height:100%}.canvan-view-list div.card.card-exp{margin-bottom:10px;border-radius:0}.canvan-view-list div.card-body{padding:10px}",""]),t.exports=e},"579a":function(t,e,a){var s=a("7091");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("510e9c10",s,!0,{sourceMap:!1,shadowMode:!1})},"5a90":function(t,e,a){var s=a("1ee0");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("2960f206",s,!0,{sourceMap:!1,shadowMode:!1})},"5f67":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".DatePopUp[data-v-ff26b886]{position:relative!important}.DatePopUp.dynamicdb[data-v-ff26b886]{width:320px;top:0!important}.divtimer_design table.AssetDatePopUp[data-v-ff26b886]{margin-bottom:0}.divtimer_design table.AssetDatePopUp td.daterangetd[data-v-ff26b886]{padding:0!important;text-align:left;vertical-align:top;font-size:12px}.divtimer_design table.AssetDatePopUp td.sep[data-v-ff26b886]{border-right:1px solid #d2d2d2}.reporthead .divtimer_design table.AssetDatePopUp td.daterangetd[data-v-ff26b886]{line-height:30px}.date_range_bi div.divtimer_design span[data-v-ff26b886]{margin-top:0!important;color:#000}.divtimer_design .bootstrap-datetimepicker-widget[data-v-ff26b886]{top:auto!important;left:5px!important}.AssetDatePopUp tr td.daterangetd.date-range-column[data-v-ff26b886]{max-width:114px!important;display:table-column!important;width:auto!important}.AssetDatePopUp tbody.daterangebody tr.daterangetr[data-v-ff26b886]{display:table-row!important}.daterangebody[data-v-ff26b886]{display:grid!important}",""]),t.exports=e},6670:function(t,e,a){"use strict";a("893f")},"691d":function(t,e,a){var s=a("8b00");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("13880012",s,!0,{sourceMap:!1,shadowMode:!1})},"697a":function(t,e,a){"use strict";a("5a90")},7091:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".legend span{display:inline-block;margin-left:7px;margin-right:7px;padding:5px}.legend-container .legend div{display:inline-block;line-height:10px;margin-right:6px}.legend-container .legend{max-height:80px;overflow-y:auto;font-size:10px}",""]),t.exports=e},"76d6":function(t,e,a){var s=a("bc18");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("8a645d46",s,!0,{sourceMap:!1,shadowMode:!1})},"7a74":function(t,e,a){"use strict";a("bc08")},"893f":function(t,e,a){var s=a("28f0");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("52910686",s,!0,{sourceMap:!1,shadowMode:!1})},"8b00":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".action-list-box2{position:absolute;top:53px;right:145px;width:400px;overflow:hidden;display:inline-block;padding:5px;white-space:nowrap;z-index:99;display:block;background:#fff;border:1px solid #bcbcbc}.action-list-box2 span{display:block}.vue-grid-item{border:1px solid #cbcbcb!important}.edit-mode .vue-grid-item{border:1px solid #f58181!important}.edit-mode .vue-grid-layout{background-color:#f5e8da!important}.edit-mode .fa.fa-times{color:#ff0606!important}",""]),t.exports=e},"8f9a":function(t,e,a){"use strict";a("a04d")},9349:function(t,e,a){var s=a("5f67");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("e3b73276",s,!0,{sourceMap:!1,shadowMode:!1})},a04d:function(t,e,a){var s=a("cae0");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("67456583",s,!0,{sourceMap:!1,shadowMode:!1})},a7a0:function(t,e,a){var s=a("e6f1");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("0e7094eb",s,!0,{sourceMap:!1,shadowMode:!1})},b4a0:function(t,e,a){var s=a("10da");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("2647ef56",s,!0,{sourceMap:!1,shadowMode:!1})},bc08:function(t,e,a){var s=a("e953");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("627f4adc",s,!0,{sourceMap:!1,shadowMode:!1})},bc18:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".DatePopUp.dynamicdb{width:320px;right:0;top:51px}.divtimer_design table.AssetDatePopUp{margin-bottom:0}.divtimer_design table.AssetDatePopUp td.daterangetd{padding:0!important;text-align:left;vertical-align:top;font-size:12px}.divtimer_design table.AssetDatePopUp td.sep{border-right:1px solid #d2d2d2}.reporthead .divtimer_design table.AssetDatePopUp td.daterangetd{line-height:30px}.date_range_bi div.divtimer_design span{margin-top:0!important;color:#000}.divtimer_design .bootstrap-datetimepicker-widget{top:auto!important;left:5px!important}.AssetDatePopUp tr td.daterangetd.date-range-column{max-width:114px!important;display:table-column!important;width:auto!important}.AssetDatePopUp tbody.daterangebody tr.daterangetr{display:table-row!important}.daterangebody{display:grid!important}",""]),t.exports=e},c10d:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".required[data-v-1a4484be]{color:red;margin-left:3px}.error-message[data-v-1a4484be]{color:red;font-size:12px;font-weight:500}",""]),t.exports=e},c65a:function(t,e,a){var s=a("34c1");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("623589e0",s,!0,{sourceMap:!1,shadowMode:!1})},c941:function(t,e,a){var s=a("56ba");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("4be49732",s,!0,{sourceMap:!1,shadowMode:!1})},cae0:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".delete-button[data-v-2c771e61]{background:none;border:none;padding:0;margin:0;cursor:pointer;outline:none}.delete-button .fa[data-v-2c771e61]{font-size:1.5rem;color:red}.accordion>.card>.card-header[data-v-2c771e61]{border-radius:0;margin-bottom:10px}.custom-reports-icons[data-v-2c771e61]{min-width:inherit;height:104px;width:33%}.Textstyle[data-v-2c771e61]{font-size:1.25rem;line-height:40px;text-transform:capitalize}.scrollable[data-v-2c771e61]{overflow-y:auto;max-height:435px}",""]),t.exports=e},cd11:function(t,e,a){"use strict";a("2127")},d028:function(t,e,a){var s=a("f7e9");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("814eb4b0",s,!0,{sourceMap:!1,shadowMode:!1})},d7ec:function(t,e,a){var s=a("3d79");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("801d8a3c",s,!0,{sourceMap:!1,shadowMode:!1})},dc15:function(t,e,a){var s=a("5781");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("d03e75d8",s,!0,{sourceMap:!1,shadowMode:!1})},dd8c:function(t,e,a){"use strict";a("a7a0")},dfbf:function(t,e,a){var s=a("c10d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("032e631c",s,!0,{sourceMap:!1,shadowMode:!1})},e4ab:function(t,e,a){var s=a("4343");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("68fb21ca",s,!0,{sourceMap:!1,shadowMode:!1})},e6f1:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".legend span{display:inline-block;margin-left:7px;margin-right:7px;padding:5px}.legend-container .legend div{display:inline-block;line-height:10px;margin-right:6px}.legend-container .legend{max-height:80px;overflow-y:auto;font-size:10px}.view-report{margin-left:10px;margin-top:10px;text-decoration:underline;color:#1f77b4;font-weight:400;cursor:pointer;float:left}",""]),t.exports=e},e953:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".custom-switch{width:48px;height:25px;position:relative;background-color:#ccc;border-radius:18px;cursor:pointer}.switch-on .slider{transform:translateX(20px)}.switch-off{color:#ccc}.switch-on{background:#67a7e4}.switch-off,.switch-on{display:inline-block;vertical-align:middle}.switch-on-color{color:#67a7e4}.switch-off-color{color:#ccc}.Textstyle{font-size:1.25rem;line-height:40px;text-transform:capitalize}",""]),t.exports=e},ea36:function(t,e,a){var s=a("44a1");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("1decbd24",s,!0,{sourceMap:!1,shadowMode:!1})},f419:function(t,e,a){"use strict";a("e4ab")},f55b:function(t,e,a){"use strict";a("76d6")},f7e9:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".scrollable[data-v-215f79d2]{overflow-y:auto}.table-container[data-v-215f79d2]{position:relative}.view-report[data-v-215f79d2]{margin-left:10px;margin-top:10px;text-decoration:underline;color:#1f77b4;font-weight:400;cursor:pointer;float:left}",""]),t.exports=e}}]);
//# sourceMappingURL=chunk-03a90f4a.js.map