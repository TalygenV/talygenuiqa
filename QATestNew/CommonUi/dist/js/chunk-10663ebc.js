(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10663ebc"],{"0d32":function(t,e,a){"use strict";a("e163")},1756:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".scrollable[data-v-38a4dac6]{overflow-y:auto}.table-container[data-v-38a4dac6]{position:relative}.view-report[data-v-38a4dac6]{margin-left:10px;margin-top:10px;text-decoration:underline;color:#1f77b4;font-weight:400;cursor:pointer;float:left}",""]),t.exports=e},1967:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".view-report[data-v-c04115ac]{margin-left:10px;margin-top:10px;text-decoration:underline;color:#1f77b4;font-weight:400;cursor:pointer;float:left}",""]),t.exports=e},"1d71":function(t,e,a){"use strict";a("8427")},"1e88":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".custom-switch{width:48px;height:25px;position:relative;background-color:#ccc;border-radius:18px;cursor:pointer}.switch-on .slider{transform:translateX(20px)}.switch-off{color:#ccc}.switch-on{background:#67a7e4}.switch-off,.switch-on{display:inline-block;vertical-align:middle}.switch-on-color{color:#67a7e4}.switch-off-color{color:#ccc}.Textstyle{font-size:1.25rem;line-height:40px;text-transform:capitalize}",""]),t.exports=e},"1fc9":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".DatePopUp[data-v-30aa11e8]{position:relative!important}.DatePopUp.dynamicdb[data-v-30aa11e8]{width:320px;top:0!important}.divtimer_design table.AssetDatePopUp[data-v-30aa11e8]{margin-bottom:0}.divtimer_design table.AssetDatePopUp td.daterangetd[data-v-30aa11e8]{padding:0!important;text-align:left;vertical-align:top;font-size:12px}.divtimer_design table.AssetDatePopUp td.sep[data-v-30aa11e8]{border-right:1px solid #d2d2d2}.reporthead .divtimer_design table.AssetDatePopUp td.daterangetd[data-v-30aa11e8]{line-height:30px}.date_range_bi div.divtimer_design span[data-v-30aa11e8]{margin-top:0!important;color:#000}.divtimer_design .bootstrap-datetimepicker-widget[data-v-30aa11e8]{top:auto!important;left:5px!important}.AssetDatePopUp tr td.daterangetd.date-range-column[data-v-30aa11e8]{max-width:114px!important;display:table-column!important;width:auto!important}.AssetDatePopUp tbody.daterangebody tr.daterangetr[data-v-30aa11e8]{display:table-row!important}.daterangebody[data-v-30aa11e8]{display:grid!important}",""]),t.exports=e},"2e41":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".accordion>.card>.card-header[data-v-2803862e]{border-radius:0;margin-bottom:10px}.custom-reports-icons[data-v-2803862e]{min-width:inherit;height:104px;width:33%}.Textstyle[data-v-2803862e]{font-size:1.25rem;line-height:40px;text-transform:capitalize}",""]),t.exports=e},"38b1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-action"},[e("div",{staticClass:"container-fluid px-0"},[e("div",{staticClass:"row"},[e("input",{attrs:{type:"hidden",value:"@titleName",id:"hdnModuleName"}}),e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition p-actions-expand d-flex justify-content-between",staticStyle:{overflow:"visible"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"p-name text-white px-2",attrs:{title:"dashbord"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.dashboardid,expression:"dashboardid"}],staticClass:"form-control customized_ddl",attrs:{name:"dashsbords"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.dashboardid=e.target.multiple?a:a[0]},function(e){return t.onchangeView()}]}},[e("option",{attrs:{value:"0"}},[t._v("Default Dashbaord")]),t._l(t.dashboards,(function(a){return e("option",{key:a,domProps:{value:a.dashboard_id}},[t._v(t._s(a.dashboard_name))])}))],2)]),t.dashboardid>0?e("div",{staticClass:"p-actions"},[1!=t.isDefaultKey?e("button",{staticClass:"p-action-btn text-white link",on:{click:t.makeDefault}},[e("i",{class:t.SaveDefaultClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Make_Default"))+" ")]):e("button",{staticClass:"p-action-btn text-white link",attrs:{disabled:""}},[e("i",{class:t.SaveDefaultClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("AlreadyDefault"))+" ")]),t.shareReportKey?e("button",{staticClass:"p-action-btn text-white link",on:{click:t.shareReport}},[e("i",{class:t.ShareButtonClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Share"))+" ")]):t._e(),t.isOwnerKey?e("button",{staticClass:"p-action-btn text-white link",on:{click:t.deleteReport}},[e("i",{class:t.DeleteButtonClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Delete"))+" ")]):t._e()]):t._e()]),e("div",{staticClass:"p-actions"},["Billing"==t.moduleCode?e("button",{staticClass:"p-action-btn text-white",attrs:{id:"teamview"},on:{click:function(e){return t.addFilterss()}}},[e("i",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("Filter"))+" ")]):t._e(),t.displayEditButton&&t.dashboardid>0?e("button",{staticClass:"p-action-btn text-white link",on:{click:t.editreport}},[e("i",{class:t.SaveEditButtonClass,attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.editOrSave)+" ")]):t._e(),t.displayEditButton&&"Save"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white link",on:{click:function(e){return t.cancelEdit()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Cancel"))+" ")]):t._e(),"Edit"==t.editOrSave?e("button",{staticClass:"p-action-btn text-white",attrs:{id:"teamview"},on:{click:function(e){return t.opendashborad()}}},[e("i",{staticClass:"fa fa-dashboard",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("Add Dashboard"))+" ")]):t._e(),"Edit"==t.editOrSave&&t.dashboardid>0&&t.displayEditButton?e("button",{staticClass:"p-action-btn text-white",attrs:{id:"teamview"},on:{click:function(e){return t.openReport()}}},[e("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("AddReport"))+" ")]):t._e(),e("button",{staticClass:"p-action-btn text-white",attrs:{id:"teamview"},on:{click:function(e){return t.OpenDatePopUp(e)}}},[e("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.GetLocalizedValue(t.calenderSelect))+" ")]),e("daterange",{attrs:{pgaction:"global",showDateRange:t.showpopup},on:{"set-date":t.SetDateRange}})],1),e("div",{class:{"action-list-box2 expand":!0,"d-none":0==t.showFilters}},[e("span",{staticClass:"p-2"},[e("Multiselect",{attrs:{placeholder:"Select State",searchable:!0,options:t.StateList,"track-by":"value",label:"name"}})],1),e("span",{staticClass:"p-2"},[e("div",{staticClass:"dropdown",on:{click:function(e){t.isDropdownOpen=!t.isDropdownOpen}}},[e("div",{staticClass:"selected-options"},[0===t.selectedClient.length?e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v("Select options")]):1===t.selectedClient.length?e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v(t._s(t.selectedClient[0].text))]):e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v(t._s(t.selectedClient.length)+" options selected")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isDropdownOpen,expression:"isDropdownOpen"}],staticClass:"dropdown-menu",attrs:{role:"menu","aria-labelledby":"dLabel"}},t._l(t.clientByCompany,(function(a){return e("div",{key:a.value,staticClass:"option"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.selected,expression:"option.selected"}],attrs:{type:"checkbox"},domProps:{value:a.value,checked:Array.isArray(a.selected)?t._i(a.selected,a.value)>-1:a.selected},on:{change:[function(e){var i=a.selected,r=e.target,s=!!r.checked;if(Array.isArray(i)){var o=a.value,d=t._i(i,o);r.checked?d<0&&t.$set(a,"selected",i.concat([o])):d>-1&&t.$set(a,"selected",i.slice(0,d).concat(i.slice(d+1)))}else t.$set(a,"selected",s)},t.updateSelectedOptions]}}),t._v(" "+t._s(a.text)+" ")])])})),0)])]),e("span",{staticClass:"p-2"},[e("select",{staticClass:"form-control"},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("Biller"))+" "+t._s(t.$t("Assigned")))])])]),e("div",{staticClass:"row flex-row-reverse mt-2"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success formbtn text-white mr-1",attrs:{href:"javascript:;",id:"aSearch",title:t.$t("Search"),name:"aSearch"}},[e("i",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger formbtn widthhalf btnCancel",attrs:{href:"javascript:;",title:t.$t("Reset"),id:"aClear"}},[e("i",{staticClass:"fa fa-refresh"})])])])]),t._m(0)]),t.reports.length>0&&t.fromDate?e("ReportLayout",{ref:"reportLayoutref",attrs:{reports:t.reports,moduleCode:t.moduleCode,dashboardid:t.dashboardid}}):t._e()],1)]),t.showAdddashboard?e("ModalAddDashboard",{attrs:{moduleCode:t.moduleCode}}):t._e(),t.showAddReport?e("ModalAddReport",{attrs:{dashboardid:t.dashboardid,moduleCode:t.moduleCode}}):t._e(),t.showShareReport?e("ModalShareReport",{attrs:{dashboardid:t.dashboardid,moduleCode:t.moduleCode}}):t._e(),t.addFilters?e("AddFilter",{attrs:{FilterJsonForEdit:t.FilterJsonForEdit},on:{close:function(e){t.addFilters=!1},updatefilter:t.updateFilter}}):t._e()],1),e("loader",{attrs:{isVisible:t.isLoading}})],1)},r=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-angle-up text-white"})])])}],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups right fade",attrs:{"data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpopforadddabhboard",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",staticStyle:{height:"56px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseDashboardView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v(" Add Dashboard ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Dashborad Name")))]),e("span",{staticClass:"required"},[t._v("*")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dashboradName,expression:"dashboradName"}],class:{"form-control":!0},attrs:{id:"dashboradName",name:"dashboradName",maxlength:"200",type:"text"},domProps:{value:t.dashboradName},on:{input:function(e){e.target.composing||(t.dashboradName=e.target.value)}}})])])]),e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx"}},[e("div",{staticClass:"border bg-light"},[e("div",{staticClass:"card mb-2 p-2"},[t._m(0),e("div",{staticClass:"multi-collapse collapse show",attrs:{id:"ColumnCollapse0",role:"tabpanel","aria-labelledby":"MainColumn0","data-parent":"#accordionEx"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0 mt-1"},t._l(t.SystemReport,(function(a,i){return e("div",{key:a.privilege_id,staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{id:"systemId"+i}},[e("div",{staticClass:"d-flex align-items-center"},[e("input",{staticClass:"chkItems",attrs:{"data-reportid":a.privilege_id,"data-chartType":null==a.chart_type||void 0==a.chart_type?"table":a.chart_type,type:"checkbox"}}),e("div",{staticClass:"ml-2"},[t._v(t._s(t.$t(a.privilege_name)))])]),"WIDGET_MAX"===a.privilege_type?e("span",{staticClass:"badge badge-danger float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px"}},[t._v("Graph Widget")]):e("span",{staticClass:"badge badge-success float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px"}},[t._v("Numeric Widget")])])])])})),0)])]),e("div",{staticClass:"card mb-2 p-2"},[t._m(1),e("div",{staticClass:"multi-collapse collapse show",attrs:{id:"ColumnCollapse1",role:"tabpanel","aria-labelledby":"MainColumn1","data-parent":"#accordionEx"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0 mt-1"},[t.reportGroups?e("div",{staticClass:"accordion md-accordion w-100",attrs:{id:"accordion",role:"tablist"}},[e("div",{staticClass:"border bg-light"},t._l(t.reportGroups,(function(a,i){return e("div",{key:i,staticClass:"card"},[e("div",{staticClass:"card-header"},[e("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+i,"aria-expanded":"true","data-target":"#collapseOne"+i,"aria-controls":"collapseOne"+i}},[e("div",{},[e("span",[e("em",{staticClass:"fa fa-folder pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(a.reports[0].folderName))])])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne"+i,role:"tabpanel","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[e("div",{staticClass:"col-md-12 listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblReport"+i}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{id:"chkAll",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),e("th",[t._v("Report Name")]),e("th",[t._v("View Type")])])]),e("tbody",t._l(a.reports,(function(a,r){return e("tr",{key:a.id},[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{"data-reportid":a.reportId,"data-chartType":null==a.chartType?0:a.chartType,type:"checkbox"}})]),e("td",[t._v(t._s(a.reportName))]),e("td",[null!=a.chartType||"Table"==a.chartType?e("label",{staticClass:"switch auto"},[e("input",{staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"chartType"+r+"_"+i,type:"checkbox",name:"viewtype"},domProps:{checked:a.chartType,value:a.chartType?a.chartType:"Table"}}),t._m(2,!0)]):t._e()])])})),0)])])])])])])])})),0)]):t._e()])])])])])]),e("div",{staticClass:"float-right my-3"},[e("a",{staticClass:"btn btn-success float-right",attrs:{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",title:"Save"},on:{click:function(e){return t.saveDashboard()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Save ")])])])])]),e("loader",{attrs:{isVisible:t.isLoading}})],1)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header heading-border p-0",attrs:{role:"tab",id:"MainColumn0"}},[e("h5",{staticClass:"mb-0"},[e("a",{staticClass:"d-block",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse0",href:"javascript:;","aria-expanded":"true","aria-controls":"ColumnCollapse0"}},[e("span",{staticClass:"Textstyle"},[t._v(" System Reports")]),e("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header heading-border p-0",attrs:{role:"tab",id:"MainColumn1"}},[e("h5",{staticClass:"mb-0"},[e("a",{staticClass:"d-block",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse1",href:"javascript:;","aria-expanded":"true","aria-controls":"ColumnCollapse1"}},[e("span",{staticClass:"Textstyle"},[t._v("User Reports")]),e("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Graph")]),e("span",{staticClass:"slider-no"},[t._v("Table")])])}],d=(a("14d9"),a("9769")),n={props:{moduleCode:null},data:function(){return{isLoading:!1,reportGroups:[],SystemReport:[],dashboradName:"",addToDoList:!1}},created(){this.GetDynamicReport()},mounted(){$("#modalprojectquickviewpopforadddabhboard").modal("show")},methods:{toggleSwitch(){this.addToDoList=!this.addToDoList},CloseDashboardView:function(){var t=this;t.$parent.showAdddashboard=!1},SelectSystemReports:function(t){const e=t.currentTarget;e.classList.toggle("active")},GetDynamicReport(){var t=this,e="moduleName="+this.moduleCode;d["a"].GetDynamicReport(e).then((function(e){t.reportGroups=e.data.UserReport,t.SystemReport=e.data.SystemReport,setTimeout(()=>{t.CheckBoxBootstrap()},1e3)}))},filterObjects(){var t=this;return t.idsToFilter=t.idsString.split(","),t.filteredObjects=t.SystemReportFiltered.filter(e=>t.idsToFilter.includes(e.privilege_id.toString())),t.filteredObjects},saveDashboard:function(){var t=this,e=[];for(let s=0;s<t.SystemReport.length;s++)$("#systemId"+s+" .chkItems:checked").not("[id^='chkAll']").each((function(){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).attr("data-chartType"),displayOrder:s,xaxis:0,yaxis:0,is_system_report:1})}));for(let s=0;s<t.reportGroups.length;s++)$("#tblReport"+s+" .chkItems:checked").not("[id^='chkAll']").each((function(){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:s,xaxis:0,yaxis:0,is_system_report:0})}));var a=0;for(let s=0;s<e.length;s++)e[s].xaxis=s%4*3,e[s].yaxis=a;if(""!=t.dashboradName&&null!=t.dashboradName&&void 0!=t.dashboradName&&e.length>0){var i={dashboardName:t.dashboradName,dashboardDesc:"added dashboard",moduleName:t.moduleCode,reports:e,addToDoList:t.addToDoList},r=JSON.stringify(i);d["a"].SaveDashboard(r).then((function(a){console.log(a),"Success"==a.data.status&&e.length>0&&(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")),$("#modalprojectquickviewpopforadddabhboard").modal("hide"),t.$parent.GetDashboard(),t.SystemReport=[],t.UserReport=[],t.dashboradName="")}))}else e.length<1&&""!=t.dashboradName&&null!=t.dashboradName&&void 0!=t.dashboradName?t.ShowAlert(t.$t("ReportSelectionRequired",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert")):t.ShowAlert(t.$t("DashBoardNameRequired",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))}}},l=n,c=(a("acb3"),a("7e76"),a("2877")),p=Object(c["a"])(l,s,o,!1,null,"35cf26d1",null),h=p.exports,u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups right fade",attrs:{"data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpopaddreport",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",staticStyle:{height:"56px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseReportView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v("Add Report")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx"}},[e("div",{staticClass:"border bg-light"},[e("div",{staticClass:"card mb-2 p-2"},[t._m(0),t._l(t.SystemReport,(function(a,i){return e("div",{key:a.privilege_id,staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{id:"systemId"+i}},[e("div",{staticClass:"d-flex align-items-center"},[e("input",{staticClass:"chkItems",attrs:{type:"checkbox","data-reportid":a.privilege_id,"data-chartType":null==a.chart_type?0:a.chart_type},domProps:{checked:t.reportbydashbord&&t.reportbydashbord.some(t=>t.reportId==a.privilege_id)}}),e("div",{staticClass:"ml-2"},[t._v(t._s(t.$t(a.privilege_name)))])]),"WIDGET_MAX"===a.privilege_type?e("span",{staticClass:"badge badge-danger float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px"}},[t._v("Graph Widget")]):e("span",{staticClass:"badge badge-success float-right",staticStyle:{"font-weight":"normal",padding:"5px","line-height":"10px"}},[t._v("Numeric Widget")])])])])}))],2),e("div",{staticClass:"card mb-2 p-2"},[t._m(1),e("div",{staticClass:"multi-collapse collapse show",attrs:{id:"ColumnCollapse1",role:"tabpanel","aria-labelledby":"MainColumn1","data-parent":"#accordionEx"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0 mt-1"},[t.reportGroups?e("div",{staticClass:"accordion md-accordion w-100",attrs:{id:"accordion",role:"tablist"}},[e("div",{staticClass:"border bg-light"},t._l(t.reportGroups,(function(a,i){return e("div",{key:i,staticClass:"card"},[e("div",{staticClass:"card-header"},[e("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+i,"aria-expanded":"true","data-target":"#collapseOne"+i,"aria-controls":"collapseOne"+i}},[e("div",{},[e("span",[e("em",{staticClass:"fa fa-folder pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(a.reports[0].folderName)+" ")])])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne"+i,role:"tabpanel","data-parent":"#accordion"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[e("div",{staticClass:"col-md-12 listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblReport"+i}},[t._m(2,!0),e("tbody",t._l(a.reports,(function(a,r){return e("tr",{key:r},[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{"data-reportid":a.reportId,"data-chartType":null==a.chartType?0:a.chartType,type:"checkbox"},domProps:{checked:t.reportbydashbord&&t.reportbydashbord.some(t=>t.reportId==a.reportId)}})]),e("td",[t._v(t._s(a.reportName))]),e("td",[null!=a.chartType?e("label",{staticClass:"switch auto"},[e("input",{staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"chartType"+r+"_"+i,type:"checkbox",name:"viewtype"},domProps:{checked:!t.reportbydashbord||!t.reportbydashbord.some(t=>t.reportId==a.reportId&&"Table"==t.chartType),value:t.reportbydashbord&&t.reportbydashbord.some(t=>t.reportId==a.reportId)?t.reportbydashbord.find(t=>t.reportId==a.reportId).chartType:a.chartType?a.chartType:"Table"}}),t._m(3,!0)]):t._e()])])})),0)])])])])])])])})),0)]):t._e()])])])])])]),e("div",{staticClass:"my-3"},[e("a",{staticClass:"btn btn-success float-right",attrs:{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",title:"Save"},on:{click:function(e){return t.saveReport()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Save ")])])])])]),t.isLoading?e("loader"):t._e()],1)},m=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header heading-border p-0",attrs:{role:"tab",id:"MainColumn0"}},[e("h5",{staticClass:"mb-0"},[e("a",{staticClass:"d-block",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse0",href:"javascript:;","aria-expanded":"true","aria-controls":"ColumnCollapse0"}},[e("span",{staticClass:"Textstyle"},[t._v(" System Report")]),e("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header heading-border p-0",attrs:{role:"tab",id:"MainColumn1"}},[e("h5",{staticClass:"mb-0"},[e("a",{staticClass:"d-block",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse1",href:"javascript:;","aria-expanded":"true","aria-controls":"ColumnCollapse1"}},[e("span",{staticClass:"Textstyle"},[t._v("User Reports")]),e("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{id:"chkAll",type:"checkbox"}})]),e("th",[t._v("Report Name")]),e("th",[t._v("View Type")])])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Graph")]),e("span",{staticClass:"slider-no"},[t._v("Table")])])}],f={props:{dashboardid:null,moduleCode:null},data:function(){return{isLoading:!1,reportGroups:[],SystemReport:[],filteredObjects:[],idsString:null,SystemReportFiltered:[],reportbydashbord:null}},created(){this.GetDynamicReport()},mounted(){$("#modalprojectquickviewpopaddreport").modal("show"),this.CheckBoxBootstrap()},methods:{SelectSystemReports(t){const e=t.currentTarget;e.classList.toggle("active")},CloseReportView:function(){var t=this;t.$parent.showAddReport=!1},GetDynamicReport(){var t=this,e=`moduleName=${this.moduleCode}&dashboardId=${t.dashboardid}`;d["a"].GetDynamicReport(e).then((function(e){t.reportGroups=e.data.UserReport,t.SystemReport=e.data.SystemReport,setTimeout(()=>{t.CheckBoxBootstrap(),t.GetDashboardReport()},1e3)}))},GetDashboardReport:function(){var t=this,e=`dashboardId=${t.dashboardid}&moduleName=${t.moduleCode}`;d["a"].GetDashboardReport(e).then((function(e){t.reportbydashbord=e.data,e.data.forEach((function(t){var e=t.reportId,a=document.getElementById(e);a&&a.classList.add("active")}))}))},filterObjects(){var t=this;return t.idsToFilter=t.idsString.split(","),t.filteredObjects=t.SystemReportFiltered.filter(e=>t.idsToFilter.includes(e.privilege_id.toString())),t.filteredObjects},saveReport:function(){var t=this,e=[];t.SystemReportFiltered=t.SystemReport;const a=document.querySelectorAll(".SystemReport"),i=Array.from(a).filter(t=>t.classList.contains("active")),r=i.map(t=>t.id);t.idsString=r.join(",");var s=t.filterObjects();for(const d in s)e.push({reportId:s[d].privilege_id,chartType:s[d].chart_type,displayOrder:d,xaxis:0,yaxis:0,is_system_report:1});for(let d=0;d<t.SystemReport.length;d++)$("#systemId"+d+" .chkItems:checked").not("[id^='chkAll']").each((function(){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).attr("data-chartType"),displayOrder:d,xaxis:0,yaxis:0,is_system_report:1})}));for(let d=0;d<t.reportGroups.length;d++)$("#tblReport"+d+" .chkItems:checked").not("[id^='chkAll']").each((function(){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:d,xaxis:0,yaxis:0,is_system_report:0})}));if(e.length>=2){console.log(e);var o={moduleName:"CRM",reports:e,dashboardId:t.dashboardid},n=JSON.stringify(o);d["a"].SaveReport(n).then((function(e){"Success"==e.data.status?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Report")]),"success",!0,t.$t("Alert")),t.$parent.GetDashboard(t.dashboardid),t.GetDashboardReport(),$("#modalprojectquickviewpopaddreport").modal("hide")):t.ShowAlert(t.$t("error",[t.$t("Report")]),"warning",!0,t.$t("Alert")),t.isLoading=!0}))}else t.ShowAlert(t.$t("ReportSelectionRequired",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))}}},g=f,v=(a("e444"),Object(c["a"])(g,u,m,!1,null,"2803862e",null)),b=v.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups centre fade",attrs:{id:"modalprojectquickviewpopsharereport",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseShareReportView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v(" Share Dashboard ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Share Dashboard with User/Roles:")]),e("div",{staticClass:"d-flex input-group"},[e("label",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],staticClass:"custom-control-input",attrs:{name:"",id:"Sharewithtype_0",type:"radio",value:"USER"},domProps:{checked:t._q(t.selectedOption,"USER")},on:{change:[function(e){t.selectedOption="USER"},t.getListData]}}),e("label",{staticClass:"custom-control-label",attrs:{for:"Sharewithtype_0"}},[t._v("User")])])]),e("label",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],staticClass:"custom-control-input",attrs:{name:"",id:"Sharewithtype_1",type:"radio",value:"ROLE"},domProps:{checked:t._q(t.selectedOption,"ROLE")},on:{change:[function(e){t.selectedOption="ROLE"},t.getListData]}}),e("label",{staticClass:"custom-control-label",attrs:{for:"Sharewithtype_1"}},[t._v("Roles")])])])])]),e("ValidationProvider",{ref:"validationProvider",attrs:{rules:t.required},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[t.selectedOption?e("Multiselect",{attrs:{placeholder:"Select Users",searchable:!0,multiple:!0,options:t.selectedLists,"track-by":"value",label:"name"},model:{value:t.selectedUsersID,callback:function(e){t.selectedUsersID=e},expression:"selectedUsersID"}},["USER"==t.selectedOption?e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("No User were found.")]):"ROLE"==t.selectedOption?e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("No Roles were found.")]):t._e()]):t._e(),e("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(a.default))])]}}])}),e("div",{staticClass:"d-flex form-group mb-0"},[e("label",{staticClass:"d-flex align-items-center mr-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isEditable,expression:"isEditable"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isEditable)?t._i(t.isEditable,null)>-1:t.isEditable},on:{change:function(e){var a=t.isEditable,i=e.target,r=!!i.checked;if(Array.isArray(a)){var s=null,o=t._i(a,s);i.checked?o<0&&(t.isEditable=a.concat([s])):o>-1&&(t.isEditable=a.slice(0,o).concat(a.slice(o+1)))}else t.isEditable=r}}}),t._v(" Is Editable? ")]),e("label",{staticClass:"d-flex align-items-center mr-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isShareable,expression:"isShareable"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isShareable)?t._i(t.isShareable,null)>-1:t.isShareable},on:{change:function(e){var a=t.isShareable,i=e.target,r=!!i.checked;if(Array.isArray(a)){var s=null,o=t._i(a,s);i.checked?o<0&&(t.isShareable=a.concat([s])):o>-1&&(t.isShareable=a.slice(0,o).concat(a.slice(o+1)))}else t.isShareable=r}}}),t._v(" Is Shareable? ")])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-right mb-2 p-0"},[e("a",{staticClass:"btn btn-success float-right",attrs:{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",title:"Save"},on:{click:function(e){return t.saveShareReport()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("Save"))+" ")])]),e("div",{staticClass:"table-responsive w-100 float-left"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 my-2 px-3"},[e("span",[t._v(t._s(t.$t("SharedAlready")))])])]),e("div",{ref:"tableContainer",staticClass:"table-container"},[e("table",{staticClass:"table table-bordered"},[e("thead",[e("tr",[t._l(t.displayedColumns,(function(a){return e("th",{key:a},[t._v(t._s(a))])})),e("th",[t._v("Actions")])],2)]),e("tbody",t._l(t.UserListingData.ShareData,(function(a,i){return e("tr",{key:a.ROWNUMBER},[e("td",[e("div",{staticClass:"conversation-box_custreps"},["USER"===a.Ref_Code?e("div",{staticClass:"name-square"},[e("em",{staticClass:"fa fa-user text-white fa-2x",attrs:{"aria-hidden":"true"}})]):t._e(),"ROLE"===a.Ref_Code?e("div",{staticClass:"role-square"},[e("em",{staticClass:"fa fa-user-circle text-white fa-2x",attrs:{"aria-hidden":"true"}})]):t._e(),e("div",{staticClass:"conversation-header"},[t._v(" "+t._s(a.UserName)+" ")]),e("div",{staticClass:"conversation-header"},[e("small",[t._v(" "+t._s(a.Ref_Code)+" ")])])])]),e("td",[e("label",{staticClass:"switch auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Is_Editable,expression:"item.Is_Editable"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"",type:"checkbox"},domProps:{checked:a.Is_Editable,checked:Array.isArray(a.Is_Editable)?t._i(a.Is_Editable,null)>-1:a.Is_Editable},on:{change:[function(e){var i=a.Is_Editable,r=e.target,s=!!r.checked;if(Array.isArray(i)){var o=null,d=t._i(i,o);r.checked?d<0&&t.$set(a,"Is_Editable",i.concat([o])):d>-1&&t.$set(a,"Is_Editable",i.slice(0,d).concat(i.slice(d+1)))}else t.$set(a,"Is_Editable",s)},function(e){return t.handleStatusChange(a,"editable")}]}}),t._m(0,!0)])]),e("td",[e("label",{staticClass:"switch auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Is_Shareable,expression:"item.Is_Shareable"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"",type:"checkbox"},domProps:{checked:a.Is_Shareable,checked:Array.isArray(a.Is_Shareable)?t._i(a.Is_Shareable,null)>-1:a.Is_Shareable},on:{change:[function(e){var i=a.Is_Shareable,r=e.target,s=!!r.checked;if(Array.isArray(i)){var o=null,d=t._i(i,o);r.checked?d<0&&t.$set(a,"Is_Shareable",i.concat([o])):d>-1&&t.$set(a,"Is_Shareable",i.slice(0,d).concat(i.slice(d+1)))}else t.$set(a,"Is_Shareable",s)},function(e){return t.handleStatusChange(a,"shareable")}]}}),t._m(1,!0)])]),e("td",[e("button",{staticClass:"delete-button",on:{click:function(e){return t.deleteListItem(a)}}},[e("em",{staticClass:"fa fa-trash text-danger ml-4"})])])])})),0)])])])],1)])])]),e("loader",{attrs:{isVisible:t.isLoading}})],1)},C=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Yes")]),e("span",{staticClass:"slider-no"},[t._v("No")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Yes")]),e("span",{staticClass:"slider-no"},[t._v("No")])])}],_=a("7bb1"),D={components:{ValidationProvider:_["c"]},props:{dashboardid:null,moduleCode:null},data:function(){return{isLoading:!1,selectedOption:"USER",displayedColumns:["User Name","Is Editable","Is Shareable"],selectedUsersID:[],errorUserNotSelected:"",isEditable:!1,isShareable:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,reportGroups:[],SystemReport:[],filteredObjects:[],selectedLists:[],idsString:null,SystemReportFiltered:[],reportbydashbord:null,UserListingData:[],filteredObjects:[]}},created(){this.GetDynamicReport(),this.getListData(),this.alreadySharedData()},mounted(){$("#modalprojectquickviewpopsharereport").modal("show"),this.CheckBoxBootstrap()},beforeDestroy(){window.removeEventListener("resize",this.checkTableWidth)},methods:{checkTableWidth(){const t=this.$refs.tableContainer;if(t){const e=t.getBoundingClientRect().height,a=75.1,i=5,r=a*i;e>r?t.classList.add("scrollable"):t.classList.remove("scrollable")}},async handleStatusChange(t,e){console.log(e);var a=this;a.confirmR(a.$t("ConfirmUpdateSettings"),!0,a.$t("Delete")+"  "+a.$t("Report"),(function(){let e=`moduleName=${a.moduleCode}&Id=${t.Id}&dashboardId=${a.dashboardid}&refId=${a.selectedUsersID}&refCode=${a.selectedOption}&isEditable=${t.Is_Editable}&isShareable=${t.Is_Shareable}`;d["a"].SaveDashboardShareReport(e).then((async function(t){200==t.status?a.ShowAlert(a.$t("SettingsUpdate",[a.$t("dashboard")]),"success",!0,a.$t("Alert")):a.ShowAlert(a.$t("SettingsError",[a.$t("dashboard")]),"success",!0,a.$t("Alert"))}))}),(function(){"editable"===e?t.Is_Editable=!t.Is_Editable:"shareable"===e&&(t.Is_Shareable=!t.Is_Shareable)}))},async alreadySharedData(){this.isLoading=!0;try{const t=`dashboardId=${this.dashboardid}&pageSize=${this.PageSize}&pageNum=${this.PageNumber}&sortBy=${this.SortBy}&sortExp=${this.SortExp}`,e=await d["a"].GetDashboardShareData(t);this.UserListingData=JSON.parse(e.data.map(t=>t.Value)),this.$nextTick(()=>{this.checkTableWidth(),window.addEventListener("resize",this.checkTableWidth)})}catch(t){console.error("Error fetching shared data:",t)}finally{this.isLoading=!1}},async deleteListItem(t){var e=this;e.isLoading=!0,e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Report"),(function(){let a=`moduleName=${e.moduleCode}&Id=${t.Id}`;d["a"].DeleteAssignedShareDashboard(a).then((async function(t){200==t.status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("dashboard")]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<=0&&(e.PageNumber=1),e.CloseShareReportView()):e.ShowAlert(e.$t("DeletedError",[e.$t("dashboard")]),"success",!0,e.$t("Alert"))}))})),e.isLoading=!1},async getListData(){try{let t;"USER"==this.selectedOption?(this.selectedUsersID=[],t=`moduleName=${this.moduleCode}&id=${this.dashboardid}&type=DASHBOARD_USERS`):(this.selectedUsersID=[],t=`moduleName=${this.moduleCode}&id=${this.dashboardid}&type=DASHBOARD_ROLES`);const e=await d["a"].GetDDLData(t);this.selectedLists=e.data.DATA}catch(t){console.error("API error:",t)}},async saveShareReport(){try{var t=this;let e;if(this.selectedUsersID&&this.selectedUsersID.length>0){const a=t.selectedUsersID.map(t=>t.value),i=a.join(",");e=`moduleName=${t.moduleCode}&dashboardId=${t.dashboardid}&refId=${i}&refCode=${t.selectedOption}&isEditable=${t.isEditable}&isShareable=${t.isShareable}`;const r=await d["a"].SaveDashboardShareReport(e);r.data[0].Status?t.ShowAlert(t.$t("AddedSuccessShared",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")):t.ShowAlert(t.$t("Failure",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert")),t.CloseShareReportView(),t.isLoading=!1}else t.$refs.validationProvider&&t.$refs.validationProvider.setErrors({default:"Please Select User"})}catch(e){console.error("API error:",e)}},SelectSystemReports:function(t){const e=t.currentTarget;e.classList.toggle("active")},CloseShareReportView:function(){var t=this;t.$parent.showShareReport=!1},GetDynamicReport(){var t=this,e="moduleName="+this.moduleCode;d["a"].GetDynamicReport(e).then((function(e){t.reportGroups=e.data.UserReport,t.SystemReport=e.data.SystemReport,setTimeout(()=>{t.CheckBoxBootstrap(),t.GetDashboardReport()},1e3)}))},GetDashboardReport:function(){var t=this,e=`dashboardId=${t.dashboardid}&moduleName=${t.moduleCode}`;d["a"].GetDashboardReport(e).then((function(e){t.reportbydashbord=e.data,e.data.forEach((function(t){var e=t.reportId,a=document.getElementById(e);a&&a.classList.add("active")}))}))},filterObjects(){var t=this;return t.idsToFilter=t.idsString.split(","),t.filteredObjects=t.SystemReportFiltered.filter(e=>t.idsToFilter.includes(e.privilege_id.toString())),t.filteredObjects},saveReport:function(){var t=this,e=[];t.SystemReportFiltered=t.SystemReport;const a=document.querySelectorAll(".SystemReport"),i=Array.from(a).filter(t=>t.classList.contains("active")),r=i.map(t=>t.id);t.idsString=r.join(",");var s=t.filterObjects();for(const d in s)e.push({reportId:s[d].privilege_id,chartType:s[d].chart_type,displayOrder:d,xaxis:0,yaxis:0,is_system_report:1});for(let d=0;d<t.reportGroups.length;d++)$("#tblReport"+d+" .chkItems:checked").not("[id^='chkAll']").each((function(){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:d,xaxis:0,yaxis:0,is_system_report:0})}));var o={moduleName:"CRM",reports:e,dashboardId:t.dashboardid},n=JSON.stringify(o);d["a"].SaveReport(n).then((function(e){"Success"==e.data.status?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Report")]),"success",!0,t.$t("Alert")),t.$parent.GetDashboard(),t.GetDashboardReport(),$("#modalprojectquickviewpopsharereport").modal("hide")):t.ShowAlert(t.$t("error",[t.$t("Report")]),"warning",!0,t.$t("Alert")),t.isLoading=!0}))}}},w=D,x=(a("e536"),Object(c["a"])(w,y,C,!1,null,"683e3a09",null)),S=x.exports,k=function(){var t=this,e=t._self._c;return e("div",{class:{"edit-mode":t.isInEditMode},attrs:{id:"ReportContainer"}},[e("ul",{staticClass:"dashbord-widget",staticStyle:{float:"none !important","margin-top":"10px !important"}},[t._l(t.numberLayout,(function(a,i){return[a.chartType&&"numbers_chart"===a.chartType.toLowerCase()?e("NumberChart",{attrs:{isSystemReport:a.isSystemReport,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,index:a.i,icon:a.icon,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,dashboardid:t.dashboardid,moduleCode:t.moduleCode,isInEditMode:t.isInEditMode}}):t._e()]}))],2),t.toDoList?[e("div",{staticClass:"grid-toDo-list"},[e("div",[t._v("One")]),e("div",[t._v("Two")]),e("grid-layout",{attrs:{layout:t.layout,"col-num":12,"row-height":30,"is-draggable":t.draggable,"is-resizable":t.resizable,"vertical-compact":!0,"use-css-transforms":!0},on:{"update:layout":function(e){t.layout=e}}},t._l(t.layout,(function(a,i){return e("grid-item",{key:i,class:a.reportId,attrs:{static:a.static,x:a.x,y:a.y,w:a.w,h:a.h,i:a.i},on:{resized:t.resizedEvent,resize:t.resizeEvent}},[e("div",{class:{"graph-widget align-self-stretch ticketingDashboardHead reportcontainer mb-2":!0}},[e("div",[t._v(t._s(a))]),e("div",{staticClass:"dashboard-boxes graph-widget-box bg-white"},[e("div",{staticClass:"graph-widget-heading float-left w-100"},[e("span",{staticClass:"text-truncate float-left w-75"},[t._v(t._s(a.reportName))]),e("div",{staticClass:"mw-80 float-right"},[e("a",{class:{"hlkDeleteReport float-right":!0,"d-none":!t.isInEditMode},attrs:{href:"javascript:;",title:"Remove"},on:{click:function(e){return t.removeItem(a.i,a.reportId,a.chartType)}}},[e("span",{staticClass:"icon_close"},[e("i",{staticClass:"fa fa-times"})])]),e("a",{staticClass:"float-right",attrs:{href:"javascript:;"},on:{click:function(e){return t.toggleWidgetDropdown(a)}}},[e("span",{staticClass:"icon_expand"},[e("i",{staticClass:"fa fa-cog"})])]),a.showDropdown?e("div",{staticClass:"widget-dropdown"},[e("div",{on:{click:function(e){return t.openPopup(a.reportId,a.reportName,"Date Filter")}}},[t._v(" Date Filter "+t._s(a.reportId)+" ")]),e("div",{on:{click:function(e){return t.openPopup(a.reportId,a.reportName,"Data Filter")}}},[t._v(" Data Filter "+t._s(a.reportId)+" ")]),e("div",{on:{click:function(e){return t.openPopup(a.reportId,a.reportName,"Graph Filter")}}},[t._v(" Graph Filter "+t._s(a.reportId)+" ")])]):t._e()])]),e("div",{class:{"graph-widget-content bg-white float-left w-100":!0,"d-flex  align-content-center justify-content-center":!0}},[a.chartType&&"line"===a.chartType.toLowerCase()?e("LineChart",{ref:"line"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),!a.chartType||"bar"!==a.chartType.toLowerCase()&&"horizontal_bar"!==a.chartType.toLowerCase()?t._e():e("bar-chart",{ref:("bar"===a.chartType.toLowerCase())+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}),a.chartType&&"pie"===a.chartType.toLowerCase()?e("PieChart",{ref:"pie"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),a.chartType&&"donut"===a.chartType.toLowerCase()?e("DonutChart",{ref:"donut"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),null==a.chartType||"table"===a.chartType.toLowerCase()?e("TableChart",{ref:"table"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:t.fromDate,toDate:t.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e()],1)])])])})),1)],1)]:[e("grid-layout",{attrs:{layout:t.layout,"col-num":12,"row-height":40,"is-draggable":t.draggable,"is-resizable":t.resizable,"vertical-compact":!0,"use-css-transforms":!0},on:{"update:layout":function(e){t.layout=e}}},t._l(t.layout,(function(a,i){return e("grid-item",{key:i,class:a.reportId,attrs:{static:a.static,x:a.x,y:a.y,w:a.w,h:a.h,i:a.i},on:{resized:t.resizedEvent,resize:t.resizeEvent}},[e("div",{class:{"graph-widget align-self-stretch ticketingDashboardHead reportcontainer mb-2":!0}},[e("div",{staticClass:"dashboard-boxes graph-widget-box bg-white"},[e("div",{staticClass:"graph-widget-heading float-left w-100"},[e("span",{staticClass:"text-truncate float-left w-75"},[t._v(t._s(t.$t(a.reportName)))]),e("div",{staticClass:"mw-80 float-right"},[e("a",{class:{"hlkDeleteReport float-right":!0,"d-none":!t.isInEditMode},attrs:{href:"javascript:;",title:"Remove"},on:{click:function(e){return t.removeItem(a.i,a.reportId,a.chartType)}}},[e("span",{staticClass:"icon_close"},[e("i",{staticClass:"fa fa-times"})])]),"Table"!=a.actualWidgetType&&null!=a.actualWidgetType?e("a",{staticClass:"float-right",attrs:{href:"javascript:;"},on:{click:function(e){return t.toggleWidgetDropdown(a)}}},[e("span",{staticClass:"icon_expand"},[e("i",{staticClass:"fa fa-cog"})])]):t._e(),a.showDropdown?e("div",{staticClass:"widget-dropdown"},[a.isSystemReport?e("div",{class:{"d-none":t.isInEditMode},on:{click:function(e){return t.openPopup(a.reportId,a.reportName,"Date Filter")}}},[t._v(" Date Filter ")]):t._e(),e("div",{on:{click:function(e){return t.openPopup(a.reportId,a.reportName,"Graph Filter")}}},[t._v(" Graph Filter ")])]):t._e()])]),e("div",{class:{"graph-widget-content bg-white float-left w-100":!0,"d-flex  align-content-center justify-content-center":!0}},[a.chartType&&"line"===a.chartType.toLowerCase()?e("LineChart",{ref:"line"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),!a.chartType||"bar"!==a.chartType.toLowerCase()&&"horizontal_bar"!==a.chartType.toLowerCase()?t._e():e("bar-chart",{ref:("bar"===a.chartType.toLowerCase())+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}),a.chartType&&"pie"===a.chartType.toLowerCase()?e("PieChart",{ref:"pie"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),a.chartType&&"donut"===a.chartType.toLowerCase()?e("DonutChart",{ref:"donut"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),null===a.chartType||"table"===a.chartType.toLowerCase()?e("TableChart",{ref:"table"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{tableheight:t.tableheight,isSystemReport:a.isSystemReport,dashboardid:t.dashboardid,fromDate:a.fromDate,toDate:a.toDate,filterData:a.filterData,moduleCode:t.moduleCode,index:a.i,reportName:a.reportName,chartType:null===a.chartType?"Table":a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e()],1),0==a.isSystemReport&&t.layout.length>0?e("div",{staticClass:"view-report",on:{click:function(e){return t.ViewReport(a.reportId)}}},[t._v("View Report")]):t._e()])])])})),1)],t.showPopup?e("popup-component",{attrs:{moduleCode:t.moduleCode,dashboardid:t.dashboardid,"content-type":t.popupContentType,"report-id":t.popupReportId,"report-name":t.popupReportName,"popup-item":t.popupItem},on:{"close-popup":t.closePopup,"report-details":t.reportDetails}}):t._e()],2)},T=[],I=(a("b7ef"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Barchrt text-center"},[e("loader",{attrs:{isVisible:t.isLoading}}),0===t.BarWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{attrs:{id:"BarChart_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index}},[e("div",{class:{"bar d-inline-block mt-2 reportBlock t-min-height align-center c3 w-100":t.BarWidgetData.length>0,"bar d-inline-block mt-2 align-center c3 w-100":0==t.BarWidgetData.length},style:{"width:60%; float:left; text-align:center;":t.BarWidgetData.length>0,"width:100%;text-align:center;":0==t.BarWidgetData.length},attrs:{controller:t.moduleCode,id:"div_BarChart_"+t.action.replace(/\s+/g,"_")+t.index}})])]],2)}),R=[],E=(a("5698"),a("2d5f"),a("8b5c"),{props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:"",toDate:"",filterData:"",index:null,reportId:null,isSystemReport:null,width:null,height:null},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"bar",xaxis:"",yaxis:"",BarWidgetData:[],HeaderData:null,showAddDashboardReport:!1,chart:null}},created(){this.FetchData()},watch:{width:"handleResize",height:"handleResize",toDate:"handleFetchData",fromDate:"handleFetchData",filterData:"handleFetchData",chartType:"handleFetchData"},methods:{ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await d["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.BarWidgetData=e.data.result.data,t.xaxis=e.data.result.Xaxis,t.yaxis=e.data.result.Yaxis,t.bindWidget(t)),t.isLoading=!1}))},bindWidget(t){if(t.charT_TYPE&&t.BarWidgetData.length>0){var e=t.xaxis,a=t.yaxis,i=[],r=[];$.each(t.BarWidgetData,(function(t,e){r.push(e.NAME),i.push(e.VALUE)})),i.splice(0,0,a);var s="#div_BarChart_"+t.action.replace(/\s+/g,"_")+t.index;$(s).html("");let d={bindto:s,data:{columns:[i],type:"bar",empty:{label:{position:"right",text:t.$t("NoRecordfound")}},onclick:function(){"CRM"==this.moduleName?window.open("javascript:;"):window.open("/Project/Index?searchCondition=PR.STATUS_ID in(1001)","_blank")}},tooltip:{grouped:!1,position:""},bar:{width:{ratio:.5}},legend:{show:!0,position:"bottom"},axis:{rotated:"bar"!==t.chartType.toLowerCase(),x:{label:{text:e,position:"outer-center"},categories:r,type:"category"},y:{label:{text:a,position:"outer-middle"},padding:{top:0}}}};var o=c3.generate(d);$(s).data("c3-chart",o)}},handleResize(){this.bindWidget(this)},handleFetchData(){this.FetchData()}}}),N=E,L=(a("8470"),Object(c["a"])(N,I,R,!1,null,"c04115ac",null)),A=L.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Linechrt text-center"},[e("loader",{attrs:{isVisible:t.isLoading}}),0===t.LineWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{attrs:{id:"lineDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index}},[e("div",{class:{"line d-inline-block mt-2 reportBlock t-min-height align-center c3 w-100":t.LineWidgetData.length>0,"line d-inline-block mt-2 align-center c3 w-100":0==t.LineWidgetData.length},style:{"width:60%; float:left; text-align:center;":t.LineWidgetData.length>0,"width:100%;text-align:center;":0==t.LineWidgetData.length},attrs:{controller:t.moduleCode,id:"div_LineChart_"+t.action.replace(/\s+/g,"_")+t.index}})])]],2)},P=[],O={props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:null,toDate:null,filterData:"",index:null,width:null,height:null,reportId:null,isSystemReport:null},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"line",xaxis:"",yaxis:"",LineWidgetData:[],HeaderData:null,showAddDashboardReport:!1,ChartName:null}},watch:{width:function(){this.bindWidget(this)},height:function(){this.bindWidget(this)},toDate:function(){this.FetchData()},fromDate:function(){this.FetchData()},filterData:function(){this.FetchData()}},created(){this.FetchData(),this.action=this.action.replace(/\s/g,"")},methods:{ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await d["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.LineWidgetData=e.data.result.data,t.xaxis=e.data.result.Xaxis,t.yaxis=e.data.result.Yaxis,t.bindWidget(t)),t.isLoading=!1}))},bindWidget(t){if(t.charT_TYPE&&t.LineWidgetData.length>0){var e=t.xaxis,a=t.yaxis,i=[],r=[];$.each(t.LineWidgetData,(function(t,e){r.push(e.NAME),i.push(e.VALUE)})),i.splice(0,0,a);var s="#div_LineChart_"+t.action.replace(/\s+/g,"_")+t.index;$(s).html("");let o=c3.generate({bindto:s,data:{columns:[i],type:"line",empty:{label:{position:"right",text:t.$t("NoRecordfound")}},legend:{show:!0,position:"bottom"},axis:{x:{label:{text:e,position:"outer-center"},categories:r,type:"category"},y:{label:{text:a,position:"outer-middle"},padding:{top:0}}}},tooltip:{grouped:!1}});$(s).data("c3-chart",o)}}}},M=O,W=(a("2721"),a("4575"),Object(c["a"])(M,F,P,!1,null,null,null)),G=W.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Piechrt text-center"},[e("loader",{attrs:{isVisible:t.isLoading}}),0===t.PieWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{attrs:{id:"pieDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index}},[e("div",{class:{"d-inline-block mt-2 reportBlock t-min-height align-center c3 w-100":t.PieWidgetData.length>0,"d-inline-block mt-2 align-center c3 w-100":0==t.PieWidgetData.length},style:{"width:70%; float:left; text-align:center;":t.PieWidgetData.length>0,"width:100%;text-align:center;":0==t.PieWidgetData.length},attrs:{controller:t.moduleCode,id:"div_PieChart_"+t.action.replace(/\s+/g,"_")+t.index}}),e("div",{staticClass:"legend-container"})])]],2)},B=[],j={props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:null,toDate:null,filterData:"",index:null,width:null,height:null,reportId:null,isSystemReport:null},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"pie",PieWidgetData:[],HeaderData:null,showAddDashboardReport:!1,chart:null}},watch:{width:function(){this.bindWidget(this)},height:function(){this.bindWidget(this)},toDate:function(){this.FetchData()},fromDate:function(){this.FetchData()},filterData:function(){this.FetchData()}},created:function(){this.FetchData()},methods:{ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},FetchData:function(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;d["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.PieWidgetData=e.data.result.data,t.bindWidget(t)),t.isLoading=!1}))},bindWidget:function(t){if(t.charT_TYPE&&t.PieWidgetData.length>0){var e="",a="",i=[],r=[];$.each(t.PieWidgetData,(function(t,e){i.push([e.NAME+" ("+e.VALUE+")",e.VALUE]),r.push(e.NAME+" ("+e.VALUE+")")}));var s="#div_PieChart_"+t.action.replace(/\s+/g,"_")+t.index;$(s).html("");let d={bindto:s,data:{columns:i,type:"pie",empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},tooltip:{grouped:!1},pie:{label:{format:function(t){return d3.format("")(t)}}},legend:{show:!1},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{x:{label:{text:"",position:"outer-center"},categories:[e],type:"category"},y:{label:{text:a,position:"outer-center"}}}};var o=c3.generate(d);$(s).data("c3-chart",o),0===$("#pieDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container").find(".legend").length&&d3.select("#pieDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index+" .legend-container").insert("div",".chart").attr("class","legend").selectAll("div").data(r).enter().append("div").attr("data-id",(function(t){return t})).html((function(t){return t})).each((function(t){d3.select(this).append("span").style("background-color",o.color(t))})).on("mouseover",(function(t){o.focus(t)})).on("mouseout",(function(t){o.revert()})).on("click",(function(t){$(this).toggleClass("c3-legend-item-hidden"),o.toggle(t)}))}}}},U=j,z=(a("0d32"),Object(c["a"])(U,V,B,!1,null,null,null)),Y=z.exports,H=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white t-min-height donut custom-chart-div text-center"},[e("loader",{attrs:{isVisible:t.isLoading}}),0===t.DonutWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{attrs:{id:"DonutDiv_"+t.moduleCode+"_"+t.action.replace(/\s+/g,"_")+t.index}},[e("div",{class:t.DonutWidgetData.length>0?"d-inline-block mt-2 reportBlock align-center c3":"d-inline-block mt-2 align-center c3",style:{"width:60%; float:left; text-align:center;":t.DonutWidgetData.length,"width:100%;text-align:center;":0==t.DonutWidgetData.length},attrs:{controller:t.moduleCode,id:"div_WidgetChart_"+t.action.replace(/\s+/g,"_")+t.index,"data-test":t.DonutWidgetData.length}}),e("div",{staticClass:"legend-container"})])]],2)},q=[],J={props:{reportName:null,chartType:null,dashboardid:null,moduleCode:null,fromDate:null,toDate:null,filterData:"",index:null,width:null,height:null,reportId:null,isSystemReport:null},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"donut",DonutWidgetData:[],HeaderData:null,showAddDashboardReport:!1,ChartName:null}},watch:{width:"handleResize",height:"handleResize",toDate:"handleFetchData",fromDate:"handleFetchData",filterData:"handleFetchData",chartType:"handleFetchData"},created:function(){var t=this;t.FetchData()},mounted(){window.addEventListener("resize",this.handleResize)},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await d["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.DonutWidgetData=e.data.result.data,t.bindWidget(t)),setTimeout(()=>{t.isLoading=!1},3e3)}))},bindWidget:function(t){if(t.charT_TYPE&&t.DonutWidgetData.length>0){var e=this.charT_TYPE,a=[];$.each(t.DonutWidgetData,(function(e,i){"LoggedHoursByProject"==t.action?a.push([i.NAME+" ("+i.VALUE+" h)",i.VALUE]):a.push([i.NAME+" ("+i.VALUE+")",i.VALUE])}));var i="",r="",s="#div_WidgetChart_"+t.action.replace(/\s+/g,"_")+t.index;$(s).html("");var o=c3.generate({bindto:s,data:{columns:a,type:e,empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},tooltip:{grouped:!1},pie:{label:{format:function(t){return d3.format("")(t)}}},legend:{show:!0,position:"bottom"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[i],type:"category"},y:{label:{text:r,position:"outer-center"}}}});$(s).data("c3-chart",o)}},handleResize(){this.bindWidget(this)},handleFetchData(){this.FetchData()}}},K=J,X=Object(c["a"])(K,H,q,!1,null,null,null),Z=X.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Tablechrt text-center"},[0===t.OpenTicketsWidgetData.length&&!1===t.isLoading?[e("div",{staticClass:"text-danger no-record"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]:[e("div",{staticClass:"listing",attrs:{id:"div_TableChart_"+t.action.replace(/\s+/g,"_")+t.index}},[e("loader",{attrs:{isVisible:t.isLoading}}),e("div",{staticClass:"listing"},[e("div",{staticClass:"graph-widget align-self-stretch pl-0",class:{scrollable:t.isTableResponsive},style:{maxHeight:t.isTableResponsive?t.tableheight*this.OpenTicketsWidgetData.length+40+"px":t.tableheight+"px",overflowY:t.isTableResponsive?"auto":"visible"}},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",t._l(t.items,(function(a,i){return e("th",{key:i,attrs:{scope:"col"}},[t._v(" "+t._s(t.GetLocalizedValue(a))+" ")])})),0)]),1==t.IsGrouping?e("tbody",t._l(t.OpenTicketsWidgetData,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a[0]))]),e("td",[t._v(t._s(a[1]))]),e("td",t._l(a.slice(2),(function(a,i){return e("div",{key:i},[t._v(" "+t._s(t.capitalize(a[1]))+" ")])})),0),e("td",t._l(a.slice(2),(function(a,i){return e("div",{key:i},[t._v(" "+t._s(t.capitalize(a[1]))+" ")])})),0)])})),0):0==t.IsGrouping?e("tbody",t._l(t.OpenTicketsWidgetData,(function(a,i){return e("tr",{key:i},t._l(a,(function(a,i){return e("td",{key:i},[e("span",{domProps:{innerHTML:t._s(a)}})])})),0)})),0):e("tbody",t._l(t.OpenTicketsWidgetData,(function(a,i){return e("tr",{key:i},t._l(a,(function(a,i){return e("td",{key:i},[t._v(" "+t._s(a)+" ")])})),0)})),0)])])])],1)]],2)},tt=[],et={props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:null,toDate:null,filterData:"",index:null,width:null,height:null,tableheight:null,reports:null,reportId:null,isSystemReport:null},data:function(){return{isLoading:!1,action:this.reportName,charT_TYPE:"table",OpenTicketsWidgetData:[],HeaderData:null,items:[],IsGrouping:!1,showAddDashboardReport:!1}},created:function(){this.FetchData(),console.log(this.tableheight)},watch:{height:"handleResize",toDate:"handleFetchData",fromDate:"handleFetchData",filterData:"handleFetchData",chartType:"handleFetchData"},computed:{isTableResponsive(){const t=this.OpenTicketsWidgetData.length;return t>this.tableheight}},methods:{capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},calculateTableHeight(){const t=this.OpenTicketsWidgetData.length;console.log(t),console.log(this.tableheight),console.log(t>this.tableheight)},handleResize(){console.log(this.height),console.log("hello")},async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await d["a"].GetDashboardData(a).then((function(e){if(null!=e.data&&""!=e.data&&"Success"==e.data.status)if(null!=e.data.result.data&&""!=e.data.result.data)if(t.HeaderData=e.data.result.data,null!=e.data.result.data.Xaxis||null!=e.data.result.Yaxis){var a=e.data.result.Xaxis,i=e.data.result.Yaxis;t.HeaderData=e.data.result.data;var r=[],s=[];$.each(t.HeaderData,(function(t,e){r.push(e.NAME),s.push(e.VALUE)})),t.items=[a,i],t.OpenTicketsWidgetData=r.map((t,e)=>({listing:t,count:s[e]}))}else t.HeaderData.map(e=>{if(0==e.IsGrouping){t.IsGrouping=!1;const a=JSON.parse(e.VALUE),i=a.map(t=>JSON.parse(t.Value));i.length>0&&(t.items=Object.keys(i[0]),i.forEach(e=>{const a=Object.values(e);t.OpenTicketsWidgetData.push(a)}))}else if(1==e.IsGrouping){t.IsGrouping=!0;const a=JSON.parse(e.VALUE);console.log(a);const i=a.map(t=>JSON.parse(t.Value));console.log(i);const r=Object.keys(i[0]),s=r.filter(t=>"data"!==t),o=Array.from(new Set(i.flatMap(t=>t.data?t.data.flatMap(t=>Object.keys(t)):[])));t.items=[...s,...o],i.forEach(e=>{const{data:a,...i}=e,r=[...Object.values(i),...a.map(t=>Object.values(t))];t.OpenTicketsWidgetData.push(r)})}else t.isLoading=!1});else{a=e.data.result.Xaxis,i=e.data.result.Yaxis;t.HeaderData=e.data.result.data;r=[],s=[];$.each(t.HeaderData,(function(t,e){r.push(e.NAME),s.push(e.VALUE)})),t.items=[a,i],t.OpenTicketsWidgetData=r.map((t,e)=>({listing:t,count:s[e]}))}})),t.isLoading=!1},handleFetchData(){this.FetchData()}}},at=et,it=(a("f05c"),Object(c["a"])(at,Q,tt,!1,null,"38a4dac6",null)),rt=it.exports,st=function(){var t=this,e=t._self._c;return e("li",{staticClass:"cursor-pointer one_wid",staticStyle:{cursor:"pointer !important",display:"inline-grid"},style:{borderColor:t.initialColor+" !important"}},[t.NumberWidgetData.length>0?[e("div",{staticClass:"d-flex justify-content-between"},[t._l(t.NumberWidgetData,(function(a,i){return e("h3",{style:{color:t.initialColor+" !important"}},[t._v(t._s(a.VALUE))])})),e("div",[e("i",{class:t.icon?t.icon:"fa fa fa-list-ul",attrs:{"aria-hidden":"true"}}),e("i",{staticClass:"fa fa-times mr-2",class:{"d-none":!t.isInEditMode},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.removeItem()}}})])],2)]:[t._m(0)],e("div"),e("div",[e("span",[t._v(t._s(t.GetLocalizedValue(t.reportName)))])])],2)},ot=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-start"},[e("i",{staticClass:"fa fa-circle-o-notch fa-spin"})])}],dt={props:{reportName:null,chartType:String,dashboardid:Number,moduleCode:null,fromDate:"",toDate:"",filterData:"",index:null,icon:null,reportId:null,isSystemReport:null,numberLayout:null,isInEditMode:null},data(){return{isLoading:!0,action:this.reportName,charT_TYPE:"numbers_chart",xaxis:"",yaxis:"",NumberWidgetData:[],selectedColors:["#23a5fd","#37b8df","#c49e71","#488fa4","#dbb429"],selectedBackgroundColors:["#edf7ff","#eef7f9","#fff4e8","#def5fa","#fff8df"],initialColor:"",initialBackgroundColor:"",colorCounter:0,showAddDashboardReport:!1,chart:null}},created(){this.FetchData(),this.initialColor=this.getRandomColor(),this.initialBackgroundColor=this.getRandomBackgroundColor()},methods:{removeItem(){var t=this;console.log(t.i,t.reportId,t.chartType),this.$parent.removeItem(t.i,t.reportId,t.chartType)},getRandomColor(){const t=Math.floor(Math.random()*this.selectedColors.length);return this.selectedColors[t]},getRandomBackgroundColor(){const t=Math.floor(Math.random()*this.selectedBackgroundColors.length);return this.selectedBackgroundColors[t]},async FetchData(){var t=this;t.isLoading=!0;var e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleCode}&currentChartType=${t.charT_TYPE}&dashboardId=${t.dashboardid}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=&SearchFilter=${t.filterData}`;await d["a"].GetDashboardData(a).then((function(e){null!=e.data.result&&""!=e.data.result&&"Success"==e.data.status&&null!=e.data.result.data&&(t.NumberWidgetData=e.data.result.data,t.xaxis=e.data.result.Xaxis,t.yaxis=e.data.result.Yaxis),t.isLoading=!1}))}}},nt=dt,lt=Object(c["a"])(nt,st,ot,!1,null,null,null),ct=lt.exports,pt=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"modal my-popups centre fade",attrs:{id:"modalprojectquickviewpopaddreport",role:"dialog"}},[e("div",{staticClass:"modal-dialog",class:{"w-auto":"Date Filter"===t.contentType},attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.closePopup()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v(" "+t._s(t.contentType)+" ")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},["Date Filter"===t.contentType?e("div",[e("daterangereport",{attrs:{pgaction:"global"},on:{"set-date-report":t.SetDateRangeReport}})],1):"Data Filter"===t.contentType?e("div",[e("div",[t._v("Content 2")])]):e("div",[e("div",{staticClass:"user_type_choice mt-2 coloredicons"},t._l(t.GraphViewList,(function(a){return e("div",{key:a.graph_id,staticClass:"btn-group btn-group-toggle custom-reports-icons my-2",attrs:{"data-toggle":"buttons"}},[e("label",{staticClass:"btn btn_cstm GraphViewList",class:[{active:t.capitalizeChartType(t.popupItem.chartType)===a.graph_name?a.graph_name:null===t.popupItem.chartType&&"Table"===a.graph_name}],attrs:{for:"cls_usertype",id:a.graph_id},on:{click:function(e){t.selectGraphViewLists(a.graph_name),t.saveChangeChart()}}},[e("input",{attrs:{type:"radio",name:a.graph_id,id:a.graph_id},domProps:{value:a.graph_id}}),e("span",{staticClass:"d-block pb-2"},[e("em",{class:a.graph_image+" bg-transparent"})]),t._v(" "+t._s(t.$t(a.graph_name))+" ")])])})),0)])])])])]),t.isLoading?e("loader"):t._e()],1)},ht=[],ut=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"DatePopUp dynamicdb divtimer_design p-1",attrs:{id:"DivTimer_"+t.pgaction,"data-pageaction":t.pgaction}},[e("table",{staticClass:"table-responsive AssetDatePopUp d-block"},[e("tbody",{staticClass:"daterangebody"},[e("tr",{ref:"daterange",staticClass:"daterangetr"},[e("td",{staticClass:"sep daterangetd"},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"1"}},[e("a",{staticClass:"Today",attrs:{title:t.$t("Today"),id:"aToday",typ:"Today"},on:{click:function(e){return t.ClickTimer("Today",this,t.pgaction)}}},[t._v(t._s(t.$t("Today")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin1","aria-hidden":"true"}})]),e("li",{attrs:{id:"2"}},[e("a",{staticClass:"Yesterday",attrs:{title:t.$t("Yesterday"),id:"aYesterday",typ:"Yesterday"},on:{click:function(e){return t.ClickTimer("Yesterday",this,t.pgaction)}}},[t._v(t._s(t.$t("Yesterday")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 inpinner pinhide",attrs:{id:"pin2","aria-hidden":"true"}})]),e("li",{attrs:{id:"3"}},[e("a",{staticClass:"Week",attrs:{title:t.$t("ThisWeek"),id:"aWeek",typ:"Week"},on:{click:function(e){return t.ClickTimer("Week",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin3","aria-hidden":"true"}})]),e("li",{attrs:{id:"4"}},[e("a",{staticClass:"AllTime",attrs:{title:t.$t("AllTime"),id:"aAll",typ:"AllTime"},on:{click:function(e){return t.ClickTimer("AllTime",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisYear")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin4","aria-hidden":"true"}})])])]),e("td",{staticClass:"daterangetd",attrs:{valign:"top"}},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"5"}},[e("a",{staticClass:"LastWeek",attrs:{id:"aLastWeek",typ:"LastWeek",title:t.$t("LastWeek")},on:{click:function(e){return t.ClickTimer("LastWeek",this,t.pgaction)}}},[t._v(t._s(t.$t("LastWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin5","aria-hidden":"true"}})]),e("li",{attrs:{id:"6"}},[e("a",{staticClass:"Month",attrs:{id:"aMonth",typ:"Month",title:t.$t("ThisMonth")},on:{click:function(e){return t.ClickTimer("Month",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin6","aria-hidden":"true"}})]),e("li",{attrs:{id:"7"}},[e("a",{staticClass:"LastMonth",attrs:{id:"aLastMonth",typ:"LastMonth",title:t.$t("LastMonth")},on:{click:function(e){return t.ClickTimer("LastMonth",this,t.pgaction)}}},[t._v(t._s(t.$t("LastMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin7","aria-hidden":"true"}})])])])])])]),e("div",{staticClass:"d-flex justify-content-between align-items-end daterangetr",staticStyle:{"column-gap":"10px"}},[e("div",{staticClass:"table_datepickerfix"},[e("label",[t._v("From")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:i}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none FromDate form-control p-1",attrs:{id:"txtFromDateReport_"+t.pgaction,name:"startDate"},domProps:{value:a}},i))]}}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("div",{staticClass:"table_datepickerfix"},[e("label",[t._v("To")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:i}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none ToDate form-control p-1",attrs:{id:"txtToDateReport_"+t.pgaction,name:"endDate"},domProps:{value:a}},i))]}}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("div",{staticClass:"table_datepickerfix"},[e("input",{staticClass:"btn btn-success float-left p-1 p-1 pl-4 pr-4",attrs:{type:"button",id:"btnsearch_"+t.pgaction,"data-result":"btnsearch",value:"Go"},on:{click:function(e){return t.searchGoReportclick(this,t.pgaction)}}})])])]),e("input",{attrs:{type:"hidden",id:"hdnDateSpan",value:"Month",title:"hidden ctr for keeping current Search type Like week, month and day."}}),e("input",{attrs:{type:"hidden",id:"ReportViewer",name:"returnType"}}),e("input",{attrs:{type:"hidden",id:"pgaction",name:"pgaction"},domProps:{value:t.pgaction}}),e("input",{attrs:{type:"hidden",id:"hdnViewId",name:"viewid"}}),e("input",{attrs:{type:"hidden",id:"hdnPinnedViewId",name:"viewid"}})])},mt=[],ft={props:{pgaction:null},data(){return{isLoading:!1,fromDate:null,toDate:null,eval:"",evaltype:"",showPin:!1}},created(){this.ClickTimer("Week",this,this.pgaction)},mounted(){$("#DivTimer_global").addClass("d-none")},methods:{searchGoReportclick(t,e){var a=this;a.$emit("set-date-report",$("#txtFromDateReport_"+e).val(),$("#txtToDateReport_"+e).val()),a.$parent.closePopup()},SearchRecord(t,e){var a=e,i=$("#txtFromDate_"+a).val(),r=$("#txtToDate_"+a).val(),s=$(t).closest(".ticketingDashboardHead").attr("dctrl"),o=$(t).closest(".ticketingDashboardHead").attr("daction"),d=$(t).closest(".ticketingDashboardHead").find(".reportBlock");$.ajax({url:"/"+s+"/"+o,data:{fromDate:i,toDate:r},type:"get",async:!0,cache:!1,success:function(t){d.empty(),d.append(t)},error:function(){}})},ClickTimer(t,e,a){var i=this;$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),"global"==$(e).closest("div.DatePopUp").attr("data-pageaction")?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),i.isLoading=!0,i.FadeInOut1(e),$("#dashbord-graph-widget").find(".ticketingDashboardHead").each((function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()})),"Today"==t?i.GetStartEndDates(t,e,a):"Yesterday"==t?i.GetStartEndDates("yesterday",e,a):"Week"==t?i.GetStartEndDates("thisweek",e,a):"LastWeek"==t?i.GetStartEndDates("lastweek",e,a):"Month"==t?i.GetStartEndDates("thismonth",e,a):"LastMonth"==t?i.GetStartEndDates("lastmonth",e,a):"AllTime"==t&&i.GetStartEndDates("thisyear",e,a),i.isLoading=!1):("Today"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates(t,e,a)):"Yesterday"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates("yesterday",e,a)):"Week"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),i.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),i.GetStartEndDates("lastweek",e,a)):"Month"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),i.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),i.GetStartEndDates("lastmonth",e,a)):"AllTime"==t&&($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates("thisyear",e,a)),i.FadeInOut1(e)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show()},FadeInOut(){$("#DivTimer").toggle()},FadeInOut1(t){var e=$(t).closest(".date_range").find("#pgaction").val();$(t).closest(".date_range").find("#DivTimer_"+e).toggle()},GetStartEndDates(t,e,a){var i=this;i.isLoading=!0;var r=`DateSpan=${t.toLowerCase()}&report=${$("#hdnGroupBy").val()}`;d["a"].GetStartEndDate_New(r).then((function(t){i.isLoading=!1;var e=t.data;i.fromDate=e.dateStart,i.toDate=e.dateEnd,$("#txtFromDate_"+a).val(e.dateStart),$("#txtToDate_"+a).val(e.dateEnd),$("#aDateLable_"+a).find("em").text(e.displayText)}))}}},gt=ft,vt=(a("ff0e"),Object(c["a"])(gt,ut,mt,!1,null,"30aa11e8",null)),bt=vt.exports,yt={components:{daterangereport:bt},props:{popupItem:Object,contentType:String,moduleCode:null,index:null,dashboardid:null},data:function(){return{hoveredGraphView:null,isLoading:!1,showPopup:!0,fromDate:null,toDate:null,GraphViewList:[{graph_id:1,graph_type:"line",graph_name:"Line",graph_image:"fa fa-line-chart"},{graph_id:2,graph_type:"bar",graph_name:"Bar",graph_image:"fa fa-bar-chart"},{graph_id:3,graph_type:"horizontal_bar",graph_name:"Horizontal_Bar",graph_image:"fa fa-bar-chart"},{graph_id:4,graph_type:"pie",graph_name:"Pie",graph_image:"fa fa-pie-chart"},{graph_id:5,graph_type:"donut",graph_name:"Donut",graph_image:"fa fa-circle-o-notch"},{graph_id:6,graph_type:"table",graph_name:"Table",graph_image:"fa fa-bars"}]}},created(){},mounted(){$("#modalprojectquickviewpopaddreport").modal("show")},methods:{capitalizeChartType(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""},SetDateRangeReport(t,e,a){this.popupItem.fromDate=t,this.popupItem.toDate=e,this.dateSpan=a},setHoveredGraphView(t){this.hoveredGraphView=t},clearHoveredGraphView(){this.hoveredGraphView=null},closePopup(){$("#modalprojectquickviewpopaddreport").modal("hide"),this.$emit("close-popup")},selectGraphViewLists(t){this.popupItem.chartType=t},saveChangeChart(){$("#modalprojectquickviewpopaddreport").modal("hide"),this.$emit("close-popup")}}},Ct=yt,_t=Object(c["a"])(Ct,pt,ht,!1,null,null,null),Dt=_t.exports,wt={components:{BarChart:A,LineChart:G,PieChart:Y,DonutChart:Z,TableChart:rt,NumberChart:ct,PopupComponent:Dt},props:{reports:null,moduleCode:null,dashboardid:Number,isdraggable:Boolean,isresizable:Boolean},data:function(){return{layout:[],numberLayout:[],layoutNew:[],isLoading:!1,toDoList:!1,draggable:this.isdraggable,resizable:this.isresizable,index:0,removedWidgets:[],isInEditMode:!1,showPopup:!1,popupContentType:"",popupItem:null,chartsArray:[],fromDate:"",toDate:"",chartType:"",tableheight:null}},mounted(){this.index=this.layout.length,this.resizeEvent()},created(){this.CreateReportWidget(),this.popupItem=this.layout.find(t=>t.reportId)},methods:{ViewReport(t){const e=btoa(JSON.stringify({ReportID:t})),a="/Report/viewcustomreport/"+e;window.open(a,"_blank")},capitalizeChartType(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""},reportDetails(t,e){this.popupItem.reportId===t&&this.popupItem.reportName===e&&(this.reportId=t,this.reportName=e)},openPopup(t,e,a){this.popupItem=this.layout.find(e=>e.reportId===t),this.popupContentType=a,this.popupReportId=t,this.popupReportName=e,this.showPopup=!0},closePopup(t){this.showPopup=!1},addStyleInInnerGried(){this.$nextTick(()=>{const t=document.querySelector(".InnerGried").style.height,e=document.querySelector(".InnerGried").style.width;return{width:e,Height:t}})},updateChildVariables(){var t=this;t.isInEditMode=!t.isInEditMode,t.draggable=!t.draggable,t.resizable=!t.resizable},itemTitle(t){let e=t.i;return t.static&&(e+=" - Static"),e},ExpandCollapseReport:function(t,e){$(t.target).closest(".vue-grid-item").width(996).height(390)},onResizeStop:function(t){switch(t.chartType){case"Bar":this.$refs["bar"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Horizontal_Bar":this.$refs["horizontal_bar"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Line":this.$refs["line"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Pie":this.$refs["pie"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Donut":this.$refs["donut"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Numbers_Chart":this.$refs["numbers_chart"+t.reportId+"_"+t.widgetId][0].FetchData();break;default:this.$refs["table"+t.reportId+"_"+t.widgetId][0].FetchData();break}},CreateReportWidget(){var t=this;t.layout=[],t.numberLayout=[];for(let i=0;i<t.reports.length;i++){let r=null!=t.reports[i].widgetWidth?parseInt(t.reports[i].widgetWidth):3,s=null!=t.reports[i].widgetHeight?parseInt(t.reports[i].widgetHeight):10,o=document.getElementById("main-content").offsetWidth/12;var e=0;if(s>=4?e=25*s:s>4&&s<=15?e=30*s:s>15&&(e=100*s),null==t.reports[i].xaxis&&0==t.dashboardid)var a=i%4*3;else a=null!=t.reports[i].xaxis?parseInt(t.reports[i].xaxis):0;"numbers_chart"!==t.reports[i].chartType?t.layout.push({reportId:t.reports[i].reportId,widgetId:t.reports[i].widgetId,reportName:t.reports[i].reportName,chartType:t.reports[i].chartType,actualWidgetType:t.reports[i].actualWidgetType,isSystemReport:t.reports[i].isSystemReport,fromDate:t.reports[i].fromDate,toDate:t.reports[i].toDate,filterData:t.reports[i].filterData,x:a,y:null!=t.reports[i].yaxis?parseInt(t.reports[i].yaxis):0,w:r,h:s,i:i.toString(),width:o*r,height:e,static:!1}):t.numberLayout.push({reportId:t.reports[i].reportId,widgetId:t.reports[i].widgetId,reportName:t.reports[i].reportName,chartType:t.reports[i].chartType,actualWidgetType:t.reports[i].actualWidgetType,isSystemReport:t.reports[i].isSystemReport,icon:t.reports[i].icon,fromDate:t.reports[i].fromDate,toDate:t.reports[i].toDate,filterData:t.reports[i].filterData,static:!1})}},SaveEditedChanges(){var t=this,e=t.removedWidgets.join(", "),a={reports:t.layout,DeletedRec:e,dashboardId:t.dashboardid},i=JSON.stringify(a);t.confirmR(t.$t("ConfirmDynamicReportsEdit"),!0,t.$t("Confirm"),(function(e){d["a"].SaveEditsInDashboardReports(i).then(e=>{try{t.ShowAlert(t.$t("EditedSuccess",[t.$t("Changes")]),"success",!0,t.$t("Alert"))}catch(a){return HandleErrorOccured(a,"failure")}})}))},increaseWidth:function(){let t=document.getElementById("content").offsetWidth;t+=20,document.getElementById("content").style.width=t+"px"},decreaseWidth:function(){let t=document.getElementById("content").offsetWidth;t-=20,document.getElementById("content").style.width=t+"px"},removeItem:function(t,e,a){console.log(e),console.log(a);var i=this;i.layout.length<=2?i.ShowAlert(i.$t("ConfirmModalNotDelete"),"warning"):i.confirmR(i.$t("ConfirmModalDelete"),!0,i.$t("Confirm"),(function(){if("numbers_chart"===a){const e=i.numberLayout.map(t=>t.i).indexOf(t);i.numberLayout.splice(e,1),i.numberLayout.forEach((t,e)=>{t.i=e})}else{const e=i.layout.map(t=>t.i).indexOf(t);i.layout.splice(e,1),i.layout.forEach((t,e)=>{t.i=e})}i.removedWidgets.push(e),console.log(i.removedWidgets)}))},toggleWidgetDropdown(t){this.layout.forEach(e=>{e!==t&&this.$set(e,"showDropdown",!1)}),this.$set(t,"showDropdown",!t.showDropdown)},editWidget(t){console.log("Editing widget:",t)},configureWidget(t){console.log("Configuring widget:",t)},openWidgetSetting(t){this.selectedLayout=t,this.showWidgetsetting=!this.showWidgetsetting},addItem:function(){const t={x:0,y:0,w:2,h:2,i:this.index+"",whatever:"bbb"};this.index++,this.layout.push(t)},resizeEvent:function(t,e,a,i,r){this.tableheight=e,console.log(this.tableheight),console.log("RESIZE i="+t+", H="+e+", W="+a+", H(px)="+i+", W(px)="+r)},resizedEvent:function(t,e,a,i,r){let s=document.getElementById("main-content").offsetWidth/12;this.layout[t].width=s*a,e>=4?this.layout[t].height=25*e:e>4&&e<=15?this.layout[t].height=30*e:e>15&&(this.layout[t].height=100*e)}}},xt=wt,St=(a("95e6"),Object(c["a"])(xt,k,T,!1,null,"56b0afca",null)),kt=St.exports,$t=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"DatePopUp dynamicdb divtimer_design p-1",attrs:{id:"DivTimer_"+t.pgaction,"data-pageaction":t.pgaction}},[e("table",{staticClass:"table-responsive AssetDatePopUp d-block"},[e("tbody",{staticClass:"daterangebody"},[e("tr",{ref:"daterange",staticClass:"daterangetr"},[e("td",{staticClass:"sep daterangetd"},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"1"}},[e("a",{staticClass:"Today",attrs:{title:t.$t("Today"),id:"aToday",typ:"Today"},on:{click:function(e){return t.ClickTimer("Today",this,t.pgaction)}}},[t._v(t._s(t.$t("Today")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin1","aria-hidden":"true"}})]),e("li",{attrs:{id:"2"}},[e("a",{staticClass:"Yesterday",attrs:{title:t.$t("Yesterday"),id:"aYesterday",typ:"Yesterday"},on:{click:function(e){return t.ClickTimer("Yesterday",this,t.pgaction)}}},[t._v(t._s(t.$t("Yesterday")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 inpinner pinhide",attrs:{id:"pin2","aria-hidden":"true"}})]),e("li",{attrs:{id:"3"}},[e("a",{staticClass:"Week",attrs:{title:t.$t("ThisWeek"),id:"aWeek",typ:"Week"},on:{click:function(e){return t.ClickTimer("ThisWeek",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin3","aria-hidden":"true"}})]),e("li",{attrs:{id:"4"}},[e("a",{staticClass:"AllTime",attrs:{title:t.$t("AllTime"),id:"aAll",typ:"AllTime"},on:{click:function(e){return t.ClickTimer("ThisYear",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisYear")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin4","aria-hidden":"true"}})])])]),e("td",{staticClass:"daterangetd",attrs:{valign:"top"}},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"5"}},[e("a",{staticClass:"LastWeek",attrs:{id:"aLastWeek",typ:"LastWeek",title:t.$t("LastWeek")},on:{click:function(e){return t.ClickTimer("LastWeek",this,t.pgaction)}}},[t._v(t._s(t.$t("LastWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin5","aria-hidden":"true"}})]),e("li",{attrs:{id:"6"}},[e("a",{staticClass:"Month",attrs:{id:"aMonth",typ:"Month",title:t.$t("ThisMonth")},on:{click:function(e){return t.ClickTimer("ThisMonth",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin6","aria-hidden":"true"}})]),e("li",{attrs:{id:"7"}},[e("a",{staticClass:"LastMonth",attrs:{id:"aLastMonth",typ:"LastMonth",title:t.$t("LastMonth")},on:{click:function(e){return t.ClickTimer("LastMonth",this,t.pgaction)}}},[t._v(t._s(t.$t("LastMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin7","aria-hidden":"true"}})])])])])])]),e("div",{staticClass:"d-flex justify-content-between align-items-end daterangetr",staticStyle:{"column-gap":"10px"}},[e("div",{staticClass:"table_datepickerfix"},[e("label",[t._v("From")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:i}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none FromDate form-control p-1",attrs:{id:"txtFromDate_"+t.pgaction,name:"startDate"},domProps:{value:a}},i))]}}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("div",{staticClass:"table_datepickerfix"},[e("label",[t._v("To")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:i}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none ToDate form-control p-1",attrs:{id:"txtToDate_"+t.pgaction,name:"endDate"},domProps:{value:a}},i))]}}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("div",{staticClass:"table_datepickerfix"},[e("input",{staticClass:"btn btn-success float-left p-1 p-1 pl-4 pr-4",attrs:{type:"button",id:"btnsearch_"+t.pgaction,"data-result":"btnsearch",value:"Go"},on:{click:function(e){return t.searchGoclick(this,t.pgaction)}}})])])]),e("input",{attrs:{type:"hidden",id:"hdnDateSpan",value:"Month",title:"hidden ctr for keeping current Search type Like week, month and day."}}),e("input",{attrs:{type:"hidden",id:"ReportViewer",name:"returnType"}}),e("input",{attrs:{type:"hidden",id:"pgaction",name:"pgaction"},domProps:{value:t.pgaction}}),e("input",{attrs:{type:"hidden",id:"hdnViewId",name:"viewid"}}),e("input",{attrs:{type:"hidden",id:"hdnPinnedViewId",name:"viewid"}})])},Tt=[],It={props:{pgaction:null},data(){return{isLoading:!1,fromDate:null,toDate:null,eval:"",evaltype:"",showPin:!1}},created(){this.ClickTimer("ThisWeek",this,this.pgaction)},mounted(){$("#DivTimer_global").addClass("d-none")},methods:{searchGoclick(t,e){var a=this;$("#hdnViewId").val(""),$(".btnPin").hide(),a.$emit("set-date",$("#txtFromDate_"+e).val(),$("#txtToDate_"+e).val(),a.typeCalender)},SearchRecord(t,e){var a=e,i=$("#txtFromDate_"+a).val(),r=$("#txtToDate_"+a).val(),s=($("#aDateLable_"+a).html(),$(t).closest(".ticketingDashboardHead").attr("dctrl")),o=$(t).closest(".ticketingDashboardHead").attr("daction"),d=$(t).closest(".ticketingDashboardHead").find(".reportBlock");$.ajax({url:"/"+s+"/"+o,data:{fromDate:i,toDate:r},type:"get",async:!0,cache:!1,success:function(t){d.empty(),d.append(t)},error:function(){}})},ClickTimer(t,e,a){var i=this;$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),"global"==$(e).closest("div.DatePopUp").attr("data-pageaction")?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),i.isLoading=!0,i.FadeInOut1(e),$("#dashbord-graph-widget").find(".ticketingDashboardHead").each((function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()})),"Today"==t?(i.typeCalender=t,i.GetStartEndDates(t,e,a)):"Yesterday"==t?(i.typeCalender=t,i.GetStartEndDates("yesterday",e,a)):"ThisWeek"==t?(i.typeCalender=t,i.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?(i.typeCalender=t,i.GetStartEndDates("lastweek",e,a)):"ThisMonth"==t?(i.typeCalender=t,i.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?(i.typeCalender=t,i.GetStartEndDates("lastmonth",e,a)):"ThisYear"==t&&(i.typeCalender=t,i.GetStartEndDates("thisyear",e,a)),i.isLoading=!1):("Today"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.typeCalender=t,i.GetStartEndDates(t,e,a)):"Yesterday"==t?(i.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates("yesterday",e,a)):"ThisWeek"==t?(i.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("week"),i.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?(i.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("week"),i.GetStartEndDates("lastweek",e,a)):"ThisMonth"==t?(i.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("month"),i.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?(i.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("month"),i.GetStartEndDates("lastmonth",e,a)):"ThisYear"==t&&(i.typeCalender=t,$(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates("thisyear",e,a)),i.FadeInOut1(e)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show(),$("#DivTimer_global").addClass("d-none")},FadeInOut(){$("#DivTimer").toggle()},FadeInOut1(t){var e=$(t).closest(".date_range").find("#pgaction").val();$(t).closest(".date_range").find("#DivTimer_"+e).toggle()},GetStartEndDates(t,e,a){var i=this;i.isLoading=!0;var r=`DateSpan=${t.toLowerCase()}&report=${$("#hdnGroupBy").val()}`;d["a"].GetStartEndDate_New(r).then((function(t){i.isLoading=!1;var e=t.data;i.fromDate=e.dateStart,i.toDate=e.dateEnd,$("#txtFromDate_"+a).val(e.dateStart),$("#txtToDate_"+a).val(e.dateEnd),$("#aDateLable_"+a).find("em").text(e.displayText),i.$emit("set-date",e.dateStart,e.dateEnd,i.typeCalender)}))}}},Rt=It,Et=(a("1d71"),Object(c["a"])(Rt,$t,Tt,!1,null,null,null)),Nt=Et.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups",attrs:{id:"MMMM"}},[e("div",{staticClass:"modal d-block",attrs:{id:"choosewizards"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Filter")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.CloseHeaderPopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"form",attrs:{id:"fileuploadForMessage"},scopedSlots:t._u([{key:"default",fn:function({valid:a,errors:i}){return[e("div",{staticClass:"listing mt-2"},[e("div",{staticClass:"table-responsive overflow-visible"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline"},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticStyle:{"min-width":"110px","max-width":"110px"}},[e("span",[t._v("Field Name")])]),e("th",{staticStyle:{"min-width":"160px","max-width":"110px"}},[e("span",[t._v("Conditional Operator")])]),e("th",{staticStyle:{"min-width":"350px"}},[e("span",[t._v("Value")])]),e("th",{staticClass:"text-center"},[e("a",{staticClass:"text-success",attrs:{href:"javascript:void(0)"},on:{click:t.addNewRow}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v("Add")])])])]),e("tbody",t._l(t.searchFilter,(function(a,r){return e("tr",[e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:a.fieldName,expression:"item.fieldName"}],class:{"form-control disableAria w-100":!0,error:i[0]},attrs:{name:"fieldName1","data-vv-name":"SearchFilter.fieldName1","aria-required":"true","aria-invalid":"false"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"fieldName",e.target.multiple?i:i[0])},function(e){return t.GetDropDownValue(a,r)}]}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.FieldList,(function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.name)+" ")])}))],2)]),e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:a.operator,expression:"item.operator"}],staticClass:"form-control disableAria",attrs:{name:"operator1","aria-required":"true","aria-invalid":"false"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"operator",e.target.multiple?i:i[0])},function(e){return t.EmptyValue(a)}]}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.Operators,(function(a){return e("option",{domProps:{value:a.expression}},[t._v(t._s(a.name))])}))],2)]),e("td",{staticClass:"overflow-visible",staticStyle:{overflow:"visible !important"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 float-left"},[""==a.operator||"="==a.operator||"<>"==a.operator?e("select",{directives:[{name:"model",rawName:"v-model",value:a.fieldValue,expression:"item.fieldValue"}],staticClass:"form-control disableAria",attrs:{name:"operator1","aria-required":"true","aria-invalid":"false"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"fieldValue",e.target.multiple?i:i[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(a.SelectOptionsForValue,(function(a){return e("option",{domProps:{value:a.value}},[t._v(" "+t._s(a.label))])}))],2):e("Multiselect",{staticClass:"form-control",staticStyle:{"box-sizing":"border-box","margin-top":"0px","padding-left":"0px","padding-right":"0px"},attrs:{multiple:!0,label:"label","track-by":"value",placeholder:"Select",searchable:!0,mode:"tags",limit:2,taggable:!1,"close-on-select":!0,options:a.SelectOptionsForValue},on:{select:t.selectionChange,remove:t.removeElement},model:{value:a.fieldValue,callback:function(e){t.$set(a,"fieldValue",e)},expression:"item.fieldValue"}})],1)])]),e("td",{staticClass:"text-center single-action"},[r>0?e("a",{staticClass:"text-danger",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.deleteRow(r)}}},[e("em",{staticClass:"fa fa-trash pr-2"})]):t._e()])])})),0)])]),e("div",{staticClass:"modal-footer text-right pr-0 pb-0"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[e("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;",title:t.$t("Search")},on:{click:function(e){return t.SubmitData()}}},[e("em",{staticClass:"fa fa-search pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Search"))+" ")]),e("a",{staticClass:"btn btn-primary delete-btn",attrs:{href:"javascript:;",title:t.$t("Reset")},on:{click:function(e){return t.CloseHeaderPopup()}}},[e("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Reset"))+" ")])])])])]}}])})],1)])])])])},At=[],Ft={data(){return{FieldList:[{name:"Biller Assigned",value:"BillerName"},{name:"Contract",value:"Contract"},{name:"State",value:"State"}],Operators:[{name:"Equals to",expression:"="},{name:"No Equals to",expression:"<>"},{name:"Contains",expression:"IN"},{name:"Not contains",expression:"NOT IN"}],searchFilter:[{fieldName:"",operator:"",fieldValue:"",SelectOptionsForValue:[]}],DataValue:[],multiselectArray:[],modelmultiselect:[],FieldValue:"",OperatorValue:"",FirstSelectValue:"",AllSearchValue:[],TypeValue:"",isResultTrue:!0}},props:{FilterJsonForEdit:{type:Array,default:[]}},created:function(){this.FilterJsonForEdit.length>0&&(this.searchFilter=this.FilterJsonForEdit)},methods:{CloseHeaderPopup(){var t=this;t.searchFilter=[{fieldName:"",operator:"",fieldValue:"",SelectOptionsForValue:[]}],t.$parent.addFilters=!1,t.$emit("updatefilter","",t.searchFilter)},deleteRow:function(t){this.searchFilter.splice(t,1)},addNewRow:function(){this.searchFilter.push({fieldName:"",operator:"",fieldValue:"",SelectOptionsForValue:[]})},GetDropDownValue:function(t,e){var a=this,i=a.searchFilter.filter((a,i)=>a.fieldName==t.fieldName&&i!=e);if(i.length>0)t.fieldName="";else{var r=t.fieldName,s="";t.fieldValue="",t.operator="",t.SelectOptionsForValue=[],"Contract"==r?(s="PageNumber=&PageSize=&Type=MANAGEBILLER&Search=&Id=&ScreenName",d["a"].GetContractList(s).then((function(e){e.data.length>0&&e.data.forEach((e,a)=>{t.SelectOptionsForValue.push({value:e.chilD_USER_ID,label:e.chilD_NAME})})}))):"State"==r?(s="CountryId=223&IncludeCanadaState=false",d["a"].GetFilterStateList(s).then((function(e){e.data.length>0&&e.data.forEach((e,a)=>{t.SelectOptionsForValue.push({value:e.isO_CODE_3,label:e.statE_NAME})})}))):"BillerName"==r&&(s="Type=BILLEDUNBILLED",d["a"].GetBillerList(s).then((function(e){e.data.length>0&&e.data.forEach((e,a)=>{t.SelectOptionsForValue.push({value:e.userid,label:e.username})})})))}},SubmitData(){var t=this;let e=[];if(t.searchFilter.forEach((a,i)=>{let r=[];if(""!=a.fieldName&&""!=a.operator&&""!=a.fieldValue){let i={fieldName:a.fieldName,operator:a.operator,fieldValue:a.fieldValue};"IN"==a.operator||"NOT IN"==a.operator?"undefined"==typeof a.fieldValue.length?r.push("'"+a.fieldValue.value+"'"):a.fieldValue.forEach((function(t){r.push("'"+t.value+"'")})):r.push("'"+a.fieldValue+"'"),i.fieldValue=r.join(","),e.push(i),t.isResultTrue=!0}else t.isResultTrue=!1}),1==t.isResultTrue){var a=JSON.stringify(e);t.$emit("updatefilter",a,t.searchFilter),t.$emit("close")}else t.ShowAlert(t.$t("FillFealds"),"warning",!0,t.$t("Alert"))},EmptyValue(t){t.fieldValue=""}}},Pt=Ft,Ot=Object(c["a"])(Pt,Lt,At,!1,null,null,null),Mt=Ot.exports,Wt={components:{ModalAddDashboard:h,ModalAddReport:b,ModalShareReport:S,ReportLayout:kt,daterange:Nt,AddFilter:Mt},data:function(){return{isLoading:!1,showAdddashboard:!1,showAddReport:!1,shareReportKey:!1,showShareReport:!1,isOwnerKey:!1,isDefaultKey:!1,dashboards:[],dashboardid:0,reports:[],showFilters:!1,showpopup:!1,StateList:[],fromDate:null,toDate:null,calenderSelect:"",clientByCompany:[],selectedClient:[],isdraggable:!1,isresizable:!1,isDropdownOpen:!1,editOrSave:"Edit",DeleteButtonClass:"fa fa-trash",ShareButtonClass:"fa fa-share",SaveEditButtonClass:"fa fa-edit",SaveDefaultClass:"fa fa-floppy-o",displayEditButton:!1,addFilters:!1,moduleCode:"index"==this.$route.params.moduleCode.toLowerCase()?"CRM":this.$route.params.moduleCode,filterData:"",FilterJsonForEdit:[]}},created:function(){this.GetDashboard(),this.GetStateListByCountryCode(),this.GetParentClientByCompanyIdForGroup_New()},watch:{fromDate:"handleDashboardData",toDate:"handleDashboardData",filterData:"handleDashboardData"},methods:{makeDefault(){var t=this;t.confirmR(t.$t("ConfirmModal"),!0,t.$t("Confirm"),(function(){var e="dashboardId="+t.dashboardid;d["a"].SaveDashboardDefaultReport(e).then((async function(e){e.data.status?(t.ShowAlert(t.$t("AddedDefault",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")),await t.GetDashboard()):t.ShowAlert(t.$t("Failure",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))}))}))},updateSelectedOptions(){this.selectedClient=this.clientByCompany.filter(t=>t.selected)},SetDateRange(t,e,a){this.fromDate=t,this.toDate=e,this.calenderSelect=a},OpenDatePopUp(){this.showpopup=!this.showpopup,$("#DivTimer_global").toggleClass("d-none")},openFilters(){this.showFilters=!this.showFilters},addFilterss(){this.addFilters=!0},opendashborad(){this.showAdddashboard=!this.showAdddashboard},openReport(){this.showAddReport=!this.showAddReport},editreport(t){var e=this;"Save"==e.editOrSave&&1!=t&&e.SaveEditReport(),e.SaveEditButtonClass="Edit"==e.editOrSave?"fa fa-save":"fa fa-edit",e.editOrSave="Edit"==e.editOrSave?"Save":"Edit",this.$refs.reportLayoutref.updateChildVariables()},SaveEditReport(){var t=this;"Save"==t.editOrSave&&this.$refs.reportLayoutref.SaveEditedChanges()},shareReport(){var t=this;t.isLoading=!0,t.showShareReport=!t.showShareReport,t.isLoading=!1},deleteReport(){var t=this;t.dashboardid;var e={ids:t.dashboardid,refCode:"Dynamic_Dashboard"},a=JSON.stringify(e);t.confirmR(t.$t("ConfirmModalDelete"),!0,t.$t("Confirm"),(function(){d["a"].deleteActivityData(a).then(e=>{"Success"==e.data[0].Status?(t.getDefaultDashboard(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Dashboard")]),"success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Dashboard")]),"failure",!0,t.$t("Alert"))})}))},async getDefaultDashboard(){var t=this;t.isLoading=!0,t.dashboardid>0&&(t.dashboardid="0"),t.GetDashboard(t.dashboardid),t.isLoading=!1},async GetDashboard(t){var e=this,a="moduleCode="+this.moduleCode;e.isLoading=!0,await d["a"].GetDashboard(a).then(a=>{let i=JSON.parse(a.data);if(e.dashboards=i.DATA,e.dashboards.length>0){let a=e.dashboards.filter(t=>1==t.is_default);e.dashboardid=null!==a&&""!==a&&void 0==t?a.length>0?a[0].dashboard_id:e.dashboardid=0:t}e.onchangeView()}),setTimeout(()=>{e.isLoading=!1},3e3)},updateReportObject(){this.fromDate&&this.toDate&&this.reports.forEach(t=>{t.fromDate=this.fromDate,t.toDate=this.toDate,t.filterData=this.filterData})},async onchangeView(){var t=this,e=`dashboardId=${t.dashboardid}&moduleName=${t.moduleCode}`;t.reports=[],await d["a"].GetDashboardReport(e).then((function(e){var a=e.data;t.GetFirstvalofJson(),t.reports=a,t.updateReportObject()})),t.displayEditButton&&"Save"==t.editOrSave&&(t.cancelEdit(),this.$refs.reportLayoutref.updateChildVariables())},GetFirstvalofJson:function(){var t=this;if(t.dashboardid>0){const e=t.dashboards.find(e=>e.dashboard_id==t.dashboardid);t.displayEditButton=e.is_editable,t.isDefaultKey=e.is_default,t.shareReportKey=e.is_shareable,t.isOwnerKey=e.is_owner}else t.displayEditButton=!1,t.shareReportKey=!1,t.isOwnerKey=!1},cancelEdit:function(){var t=this;t.editreport(!0),t.GetDashboard(t.dashboardid)},GetStateListByCountryCode:function(){var t=this,e="countryId=223&includeCandaState=true";d["a"].GetStateListByCountryCode(e).then(e=>{t.StateList=e.data})},GetParentClientByCompanyIdForGroup_New:function(){var t=this;d["a"].GetParentClientByCompanyIdForGroup_New().then(e=>{t.clientByCompany=e.data})},toggleMenu(t){$(t.target).parent().parent().find(".dropdown-menu").toggleClass("d-block")},handleDashboardData(){this.GetDashboard(this.dashboardid)},updateFilter:function(t,e){this.filterData=t,this.FilterJsonForEdit=e}}},Gt=Wt,Vt=(a("ea29"),a("63ca"),Object(c["a"])(Gt,i,r,!1,null,"40dd3435",null));e["default"]=Vt.exports},4013:function(t,e,a){var i=a("faac");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("7b00d081",i,!0,{sourceMap:!1,shadowMode:!1})},4383:function(t,e,a){var i=a("f0a6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("32b8a7d8",i,!0,{sourceMap:!1,shadowMode:!1})},4575:function(t,e,a){"use strict";a("4383")},"529e":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".legend span{display:inline-block;margin-left:7px;margin-right:7px;padding:5px}.legend-container .legend div{display:inline-block;line-height:10px;margin-right:6px}.legend-container .legend{max-height:80px;overflow-y:auto;font-size:10px}.view-report{margin-left:10px;margin-top:10px;text-decoration:underline;color:#1f77b4;font-weight:400;cursor:pointer;float:left}",""]),t.exports=e},"5bd2":function(t,e,a){var i=a("6d37");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("7f1c2250",i,!0,{sourceMap:!1,shadowMode:!1})},"5f93":function(t,e,a){var i=a("7486");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("e09aaae6",i,!0,{sourceMap:!1,shadowMode:!1})},"61fa":function(t,e,a){var i=a("cddd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("3da1dd3a",i,!0,{sourceMap:!1,shadowMode:!1})},"63ca":function(t,e,a){"use strict";a("4013")},"6d37":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".delete-button[data-v-683e3a09]{background:none;border:none;padding:0;margin:0;cursor:pointer;outline:none}.delete-button .fa[data-v-683e3a09]{font-size:1.5rem;color:red}.accordion>.card>.card-header[data-v-683e3a09]{border-radius:0;margin-bottom:10px}.custom-reports-icons[data-v-683e3a09]{min-width:inherit;height:104px;width:33%}.Textstyle[data-v-683e3a09]{font-size:1.25rem;line-height:40px;text-transform:capitalize}.scrollable[data-v-683e3a09]{overflow-y:auto;max-height:435px}",""]),t.exports=e},7486:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".action-list-box2{position:absolute;top:53px;right:145px;width:400px;overflow:hidden;display:inline-block;padding:5px;white-space:nowrap;z-index:99;display:block;background:#fff;border:1px solid #bcbcbc}.action-list-box2 span{display:block}.vue-grid-item{border:1px solid #cbcbcb!important}.edit-mode .vue-grid-item{border:1px solid #f58181!important}.edit-mode .vue-grid-layout{background-color:#f5e8da!important}.edit-mode .fa.fa-times{color:#ff0606!important}",""]),t.exports=e},7715:function(t,e,a){var i=a("2e41");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("b1bc2c26",i,!0,{sourceMap:!1,shadowMode:!1})},"7e76":function(t,e,a){"use strict";a("c084")},"7edf":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".DatePopUp.dynamicdb{width:320px;right:0;top:51px}.divtimer_design table.AssetDatePopUp{margin-bottom:0}.divtimer_design table.AssetDatePopUp td.daterangetd{padding:0!important;text-align:left;vertical-align:top;font-size:12px}.divtimer_design table.AssetDatePopUp td.sep{border-right:1px solid #d2d2d2}.reporthead .divtimer_design table.AssetDatePopUp td.daterangetd{line-height:30px}.date_range_bi div.divtimer_design span{margin-top:0!important;color:#000}.divtimer_design .bootstrap-datetimepicker-widget{top:auto!important;left:5px!important}.AssetDatePopUp tr td.daterangetd.date-range-column{max-width:114px!important;display:table-column!important;width:auto!important}.AssetDatePopUp tbody.daterangebody tr.daterangetr{display:table-row!important}.daterangebody{display:grid!important}",""]),t.exports=e},"7f05":function(t,e,a){var i=a("1756");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("5960d030",i,!0,{sourceMap:!1,shadowMode:!1})},8427:function(t,e,a){var i=a("7edf");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("da378924",i,!0,{sourceMap:!1,shadowMode:!1})},8470:function(t,e,a){"use strict";a("a00c")},"95e6":function(t,e,a){"use strict";a("9ca4")},"9ca4":function(t,e,a){var i=a("b633");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("65905721",i,!0,{sourceMap:!1,shadowMode:!1})},a00c:function(t,e,a){var i=a("1967");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("26398138",i,!0,{sourceMap:!1,shadowMode:!1})},acb3:function(t,e,a){"use strict";a("61fa")},b13e:function(t,e,a){var i=a("1fc9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("3ba8f17d",i,!0,{sourceMap:!1,shadowMode:!1})},b633:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".view-report[data-v-56b0afca]{float:left}.grid-toDo-list[data-v-56b0afca]{display:grid;grid-template-columns:.7fr 1fr}.grid-toDo-list>div[data-v-56b0afca]:first-child{grid-column:span 2}.widget-dropdown[data-v-56b0afca]{position:absolute;width:150px;top:40px;border-radius:4px;right:0;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.1);border:1px solid #ccc;display:flex;flex-direction:column;z-index:2}.widget-dropdown div[data-v-56b0afca]{padding:0 8px;border:none;background:none;cursor:pointer;text-align:left}.vue-grid-layout[data-v-56b0afca]{background:#eee}.vue-grid-item[data-v-56b0afca]:not(.vue-grid-placeholder){background:#ccc;border:1px solid #000}.vue-grid-item .resizing[data-v-56b0afca]{opacity:.9}.vue-grid-item .static[data-v-56b0afca]{background:#cce}.vue-grid-item .text[data-v-56b0afca]{font-size:24px;text-align:center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.vue-grid-item .no-drag[data-v-56b0afca],.vue-grid-item .text[data-v-56b0afca]{height:100%;width:100%}.vue-grid-item .minMax[data-v-56b0afca]{font-size:12px}.vue-grid-item .add[data-v-56b0afca]{cursor:pointer}.vue-draggable-handle[data-v-56b0afca]{position:absolute;width:20px;height:20px;top:0;left:0;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><circle cx='5' cy='5' r='5' fill='#999999'/></svg>\") no-repeat;background-position:100% 100%;padding:0 8px 8px 0;background-repeat:no-repeat;background-origin:content-box;box-sizing:border-box;cursor:pointer}.graph-widget-box[data-v-56b0afca]{min-height:auto!important}.graph-widget[data-v-56b0afca]{height:100%!important}.view-report[data-v-56b0afca]{margin-left:10px;margin-top:10px;text-decoration:underline;color:#1f77b4;font-weight:400;cursor:pointer}",""]),t.exports=e},c084:function(t,e,a){var i=a("1e88");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("51d6fb59",i,!0,{sourceMap:!1,shadowMode:!1})},cddd:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".required[data-v-35cf26d1]{color:red;margin-left:3px}",""]),t.exports=e},e163:function(t,e,a){var i=a("529e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("66c7413e",i,!0,{sourceMap:!1,shadowMode:!1})},e444:function(t,e,a){"use strict";a("7715")},e536:function(t,e,a){"use strict";a("5bd2")},ea29:function(t,e,a){"use strict";a("5f93")},f05c:function(t,e,a){"use strict";a("7f05")},f0a6:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".custom-chart-div.Linechrt .reportBlock{transform:none}",""]),t.exports=e},faac:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".p-action-btn[data-v-40dd3435]{background-color:#525f65;height:auto!important}.p-action-btn[data-v-40dd3435],.p-action-btn[data-v-40dd3435]:hover{border-left:2px solid #495a62;border-right:0;border-top:0;border-bottom:0}.p-action-btn[data-v-40dd3435]:hover{background-color:#4a585e}",""]),t.exports=e},ff0e:function(t,e,a){"use strict";a("b13e")}}]);
//# sourceMappingURL=chunk-10663ebc.js.map