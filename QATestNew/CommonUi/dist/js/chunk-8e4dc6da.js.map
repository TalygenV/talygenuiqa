{"version":3,"sources":["webpack:///./node_modules/d3-color/src/cubehelix.js","webpack:///./node_modules/c3/c3.css?522d","webpack:///./node_modules/c3/c3.js","webpack:///./node_modules/c3/c3.min.css","webpack:///./node_modules/c3/c3.css?31f2","webpack:///./node_modules/d3-dsv/src/dsv.js","webpack:///./node_modules/d3-interpolate/src/cubehelix.js","webpack:///./node_modules/d3-dsv/src/autoType.js","webpack:///./node_modules/d3-color/src/index.js","webpack:///./node_modules/c3/node_modules/d3/dist/package.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-dsv/src/csv.js","webpack:///./node_modules/d3-color/src/lab.js","webpack:///./node_modules/d3-time-format/src/isoFormat.js","webpack:///./node_modules/d3-time-format/src/isoParse.js","webpack:///./node_modules/d3-quadtree/src/index.js","webpack:///./node_modules/c3/c3.min.css?f629","webpack:///./node_modules/c3/c3.css","webpack:///./node_modules/d3-geo/src/adder.js","webpack:///./node_modules/d3-geo/src/math.js","webpack:///./node_modules/d3-geo/src/noop.js","webpack:///./node_modules/d3-geo/src/stream.js","webpack:///./node_modules/d3-geo/src/area.js","webpack:///./node_modules/d3-geo/src/cartesian.js","webpack:///./node_modules/d3-geo/src/bounds.js","webpack:///./node_modules/d3-geo/src/centroid.js","webpack:///./node_modules/d3-geo/src/constant.js","webpack:///./node_modules/d3-geo/src/compose.js","webpack:///./node_modules/d3-geo/src/rotation.js","webpack:///./node_modules/d3-geo/src/circle.js","webpack:///./node_modules/d3-geo/src/clip/buffer.js","webpack:///./node_modules/d3-geo/src/pointEqual.js","webpack:///./node_modules/d3-geo/src/clip/rejoin.js","webpack:///./node_modules/d3-geo/src/polygonContains.js","webpack:///./node_modules/d3-geo/src/clip/index.js","webpack:///./node_modules/d3-geo/src/clip/antimeridian.js","webpack:///./node_modules/d3-geo/src/clip/circle.js","webpack:///./node_modules/d3-geo/src/clip/line.js","webpack:///./node_modules/d3-geo/src/clip/rectangle.js","webpack:///./node_modules/d3-geo/src/clip/extent.js","webpack:///./node_modules/d3-geo/src/length.js","webpack:///./node_modules/d3-geo/src/distance.js","webpack:///./node_modules/d3-geo/src/contains.js","webpack:///./node_modules/d3-geo/src/graticule.js","webpack:///./node_modules/d3-geo/src/interpolate.js","webpack:///./node_modules/d3-geo/src/path/area.js","webpack:///./node_modules/d3-geo/src/identity.js","webpack:///./node_modules/d3-geo/src/path/bounds.js","webpack:///./node_modules/d3-geo/src/path/centroid.js","webpack:///./node_modules/d3-geo/src/path/context.js","webpack:///./node_modules/d3-geo/src/path/measure.js","webpack:///./node_modules/d3-geo/src/path/string.js","webpack:///./node_modules/d3-geo/src/path/index.js","webpack:///./node_modules/d3-geo/src/transform.js","webpack:///./node_modules/d3-geo/src/projection/fit.js","webpack:///./node_modules/d3-geo/src/projection/resample.js","webpack:///./node_modules/d3-geo/src/projection/index.js","webpack:///./node_modules/d3-geo/src/projection/conic.js","webpack:///./node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/conicEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/albers.js","webpack:///./node_modules/d3-geo/src/projection/albersUsa.js","webpack:///./node_modules/d3-geo/src/projection/azimuthal.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/mercator.js","webpack:///./node_modules/d3-geo/src/projection/conicConformal.js","webpack:///./node_modules/d3-geo/src/projection/equirectangular.js","webpack:///./node_modules/d3-geo/src/projection/conicEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/equalEarth.js","webpack:///./node_modules/d3-geo/src/projection/gnomonic.js","webpack:///./node_modules/d3-geo/src/projection/identity.js","webpack:///./node_modules/d3-geo/src/projection/naturalEarth1.js","webpack:///./node_modules/d3-geo/src/projection/orthographic.js","webpack:///./node_modules/d3-geo/src/projection/stereographic.js","webpack:///./node_modules/d3-geo/src/projection/transverseMercator.js","webpack:///./node_modules/d3-scale-chromatic/src/colors.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack:///./node_modules/d3-scale-chromatic/src/ramp.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack:///./node_modules/d3-interpolate/src/discrete.js","webpack:///./node_modules/d3-interpolate/src/hue.js","webpack:///./node_modules/d3-interpolate/src/hsl.js","webpack:///./node_modules/d3-interpolate/src/lab.js","webpack:///./node_modules/d3-interpolate/src/hcl.js","webpack:///./node_modules/d3-interpolate/src/piecewise.js","webpack:///./node_modules/d3-interpolate/src/quantize.js","webpack:///./node_modules/d3-drag/src/constant.js","webpack:///./node_modules/d3-drag/src/event.js","webpack:///./node_modules/d3-drag/src/drag.js","webpack:///./node_modules/d3-format/src/index.js","webpack:///./node_modules/d3-fetch/src/blob.js","webpack:///./node_modules/d3-fetch/src/buffer.js","webpack:///./node_modules/d3-fetch/src/text.js","webpack:///./node_modules/d3-fetch/src/dsv.js","webpack:///./node_modules/d3-fetch/src/image.js","webpack:///./node_modules/d3-fetch/src/json.js","webpack:///./node_modules/d3-fetch/src/xml.js","webpack:///./node_modules/d3-polygon/src/area.js","webpack:///./node_modules/d3-polygon/src/centroid.js","webpack:///./node_modules/d3-polygon/src/cross.js","webpack:///./node_modules/d3-polygon/src/hull.js","webpack:///./node_modules/d3-polygon/src/contains.js","webpack:///./node_modules/d3-polygon/src/length.js","webpack:///./node_modules/d3-timer/src/interval.js","webpack:///./node_modules/d3-time/src/index.js","webpack:///./node_modules/d3-dsv/src/tsv.js","webpack:///./node_modules/d3-hierarchy/src/cluster.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack:///./node_modules/d3-hierarchy/src/array.js","webpack:///./node_modules/d3-hierarchy/src/pack/enclose.js","webpack:///./node_modules/d3-hierarchy/src/pack/siblings.js","webpack:///./node_modules/d3-hierarchy/src/accessors.js","webpack:///./node_modules/d3-hierarchy/src/constant.js","webpack:///./node_modules/d3-hierarchy/src/pack/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/round.js","webpack:///./node_modules/d3-hierarchy/src/treemap/dice.js","webpack:///./node_modules/d3-hierarchy/src/partition.js","webpack:///./node_modules/d3-hierarchy/src/stratify.js","webpack:///./node_modules/d3-hierarchy/src/tree.js","webpack:///./node_modules/d3-hierarchy/src/treemap/slice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack:///./node_modules/d3-hierarchy/src/treemap/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/binary.js","webpack:///./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack:///./node_modules/d3-dispatch/src/index.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/math.js","webpack:///./node_modules/d3-shape/src/arc.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/point.js","webpack:///./node_modules/d3-shape/src/line.js","webpack:///./node_modules/d3-shape/src/area.js","webpack:///./node_modules/d3-shape/src/descending.js","webpack:///./node_modules/d3-shape/src/identity.js","webpack:///./node_modules/d3-shape/src/pie.js","webpack:///./node_modules/d3-shape/src/curve/radial.js","webpack:///./node_modules/d3-shape/src/lineRadial.js","webpack:///./node_modules/d3-shape/src/areaRadial.js","webpack:///./node_modules/d3-shape/src/pointRadial.js","webpack:///./node_modules/d3-shape/src/array.js","webpack:///./node_modules/d3-shape/src/link/index.js","webpack:///./node_modules/d3-shape/src/symbol/circle.js","webpack:///./node_modules/d3-shape/src/symbol/cross.js","webpack:///./node_modules/d3-shape/src/symbol/diamond.js","webpack:///./node_modules/d3-shape/src/symbol/star.js","webpack:///./node_modules/d3-shape/src/symbol/square.js","webpack:///./node_modules/d3-shape/src/symbol/triangle.js","webpack:///./node_modules/d3-shape/src/symbol/wye.js","webpack:///./node_modules/d3-shape/src/symbol.js","webpack:///./node_modules/d3-shape/src/noop.js","webpack:///./node_modules/d3-shape/src/curve/basis.js","webpack:///./node_modules/d3-shape/src/curve/basisClosed.js","webpack:///./node_modules/d3-shape/src/curve/basisOpen.js","webpack:///./node_modules/d3-shape/src/curve/bundle.js","webpack:///./node_modules/d3-shape/src/curve/cardinal.js","webpack:///./node_modules/d3-shape/src/curve/cardinalClosed.js","webpack:///./node_modules/d3-shape/src/curve/cardinalOpen.js","webpack:///./node_modules/d3-shape/src/curve/catmullRom.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack:///./node_modules/d3-shape/src/curve/linearClosed.js","webpack:///./node_modules/d3-shape/src/curve/monotone.js","webpack:///./node_modules/d3-shape/src/curve/natural.js","webpack:///./node_modules/d3-shape/src/curve/step.js","webpack:///./node_modules/d3-shape/src/offset/none.js","webpack:///./node_modules/d3-shape/src/order/none.js","webpack:///./node_modules/d3-shape/src/stack.js","webpack:///./node_modules/d3-shape/src/offset/expand.js","webpack:///./node_modules/d3-shape/src/offset/diverging.js","webpack:///./node_modules/d3-shape/src/offset/silhouette.js","webpack:///./node_modules/d3-shape/src/offset/wiggle.js","webpack:///./node_modules/d3-shape/src/order/appearance.js","webpack:///./node_modules/d3-shape/src/order/ascending.js","webpack:///./node_modules/d3-shape/src/order/descending.js","webpack:///./node_modules/d3-shape/src/order/insideOut.js","webpack:///./node_modules/d3-shape/src/order/reverse.js","webpack:///./node_modules/d3-path/src/index.js","webpack:///./node_modules/d3-ease/src/linear.js","webpack:///./node_modules/d3-ease/src/quad.js","webpack:///./node_modules/d3-ease/src/poly.js","webpack:///./node_modules/d3-ease/src/sin.js","webpack:///./node_modules/d3-ease/src/math.js","webpack:///./node_modules/d3-ease/src/exp.js","webpack:///./node_modules/d3-ease/src/circle.js","webpack:///./node_modules/d3-ease/src/bounce.js","webpack:///./node_modules/d3-ease/src/back.js","webpack:///./node_modules/d3-ease/src/elastic.js","webpack:///./node_modules/d3-selection/src/create.js","webpack:///./node_modules/d3-selection/src/local.js","webpack:///./node_modules/d3-selection/src/selectAll.js","webpack:///./node_modules/d3-selection/src/touches.js"],"names":["A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","o","Cubehelix","h","s","l","opacity","r","g","b","bl","k","Math","sqrt","atan2","NaN","cubehelix","arguments","length","this","brighter","pow","darker","rgb","isNaN","a","cosh","cos","sinh","sin","global","factory","module","exports","ChartInternal","api","$$","d3","window","config","getDefaultConfig","data","cache","axes","Chart","internal","loadConfig","beforeInit","init","afterInit","bindThis","fn","target","argThis","Object","keys","forEach","key","bind","prototype","asHalfPixel","n","ceil","ceil10","v","diffDomain","d","getOption","options","defaultValue","isDefined","getPathBox","path","box","getBBox","items","pathSegList","getItem","minX","x","minY","min","y","width","height","element","ignore","hasValue","dict","value","found","isArray","Array","isEmpty","isString","isFunction","isNumber","isUndefined","isValue","notEmpty","sanitise","str","replace","flattenArray","arr","concat","apply","isWithinBox","point","sensitivity","xStart","xEnd","yStart","yEnd","getIEVersion","agent","navigator","userAgent","pos","indexOf","parseInt","substring","isIE","version","ver","AxisInternal","component","params","scale","scaleLinear","range","orient","innerTickSize","outerTickSize","withOuterTick","tickPadding","tickValues","tickFormat","tickArguments","tickOffset","tickCulling","tickCentered","tickTextCharSize","tickTextRotate","tickLength","axis","generateAxis","axisX","selection","attr","axisY","scaleExtent","domain","start","stop","generateTicks","i","ticks","push","unshift","copyScale","newScale","copy","isCategory","textFormatted","formatted","updateRange","rangeExtent","updateTickTextCharSize","tick","size","w","select","text","each","undefined","isVertical","tspanData","splitted","tickMultiline","splitTickText","tickMultilineMax","ellipsify","map","index","subtext","spaceIndex","textWidth","tickText","maxWidth","tickWidth","toString","call","split","charAt","substr","slice","max","ellipsified","remaining","available","padEnd","updateTickLength","lineY2","tickPosition","textY","rotate","textTransform","textTextAnchor","tspanDx","PI","tspanDy","dy","transition","self","tickTransform","tickX","tickY","scale0","__chart__","scale1","ticksValues","selectAll","tickEnter","enter","insert","style","tickExit","exit","remove","tickUpdate","merge","lineUpdate","append","textUpdate","tspans","tspanEnter","tspanUpdate","pathUpdate","rangeBand","dx","top","right","bottom","left","format","isCentered","tickInterval","interval","node","getTotalLength","Infinity","culling","CLASS","chart","chartLine","chartLines","chartBar","chartBars","chartText","chartTexts","chartArc","chartArcs","chartArcsTitle","chartArcsBackground","chartArcsGaugeUnit","chartArcsGaugeMax","chartArcsGaugeMin","selectedCircle","selectedCircles","eventRect","eventRects","eventRectsSingle","eventRectsMultiple","zoomRect","brush","dragZoom","focused","defocused","region","regions","title","tooltipContainer","tooltip","tooltipName","shape","shapes","line","lines","bar","bars","circle","circles","arc","arcLabelLine","arcs","area","areas","empty","texts","gaugeValue","grid","gridLines","xgrid","xgrids","xgridLine","xgridLines","xgridFocus","ygrid","ygrids","ygridLine","ygridLines","colorScale","stanfordElements","stanfordLine","stanfordLines","stanfordRegion","stanfordRegions","stanfordText","stanfordTexts","axisXLabel","axisYLabel","axisY2","axisY2Label","legendBackground","legendItem","legendItemEvent","legendItemTile","legendItemHidden","legendItemFocused","dragarea","EXPANDED","SELECTED","INCLUDED","AxisClass","owner","Axis","main","axis_x_inner","clipPathForXAxis","getTranslate","axis_x_show","axis_rotated","textAnchorForXAxisLabel","axis_y_inner","clipPathForYAxis","axis_y_show","textAnchorForYAxisLabel","y2","axis_y2_show","textAnchorForY2AxisLabel","getXAxis","withoutTransition","withoutRotateTickText","axisParams","isCategorized","axis_x_tick_multiline","Number","axis_x_tick_multilineMax","axis_x_tick_width","axis_x_tick_rotate","isTimeSeries","parseDate","axis_x_tick_centered","axis_x_tick_culling","updateXAxisTickValues","targets","axis_x_tick_fit","axis_x_tick_count","generateTickValues","mapTargetsToUniqueXs","xAxis","subXAxis","getYAxis","axisId","isAxisNormalized","axis_y_tick_rotate","isTimeSeriesY","axis_y_tick_time_type","axis_y_tick_time_interval","getId","id","data_axes","getXAxisTickFormat","defaultAxisTimeFormat","categoryName","axis_x_tick_format","date","axisTimeFormat","getTickValues","getXAxisTickValues","axis_x_tick_values","getYAxisTickValues","axis_y_tick_values","yAxis","getY2AxisTickValues","axis_y2_tick_values","y2Axis","getLabelOptionByAxisId","option","axis_y_label","axis_y2_label","axis_x_label","getLabelText","setLabelText","getLabelPosition","defaultPosition","position","isInner","isOuter","isLeft","isCenter","isRight","isTop","isMiddle","isBottom","getXAxisLabelPosition","getYAxisLabelPosition","getY2AxisLabelPosition","getLabelPositionById","textForXAxisLabel","textForYAxisLabel","textForY2AxisLabel","xForAxisLabel","forHorizontal","dxForAxisLabel","textAnchorForAxisLabel","xForXAxisLabel","xForYAxisLabel","xForY2AxisLabel","dxForXAxisLabel","dxForYAxisLabel","dxForY2AxisLabel","dyForXAxisLabel","getMaxTickWidth","getHorizontalAxisHeight","dyForYAxisLabel","dyForY2AxisLabel","axis_y2_inner","withoutRecompute","targetsToShow","dummy","svg","currentMaxTickWidths","filterTargetsToShow","getYDomain","yOrient","yAxisTickValues","y2Orient","y2AxisTickValues","getXDomain","xOrient","xAxisTickFormat","xAxisTickValues","classed","updateLabels","withTransition","getPadding","padding","domainLength","p","unit","convertPixelsToAxisPadding","pixels","values","tickCount","forTimeSeries","targetCount","end","count","tickValue","Date","sort","generateTransitions","duration","axisSubX","subx","redraw","isHidden","c3","generate","c3LogScale","linearScale","logScale","PROJECTION","logspace","len","tmp","scaleLog","nice","m","invert","powerOfTen","log","LN10","initParams","data_url","convertUrlToData","data_mimeType","data_headers","data_keys","initWithData","data_json","convertJsonToData","data_rows","convertRowsToData","data_columns","Error","convertColumnsToData","clipId","valueOf","clipIdForXAxis","clipIdForYAxis","clipIdForGrid","clipIdForSubchart","clipPath","getClipPath","clipPathForGrid","clipPathForSubchart","dragStart","dragging","flowing","cancelClick","mouseover","transiting","color","generateColor","levelColor","generateLevelColor","dataTimeParse","data_xLocaltime","timeParse","utcParse","data_xFormat","axis_x_localtime","timeFormat","utcFormat","getMilliseconds","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","hiddenTargetIds","hiddenLegendIds","focusedTargetIds","defocusedTargetIds","subXOrient","isLegendRight","legend_position","isLegendInset","isLegendTop","legend_inset_anchor","isLegendLeft","legendStep","legendItemWidth","legendItemHeight","rotated_padding_left","rotated_padding_right","rotated_padding_top","withoutFadeIn","intervalForObserveInserted","initChartElements","initBar","initLine","initArc","initGauge","initText","defs","binding","bindto","selectChart","document","createElement","observeInserted","html","xs","convertDataToTargets","data_filter","filter","data_hide","addHiddenTargetIds","mapToIds","legend_hide","addHiddenLegendIds","isStanfordGraphType","initStanfordData","updateSizes","updateScales","extent","subX","subY","subY2","orgXDomain","on","onmouseover","onmouseout","svg_classname","clipChart","appendClip","clipXAxis","clipYAxis","clipGrid","clipSubchart","updateSvgSize","initPie","initDragZoom","subchart_show","initSubchart","initTooltip","initLegend","initTitle","initZoom","drawColorScale","initSubchartBrush","initRegion","initGrid","grid_lines_front","initGridLines","initStanfordElements","initEventRect","updateTargets","axis_x_selection","selectionAsValue","getDefaultSelection","updateDimension","oninit","withTransform","withUpdateXDomain","withUpdateOrgXDomain","withTransitionForAxis","bindResize","bindWindowFocus","smoothLines","el","type","x1","x2","y1","legendHeight","legend","getLegendHeight","legendWidth","getLegendWidth","legendHeightForBottom","hasArc","hasArcType","xAxisHeight","subchartXAxisHeight","subchartHeight","subchart_size_height","currentWidth","getCurrentWidth","currentHeight","getCurrentHeight","margin","getCurrentPaddingTop","getCurrentPaddingRight","getCurrentPaddingBottom","getCurrentPaddingLeft","margin2","margin3","updateSizeForLegend","width2","height2","arcWidth","arcHeight","hasType","gauge_fullCircle","getGaugeLabelHeight","updateRadius","radiusExpanded","updateTargetsForText","updateTargetsForBar","updateTargetsForLine","updateTargetsForArc","updateTargetsForSubchart","showTargets","isTargetToShow","transition_duration","transitions","withY","withSubchart","withTransitionForExit","withTrimXDomain","withLegend","withEventRect","withDimension","withUpdateXAxis","drawArea","drawBar","drawLine","xForText","yForText","durationForExit","durationForAxis","transitionsToWait","waitForDraw","flow","intervalForCulling","xDomainForZoom","cx","cy","areaIndices","getShapeIndices","isAreaType","barIndices","isBarType","lineIndices","isLineType","hideAxis","xv","legend_show","updateLegend","updateXDomain","zoom_rescale","orgDomain","axis_y_tick_count","axis_y2_tick_count","axis_x_tick_culling_max","e","generateDrawArea","generateDrawBar","generateDrawLine","generateXYForText","updateCircleY","circleY","circleX","updateXgridFocus","data_empty_label_text","redrawEventRect","updateGrid","updateStanfordElements","updateRegion","updateBar","updateLine","updateArea","updateCircle","hasDataLabel","updateText","redrawTitle","redrawArc","redrawSubchart","generateFlow","isTabVisible","redrawBar","redrawLine","redrawArea","redrawCircle","redrawText","redrawRegion","redrawGrid","generateWait","t","add","onrendered","updateAndRedraw","withTransitionForTransform","transformAll","redrawWithoutRescale","axis_x_type","isCustomX","data_x","data_xs","axis_y_type","initialOpacity","initialOpacityForCircle","opacityForCircle","isPointShouldBeShown","point_show","isStanfordType","isScatterType","opacityForText","xx","xvCustom","xyValue","axis_x_categories","yvCustom","yScale","yv","subxx","transformMain","transformContext","transformLegend","getXAxisClipX","getXAxisClipY","getXAxisClipWidth","getXAxisClipHeight","getYAxisClipX","getYAxisClipY","getYAxisClipWidth","getYAxisClipHeight","withoutAxis","observer","MutationObserver","mutations","mutation","previousSibling","disconnect","setInterval","parentNode","clearInterval","update","observe","attributes","childList","characterData","console","error","resizeFunction","generateResize","onresize","resize_auto","resizeTimeout","clearTimeout","setTimeout","onresized","resizeIfElementDisplayed","offsetParent","addEventListener","_this","windowFocusHandler","unbindWindowFocus","removeEventListener","resizeFunctions","callResizeFunctions","f","splice","endall","callback","timer","done","parsedDate","hidden","SVGPathSeg","typeAsLetter","owningPathSegList","pathSegType","pathSegTypeAsLetter","_owningPathSegList","classname","PATHSEG_UNKNOWN","PATHSEG_CLOSEPATH","PATHSEG_MOVETO_ABS","PATHSEG_MOVETO_REL","PATHSEG_LINETO_ABS","PATHSEG_LINETO_REL","PATHSEG_CURVETO_CUBIC_ABS","PATHSEG_CURVETO_CUBIC_REL","PATHSEG_CURVETO_QUADRATIC_ABS","PATHSEG_CURVETO_QUADRATIC_REL","PATHSEG_ARC_ABS","PATHSEG_ARC_REL","PATHSEG_LINETO_HORIZONTAL_ABS","PATHSEG_LINETO_HORIZONTAL_REL","PATHSEG_LINETO_VERTICAL_ABS","PATHSEG_LINETO_VERTICAL_REL","PATHSEG_CURVETO_CUBIC_SMOOTH_ABS","PATHSEG_CURVETO_CUBIC_SMOOTH_REL","PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS","PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL","_segmentChanged","segmentChanged","SVGPathSegClosePath","create","_asPathString","clone","SVGPathSegMovetoAbs","_x","_y","defineProperty","get","set","enumerable","SVGPathSegMovetoRel","SVGPathSegLinetoAbs","SVGPathSegLinetoRel","SVGPathSegCurvetoCubicAbs","_x1","_y1","_x2","_y2","SVGPathSegCurvetoCubicRel","SVGPathSegCurvetoQuadraticAbs","SVGPathSegCurvetoQuadraticRel","SVGPathSegArcAbs","r1","r2","angle","largeArcFlag","sweepFlag","_r1","_r2","_angle","_largeArcFlag","_sweepFlag","SVGPathSegArcRel","SVGPathSegLinetoHorizontalAbs","SVGPathSegLinetoHorizontalRel","SVGPathSegLinetoVerticalAbs","SVGPathSegLinetoVerticalRel","SVGPathSegCurvetoCubicSmoothAbs","SVGPathSegCurvetoCubicSmoothRel","SVGPathSegCurvetoQuadraticSmoothAbs","SVGPathSegCurvetoQuadraticSmoothRel","SVGPathElement","createSVGPathSegClosePath","createSVGPathSegMovetoAbs","createSVGPathSegMovetoRel","createSVGPathSegLinetoAbs","createSVGPathSegLinetoRel","createSVGPathSegCurvetoCubicAbs","createSVGPathSegCurvetoCubicRel","createSVGPathSegCurvetoQuadraticAbs","createSVGPathSegCurvetoQuadraticRel","createSVGPathSegArcAbs","createSVGPathSegArcRel","createSVGPathSegLinetoHorizontalAbs","createSVGPathSegLinetoHorizontalRel","createSVGPathSegLinetoVerticalAbs","createSVGPathSegLinetoVerticalRel","createSVGPathSegCurvetoCubicSmoothAbs","createSVGPathSegCurvetoCubicSmoothRel","createSVGPathSegCurvetoQuadraticSmoothAbs","createSVGPathSegCurvetoQuadraticSmoothRel","getPathSegAtLength","distance","isFinite","measurementElement","createElementNS","setAttribute","getAttribute","lastPathSegment","numberOfItems","removeItem","SVGPathSegList","pathElement","_pathElement","_list","_parsePath","_mutationObserverConfig","attributeFilter","_pathElementMutationObserver","_updateListFromPathMutations","_checkPathSynchronizedToList","_pathSegList","takeRecords","mutationRecords","hasPathMutations","record","attributeName","_writeListToPath","_pathSegArrayAsString","pathSeg","clear","initialize","newItem","_checkValidIndex","insertItemBefore","replaceItem","item","appendItem","pathSegArray","string","first","Builder","appendSegment","Source","_string","_currentIndex","_endIndex","_previousCommand","_skipOptionalSpaces","_isCurrentSpace","character","_skipOptionalSpacesOrDelimiter","hasMoreData","peekSegmentType","lookahead","_pathSegTypeFromChar","_nextCommandHelper","previousCommand","initialCommandIsMoveTo","command","_parseNumber","exponent","integer","frac","decimal","sign","expsign","startIndex","startIntPartIndex","scanIntPartIndex","multiplier","number","_parseArcFlag","flag","flagChar","parseSegment","points","arcAngle","arcLarge","arcSweep","builder","source","String","targetLength","padString","repeat","assign","varArgs","TypeError","to","nextSource","nextKey","hasOwnProperty","writable","configurable","labels","axis_x_max","axis_y_max","axis_y2_max","axis_x_min","axis_y_min","axis_y2_min","types","axis_y2_type","category","categories","resize","size_width","size_height","flush","destroy","targetIds","shown","targetId","flat","reduce","ret","dataValue","names","clearLegendItemTextBoxCache","updateDataAttributes","colors","stackNormalized","normalized","isStackNormalized","data_stack_normalize","donut","padAngle","donut_padAngle","args","baseTarget","baseValue","diff","notfoundIds","orgDataCount","getMaxDataCount","tail","json","rows","columns","j","getOtherTargetX","missing","translateX","transform","mainRegion","mainText","mainBar","mainLine","mainArea","mainCircle","scaleX","flowIndex","flowLength","flowStart","getValueOnIndex","flowEnd","durationForFlow","wait","updateXGrid","hideXGridFocus","flowTransition","ease","easeLinear","isRegionOnX","xgridAttr","regionX","regionWidth","focus","candidates","mapToTargetIds","selectorTargets","revert","defocus","expandArc","toggleFocusLegend","unexpandArc","showLegend","isLegendToShow","selectorLegends","grids","grid_x_lines","removeGridLines","grid_y_lines","groups","data_groups","show","hide","hideLegend","load","addXs","classes","data_classes","data_colors","hasCaches","cacheIds","getCaches","unload","loadFromArgs","ids","pie","pie_padAngle","c","selected","getTargetSelectorSuffix","nodes","__data__","indices","resetOther","data_selection_enabled","toggle","getToggle","isTargetId","data_selection_grouped","isTargetIndex","isSelected","data_selection_isselectable","unselect","removeHiddenTargetIds","that","subchart","isShown","getTargets","removeSubchart","mouse","filterByX","getMousePosition","dispatchEvent","tooltip_onshow","tooltip_onhide","transformTo","optionsForRedraw","setTargetType","updateTargetX","updateTargetXs","zoom","zoom_onzoom","enable","enabled","zoom_enabled","unzoom","zoom_x_max","zoom_x_min","getPadAngle","orderFct","getOrderFunction","isOrderAsc","isOrderDesc","defaultSort_1","t1","t2","gauge_width","donut_width","gaugeArcWidth","gauge_arcs_minWidth","radius","innerRadiusRatio","innerRadius","updateArc","svgArc","getSvgArc","svgArcExpanded","getSvgArcExpanded","svgArcExpandedSub","updateAngle","gMin","gMax","gTic","gValue","startAngle","endAngle","isGaugeType","gauge_min","gauge_max","gauge_startingAngle","hasGaugeType","singleArcWidth","outerRadius","newArc","withoutUpdate","updated","centroid","rate","expandWidth","getArc","force","isArcType","transformForArcLabel","ratio","translate","hasGauge","donut_label_ratio","pie_label_ratio","abs","getArcRatio","getRatio","convertToArcData","addName","textForArcLabel","shouldShowArcLabel","meetsArcLabelThreshold","getArcLabelFormat","defaultArcValueFormat","textForGaugeMinMax","isMax","getGaugeLabelExtents","shouldExpand","expandDuration","isDonutType","donut_expand_duration","gauge_expand_duration","isPieType","pie_expand_duration","donut_expand","gauge_expand","pie_expand","shouldShow","donut_label_show","pie_label_show","threshold","donut_label_threshold","pie_label_threshold","pie_label_format","gauge_label_format","donut_label_format","gauge_label_extents","getArcTitle","donut_title","mainPies","mainPieEnter","classChartArc","classArcs","classFocus","mainArc","arcLabelLines","mainArcLabelLine","arcData","classArc","interaction_enabled","_current","total","gauge_labelLine_show","lineLength","lineThickness","innerLineLength","lineAngle","arcInnerRadius","linePositioningAngle","data_onmouseover","selectedData","showTooltip","revertLegend","hideTooltip","data_onmouseout","toggleShape","data_onclick","attrTween","interpolate","interpolated","round","index_1","backgroundArc","d1","gauge_label_show","gauge_units","addToCache","getFromCache","resetCache","test","addCache","cloneTarget","generateTargetClass","generateClass","prefix","classText","classTexts","classShape","classShapes","classLine","classLines","classCircle","classCircles","classBar","classBars","classArea","classAreas","classRegion","classEvent","classTarget","additionalClassSuffix","additionalClass","classFocused","classDefocused","classChartText","classChartLine","classChartBar","targetClass","CSS","escape","selectorTarget","selectorLegend","URL","parent","getAxisClipX","getAxisClipY","getAxisClipWidth","getAxisClipHeight","pattern","color_pattern","schemeCategory10","data_color","Function","color_threshold","asValue","padding_left","padding_right","padding_top","padding_bottom","zoom_initialRange","zoom_type","zoom_disableDefaultBehavior","zoom_privileged","zoom_onzoomstart","zoom_onzoomend","interaction_brighten","data_epochs","data_xSort","data_idConverter","data_names","data_type","data_types","data_labels","data_order","data_regions","data_selection_multiple","data_selection_draggable","data_onselected","data_onunselected","subchart_axis_x_show","subchart_onbrush","legend_inset_x","legend_inset_y","legend_inset_step","legend_item_onclick","legend_item_onmouseover","legend_item_onmouseout","legend_equally","legend_padding","legend_item_tile_width","legend_item_tile_height","axis_x_tick_outer","axis_x_padding","axis_x_height","axis_y_inverted","axis_y_center","axis_y_tick_format","axis_y_tick_outer","axis_y_padding","axis_y_default","axis_y2_inverted","axis_y2_center","axis_y2_tick_format","axis_y2_tick_outer","axis_y2_padding","axis_y2_default","grid_x_show","grid_x_type","grid_y_show","grid_y_ticks","grid_focus_show","point_r","point_sensitivity","point_focus_expand_enabled","point_focus_expand_r","point_select_r","line_connectNull","line_step_type","bar_width","bar_width_ratio","bar_width_max","bar_zerobased","bar_space","area_zerobased","area_above","spline_interpolation_type","stanford_lines","stanford_regions","stanford_texts","stanford_scaleMin","stanford_scaleMax","stanford_scaleWidth","stanford_scaleFormat","stanford_scaleValues","stanford_colors","stanford_padding","tooltip_show","tooltip_grouped","tooltip_order","tooltip_format_title","tooltip_format_name","tooltip_format_value","tooltip_horizontal","tooltip_position","tooltip_contents","defaultTitleFormat","defaultValueFormat","getTooltipContent","tooltip_init_show","tooltip_init_x","tooltip_init_position","title_text","title_padding","title_position","additionalConfig","read","this_config","find","shift","url","mimeType","headers","converter","tsv","convertXsvToData","csv","then","catch","xsv","row","_a","targetKeys","new_rows","new_row","findValueInJson","object","pathArray","newRows","newRow","appendXs","epochs","isX","isEpochs","isNotXAndNotEpochs","isNotX","xKey","getXKey","rawX","generateTargetX","getOtherTargetXs","getXValuesOfXKey","convertedId","id_org","returnData","v1","v2","hasNegativeValue","hasNegativeValueInTargets","hasPositiveValue","hasPositiveValueInTargets","some","isTargetNormalized","group","includes","getTotalPerIndex","cached","sum","sumByAxis","getTotalDataSum","totalDataSum","xValues","getXValue","idsForX","name","valueOnIndex","hasTarget","getTargetsToShow","removeHiddenLegendIds","getValuesAsIdKeyed","ys","checkValueInTargets","checker","toLowerCase","orderAsc","orderDesc","reducer","t1Sum","t2Sum","order","orderTargets","fct","filterByIndex","filterRemoveNull","filterByXDomain","xDomain","getDataLabelLength","lengths","paddingCoef","dataLabelFormat","isNoneArc","isArc","findClosestFromTargets","findClosest","horizontalDistance","dist","findClosestFromTargetsByX","closest","newDiff","dataPoints","computeDist","minDist","isWithinBar","xIndex","yIndex","convertValuesToStep","converted","asPercent","attrs","current","getYDomainMin","baseId","idsInGroup","getYDomainMax","yDomainAbs","isAllPositive","isAllNegative","targetsByAxisId","yTargets","yMin","yMax","yDomainMin","yDomainMax","center","isZeroBased","isInverted","showHorizontalDataLabel","showVerticalDataLabel","pixelsToAxisPadding","getY","reverse","getXDomainMin","getXDomainMax","getXDomainPadding","maxDataCount","paddingLeft","paddingRight","firstX","lastX","getTime","withTrim","updateScale","trimXDomain","zoomDomain","getZoomDomain","drag","sx","sy","mx","my","maxX","maxY","_w","_h","isIncluded","isWithin","togglePoint","togglePath","dragstart","dragend","getYFormat","forArc","formatForY","yFormat","formatForY2","y2Format","toFixed","defaultFormat","xgridData","generateGridData","xgridEnter","updateYGrid","gridValues","ygridEnter","gridTextAnchor","gridTextDx","xGridTextX","yGridTextX","xgridLineEnter","ygridLineEnter","showXGridFocus","dataToShow","focusEl","firstYear","lastYear","gridData","tickNum","getFullYear","getGridFilterToRemove","param","forX","toRemove","toShow","zoomTransform","mouseout","unexpandCircles","unexpandBars","isHoveringDataPoint","withName","isMouseCloseToDataPoint","showSingleDataPoint","closestByX","mouseX","expandCircles","expandBars","sameXData","isWithinShape","getYScale","selector","getBoundingClientRect","event","createEvent","initMouseEvent","legendItemTextBox","legendHasRendered","updateLegendWithDefaults","insetLegendPosition","updateLegendStep","step","updateLegendItemWidth","updateLegendItemHeight","opacityForLegend","opacityForUnfocusedLegend","xForLegend","xForLegendText","xForLegendRect","yForLegend","yForLegendText","yForLegendRect","x1ForLegendTile","x2ForLegendTile","yForLegendTile","rects","tiles","background","paddingTop","maxHeight","posMin","tileWidth","totalLength","offsets","widths","heights","margins","steps","getTextBox","textElement","getTextRect","textContent","updatePositions","maxLength","reset","isLast","itemWidth","itemHeight","itemLength","areaLength","updateValues","withoutStep","altKey","regionY","regionHeight","labelRegion","regionLabels","labelOffsetX","labelOffsetY","labelTransform","xPos","yPos","label","vertical","paddingX","paddingY","getScale","forTimeseries","scaleTime","getX","offset","_scale","raw","getSubYScale","forInit","xMin","xMax","subXMin","subXMax","subYMin","subYMax","selectPoint","pointSelectR","unselectPoint","selectPath","unselectPath","nodeName","isStepType","mainBars","mainBarEnter","barData","getBarW","barTargetsNum","getBars","isSub","getPoints","generateGetBarPoints","indexX","indexY","__max__","barW","barX","getShapeX","barY","getShapeY","barOffset","getShapeOffset","barSpaceOffset","y0","posX","posY","barShape","typeFilter","targetsNum","rowValues","constructor","isWithinStep","isWithinCircle","getInterpolate","linear","curveLinear","curveLinearClosed","basis","curveBasis","curveBasisOpen","curveBasisClosed","bundle","curveBundle","cardinal","curveCardinal","curveCardinalOpen","curveCardinalClosed","monotone","curveMonotoneX","curveStep","curveStepBefore","curveStepAfter","isSplineType","mainLines","mainLineEnter","lineData","generateGetLinePoints","yScaleGetter","xValue","yValue","defined","x0","lineWithRegions","curve","lineTargetsNum","lineOffset","_regions","sWithRegion","xp","yp","dd","diffx2","xOffset","isWithinRegions","generateM","d0","x_diff","xv0","xv1","mainAreaEnter","orgAreaOpacity","generateGetAreaPoints","value0","getAreaBaseValue","value1","areaTargetsNum","areaOffset","lineOrScatterOrStanfordData","mainCircleEnter","pointR","getStanfordPointColor","getCircles","pointExpandedR","d3_this","getParentWidth","getParentHeight","getTitlePadding","getAxisWidthByAxisId","defaultPadding","legendWidthOnRight","getColorScalePadding","getParentRectValue","tagName","offsetWidth","getSvgLeft","hasLeftAxisRect","leftAxisClass","leftAxis","svgRect","chartRect","svgLeft","isSubchart","initBrush","brushY","brushX","sourceEvent","redrawForBrush","updateExtent","context","move","brushSelection","contextLineEnter","contextLine","contextBarEnter","contextBar","updateBarForSubchart","redrawBarForSubchart","drawBarOnSub","random","updateLineForSubchart","redrawLineForSubchart","drawLineOnSub","updateAreaForSubchart","contextArea","contextAreaEnter","redrawAreaForSubchart","drawAreaOnSub","zoomIdentity","mainTextEnter","barOrLineData","forFlow","cls","rect","font","getAreaPoints","getBarPoints","getLinePoints","getter","getXForText","getYForText","isSafari","isChrome","xForTitle","yForTitle","barWidth","barHeight","legendAxis","axisScale","inverseScale","scaleSequential","minEpochs","maxEpochs","axisRight","xForColorScale","compareEpochs","interpolateHslLong","hsl","colorscale","scaleSequentialLog","getCentroid","point1","point2","getRegionArea","getStanfordTooltipTitle","labelX","labelY","countEpochsInRegion","accumulator","currentValue","pointInRegion","percentage","xi","yi","yj","xj","intersect","inside","stanfordLineEnter","stanfordRegionEnter","stanfordTextEnter","countPointsInRegion","content","join","temp","getTooltipSortFunction","obj","sortFunction","bgcolor","titleFormat","nameFormat","valueFormat","tooltipSortFunction","tooltipPosition","tWidth","tHeight","tooltipLeft","tooltipRight","tooltipTop","chartRight","positionFunction","property","has","ua","startEvent","redrawForZoom","clientX","clientY","updateDomain","rescaleY","rescaleX","translateExtent","brushXPos","brushYPos","getZoomedDomain","dragZoomBrush","zoomedDomain","___CSS_LOADER_API_IMPORT___","__esModule","default","locals","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","JSON","stringify","customConverter","inferColumns","columnSet","column","pad","formatYear","year","formatDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","reFormat","RegExp","delimiter","DELIMITER","charCodeAt","parse","convert","parseRows","N","I","eof","eol","token","preformatBody","formatValue","formatBody","formatRows","formatRow","hue","cubehelixGamma","gamma","cubehelixLong","autoType","trim","match","fixtz","deg2rad","rad2deg","csvParse","csvParseRows","csvFormat","csvFormatBody","csvFormatRows","csvFormatRow","csvFormatValue","K","Xn","Yn","Zn","t0","t3","labConvert","Lab","Hcl","hcl2lab","z","rgb2lrgb","xyz2lab","gray","lab","lab2xyz","lrgb2rgb","hclConvert","lch","hcl","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","Adder","adder","bv","av","epsilon","epsilon2","pi","halfPi","quarterPi","tau","degrees","radians","atan","exp","floor","tan","acos","asin","haversin","noop","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","coordinates","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","phi00","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","cartesian","spherical","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","ranges","deltaSum","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","normal","equatorial","inflection","phii","delta","lambdai","antimeridian","lambda0","lambda1","rangeCompare","rangeContains","W0","W1","Z0","Z1","X2","Y2","Z2","z0","merged","deltaMax","feature","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cz","compose","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","ring","constant","precision","_","rejoin","pop","result","Intersection","other","entry","subject","clip","segments","segment","p0","p1","pointEqual","compareIntersection","startInside","isSubject","array","longitude","winding","polygon","point0","phi0","sinPhi0","cosPhi0","sinPhi1","cosPhi1","phi1","absDelta","intersection","phiArc","sink","clipLine","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","pointVisible","pointLine","clean","ringSegments","validSegment","clipAntimeridianLine","clipAntimeridianInterpolate","sign0","sign1","clipAntimeridianIntersect","sinLambda0Lambda1","from","cr","smallRadius","notHemisphere","visible","c0","v0","v00","code","two","pa","pb","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","uu","q","polar","meridian","q1","ax","ay","bx","by","clipMax","clipMin","clipRectangle","a1","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","activeStream","bufferStream","clipStream","polygonInside","a0","b0","b1","cleanInside","linePoint","cacheStream","lengthSum","lengthStream","lengthLineStart","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","sinDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","ao","bo","ab","ringRadians","pointRadians","graticuleX","graticuleY","X1","X0","Y1","Y0","X","Y","DX","DY","graticule","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","cy0","sy0","cy1","sy1","kx0","ky0","kx1","ky1","bounds","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_context","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","lengthRing","PathString","_circle","projectionStream","contextStream","measure","projection","identity","transformer","methods","TransformStream","fit","fitBounds","clipExtent","fitExtent","fitSize","fitWidth","fitHeight","maxDepth","cosMinDistance","delta2","project","resampleNone","resampleLineTo","depth","d2","phi2","lambda2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","ringPoint","transformRadians","transformRotate","scaleTranslate","scaleTranslateRotate","alpha","cosAlpha","sinAlpha","ai","bi","ci","fi","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","theta","preclip","postclip","recenter","resample","clipAngle","reflectX","reflectY","conicProjection","parallels","cylindricalEqualAreaRaw","conicEqualAreaRaw","r0","r0y","conicEqualArea","multiplex","streams","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","fy","equirectangularRaw","conicEquidistantRaw","gy","nx","A1","A2","A3","A4","M","iterations","equalEarthRaw","l2","l6","fpy","gnomonicRaw","sa","tx","ty","kx","ky","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","specifier","scheme","ramp","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","hslLong","hclLong","piecewise","samples","interpolator","DragEvent","active","dispatch","identifier","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","maxTouchPoints","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","listeners","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","view","mousemoved","mouseupped","nodrag","noevent","touches","changedTouches","touch","sublisteners","clickDistance","responseBlob","response","ok","status","statusText","blob","fetch","input","responseArrayBuffer","arrayBuffer","responseText","dsvParse","dsv","Promise","resolve","reject","image","Image","onerror","onload","src","responseJson","parser","DOMParser","parseFromString","lexicographicOrder","computeUpperHullIndexes","indexes","cross","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","hull","xa","ya","xb","yb","perimeter","delay","restart","time","elapsed","tsvParse","tsvParseRows","tsvFormat","tsvFormatBody","tsvFormatRows","tsvFormatRow","tsvFormatValue","defaultSeparation","meanX","children","meanXReduce","maxYReduce","leafLeft","leafRight","separation","nodeSize","cluster","root","previousNode","eachAfter","next","eachBefore","compare","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","leaves","links","hierarchy","child","childs","Node","valued","defaultChildren","computeHeight","node_copy","copyData","descendants","shuffle","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","x21","y21","r21","x3","y3","r3","a2","a3","b2","b3","place","intersects","score","previous","packEnclose","aa","sj","sk","pack","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","partition","positionNode","keyPrefix","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","change","executeShifts","nextAncestor","vim","TreeNode","treeRoot","tree","firstWalk","secondWalk","sizeNode","siblings","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","squarifyRatio","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","beta","i0","i1","dice","squarify","custom","tile","paddingStack","paddingInner","paddingBottom","treemap","paddingOuter","sums","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","xk","yk","resquarify","_squarify","arcOuterRadius","arcStartAngle","arcEndAngle","arcPadAngle","x10","y10","x32","y32","cornerTangents","rc","cw","x01","y01","lo","ox","oy","x11","y11","cx0","cx1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","buffer","da","a01","a11","a10","da0","da1","ap","rp","rc0","rc1","oc","kc","lc","Linear","areaStart","areaEnd","output","defined0","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","sortValues","descending","curveRadialLinear","curveRadial","Radial","_curve","radial","lineRadial","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","linkTarget","link","argv","curveHorizontal","bezierCurveTo","curveVertical","pointRadial","p2","p3","linkHorizontal","linkVertical","linkRadial","draw","tan30","tan30_2","ka","kr","sqrt3","symbols","diamond","square","star","triangle","wye","symbol","_x0","_y0","Basis","BasisClosed","_x3","_x4","_y3","_y4","BasisOpen","Bundle","_basis","_beta","_k","Cardinal","tension","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","s0","s1","slope2","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","_t0","px","py","Step","_t","stepBefore","stepAfter","series","stackValue","stack","oz","kz","sz","sij","ki","si","none","yn","s2","sij0","sij1","s3","skj0","skj1","peaks","peak","vi","vj","ascending","appearance","tops","bottoms","quadIn","quadOut","quadInOut","polyIn","polyOut","polyInOut","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b4","b5","b6","b7","b8","b9","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","amplitude","period","elasticIn","elasticOut","elasticInOut","creator","documentElement","nextId","local","Local","querySelectorAll"],"mappings":"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","file":"js/chunk-8e4dc6da.js","sourcesContent":["import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export * from \"-!../vue-style-loader/index.js??ref--7-oneOf-1-0!../css-loader/dist/cjs.js??ref--7-oneOf-1-1!../vue-loader/lib/loaders/stylePostLoader.js!../postcss-loader/src/index.js??ref--7-oneOf-1-2!../postcss-loader/src/index.js??ref--7-oneOf-1-3!./c3.css?vue&type=style&index=0&prod&lang=css&\"","/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.c3 = factory());\n}(this, (function () { 'use strict';\n\n  function ChartInternal(api) {\r\n      var $$ = this;\r\n      // Note: This part will be replaced by rollup-plugin-modify\r\n      // When bundling esm output. Beware of changing this line.\r\n      // TODO: Maybe we should check that the modification by rollup-plugin-modify\r\n      // is valid during unit tests.\r\n      $$.d3 = window.d3\r\n          ? window.d3\r\n          : typeof require !== 'undefined'\r\n              ? require('d3')\r\n              : undefined;\r\n      $$.api = api;\r\n      $$.config = $$.getDefaultConfig();\r\n      $$.data = {};\r\n      $$.cache = {};\r\n      $$.axes = {};\r\n  }\n\n  /**\r\n   * The Chart class\r\n   *\r\n   * The methods of this class is the public APIs of the chart object.\r\n   */\r\n  function Chart(config) {\r\n      this.internal = new ChartInternal(this);\r\n      this.internal.loadConfig(config);\r\n      this.internal.beforeInit(config);\r\n      this.internal.init();\r\n      this.internal.afterInit(config);\r\n      (function bindThis(fn, target, argThis) {\r\n          Object.keys(fn).forEach(function (key) {\r\n              target[key] = fn[key].bind(argThis);\r\n              if (Object.keys(fn[key]).length > 0) {\r\n                  bindThis(fn[key], target[key], argThis);\r\n              }\r\n          });\r\n      })(Chart.prototype, this, this);\r\n  }\n\n  var asHalfPixel = function (n) {\r\n      return Math.ceil(n) + 0.5;\r\n  };\r\n  var ceil10 = function (v) {\r\n      return Math.ceil(v / 10) * 10;\r\n  };\r\n  var diffDomain = function (d) {\r\n      return d[1] - d[0];\r\n  };\r\n  var getOption = function (options, key, defaultValue) {\r\n      return isDefined(options[key]) ? options[key] : defaultValue;\r\n  };\r\n  var getPathBox = function (path) {\r\n      var box = getBBox(path), items = [path.pathSegList.getItem(0), path.pathSegList.getItem(1)], minX = items[0].x, minY = Math.min(items[0].y, items[1].y);\r\n      return { x: minX, y: minY, width: box.width, height: box.height };\r\n  };\r\n  var getBBox = function (element) {\r\n      try {\r\n          return element.getBBox();\r\n      }\r\n      catch (ignore) {\r\n          // Firefox will throw an exception if getBBox() is called whereas the\r\n          // element is rendered with display:none\r\n          // See https://github.com/c3js/c3/issues/2692\r\n          // The previous code was using `getBoundingClientRect` which was returning\r\n          // everything at 0 in this case so let's reproduce this behavior here.\r\n          return { x: 0, y: 0, width: 0, height: 0 };\r\n      }\r\n  };\r\n  var hasValue = function (dict, value) {\r\n      var found = false;\r\n      Object.keys(dict).forEach(function (key) {\r\n          if (dict[key] === value) {\r\n              found = true;\r\n          }\r\n      });\r\n      return found;\r\n  };\r\n  var isArray = function (o) {\r\n      return Array.isArray(o);\r\n  };\r\n  var isDefined = function (v) {\r\n      return typeof v !== 'undefined';\r\n  };\r\n  var isEmpty = function (o) {\r\n      return (typeof o === 'undefined' ||\r\n          o === null ||\r\n          (isString(o) && o.length === 0) ||\r\n          (typeof o === 'object' && Object.keys(o).length === 0));\r\n  };\r\n  var isFunction = function (o) {\r\n      return typeof o === 'function';\r\n  };\r\n  var isNumber = function (o) {\r\n      return typeof o === 'number';\r\n  };\r\n  var isString = function (o) {\r\n      return typeof o === 'string';\r\n  };\r\n  var isUndefined = function (v) {\r\n      return typeof v === 'undefined';\r\n  };\r\n  var isValue = function (v) {\r\n      return v || v === 0;\r\n  };\r\n  var notEmpty = function (o) {\r\n      return !isEmpty(o);\r\n  };\r\n  var sanitise = function (str) {\r\n      return typeof str === 'string'\r\n          ? str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\r\n          : str;\r\n  };\r\n  var flattenArray = function (arr) {\r\n      return Array.isArray(arr) ? [].concat.apply([], arr) : [];\r\n  };\r\n  /**\r\n   * Returns whether the point is within the given box.\r\n   *\r\n   * @param {Array} point An [x,y] coordinate\r\n   * @param {Object} box An object with {x, y, width, height} keys\r\n   * @param {Number} sensitivity An offset to ease check on very small boxes\r\n   */\r\n  var isWithinBox = function (point, box, sensitivity) {\r\n      if (sensitivity === void 0) { sensitivity = 0; }\r\n      var xStart = box.x - sensitivity;\r\n      var xEnd = box.x + box.width + sensitivity;\r\n      var yStart = box.y + box.height + sensitivity;\r\n      var yEnd = box.y - sensitivity;\r\n      return (xStart < point[0] && point[0] < xEnd && yEnd < point[1] && point[1] < yStart);\r\n  };\r\n  /**\r\n   * Returns Internet Explorer version number (or false if no Internet Explorer used).\r\n   *\r\n   * @param string agent Optional parameter to specify user agent\r\n   */\r\n  var getIEVersion = function (agent) {\r\n      // https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie\r\n      if (typeof agent === 'undefined') {\r\n          agent = window.navigator.userAgent;\r\n      }\r\n      var pos = agent.indexOf('MSIE '); // up to IE10\r\n      if (pos > 0) {\r\n          return parseInt(agent.substring(pos + 5, agent.indexOf('.', pos)), 10);\r\n      }\r\n      pos = agent.indexOf('Trident/'); // IE11\r\n      if (pos > 0) {\r\n          pos = agent.indexOf('rv:');\r\n          return parseInt(agent.substring(pos + 3, agent.indexOf('.', pos)), 10);\r\n      }\r\n      return false;\r\n  };\r\n  /**\r\n   * Returns whether the used browser is Internet Explorer.\r\n   *\r\n   * @param version Optional parameter to specify IE version\r\n   */\r\n  var isIE = function (version) {\r\n      var ver = getIEVersion();\r\n      if (typeof version === 'undefined') {\r\n          return !!ver;\r\n      }\r\n      return version === ver;\r\n  };\n\n  function AxisInternal(component, params) {\r\n      var internal = this;\r\n      internal.component = component;\r\n      internal.params = params || {};\r\n      internal.d3 = component.d3;\r\n      internal.scale = internal.d3.scaleLinear();\r\n      internal.range;\r\n      internal.orient = 'bottom';\r\n      internal.innerTickSize = 6;\r\n      internal.outerTickSize = this.params.withOuterTick ? 6 : 0;\r\n      internal.tickPadding = 3;\r\n      internal.tickValues = null;\r\n      internal.tickFormat;\r\n      internal.tickArguments;\r\n      internal.tickOffset = 0;\r\n      internal.tickCulling = true;\r\n      internal.tickCentered;\r\n      internal.tickTextCharSize;\r\n      internal.tickTextRotate = internal.params.tickTextRotate;\r\n      internal.tickLength;\r\n      internal.axis = internal.generateAxis();\r\n  }\r\n  AxisInternal.prototype.axisX = function (selection, x, tickOffset) {\r\n      selection.attr('transform', function (d) {\r\n          return 'translate(' + Math.ceil(x(d) + tickOffset) + ', 0)';\r\n      });\r\n  };\r\n  AxisInternal.prototype.axisY = function (selection, y) {\r\n      selection.attr('transform', function (d) {\r\n          return 'translate(0,' + Math.ceil(y(d)) + ')';\r\n      });\r\n  };\r\n  AxisInternal.prototype.scaleExtent = function (domain) {\r\n      var start = domain[0], stop = domain[domain.length - 1];\r\n      return start < stop ? [start, stop] : [stop, start];\r\n  };\r\n  AxisInternal.prototype.generateTicks = function (scale) {\r\n      var internal = this;\r\n      var i, domain, ticks = [];\r\n      if (scale.ticks) {\r\n          return scale.ticks.apply(scale, internal.tickArguments);\r\n      }\r\n      domain = scale.domain();\r\n      for (i = Math.ceil(domain[0]); i < domain[1]; i++) {\r\n          ticks.push(i);\r\n      }\r\n      if (ticks.length > 0 && ticks[0] > 0) {\r\n          ticks.unshift(ticks[0] - (ticks[1] - ticks[0]));\r\n      }\r\n      return ticks;\r\n  };\r\n  AxisInternal.prototype.copyScale = function () {\r\n      var internal = this;\r\n      var newScale = internal.scale.copy(), domain;\r\n      if (internal.params.isCategory) {\r\n          domain = internal.scale.domain();\r\n          newScale.domain([domain[0], domain[1] - 1]);\r\n      }\r\n      return newScale;\r\n  };\r\n  AxisInternal.prototype.textFormatted = function (v) {\r\n      var internal = this, formatted = internal.tickFormat ? internal.tickFormat(v) : v;\r\n      return typeof formatted !== 'undefined' ? formatted : '';\r\n  };\r\n  AxisInternal.prototype.updateRange = function () {\r\n      var internal = this;\r\n      internal.range = internal.scale.rangeExtent\r\n          ? internal.scale.rangeExtent()\r\n          : internal.scaleExtent(internal.scale.range());\r\n      return internal.range;\r\n  };\r\n  AxisInternal.prototype.updateTickTextCharSize = function (tick) {\r\n      var internal = this;\r\n      if (internal.tickTextCharSize) {\r\n          return internal.tickTextCharSize;\r\n      }\r\n      var size = {\r\n          h: 11.5,\r\n          w: 5.5\r\n      };\r\n      tick\r\n          .select('text')\r\n          .text(function (d) {\r\n          return internal.textFormatted(d);\r\n      })\r\n          .each(function (d) {\r\n          var box = getBBox(this), text = internal.textFormatted(d), h = box.height, w = text ? box.width / text.length : undefined;\r\n          if (h && w) {\r\n              size.h = h;\r\n              size.w = w;\r\n          }\r\n      })\r\n          .text('');\r\n      internal.tickTextCharSize = size;\r\n      return size;\r\n  };\r\n  AxisInternal.prototype.isVertical = function () {\r\n      return this.orient === 'left' || this.orient === 'right';\r\n  };\r\n  AxisInternal.prototype.tspanData = function (d, i, scale) {\r\n      var internal = this;\r\n      var splitted = internal.params.tickMultiline\r\n          ? internal.splitTickText(d, scale)\r\n          : [].concat(internal.textFormatted(d));\r\n      if (internal.params.tickMultiline && internal.params.tickMultilineMax > 0) {\r\n          splitted = internal.ellipsify(splitted, internal.params.tickMultilineMax);\r\n      }\r\n      return splitted.map(function (s) {\r\n          return { index: i, splitted: s, length: splitted.length };\r\n      });\r\n  };\r\n  AxisInternal.prototype.splitTickText = function (d, scale) {\r\n      var internal = this, tickText = internal.textFormatted(d), maxWidth = internal.params.tickWidth, subtext, spaceIndex, textWidth, splitted = [];\r\n      if (Object.prototype.toString.call(tickText) === '[object Array]') {\r\n          return tickText;\r\n      }\r\n      if (!maxWidth || maxWidth <= 0) {\r\n          maxWidth = internal.isVertical()\r\n              ? 95\r\n              : internal.params.isCategory\r\n                  ? Math.ceil(scale(1) - scale(0)) - 12\r\n                  : 110;\r\n      }\r\n      function split(splitted, text) {\r\n          spaceIndex = undefined;\r\n          for (var i = 1; i < text.length; i++) {\r\n              if (text.charAt(i) === ' ') {\r\n                  spaceIndex = i;\r\n              }\r\n              subtext = text.substr(0, i + 1);\r\n              textWidth = internal.tickTextCharSize.w * subtext.length;\r\n              // if text width gets over tick width, split by space index or crrent index\r\n              if (maxWidth < textWidth) {\r\n                  return split(splitted.concat(text.substr(0, spaceIndex ? spaceIndex : i)), text.slice(spaceIndex ? spaceIndex + 1 : i));\r\n              }\r\n          }\r\n          return splitted.concat(text);\r\n      }\r\n      return split(splitted, tickText + '');\r\n  };\r\n  AxisInternal.prototype.ellipsify = function (splitted, max) {\r\n      if (splitted.length <= max) {\r\n          return splitted;\r\n      }\r\n      var ellipsified = splitted.slice(0, max);\r\n      var remaining = 3;\r\n      for (var i = max - 1; i >= 0; i--) {\r\n          var available = ellipsified[i].length;\r\n          ellipsified[i] = ellipsified[i]\r\n              .substr(0, available - remaining)\r\n              .padEnd(available, '.');\r\n          remaining -= available;\r\n          if (remaining <= 0) {\r\n              break;\r\n          }\r\n      }\r\n      return ellipsified;\r\n  };\r\n  AxisInternal.prototype.updateTickLength = function () {\r\n      var internal = this;\r\n      internal.tickLength =\r\n          Math.max(internal.innerTickSize, 0) + internal.tickPadding;\r\n  };\r\n  AxisInternal.prototype.lineY2 = function (d) {\r\n      var internal = this, tickPosition = internal.scale(d) + (internal.tickCentered ? 0 : internal.tickOffset);\r\n      return internal.range[0] < tickPosition && tickPosition < internal.range[1]\r\n          ? internal.innerTickSize\r\n          : 0;\r\n  };\r\n  AxisInternal.prototype.textY = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate\r\n          ? 11.5 - 2.5 * (rotate / 15) * (rotate > 0 ? 1 : -1)\r\n          : internal.tickLength;\r\n  };\r\n  AxisInternal.prototype.textTransform = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? 'rotate(' + rotate + ')' : '';\r\n  };\r\n  AxisInternal.prototype.textTextAnchor = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? (rotate > 0 ? 'start' : 'end') : 'middle';\r\n  };\r\n  AxisInternal.prototype.tspanDx = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? 8 * Math.sin(Math.PI * (rotate / 180)) : 0;\r\n  };\r\n  AxisInternal.prototype.tspanDy = function (d, i) {\r\n      var internal = this, dy = internal.tickTextCharSize.h;\r\n      if (i === 0) {\r\n          if (internal.isVertical()) {\r\n              dy = -((d.length - 1) * (internal.tickTextCharSize.h / 2) - 3);\r\n          }\r\n          else {\r\n              dy = '.71em';\r\n          }\r\n      }\r\n      return dy;\r\n  };\r\n  AxisInternal.prototype.generateAxis = function () {\r\n      var internal = this, d3 = internal.d3, params = internal.params;\r\n      function axis(g, transition) {\r\n          var self;\r\n          g.each(function () {\r\n              var g = (axis.g = d3.select(this));\r\n              var scale0 = this.__chart__ || internal.scale, scale1 = (this.__chart__ = internal.copyScale());\r\n              var ticksValues = internal.tickValues\r\n                  ? internal.tickValues\r\n                  : internal.generateTicks(scale1), ticks = g.selectAll('.tick').data(ticksValues, scale1), tickEnter = ticks\r\n                  .enter()\r\n                  .insert('g', '.domain')\r\n                  .attr('class', 'tick')\r\n                  .style('opacity', 1e-6), \r\n              // MEMO: No exit transition. The reason is this transition affects max tick width calculation because old tick will be included in the ticks.\r\n              tickExit = ticks.exit().remove(), tickUpdate = ticks.merge(tickEnter), tickTransform, tickX, tickY;\r\n              if (params.isCategory) {\r\n                  internal.tickOffset = Math.ceil((scale1(1) - scale1(0)) / 2);\r\n                  tickX = internal.tickCentered ? 0 : internal.tickOffset;\r\n                  tickY = internal.tickCentered ? internal.tickOffset : 0;\r\n              }\r\n              else {\r\n                  internal.tickOffset = tickX = 0;\r\n              }\r\n              internal.updateRange();\r\n              internal.updateTickLength();\r\n              internal.updateTickTextCharSize(g.select('.tick'));\r\n              var lineUpdate = tickUpdate\r\n                  .select('line')\r\n                  .merge(tickEnter.append('line')), textUpdate = tickUpdate.select('text').merge(tickEnter.append('text'));\r\n              var tspans = tickUpdate\r\n                  .selectAll('text')\r\n                  .selectAll('tspan')\r\n                  .data(function (d, i) {\r\n                  return internal.tspanData(d, i, scale1);\r\n              }), tspanEnter = tspans.enter().append('tspan'), tspanUpdate = tspanEnter.merge(tspans).text(function (d) {\r\n                  return d.splitted;\r\n              });\r\n              tspans.exit().remove();\r\n              var path = g.selectAll('.domain').data([0]), pathUpdate = path\r\n                  .enter()\r\n                  .append('path')\r\n                  .merge(path)\r\n                  .attr('class', 'domain');\r\n              // TODO: each attr should be one function and change its behavior by internal.orient, probably\r\n              switch (internal.orient) {\r\n                  case 'bottom': {\r\n                      tickTransform = internal.axisX;\r\n                      lineUpdate\r\n                          .attr('x1', tickX)\r\n                          .attr('x2', tickX)\r\n                          .attr('y2', function (d, i) {\r\n                          return internal.lineY2(d, i);\r\n                      });\r\n                      textUpdate\r\n                          .attr('x', 0)\r\n                          .attr('y', function (d, i) {\r\n                          return internal.textY(d, i);\r\n                      })\r\n                          .attr('transform', function (d, i) {\r\n                          return internal.textTransform(d, i);\r\n                      })\r\n                          .style('text-anchor', function (d, i) {\r\n                          return internal.textTextAnchor(d, i);\r\n                      });\r\n                      tspanUpdate\r\n                          .attr('x', 0)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      })\r\n                          .attr('dx', function (d, i) {\r\n                          return internal.tspanDx(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.range[0] +\r\n                          ',' +\r\n                          internal.outerTickSize +\r\n                          'V0H' +\r\n                          internal.range[1] +\r\n                          'V' +\r\n                          internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'top': {\r\n                      // TODO: rotated tick text\r\n                      tickTransform = internal.axisX;\r\n                      lineUpdate\r\n                          .attr('x1', tickX)\r\n                          .attr('x2', tickX)\r\n                          .attr('y2', function (d, i) {\r\n                          return -1 * internal.lineY2(d, i);\r\n                      });\r\n                      textUpdate\r\n                          .attr('x', 0)\r\n                          .attr('y', function (d, i) {\r\n                          return (-1 * internal.textY(d, i) -\r\n                              (params.isCategory ? 2 : internal.tickLength - 2));\r\n                      })\r\n                          .attr('transform', function (d, i) {\r\n                          return internal.textTransform(d, i);\r\n                      })\r\n                          .style('text-anchor', function (d, i) {\r\n                          return internal.textTextAnchor(d, i);\r\n                      });\r\n                      tspanUpdate\r\n                          .attr('x', 0)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      })\r\n                          .attr('dx', function (d, i) {\r\n                          return internal.tspanDx(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.range[0] +\r\n                          ',' +\r\n                          -internal.outerTickSize +\r\n                          'V0H' +\r\n                          internal.range[1] +\r\n                          'V' +\r\n                          -internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'left': {\r\n                      tickTransform = internal.axisY;\r\n                      lineUpdate\r\n                          .attr('x2', -internal.innerTickSize)\r\n                          .attr('y1', tickY)\r\n                          .attr('y2', tickY);\r\n                      textUpdate\r\n                          .attr('x', -internal.tickLength)\r\n                          .attr('y', internal.tickOffset)\r\n                          .style('text-anchor', 'end');\r\n                      tspanUpdate\r\n                          .attr('x', -internal.tickLength)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          -internal.outerTickSize +\r\n                          ',' +\r\n                          internal.range[0] +\r\n                          'H0V' +\r\n                          internal.range[1] +\r\n                          'H' +\r\n                          -internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'right': {\r\n                      tickTransform = internal.axisY;\r\n                      lineUpdate\r\n                          .attr('x2', internal.innerTickSize)\r\n                          .attr('y1', tickY)\r\n                          .attr('y2', tickY);\r\n                      textUpdate\r\n                          .attr('x', internal.tickLength)\r\n                          .attr('y', internal.tickOffset)\r\n                          .style('text-anchor', 'start');\r\n                      tspanUpdate.attr('x', internal.tickLength).attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.outerTickSize +\r\n                          ',' +\r\n                          internal.range[0] +\r\n                          'H0V' +\r\n                          internal.range[1] +\r\n                          'H' +\r\n                          internal.outerTickSize);\r\n                      break;\r\n                  }\r\n              }\r\n              if (scale1.rangeBand) {\r\n                  var x = scale1, dx = x.rangeBand() / 2;\r\n                  scale0 = scale1 = function (d) {\r\n                      return x(d) + dx;\r\n                  };\r\n              }\r\n              else if (scale0.rangeBand) {\r\n                  scale0 = scale1;\r\n              }\r\n              else {\r\n                  tickExit.call(tickTransform, scale1, internal.tickOffset);\r\n              }\r\n              tickEnter.call(tickTransform, scale0, internal.tickOffset);\r\n              self = (transition ? tickUpdate.transition(transition) : tickUpdate)\r\n                  .style('opacity', 1)\r\n                  .call(tickTransform, scale1, internal.tickOffset);\r\n          });\r\n          return self;\r\n      }\r\n      axis.scale = function (x) {\r\n          if (!arguments.length) {\r\n              return internal.scale;\r\n          }\r\n          internal.scale = x;\r\n          return axis;\r\n      };\r\n      axis.orient = function (x) {\r\n          if (!arguments.length) {\r\n              return internal.orient;\r\n          }\r\n          internal.orient =\r\n              x in { top: 1, right: 1, bottom: 1, left: 1 } ? x + '' : 'bottom';\r\n          return axis;\r\n      };\r\n      axis.tickFormat = function (format) {\r\n          if (!arguments.length) {\r\n              return internal.tickFormat;\r\n          }\r\n          internal.tickFormat = format;\r\n          return axis;\r\n      };\r\n      axis.tickCentered = function (isCentered) {\r\n          if (!arguments.length) {\r\n              return internal.tickCentered;\r\n          }\r\n          internal.tickCentered = isCentered;\r\n          return axis;\r\n      };\r\n      axis.tickOffset = function () {\r\n          return internal.tickOffset;\r\n      };\r\n      axis.tickInterval = function () {\r\n          var interval, length;\r\n          if (params.isCategory) {\r\n              interval = internal.tickOffset * 2;\r\n          }\r\n          else {\r\n              length =\r\n                  axis.g\r\n                      .select('path.domain')\r\n                      .node()\r\n                      .getTotalLength() -\r\n                      internal.outerTickSize * 2;\r\n              interval = length / axis.g.selectAll('line').size();\r\n          }\r\n          return interval === Infinity ? 0 : interval;\r\n      };\r\n      axis.ticks = function () {\r\n          if (!arguments.length) {\r\n              return internal.tickArguments;\r\n          }\r\n          internal.tickArguments = arguments;\r\n          return axis;\r\n      };\r\n      axis.tickCulling = function (culling) {\r\n          if (!arguments.length) {\r\n              return internal.tickCulling;\r\n          }\r\n          internal.tickCulling = culling;\r\n          return axis;\r\n      };\r\n      axis.tickValues = function (x) {\r\n          if (typeof x === 'function') {\r\n              internal.tickValues = function () {\r\n                  return x(internal.scale.domain());\r\n              };\r\n          }\r\n          else {\r\n              if (!arguments.length) {\r\n                  return internal.tickValues;\r\n              }\r\n              internal.tickValues = x;\r\n          }\r\n          return axis;\r\n      };\r\n      return axis;\r\n  };\n\n  var CLASS = {\r\n      target: 'c3-target',\r\n      chart: 'c3-chart',\r\n      chartLine: 'c3-chart-line',\r\n      chartLines: 'c3-chart-lines',\r\n      chartBar: 'c3-chart-bar',\r\n      chartBars: 'c3-chart-bars',\r\n      chartText: 'c3-chart-text',\r\n      chartTexts: 'c3-chart-texts',\r\n      chartArc: 'c3-chart-arc',\r\n      chartArcs: 'c3-chart-arcs',\r\n      chartArcsTitle: 'c3-chart-arcs-title',\r\n      chartArcsBackground: 'c3-chart-arcs-background',\r\n      chartArcsGaugeUnit: 'c3-chart-arcs-gauge-unit',\r\n      chartArcsGaugeMax: 'c3-chart-arcs-gauge-max',\r\n      chartArcsGaugeMin: 'c3-chart-arcs-gauge-min',\r\n      selectedCircle: 'c3-selected-circle',\r\n      selectedCircles: 'c3-selected-circles',\r\n      eventRect: 'c3-event-rect',\r\n      eventRects: 'c3-event-rects',\r\n      eventRectsSingle: 'c3-event-rects-single',\r\n      eventRectsMultiple: 'c3-event-rects-multiple',\r\n      zoomRect: 'c3-zoom-rect',\r\n      brush: 'c3-brush',\r\n      dragZoom: 'c3-drag-zoom',\r\n      focused: 'c3-focused',\r\n      defocused: 'c3-defocused',\r\n      region: 'c3-region',\r\n      regions: 'c3-regions',\r\n      title: 'c3-title',\r\n      tooltipContainer: 'c3-tooltip-container',\r\n      tooltip: 'c3-tooltip',\r\n      tooltipName: 'c3-tooltip-name',\r\n      shape: 'c3-shape',\r\n      shapes: 'c3-shapes',\r\n      line: 'c3-line',\r\n      lines: 'c3-lines',\r\n      bar: 'c3-bar',\r\n      bars: 'c3-bars',\r\n      circle: 'c3-circle',\r\n      circles: 'c3-circles',\r\n      arc: 'c3-arc',\r\n      arcLabelLine: 'c3-arc-label-line',\r\n      arcs: 'c3-arcs',\r\n      area: 'c3-area',\r\n      areas: 'c3-areas',\r\n      empty: 'c3-empty',\r\n      text: 'c3-text',\r\n      texts: 'c3-texts',\r\n      gaugeValue: 'c3-gauge-value',\r\n      grid: 'c3-grid',\r\n      gridLines: 'c3-grid-lines',\r\n      xgrid: 'c3-xgrid',\r\n      xgrids: 'c3-xgrids',\r\n      xgridLine: 'c3-xgrid-line',\r\n      xgridLines: 'c3-xgrid-lines',\r\n      xgridFocus: 'c3-xgrid-focus',\r\n      ygrid: 'c3-ygrid',\r\n      ygrids: 'c3-ygrids',\r\n      ygridLine: 'c3-ygrid-line',\r\n      ygridLines: 'c3-ygrid-lines',\r\n      colorScale: 'c3-colorscale',\r\n      stanfordElements: 'c3-stanford-elements',\r\n      stanfordLine: 'c3-stanford-line',\r\n      stanfordLines: 'c3-stanford-lines',\r\n      stanfordRegion: 'c3-stanford-region',\r\n      stanfordRegions: 'c3-stanford-regions',\r\n      stanfordText: 'c3-stanford-text',\r\n      stanfordTexts: 'c3-stanford-texts',\r\n      axis: 'c3-axis',\r\n      axisX: 'c3-axis-x',\r\n      axisXLabel: 'c3-axis-x-label',\r\n      axisY: 'c3-axis-y',\r\n      axisYLabel: 'c3-axis-y-label',\r\n      axisY2: 'c3-axis-y2',\r\n      axisY2Label: 'c3-axis-y2-label',\r\n      legendBackground: 'c3-legend-background',\r\n      legendItem: 'c3-legend-item',\r\n      legendItemEvent: 'c3-legend-item-event',\r\n      legendItemTile: 'c3-legend-item-tile',\r\n      legendItemHidden: 'c3-legend-item-hidden',\r\n      legendItemFocused: 'c3-legend-item-focused',\r\n      dragarea: 'c3-dragarea',\r\n      EXPANDED: '_expanded_',\r\n      SELECTED: '_selected_',\r\n      INCLUDED: '_included_'\r\n  };\n\n  var AxisClass = /** @class */ (function () {\r\n      function AxisClass(owner) {\r\n          this.owner = owner;\r\n          this.d3 = owner.d3;\r\n          this.internal = AxisInternal;\r\n      }\r\n      return AxisClass;\r\n  }());\r\n  var Axis = AxisClass;\r\n  Axis.prototype.init = function init() {\r\n      var $$ = this.owner, config = $$.config, main = $$.main;\r\n      $$.axes.x = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisX)\r\n          .attr('clip-path', config.axis_x_inner ? '' : $$.clipPathForXAxis)\r\n          .attr('transform', $$.getTranslate('x'))\r\n          .style('visibility', config.axis_x_show ? 'visible' : 'hidden');\r\n      $$.axes.x\r\n          .append('text')\r\n          .attr('class', CLASS.axisXLabel)\r\n          .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\r\n          .style('text-anchor', this.textAnchorForXAxisLabel.bind(this));\r\n      $$.axes.y = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisY)\r\n          .attr('clip-path', config.axis_y_inner ? '' : $$.clipPathForYAxis)\r\n          .attr('transform', $$.getTranslate('y'))\r\n          .style('visibility', config.axis_y_show ? 'visible' : 'hidden');\r\n      $$.axes.y\r\n          .append('text')\r\n          .attr('class', CLASS.axisYLabel)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .style('text-anchor', this.textAnchorForYAxisLabel.bind(this));\r\n      $$.axes.y2 = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisY2)\r\n          // clip-path?\r\n          .attr('transform', $$.getTranslate('y2'))\r\n          .style('visibility', config.axis_y2_show ? 'visible' : 'hidden');\r\n      $$.axes.y2\r\n          .append('text')\r\n          .attr('class', CLASS.axisY2Label)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .style('text-anchor', this.textAnchorForY2AxisLabel.bind(this));\r\n  };\r\n  Axis.prototype.getXAxis = function getXAxis(scale, orient, tickFormat, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\r\n      var $$ = this.owner, config = $$.config, axisParams = {\r\n          isCategory: $$.isCategorized(),\r\n          withOuterTick: withOuterTick,\r\n          tickMultiline: config.axis_x_tick_multiline,\r\n          tickMultilineMax: config.axis_x_tick_multiline\r\n              ? Number(config.axis_x_tick_multilineMax)\r\n              : 0,\r\n          tickWidth: config.axis_x_tick_width,\r\n          tickTextRotate: withoutRotateTickText ? 0 : config.axis_x_tick_rotate,\r\n          withoutTransition: withoutTransition\r\n      }, axis = new this.internal(this, axisParams).axis.scale(scale).orient(orient);\r\n      if ($$.isTimeSeries() && tickValues && typeof tickValues !== 'function') {\r\n          tickValues = tickValues.map(function (v) {\r\n              return $$.parseDate(v);\r\n          });\r\n      }\r\n      // Set tick\r\n      axis.tickFormat(tickFormat).tickValues(tickValues);\r\n      if ($$.isCategorized()) {\r\n          axis.tickCentered(config.axis_x_tick_centered);\r\n          if (isEmpty(config.axis_x_tick_culling)) {\r\n              config.axis_x_tick_culling = false;\r\n          }\r\n      }\r\n      return axis;\r\n  };\r\n  Axis.prototype.updateXAxisTickValues = function updateXAxisTickValues(targets, axis) {\r\n      var $$ = this.owner, config = $$.config, tickValues;\r\n      if (config.axis_x_tick_fit || config.axis_x_tick_count) {\r\n          tickValues = this.generateTickValues($$.mapTargetsToUniqueXs(targets), config.axis_x_tick_count, $$.isTimeSeries());\r\n      }\r\n      if (axis) {\r\n          axis.tickValues(tickValues);\r\n      }\r\n      else {\r\n          $$.xAxis.tickValues(tickValues);\r\n          $$.subXAxis.tickValues(tickValues);\r\n      }\r\n      return tickValues;\r\n  };\r\n  Axis.prototype.getYAxis = function getYAxis(axisId, scale, orient, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\r\n      var $$ = this.owner;\r\n      var config = $$.config;\r\n      var tickFormat = config[\"axis_\" + axisId + \"_tick_format\"];\r\n      if (!tickFormat && $$.isAxisNormalized(axisId)) {\r\n          tickFormat = function (x) { return x + \"%\"; };\r\n      }\r\n      var axis = new this.internal(this, {\r\n          withOuterTick: withOuterTick,\r\n          withoutTransition: withoutTransition,\r\n          tickTextRotate: withoutRotateTickText ? 0 : config.axis_y_tick_rotate\r\n      }).axis\r\n          .scale(scale)\r\n          .orient(orient);\r\n      if (tickFormat) {\r\n          axis.tickFormat(tickFormat);\r\n      }\r\n      if ($$.isTimeSeriesY()) {\r\n          axis.ticks(config.axis_y_tick_time_type, config.axis_y_tick_time_interval);\r\n      }\r\n      else {\r\n          axis.tickValues(tickValues);\r\n      }\r\n      return axis;\r\n  };\r\n  Axis.prototype.getId = function getId(id) {\r\n      var config = this.owner.config;\r\n      return id in config.data_axes ? config.data_axes[id] : 'y';\r\n  };\r\n  Axis.prototype.getXAxisTickFormat = function getXAxisTickFormat() {\r\n      // #2251 previously set any negative values to a whole number,\r\n      // however both should be truncated according to the users format specification\r\n      var $$ = this.owner, config = $$.config;\r\n      var format = $$.isTimeSeries()\r\n          ? $$.defaultAxisTimeFormat\r\n          : $$.isCategorized()\r\n              ? $$.categoryName\r\n              : function (v) {\r\n                  return v;\r\n              };\r\n      if (config.axis_x_tick_format) {\r\n          if (isFunction(config.axis_x_tick_format)) {\r\n              format = config.axis_x_tick_format;\r\n          }\r\n          else if ($$.isTimeSeries()) {\r\n              format = function (date) {\r\n                  return date ? $$.axisTimeFormat(config.axis_x_tick_format)(date) : '';\r\n              };\r\n          }\r\n      }\r\n      return isFunction(format)\r\n          ? function (v) {\r\n              return format.call($$, v);\r\n          }\r\n          : format;\r\n  };\r\n  Axis.prototype.getTickValues = function getTickValues(tickValues, axis) {\r\n      return tickValues ? tickValues : axis ? axis.tickValues() : undefined;\r\n  };\r\n  Axis.prototype.getXAxisTickValues = function getXAxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis);\r\n  };\r\n  Axis.prototype.getYAxisTickValues = function getYAxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis);\r\n  };\r\n  Axis.prototype.getY2AxisTickValues = function getY2AxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis);\r\n  };\r\n  Axis.prototype.getLabelOptionByAxisId = function getLabelOptionByAxisId(axisId) {\r\n      var $$ = this.owner, config = $$.config, option;\r\n      if (axisId === 'y') {\r\n          option = config.axis_y_label;\r\n      }\r\n      else if (axisId === 'y2') {\r\n          option = config.axis_y2_label;\r\n      }\r\n      else if (axisId === 'x') {\r\n          option = config.axis_x_label;\r\n      }\r\n      return option;\r\n  };\r\n  Axis.prototype.getLabelText = function getLabelText(axisId) {\r\n      var option = this.getLabelOptionByAxisId(axisId);\r\n      return isString(option) ? option : option ? option.text : null;\r\n  };\r\n  Axis.prototype.setLabelText = function setLabelText(axisId, text) {\r\n      var $$ = this.owner, config = $$.config, option = this.getLabelOptionByAxisId(axisId);\r\n      if (isString(option)) {\r\n          if (axisId === 'y') {\r\n              config.axis_y_label = text;\r\n          }\r\n          else if (axisId === 'y2') {\r\n              config.axis_y2_label = text;\r\n          }\r\n          else if (axisId === 'x') {\r\n              config.axis_x_label = text;\r\n          }\r\n      }\r\n      else if (option) {\r\n          option.text = text;\r\n      }\r\n  };\r\n  Axis.prototype.getLabelPosition = function getLabelPosition(axisId, defaultPosition) {\r\n      var option = this.getLabelOptionByAxisId(axisId), position = option && typeof option === 'object' && option.position\r\n          ? option.position\r\n          : defaultPosition;\r\n      return {\r\n          isInner: position.indexOf('inner') >= 0,\r\n          isOuter: position.indexOf('outer') >= 0,\r\n          isLeft: position.indexOf('left') >= 0,\r\n          isCenter: position.indexOf('center') >= 0,\r\n          isRight: position.indexOf('right') >= 0,\r\n          isTop: position.indexOf('top') >= 0,\r\n          isMiddle: position.indexOf('middle') >= 0,\r\n          isBottom: position.indexOf('bottom') >= 0\r\n      };\r\n  };\r\n  Axis.prototype.getXAxisLabelPosition = function getXAxisLabelPosition() {\r\n      return this.getLabelPosition('x', this.owner.config.axis_rotated ? 'inner-top' : 'inner-right');\r\n  };\r\n  Axis.prototype.getYAxisLabelPosition = function getYAxisLabelPosition() {\r\n      return this.getLabelPosition('y', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\r\n  };\r\n  Axis.prototype.getY2AxisLabelPosition = function getY2AxisLabelPosition() {\r\n      return this.getLabelPosition('y2', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\r\n  };\r\n  Axis.prototype.getLabelPositionById = function getLabelPositionById(id) {\r\n      return id === 'y2'\r\n          ? this.getY2AxisLabelPosition()\r\n          : id === 'y'\r\n              ? this.getYAxisLabelPosition()\r\n              : this.getXAxisLabelPosition();\r\n  };\r\n  Axis.prototype.textForXAxisLabel = function textForXAxisLabel() {\r\n      return this.getLabelText('x');\r\n  };\r\n  Axis.prototype.textForYAxisLabel = function textForYAxisLabel() {\r\n      return this.getLabelText('y');\r\n  };\r\n  Axis.prototype.textForY2AxisLabel = function textForY2AxisLabel() {\r\n      return this.getLabelText('y2');\r\n  };\r\n  Axis.prototype.xForAxisLabel = function xForAxisLabel(forHorizontal, position) {\r\n      var $$ = this.owner;\r\n      if (forHorizontal) {\r\n          return position.isLeft ? 0 : position.isCenter ? $$.width / 2 : $$.width;\r\n      }\r\n      else {\r\n          return position.isBottom\r\n              ? -$$.height\r\n              : position.isMiddle\r\n                  ? -$$.height / 2\r\n                  : 0;\r\n      }\r\n  };\r\n  Axis.prototype.dxForAxisLabel = function dxForAxisLabel(forHorizontal, position) {\r\n      if (forHorizontal) {\r\n          return position.isLeft ? '0.5em' : position.isRight ? '-0.5em' : '0';\r\n      }\r\n      else {\r\n          return position.isTop ? '-0.5em' : position.isBottom ? '0.5em' : '0';\r\n      }\r\n  };\r\n  Axis.prototype.textAnchorForAxisLabel = function textAnchorForAxisLabel(forHorizontal, position) {\r\n      if (forHorizontal) {\r\n          return position.isLeft ? 'start' : position.isCenter ? 'middle' : 'end';\r\n      }\r\n      else {\r\n          return position.isBottom ? 'start' : position.isMiddle ? 'middle' : 'end';\r\n      }\r\n  };\r\n  Axis.prototype.xForXAxisLabel = function xForXAxisLabel() {\r\n      return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.xForYAxisLabel = function xForYAxisLabel() {\r\n      return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.xForY2AxisLabel = function xForY2AxisLabel() {\r\n      return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForXAxisLabel = function dxForXAxisLabel() {\r\n      return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForYAxisLabel = function dxForYAxisLabel() {\r\n      return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForY2AxisLabel = function dxForY2AxisLabel() {\r\n      return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.dyForXAxisLabel = function dyForXAxisLabel() {\r\n      var $$ = this.owner, config = $$.config, position = this.getXAxisLabelPosition();\r\n      if (config.axis_rotated) {\r\n          return position.isInner\r\n              ? '1.2em'\r\n              : -25 - ($$.config.axis_x_inner ? 0 : this.getMaxTickWidth('x'));\r\n      }\r\n      else {\r\n          return position.isInner ? '-0.5em' : $$.getHorizontalAxisHeight('x') - 10;\r\n      }\r\n  };\r\n  Axis.prototype.dyForYAxisLabel = function dyForYAxisLabel() {\r\n      var $$ = this.owner, position = this.getYAxisLabelPosition();\r\n      if ($$.config.axis_rotated) {\r\n          return position.isInner ? '-0.5em' : '3em';\r\n      }\r\n      else {\r\n          return position.isInner\r\n              ? '1.2em'\r\n              : -10 - ($$.config.axis_y_inner ? 0 : this.getMaxTickWidth('y') + 10);\r\n      }\r\n  };\r\n  Axis.prototype.dyForY2AxisLabel = function dyForY2AxisLabel() {\r\n      var $$ = this.owner, position = this.getY2AxisLabelPosition();\r\n      if ($$.config.axis_rotated) {\r\n          return position.isInner ? '1.2em' : '-2.2em';\r\n      }\r\n      else {\r\n          return position.isInner\r\n              ? '-0.5em'\r\n              : 15 + ($$.config.axis_y2_inner ? 0 : this.getMaxTickWidth('y2') + 15);\r\n      }\r\n  };\r\n  Axis.prototype.textAnchorForXAxisLabel = function textAnchorForXAxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel(!$$.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.textAnchorForYAxisLabel = function textAnchorForYAxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.textAnchorForY2AxisLabel = function textAnchorForY2AxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.getMaxTickWidth = function getMaxTickWidth(id, withoutRecompute) {\r\n      var $$ = this.owner, maxWidth = 0, targetsToShow, scale, axis, dummy, svg;\r\n      if (withoutRecompute && $$.currentMaxTickWidths[id]) {\r\n          return $$.currentMaxTickWidths[id];\r\n      }\r\n      if ($$.svg) {\r\n          targetsToShow = $$.filterTargetsToShow($$.data.targets);\r\n          if (id === 'y') {\r\n              scale = $$.y.copy().domain($$.getYDomain(targetsToShow, 'y'));\r\n              axis = this.getYAxis(id, scale, $$.yOrient, $$.yAxisTickValues, false, true, true);\r\n          }\r\n          else if (id === 'y2') {\r\n              scale = $$.y2.copy().domain($$.getYDomain(targetsToShow, 'y2'));\r\n              axis = this.getYAxis(id, scale, $$.y2Orient, $$.y2AxisTickValues, false, true, true);\r\n          }\r\n          else {\r\n              scale = $$.x.copy().domain($$.getXDomain(targetsToShow));\r\n              axis = this.getXAxis(scale, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, false, true, true);\r\n              this.updateXAxisTickValues(targetsToShow, axis);\r\n          }\r\n          dummy = $$.d3\r\n              .select('body')\r\n              .append('div')\r\n              .classed('c3', true);\r\n          (svg = dummy\r\n              .append('svg')\r\n              .style('visibility', 'hidden')\r\n              .style('position', 'fixed')\r\n              .style('top', 0)\r\n              .style('left', 0)),\r\n              svg\r\n                  .append('g')\r\n                  .call(axis)\r\n                  .each(function () {\r\n                  $$.d3\r\n                      .select(this)\r\n                      .selectAll('text')\r\n                      .each(function () {\r\n                      var box = getBBox(this);\r\n                      if (maxWidth < box.width) {\r\n                          maxWidth = box.width;\r\n                      }\r\n                  });\r\n                  dummy.remove();\r\n              });\r\n      }\r\n      $$.currentMaxTickWidths[id] =\r\n          maxWidth <= 0 ? $$.currentMaxTickWidths[id] : maxWidth;\r\n      return $$.currentMaxTickWidths[id];\r\n  };\r\n  Axis.prototype.updateLabels = function updateLabels(withTransition) {\r\n      var $$ = this.owner;\r\n      var axisXLabel = $$.main.select('.' + CLASS.axisX + ' .' + CLASS.axisXLabel), axisYLabel = $$.main.select('.' + CLASS.axisY + ' .' + CLASS.axisYLabel), axisY2Label = $$.main.select('.' + CLASS.axisY2 + ' .' + CLASS.axisY2Label);\r\n      (withTransition ? axisXLabel.transition() : axisXLabel)\r\n          .attr('x', this.xForXAxisLabel.bind(this))\r\n          .attr('dx', this.dxForXAxisLabel.bind(this))\r\n          .attr('dy', this.dyForXAxisLabel.bind(this))\r\n          .text(this.textForXAxisLabel.bind(this));\r\n      (withTransition ? axisYLabel.transition() : axisYLabel)\r\n          .attr('x', this.xForYAxisLabel.bind(this))\r\n          .attr('dx', this.dxForYAxisLabel.bind(this))\r\n          .attr('dy', this.dyForYAxisLabel.bind(this))\r\n          .text(this.textForYAxisLabel.bind(this));\r\n      (withTransition ? axisY2Label.transition() : axisY2Label)\r\n          .attr('x', this.xForY2AxisLabel.bind(this))\r\n          .attr('dx', this.dxForY2AxisLabel.bind(this))\r\n          .attr('dy', this.dyForY2AxisLabel.bind(this))\r\n          .text(this.textForY2AxisLabel.bind(this));\r\n  };\r\n  Axis.prototype.getPadding = function getPadding(padding, key, defaultValue, domainLength) {\r\n      var p = typeof padding === 'number' ? padding : padding[key];\r\n      if (!isValue(p)) {\r\n          return defaultValue;\r\n      }\r\n      if (padding.unit === 'ratio') {\r\n          return padding[key] * domainLength;\r\n      }\r\n      // assume padding is pixels if unit is not specified\r\n      return this.convertPixelsToAxisPadding(p, domainLength);\r\n  };\r\n  Axis.prototype.convertPixelsToAxisPadding = function convertPixelsToAxisPadding(pixels, domainLength) {\r\n      var $$ = this.owner, length = $$.config.axis_rotated ? $$.width : $$.height;\r\n      return domainLength * (pixels / length);\r\n  };\r\n  Axis.prototype.generateTickValues = function generateTickValues(values, tickCount, forTimeSeries) {\r\n      var tickValues = values, targetCount, start, end, count, interval, i, tickValue;\r\n      if (tickCount) {\r\n          targetCount = isFunction(tickCount) ? tickCount() : tickCount;\r\n          // compute ticks according to tickCount\r\n          if (targetCount === 1) {\r\n              tickValues = [values[0]];\r\n          }\r\n          else if (targetCount === 2) {\r\n              tickValues = [values[0], values[values.length - 1]];\r\n          }\r\n          else if (targetCount > 2) {\r\n              count = targetCount - 2;\r\n              start = values[0];\r\n              end = values[values.length - 1];\r\n              interval = (end - start) / (count + 1);\r\n              // re-construct unique values\r\n              tickValues = [start];\r\n              for (i = 0; i < count; i++) {\r\n                  tickValue = +start + interval * (i + 1);\r\n                  tickValues.push(forTimeSeries ? new Date(tickValue) : tickValue);\r\n              }\r\n              tickValues.push(end);\r\n          }\r\n      }\r\n      if (!forTimeSeries) {\r\n          tickValues = tickValues.sort(function (a, b) {\r\n              return a - b;\r\n          });\r\n      }\r\n      return tickValues;\r\n  };\r\n  Axis.prototype.generateTransitions = function generateTransitions(duration) {\r\n      var $$ = this.owner, axes = $$.axes;\r\n      return {\r\n          axisX: duration ? axes.x.transition().duration(duration) : axes.x,\r\n          axisY: duration ? axes.y.transition().duration(duration) : axes.y,\r\n          axisY2: duration ? axes.y2.transition().duration(duration) : axes.y2,\r\n          axisSubX: duration ? axes.subx.transition().duration(duration) : axes.subx\r\n      };\r\n  };\r\n  Axis.prototype.redraw = function redraw(duration, isHidden) {\r\n      var $$ = this.owner, transition = duration ? $$.d3.transition().duration(duration) : null;\r\n      $$.axes.x.style('opacity', isHidden ? 0 : 1).call($$.xAxis, transition);\r\n      $$.axes.y.style('opacity', isHidden ? 0 : 1).call($$.yAxis, transition);\r\n      $$.axes.y2.style('opacity', isHidden ? 0 : 1).call($$.y2Axis, transition);\r\n      $$.axes.subx.style('opacity', isHidden ? 0 : 1).call($$.subXAxis, transition);\r\n  };\n\n  var c3 = {\r\n      version: '0.7.20',\r\n      chart: {\r\n          fn: Chart.prototype,\r\n          internal: {\r\n              fn: ChartInternal.prototype,\r\n              axis: {\r\n                  fn: AxisClass.prototype,\r\n                  internal: {\r\n                      fn: AxisInternal.prototype\r\n                  }\r\n              }\r\n          }\r\n      },\r\n      generate: function (config) {\r\n          return new Chart(config);\r\n      }\r\n  };\r\n  ChartInternal.prototype.beforeInit = function () {\r\n      // can do something\r\n  };\r\n  ChartInternal.prototype.afterInit = function () {\r\n      // can do something\r\n  };\r\n  ChartInternal.prototype.init = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.initParams();\r\n      if (config.data_url) {\r\n          $$.convertUrlToData(config.data_url, config.data_mimeType, config.data_headers, config.data_keys, $$.initWithData);\r\n      }\r\n      else if (config.data_json) {\r\n          $$.initWithData($$.convertJsonToData(config.data_json, config.data_keys));\r\n      }\r\n      else if (config.data_rows) {\r\n          $$.initWithData($$.convertRowsToData(config.data_rows));\r\n      }\r\n      else if (config.data_columns) {\r\n          $$.initWithData($$.convertColumnsToData(config.data_columns));\r\n      }\r\n      else {\r\n          throw Error('url or json or rows or columns is required.');\r\n      }\r\n  };\r\n  ChartInternal.prototype.initParams = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      // MEMO: clipId needs to be unique because it conflicts when multiple charts exist\r\n      $$.clipId = 'c3-' + new Date().valueOf() + '-clip';\r\n      $$.clipIdForXAxis = $$.clipId + '-xaxis';\r\n      $$.clipIdForYAxis = $$.clipId + '-yaxis';\r\n      $$.clipIdForGrid = $$.clipId + '-grid';\r\n      $$.clipIdForSubchart = $$.clipId + '-subchart';\r\n      $$.clipPath = $$.getClipPath($$.clipId);\r\n      $$.clipPathForXAxis = $$.getClipPath($$.clipIdForXAxis);\r\n      $$.clipPathForYAxis = $$.getClipPath($$.clipIdForYAxis);\r\n      $$.clipPathForGrid = $$.getClipPath($$.clipIdForGrid);\r\n      $$.clipPathForSubchart = $$.getClipPath($$.clipIdForSubchart);\r\n      $$.dragStart = null;\r\n      $$.dragging = false;\r\n      $$.flowing = false;\r\n      $$.cancelClick = false;\r\n      $$.mouseover = undefined;\r\n      $$.transiting = false;\r\n      $$.color = $$.generateColor();\r\n      $$.levelColor = $$.generateLevelColor();\r\n      $$.dataTimeParse = (config.data_xLocaltime ? d3.timeParse : d3.utcParse)($$.config.data_xFormat);\r\n      $$.axisTimeFormat = config.axis_x_localtime ? d3.timeFormat : d3.utcFormat;\r\n      $$.defaultAxisTimeFormat = function (date) {\r\n          if (date.getMilliseconds()) {\r\n              return d3.timeFormat('.%L')(date);\r\n          }\r\n          if (date.getSeconds()) {\r\n              return d3.timeFormat(':%S')(date);\r\n          }\r\n          if (date.getMinutes()) {\r\n              return d3.timeFormat('%I:%M')(date);\r\n          }\r\n          if (date.getHours()) {\r\n              return d3.timeFormat('%I %p')(date);\r\n          }\r\n          if (date.getDay() && date.getDate() !== 1) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          if (date.getDate() !== 1) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          if (date.getMonth()) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          return d3.timeFormat('%Y/%-m/%-d')(date);\r\n      };\r\n      $$.hiddenTargetIds = [];\r\n      $$.hiddenLegendIds = [];\r\n      $$.focusedTargetIds = [];\r\n      $$.defocusedTargetIds = [];\r\n      $$.xOrient = config.axis_rotated\r\n          ? config.axis_x_inner\r\n              ? 'right'\r\n              : 'left'\r\n          : config.axis_x_inner\r\n              ? 'top'\r\n              : 'bottom';\r\n      $$.yOrient = config.axis_rotated\r\n          ? config.axis_y_inner\r\n              ? 'top'\r\n              : 'bottom'\r\n          : config.axis_y_inner\r\n              ? 'right'\r\n              : 'left';\r\n      $$.y2Orient = config.axis_rotated\r\n          ? config.axis_y2_inner\r\n              ? 'bottom'\r\n              : 'top'\r\n          : config.axis_y2_inner\r\n              ? 'left'\r\n              : 'right';\r\n      $$.subXOrient = config.axis_rotated ? 'left' : 'bottom';\r\n      $$.isLegendRight = config.legend_position === 'right';\r\n      $$.isLegendInset = config.legend_position === 'inset';\r\n      $$.isLegendTop =\r\n          config.legend_inset_anchor === 'top-left' ||\r\n              config.legend_inset_anchor === 'top-right';\r\n      $$.isLegendLeft =\r\n          config.legend_inset_anchor === 'top-left' ||\r\n              config.legend_inset_anchor === 'bottom-left';\r\n      $$.legendStep = 0;\r\n      $$.legendItemWidth = 0;\r\n      $$.legendItemHeight = 0;\r\n      $$.currentMaxTickWidths = {\r\n          x: 0,\r\n          y: 0,\r\n          y2: 0\r\n      };\r\n      $$.rotated_padding_left = 30;\r\n      $$.rotated_padding_right = config.axis_rotated && !config.axis_x_show ? 0 : 30;\r\n      $$.rotated_padding_top = 5;\r\n      $$.withoutFadeIn = {};\r\n      $$.intervalForObserveInserted = undefined;\r\n      $$.axes.subx = d3.selectAll([]); // needs when excluding subchart.js\r\n  };\r\n  ChartInternal.prototype.initChartElements = function () {\r\n      if (this.initBar) {\r\n          this.initBar();\r\n      }\r\n      if (this.initLine) {\r\n          this.initLine();\r\n      }\r\n      if (this.initArc) {\r\n          this.initArc();\r\n      }\r\n      if (this.initGauge) {\r\n          this.initGauge();\r\n      }\r\n      if (this.initText) {\r\n          this.initText();\r\n      }\r\n  };\r\n  ChartInternal.prototype.initWithData = function (data) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      var defs, main, binding = true;\r\n      $$.axis = new AxisClass($$);\r\n      if (!config.bindto) {\r\n          $$.selectChart = d3.selectAll([]);\r\n      }\r\n      else if (typeof config.bindto.node === 'function') {\r\n          $$.selectChart = config.bindto;\r\n      }\r\n      else {\r\n          $$.selectChart = d3.select(config.bindto);\r\n      }\r\n      if ($$.selectChart.empty()) {\r\n          $$.selectChart = d3\r\n              .select(document.createElement('div'))\r\n              .style('opacity', 0);\r\n          $$.observeInserted($$.selectChart);\r\n          binding = false;\r\n      }\r\n      $$.selectChart.html('').classed('c3', true);\r\n      // Init data as targets\r\n      $$.data.xs = {};\r\n      $$.data.targets = $$.convertDataToTargets(data);\r\n      if (config.data_filter) {\r\n          $$.data.targets = $$.data.targets.filter(config.data_filter);\r\n      }\r\n      // Set targets to hide if needed\r\n      if (config.data_hide) {\r\n          $$.addHiddenTargetIds(config.data_hide === true\r\n              ? $$.mapToIds($$.data.targets)\r\n              : config.data_hide);\r\n      }\r\n      if (config.legend_hide) {\r\n          $$.addHiddenLegendIds(config.legend_hide === true\r\n              ? $$.mapToIds($$.data.targets)\r\n              : config.legend_hide);\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.initStanfordData();\r\n      }\r\n      // Init sizes and scales\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      // Set domains for each scale\r\n      $$.x.domain(d3.extent($$.getXDomain($$.data.targets)));\r\n      $$.y.domain($$.getYDomain($$.data.targets, 'y'));\r\n      $$.y2.domain($$.getYDomain($$.data.targets, 'y2'));\r\n      $$.subX.domain($$.x.domain());\r\n      $$.subY.domain($$.y.domain());\r\n      $$.subY2.domain($$.y2.domain());\r\n      // Save original x domain for zoom update\r\n      $$.orgXDomain = $$.x.domain();\r\n      /*-- Basic Elements --*/\r\n      // Define svgs\r\n      $$.svg = $$.selectChart\r\n          .append('svg')\r\n          .style('overflow', 'hidden')\r\n          .on('mouseenter', function () {\r\n          return config.onmouseover.call($$);\r\n      })\r\n          .on('mouseleave', function () {\r\n          return config.onmouseout.call($$);\r\n      });\r\n      if ($$.config.svg_classname) {\r\n          $$.svg.attr('class', $$.config.svg_classname);\r\n      }\r\n      // Define defs\r\n      defs = $$.svg.append('defs');\r\n      $$.clipChart = $$.appendClip(defs, $$.clipId);\r\n      $$.clipXAxis = $$.appendClip(defs, $$.clipIdForXAxis);\r\n      $$.clipYAxis = $$.appendClip(defs, $$.clipIdForYAxis);\r\n      $$.clipGrid = $$.appendClip(defs, $$.clipIdForGrid);\r\n      $$.clipSubchart = $$.appendClip(defs, $$.clipIdForSubchart);\r\n      $$.updateSvgSize();\r\n      // Define regions\r\n      main = $$.main = $$.svg.append('g').attr('transform', $$.getTranslate('main'));\r\n      if ($$.initPie) {\r\n          $$.initPie();\r\n      }\r\n      if ($$.initDragZoom) {\r\n          $$.initDragZoom();\r\n      }\r\n      if (config.subchart_show && $$.initSubchart) {\r\n          $$.initSubchart();\r\n      }\r\n      if ($$.initTooltip) {\r\n          $$.initTooltip();\r\n      }\r\n      if ($$.initLegend) {\r\n          $$.initLegend();\r\n      }\r\n      if ($$.initTitle) {\r\n          $$.initTitle();\r\n      }\r\n      if ($$.initZoom) {\r\n          $$.initZoom();\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.drawColorScale();\r\n      }\r\n      // Update selection based on size and scale\r\n      // TODO: currently this must be called after initLegend because of update of sizes, but it should be done in initSubchart.\r\n      if (config.subchart_show && $$.initSubchartBrush) {\r\n          $$.initSubchartBrush();\r\n      }\r\n      /*-- Main Region --*/\r\n      // text when empty\r\n      main\r\n          .append('text')\r\n          .attr('class', CLASS.text + ' ' + CLASS.empty)\r\n          .attr('text-anchor', 'middle') // horizontal centering of text at x position in all browsers.\r\n          .attr('dominant-baseline', 'middle'); // vertical centering of text at y position in all browsers, except IE.\r\n      // Regions\r\n      $$.initRegion();\r\n      // Grids\r\n      $$.initGrid();\r\n      // Define g for chart area\r\n      main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.chart);\r\n      // Grid lines\r\n      if (config.grid_lines_front) {\r\n          $$.initGridLines();\r\n      }\r\n      $$.initStanfordElements();\r\n      // Cover whole with rects for events\r\n      $$.initEventRect();\r\n      // Define g for chart\r\n      $$.initChartElements();\r\n      // Add Axis\r\n      $$.axis.init();\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Set default extent if defined\r\n      if (config.axis_x_selection) {\r\n          $$.brush.selectionAsValue($$.getDefaultSelection());\r\n      }\r\n      // Draw with targets\r\n      if (binding) {\r\n          $$.updateDimension();\r\n          $$.config.oninit.call($$);\r\n          $$.redraw({\r\n              withTransition: false,\r\n              withTransform: true,\r\n              withUpdateXDomain: true,\r\n              withUpdateOrgXDomain: true,\r\n              withTransitionForAxis: false\r\n          });\r\n      }\r\n      // Bind to resize event\r\n      $$.bindResize();\r\n      // Bind to window focus event\r\n      $$.bindWindowFocus();\r\n      // export element of the chart\r\n      $$.api.element = $$.selectChart.node();\r\n  };\r\n  ChartInternal.prototype.smoothLines = function (el, type) {\r\n      var $$ = this;\r\n      if (type === 'grid') {\r\n          el.each(function () {\r\n              var g = $$.d3.select(this), x1 = g.attr('x1'), x2 = g.attr('x2'), y1 = g.attr('y1'), y2 = g.attr('y2');\r\n              g.attr({\r\n                  x1: Math.ceil(x1),\r\n                  x2: Math.ceil(x2),\r\n                  y1: Math.ceil(y1),\r\n                  y2: Math.ceil(y2)\r\n              });\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateSizes = function () {\r\n      var $$ = this, config = $$.config;\r\n      var legendHeight = $$.legend ? $$.getLegendHeight() : 0, legendWidth = $$.legend ? $$.getLegendWidth() : 0, legendHeightForBottom = $$.isLegendRight || $$.isLegendInset ? 0 : legendHeight, hasArc = $$.hasArcType(), xAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x'), subchartXAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x', true), subchartHeight = config.subchart_show && !hasArc\r\n          ? config.subchart_size_height + subchartXAxisHeight\r\n          : 0;\r\n      $$.currentWidth = $$.getCurrentWidth();\r\n      $$.currentHeight = $$.getCurrentHeight();\r\n      // for main\r\n      $$.margin = config.axis_rotated\r\n          ? {\r\n              top: $$.getHorizontalAxisHeight('y2') + $$.getCurrentPaddingTop(),\r\n              right: hasArc ? 0 : $$.getCurrentPaddingRight(),\r\n              bottom: $$.getHorizontalAxisHeight('y') +\r\n                  legendHeightForBottom +\r\n                  $$.getCurrentPaddingBottom(),\r\n              left: subchartHeight + (hasArc ? 0 : $$.getCurrentPaddingLeft())\r\n          }\r\n          : {\r\n              top: 4 + $$.getCurrentPaddingTop(),\r\n              right: hasArc ? 0 : $$.getCurrentPaddingRight(),\r\n              bottom: xAxisHeight +\r\n                  subchartHeight +\r\n                  legendHeightForBottom +\r\n                  $$.getCurrentPaddingBottom(),\r\n              left: hasArc ? 0 : $$.getCurrentPaddingLeft()\r\n          };\r\n      // for subchart\r\n      $$.margin2 = config.axis_rotated\r\n          ? {\r\n              top: $$.margin.top,\r\n              right: NaN,\r\n              bottom: 20 + legendHeightForBottom,\r\n              left: $$.rotated_padding_left\r\n          }\r\n          : {\r\n              top: $$.currentHeight - subchartHeight - legendHeightForBottom,\r\n              right: NaN,\r\n              bottom: subchartXAxisHeight + legendHeightForBottom,\r\n              left: $$.margin.left\r\n          };\r\n      // for legend\r\n      $$.margin3 = {\r\n          top: 0,\r\n          right: NaN,\r\n          bottom: 0,\r\n          left: 0\r\n      };\r\n      if ($$.updateSizeForLegend) {\r\n          $$.updateSizeForLegend(legendHeight, legendWidth);\r\n      }\r\n      $$.width = $$.currentWidth - $$.margin.left - $$.margin.right;\r\n      $$.height = $$.currentHeight - $$.margin.top - $$.margin.bottom;\r\n      if ($$.width < 0) {\r\n          $$.width = 0;\r\n      }\r\n      if ($$.height < 0) {\r\n          $$.height = 0;\r\n      }\r\n      $$.width2 = config.axis_rotated\r\n          ? $$.margin.left - $$.rotated_padding_left - $$.rotated_padding_right\r\n          : $$.width;\r\n      $$.height2 = config.axis_rotated\r\n          ? $$.height\r\n          : $$.currentHeight - $$.margin2.top - $$.margin2.bottom;\r\n      if ($$.width2 < 0) {\r\n          $$.width2 = 0;\r\n      }\r\n      if ($$.height2 < 0) {\r\n          $$.height2 = 0;\r\n      }\r\n      // for arc\r\n      $$.arcWidth = $$.width - ($$.isLegendRight ? legendWidth + 10 : 0);\r\n      $$.arcHeight = $$.height - ($$.isLegendRight ? 0 : 10);\r\n      if ($$.hasType('gauge') && !config.gauge_fullCircle) {\r\n          $$.arcHeight += $$.height - $$.getGaugeLabelHeight();\r\n      }\r\n      if ($$.updateRadius) {\r\n          $$.updateRadius();\r\n      }\r\n      if ($$.isLegendRight && hasArc) {\r\n          $$.margin3.left = $$.arcWidth / 2 + $$.radiusExpanded * 1.1;\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateTargets = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      /*-- Main --*/\r\n      //-- Text --//\r\n      $$.updateTargetsForText(targets);\r\n      //-- Bar --//\r\n      $$.updateTargetsForBar(targets);\r\n      //-- Line --//\r\n      $$.updateTargetsForLine(targets);\r\n      //-- Arc --//\r\n      if ($$.hasArcType() && $$.updateTargetsForArc) {\r\n          $$.updateTargetsForArc(targets);\r\n      }\r\n      /*-- Sub --*/\r\n      if (config.subchart_show && $$.updateTargetsForSubchart) {\r\n          $$.updateTargetsForSubchart(targets);\r\n      }\r\n      // Fade-in each chart\r\n      $$.showTargets();\r\n  };\r\n  ChartInternal.prototype.showTargets = function () {\r\n      var $$ = this;\r\n      $$.svg\r\n          .selectAll('.' + CLASS.target)\r\n          .filter(function (d) {\r\n          return $$.isTargetToShow(d.id);\r\n      })\r\n          .transition()\r\n          .duration($$.config.transition_duration)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.redraw = function (options, transitions) {\r\n      var $$ = this, main = $$.main, d3 = $$.d3, config = $$.config;\r\n      var areaIndices = $$.getShapeIndices($$.isAreaType), barIndices = $$.getShapeIndices($$.isBarType), lineIndices = $$.getShapeIndices($$.isLineType);\r\n      var withY, withSubchart, withTransition, withTransitionForExit, withTransitionForAxis, withTransform, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain, withLegend, withEventRect, withDimension, withUpdateXAxis;\r\n      var hideAxis = $$.hasArcType();\r\n      var drawArea, drawBar, drawLine, xForText, yForText;\r\n      var duration, durationForExit, durationForAxis;\r\n      var transitionsToWait, waitForDraw, flow, transition;\r\n      var targetsToShow = $$.filterTargetsToShow($$.data.targets), tickValues, i, intervalForCulling, xDomainForZoom;\r\n      var xv = $$.xv.bind($$), cx, cy;\r\n      options = options || {};\r\n      withY = getOption(options, 'withY', true);\r\n      withSubchart = getOption(options, 'withSubchart', true);\r\n      withTransition = getOption(options, 'withTransition', true);\r\n      withTransform = getOption(options, 'withTransform', false);\r\n      withUpdateXDomain = getOption(options, 'withUpdateXDomain', false);\r\n      withUpdateOrgXDomain = getOption(options, 'withUpdateOrgXDomain', false);\r\n      withTrimXDomain = getOption(options, 'withTrimXDomain', true);\r\n      withUpdateXAxis = getOption(options, 'withUpdateXAxis', withUpdateXDomain);\r\n      withLegend = getOption(options, 'withLegend', false);\r\n      withEventRect = getOption(options, 'withEventRect', true);\r\n      withDimension = getOption(options, 'withDimension', true);\r\n      withTransitionForExit = getOption(options, 'withTransitionForExit', withTransition);\r\n      withTransitionForAxis = getOption(options, 'withTransitionForAxis', withTransition);\r\n      duration = withTransition ? config.transition_duration : 0;\r\n      durationForExit = withTransitionForExit ? duration : 0;\r\n      durationForAxis = withTransitionForAxis ? duration : 0;\r\n      transitions = transitions || $$.axis.generateTransitions(durationForAxis);\r\n      // update legend and transform each g\r\n      if (withLegend && config.legend_show) {\r\n          $$.updateLegend($$.mapToIds($$.data.targets), options, transitions);\r\n      }\r\n      else if (withDimension) {\r\n          // need to update dimension (e.g. axis.y.tick.values) because y tick values should change\r\n          // no need to update axis in it because they will be updated in redraw()\r\n          $$.updateDimension(true);\r\n      }\r\n      // MEMO: needed for grids calculation\r\n      if ($$.isCategorized() && targetsToShow.length === 0) {\r\n          $$.x.domain([0, $$.axes.x.selectAll('.tick').size()]);\r\n      }\r\n      if (targetsToShow.length) {\r\n          $$.updateXDomain(targetsToShow, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain);\r\n          if (!config.axis_x_tick_values) {\r\n              tickValues = $$.axis.updateXAxisTickValues(targetsToShow);\r\n          }\r\n      }\r\n      else {\r\n          $$.xAxis.tickValues([]);\r\n          $$.subXAxis.tickValues([]);\r\n      }\r\n      if (config.zoom_rescale && !options.flow) {\r\n          xDomainForZoom = $$.x.orgDomain();\r\n      }\r\n      $$.y.domain($$.getYDomain(targetsToShow, 'y', xDomainForZoom));\r\n      $$.y2.domain($$.getYDomain(targetsToShow, 'y2', xDomainForZoom));\r\n      if (!config.axis_y_tick_values && config.axis_y_tick_count) {\r\n          $$.yAxis.tickValues($$.axis.generateTickValues($$.y.domain(), config.axis_y_tick_count));\r\n      }\r\n      if (!config.axis_y2_tick_values && config.axis_y2_tick_count) {\r\n          $$.y2Axis.tickValues($$.axis.generateTickValues($$.y2.domain(), config.axis_y2_tick_count));\r\n      }\r\n      // axes\r\n      $$.axis.redraw(durationForAxis, hideAxis);\r\n      // Update axis label\r\n      $$.axis.updateLabels(withTransition);\r\n      // show/hide if manual culling needed\r\n      if ((withUpdateXDomain || withUpdateXAxis) && targetsToShow.length) {\r\n          if (config.axis_x_tick_culling && tickValues) {\r\n              for (i = 1; i < tickValues.length; i++) {\r\n                  if (tickValues.length / i < config.axis_x_tick_culling_max) {\r\n                      intervalForCulling = i;\r\n                      break;\r\n                  }\r\n              }\r\n              $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').each(function (e) {\r\n                  var index = tickValues.indexOf(e);\r\n                  if (index >= 0) {\r\n                      d3.select(this).style('display', index % intervalForCulling ? 'none' : 'block');\r\n                  }\r\n              });\r\n          }\r\n          else {\r\n              $$.svg\r\n                  .selectAll('.' + CLASS.axisX + ' .tick text')\r\n                  .style('display', 'block');\r\n          }\r\n      }\r\n      // setup drawer - MEMO: these must be called after axis updated\r\n      drawArea = $$.generateDrawArea\r\n          ? $$.generateDrawArea(areaIndices, false)\r\n          : undefined;\r\n      drawBar = $$.generateDrawBar ? $$.generateDrawBar(barIndices) : undefined;\r\n      drawLine = $$.generateDrawLine\r\n          ? $$.generateDrawLine(lineIndices, false)\r\n          : undefined;\r\n      xForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, true);\r\n      yForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, false);\r\n      // update circleY based on updated parameters\r\n      $$.updateCircleY();\r\n      // generate circle x/y functions depending on updated params\r\n      cx = ($$.config.axis_rotated ? $$.circleY : $$.circleX).bind($$);\r\n      cy = ($$.config.axis_rotated ? $$.circleX : $$.circleY).bind($$);\r\n      // Update sub domain\r\n      if (withY) {\r\n          $$.subY.domain($$.getYDomain(targetsToShow, 'y'));\r\n          $$.subY2.domain($$.getYDomain(targetsToShow, 'y2'));\r\n      }\r\n      // xgrid focus\r\n      $$.updateXgridFocus();\r\n      // Data empty label positioning and text.\r\n      main\r\n          .select('text.' + CLASS.text + '.' + CLASS.empty)\r\n          .attr('x', $$.width / 2)\r\n          .attr('y', $$.height / 2)\r\n          .text(config.data_empty_label_text)\r\n          .transition()\r\n          .style('opacity', targetsToShow.length ? 0 : 1);\r\n      // event rect\r\n      if (withEventRect) {\r\n          $$.redrawEventRect();\r\n      }\r\n      // grid\r\n      $$.updateGrid(duration);\r\n      $$.updateStanfordElements(duration);\r\n      // rect for regions\r\n      $$.updateRegion(duration);\r\n      // bars\r\n      $$.updateBar(durationForExit);\r\n      // lines, areas and circles\r\n      $$.updateLine(durationForExit);\r\n      $$.updateArea(durationForExit);\r\n      $$.updateCircle(cx, cy);\r\n      // text\r\n      if ($$.hasDataLabel()) {\r\n          $$.updateText(xForText, yForText, durationForExit);\r\n      }\r\n      // title\r\n      if ($$.redrawTitle) {\r\n          $$.redrawTitle();\r\n      }\r\n      // arc\r\n      if ($$.redrawArc) {\r\n          $$.redrawArc(duration, durationForExit, withTransform);\r\n      }\r\n      // subchart\r\n      if (config.subchart_show && $$.redrawSubchart) {\r\n          $$.redrawSubchart(withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices);\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.drawColorScale();\r\n      }\r\n      // circles for select\r\n      main\r\n          .selectAll('.' + CLASS.selectedCircles)\r\n          .filter($$.isBarType.bind($$))\r\n          .selectAll('circle')\r\n          .remove();\r\n      if (options.flow) {\r\n          flow = $$.generateFlow({\r\n              targets: targetsToShow,\r\n              flow: options.flow,\r\n              duration: options.flow.duration,\r\n              drawBar: drawBar,\r\n              drawLine: drawLine,\r\n              drawArea: drawArea,\r\n              cx: cx,\r\n              cy: cy,\r\n              xv: xv,\r\n              xForText: xForText,\r\n              yForText: yForText\r\n          });\r\n      }\r\n      if (duration && $$.isTabVisible()) {\r\n          // Only use transition if tab visible. See #938.\r\n          // transition should be derived from one transition\r\n          transition = d3.transition().duration(duration);\r\n          transitionsToWait = [];\r\n          [\r\n              $$.redrawBar(drawBar, true, transition),\r\n              $$.redrawLine(drawLine, true, transition),\r\n              $$.redrawArea(drawArea, true, transition),\r\n              $$.redrawCircle(cx, cy, true, transition),\r\n              $$.redrawText(xForText, yForText, options.flow, true, transition),\r\n              $$.redrawRegion(true, transition),\r\n              $$.redrawGrid(true, transition)\r\n          ].forEach(function (transitions) {\r\n              transitions.forEach(function (transition) {\r\n                  transitionsToWait.push(transition);\r\n              });\r\n          });\r\n          // Wait for end of transitions to call flow and onrendered callback\r\n          waitForDraw = $$.generateWait();\r\n          transitionsToWait.forEach(function (t) {\r\n              waitForDraw.add(t);\r\n          });\r\n          waitForDraw(function () {\r\n              if (flow) {\r\n                  flow();\r\n              }\r\n              if (config.onrendered) {\r\n                  config.onrendered.call($$);\r\n              }\r\n          });\r\n      }\r\n      else {\r\n          $$.redrawBar(drawBar);\r\n          $$.redrawLine(drawLine);\r\n          $$.redrawArea(drawArea);\r\n          $$.redrawCircle(cx, cy);\r\n          $$.redrawText(xForText, yForText, options.flow);\r\n          $$.redrawRegion();\r\n          $$.redrawGrid();\r\n          if (flow) {\r\n              flow();\r\n          }\r\n          if (config.onrendered) {\r\n              config.onrendered.call($$);\r\n          }\r\n      }\r\n      // update fadein condition\r\n      $$.mapToIds($$.data.targets).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = true;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateAndRedraw = function (options) {\r\n      var $$ = this, config = $$.config, transitions;\r\n      options = options || {};\r\n      // same with redraw\r\n      options.withTransition = getOption(options, 'withTransition', true);\r\n      options.withTransform = getOption(options, 'withTransform', false);\r\n      options.withLegend = getOption(options, 'withLegend', false);\r\n      // NOT same with redraw\r\n      options.withUpdateXDomain = getOption(options, 'withUpdateXDomain', true);\r\n      options.withUpdateOrgXDomain = getOption(options, 'withUpdateOrgXDomain', true);\r\n      options.withTransitionForExit = false;\r\n      options.withTransitionForTransform = getOption(options, 'withTransitionForTransform', options.withTransition);\r\n      // MEMO: this needs to be called before updateLegend and it means this ALWAYS needs to be called)\r\n      $$.updateSizes();\r\n      // MEMO: called in updateLegend in redraw if withLegend\r\n      if (!(options.withLegend && config.legend_show)) {\r\n          transitions = $$.axis.generateTransitions(options.withTransitionForAxis ? config.transition_duration : 0);\r\n          // Update scales\r\n          $$.updateScales();\r\n          $$.updateSvgSize();\r\n          // Update g positions\r\n          $$.transformAll(options.withTransitionForTransform, transitions);\r\n      }\r\n      // Draw with new sizes & scales\r\n      $$.redraw(options, transitions);\r\n  };\r\n  ChartInternal.prototype.redrawWithoutRescale = function () {\r\n      this.redraw({\r\n          withY: false,\r\n          withSubchart: false,\r\n          withEventRect: false,\r\n          withTransitionForAxis: false\r\n      });\r\n  };\r\n  ChartInternal.prototype.isTimeSeries = function () {\r\n      return this.config.axis_x_type === 'timeseries';\r\n  };\r\n  ChartInternal.prototype.isCategorized = function () {\r\n      return this.config.axis_x_type.indexOf('categor') >= 0;\r\n  };\r\n  ChartInternal.prototype.isCustomX = function () {\r\n      var $$ = this, config = $$.config;\r\n      return !$$.isTimeSeries() && (config.data_x || notEmpty(config.data_xs));\r\n  };\r\n  ChartInternal.prototype.isTimeSeriesY = function () {\r\n      return this.config.axis_y_type === 'timeseries';\r\n  };\r\n  ChartInternal.prototype.getTranslate = function (target) {\r\n      var $$ = this, config = $$.config, x, y;\r\n      if (target === 'main') {\r\n          x = asHalfPixel($$.margin.left);\r\n          y = asHalfPixel($$.margin.top);\r\n      }\r\n      else if (target === 'context') {\r\n          x = asHalfPixel($$.margin2.left);\r\n          y = asHalfPixel($$.margin2.top);\r\n      }\r\n      else if (target === 'legend') {\r\n          x = $$.margin3.left;\r\n          y = $$.margin3.top;\r\n      }\r\n      else if (target === 'x') {\r\n          x = 0;\r\n          y = config.axis_rotated ? 0 : $$.height;\r\n      }\r\n      else if (target === 'y') {\r\n          x = 0;\r\n          y = config.axis_rotated ? $$.height : 0;\r\n      }\r\n      else if (target === 'y2') {\r\n          x = config.axis_rotated ? 0 : $$.width;\r\n          y = config.axis_rotated ? 1 : 0;\r\n      }\r\n      else if (target === 'subx') {\r\n          x = 0;\r\n          y = config.axis_rotated ? 0 : $$.height2;\r\n      }\r\n      else if (target === 'arc') {\r\n          x = $$.arcWidth / 2;\r\n          y = $$.arcHeight / 2 - ($$.hasType('gauge') ? 6 : 0); // to prevent wrong display of min and max label\r\n      }\r\n      return 'translate(' + x + ',' + y + ')';\r\n  };\r\n  ChartInternal.prototype.initialOpacity = function (d) {\r\n      return d.value !== null && this.withoutFadeIn[d.id] ? 1 : 0;\r\n  };\r\n  ChartInternal.prototype.initialOpacityForCircle = function (d) {\r\n      return d.value !== null && this.withoutFadeIn[d.id]\r\n          ? this.opacityForCircle(d)\r\n          : 0;\r\n  };\r\n  ChartInternal.prototype.opacityForCircle = function (d) {\r\n      var isPointShouldBeShown = isFunction(this.config.point_show)\r\n          ? this.config.point_show(d)\r\n          : this.config.point_show;\r\n      var opacity = isPointShouldBeShown || this.isStanfordType(d) ? 1 : 0;\r\n      return isValue(d.value) ? (this.isScatterType(d) ? 0.5 : opacity) : 0;\r\n  };\r\n  ChartInternal.prototype.opacityForText = function () {\r\n      return this.hasDataLabel() ? 1 : 0;\r\n  };\r\n  ChartInternal.prototype.xx = function (d) {\r\n      return d ? this.x(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.xvCustom = function (d, xyValue) {\r\n      var $$ = this, value = xyValue ? d[xyValue] : d.value;\r\n      if ($$.isTimeSeries()) {\r\n          value = $$.parseDate(d.value);\r\n      }\r\n      else if ($$.isCategorized() && typeof d.value === 'string') {\r\n          value = $$.config.axis_x_categories.indexOf(d.value);\r\n      }\r\n      return Math.ceil($$.x(value));\r\n  };\r\n  ChartInternal.prototype.yvCustom = function (d, xyValue) {\r\n      var $$ = this, yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y, value = xyValue ? d[xyValue] : d.value;\r\n      return Math.ceil(yScale(value));\r\n  };\r\n  ChartInternal.prototype.xv = function (d) {\r\n      var $$ = this, value = d.value;\r\n      if ($$.isTimeSeries()) {\r\n          value = $$.parseDate(d.value);\r\n      }\r\n      else if ($$.isCategorized() && typeof d.value === 'string') {\r\n          value = $$.config.axis_x_categories.indexOf(d.value);\r\n      }\r\n      return Math.ceil($$.x(value));\r\n  };\r\n  ChartInternal.prototype.yv = function (d) {\r\n      var $$ = this, yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y;\r\n      return Math.ceil(yScale(d.value));\r\n  };\r\n  ChartInternal.prototype.subxx = function (d) {\r\n      return d ? this.subX(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.transformMain = function (withTransition, transitions) {\r\n      var $$ = this, xAxis, yAxis, y2Axis;\r\n      if (transitions && transitions.axisX) {\r\n          xAxis = transitions.axisX;\r\n      }\r\n      else {\r\n          xAxis = $$.main.select('.' + CLASS.axisX);\r\n          if (withTransition) {\r\n              xAxis = xAxis.transition();\r\n          }\r\n      }\r\n      if (transitions && transitions.axisY) {\r\n          yAxis = transitions.axisY;\r\n      }\r\n      else {\r\n          yAxis = $$.main.select('.' + CLASS.axisY);\r\n          if (withTransition) {\r\n              yAxis = yAxis.transition();\r\n          }\r\n      }\r\n      if (transitions && transitions.axisY2) {\r\n          y2Axis = transitions.axisY2;\r\n      }\r\n      else {\r\n          y2Axis = $$.main.select('.' + CLASS.axisY2);\r\n          if (withTransition) {\r\n              y2Axis = y2Axis.transition();\r\n          }\r\n      }\r\n      (withTransition ? $$.main.transition() : $$.main).attr('transform', $$.getTranslate('main'));\r\n      xAxis.attr('transform', $$.getTranslate('x'));\r\n      yAxis.attr('transform', $$.getTranslate('y'));\r\n      y2Axis.attr('transform', $$.getTranslate('y2'));\r\n      $$.main\r\n          .select('.' + CLASS.chartArcs)\r\n          .attr('transform', $$.getTranslate('arc'));\r\n  };\r\n  ChartInternal.prototype.transformAll = function (withTransition, transitions) {\r\n      var $$ = this;\r\n      $$.transformMain(withTransition, transitions);\r\n      if ($$.config.subchart_show) {\r\n          $$.transformContext(withTransition, transitions);\r\n      }\r\n      if ($$.legend) {\r\n          $$.transformLegend(withTransition);\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateSvgSize = function () {\r\n      var $$ = this, brush = $$.svg.select(\".\" + CLASS.brush + \" .overlay\");\r\n      $$.svg.attr('width', $$.currentWidth).attr('height', $$.currentHeight);\r\n      $$.svg\r\n          .selectAll(['#' + $$.clipId, '#' + $$.clipIdForGrid])\r\n          .select('rect')\r\n          .attr('width', $$.width)\r\n          .attr('height', $$.height);\r\n      $$.svg\r\n          .select('#' + $$.clipIdForXAxis)\r\n          .select('rect')\r\n          .attr('x', $$.getXAxisClipX.bind($$))\r\n          .attr('y', $$.getXAxisClipY.bind($$))\r\n          .attr('width', $$.getXAxisClipWidth.bind($$))\r\n          .attr('height', $$.getXAxisClipHeight.bind($$));\r\n      $$.svg\r\n          .select('#' + $$.clipIdForYAxis)\r\n          .select('rect')\r\n          .attr('x', $$.getYAxisClipX.bind($$))\r\n          .attr('y', $$.getYAxisClipY.bind($$))\r\n          .attr('width', $$.getYAxisClipWidth.bind($$))\r\n          .attr('height', $$.getYAxisClipHeight.bind($$));\r\n      $$.svg\r\n          .select('#' + $$.clipIdForSubchart)\r\n          .select('rect')\r\n          .attr('width', $$.width)\r\n          .attr('height', (brush.size() && brush.attr('height')) || 0);\r\n      // MEMO: parent div's height will be bigger than svg when <!DOCTYPE html>\r\n      $$.selectChart.style('max-height', $$.currentHeight + 'px');\r\n  };\r\n  ChartInternal.prototype.updateDimension = function (withoutAxis) {\r\n      var $$ = this;\r\n      if (!withoutAxis) {\r\n          if ($$.config.axis_rotated) {\r\n              $$.axes.x.call($$.xAxis);\r\n              $$.axes.subx.call($$.subXAxis);\r\n          }\r\n          else {\r\n              $$.axes.y.call($$.yAxis);\r\n              $$.axes.y2.call($$.y2Axis);\r\n          }\r\n      }\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      $$.updateSvgSize();\r\n      $$.transformAll(false);\r\n  };\r\n  ChartInternal.prototype.observeInserted = function (selection) {\r\n      var $$ = this, observer;\r\n      if (typeof MutationObserver === 'undefined') {\r\n          window.console.error('MutationObserver not defined.');\r\n          return;\r\n      }\r\n      observer = new MutationObserver(function (mutations) {\r\n          mutations.forEach(function (mutation) {\r\n              if (mutation.type === 'childList' && mutation.previousSibling) {\r\n                  observer.disconnect();\r\n                  // need to wait for completion of load because size calculation requires the actual sizes determined after that completion\r\n                  $$.intervalForObserveInserted = window.setInterval(function () {\r\n                      // parentNode will NOT be null when completed\r\n                      if (selection.node().parentNode) {\r\n                          window.clearInterval($$.intervalForObserveInserted);\r\n                          $$.updateDimension();\r\n                          if ($$.brush) {\r\n                              $$.brush.update();\r\n                          }\r\n                          $$.config.oninit.call($$);\r\n                          $$.redraw({\r\n                              withTransform: true,\r\n                              withUpdateXDomain: true,\r\n                              withUpdateOrgXDomain: true,\r\n                              withTransition: false,\r\n                              withTransitionForTransform: false,\r\n                              withLegend: true\r\n                          });\r\n                          selection.transition().style('opacity', 1);\r\n                      }\r\n                  }, 10);\r\n              }\r\n          });\r\n      });\r\n      observer.observe(selection.node(), {\r\n          attributes: true,\r\n          childList: true,\r\n          characterData: true\r\n      });\r\n  };\r\n  /**\r\n   * Binds handlers to the window resize event.\r\n   */\r\n  ChartInternal.prototype.bindResize = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.resizeFunction = $$.generateResize(); // need to call .remove\r\n      $$.resizeFunction.add(function () {\r\n          config.onresize.call($$);\r\n      });\r\n      if (config.resize_auto) {\r\n          $$.resizeFunction.add(function () {\r\n              if ($$.resizeTimeout !== undefined) {\r\n                  window.clearTimeout($$.resizeTimeout);\r\n              }\r\n              $$.resizeTimeout = window.setTimeout(function () {\r\n                  delete $$.resizeTimeout;\r\n                  $$.updateAndRedraw({\r\n                      withUpdateXDomain: false,\r\n                      withUpdateOrgXDomain: false,\r\n                      withTransition: false,\r\n                      withTransitionForTransform: false,\r\n                      withLegend: true\r\n                  });\r\n                  if ($$.brush) {\r\n                      $$.brush.update();\r\n                  }\r\n              }, 100);\r\n          });\r\n      }\r\n      $$.resizeFunction.add(function () {\r\n          config.onresized.call($$);\r\n      });\r\n      $$.resizeIfElementDisplayed = function () {\r\n          // if element not displayed skip it\r\n          if ($$.api == null || !$$.api.element.offsetParent) {\r\n              return;\r\n          }\r\n          $$.resizeFunction();\r\n      };\r\n      window.addEventListener('resize', $$.resizeIfElementDisplayed, false);\r\n  };\r\n  /**\r\n   * Binds handlers to the window focus event.\r\n   */\r\n  ChartInternal.prototype.bindWindowFocus = function () {\r\n      var _this = this;\r\n      if (this.windowFocusHandler) {\r\n          // The handler is already set\r\n          return;\r\n      }\r\n      this.windowFocusHandler = function () {\r\n          _this.redraw();\r\n      };\r\n      window.addEventListener('focus', this.windowFocusHandler);\r\n  };\r\n  /**\r\n   * Unbinds from the window focus event.\r\n   */\r\n  ChartInternal.prototype.unbindWindowFocus = function () {\r\n      window.removeEventListener('focus', this.windowFocusHandler);\r\n      delete this.windowFocusHandler;\r\n  };\r\n  ChartInternal.prototype.generateResize = function () {\r\n      var resizeFunctions = [];\r\n      function callResizeFunctions() {\r\n          resizeFunctions.forEach(function (f) {\r\n              f();\r\n          });\r\n      }\r\n      callResizeFunctions.add = function (f) {\r\n          resizeFunctions.push(f);\r\n      };\r\n      callResizeFunctions.remove = function (f) {\r\n          for (var i = 0; i < resizeFunctions.length; i++) {\r\n              if (resizeFunctions[i] === f) {\r\n                  resizeFunctions.splice(i, 1);\r\n                  break;\r\n              }\r\n          }\r\n      };\r\n      return callResizeFunctions;\r\n  };\r\n  ChartInternal.prototype.endall = function (transition, callback) {\r\n      var n = 0;\r\n      transition\r\n          .each(function () {\r\n          ++n;\r\n      })\r\n          .on('end', function () {\r\n          if (!--n) {\r\n              callback.apply(this, arguments);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateWait = function () {\r\n      var $$ = this;\r\n      var transitionsToWait = [], f = function (callback) {\r\n          var timer = setInterval(function () {\r\n              if (!$$.isTabVisible()) {\r\n                  return;\r\n              }\r\n              var done = 0;\r\n              transitionsToWait.forEach(function (t) {\r\n                  if (t.empty()) {\r\n                      done += 1;\r\n                      return;\r\n                  }\r\n                  try {\r\n                      t.transition();\r\n                  }\r\n                  catch (e) {\r\n                      done += 1;\r\n                  }\r\n              });\r\n              if (done === transitionsToWait.length) {\r\n                  clearInterval(timer);\r\n                  if (callback) {\r\n                      callback();\r\n                  }\r\n              }\r\n          }, 50);\r\n      };\r\n      f.add = function (transition) {\r\n          transitionsToWait.push(transition);\r\n      };\r\n      return f;\r\n  };\r\n  ChartInternal.prototype.parseDate = function (date) {\r\n      var $$ = this, parsedDate;\r\n      if (date instanceof Date) {\r\n          parsedDate = date;\r\n      }\r\n      else if (typeof date === 'string') {\r\n          parsedDate = $$.dataTimeParse(date);\r\n      }\r\n      else if (typeof date === 'object') {\r\n          parsedDate = new Date(+date);\r\n      }\r\n      else if (typeof date === 'number' && !isNaN(date)) {\r\n          parsedDate = new Date(+date);\r\n      }\r\n      if (!parsedDate || isNaN(+parsedDate)) {\r\n          window.console.error(\"Failed to parse x '\" + date + \"' to Date object\");\r\n      }\r\n      return parsedDate;\r\n  };\r\n  ChartInternal.prototype.isTabVisible = function () {\r\n      return !document.hidden;\r\n  };\r\n  ChartInternal.prototype.getPathBox = getPathBox;\r\n  ChartInternal.prototype.CLASS = CLASS;\n\n  /* jshint ignore:start */\r\n  (function () {\r\n      if (!('SVGPathSeg' in window)) {\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg\r\n          window.SVGPathSeg = function (type, typeAsLetter, owningPathSegList) {\r\n              this.pathSegType = type;\r\n              this.pathSegTypeAsLetter = typeAsLetter;\r\n              this._owningPathSegList = owningPathSegList;\r\n          };\r\n          window.SVGPathSeg.prototype.classname = 'SVGPathSeg';\r\n          window.SVGPathSeg.PATHSEG_UNKNOWN = 0;\r\n          window.SVGPathSeg.PATHSEG_CLOSEPATH = 1;\r\n          window.SVGPathSeg.PATHSEG_MOVETO_ABS = 2;\r\n          window.SVGPathSeg.PATHSEG_MOVETO_REL = 3;\r\n          window.SVGPathSeg.PATHSEG_LINETO_ABS = 4;\r\n          window.SVGPathSeg.PATHSEG_LINETO_REL = 5;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;\r\n          window.SVGPathSeg.PATHSEG_ARC_ABS = 10;\r\n          window.SVGPathSeg.PATHSEG_ARC_REL = 11;\r\n          window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;\r\n          window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;\r\n          window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;\r\n          window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;\r\n          // Notify owning PathSegList on any changes so they can be synchronized back to the path element.\r\n          window.SVGPathSeg.prototype._segmentChanged = function () {\r\n              if (this._owningPathSegList)\r\n                  this._owningPathSegList.segmentChanged(this);\r\n          };\r\n          window.SVGPathSegClosePath = function (owningPathSegList) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CLOSEPATH, 'z', owningPathSegList);\r\n          };\r\n          window.SVGPathSegClosePath.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegClosePath.prototype.toString = function () {\r\n              return '[object SVGPathSegClosePath]';\r\n          };\r\n          window.SVGPathSegClosePath.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter;\r\n          };\r\n          window.SVGPathSegClosePath.prototype.clone = function () {\r\n              return new window.SVGPathSegClosePath(undefined);\r\n          };\r\n          window.SVGPathSegMovetoAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_ABS, 'M', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegMovetoAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegMovetoAbs]';\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegMovetoAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegMovetoRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_REL, 'm', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegMovetoRel.prototype.toString = function () {\r\n              return '[object SVGPathSegMovetoRel]';\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype.clone = function () {\r\n              return new window.SVGPathSegMovetoRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_ABS, 'L', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoAbs]';\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_REL, 'l', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoRel]';\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicAbs = function (owningPathSegList, x, y, x1, y1, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, 'C', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicRel = function (owningPathSegList, x, y, x1, y1, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, 'c', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicRel]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticAbs = function (owningPathSegList, x, y, x1, y1) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, 'Q', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticRel = function (owningPathSegList, x, y, x1, y1) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, 'q', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticRel]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegArcAbs = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_ABS, 'A', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._r1 = r1;\r\n              this._r2 = r2;\r\n              this._angle = angle;\r\n              this._largeArcFlag = largeArcFlag;\r\n              this._sweepFlag = sweepFlag;\r\n          };\r\n          window.SVGPathSegArcAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegArcAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegArcAbs]';\r\n          };\r\n          window.SVGPathSegArcAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._r1 +\r\n                  ' ' +\r\n                  this._r2 +\r\n                  ' ' +\r\n                  this._angle +\r\n                  ' ' +\r\n                  (this._largeArcFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  (this._sweepFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegArcAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r1', {\r\n              get: function () {\r\n                  return this._r1;\r\n              },\r\n              set: function (r1) {\r\n                  this._r1 = r1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r2', {\r\n              get: function () {\r\n                  return this._r2;\r\n              },\r\n              set: function (r2) {\r\n                  this._r2 = r2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'angle', {\r\n              get: function () {\r\n                  return this._angle;\r\n              },\r\n              set: function (angle) {\r\n                  this._angle = angle;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'largeArcFlag', {\r\n              get: function () {\r\n                  return this._largeArcFlag;\r\n              },\r\n              set: function (largeArcFlag) {\r\n                  this._largeArcFlag = largeArcFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'sweepFlag', {\r\n              get: function () {\r\n                  return this._sweepFlag;\r\n              },\r\n              set: function (sweepFlag) {\r\n                  this._sweepFlag = sweepFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegArcRel = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_REL, 'a', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._r1 = r1;\r\n              this._r2 = r2;\r\n              this._angle = angle;\r\n              this._largeArcFlag = largeArcFlag;\r\n              this._sweepFlag = sweepFlag;\r\n          };\r\n          window.SVGPathSegArcRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegArcRel.prototype.toString = function () {\r\n              return '[object SVGPathSegArcRel]';\r\n          };\r\n          window.SVGPathSegArcRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._r1 +\r\n                  ' ' +\r\n                  this._r2 +\r\n                  ' ' +\r\n                  this._angle +\r\n                  ' ' +\r\n                  (this._largeArcFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  (this._sweepFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegArcRel.prototype.clone = function () {\r\n              return new window.SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r1', {\r\n              get: function () {\r\n                  return this._r1;\r\n              },\r\n              set: function (r1) {\r\n                  this._r1 = r1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r2', {\r\n              get: function () {\r\n                  return this._r2;\r\n              },\r\n              set: function (r2) {\r\n                  this._r2 = r2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'angle', {\r\n              get: function () {\r\n                  return this._angle;\r\n              },\r\n              set: function (angle) {\r\n                  this._angle = angle;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'largeArcFlag', {\r\n              get: function () {\r\n                  return this._largeArcFlag;\r\n              },\r\n              set: function (largeArcFlag) {\r\n                  this._largeArcFlag = largeArcFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'sweepFlag', {\r\n              get: function () {\r\n                  return this._sweepFlag;\r\n              },\r\n              set: function (sweepFlag) {\r\n                  this._sweepFlag = sweepFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoHorizontalAbs = function (owningPathSegList, x) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, 'H', owningPathSegList);\r\n              this._x = x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoHorizontalAbs]';\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoHorizontalAbs(undefined, this._x);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoHorizontalRel = function (owningPathSegList, x) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, 'h', owningPathSegList);\r\n              this._x = x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoHorizontalRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoHorizontalRel]';\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoHorizontalRel(undefined, this._x);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoVerticalAbs = function (owningPathSegList, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, 'V', owningPathSegList);\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoVerticalAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoVerticalAbs]';\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoVerticalAbs(undefined, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoVerticalRel = function (owningPathSegList, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, 'v', owningPathSegList);\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoVerticalRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoVerticalRel]';\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoVerticalRel(undefined, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicSmoothAbs = function (owningPathSegList, x, y, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, 'S', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicSmoothAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicSmoothRel = function (owningPathSegList, x, y, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, 's', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicSmoothRel]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, 'T', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticSmoothAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, 't', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticSmoothRel]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Add createSVGPathSeg* functions to window.SVGPathElement.\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-Interfacewindow.SVGPathElement.\r\n          window.SVGPathElement.prototype.createSVGPathSegClosePath = function () {\r\n              return new window.SVGPathSegClosePath(undefined);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegMovetoAbs = function (x, y) {\r\n              return new window.SVGPathSegMovetoAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegMovetoRel = function (x, y) {\r\n              return new window.SVGPathSegMovetoRel(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoAbs = function (x, y) {\r\n              return new window.SVGPathSegLinetoAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoRel = function (x, y) {\r\n              return new window.SVGPathSegLinetoRel(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function (x, y, x1, y1, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function (x, y, x1, y1, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function (x, y, x1, y1) {\r\n              return new window.SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function (x, y, x1, y1) {\r\n              return new window.SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegArcAbs = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              return new window.SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegArcRel = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              return new window.SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function (x) {\r\n              return new window.SVGPathSegLinetoHorizontalAbs(undefined, x);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function (x) {\r\n              return new window.SVGPathSegLinetoHorizontalRel(undefined, x);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function (y) {\r\n              return new window.SVGPathSegLinetoVerticalAbs(undefined, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function (y) {\r\n              return new window.SVGPathSegLinetoVerticalRel(undefined, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function (x, y, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function (x, y, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function (x, y) {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function (x, y) {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y);\r\n          };\r\n          if (!('getPathSegAtLength' in window.SVGPathElement.prototype)) {\r\n              // Add getPathSegAtLength to SVGPathElement.\r\n              // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-__svg__SVGPathElement__getPathSegAtLength\r\n              // This polyfill requires SVGPathElement.getTotalLength to implement the distance-along-a-path algorithm.\r\n              window.SVGPathElement.prototype.getPathSegAtLength = function (distance) {\r\n                  if (distance === undefined || !isFinite(distance))\r\n                      throw 'Invalid arguments.';\r\n                  var measurementElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n                  measurementElement.setAttribute('d', this.getAttribute('d'));\r\n                  var lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;\r\n                  // If the path is empty, return 0.\r\n                  if (lastPathSegment <= 0)\r\n                      return 0;\r\n                  do {\r\n                      measurementElement.pathSegList.removeItem(lastPathSegment);\r\n                      if (distance > measurementElement.getTotalLength())\r\n                          break;\r\n                      lastPathSegment--;\r\n                  } while (lastPathSegment > 0);\r\n                  return lastPathSegment;\r\n              };\r\n          }\r\n      }\r\n      if (!('SVGPathSegList' in window)) {\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList\r\n          window.SVGPathSegList = function (pathElement) {\r\n              this._pathElement = pathElement;\r\n              this._list = this._parsePath(this._pathElement.getAttribute('d'));\r\n              // Use a MutationObserver to catch changes to the path's \"d\" attribute.\r\n              this._mutationObserverConfig = {\r\n                  attributes: true,\r\n                  attributeFilter: ['d']\r\n              };\r\n              this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));\r\n              this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\r\n          };\r\n          window.SVGPathSegList.prototype.classname = 'SVGPathSegList';\r\n          Object.defineProperty(window.SVGPathSegList.prototype, 'numberOfItems', {\r\n              get: function () {\r\n                  this._checkPathSynchronizedToList();\r\n                  return this._list.length;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Add the pathSegList accessors to window.SVGPathElement.\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'pathSegList', {\r\n              get: function () {\r\n                  if (!this._pathSegList)\r\n                      this._pathSegList = new window.SVGPathSegList(this);\r\n                  return this._pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // FIXME: The following are not implemented and simply return window.SVGPathElement.pathSegList.\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'normalizedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'animatedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'animatedNormalizedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Process any pending mutations to the path element and update the list as needed.\r\n          // This should be the first call of all public functions and is needed because\r\n          // MutationObservers are not synchronous so we can have pending asynchronous mutations.\r\n          window.SVGPathSegList.prototype._checkPathSynchronizedToList = function () {\r\n              this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());\r\n          };\r\n          window.SVGPathSegList.prototype._updateListFromPathMutations = function (mutationRecords) {\r\n              if (!this._pathElement)\r\n                  return;\r\n              var hasPathMutations = false;\r\n              mutationRecords.forEach(function (record) {\r\n                  if (record.attributeName == 'd')\r\n                      hasPathMutations = true;\r\n              });\r\n              if (hasPathMutations)\r\n                  this._list = this._parsePath(this._pathElement.getAttribute('d'));\r\n          };\r\n          // Serialize the list and update the path's 'd' attribute.\r\n          window.SVGPathSegList.prototype._writeListToPath = function () {\r\n              this._pathElementMutationObserver.disconnect();\r\n              this._pathElement.setAttribute('d', window.SVGPathSegList._pathSegArrayAsString(this._list));\r\n              this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\r\n          };\r\n          // When a path segment changes the list needs to be synchronized back to the path element.\r\n          window.SVGPathSegList.prototype.segmentChanged = function (pathSeg) {\r\n              this._writeListToPath();\r\n          };\r\n          window.SVGPathSegList.prototype.clear = function () {\r\n              this._checkPathSynchronizedToList();\r\n              this._list.forEach(function (pathSeg) {\r\n                  pathSeg._owningPathSegList = null;\r\n              });\r\n              this._list = [];\r\n              this._writeListToPath();\r\n          };\r\n          window.SVGPathSegList.prototype.initialize = function (newItem) {\r\n              this._checkPathSynchronizedToList();\r\n              this._list = [newItem];\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype._checkValidIndex = function (index) {\r\n              if (isNaN(index) || index < 0 || index >= this.numberOfItems)\r\n                  throw 'INDEX_SIZE_ERR';\r\n          };\r\n          window.SVGPathSegList.prototype.getItem = function (index) {\r\n              this._checkPathSynchronizedToList();\r\n              this._checkValidIndex(index);\r\n              return this._list[index];\r\n          };\r\n          window.SVGPathSegList.prototype.insertItemBefore = function (newItem, index) {\r\n              this._checkPathSynchronizedToList();\r\n              // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.\r\n              if (index > this.numberOfItems)\r\n                  index = this.numberOfItems;\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._list.splice(index, 0, newItem);\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype.replaceItem = function (newItem, index) {\r\n              this._checkPathSynchronizedToList();\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._checkValidIndex(index);\r\n              this._list[index] = newItem;\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype.removeItem = function (index) {\r\n              this._checkPathSynchronizedToList();\r\n              this._checkValidIndex(index);\r\n              var item = this._list[index];\r\n              this._list.splice(index, 1);\r\n              this._writeListToPath();\r\n              return item;\r\n          };\r\n          window.SVGPathSegList.prototype.appendItem = function (newItem) {\r\n              this._checkPathSynchronizedToList();\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._list.push(newItem);\r\n              newItem._owningPathSegList = this;\r\n              // TODO: Optimize this to just append to the existing attribute.\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList._pathSegArrayAsString = function (pathSegArray) {\r\n              var string = '';\r\n              var first = true;\r\n              pathSegArray.forEach(function (pathSeg) {\r\n                  if (first) {\r\n                      first = false;\r\n                      string += pathSeg._asPathString();\r\n                  }\r\n                  else {\r\n                      string += ' ' + pathSeg._asPathString();\r\n                  }\r\n              });\r\n              return string;\r\n          };\r\n          // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.\r\n          window.SVGPathSegList.prototype._parsePath = function (string) {\r\n              if (!string || string.length == 0)\r\n                  return [];\r\n              var owningPathSegList = this;\r\n              var Builder = function () {\r\n                  this.pathSegList = [];\r\n              };\r\n              Builder.prototype.appendSegment = function (pathSeg) {\r\n                  this.pathSegList.push(pathSeg);\r\n              };\r\n              var Source = function (string) {\r\n                  this._string = string;\r\n                  this._currentIndex = 0;\r\n                  this._endIndex = this._string.length;\r\n                  this._previousCommand = window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n                  this._skipOptionalSpaces();\r\n              };\r\n              Source.prototype._isCurrentSpace = function () {\r\n                  var character = this._string[this._currentIndex];\r\n                  return (character <= ' ' &&\r\n                      (character == ' ' ||\r\n                          character == '\\n' ||\r\n                          character == '\\t' ||\r\n                          character == '\\r' ||\r\n                          character == '\\f'));\r\n              };\r\n              Source.prototype._skipOptionalSpaces = function () {\r\n                  while (this._currentIndex < this._endIndex && this._isCurrentSpace())\r\n                      this._currentIndex++;\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype._skipOptionalSpacesOrDelimiter = function () {\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      !this._isCurrentSpace() &&\r\n                      this._string.charAt(this._currentIndex) != ',')\r\n                      return false;\r\n                  if (this._skipOptionalSpaces()) {\r\n                      if (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) == ',') {\r\n                          this._currentIndex++;\r\n                          this._skipOptionalSpaces();\r\n                      }\r\n                  }\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype.hasMoreData = function () {\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype.peekSegmentType = function () {\r\n                  var lookahead = this._string[this._currentIndex];\r\n                  return this._pathSegTypeFromChar(lookahead);\r\n              };\r\n              Source.prototype._pathSegTypeFromChar = function (lookahead) {\r\n                  switch (lookahead) {\r\n                      case 'Z':\r\n                      case 'z':\r\n                          return window.SVGPathSeg.PATHSEG_CLOSEPATH;\r\n                      case 'M':\r\n                          return window.SVGPathSeg.PATHSEG_MOVETO_ABS;\r\n                      case 'm':\r\n                          return window.SVGPathSeg.PATHSEG_MOVETO_REL;\r\n                      case 'L':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_ABS;\r\n                      case 'l':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_REL;\r\n                      case 'C':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;\r\n                      case 'c':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;\r\n                      case 'Q':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;\r\n                      case 'q':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;\r\n                      case 'A':\r\n                          return window.SVGPathSeg.PATHSEG_ARC_ABS;\r\n                      case 'a':\r\n                          return window.SVGPathSeg.PATHSEG_ARC_REL;\r\n                      case 'H':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;\r\n                      case 'h':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;\r\n                      case 'V':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;\r\n                      case 'v':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;\r\n                      case 'S':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;\r\n                      case 's':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;\r\n                      case 'T':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;\r\n                      case 't':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;\r\n                      default:\r\n                          return window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n                  }\r\n              };\r\n              Source.prototype._nextCommandHelper = function (lookahead, previousCommand) {\r\n                  // Check for remaining coordinates in the current command.\r\n                  if ((lookahead == '+' ||\r\n                      lookahead == '-' ||\r\n                      lookahead == '.' ||\r\n                      (lookahead >= '0' && lookahead <= '9')) &&\r\n                      previousCommand != window.SVGPathSeg.PATHSEG_CLOSEPATH) {\r\n                      if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_ABS)\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_ABS;\r\n                      if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_REL)\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_REL;\r\n                      return previousCommand;\r\n                  }\r\n                  return window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n              };\r\n              Source.prototype.initialCommandIsMoveTo = function () {\r\n                  // If the path is empty it is still valid, so return true.\r\n                  if (!this.hasMoreData())\r\n                      return true;\r\n                  var command = this.peekSegmentType();\r\n                  // Path must start with moveTo.\r\n                  return (command == window.SVGPathSeg.PATHSEG_MOVETO_ABS ||\r\n                      command == window.SVGPathSeg.PATHSEG_MOVETO_REL);\r\n              };\r\n              // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.\r\n              // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF\r\n              Source.prototype._parseNumber = function () {\r\n                  var exponent = 0;\r\n                  var integer = 0;\r\n                  var frac = 1;\r\n                  var decimal = 0;\r\n                  var sign = 1;\r\n                  var expsign = 1;\r\n                  var startIndex = this._currentIndex;\r\n                  this._skipOptionalSpaces();\r\n                  // Read the sign.\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '+')\r\n                      this._currentIndex++;\r\n                  else if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '-') {\r\n                      this._currentIndex++;\r\n                      sign = -1;\r\n                  }\r\n                  if (this._currentIndex == this._endIndex ||\r\n                      ((this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9') &&\r\n                          this._string.charAt(this._currentIndex) != '.'))\r\n                      // The first character of a number must be one of [0-9+-.].\r\n                      return undefined;\r\n                  // Read the integer part, build right-to-left.\r\n                  var startIntPartIndex = this._currentIndex;\r\n                  while (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) >= '0' &&\r\n                      this._string.charAt(this._currentIndex) <= '9')\r\n                      this._currentIndex++; // Advance to first non-digit.\r\n                  if (this._currentIndex != startIntPartIndex) {\r\n                      var scanIntPartIndex = this._currentIndex - 1;\r\n                      var multiplier = 1;\r\n                      while (scanIntPartIndex >= startIntPartIndex) {\r\n                          integer +=\r\n                              multiplier * (this._string.charAt(scanIntPartIndex--) - '0');\r\n                          multiplier *= 10;\r\n                      }\r\n                  }\r\n                  // Read the decimals.\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '.') {\r\n                      this._currentIndex++;\r\n                      // There must be a least one digit following the .\r\n                      if (this._currentIndex >= this._endIndex ||\r\n                          this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9')\r\n                          return undefined;\r\n                      while (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) >= '0' &&\r\n                          this._string.charAt(this._currentIndex) <= '9') {\r\n                          frac *= 10;\r\n                          decimal += (this._string.charAt(this._currentIndex) - '0') / frac;\r\n                          this._currentIndex += 1;\r\n                      }\r\n                  }\r\n                  // Read the exponent part.\r\n                  if (this._currentIndex != startIndex &&\r\n                      this._currentIndex + 1 < this._endIndex &&\r\n                      (this._string.charAt(this._currentIndex) == 'e' ||\r\n                          this._string.charAt(this._currentIndex) == 'E') &&\r\n                      this._string.charAt(this._currentIndex + 1) != 'x' &&\r\n                      this._string.charAt(this._currentIndex + 1) != 'm') {\r\n                      this._currentIndex++;\r\n                      // Read the sign of the exponent.\r\n                      if (this._string.charAt(this._currentIndex) == '+') {\r\n                          this._currentIndex++;\r\n                      }\r\n                      else if (this._string.charAt(this._currentIndex) == '-') {\r\n                          this._currentIndex++;\r\n                          expsign = -1;\r\n                      }\r\n                      // There must be an exponent.\r\n                      if (this._currentIndex >= this._endIndex ||\r\n                          this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9')\r\n                          return undefined;\r\n                      while (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) >= '0' &&\r\n                          this._string.charAt(this._currentIndex) <= '9') {\r\n                          exponent *= 10;\r\n                          exponent += this._string.charAt(this._currentIndex) - '0';\r\n                          this._currentIndex++;\r\n                      }\r\n                  }\r\n                  var number = integer + decimal;\r\n                  number *= sign;\r\n                  if (exponent)\r\n                      number *= Math.pow(10, expsign * exponent);\r\n                  if (startIndex == this._currentIndex)\r\n                      return undefined;\r\n                  this._skipOptionalSpacesOrDelimiter();\r\n                  return number;\r\n              };\r\n              Source.prototype._parseArcFlag = function () {\r\n                  if (this._currentIndex >= this._endIndex)\r\n                      return undefined;\r\n                  var flag = false;\r\n                  var flagChar = this._string.charAt(this._currentIndex++);\r\n                  if (flagChar == '0')\r\n                      flag = false;\r\n                  else if (flagChar == '1')\r\n                      flag = true;\r\n                  else\r\n                      return undefined;\r\n                  this._skipOptionalSpacesOrDelimiter();\r\n                  return flag;\r\n              };\r\n              Source.prototype.parseSegment = function () {\r\n                  var lookahead = this._string[this._currentIndex];\r\n                  var command = this._pathSegTypeFromChar(lookahead);\r\n                  if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) {\r\n                      // Possibly an implicit command. Not allowed if this is the first command.\r\n                      if (this._previousCommand == window.SVGPathSeg.PATHSEG_UNKNOWN)\r\n                          return null;\r\n                      command = this._nextCommandHelper(lookahead, this._previousCommand);\r\n                      if (command == window.SVGPathSeg.PATHSEG_UNKNOWN)\r\n                          return null;\r\n                  }\r\n                  else {\r\n                      this._currentIndex++;\r\n                  }\r\n                  this._previousCommand = command;\r\n                  switch (command) {\r\n                      case window.SVGPathSeg.PATHSEG_MOVETO_REL:\r\n                          return new window.SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_MOVETO_ABS:\r\n                          return new window.SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_REL:\r\n                          return new window.SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_ABS:\r\n                          return new window.SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\r\n                          return new window.SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\r\n                          return new window.SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:\r\n                          return new window.SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\r\n                          return new window.SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_CLOSEPATH:\r\n                          this._skipOptionalSpaces();\r\n                          return new window.SVGPathSegClosePath(owningPathSegList);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:\r\n                          var points = {\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:\r\n                          var points = {\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:\r\n                          return new window.SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:\r\n                          return new window.SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_ARC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              arcAngle: this._parseNumber(),\r\n                              arcLarge: this._parseArcFlag(),\r\n                              arcSweep: this._parseArcFlag(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\r\n                      case window.SVGPathSeg.PATHSEG_ARC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              arcAngle: this._parseNumber(),\r\n                              arcLarge: this._parseArcFlag(),\r\n                              arcSweep: this._parseArcFlag(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\r\n                      default:\r\n                          throw 'Unknown path seg type.';\r\n                  }\r\n              };\r\n              var builder = new Builder();\r\n              var source = new Source(string);\r\n              if (!source.initialCommandIsMoveTo())\r\n                  return [];\r\n              while (source.hasMoreData()) {\r\n                  var pathSeg = source.parseSegment();\r\n                  if (!pathSeg)\r\n                      return [];\r\n                  builder.appendSegment(pathSeg);\r\n              }\r\n              return builder.pathSegList;\r\n          };\r\n      }\r\n  })();\r\n  // String.padEnd polyfill for IE11\r\n  //\r\n  // https://github.com/uxitten/polyfill/blob/master/string.polyfill.js\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd\r\n  if (!String.prototype.padEnd) {\r\n      String.prototype.padEnd = function padEnd(targetLength, padString) {\r\n          targetLength = targetLength >> 0; //floor if number or convert non-number to 0;\r\n          padString = String(typeof padString !== 'undefined' ? padString : ' ');\r\n          if (this.length > targetLength) {\r\n              return String(this);\r\n          }\r\n          else {\r\n              targetLength = targetLength - this.length;\r\n              if (targetLength > padString.length) {\r\n                  padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\r\n              }\r\n              return String(this) + padString.slice(0, targetLength);\r\n          }\r\n      };\r\n  }\r\n  // Object.assign polyfill for IE11\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\r\n  if (typeof Object.assign !== 'function') {\r\n      // Must be writable: true, enumerable: false, configurable: true\r\n      Object.defineProperty(Object, 'assign', {\r\n          value: function assign(target, varArgs) {\r\n              if (target === null || target === undefined) {\r\n                  throw new TypeError('Cannot convert undefined or null to object');\r\n              }\r\n              var to = Object(target);\r\n              for (var index = 1; index < arguments.length; index++) {\r\n                  var nextSource = arguments[index];\r\n                  if (nextSource !== null && nextSource !== undefined) {\r\n                      for (var nextKey in nextSource) {\r\n                          // Avoid bugs when hasOwnProperty is shadowed\r\n                          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                              to[nextKey] = nextSource[nextKey];\r\n                          }\r\n                      }\r\n                  }\r\n              }\r\n              return to;\r\n          },\r\n          writable: true,\r\n          configurable: true\r\n      });\r\n  }\r\n  /* jshint ignore:end */\n\n  Chart.prototype.axis = function () { };\r\n  Chart.prototype.axis.labels = function (labels) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          Object.keys(labels).forEach(function (axisId) {\r\n              $$.axis.setLabelText(axisId, labels[axisId]);\r\n          });\r\n          $$.axis.updateLabels();\r\n      }\r\n      // TODO: return some values?\r\n  };\r\n  Chart.prototype.axis.max = function (max) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length) {\r\n          if (typeof max === 'object') {\r\n              if (isValue(max.x)) {\r\n                  config.axis_x_max = max.x;\r\n              }\r\n              if (isValue(max.y)) {\r\n                  config.axis_y_max = max.y;\r\n              }\r\n              if (isValue(max.y2)) {\r\n                  config.axis_y2_max = max.y2;\r\n              }\r\n          }\r\n          else {\r\n              config.axis_y_max = config.axis_y2_max = max;\r\n          }\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      else {\r\n          return {\r\n              x: config.axis_x_max,\r\n              y: config.axis_y_max,\r\n              y2: config.axis_y2_max\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.min = function (min) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length) {\r\n          if (typeof min === 'object') {\r\n              if (isValue(min.x)) {\r\n                  config.axis_x_min = min.x;\r\n              }\r\n              if (isValue(min.y)) {\r\n                  config.axis_y_min = min.y;\r\n              }\r\n              if (isValue(min.y2)) {\r\n                  config.axis_y2_min = min.y2;\r\n              }\r\n          }\r\n          else {\r\n              config.axis_y_min = config.axis_y2_min = min;\r\n          }\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      else {\r\n          return {\r\n              x: config.axis_x_min,\r\n              y: config.axis_y_min,\r\n              y2: config.axis_y2_min\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.range = function (range) {\r\n      if (arguments.length) {\r\n          if (isDefined(range.max)) {\r\n              this.axis.max(range.max);\r\n          }\r\n          if (isDefined(range.min)) {\r\n              this.axis.min(range.min);\r\n          }\r\n      }\r\n      else {\r\n          return {\r\n              max: this.axis.max(),\r\n              min: this.axis.min()\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.types = function (types) {\r\n      var $$ = this.internal;\r\n      if (types === undefined) {\r\n          return {\r\n              y: $$.config.axis_y_type,\r\n              y2: $$.config.axis_y2_type\r\n          };\r\n      }\r\n      else {\r\n          if (isDefined(types.y)) {\r\n              $$.config.axis_y_type = types.y;\r\n          }\r\n          if (isDefined(types.y2)) {\r\n              $$.config.axis_y2_type = types.y2;\r\n          }\r\n          $$.updateScales();\r\n          $$.redraw();\r\n      }\r\n  };\n\n  Chart.prototype.category = function (i, category) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length > 1) {\r\n          config.axis_x_categories[i] = category;\r\n          $$.redraw();\r\n      }\r\n      return config.axis_x_categories[i];\r\n  };\r\n  Chart.prototype.categories = function (categories) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!arguments.length) {\r\n          return config.axis_x_categories;\r\n      }\r\n      config.axis_x_categories = categories;\r\n      $$.redraw();\r\n      return config.axis_x_categories;\r\n  };\n\n  Chart.prototype.resize = function (size) {\r\n      var $$ = this.internal, config = $$.config;\r\n      config.size_width = size ? size.width : null;\r\n      config.size_height = size ? size.height : null;\r\n      this.flush();\r\n  };\r\n  Chart.prototype.flush = function () {\r\n      var $$ = this.internal;\r\n      $$.updateAndRedraw({\r\n          withLegend: true,\r\n          withTransition: false,\r\n          withTransitionForTransform: false\r\n      });\r\n  };\r\n  Chart.prototype.destroy = function () {\r\n      var $$ = this.internal;\r\n      window.clearInterval($$.intervalForObserveInserted);\r\n      if ($$.resizeTimeout !== undefined) {\r\n          window.clearTimeout($$.resizeTimeout);\r\n      }\r\n      window.removeEventListener('resize', $$.resizeIfElementDisplayed);\r\n      // Removes the inner resize functions\r\n      $$.resizeFunction.remove();\r\n      // Unbinds from the window focus event\r\n      $$.unbindWindowFocus();\r\n      $$.selectChart.classed('c3', false).html('');\r\n      // MEMO: this is needed because the reference of some elements will not be released, then memory leak will happen.\r\n      Object.keys($$).forEach(function (key) {\r\n          $$[key] = null;\r\n      });\r\n      return null;\r\n  };\n\n  // TODO: fix\r\n  Chart.prototype.color = function (id) {\r\n      var $$ = this.internal;\r\n      return $$.color(id); // more patterns\r\n  };\n\n  Chart.prototype.data = function (targetIds) {\r\n      var targets = this.internal.data.targets;\r\n      return typeof targetIds === 'undefined'\r\n          ? targets\r\n          : targets.filter(function (t) {\r\n              return [].concat(targetIds).indexOf(t.id) >= 0;\r\n          });\r\n  };\r\n  Chart.prototype.data.shown = function (targetIds) {\r\n      return this.internal.filterTargetsToShow(this.data(targetIds));\r\n  };\r\n  /**\r\n   * Get values of the data loaded in the chart.\r\n   *\r\n   * @param {String|Array} targetId This API returns the value of specified target.\r\n   * @param flat\r\n   * @return {Array} Data values\r\n   */\r\n  Chart.prototype.data.values = function (targetId, flat) {\r\n      if (flat === void 0) { flat = true; }\r\n      var values = null;\r\n      if (targetId) {\r\n          var targets = this.data(targetId);\r\n          if (targets && isArray(targets)) {\r\n              values = targets.reduce(function (ret, v) {\r\n                  var dataValue = v.values.map(function (d) { return d.value; });\r\n                  if (flat) {\r\n                      ret = ret.concat(dataValue);\r\n                  }\r\n                  else {\r\n                      ret.push(dataValue);\r\n                  }\r\n                  return ret;\r\n              }, []);\r\n          }\r\n      }\r\n      return values;\r\n  };\r\n  Chart.prototype.data.names = function (names) {\r\n      this.internal.clearLegendItemTextBoxCache();\r\n      return this.internal.updateDataAttributes('names', names);\r\n  };\r\n  Chart.prototype.data.colors = function (colors) {\r\n      return this.internal.updateDataAttributes('colors', colors);\r\n  };\r\n  Chart.prototype.data.axes = function (axes) {\r\n      return this.internal.updateDataAttributes('axes', axes);\r\n  };\r\n  Chart.prototype.data.stackNormalized = function (normalized) {\r\n      if (normalized === undefined) {\r\n          return this.internal.isStackNormalized();\r\n      }\r\n      this.internal.config.data_stack_normalize = !!normalized;\r\n      this.internal.redraw();\r\n  };\n\n  Chart.prototype.donut = function () { };\r\n  Chart.prototype.donut.padAngle = function (padAngle) {\r\n      if (padAngle === undefined) {\r\n          return this.internal.config.donut_padAngle;\r\n      }\r\n      this.internal.config.donut_padAngle = padAngle;\r\n      this.flush();\r\n  };\n\n  Chart.prototype.flow = function (args) {\r\n      var $$ = this.internal, targets, data, notfoundIds = [], orgDataCount = $$.getMaxDataCount(), dataCount, domain, baseTarget, baseValue, length = 0, tail = 0, diff, to;\r\n      if (args.json) {\r\n          data = $$.convertJsonToData(args.json, args.keys);\r\n      }\r\n      else if (args.rows) {\r\n          data = $$.convertRowsToData(args.rows);\r\n      }\r\n      else if (args.columns) {\r\n          data = $$.convertColumnsToData(args.columns);\r\n      }\r\n      else {\r\n          return;\r\n      }\r\n      targets = $$.convertDataToTargets(data, true);\r\n      // Update/Add data\r\n      $$.data.targets.forEach(function (t) {\r\n          var found = false, i, j;\r\n          for (i = 0; i < targets.length; i++) {\r\n              if (t.id === targets[i].id) {\r\n                  found = true;\r\n                  if (t.values[t.values.length - 1]) {\r\n                      tail = t.values[t.values.length - 1].index + 1;\r\n                  }\r\n                  length = targets[i].values.length;\r\n                  for (j = 0; j < length; j++) {\r\n                      targets[i].values[j].index = tail + j;\r\n                      if (!$$.isTimeSeries()) {\r\n                          targets[i].values[j].x = tail + j;\r\n                      }\r\n                  }\r\n                  t.values = t.values.concat(targets[i].values);\r\n                  targets.splice(i, 1);\r\n                  break;\r\n              }\r\n          }\r\n          if (!found) {\r\n              notfoundIds.push(t.id);\r\n          }\r\n      });\r\n      // Append null for not found targets\r\n      $$.data.targets.forEach(function (t) {\r\n          var i, j;\r\n          for (i = 0; i < notfoundIds.length; i++) {\r\n              if (t.id === notfoundIds[i]) {\r\n                  tail = t.values[t.values.length - 1].index + 1;\r\n                  for (j = 0; j < length; j++) {\r\n                      t.values.push({\r\n                          id: t.id,\r\n                          index: tail + j,\r\n                          x: $$.isTimeSeries() ? $$.getOtherTargetX(tail + j) : tail + j,\r\n                          value: null\r\n                      });\r\n                  }\r\n              }\r\n          }\r\n      });\r\n      // Generate null values for new target\r\n      if ($$.data.targets.length) {\r\n          targets.forEach(function (t) {\r\n              var i, missing = [];\r\n              for (i = $$.data.targets[0].values[0].index; i < tail; i++) {\r\n                  missing.push({\r\n                      id: t.id,\r\n                      index: i,\r\n                      x: $$.isTimeSeries() ? $$.getOtherTargetX(i) : i,\r\n                      value: null\r\n                  });\r\n              }\r\n              t.values.forEach(function (v) {\r\n                  v.index += tail;\r\n                  if (!$$.isTimeSeries()) {\r\n                      v.x += tail;\r\n                  }\r\n              });\r\n              t.values = missing.concat(t.values);\r\n          });\r\n      }\r\n      $$.data.targets = $$.data.targets.concat(targets); // add remained\r\n      // check data count because behavior needs to change when it's only one\r\n      dataCount = $$.getMaxDataCount();\r\n      baseTarget = $$.data.targets[0];\r\n      baseValue = baseTarget.values[0];\r\n      // Update length to flow if needed\r\n      if (isDefined(args.to)) {\r\n          length = 0;\r\n          to = $$.isTimeSeries() ? $$.parseDate(args.to) : args.to;\r\n          baseTarget.values.forEach(function (v) {\r\n              if (v.x < to) {\r\n                  length++;\r\n              }\r\n          });\r\n      }\r\n      else if (isDefined(args.length)) {\r\n          length = args.length;\r\n      }\r\n      // If only one data, update the domain to flow from left edge of the chart\r\n      if (!orgDataCount) {\r\n          if ($$.isTimeSeries()) {\r\n              if (baseTarget.values.length > 1) {\r\n                  diff = baseTarget.values[baseTarget.values.length - 1].x - baseValue.x;\r\n              }\r\n              else {\r\n                  diff = baseValue.x - $$.getXDomain($$.data.targets)[0];\r\n              }\r\n          }\r\n          else {\r\n              diff = 1;\r\n          }\r\n          domain = [baseValue.x - diff, baseValue.x];\r\n          $$.updateXDomain(null, true, true, false, domain);\r\n      }\r\n      else if (orgDataCount === 1) {\r\n          if ($$.isTimeSeries()) {\r\n              diff =\r\n                  (baseTarget.values[baseTarget.values.length - 1].x - baseValue.x) / 2;\r\n              domain = [new Date(+baseValue.x - diff), new Date(+baseValue.x + diff)];\r\n              $$.updateXDomain(null, true, true, false, domain);\r\n          }\r\n      }\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Redraw with new targets\r\n      $$.redraw({\r\n          flow: {\r\n              index: baseValue.index,\r\n              length: length,\r\n              duration: isValue(args.duration)\r\n                  ? args.duration\r\n                  : $$.config.transition_duration,\r\n              done: args.done,\r\n              orgDataCount: orgDataCount\r\n          },\r\n          withLegend: true,\r\n          withTransition: orgDataCount > 1,\r\n          withTrimXDomain: false,\r\n          withUpdateXAxis: true\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateFlow = function (args) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      return function () {\r\n          var targets = args.targets, flow = args.flow, drawBar = args.drawBar, drawLine = args.drawLine, drawArea = args.drawArea, cx = args.cx, cy = args.cy, xv = args.xv, xForText = args.xForText, yForText = args.yForText, duration = args.duration;\r\n          var translateX, scaleX = 1, transform, flowIndex = flow.index, flowLength = flow.length, flowStart = $$.getValueOnIndex($$.data.targets[0].values, flowIndex), flowEnd = $$.getValueOnIndex($$.data.targets[0].values, flowIndex + flowLength), orgDomain = $$.x.domain(), domain, durationForFlow = flow.duration || duration, done = flow.done || function () { }, wait = $$.generateWait();\r\n          var xgrid, xgridLines, mainRegion, mainText, mainBar, mainLine, mainArea, mainCircle;\r\n          // set flag\r\n          $$.flowing = true;\r\n          // remove head data after rendered\r\n          $$.data.targets.forEach(function (d) {\r\n              d.values.splice(0, flowLength);\r\n          });\r\n          // update x domain to generate axis elements for flow\r\n          domain = $$.updateXDomain(targets, true, true);\r\n          // update elements related to x scale\r\n          if ($$.updateXGrid) {\r\n              $$.updateXGrid(true);\r\n          }\r\n          xgrid = $$.xgrid || d3.selectAll([]); // xgrid needs to be obtained after updateXGrid\r\n          xgridLines = $$.xgridLines || d3.selectAll([]);\r\n          mainRegion = $$.mainRegion || d3.selectAll([]);\r\n          mainText = $$.mainText || d3.selectAll([]);\r\n          mainBar = $$.mainBar || d3.selectAll([]);\r\n          mainLine = $$.mainLine || d3.selectAll([]);\r\n          mainArea = $$.mainArea || d3.selectAll([]);\r\n          mainCircle = $$.mainCircle || d3.selectAll([]);\r\n          // generate transform to flow\r\n          if (!flow.orgDataCount) {\r\n              // if empty\r\n              if ($$.data.targets[0].values.length !== 1) {\r\n                  translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n              }\r\n              else {\r\n                  if ($$.isTimeSeries()) {\r\n                      flowStart = $$.getValueOnIndex($$.data.targets[0].values, 0);\r\n                      flowEnd = $$.getValueOnIndex($$.data.targets[0].values, $$.data.targets[0].values.length - 1);\r\n                      translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\r\n                  }\r\n                  else {\r\n                      translateX = diffDomain(domain) / 2;\r\n                  }\r\n              }\r\n          }\r\n          else if (flow.orgDataCount === 1 ||\r\n              (flowStart && flowStart.x) === (flowEnd && flowEnd.x)) {\r\n              translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n          }\r\n          else {\r\n              if ($$.isTimeSeries()) {\r\n                  translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n              }\r\n              else {\r\n                  translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\r\n              }\r\n          }\r\n          scaleX = diffDomain(orgDomain) / diffDomain(domain);\r\n          transform = 'translate(' + translateX + ',0) scale(' + scaleX + ',1)';\r\n          $$.hideXGridFocus();\r\n          var flowTransition = d3\r\n              .transition()\r\n              .ease(d3.easeLinear)\r\n              .duration(durationForFlow);\r\n          wait.add($$.xAxis($$.axes.x, flowTransition));\r\n          wait.add(mainBar.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainLine.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainArea.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainCircle.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainText.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainRegion\r\n              .filter($$.isRegionOnX)\r\n              .transition(flowTransition)\r\n              .attr('transform', transform));\r\n          wait.add(xgrid.transition(flowTransition).attr('transform', transform));\r\n          wait.add(xgridLines.transition(flowTransition).attr('transform', transform));\r\n          wait(function () {\r\n              var i, shapes = [], texts = [];\r\n              // remove flowed elements\r\n              if (flowLength) {\r\n                  for (i = 0; i < flowLength; i++) {\r\n                      shapes.push('.' + CLASS.shape + '-' + (flowIndex + i));\r\n                      texts.push('.' + CLASS.text + '-' + (flowIndex + i));\r\n                  }\r\n                  $$.svg\r\n                      .selectAll('.' + CLASS.shapes)\r\n                      .selectAll(shapes)\r\n                      .remove();\r\n                  $$.svg\r\n                      .selectAll('.' + CLASS.texts)\r\n                      .selectAll(texts)\r\n                      .remove();\r\n                  $$.svg.select('.' + CLASS.xgrid).remove();\r\n              }\r\n              // draw again for removing flowed elements and reverting attr\r\n              xgrid\r\n                  .attr('transform', null)\r\n                  .attr('x1', $$.xgridAttr.x1)\r\n                  .attr('x2', $$.xgridAttr.x2)\r\n                  .attr('y1', $$.xgridAttr.y1)\r\n                  .attr('y2', $$.xgridAttr.y2)\r\n                  .style('opacity', $$.xgridAttr.opacity);\r\n              xgridLines.attr('transform', null);\r\n              xgridLines\r\n                  .select('line')\r\n                  .attr('x1', config.axis_rotated ? 0 : xv)\r\n                  .attr('x2', config.axis_rotated ? $$.width : xv);\r\n              xgridLines\r\n                  .select('text')\r\n                  .attr('x', config.axis_rotated ? $$.width : 0)\r\n                  .attr('y', xv);\r\n              mainBar.attr('transform', null).attr('d', drawBar);\r\n              mainLine.attr('transform', null).attr('d', drawLine);\r\n              mainArea.attr('transform', null).attr('d', drawArea);\r\n              mainCircle\r\n                  .attr('transform', null)\r\n                  .attr('cx', cx)\r\n                  .attr('cy', cy);\r\n              mainText\r\n                  .attr('transform', null)\r\n                  .attr('x', xForText)\r\n                  .attr('y', yForText)\r\n                  .style('fill-opacity', $$.opacityForText.bind($$));\r\n              mainRegion.attr('transform', null);\r\n              mainRegion\r\n                  .filter($$.isRegionOnX)\r\n                  .attr('x', $$.regionX.bind($$))\r\n                  .attr('width', $$.regionWidth.bind($$));\r\n              // callback for end of flow\r\n              done();\r\n              $$.flowing = false;\r\n          });\r\n      };\r\n  };\n\n  Chart.prototype.focus = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      (candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$)))),\r\n          this.revert();\r\n      this.defocus();\r\n      candidates.classed(CLASS.focused, true).classed(CLASS.defocused, false);\r\n      if ($$.hasArcType()) {\r\n          $$.expandArc(targetIds);\r\n      }\r\n      $$.toggleFocusLegend(targetIds, true);\r\n      $$.focusedTargetIds = targetIds;\r\n      $$.defocusedTargetIds = $$.defocusedTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n  };\r\n  Chart.prototype.defocus = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      (candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$)))),\r\n          candidates.classed(CLASS.focused, false).classed(CLASS.defocused, true);\r\n      if ($$.hasArcType()) {\r\n          $$.unexpandArc(targetIds);\r\n      }\r\n      $$.toggleFocusLegend(targetIds, false);\r\n      $$.focusedTargetIds = $$.focusedTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n      $$.defocusedTargetIds = targetIds;\r\n  };\r\n  Chart.prototype.revert = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      candidates = $$.svg.selectAll($$.selectorTargets(targetIds)); // should be for all targets\r\n      candidates.classed(CLASS.focused, false).classed(CLASS.defocused, false);\r\n      if ($$.hasArcType()) {\r\n          $$.unexpandArc(targetIds);\r\n      }\r\n      if ($$.config.legend_show) {\r\n          $$.showLegend(targetIds.filter($$.isLegendToShow.bind($$)));\r\n          $$.legend\r\n              .selectAll($$.selectorLegends(targetIds))\r\n              .filter(function () {\r\n              return $$.d3.select(this).classed(CLASS.legendItemFocused);\r\n          })\r\n              .classed(CLASS.legendItemFocused, false);\r\n      }\r\n      $$.focusedTargetIds = [];\r\n      $$.defocusedTargetIds = [];\r\n  };\n\n  Chart.prototype.xgrids = function (grids) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!grids) {\r\n          return config.grid_x_lines;\r\n      }\r\n      config.grid_x_lines = grids;\r\n      $$.redrawWithoutRescale();\r\n      return config.grid_x_lines;\r\n  };\r\n  Chart.prototype.xgrids.add = function (grids) {\r\n      var $$ = this.internal;\r\n      return this.xgrids($$.config.grid_x_lines.concat(grids ? grids : []));\r\n  };\r\n  Chart.prototype.xgrids.remove = function (params) {\r\n      // TODO: multiple\r\n      var $$ = this.internal;\r\n      $$.removeGridLines(params, true);\r\n  };\r\n  Chart.prototype.ygrids = function (grids) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!grids) {\r\n          return config.grid_y_lines;\r\n      }\r\n      config.grid_y_lines = grids;\r\n      $$.redrawWithoutRescale();\r\n      return config.grid_y_lines;\r\n  };\r\n  Chart.prototype.ygrids.add = function (grids) {\r\n      var $$ = this.internal;\r\n      return this.ygrids($$.config.grid_y_lines.concat(grids ? grids : []));\r\n  };\r\n  Chart.prototype.ygrids.remove = function (params) {\r\n      // TODO: multiple\r\n      var $$ = this.internal;\r\n      $$.removeGridLines(params, false);\r\n  };\n\n  Chart.prototype.groups = function (groups) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (isUndefined(groups)) {\r\n          return config.data_groups;\r\n      }\r\n      config.data_groups = groups;\r\n      $$.redraw();\r\n      return config.data_groups;\r\n  };\n\n  Chart.prototype.legend = function () { };\r\n  Chart.prototype.legend.show = function (targetIds) {\r\n      var $$ = this.internal;\r\n      $$.showLegend($$.mapToTargetIds(targetIds));\r\n      $$.updateAndRedraw({ withLegend: true });\r\n  };\r\n  Chart.prototype.legend.hide = function (targetIds) {\r\n      var $$ = this.internal;\r\n      $$.hideLegend($$.mapToTargetIds(targetIds));\r\n      $$.updateAndRedraw({ withLegend: false });\r\n  };\n\n  Chart.prototype.load = function (args) {\r\n      var $$ = this.internal, config = $$.config;\r\n      // update xs if specified\r\n      if (args.xs) {\r\n          $$.addXs(args.xs);\r\n      }\r\n      // update names if exists\r\n      if ('names' in args) {\r\n          Chart.prototype.data.names.bind(this)(args.names);\r\n      }\r\n      // update classes if exists\r\n      if ('classes' in args) {\r\n          Object.keys(args.classes).forEach(function (id) {\r\n              config.data_classes[id] = args.classes[id];\r\n          });\r\n      }\r\n      // update categories if exists\r\n      if ('categories' in args && $$.isCategorized()) {\r\n          config.axis_x_categories = args.categories;\r\n      }\r\n      // update axes if exists\r\n      if ('axes' in args) {\r\n          Object.keys(args.axes).forEach(function (id) {\r\n              config.data_axes[id] = args.axes[id];\r\n          });\r\n      }\r\n      // update colors if exists\r\n      if ('colors' in args) {\r\n          Object.keys(args.colors).forEach(function (id) {\r\n              config.data_colors[id] = args.colors[id];\r\n          });\r\n      }\r\n      // use cache if exists\r\n      if ('cacheIds' in args && $$.hasCaches(args.cacheIds)) {\r\n          $$.load($$.getCaches(args.cacheIds), args.done);\r\n          return;\r\n      }\r\n      // unload if needed\r\n      if (args.unload) {\r\n          // TODO: do not unload if target will load (included in url/rows/columns)\r\n          $$.unload($$.mapToTargetIds(args.unload === true ? null : args.unload), function () {\r\n              $$.loadFromArgs(args);\r\n          });\r\n      }\r\n      else {\r\n          $$.loadFromArgs(args);\r\n      }\r\n  };\r\n  Chart.prototype.unload = function (args) {\r\n      var $$ = this.internal;\r\n      args = args || {};\r\n      if (args instanceof Array) {\r\n          args = { ids: args };\r\n      }\r\n      else if (typeof args === 'string') {\r\n          args = { ids: [args] };\r\n      }\r\n      $$.unload($$.mapToTargetIds(args.ids), function () {\r\n          $$.redraw({\r\n              withUpdateOrgXDomain: true,\r\n              withUpdateXDomain: true,\r\n              withLegend: true\r\n          });\r\n          if (args.done) {\r\n              args.done();\r\n          }\r\n      });\r\n  };\n\n  Chart.prototype.pie = function () { };\r\n  Chart.prototype.pie.padAngle = function (padAngle) {\r\n      if (padAngle === undefined) {\r\n          return this.internal.config.pie_padAngle;\r\n      }\r\n      this.internal.config.pie_padAngle = padAngle;\r\n      this.flush();\r\n  };\n\n  Chart.prototype.regions = function (regions) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!regions) {\r\n          return config.regions;\r\n      }\r\n      config.regions = regions;\r\n      $$.redrawWithoutRescale();\r\n      return config.regions;\r\n  };\r\n  Chart.prototype.regions.add = function (regions) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!regions) {\r\n          return config.regions;\r\n      }\r\n      config.regions = config.regions.concat(regions);\r\n      $$.redrawWithoutRescale();\r\n      return config.regions;\r\n  };\r\n  Chart.prototype.regions.remove = function (options) {\r\n      var $$ = this.internal, config = $$.config, duration, classes, regions;\r\n      options = options || {};\r\n      duration = getOption(options, 'duration', config.transition_duration);\r\n      classes = getOption(options, 'classes', [CLASS.region]);\r\n      regions = $$.main.select('.' + CLASS.regions).selectAll(classes.map(function (c) {\r\n          return '.' + c;\r\n      }));\r\n      (duration ? regions.transition().duration(duration) : regions)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      config.regions = config.regions.filter(function (region) {\r\n          var found = false;\r\n          if (!region['class']) {\r\n              return true;\r\n          }\r\n          region['class'].split(' ').forEach(function (c) {\r\n              if (classes.indexOf(c) >= 0) {\r\n                  found = true;\r\n              }\r\n          });\r\n          return !found;\r\n      });\r\n      return config.regions;\r\n  };\n\n  Chart.prototype.selected = function (targetId) {\r\n      var $$ = this.internal, d3 = $$.d3;\r\n      return $$.main\r\n          .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(targetId))\r\n          .selectAll('.' + CLASS.shape)\r\n          .filter(function () {\r\n          return d3.select(this).classed(CLASS.SELECTED);\r\n      })\r\n          .nodes()\r\n          .map(function (d) {\r\n          var data = d.__data__;\r\n          return data.data ? data.data : data;\r\n      });\r\n  };\r\n  Chart.prototype.select = function (ids, indices, resetOther) {\r\n      var $$ = this.internal, d3 = $$.d3, config = $$.config;\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      }\r\n      $$.main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          var shape = d3.select(this), id = d.data ? d.data.id : d.id, toggle = $$.getToggle(this, d).bind($$), isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0, isTargetIndex = !indices || indices.indexOf(i) >= 0, isSelected = shape.classed(CLASS.SELECTED);\r\n          // line/area selection not supported yet\r\n          if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\r\n              return;\r\n          }\r\n          if (isTargetId && isTargetIndex) {\r\n              if (config.data_selection_isselectable(d) && !isSelected) {\r\n                  toggle(true, shape.classed(CLASS.SELECTED, true), d, i);\r\n              }\r\n          }\r\n          else if (isDefined(resetOther) && resetOther) {\r\n              if (isSelected) {\r\n                  toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n              }\r\n          }\r\n      });\r\n  };\r\n  Chart.prototype.unselect = function (ids, indices) {\r\n      var $$ = this.internal, d3 = $$.d3, config = $$.config;\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      }\r\n      $$.main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          var shape = d3.select(this), id = d.data ? d.data.id : d.id, toggle = $$.getToggle(this, d).bind($$), isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0, isTargetIndex = !indices || indices.indexOf(i) >= 0, isSelected = shape.classed(CLASS.SELECTED);\r\n          // line/area selection not supported yet\r\n          if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\r\n              return;\r\n          }\r\n          if (isTargetId && isTargetIndex) {\r\n              if (config.data_selection_isselectable(d)) {\r\n                  if (isSelected) {\r\n                      toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n                  }\r\n              }\r\n          }\r\n      });\r\n  };\n\n  Chart.prototype.show = function (targetIds, options) {\r\n      var $$ = this.internal, targets;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      options = options || {};\r\n      $$.removeHiddenTargetIds(targetIds);\r\n      targets = $$.svg.selectAll($$.selectorTargets(targetIds));\r\n      targets\r\n          .transition()\r\n          .style('display', isIE() ? 'block' : 'initial', 'important')\r\n          .style('opacity', 1, 'important')\r\n          .call($$.endall, function () {\r\n          targets.style('opacity', null).style('opacity', 1);\r\n      });\r\n      if (options.withLegend) {\r\n          $$.showLegend(targetIds);\r\n      }\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n  };\r\n  Chart.prototype.hide = function (targetIds, options) {\r\n      var $$ = this.internal, targets;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      options = options || {};\r\n      $$.addHiddenTargetIds(targetIds);\r\n      targets = $$.svg.selectAll($$.selectorTargets(targetIds));\r\n      targets\r\n          .transition()\r\n          .style('opacity', 0, 'important')\r\n          .call($$.endall, function () {\r\n          targets.style('opacity', null).style('opacity', 0);\r\n          targets.style('display', 'none');\r\n      });\r\n      if (options.withLegend) {\r\n          $$.hideLegend(targetIds);\r\n      }\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n  };\r\n  Chart.prototype.toggle = function (targetIds, options) {\r\n      var that = this, $$ = this.internal;\r\n      $$.mapToTargetIds(targetIds).forEach(function (targetId) {\r\n          $$.isTargetToShow(targetId)\r\n              ? that.hide(targetId, options)\r\n              : that.show(targetId, options);\r\n      });\r\n  };\n\n  Chart.prototype.subchart = function () { };\r\n  Chart.prototype.subchart.isShown = function () {\r\n      var $$ = this.internal;\r\n      return $$.config.subchart_show;\r\n  };\r\n  Chart.prototype.subchart.show = function () {\r\n      var $$ = this.internal;\r\n      if ($$.config.subchart_show) {\r\n          return;\r\n      }\r\n      $$.config.subchart_show = true;\r\n      // insert DOM\r\n      $$.initSubchart();\r\n      // update dimensions with sub chart now visible\r\n      $$.updateDimension();\r\n      // insert brush (depends on sizes previously updated)\r\n      $$.initSubchartBrush();\r\n      // attach data\r\n      $$.updateTargetsForSubchart($$.getTargets());\r\n      // reset fade-in state\r\n      $$.mapToIds($$.data.targets).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = false;\r\n      });\r\n      // redraw chart !\r\n      $$.updateAndRedraw();\r\n      // update visible targets !\r\n      $$.showTargets();\r\n  };\r\n  Chart.prototype.subchart.hide = function () {\r\n      var $$ = this.internal;\r\n      if (!$$.config.subchart_show) {\r\n          return;\r\n      }\r\n      $$.config.subchart_show = false;\r\n      // remove DOM\r\n      $$.removeSubchart();\r\n      // re-render chart\r\n      $$.redraw();\r\n  };\n\n  Chart.prototype.tooltip = function () { };\r\n  Chart.prototype.tooltip.show = function (args) {\r\n      var $$ = this.internal, targets, data, mouse = {};\r\n      // determine mouse position on the chart\r\n      if (args.mouse) {\r\n          mouse = args.mouse;\r\n      }\r\n      else {\r\n          // determine focus data\r\n          if (args.data) {\r\n              data = args.data;\r\n          }\r\n          else if (typeof args.x !== 'undefined') {\r\n              if (args.id) {\r\n                  targets = $$.data.targets.filter(function (t) {\r\n                      return t.id === args.id;\r\n                  });\r\n              }\r\n              else {\r\n                  targets = $$.data.targets;\r\n              }\r\n              data = $$.filterByX(targets, args.x).slice(0, 1)[0];\r\n          }\r\n          mouse = data ? $$.getMousePosition(data) : null;\r\n      }\r\n      // emulate mouse events to show\r\n      $$.dispatchEvent('mousemove', mouse);\r\n      $$.config.tooltip_onshow.call($$, data);\r\n  };\r\n  Chart.prototype.tooltip.hide = function () {\r\n      // TODO: get target data by checking the state of focus\r\n      this.internal.dispatchEvent('mouseout', 0);\r\n      this.internal.config.tooltip_onhide.call(this);\r\n  };\n\n  Chart.prototype.transform = function (type, targetIds) {\r\n      var $$ = this.internal, options = ['pie', 'donut'].indexOf(type) >= 0 ? { withTransform: true } : null;\r\n      $$.transformTo(targetIds, type, options);\r\n  };\r\n  ChartInternal.prototype.transformTo = function (targetIds, type, optionsForRedraw) {\r\n      var $$ = this, withTransitionForAxis = !$$.hasArcType(), options = optionsForRedraw || {\r\n          withTransitionForAxis: withTransitionForAxis\r\n      };\r\n      options.withTransitionForTransform = false;\r\n      $$.transiting = false;\r\n      $$.setTargetType(targetIds, type);\r\n      $$.updateTargets($$.data.targets); // this is needed when transforming to arc\r\n      $$.updateAndRedraw(options);\r\n  };\n\n  Chart.prototype.x = function (x) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          $$.updateTargetX($$.data.targets, x);\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      return $$.data.xs;\r\n  };\r\n  Chart.prototype.xs = function (xs) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          $$.updateTargetXs($$.data.targets, xs);\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      return $$.data.xs;\r\n  };\n\n  Chart.prototype.zoom = function (domain) {\r\n      var $$ = this.internal;\r\n      if (domain) {\r\n          if ($$.isTimeSeries()) {\r\n              domain = domain.map(function (x) {\r\n                  return $$.parseDate(x);\r\n              });\r\n          }\r\n          if ($$.config.subchart_show) {\r\n              $$.brush.selectionAsValue(domain, true);\r\n          }\r\n          else {\r\n              $$.updateXDomain(null, true, false, false, domain);\r\n              $$.redraw({ withY: $$.config.zoom_rescale, withSubchart: false });\r\n          }\r\n          $$.config.zoom_onzoom.call(this, $$.x.orgDomain());\r\n          return domain;\r\n      }\r\n      else {\r\n          return $$.x.domain();\r\n      }\r\n  };\r\n  Chart.prototype.zoom.enable = function (enabled) {\r\n      var $$ = this.internal;\r\n      $$.config.zoom_enabled = enabled;\r\n      $$.updateAndRedraw();\r\n  };\r\n  Chart.prototype.unzoom = function () {\r\n      var $$ = this.internal;\r\n      if ($$.config.subchart_show) {\r\n          $$.brush.clear();\r\n      }\r\n      else {\r\n          $$.updateXDomain(null, true, false, false, $$.subX.domain());\r\n          $$.redraw({ withY: $$.config.zoom_rescale, withSubchart: false });\r\n      }\r\n  };\r\n  Chart.prototype.zoom.max = function (max) {\r\n      var $$ = this.internal, config = $$.config, d3 = $$.d3;\r\n      if (max === 0 || max) {\r\n          config.zoom_x_max = d3.max([$$.orgXDomain[1], max]);\r\n      }\r\n      else {\r\n          return config.zoom_x_max;\r\n      }\r\n  };\r\n  Chart.prototype.zoom.min = function (min) {\r\n      var $$ = this.internal, config = $$.config, d3 = $$.d3;\r\n      if (min === 0 || min) {\r\n          config.zoom_x_min = d3.min([$$.orgXDomain[0], min]);\r\n      }\r\n      else {\r\n          return config.zoom_x_min;\r\n      }\r\n  };\r\n  Chart.prototype.zoom.range = function (range) {\r\n      if (arguments.length) {\r\n          if (isDefined(range.max)) {\r\n              this.domain.max(range.max);\r\n          }\r\n          if (isDefined(range.min)) {\r\n              this.domain.min(range.min);\r\n          }\r\n      }\r\n      else {\r\n          return {\r\n              max: this.domain.max(),\r\n              min: this.domain.min()\r\n          };\r\n      }\r\n  };\n\n  ChartInternal.prototype.initPie = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.pie = d3\r\n          .pie()\r\n          .padAngle(this.getPadAngle.bind(this))\r\n          .value(function (d) {\r\n          return d.values.reduce(function (a, b) {\r\n              return a + b.value;\r\n          }, 0);\r\n      });\r\n      var orderFct = $$.getOrderFunction();\r\n      // we need to reverse the returned order if asc or desc to have the slice in expected order.\r\n      if (orderFct && ($$.isOrderAsc() || $$.isOrderDesc())) {\r\n          var defaultSort_1 = orderFct;\r\n          orderFct = function (t1, t2) { return defaultSort_1(t1, t2) * -1; };\r\n      }\r\n      $$.pie.sort(orderFct || null);\r\n  };\r\n  ChartInternal.prototype.updateRadius = function () {\r\n      var $$ = this, config = $$.config, w = config.gauge_width || config.donut_width, gaugeArcWidth = $$.filterTargetsToShow($$.data.targets).length *\r\n          $$.config.gauge_arcs_minWidth;\r\n      $$.radiusExpanded =\r\n          (Math.min($$.arcWidth, $$.arcHeight) / 2) * ($$.hasType('gauge') ? 0.85 : 1);\r\n      $$.radius = $$.radiusExpanded * 0.95;\r\n      $$.innerRadiusRatio = w ? ($$.radius - w) / $$.radius : 0.6;\r\n      $$.innerRadius =\r\n          $$.hasType('donut') || $$.hasType('gauge')\r\n              ? $$.radius * $$.innerRadiusRatio\r\n              : 0;\r\n      $$.gaugeArcWidth = w\r\n          ? w\r\n          : gaugeArcWidth <= $$.radius - $$.innerRadius\r\n              ? $$.radius - $$.innerRadius\r\n              : gaugeArcWidth <= $$.radius\r\n                  ? gaugeArcWidth\r\n                  : $$.radius;\r\n  };\r\n  ChartInternal.prototype.getPadAngle = function () {\r\n      if (this.hasType('pie')) {\r\n          return this.config.pie_padAngle || 0;\r\n      }\r\n      else if (this.hasType('donut')) {\r\n          return this.config.donut_padAngle || 0;\r\n      }\r\n      else {\r\n          return 0;\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateArc = function () {\r\n      var $$ = this;\r\n      $$.svgArc = $$.getSvgArc();\r\n      $$.svgArcExpanded = $$.getSvgArcExpanded();\r\n      $$.svgArcExpandedSub = $$.getSvgArcExpanded(0.98);\r\n  };\r\n  ChartInternal.prototype.updateAngle = function (d) {\r\n      var $$ = this, config = $$.config, found = false, index = 0, gMin, gMax, gTic, gValue;\r\n      if (!config) {\r\n          return null;\r\n      }\r\n      $$.pie($$.filterTargetsToShow($$.data.targets)).forEach(function (t) {\r\n          if (!found && t.data.id === d.data.id) {\r\n              found = true;\r\n              d = t;\r\n              d.index = index;\r\n          }\r\n          index++;\r\n      });\r\n      if (isNaN(d.startAngle)) {\r\n          d.startAngle = 0;\r\n      }\r\n      if (isNaN(d.endAngle)) {\r\n          d.endAngle = d.startAngle;\r\n      }\r\n      if ($$.isGaugeType(d.data)) {\r\n          gMin = config.gauge_min;\r\n          gMax = config.gauge_max;\r\n          gTic = (Math.PI * (config.gauge_fullCircle ? 2 : 1)) / (gMax - gMin);\r\n          gValue = d.value < gMin ? 0 : d.value < gMax ? d.value - gMin : gMax - gMin;\r\n          d.startAngle = config.gauge_startingAngle;\r\n          d.endAngle = d.startAngle + gTic * gValue;\r\n      }\r\n      return found ? d : null;\r\n  };\r\n  ChartInternal.prototype.getSvgArc = function () {\r\n      var $$ = this, hasGaugeType = $$.hasType('gauge'), singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length, arc = $$.d3\r\n          .arc()\r\n          .outerRadius(function (d) {\r\n          return hasGaugeType ? $$.radius - singleArcWidth * d.index : $$.radius;\r\n      })\r\n          .innerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * (d.index + 1)\r\n              : $$.innerRadius;\r\n      }), newArc = function (d, withoutUpdate) {\r\n          var updated;\r\n          if (withoutUpdate) {\r\n              return arc(d);\r\n          } // for interpolate\r\n          updated = $$.updateAngle(d);\r\n          return updated ? arc(updated) : 'M 0 0';\r\n      };\r\n      newArc.centroid = arc.centroid;\r\n      return newArc;\r\n  };\r\n  ChartInternal.prototype.getSvgArcExpanded = function (rate) {\r\n      rate = rate || 1;\r\n      var $$ = this, hasGaugeType = $$.hasType('gauge'), singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length, expandWidth = Math.min($$.radiusExpanded * rate - $$.radius, singleArcWidth * 0.8 - (1 - rate) * 100), arc = $$.d3\r\n          .arc()\r\n          .outerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * d.index + expandWidth\r\n              : $$.radiusExpanded * rate;\r\n      })\r\n          .innerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * (d.index + 1)\r\n              : $$.innerRadius;\r\n      });\r\n      return function (d) {\r\n          var updated = $$.updateAngle(d);\r\n          return updated ? arc(updated) : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.getArc = function (d, withoutUpdate, force) {\r\n      return force || this.isArcType(d.data)\r\n          ? this.svgArc(d, withoutUpdate)\r\n          : 'M 0 0';\r\n  };\r\n  ChartInternal.prototype.transformForArcLabel = function (d) {\r\n      var $$ = this, config = $$.config, updated = $$.updateAngle(d), c, x, y, h, ratio, translate = '', hasGauge = $$.hasType('gauge');\r\n      if (updated && !hasGauge) {\r\n          c = this.svgArc.centroid(updated);\r\n          x = isNaN(c[0]) ? 0 : c[0];\r\n          y = isNaN(c[1]) ? 0 : c[1];\r\n          h = Math.sqrt(x * x + y * y);\r\n          if ($$.hasType('donut') && config.donut_label_ratio) {\r\n              ratio = isFunction(config.donut_label_ratio)\r\n                  ? config.donut_label_ratio(d, $$.radius, h)\r\n                  : config.donut_label_ratio;\r\n          }\r\n          else if ($$.hasType('pie') && config.pie_label_ratio) {\r\n              ratio = isFunction(config.pie_label_ratio)\r\n                  ? config.pie_label_ratio(d, $$.radius, h)\r\n                  : config.pie_label_ratio;\r\n          }\r\n          else {\r\n              ratio =\r\n                  $$.radius && h\r\n                      ? ((36 / $$.radius > 0.375 ? 1.175 - 36 / $$.radius : 0.8) *\r\n                          $$.radius) /\r\n                          h\r\n                      : 0;\r\n          }\r\n          translate = 'translate(' + x * ratio + ',' + y * ratio + ')';\r\n      }\r\n      else if (updated &&\r\n          hasGauge &&\r\n          $$.filterTargetsToShow($$.data.targets).length > 1) {\r\n          var y1 = Math.sin(updated.endAngle - Math.PI / 2);\r\n          x = Math.cos(updated.endAngle - Math.PI / 2) * ($$.radiusExpanded + 25);\r\n          y = y1 * ($$.radiusExpanded + 15 - Math.abs(y1 * 10)) + 3;\r\n          translate = 'translate(' + x + ',' + y + ')';\r\n      }\r\n      return translate;\r\n  };\r\n  /**\r\n   * @deprecated Use `getRatio('arc', d)` instead.\r\n   */\r\n  ChartInternal.prototype.getArcRatio = function (d) {\r\n      return this.getRatio('arc', d);\r\n  };\r\n  ChartInternal.prototype.convertToArcData = function (d) {\r\n      return this.addName({\r\n          id: d.data.id,\r\n          value: d.value,\r\n          ratio: this.getRatio('arc', d),\r\n          index: d.index\r\n      });\r\n  };\r\n  ChartInternal.prototype.textForArcLabel = function (d) {\r\n      var $$ = this, updated, value, ratio, id, format;\r\n      if (!$$.shouldShowArcLabel()) {\r\n          return '';\r\n      }\r\n      updated = $$.updateAngle(d);\r\n      value = updated ? updated.value : null;\r\n      ratio = $$.getRatio('arc', updated);\r\n      id = d.data.id;\r\n      if (!$$.hasType('gauge') && !$$.meetsArcLabelThreshold(ratio)) {\r\n          return '';\r\n      }\r\n      format = $$.getArcLabelFormat();\r\n      return format\r\n          ? format(value, ratio, id)\r\n          : $$.defaultArcValueFormat(value, ratio);\r\n  };\r\n  ChartInternal.prototype.textForGaugeMinMax = function (value, isMax) {\r\n      var $$ = this, format = $$.getGaugeLabelExtents();\r\n      return format ? format(value, isMax) : value;\r\n  };\r\n  ChartInternal.prototype.expandArc = function (targetIds) {\r\n      var $$ = this, interval;\r\n      // MEMO: avoid to cancel transition\r\n      if ($$.transiting) {\r\n          interval = window.setInterval(function () {\r\n              if (!$$.transiting) {\r\n                  window.clearInterval(interval);\r\n                  if ($$.legend.selectAll('.c3-legend-item-focused').size() > 0) {\r\n                      $$.expandArc(targetIds);\r\n                  }\r\n              }\r\n          }, 10);\r\n          return;\r\n      }\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.svg\r\n          .selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc))\r\n          .each(function (d) {\r\n          if (!$$.shouldExpand(d.data.id)) {\r\n              return;\r\n          }\r\n          $$.d3\r\n              .select(this)\r\n              .selectAll('path')\r\n              .transition()\r\n              .duration($$.expandDuration(d.data.id))\r\n              .attr('d', $$.svgArcExpanded)\r\n              .transition()\r\n              .duration($$.expandDuration(d.data.id) * 2)\r\n              .attr('d', $$.svgArcExpandedSub)\r\n              .each(function (d) {\r\n              if ($$.isDonutType(d.data)) ;\r\n          });\r\n      });\r\n  };\r\n  ChartInternal.prototype.unexpandArc = function (targetIds) {\r\n      var $$ = this;\r\n      if ($$.transiting) {\r\n          return;\r\n      }\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.svg\r\n          .selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc))\r\n          .selectAll('path')\r\n          .transition()\r\n          .duration(function (d) {\r\n          return $$.expandDuration(d.data.id);\r\n      })\r\n          .attr('d', $$.svgArc);\r\n      $$.svg.selectAll('.' + CLASS.arc);\r\n  };\r\n  ChartInternal.prototype.expandDuration = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.isDonutType(id)) {\r\n          return config.donut_expand_duration;\r\n      }\r\n      else if ($$.isGaugeType(id)) {\r\n          return config.gauge_expand_duration;\r\n      }\r\n      else if ($$.isPieType(id)) {\r\n          return config.pie_expand_duration;\r\n      }\r\n      else {\r\n          return 50;\r\n      }\r\n  };\r\n  ChartInternal.prototype.shouldExpand = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      return (($$.isDonutType(id) && config.donut_expand) ||\r\n          ($$.isGaugeType(id) && config.gauge_expand) ||\r\n          ($$.isPieType(id) && config.pie_expand));\r\n  };\r\n  ChartInternal.prototype.shouldShowArcLabel = function () {\r\n      var $$ = this, config = $$.config, shouldShow = true;\r\n      if ($$.hasType('donut')) {\r\n          shouldShow = config.donut_label_show;\r\n      }\r\n      else if ($$.hasType('pie')) {\r\n          shouldShow = config.pie_label_show;\r\n      }\r\n      // when gauge, always true\r\n      return shouldShow;\r\n  };\r\n  ChartInternal.prototype.meetsArcLabelThreshold = function (ratio) {\r\n      var $$ = this, config = $$.config, threshold = $$.hasType('donut')\r\n          ? config.donut_label_threshold\r\n          : config.pie_label_threshold;\r\n      return ratio >= threshold;\r\n  };\r\n  ChartInternal.prototype.getArcLabelFormat = function () {\r\n      var $$ = this, config = $$.config, format = config.pie_label_format;\r\n      if ($$.hasType('gauge')) {\r\n          format = config.gauge_label_format;\r\n      }\r\n      else if ($$.hasType('donut')) {\r\n          format = config.donut_label_format;\r\n      }\r\n      return format;\r\n  };\r\n  ChartInternal.prototype.getGaugeLabelExtents = function () {\r\n      var $$ = this, config = $$.config;\r\n      return config.gauge_label_extents;\r\n  };\r\n  ChartInternal.prototype.getArcTitle = function () {\r\n      var $$ = this;\r\n      return $$.hasType('donut') ? $$.config.donut_title : '';\r\n  };\r\n  ChartInternal.prototype.updateTargetsForArc = function (targets) {\r\n      var $$ = this, main = $$.main, mainPies, mainPieEnter, classChartArc = $$.classChartArc.bind($$), classArcs = $$.classArcs.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainPies = main\r\n          .select('.' + CLASS.chartArcs)\r\n          .selectAll('.' + CLASS.chartArc)\r\n          .data($$.pie(targets))\r\n          .attr('class', function (d) {\r\n          return classChartArc(d) + classFocus(d.data);\r\n      });\r\n      mainPieEnter = mainPies\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartArc);\r\n      mainPieEnter.append('g').attr('class', classArcs);\r\n      mainPieEnter\r\n          .append('text')\r\n          .attr('dy', $$.hasType('gauge') ? '-.1em' : '.35em')\r\n          .style('opacity', 0)\r\n          .style('text-anchor', 'middle')\r\n          .style('pointer-events', 'none');\r\n      // MEMO: can not keep same color..., but not bad to update color in redraw\r\n      //mainPieUpdate.exit().remove();\r\n  };\r\n  ChartInternal.prototype.initArc = function () {\r\n      var $$ = this;\r\n      $$.arcs = $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartArcs)\r\n          .attr('transform', $$.getTranslate('arc'));\r\n      $$.arcs\r\n          .append('text')\r\n          .attr('class', CLASS.chartArcsTitle)\r\n          .style('text-anchor', 'middle')\r\n          .text($$.getArcTitle());\r\n  };\r\n  ChartInternal.prototype.redrawArc = function (duration, durationForExit, withTransform) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, main = $$.main, arcs, mainArc, arcLabelLines, mainArcLabelLine, hasGaugeType = $$.hasType('gauge');\r\n      arcs = main\r\n          .selectAll('.' + CLASS.arcs)\r\n          .selectAll('.' + CLASS.arc)\r\n          .data($$.arcData.bind($$));\r\n      mainArc = arcs\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArc.bind($$))\r\n          .style('fill', function (d) {\r\n          return $$.color(d.data);\r\n      })\r\n          .style('cursor', function (d) {\r\n          return config.interaction_enabled && config.data_selection_isselectable(d)\r\n              ? 'pointer'\r\n              : null;\r\n      })\r\n          .each(function (d) {\r\n          if ($$.isGaugeType(d.data)) {\r\n              d.startAngle = d.endAngle = config.gauge_startingAngle;\r\n          }\r\n          this._current = d;\r\n      })\r\n          .merge(arcs);\r\n      if (hasGaugeType) {\r\n          arcLabelLines = main\r\n              .selectAll('.' + CLASS.arcs)\r\n              .selectAll('.' + CLASS.arcLabelLine)\r\n              .data($$.arcData.bind($$));\r\n          mainArcLabelLine = arcLabelLines\r\n              .enter()\r\n              .append('rect')\r\n              .attr('class', function (d) {\r\n              return (CLASS.arcLabelLine +\r\n                  ' ' +\r\n                  CLASS.target +\r\n                  ' ' +\r\n                  CLASS.target +\r\n                  '-' +\r\n                  d.data.id);\r\n          })\r\n              .merge(arcLabelLines);\r\n          if ($$.filterTargetsToShow($$.data.targets).length === 1) {\r\n              mainArcLabelLine.style('display', 'none');\r\n          }\r\n          else {\r\n              mainArcLabelLine\r\n                  .style('fill', function (d) {\r\n                  return $$.levelColor\r\n                      ? $$.levelColor(d.data.values.reduce(function (total, item) {\r\n                          return total + item.value;\r\n                      }, 0))\r\n                      : $$.color(d.data);\r\n              })\r\n                  .style('display', config.gauge_labelLine_show ? '' : 'none')\r\n                  .each(function (d) {\r\n                  var lineLength = 0, lineThickness = 2, x = 0, y = 0, transform = '';\r\n                  if ($$.hiddenTargetIds.indexOf(d.data.id) < 0) {\r\n                      var updated = $$.updateAngle(d), innerLineLength = ($$.gaugeArcWidth /\r\n                          $$.filterTargetsToShow($$.data.targets).length) *\r\n                          (updated.index + 1), lineAngle = updated.endAngle - Math.PI / 2, arcInnerRadius = $$.radius - innerLineLength, linePositioningAngle = lineAngle - (arcInnerRadius === 0 ? 0 : 1 / arcInnerRadius);\r\n                      lineLength = $$.radiusExpanded - $$.radius + innerLineLength;\r\n                      x = Math.cos(linePositioningAngle) * arcInnerRadius;\r\n                      y = Math.sin(linePositioningAngle) * arcInnerRadius;\r\n                      transform =\r\n                          'rotate(' +\r\n                              (lineAngle * 180) / Math.PI +\r\n                              ', ' +\r\n                              x +\r\n                              ', ' +\r\n                              y +\r\n                              ')';\r\n                  }\r\n                  d3.select(this)\r\n                      .attr('x', x)\r\n                      .attr('y', y)\r\n                      .attr('width', lineLength)\r\n                      .attr('height', lineThickness)\r\n                      .attr('transform', transform)\r\n                      .style('stroke-dasharray', '0, ' + (lineLength + lineThickness) + ', 0');\r\n              });\r\n          }\r\n      }\r\n      mainArc\r\n          .attr('transform', function (d) {\r\n          return !$$.isGaugeType(d.data) && withTransform ? 'scale(0)' : '';\r\n      })\r\n          .on('mouseover', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated, arcData;\r\n              if ($$.transiting) {\r\n                  // skip while transiting\r\n                  return;\r\n              }\r\n              updated = $$.updateAngle(d);\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  // transitions\r\n                  $$.expandArc(updated.data.id);\r\n                  $$.api.focus(updated.data.id);\r\n                  $$.toggleFocusLegend(updated.data.id, true);\r\n                  $$.config.data_onmouseover(arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('mousemove', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated = $$.updateAngle(d), arcData, selectedData;\r\n              if (updated) {\r\n                  (arcData = $$.convertToArcData(updated)),\r\n                      (selectedData = [arcData]);\r\n                  $$.showTooltip(selectedData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated, arcData;\r\n              if ($$.transiting) {\r\n                  // skip while transiting\r\n                  return;\r\n              }\r\n              updated = $$.updateAngle(d);\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  // transitions\r\n                  $$.unexpandArc(updated.data.id);\r\n                  $$.api.revert();\r\n                  $$.revertLegend();\r\n                  $$.hideTooltip();\r\n                  $$.config.data_onmouseout(arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('click', config.interaction_enabled\r\n          ? function (d, i) {\r\n              var updated = $$.updateAngle(d), arcData;\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  if ($$.toggleShape) {\r\n                      $$.toggleShape(this, arcData, i);\r\n                  }\r\n                  $$.config.data_onclick.call($$.api, arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .each(function () {\r\n          $$.transiting = true;\r\n      })\r\n          .transition()\r\n          .duration(duration)\r\n          .attrTween('d', function (d) {\r\n          var updated = $$.updateAngle(d), interpolate;\r\n          if (!updated) {\r\n              return function () {\r\n                  return 'M 0 0';\r\n              };\r\n          }\r\n          //                if (this._current === d) {\r\n          //                    this._current = {\r\n          //                        startAngle: Math.PI*2,\r\n          //                        endAngle: Math.PI*2,\r\n          //                    };\r\n          //                }\r\n          if (isNaN(this._current.startAngle)) {\r\n              this._current.startAngle = 0;\r\n          }\r\n          if (isNaN(this._current.endAngle)) {\r\n              this._current.endAngle = this._current.startAngle;\r\n          }\r\n          interpolate = d3.interpolate(this._current, updated);\r\n          this._current = interpolate(0);\r\n          return function (t) {\r\n              // prevents crashing the charts once in transition and chart.destroy() has been called\r\n              if ($$.config === null) {\r\n                  return 'M 0 0';\r\n              }\r\n              var interpolated = interpolate(t);\r\n              interpolated.data = d.data; // data.id will be updated by interporator\r\n              return $$.getArc(interpolated, true);\r\n          };\r\n      })\r\n          .attr('transform', withTransform ? 'scale(1)' : '')\r\n          .style('fill', function (d) {\r\n          return $$.levelColor\r\n              ? $$.levelColor(d.data.values.reduce(function (total, item) {\r\n                  return total + item.value;\r\n              }, 0))\r\n              : $$.color(d.data.id);\r\n      }) // Where gauge reading color would receive customization.\r\n          .call($$.endall, function () {\r\n          $$.transiting = false;\r\n      });\r\n      arcs\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      main\r\n          .selectAll('.' + CLASS.chartArc)\r\n          .select('text')\r\n          .style('opacity', 0)\r\n          .attr('class', function (d) {\r\n          return $$.isGaugeType(d.data) ? CLASS.gaugeValue : '';\r\n      })\r\n          .text($$.textForArcLabel.bind($$))\r\n          .attr('transform', $$.transformForArcLabel.bind($$))\r\n          .style('font-size', function (d) {\r\n          return $$.isGaugeType(d.data) &&\r\n              $$.filterTargetsToShow($$.data.targets).length === 1\r\n              ? Math.round($$.radius / 5) + 'px'\r\n              : '';\r\n      })\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', function (d) {\r\n          return $$.isTargetToShow(d.data.id) && $$.isArcType(d.data) ? 1 : 0;\r\n      });\r\n      main\r\n          .select('.' + CLASS.chartArcsTitle)\r\n          .style('opacity', $$.hasType('donut') || hasGaugeType ? 1 : 0);\r\n      if (hasGaugeType) {\r\n          var index_1 = 0;\r\n          var backgroundArc = $$.arcs\r\n              .select('g.' + CLASS.chartArcsBackground)\r\n              .selectAll('path.' + CLASS.chartArcsBackground)\r\n              .data($$.data.targets);\r\n          backgroundArc\r\n              .enter()\r\n              .append('path')\r\n              .attr('class', function (d, i) {\r\n              return CLASS.chartArcsBackground + ' ' + CLASS.chartArcsBackground + '-' + i;\r\n          })\r\n              .merge(backgroundArc)\r\n              .attr('d', function (d1) {\r\n              if ($$.hiddenTargetIds.indexOf(d1.id) >= 0) {\r\n                  return 'M 0 0';\r\n              }\r\n              var d = {\r\n                  data: [{ value: config.gauge_max }],\r\n                  startAngle: config.gauge_startingAngle,\r\n                  endAngle: -1 *\r\n                      config.gauge_startingAngle *\r\n                      (config.gauge_fullCircle ? Math.PI : 1),\r\n                  index: index_1++\r\n              };\r\n              return $$.getArc(d, true, true);\r\n          });\r\n          backgroundArc.exit().remove();\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeUnit)\r\n              .attr('dy', '.75em')\r\n              .text(config.gauge_label_show ? config.gauge_units : '');\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeMin)\r\n              .attr('dx', -1 *\r\n              ($$.innerRadius +\r\n                  ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2)) +\r\n              'px')\r\n              .attr('dy', '1.2em')\r\n              .text(config.gauge_label_show\r\n              ? $$.textForGaugeMinMax(config.gauge_min, false)\r\n              : '');\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeMax)\r\n              .attr('dx', $$.innerRadius +\r\n              ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2) +\r\n              'px')\r\n              .attr('dy', '1.2em')\r\n              .text(config.gauge_label_show\r\n              ? $$.textForGaugeMinMax(config.gauge_max, true)\r\n              : '');\r\n      }\r\n  };\r\n  ChartInternal.prototype.initGauge = function () {\r\n      var arcs = this.arcs;\r\n      if (this.hasType('gauge')) {\r\n          arcs.append('g').attr('class', CLASS.chartArcsBackground);\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeUnit)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeMin)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeMax)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n      }\r\n  };\r\n  ChartInternal.prototype.getGaugeLabelHeight = function () {\r\n      return this.config.gauge_label_show ? 20 : 0;\r\n  };\n\n  /**\r\n   * Store value into cache\r\n   *\r\n   * @param key\r\n   * @param value\r\n   */\r\n  ChartInternal.prototype.addToCache = function (key, value) {\r\n      this.cache[\"$\" + key] = value;\r\n  };\r\n  /**\r\n   * Returns a cached value or undefined\r\n   *\r\n   * @param key\r\n   * @return {*}\r\n   */\r\n  ChartInternal.prototype.getFromCache = function (key) {\r\n      return this.cache[\"$\" + key];\r\n  };\r\n  /**\r\n   * Reset cached data\r\n   */\r\n  ChartInternal.prototype.resetCache = function () {\r\n      var _this = this;\r\n      Object.keys(this.cache)\r\n          .filter(function (key) { return /^\\$/.test(key); })\r\n          .forEach(function (key) {\r\n          delete _this.cache[key];\r\n      });\r\n  };\r\n  // Old API that stores Targets\r\n  ChartInternal.prototype.hasCaches = function (ids) {\r\n      for (var i = 0; i < ids.length; i++) {\r\n          if (!(ids[i] in this.cache)) {\r\n              return false;\r\n          }\r\n      }\r\n      return true;\r\n  };\r\n  ChartInternal.prototype.addCache = function (id, target) {\r\n      this.cache[id] = this.cloneTarget(target);\r\n  };\r\n  ChartInternal.prototype.getCaches = function (ids) {\r\n      var targets = [], i;\r\n      for (i = 0; i < ids.length; i++) {\r\n          if (ids[i] in this.cache) {\r\n              targets.push(this.cloneTarget(this.cache[ids[i]]));\r\n          }\r\n      }\r\n      return targets;\r\n  };\n\n  ChartInternal.prototype.categoryName = function (i) {\r\n      var config = this.config;\r\n      return i < config.axis_x_categories.length ? config.axis_x_categories[i] : i;\r\n  };\n\n  ChartInternal.prototype.generateTargetClass = function (targetId) {\r\n      return targetId || targetId === 0 ? ('-' + targetId).replace(/\\s/g, '-') : '';\r\n  };\r\n  ChartInternal.prototype.generateClass = function (prefix, targetId) {\r\n      return ' ' + prefix + ' ' + prefix + this.generateTargetClass(targetId);\r\n  };\r\n  ChartInternal.prototype.classText = function (d) {\r\n      return this.generateClass(CLASS.text, d.index);\r\n  };\r\n  ChartInternal.prototype.classTexts = function (d) {\r\n      return this.generateClass(CLASS.texts, d.id);\r\n  };\r\n  ChartInternal.prototype.classShape = function (d) {\r\n      return this.generateClass(CLASS.shape, d.index);\r\n  };\r\n  ChartInternal.prototype.classShapes = function (d) {\r\n      return this.generateClass(CLASS.shapes, d.id);\r\n  };\r\n  ChartInternal.prototype.classLine = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.line, d.id);\r\n  };\r\n  ChartInternal.prototype.classLines = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.lines, d.id);\r\n  };\r\n  ChartInternal.prototype.classCircle = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.circle, d.index);\r\n  };\r\n  ChartInternal.prototype.classCircles = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.circles, d.id);\r\n  };\r\n  ChartInternal.prototype.classBar = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.bar, d.index);\r\n  };\r\n  ChartInternal.prototype.classBars = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.bars, d.id);\r\n  };\r\n  ChartInternal.prototype.classArc = function (d) {\r\n      return this.classShape(d.data) + this.generateClass(CLASS.arc, d.data.id);\r\n  };\r\n  ChartInternal.prototype.classArcs = function (d) {\r\n      return this.classShapes(d.data) + this.generateClass(CLASS.arcs, d.data.id);\r\n  };\r\n  ChartInternal.prototype.classArea = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.area, d.id);\r\n  };\r\n  ChartInternal.prototype.classAreas = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.areas, d.id);\r\n  };\r\n  ChartInternal.prototype.classRegion = function (d, i) {\r\n      return (this.generateClass(CLASS.region, i) + ' ' + ('class' in d ? d['class'] : ''));\r\n  };\r\n  ChartInternal.prototype.classEvent = function (d) {\r\n      return this.generateClass(CLASS.eventRect, d.index);\r\n  };\r\n  ChartInternal.prototype.classTarget = function (id) {\r\n      var $$ = this;\r\n      var additionalClassSuffix = $$.config.data_classes[id], additionalClass = '';\r\n      if (additionalClassSuffix) {\r\n          additionalClass = ' ' + CLASS.target + '-' + additionalClassSuffix;\r\n      }\r\n      return $$.generateClass(CLASS.target, id) + additionalClass;\r\n  };\r\n  ChartInternal.prototype.classFocus = function (d) {\r\n      return this.classFocused(d) + this.classDefocused(d);\r\n  };\r\n  ChartInternal.prototype.classFocused = function (d) {\r\n      return ' ' + (this.focusedTargetIds.indexOf(d.id) >= 0 ? CLASS.focused : '');\r\n  };\r\n  ChartInternal.prototype.classDefocused = function (d) {\r\n      return (' ' + (this.defocusedTargetIds.indexOf(d.id) >= 0 ? CLASS.defocused : ''));\r\n  };\r\n  ChartInternal.prototype.classChartText = function (d) {\r\n      return CLASS.chartText + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartLine = function (d) {\r\n      return CLASS.chartLine + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartBar = function (d) {\r\n      return CLASS.chartBar + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartArc = function (d) {\r\n      return CLASS.chartArc + this.classTarget(d.data.id);\r\n  };\r\n  ChartInternal.prototype.getTargetSelectorSuffix = function (targetId) {\r\n      var targetClass = this.generateTargetClass(targetId);\r\n      if (window.CSS && window.CSS.escape) {\r\n          return window.CSS.escape(targetClass);\r\n      }\r\n      // fallback on imperfect method for old browsers (does not handles unicode)\r\n      return targetClass.replace(/([?!@#$%^&*()=+,.<>'\":;\\[\\]\\/|~`{}\\\\])/g, '\\\\$1');\r\n  };\r\n  ChartInternal.prototype.selectorTarget = function (id, prefix) {\r\n      return (prefix || '') + '.' + CLASS.target + this.getTargetSelectorSuffix(id);\r\n  };\r\n  ChartInternal.prototype.selectorTargets = function (ids, prefix) {\r\n      var $$ = this;\r\n      ids = ids || [];\r\n      return ids.length\r\n          ? ids.map(function (id) {\r\n              return $$.selectorTarget(id, prefix);\r\n          })\r\n          : null;\r\n  };\r\n  ChartInternal.prototype.selectorLegend = function (id) {\r\n      return '.' + CLASS.legendItem + this.getTargetSelectorSuffix(id);\r\n  };\r\n  ChartInternal.prototype.selectorLegends = function (ids) {\r\n      var $$ = this;\r\n      return ids && ids.length\r\n          ? ids.map(function (id) {\r\n              return $$.selectorLegend(id);\r\n          })\r\n          : null;\r\n  };\n\n  ChartInternal.prototype.getClipPath = function (id) {\r\n      return 'url(' + (isIE(9) ? '' : document.URL.split('#')[0]) + '#' + id + ')';\r\n  };\r\n  ChartInternal.prototype.appendClip = function (parent, id) {\r\n      return parent\r\n          .append('clipPath')\r\n          .attr('id', id)\r\n          .append('rect');\r\n  };\r\n  ChartInternal.prototype.getAxisClipX = function (forHorizontal) {\r\n      // axis line width + padding for left\r\n      var left = Math.max(30, this.margin.left);\r\n      return forHorizontal ? -(1 + left) : -(left - 1);\r\n  };\r\n  ChartInternal.prototype.getAxisClipY = function (forHorizontal) {\r\n      return forHorizontal ? -20 : -this.margin.top;\r\n  };\r\n  ChartInternal.prototype.getXAxisClipX = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipX(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipY = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipY(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipX = function () {\r\n      var $$ = this;\r\n      return $$.config.axis_y_inner ? -1 : $$.getAxisClipX($$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipY = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipY($$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getAxisClipWidth = function (forHorizontal) {\r\n      var $$ = this, left = Math.max(30, $$.margin.left), right = Math.max(30, $$.margin.right);\r\n      // width + axis line width + padding for left/right\r\n      return forHorizontal ? $$.width + 2 + left + right : $$.margin.left + 20;\r\n  };\r\n  ChartInternal.prototype.getAxisClipHeight = function (forHorizontal) {\r\n      // less than 20 is not enough to show the axis label 'outer' without legend\r\n      return ((forHorizontal ? this.margin.bottom : this.margin.top + this.height) + 20);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipWidth = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipWidth(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipHeight = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipHeight(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipWidth = function () {\r\n      var $$ = this;\r\n      return ($$.getAxisClipWidth($$.config.axis_rotated) +\r\n          ($$.config.axis_y_inner ? 20 : 0));\r\n  };\r\n  ChartInternal.prototype.getYAxisClipHeight = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipHeight($$.config.axis_rotated);\r\n  };\n\n  ChartInternal.prototype.generateColor = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, colors = config.data_colors, pattern = notEmpty(config.color_pattern)\r\n          ? config.color_pattern\r\n          : d3.schemeCategory10, callback = config.data_color, ids = [];\r\n      return function (d) {\r\n          var id = d.id || (d.data && d.data.id) || d, color;\r\n          // if callback function is provided\r\n          if (colors[id] instanceof Function) {\r\n              color = colors[id](d);\r\n          }\r\n          // if specified, choose that color\r\n          else if (colors[id]) {\r\n              color = colors[id];\r\n          }\r\n          // if not specified, choose from pattern\r\n          else {\r\n              if (ids.indexOf(id) < 0) {\r\n                  ids.push(id);\r\n              }\r\n              color = pattern[ids.indexOf(id) % pattern.length];\r\n              colors[id] = color;\r\n          }\r\n          return callback instanceof Function ? callback(color, d) : color;\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateLevelColor = function () {\r\n      var $$ = this, config = $$.config, colors = config.color_pattern, threshold = config.color_threshold, asValue = threshold.unit === 'value', values = threshold.values && threshold.values.length ? threshold.values : [], max = threshold.max || 100;\r\n      return notEmpty(threshold) && notEmpty(colors)\r\n          ? function (value) {\r\n              var i, v, color = colors[colors.length - 1];\r\n              for (i = 0; i < values.length; i++) {\r\n                  v = asValue ? value : (value * 100) / max;\r\n                  if (v < values[i]) {\r\n                      color = colors[i];\r\n                      break;\r\n                  }\r\n              }\r\n              return color;\r\n          }\r\n          : null;\r\n  };\n\n  ChartInternal.prototype.getDefaultConfig = function () {\r\n      var config = {\r\n          bindto: '#chart',\r\n          svg_classname: undefined,\r\n          size_width: undefined,\r\n          size_height: undefined,\r\n          padding_left: undefined,\r\n          padding_right: undefined,\r\n          padding_top: undefined,\r\n          padding_bottom: undefined,\r\n          resize_auto: true,\r\n          zoom_enabled: false,\r\n          zoom_initialRange: undefined,\r\n          zoom_type: 'scroll',\r\n          zoom_disableDefaultBehavior: false,\r\n          zoom_privileged: false,\r\n          zoom_rescale: false,\r\n          zoom_onzoom: function () { },\r\n          zoom_onzoomstart: function () { },\r\n          zoom_onzoomend: function () { },\r\n          zoom_x_min: undefined,\r\n          zoom_x_max: undefined,\r\n          interaction_brighten: true,\r\n          interaction_enabled: true,\r\n          onmouseover: function () { },\r\n          onmouseout: function () { },\r\n          onresize: function () { },\r\n          onresized: function () { },\r\n          oninit: function () { },\r\n          onrendered: function () { },\r\n          transition_duration: 350,\r\n          data_epochs: 'epochs',\r\n          data_x: undefined,\r\n          data_xs: {},\r\n          data_xFormat: '%Y-%m-%d',\r\n          data_xLocaltime: true,\r\n          data_xSort: true,\r\n          data_idConverter: function (id) {\r\n              return id;\r\n          },\r\n          data_names: {},\r\n          data_classes: {},\r\n          data_groups: [],\r\n          data_axes: {},\r\n          data_type: undefined,\r\n          data_types: {},\r\n          data_labels: {},\r\n          data_order: 'desc',\r\n          data_regions: {},\r\n          data_color: undefined,\r\n          data_colors: {},\r\n          data_hide: false,\r\n          data_filter: undefined,\r\n          data_selection_enabled: false,\r\n          data_selection_grouped: false,\r\n          data_selection_isselectable: function () {\r\n              return true;\r\n          },\r\n          data_selection_multiple: true,\r\n          data_selection_draggable: false,\r\n          data_stack_normalize: false,\r\n          data_onclick: function () { },\r\n          data_onmouseover: function () { },\r\n          data_onmouseout: function () { },\r\n          data_onselected: function () { },\r\n          data_onunselected: function () { },\r\n          data_url: undefined,\r\n          data_headers: undefined,\r\n          data_json: undefined,\r\n          data_rows: undefined,\r\n          data_columns: undefined,\r\n          data_mimeType: undefined,\r\n          data_keys: undefined,\r\n          // configuration for no plot-able data supplied.\r\n          data_empty_label_text: '',\r\n          // subchart\r\n          subchart_show: false,\r\n          subchart_size_height: 60,\r\n          subchart_axis_x_show: true,\r\n          subchart_onbrush: function () { },\r\n          // color\r\n          color_pattern: [],\r\n          color_threshold: {},\r\n          // legend\r\n          legend_show: true,\r\n          legend_hide: false,\r\n          legend_position: 'bottom',\r\n          legend_inset_anchor: 'top-left',\r\n          legend_inset_x: 10,\r\n          legend_inset_y: 0,\r\n          legend_inset_step: undefined,\r\n          legend_item_onclick: undefined,\r\n          legend_item_onmouseover: undefined,\r\n          legend_item_onmouseout: undefined,\r\n          legend_equally: false,\r\n          legend_padding: 0,\r\n          legend_item_tile_width: 10,\r\n          legend_item_tile_height: 10,\r\n          // axis\r\n          axis_rotated: false,\r\n          axis_x_show: true,\r\n          axis_x_type: 'indexed',\r\n          axis_x_localtime: true,\r\n          axis_x_categories: [],\r\n          axis_x_tick_centered: false,\r\n          axis_x_tick_format: undefined,\r\n          axis_x_tick_culling: {},\r\n          axis_x_tick_culling_max: 10,\r\n          axis_x_tick_count: undefined,\r\n          axis_x_tick_fit: true,\r\n          axis_x_tick_values: null,\r\n          axis_x_tick_rotate: 0,\r\n          axis_x_tick_outer: true,\r\n          axis_x_tick_multiline: true,\r\n          axis_x_tick_multilineMax: 0,\r\n          axis_x_tick_width: null,\r\n          axis_x_max: undefined,\r\n          axis_x_min: undefined,\r\n          axis_x_padding: {},\r\n          axis_x_height: undefined,\r\n          axis_x_selection: undefined,\r\n          axis_x_label: {},\r\n          axis_x_inner: undefined,\r\n          axis_y_show: true,\r\n          axis_y_type: 'linear',\r\n          axis_y_max: undefined,\r\n          axis_y_min: undefined,\r\n          axis_y_inverted: false,\r\n          axis_y_center: undefined,\r\n          axis_y_inner: undefined,\r\n          axis_y_label: {},\r\n          axis_y_tick_format: undefined,\r\n          axis_y_tick_outer: true,\r\n          axis_y_tick_values: null,\r\n          axis_y_tick_rotate: 0,\r\n          axis_y_tick_count: undefined,\r\n          axis_y_tick_time_type: undefined,\r\n          axis_y_tick_time_interval: undefined,\r\n          axis_y_padding: {},\r\n          axis_y_default: undefined,\r\n          axis_y2_show: false,\r\n          axis_y2_type: 'linear',\r\n          axis_y2_max: undefined,\r\n          axis_y2_min: undefined,\r\n          axis_y2_inverted: false,\r\n          axis_y2_center: undefined,\r\n          axis_y2_inner: undefined,\r\n          axis_y2_label: {},\r\n          axis_y2_tick_format: undefined,\r\n          axis_y2_tick_outer: true,\r\n          axis_y2_tick_values: null,\r\n          axis_y2_tick_count: undefined,\r\n          axis_y2_padding: {},\r\n          axis_y2_default: undefined,\r\n          // grid\r\n          grid_x_show: false,\r\n          grid_x_type: 'tick',\r\n          grid_x_lines: [],\r\n          grid_y_show: false,\r\n          // not used\r\n          // grid_y_type: 'tick',\r\n          grid_y_lines: [],\r\n          grid_y_ticks: 10,\r\n          grid_focus_show: true,\r\n          grid_lines_front: true,\r\n          // point - point of each data\r\n          point_show: true,\r\n          point_r: 2.5,\r\n          point_sensitivity: 10,\r\n          point_focus_expand_enabled: true,\r\n          point_focus_expand_r: undefined,\r\n          point_select_r: undefined,\r\n          // line\r\n          line_connectNull: false,\r\n          line_step_type: 'step',\r\n          // bar\r\n          bar_width: undefined,\r\n          bar_width_ratio: 0.6,\r\n          bar_width_max: undefined,\r\n          bar_zerobased: true,\r\n          bar_space: 0,\r\n          // area\r\n          area_zerobased: true,\r\n          area_above: false,\r\n          // pie\r\n          pie_label_show: true,\r\n          pie_label_format: undefined,\r\n          pie_label_threshold: 0.05,\r\n          pie_label_ratio: undefined,\r\n          pie_expand: {},\r\n          pie_expand_duration: 50,\r\n          pie_padAngle: 0,\r\n          // gauge\r\n          gauge_fullCircle: false,\r\n          gauge_label_show: true,\r\n          gauge_labelLine_show: true,\r\n          gauge_label_format: undefined,\r\n          gauge_min: 0,\r\n          gauge_max: 100,\r\n          gauge_startingAngle: (-1 * Math.PI) / 2,\r\n          gauge_label_extents: undefined,\r\n          gauge_units: undefined,\r\n          gauge_width: undefined,\r\n          gauge_arcs_minWidth: 5,\r\n          gauge_expand: {},\r\n          gauge_expand_duration: 50,\r\n          // donut\r\n          donut_label_show: true,\r\n          donut_label_format: undefined,\r\n          donut_label_threshold: 0.05,\r\n          donut_label_ratio: undefined,\r\n          donut_width: undefined,\r\n          donut_title: '',\r\n          donut_expand: {},\r\n          donut_expand_duration: 50,\r\n          donut_padAngle: 0,\r\n          // spline\r\n          spline_interpolation_type: 'cardinal',\r\n          // stanford\r\n          stanford_lines: [],\r\n          stanford_regions: [],\r\n          stanford_texts: [],\r\n          stanford_scaleMin: undefined,\r\n          stanford_scaleMax: undefined,\r\n          stanford_scaleWidth: undefined,\r\n          stanford_scaleFormat: undefined,\r\n          stanford_scaleValues: undefined,\r\n          stanford_colors: undefined,\r\n          stanford_padding: {\r\n              top: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              left: 0\r\n          },\r\n          // region - region to change style\r\n          regions: [],\r\n          // tooltip - show when mouseover on each data\r\n          tooltip_show: true,\r\n          tooltip_grouped: true,\r\n          tooltip_order: undefined,\r\n          tooltip_format_title: undefined,\r\n          tooltip_format_name: undefined,\r\n          tooltip_format_value: undefined,\r\n          tooltip_horizontal: undefined,\r\n          tooltip_position: undefined,\r\n          tooltip_contents: function (d, defaultTitleFormat, defaultValueFormat, color) {\r\n              return this.getTooltipContent\r\n                  ? this.getTooltipContent(d, defaultTitleFormat, defaultValueFormat, color)\r\n                  : '';\r\n          },\r\n          tooltip_init_show: false,\r\n          tooltip_init_x: 0,\r\n          tooltip_init_position: { top: '0px', left: '50px' },\r\n          tooltip_onshow: function () { },\r\n          tooltip_onhide: function () { },\r\n          // title\r\n          title_text: undefined,\r\n          title_padding: {\r\n              top: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              left: 0\r\n          },\r\n          title_position: 'top-center'\r\n      };\r\n      Object.keys(this.additionalConfig).forEach(function (key) {\r\n          config[key] = this.additionalConfig[key];\r\n      }, this);\r\n      return config;\r\n  };\r\n  ChartInternal.prototype.additionalConfig = {};\r\n  ChartInternal.prototype.loadConfig = function (config) {\r\n      var this_config = this.config, target, keys, read;\r\n      function find() {\r\n          var key = keys.shift();\r\n          //        console.log(\"key =>\", key, \", target =>\", target);\r\n          if (key && target && typeof target === 'object' && key in target) {\r\n              target = target[key];\r\n              return find();\r\n          }\r\n          else if (!key) {\r\n              return target;\r\n          }\r\n          else {\r\n              return undefined;\r\n          }\r\n      }\r\n      Object.keys(this_config).forEach(function (key) {\r\n          target = config;\r\n          keys = key.split('_');\r\n          read = find();\r\n          //        console.log(\"CONFIG : \", key, read);\r\n          if (isDefined(read)) {\r\n              this_config[key] = read;\r\n          }\r\n      });\r\n  };\n\n  ChartInternal.prototype.convertUrlToData = function (url, mimeType, headers, keys, done) {\r\n      var $$ = this, type = mimeType ? mimeType : 'csv', f, converter;\r\n      if (type === 'json') {\r\n          f = $$.d3.json;\r\n          converter = $$.convertJsonToData;\r\n      }\r\n      else if (type === 'tsv') {\r\n          f = $$.d3.tsv;\r\n          converter = $$.convertXsvToData;\r\n      }\r\n      else {\r\n          f = $$.d3.csv;\r\n          converter = $$.convertXsvToData;\r\n      }\r\n      f(url, headers)\r\n          .then(function (data) {\r\n          done.call($$, converter.call($$, data, keys));\r\n      })\r\n          .catch(function (error) {\r\n          throw error;\r\n      });\r\n  };\r\n  ChartInternal.prototype.convertXsvToData = function (xsv) {\r\n      var keys = xsv.columns, rows = xsv;\r\n      if (rows.length === 0) {\r\n          return {\r\n              keys: keys,\r\n              rows: [keys.reduce(function (row, key) {\r\n                      var _a;\r\n                      return Object.assign(row, (_a = {}, _a[key] = null, _a));\r\n                  }, {})]\r\n          };\r\n      }\r\n      else {\r\n          // [].concat() is to convert result into a plain array otherwise\r\n          // test is not happy because rows have properties.\r\n          return { keys: keys, rows: [].concat(xsv) };\r\n      }\r\n  };\r\n  ChartInternal.prototype.convertJsonToData = function (json, keys) {\r\n      var $$ = this, new_rows = [], targetKeys, data;\r\n      if (keys) {\r\n          // when keys specified, json would be an array that includes objects\r\n          if (keys.x) {\r\n              targetKeys = keys.value.concat(keys.x);\r\n              $$.config.data_x = keys.x;\r\n          }\r\n          else {\r\n              targetKeys = keys.value;\r\n          }\r\n          new_rows.push(targetKeys);\r\n          json.forEach(function (o) {\r\n              var new_row = [];\r\n              targetKeys.forEach(function (key) {\r\n                  // convert undefined to null because undefined data will be removed in convertDataToTargets()\r\n                  var v = $$.findValueInJson(o, key);\r\n                  if (isUndefined(v)) {\r\n                      v = null;\r\n                  }\r\n                  new_row.push(v);\r\n              });\r\n              new_rows.push(new_row);\r\n          });\r\n          data = $$.convertRowsToData(new_rows);\r\n      }\r\n      else {\r\n          Object.keys(json).forEach(function (key) {\r\n              new_rows.push([key].concat(json[key]));\r\n          });\r\n          data = $$.convertColumnsToData(new_rows);\r\n      }\r\n      return data;\r\n  };\r\n  /**\r\n   * Finds value from the given nested object by the given path.\r\n   * If it's not found, then this returns undefined.\r\n   * @param {Object} object the object\r\n   * @param {string} path the path\r\n   */\r\n  ChartInternal.prototype.findValueInJson = function (object, path) {\r\n      if (path in object) {\r\n          // If object has a key that contains . or [], return the key's value\r\n          // instead of searching for an inner object.\r\n          // See https://github.com/c3js/c3/issues/1691 for details.\r\n          return object[path];\r\n      }\r\n      path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties (replace [] with .)\r\n      path = path.replace(/^\\./, ''); // strip a leading dot\r\n      var pathArray = path.split('.');\r\n      for (var i = 0; i < pathArray.length; ++i) {\r\n          var k = pathArray[i];\r\n          if (k in object) {\r\n              object = object[k];\r\n          }\r\n          else {\r\n              return;\r\n          }\r\n      }\r\n      return object;\r\n  };\r\n  /**\r\n   * Converts the rows to normalized data.\r\n   * @param {any[][]} rows The row data\r\n   * @return {Object}\r\n   */\r\n  ChartInternal.prototype.convertRowsToData = function (rows) {\r\n      var newRows = [];\r\n      var keys = rows[0];\r\n      for (var i = 1; i < rows.length; i++) {\r\n          var newRow = {};\r\n          for (var j = 0; j < rows[i].length; j++) {\r\n              if (isUndefined(rows[i][j])) {\r\n                  throw new Error('Source data is missing a component at (' + i + ',' + j + ')!');\r\n              }\r\n              newRow[keys[j]] = rows[i][j];\r\n          }\r\n          newRows.push(newRow);\r\n      }\r\n      return { keys: keys, rows: newRows };\r\n  };\r\n  /**\r\n   * Converts the columns to normalized data.\r\n   * @param {any[][]} columns The column data\r\n   * @return {Object}\r\n   */\r\n  ChartInternal.prototype.convertColumnsToData = function (columns) {\r\n      var newRows = [];\r\n      var keys = [];\r\n      for (var i = 0; i < columns.length; i++) {\r\n          var key = columns[i][0];\r\n          for (var j = 1; j < columns[i].length; j++) {\r\n              if (isUndefined(newRows[j - 1])) {\r\n                  newRows[j - 1] = {};\r\n              }\r\n              if (isUndefined(columns[i][j])) {\r\n                  throw new Error('Source data is missing a component at (' + i + ',' + j + ')!');\r\n              }\r\n              newRows[j - 1][key] = columns[i][j];\r\n          }\r\n          keys.push(key);\r\n      }\r\n      return { keys: keys, rows: newRows };\r\n  };\r\n  /**\r\n   * Converts the data format into the target format.\r\n   * @param {!Object} data\r\n   * @param {!Array} data.keys Ordered list of target IDs.\r\n   * @param {!Array} data.rows Rows of data to convert.\r\n   * @param {boolean} appendXs True to append to $$.data.xs, False to replace.\r\n   * @return {!Array}\r\n   */\r\n  ChartInternal.prototype.convertDataToTargets = function (data, appendXs) {\r\n      var $$ = this, config = $$.config, targets, ids, xs, keys, epochs;\r\n      // handles format where keys are not orderly provided\r\n      if (isArray(data)) {\r\n          keys = Object.keys(data[0]);\r\n      }\r\n      else {\r\n          keys = data.keys;\r\n          data = data.rows;\r\n      }\r\n      xs = keys.filter($$.isX, $$);\r\n      if (!$$.isStanfordGraphType()) {\r\n          ids = keys.filter($$.isNotX, $$);\r\n      }\r\n      else {\r\n          epochs = keys.filter($$.isEpochs, $$);\r\n          ids = keys.filter($$.isNotXAndNotEpochs, $$);\r\n          if (xs.length !== 1 || epochs.length !== 1 || ids.length !== 1) {\r\n              throw new Error(\"You must define the 'x' key name and the 'epochs' for Stanford Diagrams\");\r\n          }\r\n      }\r\n      // save x for update data by load when custom x and c3.x API\r\n      ids.forEach(function (id) {\r\n          var xKey = $$.getXKey(id);\r\n          if ($$.isCustomX() || $$.isTimeSeries()) {\r\n              // if included in input data\r\n              if (xs.indexOf(xKey) >= 0) {\r\n                  $$.data.xs[id] = (appendXs && $$.data.xs[id]\r\n                      ? $$.data.xs[id]\r\n                      : []).concat(data\r\n                      .map(function (d) {\r\n                      return d[xKey];\r\n                  })\r\n                      .filter(isValue)\r\n                      .map(function (rawX, i) {\r\n                      return $$.generateTargetX(rawX, id, i);\r\n                  }));\r\n              }\r\n              // if not included in input data, find from preloaded data of other id's x\r\n              else if (config.data_x) {\r\n                  $$.data.xs[id] = $$.getOtherTargetXs();\r\n              }\r\n              // if not included in input data, find from preloaded data\r\n              else if (notEmpty(config.data_xs)) {\r\n                  $$.data.xs[id] = $$.getXValuesOfXKey(xKey, $$.data.targets);\r\n              }\r\n              // MEMO: if no x included, use same x of current will be used\r\n          }\r\n          else {\r\n              $$.data.xs[id] = data.map(function (d, i) {\r\n                  return i;\r\n              });\r\n          }\r\n      });\r\n      // check x is defined\r\n      ids.forEach(function (id) {\r\n          if (!$$.data.xs[id]) {\r\n              throw new Error('x is not defined for id = \"' + id + '\".');\r\n          }\r\n      });\r\n      // convert to target\r\n      targets = ids.map(function (id, index) {\r\n          var convertedId = config.data_idConverter(id);\r\n          return {\r\n              id: convertedId,\r\n              id_org: id,\r\n              values: data\r\n                  .map(function (d, i) {\r\n                  var xKey = $$.getXKey(id), rawX = d[xKey], value = d[id] !== null && !isNaN(d[id]) ? +d[id] : null, x, returnData;\r\n                  // use x as categories if custom x and categorized\r\n                  if ($$.isCustomX() && $$.isCategorized() && !isUndefined(rawX)) {\r\n                      if (index === 0 && i === 0) {\r\n                          config.axis_x_categories = [];\r\n                      }\r\n                      x = config.axis_x_categories.indexOf(rawX);\r\n                      if (x === -1) {\r\n                          x = config.axis_x_categories.length;\r\n                          config.axis_x_categories.push(rawX);\r\n                      }\r\n                  }\r\n                  else {\r\n                      x = $$.generateTargetX(rawX, id, i);\r\n                  }\r\n                  // mark as x = undefined if value is undefined and filter to remove after mapped\r\n                  if (isUndefined(d[id]) || $$.data.xs[id].length <= i) {\r\n                      x = undefined;\r\n                  }\r\n                  returnData = { x: x, value: value, id: convertedId };\r\n                  if ($$.isStanfordGraphType()) {\r\n                      returnData.epochs = d[epochs];\r\n                  }\r\n                  return returnData;\r\n              })\r\n                  .filter(function (v) {\r\n                  return isDefined(v.x);\r\n              })\r\n          };\r\n      });\r\n      // finish targets\r\n      targets.forEach(function (t) {\r\n          var i;\r\n          // sort values by its x\r\n          if (config.data_xSort) {\r\n              t.values = t.values.sort(function (v1, v2) {\r\n                  var x1 = v1.x || v1.x === 0 ? v1.x : Infinity, x2 = v2.x || v2.x === 0 ? v2.x : Infinity;\r\n                  return x1 - x2;\r\n              });\r\n          }\r\n          // indexing each value\r\n          i = 0;\r\n          t.values.forEach(function (v) {\r\n              v.index = i++;\r\n          });\r\n          // this needs to be sorted because its index and value.index is identical\r\n          $$.data.xs[t.id].sort(function (v1, v2) {\r\n              return v1 - v2;\r\n          });\r\n      });\r\n      // cache information about values\r\n      $$.hasNegativeValue = $$.hasNegativeValueInTargets(targets);\r\n      $$.hasPositiveValue = $$.hasPositiveValueInTargets(targets);\r\n      // set target types\r\n      if (config.data_type) {\r\n          $$.setTargetType($$.mapToIds(targets).filter(function (id) {\r\n              return !(id in config.data_types);\r\n          }), config.data_type);\r\n      }\r\n      // cache as original id keyed\r\n      targets.forEach(function (d) {\r\n          $$.addCache(d.id_org, d);\r\n      });\r\n      return targets;\r\n  };\n\n  ChartInternal.prototype.isEpochs = function (key) {\r\n      var $$ = this, config = $$.config;\r\n      return config.data_epochs && key === config.data_epochs;\r\n  };\r\n  ChartInternal.prototype.isX = function (key) {\r\n      var $$ = this, config = $$.config;\r\n      return ((config.data_x && key === config.data_x) ||\r\n          (notEmpty(config.data_xs) && hasValue(config.data_xs, key)));\r\n  };\r\n  ChartInternal.prototype.isNotX = function (key) {\r\n      return !this.isX(key);\r\n  };\r\n  ChartInternal.prototype.isNotXAndNotEpochs = function (key) {\r\n      return !this.isX(key) && !this.isEpochs(key);\r\n  };\r\n  /**\r\n   * Returns whether the normalized stack option is enabled or not.\r\n   *\r\n   * To be enabled it must also have data.groups defined.\r\n   *\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isStackNormalized = function () {\r\n      return this.config.data_stack_normalize && this.config.data_groups.length > 0;\r\n  };\r\n  /**\r\n   * Returns whether the axis is normalized or not.\r\n   *\r\n   * An axis is normalized as long as one of its associated target\r\n   * is normalized.\r\n   *\r\n   * @param axisId Axis ID (y or y2)\r\n   * @return {Boolean}\r\n   */\r\n  ChartInternal.prototype.isAxisNormalized = function (axisId) {\r\n      var $$ = this;\r\n      if (!$$.isStackNormalized()) {\r\n          // shortcut\r\n          return false;\r\n      }\r\n      return $$.data.targets\r\n          .filter(function (target) { return $$.axis.getId(target.id) === axisId; })\r\n          .some(function (target) { return $$.isTargetNormalized(target.id); });\r\n  };\r\n  /**\r\n   * Returns whether the values for this target ID is normalized or not.\r\n   *\r\n   * To be normalized the option needs to be enabled and target needs\r\n   * to be defined in `data.groups`.\r\n   *\r\n   * @param targetId ID of the target\r\n   * @return {Boolean} True if the target is normalized, false otherwise.\r\n   */\r\n  ChartInternal.prototype.isTargetNormalized = function (targetId) {\r\n      var $$ = this;\r\n      return ($$.isStackNormalized() &&\r\n          $$.config.data_groups.some(function (group) { return group.includes(targetId); }));\r\n  };\r\n  ChartInternal.prototype.getXKey = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      return config.data_x\r\n          ? config.data_x\r\n          : notEmpty(config.data_xs)\r\n              ? config.data_xs[id]\r\n              : null;\r\n  };\r\n  /**\r\n   * Get sum of visible data per index for given axis.\r\n   *\r\n   * Expect axisId to be either 'y' or 'y2'.\r\n   *\r\n   * @private\r\n   * @param axisId Compute sum for data associated to given axis.\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.getTotalPerIndex = function (axisId) {\r\n      var $$ = this;\r\n      if (!$$.isStackNormalized()) {\r\n          return null;\r\n      }\r\n      var cached = $$.getFromCache('getTotalPerIndex');\r\n      if (cached !== undefined) {\r\n          return cached[axisId];\r\n      }\r\n      var sum = { y: [], y2: [] };\r\n      $$.data.targets\r\n          // keep only target that are normalized\r\n          .filter(function (target) { return $$.isTargetNormalized(target.id); })\r\n          // keep only target that are visible\r\n          .filter(function (target) { return $$.isTargetToShow(target.id); })\r\n          // compute sum per axis\r\n          .forEach(function (target) {\r\n          var sumByAxis = sum[$$.axis.getId(target.id)];\r\n          target.values.forEach(function (v, i) {\r\n              if (!sumByAxis[i]) {\r\n                  sumByAxis[i] = 0;\r\n              }\r\n              sumByAxis[i] += isNumber(v.value) ? v.value : 0;\r\n          });\r\n      });\r\n      $$.addToCache('getTotalPerIndex', sum);\r\n      return sum[axisId];\r\n  };\r\n  /**\r\n   * Get sum of visible data.\r\n   *\r\n   * Should be used for normalised data only since all values\r\n   * are expected to be positive.\r\n   *\r\n   * @private\r\n   * @return {Number}\r\n   */\r\n  ChartInternal.prototype.getTotalDataSum = function () {\r\n      var $$ = this;\r\n      var cached = $$.getFromCache('getTotalDataSum');\r\n      if (cached !== undefined) {\r\n          return cached;\r\n      }\r\n      var totalDataSum = flattenArray($$.data.targets\r\n          .filter(function (target) { return $$.isTargetToShow(target.id); })\r\n          .map(function (target) { return target.values; }))\r\n          .map(function (d) { return d.value; })\r\n          .reduce(function (p, c) { return p + c; }, 0);\r\n      $$.addToCache('getTotalDataSum', totalDataSum);\r\n      return totalDataSum;\r\n  };\r\n  ChartInternal.prototype.getXValuesOfXKey = function (key, targets) {\r\n      var $$ = this, xValues, ids = targets && notEmpty(targets) ? $$.mapToIds(targets) : [];\r\n      ids.forEach(function (id) {\r\n          if ($$.getXKey(id) === key) {\r\n              xValues = $$.data.xs[id];\r\n          }\r\n      });\r\n      return xValues;\r\n  };\r\n  ChartInternal.prototype.getXValue = function (id, i) {\r\n      var $$ = this;\r\n      return id in $$.data.xs && $$.data.xs[id] && isValue($$.data.xs[id][i])\r\n          ? $$.data.xs[id][i]\r\n          : i;\r\n  };\r\n  ChartInternal.prototype.getOtherTargetXs = function () {\r\n      var $$ = this, idsForX = Object.keys($$.data.xs);\r\n      return idsForX.length ? $$.data.xs[idsForX[0]] : null;\r\n  };\r\n  ChartInternal.prototype.getOtherTargetX = function (index) {\r\n      var xs = this.getOtherTargetXs();\r\n      return xs && index < xs.length ? xs[index] : null;\r\n  };\r\n  ChartInternal.prototype.addXs = function (xs) {\r\n      var $$ = this;\r\n      Object.keys(xs).forEach(function (id) {\r\n          $$.config.data_xs[id] = xs[id];\r\n      });\r\n  };\r\n  ChartInternal.prototype.addName = function (data) {\r\n      var $$ = this, name;\r\n      if (data) {\r\n          name = $$.config.data_names[data.id];\r\n          data.name = name !== undefined ? name : data.id;\r\n      }\r\n      return data;\r\n  };\r\n  ChartInternal.prototype.getValueOnIndex = function (values, index) {\r\n      var valueOnIndex = values.filter(function (v) {\r\n          return v.index === index;\r\n      });\r\n      return valueOnIndex.length ? valueOnIndex[0] : null;\r\n  };\r\n  ChartInternal.prototype.updateTargetX = function (targets, x) {\r\n      var $$ = this;\r\n      targets.forEach(function (t) {\r\n          t.values.forEach(function (v, i) {\r\n              v.x = $$.generateTargetX(x[i], t.id, i);\r\n          });\r\n          $$.data.xs[t.id] = x;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateTargetXs = function (targets, xs) {\r\n      var $$ = this;\r\n      targets.forEach(function (t) {\r\n          if (xs[t.id]) {\r\n              $$.updateTargetX([t], xs[t.id]);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateTargetX = function (rawX, id, index) {\r\n      var $$ = this, x;\r\n      if ($$.isTimeSeries()) {\r\n          x = rawX ? $$.parseDate(rawX) : $$.parseDate($$.getXValue(id, index));\r\n      }\r\n      else if ($$.isCustomX() && !$$.isCategorized()) {\r\n          x = isValue(rawX) ? +rawX : $$.getXValue(id, index);\r\n      }\r\n      else {\r\n          x = index;\r\n      }\r\n      return x;\r\n  };\r\n  ChartInternal.prototype.cloneTarget = function (target) {\r\n      return {\r\n          id: target.id,\r\n          id_org: target.id_org,\r\n          values: target.values.map(function (d) {\r\n              return {\r\n                  x: d.x,\r\n                  value: d.value,\r\n                  id: d.id\r\n              };\r\n          })\r\n      };\r\n  };\r\n  ChartInternal.prototype.getMaxDataCount = function () {\r\n      var $$ = this;\r\n      return $$.d3.max($$.data.targets, function (t) {\r\n          return t.values.length;\r\n      });\r\n  };\r\n  ChartInternal.prototype.mapToIds = function (targets) {\r\n      return targets.map(function (d) {\r\n          return d.id;\r\n      });\r\n  };\r\n  ChartInternal.prototype.mapToTargetIds = function (ids) {\r\n      var $$ = this;\r\n      return ids ? [].concat(ids) : $$.mapToIds($$.data.targets);\r\n  };\r\n  ChartInternal.prototype.hasTarget = function (targets, id) {\r\n      var ids = this.mapToIds(targets), i;\r\n      for (i = 0; i < ids.length; i++) {\r\n          if (ids[i] === id) {\r\n              return true;\r\n          }\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.isTargetToShow = function (targetId) {\r\n      return this.hiddenTargetIds.indexOf(targetId) < 0;\r\n  };\r\n  ChartInternal.prototype.isLegendToShow = function (targetId) {\r\n      return this.hiddenLegendIds.indexOf(targetId) < 0;\r\n  };\r\n  /**\r\n   * Returns only visible targets.\r\n   *\r\n   * This is the same as calling {@link filterTargetsToShow} on $$.data.targets.\r\n   *\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.getTargetsToShow = function () {\r\n      var $$ = this;\r\n      return $$.filterTargetsToShow($$.data.targets);\r\n  };\r\n  ChartInternal.prototype.filterTargetsToShow = function (targets) {\r\n      var $$ = this;\r\n      return targets.filter(function (t) {\r\n          return $$.isTargetToShow(t.id);\r\n      });\r\n  };\r\n  /**\r\n   * @return {Array} Returns all the targets attached to the chart, visible or not\r\n   */\r\n  ChartInternal.prototype.getTargets = function () {\r\n      var $$ = this;\r\n      return $$.data.targets;\r\n  };\r\n  ChartInternal.prototype.mapTargetsToUniqueXs = function (targets) {\r\n      var $$ = this;\r\n      var xs = $$.d3\r\n          .set($$.d3.merge(targets.map(function (t) {\r\n          return t.values.map(function (v) {\r\n              return +v.x;\r\n          });\r\n      })))\r\n          .values();\r\n      xs = $$.isTimeSeries()\r\n          ? xs.map(function (x) {\r\n              return new Date(+x);\r\n          })\r\n          : xs.map(function (x) {\r\n              return +x;\r\n          });\r\n      return xs.sort(function (a, b) {\r\n          return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\r\n      });\r\n  };\r\n  ChartInternal.prototype.addHiddenTargetIds = function (targetIds) {\r\n      targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\r\n      for (var i = 0; i < targetIds.length; i++) {\r\n          if (this.hiddenTargetIds.indexOf(targetIds[i]) < 0) {\r\n              this.hiddenTargetIds = this.hiddenTargetIds.concat(targetIds[i]);\r\n          }\r\n      }\r\n      this.resetCache();\r\n  };\r\n  ChartInternal.prototype.removeHiddenTargetIds = function (targetIds) {\r\n      this.hiddenTargetIds = this.hiddenTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n      this.resetCache();\r\n  };\r\n  ChartInternal.prototype.addHiddenLegendIds = function (targetIds) {\r\n      targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\r\n      for (var i = 0; i < targetIds.length; i++) {\r\n          if (this.hiddenLegendIds.indexOf(targetIds[i]) < 0) {\r\n              this.hiddenLegendIds = this.hiddenLegendIds.concat(targetIds[i]);\r\n          }\r\n      }\r\n  };\r\n  ChartInternal.prototype.removeHiddenLegendIds = function (targetIds) {\r\n      this.hiddenLegendIds = this.hiddenLegendIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.getValuesAsIdKeyed = function (targets) {\r\n      var ys = {};\r\n      targets.forEach(function (t) {\r\n          ys[t.id] = [];\r\n          t.values.forEach(function (v) {\r\n              ys[t.id].push(v.value);\r\n          });\r\n      });\r\n      return ys;\r\n  };\r\n  ChartInternal.prototype.checkValueInTargets = function (targets, checker) {\r\n      var ids = Object.keys(targets), i, j, values;\r\n      for (i = 0; i < ids.length; i++) {\r\n          values = targets[ids[i]].values;\r\n          for (j = 0; j < values.length; j++) {\r\n              if (checker(values[j].value)) {\r\n                  return true;\r\n              }\r\n          }\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.hasNegativeValueInTargets = function (targets) {\r\n      return this.checkValueInTargets(targets, function (v) {\r\n          return v < 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.hasPositiveValueInTargets = function (targets) {\r\n      return this.checkValueInTargets(targets, function (v) {\r\n          return v > 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.isOrderDesc = function () {\r\n      var config = this.config;\r\n      return (typeof config.data_order === 'string' &&\r\n          config.data_order.toLowerCase() === 'desc');\r\n  };\r\n  ChartInternal.prototype.isOrderAsc = function () {\r\n      var config = this.config;\r\n      return (typeof config.data_order === 'string' &&\r\n          config.data_order.toLowerCase() === 'asc');\r\n  };\r\n  ChartInternal.prototype.getOrderFunction = function () {\r\n      var $$ = this, config = $$.config, orderAsc = $$.isOrderAsc(), orderDesc = $$.isOrderDesc();\r\n      if (orderAsc || orderDesc) {\r\n          var reducer = function (p, c) {\r\n              return p + Math.abs(c.value);\r\n          };\r\n          return function (t1, t2) {\r\n              var t1Sum = t1.values.reduce(reducer, 0), t2Sum = t2.values.reduce(reducer, 0);\r\n              return orderAsc ? t2Sum - t1Sum : t1Sum - t2Sum;\r\n          };\r\n      }\r\n      else if (isFunction(config.data_order)) {\r\n          return config.data_order;\r\n      }\r\n      else if (isArray(config.data_order)) {\r\n          var order = config.data_order;\r\n          return function (t1, t2) {\r\n              return order.indexOf(t1.id) - order.indexOf(t2.id);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.orderTargets = function (targets) {\r\n      var fct = this.getOrderFunction();\r\n      if (fct) {\r\n          targets.sort(fct);\r\n      }\r\n      return targets;\r\n  };\r\n  /**\r\n   * Returns all the values from the given targets at the given index.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Number} index\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.filterByIndex = function (targets, index) {\r\n      return this.d3.merge(targets.map(function (t) { return t.values.filter(function (v) { return v.index === index; }); }));\r\n  };\r\n  ChartInternal.prototype.filterByX = function (targets, x) {\r\n      return this.d3\r\n          .merge(targets.map(function (t) {\r\n          return t.values;\r\n      }))\r\n          .filter(function (v) {\r\n          return v.x - x === 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.filterRemoveNull = function (data) {\r\n      return data.filter(function (d) {\r\n          return isValue(d.value);\r\n      });\r\n  };\r\n  ChartInternal.prototype.filterByXDomain = function (targets, xDomain) {\r\n      return targets.map(function (t) {\r\n          return {\r\n              id: t.id,\r\n              id_org: t.id_org,\r\n              values: t.values.filter(function (v) {\r\n                  return xDomain[0] <= v.x && v.x <= xDomain[1];\r\n              })\r\n          };\r\n      });\r\n  };\r\n  ChartInternal.prototype.hasDataLabel = function () {\r\n      var config = this.config;\r\n      if (typeof config.data_labels === 'boolean' && config.data_labels) {\r\n          return true;\r\n      }\r\n      else if (typeof config.data_labels === 'object' &&\r\n          notEmpty(config.data_labels)) {\r\n          return true;\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.getDataLabelLength = function (min, max, key) {\r\n      var $$ = this, lengths = [0, 0], paddingCoef = 1.3;\r\n      $$.selectChart\r\n          .select('svg')\r\n          .selectAll('.dummy')\r\n          .data([min, max])\r\n          .enter()\r\n          .append('text')\r\n          .text(function (d) {\r\n          return $$.dataLabelFormat(d.id)(d);\r\n      })\r\n          .each(function (d, i) {\r\n          lengths[i] = getBBox(this)[key] * paddingCoef;\r\n      })\r\n          .remove();\r\n      return lengths;\r\n  };\r\n  /**\r\n   * Returns true if the given data point is not arc type, otherwise false.\r\n   * @param {Object} d The data point\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isNoneArc = function (d) {\r\n      return this.hasTarget(this.data.targets, d.id);\r\n  };\r\n  /**\r\n   * Returns true if the given data point is arc type, otherwise false.\r\n   * @param {Object} d The data point\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isArc = function (d) {\r\n      return 'data' in d && this.hasTarget(this.data.targets, d.data.id);\r\n  };\r\n  /**\r\n   * Find the closest point from the given pos among the given targets or\r\n   * undefined if none satisfies conditions.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Array} pos An [x,y] coordinate\r\n   * @return {Object|undefined}\r\n   */\r\n  ChartInternal.prototype.findClosestFromTargets = function (targets, pos) {\r\n      var $$ = this;\r\n      // for each target, find the closest point\r\n      var candidates = targets\r\n          .map(function (t) {\r\n          return $$.findClosest(t.values, pos, $$.config.tooltip_horizontal\r\n              ? $$.horizontalDistance.bind($$)\r\n              : $$.dist.bind($$), $$.config.point_sensitivity);\r\n      })\r\n          .filter(function (v) { return v; });\r\n      // returns the closest of candidates\r\n      if (candidates.length === 0) {\r\n          return undefined;\r\n      }\r\n      else if (candidates.length === 1) {\r\n          return candidates[0];\r\n      }\r\n      else {\r\n          return $$.findClosest(candidates, pos, $$.dist.bind($$));\r\n      }\r\n  };\r\n  /**\r\n   * Find the closest point from the x value or undefined if none satisfies conditions.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Array} x A value on X axis\r\n   * @return {Object|undefined}\r\n   */\r\n  ChartInternal.prototype.findClosestFromTargetsByX = function (targets, x) {\r\n      var closest;\r\n      var diff;\r\n      targets.forEach(function (t) {\r\n          t.values.forEach(function (d) {\r\n              var newDiff = Math.abs(x - d.x);\r\n              if (diff === undefined || newDiff < diff) {\r\n                  closest = d;\r\n                  diff = newDiff;\r\n              }\r\n          });\r\n      });\r\n      return closest;\r\n  };\r\n  /**\r\n   * Using given compute distance method, returns the closest data point from the\r\n   * given position.\r\n   *\r\n   * Giving optionally a minimum distance to satisfy.\r\n   *\r\n   * @param {Array} dataPoints List of DataPoints\r\n   * @param {Array} pos An [x,y] coordinate\r\n   * @param {Function} computeDist Function to compute distance between 2 points\r\n   * @param {Number} minDist Minimal distance to satisfy\r\n   * @return {Object|undefined} Closest data point\r\n   */\r\n  ChartInternal.prototype.findClosest = function (dataPoints, pos, computeDist, minDist) {\r\n      if (minDist === void 0) { minDist = Infinity; }\r\n      var $$ = this;\r\n      var closest;\r\n      // find closest bar\r\n      dataPoints\r\n          .filter(function (v) { return v && $$.isBarType(v.id); })\r\n          .forEach(function (v) {\r\n          if (!closest) {\r\n              var shape = $$.main\r\n                  .select('.' +\r\n                  CLASS.bars +\r\n                  $$.getTargetSelectorSuffix(v.id) +\r\n                  ' .' +\r\n                  CLASS.bar +\r\n                  '-' +\r\n                  v.index)\r\n                  .node();\r\n              if ($$.isWithinBar(pos, shape)) {\r\n                  closest = v;\r\n              }\r\n          }\r\n      });\r\n      // find closest point from non-bar\r\n      dataPoints\r\n          .filter(function (v) { return v && !$$.isBarType(v.id); })\r\n          .forEach(function (v) {\r\n          var d = computeDist(v, pos);\r\n          if (d < minDist) {\r\n              minDist = d;\r\n              closest = v;\r\n          }\r\n      });\r\n      return closest;\r\n  };\r\n  ChartInternal.prototype.dist = function (data, pos) {\r\n      var $$ = this, config = $$.config, xIndex = config.axis_rotated ? 1 : 0, yIndex = config.axis_rotated ? 0 : 1, y = $$.circleY(data, data.index), x = $$.x(data.x);\r\n      return Math.sqrt(Math.pow(x - pos[xIndex], 2) + Math.pow(y - pos[yIndex], 2));\r\n  };\r\n  ChartInternal.prototype.horizontalDistance = function (data, pos) {\r\n      var $$ = this, config = $$.config, xIndex = config.axis_rotated ? 1 : 0, x = $$.x(data.x);\r\n      return Math.abs(x - pos[xIndex]);\r\n  };\r\n  ChartInternal.prototype.convertValuesToStep = function (values) {\r\n      var converted = [].concat(values), i;\r\n      if (!this.isCategorized()) {\r\n          return values;\r\n      }\r\n      for (i = values.length + 1; 0 < i; i--) {\r\n          converted[i] = converted[i - 1];\r\n      }\r\n      converted[0] = {\r\n          x: converted[0].x - 1,\r\n          value: converted[0].value,\r\n          id: converted[0].id\r\n      };\r\n      converted[values.length + 1] = {\r\n          x: converted[values.length].x + 1,\r\n          value: converted[values.length].value,\r\n          id: converted[values.length].id\r\n      };\r\n      return converted;\r\n  };\r\n  /**\r\n   * Get ratio value\r\n   *\r\n   * @param {String} type Ratio for given type\r\n   * @param {Object} d Data value object\r\n   * @param {Boolean} asPercent Convert the return as percent or not\r\n   * @return {Number} Ratio value\r\n   * @private\r\n   */\r\n  ChartInternal.prototype.getRatio = function (type, d, asPercent) {\r\n      if (asPercent === void 0) { asPercent = false; }\r\n      var $$ = this;\r\n      var api = $$.api;\r\n      var ratio = 0;\r\n      if (d && api.data.shown.call(api).length) {\r\n          ratio = d.ratio || d.value;\r\n          if (type === 'arc') {\r\n              if ($$.hasType('gauge')) {\r\n                  ratio =\r\n                      (d.endAngle - d.startAngle) /\r\n                          (Math.PI * ($$.config.gauge_fullCircle ? 2 : 1));\r\n              }\r\n              else {\r\n                  var total = $$.getTotalDataSum();\r\n                  ratio = d.value / total;\r\n              }\r\n          }\r\n          else if (type === 'index') {\r\n              var total = $$.getTotalPerIndex($$.axis.getId(d.id));\r\n              d.ratio =\r\n                  isNumber(d.value) && total && total[d.index] > 0\r\n                      ? d.value / total[d.index]\r\n                      : 0;\r\n              ratio = d.ratio;\r\n          }\r\n      }\r\n      return asPercent && ratio ? ratio * 100 : ratio;\r\n  };\r\n  ChartInternal.prototype.updateDataAttributes = function (name, attrs) {\r\n      var $$ = this, config = $$.config, current = config['data_' + name];\r\n      if (typeof attrs === 'undefined') {\r\n          return current;\r\n      }\r\n      Object.keys(attrs).forEach(function (id) {\r\n          current[id] = attrs[id];\r\n      });\r\n      $$.redraw({\r\n          withLegend: true\r\n      });\r\n      return current;\r\n  };\n\n  ChartInternal.prototype.load = function (targets, args) {\r\n      var $$ = this;\r\n      if (targets) {\r\n          // filter loading targets if needed\r\n          if (args.filter) {\r\n              targets = targets.filter(args.filter);\r\n          }\r\n          // set type if args.types || args.type specified\r\n          if (args.type || args.types) {\r\n              targets.forEach(function (t) {\r\n                  var type = args.types && args.types[t.id] ? args.types[t.id] : args.type;\r\n                  $$.setTargetType(t.id, type);\r\n              });\r\n          }\r\n          // Update/Add data\r\n          $$.data.targets.forEach(function (d) {\r\n              for (var i = 0; i < targets.length; i++) {\r\n                  if (d.id === targets[i].id) {\r\n                      d.values = targets[i].values;\r\n                      targets.splice(i, 1);\r\n                      break;\r\n                  }\r\n              }\r\n          });\r\n          $$.data.targets = $$.data.targets.concat(targets); // add remained\r\n      }\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Redraw with new targets\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n      if (args.done) {\r\n          args.done();\r\n      }\r\n  };\r\n  ChartInternal.prototype.loadFromArgs = function (args) {\r\n      var $$ = this;\r\n      $$.resetCache();\r\n      if (args.data) {\r\n          $$.load($$.convertDataToTargets(args.data), args);\r\n      }\r\n      else if (args.url) {\r\n          $$.convertUrlToData(args.url, args.mimeType, args.headers, args.keys, function (data) {\r\n              $$.load($$.convertDataToTargets(data), args);\r\n          });\r\n      }\r\n      else if (args.json) {\r\n          $$.load($$.convertDataToTargets($$.convertJsonToData(args.json, args.keys)), args);\r\n      }\r\n      else if (args.rows) {\r\n          $$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)), args);\r\n      }\r\n      else if (args.columns) {\r\n          $$.load($$.convertDataToTargets($$.convertColumnsToData(args.columns)), args);\r\n      }\r\n      else {\r\n          $$.load(null, args);\r\n      }\r\n  };\r\n  ChartInternal.prototype.unload = function (targetIds, done) {\r\n      var $$ = this;\r\n      $$.resetCache();\r\n      if (!done) {\r\n          done = function () { };\r\n      }\r\n      // filter existing target\r\n      targetIds = targetIds.filter(function (id) {\r\n          return $$.hasTarget($$.data.targets, id);\r\n      });\r\n      // If no target, call done and return\r\n      if (!targetIds || targetIds.length === 0) {\r\n          done();\r\n          return;\r\n      }\r\n      $$.svg\r\n          .selectAll(targetIds.map(function (id) {\r\n          return $$.selectorTarget(id);\r\n      }))\r\n          .transition()\r\n          .style('opacity', 0)\r\n          .remove()\r\n          .call($$.endall, done);\r\n      targetIds.forEach(function (id) {\r\n          // Reset fadein for future load\r\n          $$.withoutFadeIn[id] = false;\r\n          // Remove target's elements\r\n          if ($$.legend) {\r\n              $$.legend\r\n                  .selectAll('.' + CLASS.legendItem + $$.getTargetSelectorSuffix(id))\r\n                  .remove();\r\n          }\r\n          // Remove target\r\n          $$.data.targets = $$.data.targets.filter(function (t) {\r\n              return t.id !== id;\r\n          });\r\n      });\r\n  };\n\n  ChartInternal.prototype.getYDomainMin = function (targets) {\r\n      var $$ = this, config = $$.config, ids = $$.mapToIds(targets), ys = $$.getValuesAsIdKeyed(targets), j, k, baseId, idsInGroup, id, hasNegativeValue;\r\n      if (config.data_groups.length > 0) {\r\n          hasNegativeValue = $$.hasNegativeValueInTargets(targets);\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              // Determine baseId\r\n              idsInGroup = config.data_groups[j].filter(function (id) {\r\n                  return ids.indexOf(id) >= 0;\r\n              });\r\n              if (idsInGroup.length === 0) {\r\n                  continue;\r\n              }\r\n              baseId = idsInGroup[0];\r\n              // Consider negative values\r\n              if (hasNegativeValue && ys[baseId]) {\r\n                  ys[baseId].forEach(function (v, i) {\r\n                      ys[baseId][i] = v < 0 ? v : 0;\r\n                  });\r\n              }\r\n              // Compute min\r\n              for (k = 1; k < idsInGroup.length; k++) {\r\n                  id = idsInGroup[k];\r\n                  if (!ys[id]) {\r\n                      continue;\r\n                  }\r\n                  ys[id].forEach(function (v, i) {\r\n                      if ($$.axis.getId(id) === $$.axis.getId(baseId) &&\r\n                          ys[baseId] &&\r\n                          !(hasNegativeValue && +v > 0)) {\r\n                          ys[baseId][i] += +v;\r\n                      }\r\n                  });\r\n              }\r\n          }\r\n      }\r\n      return $$.d3.min(Object.keys(ys).map(function (key) {\r\n          return $$.d3.min(ys[key]);\r\n      }));\r\n  };\r\n  ChartInternal.prototype.getYDomainMax = function (targets) {\r\n      var $$ = this, config = $$.config, ids = $$.mapToIds(targets), ys = $$.getValuesAsIdKeyed(targets), j, k, baseId, idsInGroup, id, hasPositiveValue;\r\n      if (config.data_groups.length > 0) {\r\n          hasPositiveValue = $$.hasPositiveValueInTargets(targets);\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              // Determine baseId\r\n              idsInGroup = config.data_groups[j].filter(function (id) {\r\n                  return ids.indexOf(id) >= 0;\r\n              });\r\n              if (idsInGroup.length === 0) {\r\n                  continue;\r\n              }\r\n              baseId = idsInGroup[0];\r\n              // Consider positive values\r\n              if (hasPositiveValue && ys[baseId]) {\r\n                  ys[baseId].forEach(function (v, i) {\r\n                      ys[baseId][i] = v > 0 ? v : 0;\r\n                  });\r\n              }\r\n              // Compute max\r\n              for (k = 1; k < idsInGroup.length; k++) {\r\n                  id = idsInGroup[k];\r\n                  if (!ys[id]) {\r\n                      continue;\r\n                  }\r\n                  ys[id].forEach(function (v, i) {\r\n                      if ($$.axis.getId(id) === $$.axis.getId(baseId) &&\r\n                          ys[baseId] &&\r\n                          !(hasPositiveValue && +v < 0)) {\r\n                          ys[baseId][i] += +v;\r\n                      }\r\n                  });\r\n              }\r\n          }\r\n      }\r\n      return $$.d3.max(Object.keys(ys).map(function (key) {\r\n          return $$.d3.max(ys[key]);\r\n      }));\r\n  };\r\n  ChartInternal.prototype.getYDomain = function (targets, axisId, xDomain) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.isAxisNormalized(axisId)) {\r\n          return [0, 100];\r\n      }\r\n      var targetsByAxisId = targets.filter(function (t) {\r\n          return $$.axis.getId(t.id) === axisId;\r\n      }), yTargets = xDomain\r\n          ? $$.filterByXDomain(targetsByAxisId, xDomain)\r\n          : targetsByAxisId, yMin = axisId === 'y2' ? config.axis_y2_min : config.axis_y_min, yMax = axisId === 'y2' ? config.axis_y2_max : config.axis_y_max, yDomainMin = $$.getYDomainMin(yTargets), yDomainMax = $$.getYDomainMax(yTargets), domain, domainLength, padding_top, padding_bottom, center = axisId === 'y2' ? config.axis_y2_center : config.axis_y_center, yDomainAbs, lengths, diff, ratio, isAllPositive, isAllNegative, isZeroBased = ($$.hasType('bar', yTargets) && config.bar_zerobased) ||\r\n          ($$.hasType('area', yTargets) && config.area_zerobased), isInverted = axisId === 'y2' ? config.axis_y2_inverted : config.axis_y_inverted, showHorizontalDataLabel = $$.hasDataLabel() && config.axis_rotated, showVerticalDataLabel = $$.hasDataLabel() && !config.axis_rotated;\r\n      // MEMO: avoid inverting domain unexpectedly\r\n      yDomainMin = isValue(yMin)\r\n          ? yMin\r\n          : isValue(yMax)\r\n              ? yDomainMin < yMax\r\n                  ? yDomainMin\r\n                  : yMax - 10\r\n              : yDomainMin;\r\n      yDomainMax = isValue(yMax)\r\n          ? yMax\r\n          : isValue(yMin)\r\n              ? yMin < yDomainMax\r\n                  ? yDomainMax\r\n                  : yMin + 10\r\n              : yDomainMax;\r\n      if (yTargets.length === 0) {\r\n          // use current domain if target of axisId is none\r\n          return axisId === 'y2' ? $$.y2.domain() : $$.y.domain();\r\n      }\r\n      if (isNaN(yDomainMin)) {\r\n          // set minimum to zero when not number\r\n          yDomainMin = 0;\r\n      }\r\n      if (isNaN(yDomainMax)) {\r\n          // set maximum to have same value as yDomainMin\r\n          yDomainMax = yDomainMin;\r\n      }\r\n      if (yDomainMin === yDomainMax) {\r\n          yDomainMin < 0 ? (yDomainMax = 0) : (yDomainMin = 0);\r\n      }\r\n      isAllPositive = yDomainMin >= 0 && yDomainMax >= 0;\r\n      isAllNegative = yDomainMin <= 0 && yDomainMax <= 0;\r\n      // Cancel zerobased if axis_*_min / axis_*_max specified\r\n      if ((isValue(yMin) && isAllPositive) || (isValue(yMax) && isAllNegative)) {\r\n          isZeroBased = false;\r\n      }\r\n      // Bar/Area chart should be 0-based if all positive|negative\r\n      if (isZeroBased) {\r\n          if (isAllPositive) {\r\n              yDomainMin = 0;\r\n          }\r\n          if (isAllNegative) {\r\n              yDomainMax = 0;\r\n          }\r\n      }\r\n      domainLength = Math.abs(yDomainMax - yDomainMin);\r\n      padding_top = padding_bottom = domainLength * 0.1;\r\n      if (typeof center !== 'undefined') {\r\n          yDomainAbs = Math.max(Math.abs(yDomainMin), Math.abs(yDomainMax));\r\n          yDomainMax = center + yDomainAbs;\r\n          yDomainMin = center - yDomainAbs;\r\n      }\r\n      // add padding for data label\r\n      if (showHorizontalDataLabel) {\r\n          lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'width');\r\n          diff = diffDomain($$.y.range());\r\n          ratio = [lengths[0] / diff, lengths[1] / diff];\r\n          padding_top += domainLength * (ratio[1] / (1 - ratio[0] - ratio[1]));\r\n          padding_bottom += domainLength * (ratio[0] / (1 - ratio[0] - ratio[1]));\r\n      }\r\n      else if (showVerticalDataLabel) {\r\n          lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'height');\r\n          var pixelsToAxisPadding = $$.getY(config[\"axis_\" + axisId + \"_type\"], \r\n          // input domain as pixels\r\n          [0, config.axis_rotated ? $$.width : $$.height], \r\n          // output range as axis padding\r\n          [0, domainLength]);\r\n          padding_top += pixelsToAxisPadding(lengths[1]);\r\n          padding_bottom += pixelsToAxisPadding(lengths[0]);\r\n      }\r\n      if (axisId === 'y' && notEmpty(config.axis_y_padding)) {\r\n          padding_top = $$.axis.getPadding(config.axis_y_padding, 'top', padding_top, domainLength);\r\n          padding_bottom = $$.axis.getPadding(config.axis_y_padding, 'bottom', padding_bottom, domainLength);\r\n      }\r\n      if (axisId === 'y2' && notEmpty(config.axis_y2_padding)) {\r\n          padding_top = $$.axis.getPadding(config.axis_y2_padding, 'top', padding_top, domainLength);\r\n          padding_bottom = $$.axis.getPadding(config.axis_y2_padding, 'bottom', padding_bottom, domainLength);\r\n      }\r\n      // Bar/Area chart should be 0-based if all positive|negative\r\n      if (isZeroBased) {\r\n          if (isAllPositive) {\r\n              padding_bottom = yDomainMin;\r\n          }\r\n          if (isAllNegative) {\r\n              padding_top = -yDomainMax;\r\n          }\r\n      }\r\n      domain = [yDomainMin - padding_bottom, yDomainMax + padding_top];\r\n      return isInverted ? domain.reverse() : domain;\r\n  };\r\n  ChartInternal.prototype.getXDomainMin = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      return isDefined(config.axis_x_min)\r\n          ? $$.isTimeSeries()\r\n              ? this.parseDate(config.axis_x_min)\r\n              : config.axis_x_min\r\n          : $$.d3.min(targets, function (t) {\r\n              return $$.d3.min(t.values, function (v) {\r\n                  return v.x;\r\n              });\r\n          });\r\n  };\r\n  ChartInternal.prototype.getXDomainMax = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      return isDefined(config.axis_x_max)\r\n          ? $$.isTimeSeries()\r\n              ? this.parseDate(config.axis_x_max)\r\n              : config.axis_x_max\r\n          : $$.d3.max(targets, function (t) {\r\n              return $$.d3.max(t.values, function (v) {\r\n                  return v.x;\r\n              });\r\n          });\r\n  };\r\n  ChartInternal.prototype.getXDomainPadding = function (domain) {\r\n      var $$ = this, config = $$.config, diff = domain[1] - domain[0], maxDataCount, padding, paddingLeft, paddingRight;\r\n      if ($$.isCategorized()) {\r\n          padding = 0;\r\n      }\r\n      else if ($$.hasType('bar')) {\r\n          maxDataCount = $$.getMaxDataCount();\r\n          padding = maxDataCount > 1 ? diff / (maxDataCount - 1) / 2 : 0.5;\r\n      }\r\n      else {\r\n          padding = diff * 0.01;\r\n      }\r\n      if (typeof config.axis_x_padding === 'object' &&\r\n          notEmpty(config.axis_x_padding)) {\r\n          paddingLeft = isValue(config.axis_x_padding.left)\r\n              ? config.axis_x_padding.left\r\n              : padding;\r\n          paddingRight = isValue(config.axis_x_padding.right)\r\n              ? config.axis_x_padding.right\r\n              : padding;\r\n      }\r\n      else if (typeof config.axis_x_padding === 'number') {\r\n          paddingLeft = paddingRight = config.axis_x_padding;\r\n      }\r\n      else {\r\n          paddingLeft = paddingRight = padding;\r\n      }\r\n      return { left: paddingLeft, right: paddingRight };\r\n  };\r\n  ChartInternal.prototype.getXDomain = function (targets) {\r\n      var $$ = this, xDomain = [$$.getXDomainMin(targets), $$.getXDomainMax(targets)], firstX = xDomain[0], lastX = xDomain[1], padding = $$.getXDomainPadding(xDomain), min = 0, max = 0;\r\n      // show center of x domain if min and max are the same\r\n      if (firstX - lastX === 0 && !$$.isCategorized()) {\r\n          if ($$.isTimeSeries()) {\r\n              firstX = new Date(firstX.getTime() * 0.5);\r\n              lastX = new Date(lastX.getTime() * 1.5);\r\n          }\r\n          else {\r\n              firstX = firstX === 0 ? 1 : firstX * 0.5;\r\n              lastX = lastX === 0 ? -1 : lastX * 1.5;\r\n          }\r\n      }\r\n      if (firstX || firstX === 0) {\r\n          min = $$.isTimeSeries()\r\n              ? new Date(firstX.getTime() - padding.left)\r\n              : firstX - padding.left;\r\n      }\r\n      if (lastX || lastX === 0) {\r\n          max = $$.isTimeSeries()\r\n              ? new Date(lastX.getTime() + padding.right)\r\n              : lastX + padding.right;\r\n      }\r\n      return [min, max];\r\n  };\r\n  ChartInternal.prototype.updateXDomain = function (targets, withUpdateXDomain, withUpdateOrgXDomain, withTrim, domain) {\r\n      var $$ = this, config = $$.config;\r\n      if (withUpdateOrgXDomain) {\r\n          $$.x.domain(domain ? domain : $$.d3.extent($$.getXDomain(targets)));\r\n          $$.orgXDomain = $$.x.domain();\r\n          if (config.zoom_enabled) {\r\n              $$.zoom.update();\r\n          }\r\n          $$.subX.domain($$.x.domain());\r\n          if ($$.brush) {\r\n              $$.brush.updateScale($$.subX);\r\n          }\r\n      }\r\n      if (withUpdateXDomain) {\r\n          $$.x.domain(domain\r\n              ? domain\r\n              : !$$.brush || $$.brush.empty()\r\n                  ? $$.orgXDomain\r\n                  : $$.brush.selectionAsValue());\r\n      }\r\n      // Trim domain when too big by zoom mousemove event\r\n      if (withTrim) {\r\n          $$.x.domain($$.trimXDomain($$.x.orgDomain()));\r\n      }\r\n      return $$.x.domain();\r\n  };\r\n  ChartInternal.prototype.trimXDomain = function (domain) {\r\n      var zoomDomain = this.getZoomDomain(), min = zoomDomain[0], max = zoomDomain[1];\r\n      if (domain[0] <= min) {\r\n          domain[1] = +domain[1] + (min - domain[0]);\r\n          domain[0] = min;\r\n      }\r\n      if (max <= domain[1]) {\r\n          domain[0] = +domain[0] - (domain[1] - max);\r\n          domain[1] = max;\r\n      }\r\n      return domain;\r\n  };\n\n  ChartInternal.prototype.drag = function (mouse) {\r\n      var $$ = this, config = $$.config, main = $$.main, d3 = $$.d3;\r\n      var sx, sy, mx, my, minX, maxX, minY, maxY;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      if (!config.data_selection_multiple) {\r\n          return;\r\n      } // skip when single selection because drag is used for multiple selection\r\n      sx = $$.dragStart[0];\r\n      sy = $$.dragStart[1];\r\n      mx = mouse[0];\r\n      my = mouse[1];\r\n      minX = Math.min(sx, mx);\r\n      maxX = Math.max(sx, mx);\r\n      minY = config.data_selection_grouped ? $$.margin.top : Math.min(sy, my);\r\n      maxY = config.data_selection_grouped ? $$.height : Math.max(sy, my);\r\n      main\r\n          .select('.' + CLASS.dragarea)\r\n          .attr('x', minX)\r\n          .attr('y', minY)\r\n          .attr('width', maxX - minX)\r\n          .attr('height', maxY - minY);\r\n      // TODO: binary search when multiple xs\r\n      main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          if (!config.data_selection_isselectable(d)) {\r\n              return;\r\n          }\r\n          var shape = d3.select(this), isSelected = shape.classed(CLASS.SELECTED), isIncluded = shape.classed(CLASS.INCLUDED), _x, _y, _w, _h, toggle, isWithin = false, box;\r\n          if (shape.classed(CLASS.circle)) {\r\n              _x = shape.attr('cx') * 1;\r\n              _y = shape.attr('cy') * 1;\r\n              toggle = $$.togglePoint;\r\n              isWithin = minX < _x && _x < maxX && minY < _y && _y < maxY;\r\n          }\r\n          else if (shape.classed(CLASS.bar)) {\r\n              box = getPathBox(this);\r\n              _x = box.x;\r\n              _y = box.y;\r\n              _w = box.width;\r\n              _h = box.height;\r\n              toggle = $$.togglePath;\r\n              isWithin =\r\n                  !(maxX < _x || _x + _w < minX) && !(maxY < _y || _y + _h < minY);\r\n          }\r\n          else {\r\n              // line/area selection not supported yet\r\n              return;\r\n          }\r\n          if (isWithin ^ isIncluded) {\r\n              shape.classed(CLASS.INCLUDED, !isIncluded);\r\n              // TODO: included/unincluded callback here\r\n              shape.classed(CLASS.SELECTED, !isSelected);\r\n              toggle.call($$, !isSelected, shape, d, i);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.dragstart = function (mouse) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      $$.dragStart = mouse;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('rect')\r\n          .attr('class', CLASS.dragarea)\r\n          .style('opacity', 0.1);\r\n      $$.dragging = true;\r\n  };\r\n  ChartInternal.prototype.dragend = function () {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      $$.main\r\n          .select('.' + CLASS.dragarea)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.main.selectAll('.' + CLASS.shape).classed(CLASS.INCLUDED, false);\r\n      $$.dragging = false;\r\n  };\n\n  ChartInternal.prototype.getYFormat = function (forArc) {\r\n      var $$ = this, formatForY = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.yFormat, formatForY2 = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.y2Format;\r\n      return function (v, ratio, id) {\r\n          var format = $$.axis.getId(id) === 'y2' ? formatForY2 : formatForY;\r\n          return format.call($$, v, ratio);\r\n      };\r\n  };\r\n  ChartInternal.prototype.yFormat = function (v) {\r\n      var $$ = this, config = $$.config, format = config.axis_y_tick_format\r\n          ? config.axis_y_tick_format\r\n          : $$.defaultValueFormat;\r\n      return format(v);\r\n  };\r\n  ChartInternal.prototype.y2Format = function (v) {\r\n      var $$ = this, config = $$.config, format = config.axis_y2_tick_format\r\n          ? config.axis_y2_tick_format\r\n          : $$.defaultValueFormat;\r\n      return format(v);\r\n  };\r\n  ChartInternal.prototype.defaultValueFormat = function (v) {\r\n      return isValue(v) ? +v : '';\r\n  };\r\n  ChartInternal.prototype.defaultArcValueFormat = function (v, ratio) {\r\n      return (ratio * 100).toFixed(1) + '%';\r\n  };\r\n  ChartInternal.prototype.dataLabelFormat = function (targetId) {\r\n      var $$ = this, data_labels = $$.config.data_labels, format, defaultFormat = function (v) {\r\n          return isValue(v) ? +v : '';\r\n      };\r\n      // find format according to axis id\r\n      if (typeof data_labels.format === 'function') {\r\n          format = data_labels.format;\r\n      }\r\n      else if (typeof data_labels.format === 'object') {\r\n          if (data_labels.format[targetId]) {\r\n              format =\r\n                  data_labels.format[targetId] === true\r\n                      ? defaultFormat\r\n                      : data_labels.format[targetId];\r\n          }\r\n          else {\r\n              format = function () {\r\n                  return '';\r\n              };\r\n          }\r\n      }\r\n      else {\r\n          format = defaultFormat;\r\n      }\r\n      return format;\r\n  };\n\n  ChartInternal.prototype.initGrid = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      $$.grid = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForGrid)\r\n          .attr('class', CLASS.grid);\r\n      if (config.grid_x_show) {\r\n          $$.grid.append('g').attr('class', CLASS.xgrids);\r\n      }\r\n      if (config.grid_y_show) {\r\n          $$.grid.append('g').attr('class', CLASS.ygrids);\r\n      }\r\n      if (config.grid_focus_show) {\r\n          $$.grid\r\n              .append('g')\r\n              .attr('class', CLASS.xgridFocus)\r\n              .append('line')\r\n              .attr('class', CLASS.xgridFocus);\r\n      }\r\n      $$.xgrid = d3.selectAll([]);\r\n      if (!config.grid_lines_front) {\r\n          $$.initGridLines();\r\n      }\r\n  };\r\n  ChartInternal.prototype.initGridLines = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.gridLines = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForGrid)\r\n          .attr('class', CLASS.grid + ' ' + CLASS.gridLines);\r\n      $$.gridLines.append('g').attr('class', CLASS.xgridLines);\r\n      $$.gridLines.append('g').attr('class', CLASS.ygridLines);\r\n      $$.xgridLines = d3.selectAll([]);\r\n  };\r\n  ChartInternal.prototype.updateXGrid = function (withoutUpdate) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, xgridData = $$.generateGridData(config.grid_x_type, $$.x), tickOffset = $$.isCategorized() ? $$.xAxis.tickOffset() : 0;\r\n      $$.xgridAttr = config.axis_rotated\r\n          ? {\r\n              x1: 0,\r\n              x2: $$.width,\r\n              y1: function (d) {\r\n                  return $$.x(d) - tickOffset;\r\n              },\r\n              y2: function (d) {\r\n                  return $$.x(d) - tickOffset;\r\n              }\r\n          }\r\n          : {\r\n              x1: function (d) {\r\n                  return $$.x(d) + tickOffset;\r\n              },\r\n              x2: function (d) {\r\n                  return $$.x(d) + tickOffset;\r\n              },\r\n              y1: 0,\r\n              y2: $$.height\r\n          };\r\n      $$.xgridAttr.opacity = function () {\r\n          var pos = +d3.select(this).attr(config.axis_rotated ? 'y1' : 'x1');\r\n          return pos === (config.axis_rotated ? $$.height : 0) ? 0 : 1;\r\n      };\r\n      var xgrid = $$.main\r\n          .select('.' + CLASS.xgrids)\r\n          .selectAll('.' + CLASS.xgrid)\r\n          .data(xgridData);\r\n      var xgridEnter = xgrid\r\n          .enter()\r\n          .append('line')\r\n          .attr('class', CLASS.xgrid)\r\n          .attr('x1', $$.xgridAttr.x1)\r\n          .attr('x2', $$.xgridAttr.x2)\r\n          .attr('y1', $$.xgridAttr.y1)\r\n          .attr('y2', $$.xgridAttr.y2)\r\n          .style('opacity', 0);\r\n      $$.xgrid = xgridEnter.merge(xgrid);\r\n      if (!withoutUpdate) {\r\n          $$.xgrid\r\n              .attr('x1', $$.xgridAttr.x1)\r\n              .attr('x2', $$.xgridAttr.x2)\r\n              .attr('y1', $$.xgridAttr.y1)\r\n              .attr('y2', $$.xgridAttr.y2)\r\n              .style('opacity', $$.xgridAttr.opacity);\r\n      }\r\n      xgrid.exit().remove();\r\n  };\r\n  ChartInternal.prototype.updateYGrid = function () {\r\n      var $$ = this, config = $$.config, gridValues = $$.yAxis.tickValues() || $$.y.ticks(config.grid_y_ticks);\r\n      var ygrid = $$.main\r\n          .select('.' + CLASS.ygrids)\r\n          .selectAll('.' + CLASS.ygrid)\r\n          .data(gridValues);\r\n      var ygridEnter = ygrid\r\n          .enter()\r\n          .append('line')\r\n          // TODO: x1, x2, y1, y2, opacity need to be set here maybe\r\n          .attr('class', CLASS.ygrid);\r\n      $$.ygrid = ygridEnter.merge(ygrid);\r\n      $$.ygrid\r\n          .attr('x1', config.axis_rotated ? $$.y : 0)\r\n          .attr('x2', config.axis_rotated ? $$.y : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : $$.y)\r\n          .attr('y2', config.axis_rotated ? $$.height : $$.y);\r\n      ygrid.exit().remove();\r\n      $$.smoothLines($$.ygrid, 'grid');\r\n  };\r\n  ChartInternal.prototype.gridTextAnchor = function (d) {\r\n      return d.position ? d.position : 'end';\r\n  };\r\n  ChartInternal.prototype.gridTextDx = function (d) {\r\n      return d.position === 'start' ? 4 : d.position === 'middle' ? 0 : -4;\r\n  };\r\n  ChartInternal.prototype.xGridTextX = function (d) {\r\n      return d.position === 'start'\r\n          ? -this.height\r\n          : d.position === 'middle'\r\n              ? -this.height / 2\r\n              : 0;\r\n  };\r\n  ChartInternal.prototype.yGridTextX = function (d) {\r\n      return d.position === 'start'\r\n          ? 0\r\n          : d.position === 'middle'\r\n              ? this.width / 2\r\n              : this.width;\r\n  };\r\n  ChartInternal.prototype.updateGrid = function (duration) {\r\n      var $$ = this, main = $$.main, config = $$.config, xgridLine, xgridLineEnter, ygridLine, ygridLineEnter, xv = $$.xv.bind($$), yv = $$.yv.bind($$), xGridTextX = $$.xGridTextX.bind($$), yGridTextX = $$.yGridTextX.bind($$);\r\n      // hide if arc type\r\n      $$.grid.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\r\n      main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\r\n      if (config.grid_x_show) {\r\n          $$.updateXGrid();\r\n      }\r\n      xgridLine = main\r\n          .select('.' + CLASS.xgridLines)\r\n          .selectAll('.' + CLASS.xgridLine)\r\n          .data(config.grid_x_lines);\r\n      // enter\r\n      xgridLineEnter = xgridLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.xgridLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      xgridLineEnter\r\n          .append('line')\r\n          .attr('x1', config.axis_rotated ? 0 : xv)\r\n          .attr('x2', config.axis_rotated ? $$.width : xv)\r\n          .attr('y1', config.axis_rotated ? xv : 0)\r\n          .attr('y2', config.axis_rotated ? xv : $$.height)\r\n          .style('opacity', 0);\r\n      xgridLineEnter\r\n          .append('text')\r\n          .attr('text-anchor', $$.gridTextAnchor)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .attr('x', config.axis_rotated ? yGridTextX : xGridTextX)\r\n          .attr('y', xv)\r\n          .attr('dx', $$.gridTextDx)\r\n          .attr('dy', -5)\r\n          .style('opacity', 0);\r\n      // udpate\r\n      $$.xgridLines = xgridLineEnter.merge(xgridLine);\r\n      // done in d3.transition() of the end of this function\r\n      // exit\r\n      xgridLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Y-Grid\r\n      if (config.grid_y_show) {\r\n          $$.updateYGrid();\r\n      }\r\n      ygridLine = main\r\n          .select('.' + CLASS.ygridLines)\r\n          .selectAll('.' + CLASS.ygridLine)\r\n          .data(config.grid_y_lines);\r\n      // enter\r\n      ygridLineEnter = ygridLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.ygridLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      ygridLineEnter\r\n          .append('line')\r\n          .attr('x1', config.axis_rotated ? yv : 0)\r\n          .attr('x2', config.axis_rotated ? yv : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : yv)\r\n          .attr('y2', config.axis_rotated ? $$.height : yv)\r\n          .style('opacity', 0);\r\n      ygridLineEnter\r\n          .append('text')\r\n          .attr('text-anchor', $$.gridTextAnchor)\r\n          .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\r\n          .attr('x', config.axis_rotated ? xGridTextX : yGridTextX)\r\n          .attr('y', yv)\r\n          .attr('dx', $$.gridTextDx)\r\n          .attr('dy', -5)\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.ygridLines = ygridLineEnter.merge(ygridLine);\r\n      $$.ygridLines\r\n          .select('line')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x1', config.axis_rotated ? yv : 0)\r\n          .attr('x2', config.axis_rotated ? yv : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : yv)\r\n          .attr('y2', config.axis_rotated ? $$.height : yv)\r\n          .style('opacity', 1);\r\n      $$.ygridLines\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', config.axis_rotated ? $$.xGridTextX.bind($$) : $$.yGridTextX.bind($$))\r\n          .attr('y', yv)\r\n          .text(function (d) {\r\n          return d.text;\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      ygridLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawGrid = function (withTransition, transition) {\r\n      var $$ = this, config = $$.config, xv = $$.xv.bind($$), lines = $$.xgridLines.select('line'), texts = $$.xgridLines.select('text');\r\n      return [\r\n          (withTransition ? lines.transition(transition) : lines)\r\n              .attr('x1', config.axis_rotated ? 0 : xv)\r\n              .attr('x2', config.axis_rotated ? $$.width : xv)\r\n              .attr('y1', config.axis_rotated ? xv : 0)\r\n              .attr('y2', config.axis_rotated ? xv : $$.height)\r\n              .style('opacity', 1),\r\n          (withTransition ? texts.transition(transition) : texts)\r\n              .attr('x', config.axis_rotated ? $$.yGridTextX.bind($$) : $$.xGridTextX.bind($$))\r\n              .attr('y', xv)\r\n              .text(function (d) {\r\n              return d.text;\r\n          })\r\n              .style('opacity', 1)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.showXGridFocus = function (selectedData) {\r\n      var $$ = this, config = $$.config, dataToShow = selectedData.filter(function (d) {\r\n          return d && isValue(d.value);\r\n      }), focusEl = $$.main.selectAll('line.' + CLASS.xgridFocus), xx = $$.xx.bind($$);\r\n      if (!config.tooltip_show) {\r\n          return;\r\n      }\r\n      // Hide when stanford plot exists\r\n      if ($$.hasType('stanford') || $$.hasArcType()) {\r\n          return;\r\n      }\r\n      focusEl\r\n          .style('visibility', 'visible')\r\n          .data([dataToShow[0]])\r\n          .attr(config.axis_rotated ? 'y1' : 'x1', xx)\r\n          .attr(config.axis_rotated ? 'y2' : 'x2', xx);\r\n      $$.smoothLines(focusEl, 'grid');\r\n  };\r\n  ChartInternal.prototype.hideXGridFocus = function () {\r\n      this.main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\r\n  };\r\n  ChartInternal.prototype.updateXgridFocus = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.main\r\n          .select('line.' + CLASS.xgridFocus)\r\n          .attr('x1', config.axis_rotated ? 0 : -10)\r\n          .attr('x2', config.axis_rotated ? $$.width : -10)\r\n          .attr('y1', config.axis_rotated ? -10 : 0)\r\n          .attr('y2', config.axis_rotated ? -10 : $$.height);\r\n  };\r\n  ChartInternal.prototype.generateGridData = function (type, scale) {\r\n      var $$ = this, gridData = [], xDomain, firstYear, lastYear, i, tickNum = $$.main\r\n          .select('.' + CLASS.axisX)\r\n          .selectAll('.tick')\r\n          .size();\r\n      if (type === 'year') {\r\n          xDomain = $$.getXDomain();\r\n          firstYear = xDomain[0].getFullYear();\r\n          lastYear = xDomain[1].getFullYear();\r\n          for (i = firstYear; i <= lastYear; i++) {\r\n              gridData.push(new Date(i + '-01-01 00:00:00'));\r\n          }\r\n      }\r\n      else {\r\n          gridData = scale.ticks(10);\r\n          if (gridData.length > tickNum) {\r\n              // use only int\r\n              gridData = gridData.filter(function (d) {\r\n                  return ('' + d).indexOf('.') < 0;\r\n              });\r\n          }\r\n      }\r\n      return gridData;\r\n  };\r\n  ChartInternal.prototype.getGridFilterToRemove = function (params) {\r\n      return params\r\n          ? function (line) {\r\n              var found = false;\r\n              [].concat(params).forEach(function (param) {\r\n                  if (('value' in param && line.value === param.value) ||\r\n                      ('class' in param && line['class'] === param['class'])) {\r\n                      found = true;\r\n                  }\r\n              });\r\n              return found;\r\n          }\r\n          : function () {\r\n              return true;\r\n          };\r\n  };\r\n  ChartInternal.prototype.removeGridLines = function (params, forX) {\r\n      var $$ = this, config = $$.config, toRemove = $$.getGridFilterToRemove(params), toShow = function (line) {\r\n          return !toRemove(line);\r\n      }, classLines = forX ? CLASS.xgridLines : CLASS.ygridLines, classLine = forX ? CLASS.xgridLine : CLASS.ygridLine;\r\n      $$.main\r\n          .select('.' + classLines)\r\n          .selectAll('.' + classLine)\r\n          .filter(toRemove)\r\n          .transition()\r\n          .duration(config.transition_duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      if (forX) {\r\n          config.grid_x_lines = config.grid_x_lines.filter(toShow);\r\n      }\r\n      else {\r\n          config.grid_y_lines = config.grid_y_lines.filter(toShow);\r\n      }\r\n  };\n\n  ChartInternal.prototype.initEventRect = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.eventRects)\r\n          .style('fill-opacity', 0);\r\n      $$.eventRect = $$.main\r\n          .select('.' + CLASS.eventRects)\r\n          .append('rect')\r\n          .attr('class', CLASS.eventRect);\r\n      // event rect handle zoom event as well\r\n      if (config.zoom_enabled && $$.zoom) {\r\n          $$.eventRect.call($$.zoom).on('dblclick.zoom', null);\r\n          if (config.zoom_initialRange) {\r\n              // WORKAROUND: Add transition to apply transform immediately when no subchart\r\n              $$.eventRect\r\n                  .transition()\r\n                  .duration(0)\r\n                  .call($$.zoom.transform, $$.zoomTransform(config.zoom_initialRange));\r\n          }\r\n      }\r\n  };\r\n  ChartInternal.prototype.redrawEventRect = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      function mouseout() {\r\n          $$.svg.select('.' + CLASS.eventRect).style('cursor', null);\r\n          $$.hideXGridFocus();\r\n          $$.hideTooltip();\r\n          $$.unexpandCircles();\r\n          $$.unexpandBars();\r\n      }\r\n      var isHoveringDataPoint = function (mouse, closest) {\r\n          return closest &&\r\n              ($$.isBarType(closest.id) ||\r\n                  $$.dist(closest, mouse) < config.point_sensitivity);\r\n      };\r\n      var withName = function (d) { return (d ? $$.addName(Object.assign({}, d)) : null); };\r\n      // rects for mouseover\r\n      $$.main\r\n          .select('.' + CLASS.eventRects)\r\n          .style('cursor', config.zoom_enabled\r\n          ? config.axis_rotated\r\n              ? 'ns-resize'\r\n              : 'ew-resize'\r\n          : null);\r\n      $$.eventRect\r\n          .attr('x', 0)\r\n          .attr('y', 0)\r\n          .attr('width', $$.width)\r\n          .attr('height', $$.height)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function () {\r\n              if (!config) {\r\n                  return;\r\n              } // chart is destroyed\r\n              if ($$.hasArcType()) {\r\n                  return;\r\n              }\r\n              if ($$.mouseover) {\r\n                  config.data_onmouseout.call($$.api, $$.mouseover);\r\n                  $$.mouseover = undefined;\r\n              }\r\n              mouseout();\r\n          }\r\n          : null)\r\n          .on('mousemove', config.interaction_enabled\r\n          ? function () {\r\n              // do nothing when dragging\r\n              if ($$.dragging) {\r\n                  return;\r\n              }\r\n              var targetsToShow = $$.getTargetsToShow();\r\n              // do nothing if arc type\r\n              if ($$.hasArcType(targetsToShow)) {\r\n                  return;\r\n              }\r\n              var mouse = d3.mouse(this);\r\n              var closest = withName($$.findClosestFromTargets(targetsToShow, mouse));\r\n              var isMouseCloseToDataPoint = isHoveringDataPoint(mouse, closest);\r\n              // ensure onmouseout is always called if mousemove switch between 2 targets\r\n              if ($$.mouseover &&\r\n                  (!closest ||\r\n                      closest.id !== $$.mouseover.id ||\r\n                      closest.index !== $$.mouseover.index)) {\r\n                  config.data_onmouseout.call($$.api, $$.mouseover);\r\n                  $$.mouseover = undefined;\r\n              }\r\n              if (closest && !$$.mouseover) {\r\n                  config.data_onmouseover.call($$.api, closest);\r\n                  $$.mouseover = closest;\r\n              }\r\n              // show cursor as pointer if we're hovering a data point close enough\r\n              $$.svg\r\n                  .select('.' + CLASS.eventRect)\r\n                  .style('cursor', isMouseCloseToDataPoint ? 'pointer' : null);\r\n              // if tooltip not grouped, we want to display only data from closest data point\r\n              var showSingleDataPoint = !config.tooltip_grouped || $$.hasType('stanford', targetsToShow);\r\n              // find data to highlight\r\n              var selectedData;\r\n              if (showSingleDataPoint) {\r\n                  if (closest) {\r\n                      selectedData = [closest];\r\n                  }\r\n              }\r\n              else {\r\n                  var closestByX = void 0;\r\n                  if (closest) {\r\n                      // reuse closest value\r\n                      closestByX = closest;\r\n                  }\r\n                  else {\r\n                      // try to find the closest value by X values from the mouse position\r\n                      var mouseX = config.axis_rotated ? mouse[1] : mouse[0];\r\n                      closestByX = $$.findClosestFromTargetsByX(targetsToShow, $$.x.invert(mouseX));\r\n                  }\r\n                  // highlight all data for this 'x' value\r\n                  if (closestByX) {\r\n                      selectedData = $$.filterByX(targetsToShow, closestByX.x);\r\n                  }\r\n              }\r\n              // ensure we have data to show\r\n              if (!selectedData || selectedData.length === 0) {\r\n                  return mouseout();\r\n              }\r\n              // inject names for each point\r\n              selectedData = selectedData.map(withName);\r\n              // show tooltip\r\n              $$.showTooltip(selectedData, this);\r\n              // expand points\r\n              if (config.point_focus_expand_enabled) {\r\n                  $$.unexpandCircles();\r\n                  selectedData.forEach(function (d) {\r\n                      $$.expandCircles(d.index, d.id, false);\r\n                  });\r\n              }\r\n              // expand bars\r\n              $$.unexpandBars();\r\n              selectedData.forEach(function (d) {\r\n                  $$.expandBars(d.index, d.id, false);\r\n              });\r\n              // Show xgrid focus line\r\n              $$.showXGridFocus(selectedData);\r\n          }\r\n          : null)\r\n          .on('click', config.interaction_enabled\r\n          ? function () {\r\n              var targetsToShow = $$.getTargetsToShow();\r\n              if ($$.hasArcType(targetsToShow)) {\r\n                  return;\r\n              }\r\n              var mouse = d3.mouse(this);\r\n              var closest = withName($$.findClosestFromTargets(targetsToShow, mouse));\r\n              if (!isHoveringDataPoint(mouse, closest)) {\r\n                  return;\r\n              }\r\n              // select if selection enabled\r\n              var sameXData;\r\n              if (!config.data_selection_grouped || $$.isStanfordType(closest)) {\r\n                  sameXData = [closest];\r\n              }\r\n              else {\r\n                  sameXData = $$.filterByX(targetsToShow, closest.x);\r\n              }\r\n              // toggle selected state\r\n              sameXData.forEach(function (d) {\r\n                  $$.main\r\n                      .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(d.id))\r\n                      .selectAll('.' + CLASS.shape + '-' + d.index)\r\n                      .each(function () {\r\n                      if (config.data_selection_grouped ||\r\n                          $$.isWithinShape(this, d)) {\r\n                          $$.toggleShape(this, d, d.index);\r\n                      }\r\n                  });\r\n              });\r\n              // call data_onclick on the closest data point\r\n              if (closest) {\r\n                  var shape = $$.main\r\n                      .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(closest.id))\r\n                      .select('.' + CLASS.shape + '-' + closest.index);\r\n                  config.data_onclick.call($$.api, closest, shape.node());\r\n              }\r\n          }\r\n          : null)\r\n          .call(config.interaction_enabled && config.data_selection_draggable && $$.drag\r\n          ? d3\r\n              .drag()\r\n              .on('drag', function () {\r\n              $$.drag(d3.mouse(this));\r\n          })\r\n              .on('start', function () {\r\n              $$.dragstart(d3.mouse(this));\r\n          })\r\n              .on('end', function () {\r\n              $$.dragend();\r\n          })\r\n          : function () { });\r\n  };\r\n  ChartInternal.prototype.getMousePosition = function (data) {\r\n      var $$ = this;\r\n      return [$$.x(data.x), $$.getYScale(data.id)(data.value)];\r\n  };\r\n  ChartInternal.prototype.dispatchEvent = function (type, mouse) {\r\n      var $$ = this, selector = '.' + CLASS.eventRect, eventRect = $$.main.select(selector).node(), box = eventRect.getBoundingClientRect(), x = box.left + (mouse ? mouse[0] : 0), y = box.top + (mouse ? mouse[1] : 0), event = document.createEvent('MouseEvents');\r\n      event.initMouseEvent(type, true, true, window, 0, x, y, x, y, false, false, false, false, 0, null);\r\n      eventRect.dispatchEvent(event);\r\n  };\n\n  ChartInternal.prototype.initLegend = function () {\r\n      var $$ = this;\r\n      $$.legendItemTextBox = {};\r\n      $$.legendHasRendered = false;\r\n      $$.legend = $$.svg.append('g').attr('transform', $$.getTranslate('legend'));\r\n      if (!$$.config.legend_show) {\r\n          $$.legend.style('visibility', 'hidden');\r\n          $$.hiddenLegendIds = $$.mapToIds($$.data.targets);\r\n          return;\r\n      }\r\n      // MEMO: call here to update legend box and tranlate for all\r\n      // MEMO: translate will be updated by this, so transform not needed in updateLegend()\r\n      $$.updateLegendWithDefaults();\r\n  };\r\n  ChartInternal.prototype.updateLegendWithDefaults = function () {\r\n      var $$ = this;\r\n      $$.updateLegend($$.mapToIds($$.data.targets), {\r\n          withTransform: false,\r\n          withTransitionForTransform: false,\r\n          withTransition: false\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateSizeForLegend = function (legendHeight, legendWidth) {\r\n      var $$ = this, config = $$.config, insetLegendPosition = {\r\n          top: $$.isLegendTop\r\n              ? $$.getCurrentPaddingTop() + config.legend_inset_y + 5.5\r\n              : $$.currentHeight -\r\n                  legendHeight -\r\n                  $$.getCurrentPaddingBottom() -\r\n                  config.legend_inset_y,\r\n          left: $$.isLegendLeft\r\n              ? $$.getCurrentPaddingLeft() + config.legend_inset_x + 0.5\r\n              : $$.currentWidth -\r\n                  legendWidth -\r\n                  $$.getCurrentPaddingRight() -\r\n                  config.legend_inset_x +\r\n                  0.5\r\n      };\r\n      $$.margin3 = {\r\n          top: $$.isLegendRight\r\n              ? 0\r\n              : $$.isLegendInset\r\n                  ? insetLegendPosition.top\r\n                  : $$.currentHeight - legendHeight,\r\n          right: NaN,\r\n          bottom: 0,\r\n          left: $$.isLegendRight\r\n              ? $$.currentWidth - legendWidth\r\n              : $$.isLegendInset\r\n                  ? insetLegendPosition.left\r\n                  : 0\r\n      };\r\n  };\r\n  ChartInternal.prototype.transformLegend = function (withTransition) {\r\n      var $$ = this;\r\n      (withTransition ? $$.legend.transition() : $$.legend).attr('transform', $$.getTranslate('legend'));\r\n  };\r\n  ChartInternal.prototype.updateLegendStep = function (step) {\r\n      this.legendStep = step;\r\n  };\r\n  ChartInternal.prototype.updateLegendItemWidth = function (w) {\r\n      this.legendItemWidth = w;\r\n  };\r\n  ChartInternal.prototype.updateLegendItemHeight = function (h) {\r\n      this.legendItemHeight = h;\r\n  };\r\n  ChartInternal.prototype.getLegendWidth = function () {\r\n      var $$ = this;\r\n      return $$.config.legend_show\r\n          ? $$.isLegendRight || $$.isLegendInset\r\n              ? $$.legendItemWidth * ($$.legendStep + 1)\r\n              : $$.currentWidth\r\n          : 0;\r\n  };\r\n  ChartInternal.prototype.getLegendHeight = function () {\r\n      var $$ = this, h = 0;\r\n      if ($$.config.legend_show) {\r\n          if ($$.isLegendRight) {\r\n              h = $$.currentHeight;\r\n          }\r\n          else {\r\n              h = Math.max(20, $$.legendItemHeight) * ($$.legendStep + 1);\r\n          }\r\n      }\r\n      return h;\r\n  };\r\n  ChartInternal.prototype.opacityForLegend = function (legendItem) {\r\n      return legendItem.classed(CLASS.legendItemHidden) ? null : 1;\r\n  };\r\n  ChartInternal.prototype.opacityForUnfocusedLegend = function (legendItem) {\r\n      return legendItem.classed(CLASS.legendItemHidden) ? null : 0.3;\r\n  };\r\n  ChartInternal.prototype.toggleFocusLegend = function (targetIds, focus) {\r\n      var $$ = this;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .filter(function (id) {\r\n          return targetIds.indexOf(id) >= 0;\r\n      })\r\n          .classed(CLASS.legendItemFocused, focus)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', function () {\r\n          var opacity = focus ? $$.opacityForLegend : $$.opacityForUnfocusedLegend;\r\n          return opacity.call($$, $$.d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.revertLegend = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .classed(CLASS.legendItemFocused, false)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', function () {\r\n          return $$.opacityForLegend(d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.showLegend = function (targetIds) {\r\n      var $$ = this, config = $$.config;\r\n      if (!config.legend_show) {\r\n          config.legend_show = true;\r\n          $$.legend.style('visibility', 'visible');\r\n          if (!$$.legendHasRendered) {\r\n              $$.updateLegendWithDefaults();\r\n          }\r\n      }\r\n      $$.removeHiddenLegendIds(targetIds);\r\n      $$.legend\r\n          .selectAll($$.selectorLegends(targetIds))\r\n          .style('visibility', 'visible')\r\n          .transition()\r\n          .style('opacity', function () {\r\n          return $$.opacityForLegend($$.d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.hideLegend = function (targetIds) {\r\n      var $$ = this, config = $$.config;\r\n      if (config.legend_show && isEmpty(targetIds)) {\r\n          config.legend_show = false;\r\n          $$.legend.style('visibility', 'hidden');\r\n      }\r\n      $$.addHiddenLegendIds(targetIds);\r\n      $$.legend\r\n          .selectAll($$.selectorLegends(targetIds))\r\n          .style('opacity', 0)\r\n          .style('visibility', 'hidden');\r\n  };\r\n  ChartInternal.prototype.clearLegendItemTextBoxCache = function () {\r\n      this.legendItemTextBox = {};\r\n  };\r\n  ChartInternal.prototype.updateLegend = function (targetIds, options, transitions) {\r\n      var $$ = this, config = $$.config;\r\n      var xForLegend, xForLegendText, xForLegendRect, yForLegend, yForLegendText, yForLegendRect, x1ForLegendTile, x2ForLegendTile, yForLegendTile;\r\n      var paddingTop = 4, paddingRight = 10, maxWidth = 0, maxHeight = 0, posMin = 10, tileWidth = config.legend_item_tile_width + 5;\r\n      var l, totalLength = 0, offsets = {}, widths = {}, heights = {}, margins = [0], steps = {}, step = 0;\r\n      var withTransition, withTransitionForTransform;\r\n      var texts, rects, tiles, background;\r\n      // Skip elements when their name is set to null\r\n      targetIds = targetIds.filter(function (id) {\r\n          return !isDefined(config.data_names[id]) || config.data_names[id] !== null;\r\n      });\r\n      options = options || {};\r\n      withTransition = getOption(options, 'withTransition', true);\r\n      withTransitionForTransform = getOption(options, 'withTransitionForTransform', true);\r\n      function getTextBox(textElement, id) {\r\n          if (!$$.legendItemTextBox[id]) {\r\n              $$.legendItemTextBox[id] = $$.getTextRect(textElement.textContent, CLASS.legendItem, textElement);\r\n          }\r\n          return $$.legendItemTextBox[id];\r\n      }\r\n      function updatePositions(textElement, id, index) {\r\n          var reset = index === 0, isLast = index === targetIds.length - 1, box = getTextBox(textElement, id), itemWidth = box.width +\r\n              tileWidth +\r\n              (isLast && !($$.isLegendRight || $$.isLegendInset) ? 0 : paddingRight) +\r\n              config.legend_padding, itemHeight = box.height + paddingTop, itemLength = $$.isLegendRight || $$.isLegendInset ? itemHeight : itemWidth, areaLength = $$.isLegendRight || $$.isLegendInset\r\n              ? $$.getLegendHeight()\r\n              : $$.getLegendWidth(), margin, maxLength;\r\n          // MEMO: care about condifion of step, totalLength\r\n          function updateValues(id, withoutStep) {\r\n              if (!withoutStep) {\r\n                  margin = (areaLength - totalLength - itemLength) / 2;\r\n                  if (margin < posMin) {\r\n                      margin = (areaLength - itemLength) / 2;\r\n                      totalLength = 0;\r\n                      step++;\r\n                  }\r\n              }\r\n              steps[id] = step;\r\n              margins[step] = $$.isLegendInset ? 10 : margin;\r\n              offsets[id] = totalLength;\r\n              totalLength += itemLength;\r\n          }\r\n          if (reset) {\r\n              totalLength = 0;\r\n              step = 0;\r\n              maxWidth = 0;\r\n              maxHeight = 0;\r\n          }\r\n          if (config.legend_show && !$$.isLegendToShow(id)) {\r\n              widths[id] = heights[id] = steps[id] = offsets[id] = 0;\r\n              return;\r\n          }\r\n          widths[id] = itemWidth;\r\n          heights[id] = itemHeight;\r\n          if (!maxWidth || itemWidth >= maxWidth) {\r\n              maxWidth = itemWidth;\r\n          }\r\n          if (!maxHeight || itemHeight >= maxHeight) {\r\n              maxHeight = itemHeight;\r\n          }\r\n          maxLength = $$.isLegendRight || $$.isLegendInset ? maxHeight : maxWidth;\r\n          if (config.legend_equally) {\r\n              Object.keys(widths).forEach(function (id) {\r\n                  widths[id] = maxWidth;\r\n              });\r\n              Object.keys(heights).forEach(function (id) {\r\n                  heights[id] = maxHeight;\r\n              });\r\n              margin = (areaLength - maxLength * targetIds.length) / 2;\r\n              if (margin < posMin) {\r\n                  totalLength = 0;\r\n                  step = 0;\r\n                  targetIds.forEach(function (id) {\r\n                      updateValues(id);\r\n                  });\r\n              }\r\n              else {\r\n                  updateValues(id, true);\r\n              }\r\n          }\r\n          else {\r\n              updateValues(id);\r\n          }\r\n      }\r\n      if ($$.isLegendInset) {\r\n          step = config.legend_inset_step\r\n              ? config.legend_inset_step\r\n              : targetIds.length;\r\n          $$.updateLegendStep(step);\r\n      }\r\n      if ($$.isLegendRight) {\r\n          xForLegend = function (id) {\r\n              return maxWidth * steps[id];\r\n          };\r\n          yForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n      }\r\n      else if ($$.isLegendInset) {\r\n          xForLegend = function (id) {\r\n              return maxWidth * steps[id] + 10;\r\n          };\r\n          yForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n      }\r\n      else {\r\n          xForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n          yForLegend = function (id) {\r\n              return maxHeight * steps[id];\r\n          };\r\n      }\r\n      xForLegendText = function (id, i) {\r\n          return xForLegend(id, i) + 4 + config.legend_item_tile_width;\r\n      };\r\n      yForLegendText = function (id, i) {\r\n          return yForLegend(id, i) + 9;\r\n      };\r\n      xForLegendRect = function (id, i) {\r\n          return xForLegend(id, i);\r\n      };\r\n      yForLegendRect = function (id, i) {\r\n          return yForLegend(id, i) - 5;\r\n      };\r\n      x1ForLegendTile = function (id, i) {\r\n          return xForLegend(id, i) - 2;\r\n      };\r\n      x2ForLegendTile = function (id, i) {\r\n          return xForLegend(id, i) - 2 + config.legend_item_tile_width;\r\n      };\r\n      yForLegendTile = function (id, i) {\r\n          return yForLegend(id, i) + 4;\r\n      };\r\n      // Define g for legend area\r\n      l = $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .data(targetIds)\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (id) {\r\n          return $$.generateClass(CLASS.legendItem, id);\r\n      })\r\n          .style('visibility', function (id) {\r\n          return $$.isLegendToShow(id) ? 'visible' : 'hidden';\r\n      })\r\n          .style('cursor', function () {\r\n          return config.interaction_enabled ? 'pointer' : 'auto';\r\n      })\r\n          .on('click', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onclick) {\r\n                  config.legend_item_onclick.call($$, id);\r\n              }\r\n              else {\r\n                  if ($$.d3.event.altKey) {\r\n                      $$.api.hide();\r\n                      $$.api.show(id);\r\n                  }\r\n                  else {\r\n                      $$.api.toggle(id);\r\n                      $$.isTargetToShow(id) ? $$.api.focus(id) : $$.api.revert();\r\n                  }\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseover', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onmouseover) {\r\n                  config.legend_item_onmouseover.call($$, id);\r\n              }\r\n              else {\r\n                  $$.d3.select(this).classed(CLASS.legendItemFocused, true);\r\n                  if (!$$.transiting && $$.isTargetToShow(id)) {\r\n                      $$.api.focus(id);\r\n                  }\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onmouseout) {\r\n                  config.legend_item_onmouseout.call($$, id);\r\n              }\r\n              else {\r\n                  $$.d3.select(this).classed(CLASS.legendItemFocused, false);\r\n                  $$.api.revert();\r\n              }\r\n          }\r\n          : null);\r\n      l.append('text')\r\n          .text(function (id) {\r\n          return isDefined(config.data_names[id]) ? config.data_names[id] : id;\r\n      })\r\n          .each(function (id, i) {\r\n          updatePositions(this, id, i);\r\n      })\r\n          .style('pointer-events', 'none')\r\n          .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendText : -200)\r\n          .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendText);\r\n      l.append('rect')\r\n          .attr('class', CLASS.legendItemEvent)\r\n          .style('fill-opacity', 0)\r\n          .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendRect : -200)\r\n          .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendRect);\r\n      l.append('line')\r\n          .attr('class', CLASS.legendItemTile)\r\n          .style('stroke', $$.color)\r\n          .style('pointer-events', 'none')\r\n          .attr('x1', $$.isLegendRight || $$.isLegendInset ? x1ForLegendTile : -200)\r\n          .attr('y1', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\r\n          .attr('x2', $$.isLegendRight || $$.isLegendInset ? x2ForLegendTile : -200)\r\n          .attr('y2', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\r\n          .attr('stroke-width', config.legend_item_tile_height);\r\n      // Set background for inset legend\r\n      background = $$.legend.select('.' + CLASS.legendBackground + ' rect');\r\n      if ($$.isLegendInset && maxWidth > 0 && background.size() === 0) {\r\n          background = $$.legend\r\n              .insert('g', '.' + CLASS.legendItem)\r\n              .attr('class', CLASS.legendBackground)\r\n              .append('rect');\r\n      }\r\n      texts = $$.legend\r\n          .selectAll('text')\r\n          .data(targetIds)\r\n          .text(function (id) {\r\n          return isDefined(config.data_names[id]) ? config.data_names[id] : id;\r\n      }) // MEMO: needed for update\r\n          .each(function (id, i) {\r\n          updatePositions(this, id, i);\r\n      });\r\n      (withTransition ? texts.transition() : texts)\r\n          .attr('x', xForLegendText)\r\n          .attr('y', yForLegendText);\r\n      rects = $$.legend.selectAll('rect.' + CLASS.legendItemEvent).data(targetIds);\r\n      (withTransition ? rects.transition() : rects)\r\n          .attr('width', function (id) {\r\n          return widths[id];\r\n      })\r\n          .attr('height', function (id) {\r\n          return heights[id];\r\n      })\r\n          .attr('x', xForLegendRect)\r\n          .attr('y', yForLegendRect);\r\n      tiles = $$.legend.selectAll('line.' + CLASS.legendItemTile).data(targetIds);\r\n      (withTransition ? tiles.transition() : tiles)\r\n          .style('stroke', $$.levelColor\r\n          ? function (id) {\r\n              return $$.levelColor($$.cache[id].values.reduce(function (total, item) {\r\n                  return total + item.value;\r\n              }, 0));\r\n          }\r\n          : $$.color)\r\n          .attr('x1', x1ForLegendTile)\r\n          .attr('y1', yForLegendTile)\r\n          .attr('x2', x2ForLegendTile)\r\n          .attr('y2', yForLegendTile);\r\n      if (background) {\r\n          (withTransition ? background.transition() : background)\r\n              .attr('height', $$.getLegendHeight() - 12)\r\n              .attr('width', maxWidth * (step + 1) + 10);\r\n      }\r\n      // toggle legend state\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .classed(CLASS.legendItemHidden, function (id) {\r\n          return !$$.isTargetToShow(id);\r\n      });\r\n      // Update all to reflect change of legend\r\n      $$.updateLegendItemWidth(maxWidth);\r\n      $$.updateLegendItemHeight(maxHeight);\r\n      $$.updateLegendStep(step);\r\n      // Update size and scale\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      $$.updateSvgSize();\r\n      // Update g positions\r\n      $$.transformAll(withTransitionForTransform, transitions);\r\n      $$.legendHasRendered = true;\r\n  };\n\n  ChartInternal.prototype.initRegion = function () {\r\n      var $$ = this;\r\n      $$.region = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.regions);\r\n  };\r\n  ChartInternal.prototype.updateRegion = function (duration) {\r\n      var $$ = this, config = $$.config;\r\n      // hide if arc type\r\n      $$.region.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\r\n      var mainRegion = $$.main\r\n          .select('.' + CLASS.regions)\r\n          .selectAll('.' + CLASS.region)\r\n          .data(config.regions);\r\n      var g = mainRegion.enter().append('g');\r\n      g.append('rect')\r\n          .attr('x', $$.regionX.bind($$))\r\n          .attr('y', $$.regionY.bind($$))\r\n          .attr('width', $$.regionWidth.bind($$))\r\n          .attr('height', $$.regionHeight.bind($$))\r\n          .style('fill-opacity', function (d) {\r\n          return isValue(d.opacity) ? d.opacity : 0.1;\r\n      });\r\n      g.append('text').text($$.labelRegion.bind($$));\r\n      $$.mainRegion = g.merge(mainRegion).attr('class', $$.classRegion.bind($$));\r\n      mainRegion\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawRegion = function (withTransition, transition) {\r\n      var $$ = this, regions = $$.mainRegion, regionLabels = $$.mainRegion.selectAll('text');\r\n      return [\r\n          (withTransition ? regions.transition(transition) : regions)\r\n              .attr('x', $$.regionX.bind($$))\r\n              .attr('y', $$.regionY.bind($$))\r\n              .attr('width', $$.regionWidth.bind($$))\r\n              .attr('height', $$.regionHeight.bind($$))\r\n              .style('fill-opacity', function (d) {\r\n              return isValue(d.opacity) ? d.opacity : 0.1;\r\n          }),\r\n          (withTransition ? regionLabels.transition(transition) : regionLabels)\r\n              .attr('x', $$.labelOffsetX.bind($$))\r\n              .attr('y', $$.labelOffsetY.bind($$))\r\n              .attr('transform', $$.labelTransform.bind($$))\r\n              .attr('style', 'text-anchor: left;')\r\n      ];\r\n  };\r\n  ChartInternal.prototype.regionX = function (d) {\r\n      var $$ = this, config = $$.config, xPos, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          xPos = config.axis_rotated ? ('start' in d ? yScale(d.start) : 0) : 0;\r\n      }\r\n      else {\r\n          xPos = config.axis_rotated\r\n              ? 0\r\n              : 'start' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start)\r\n                  : 0;\r\n      }\r\n      return xPos;\r\n  };\r\n  ChartInternal.prototype.regionY = function (d) {\r\n      var $$ = this, config = $$.config, yPos, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          yPos = config.axis_rotated ? 0 : 'end' in d ? yScale(d.end) : 0;\r\n      }\r\n      else {\r\n          yPos = config.axis_rotated\r\n              ? 'start' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start)\r\n                  : 0\r\n              : 0;\r\n      }\r\n      return yPos;\r\n  };\r\n  ChartInternal.prototype.regionWidth = function (d) {\r\n      var $$ = this, config = $$.config, start = $$.regionX(d), end, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          end = config.axis_rotated\r\n              ? 'end' in d\r\n                  ? yScale(d.end)\r\n                  : $$.width\r\n              : $$.width;\r\n      }\r\n      else {\r\n          end = config.axis_rotated\r\n              ? $$.width\r\n              : 'end' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end)\r\n                  : $$.width;\r\n      }\r\n      return end < start ? 0 : end - start;\r\n  };\r\n  ChartInternal.prototype.regionHeight = function (d) {\r\n      var $$ = this, config = $$.config, start = this.regionY(d), end, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          end = config.axis_rotated\r\n              ? $$.height\r\n              : 'start' in d\r\n                  ? yScale(d.start)\r\n                  : $$.height;\r\n      }\r\n      else {\r\n          end = config.axis_rotated\r\n              ? 'end' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end)\r\n                  : $$.height\r\n              : $$.height;\r\n      }\r\n      return end < start ? 0 : end - start;\r\n  };\r\n  ChartInternal.prototype.isRegionOnX = function (d) {\r\n      return !d.axis || d.axis === 'x';\r\n  };\r\n  ChartInternal.prototype.labelRegion = function (d) {\r\n      return 'label' in d ? d.label : '';\r\n  };\r\n  ChartInternal.prototype.labelTransform = function (d) {\r\n      return 'vertical' in d && d.vertical ? 'rotate(90)' : '';\r\n  };\r\n  ChartInternal.prototype.labelOffsetX = function (d) {\r\n      var paddingX = 'paddingX' in d ? d.paddingX : 3;\r\n      var paddingY = 'paddingY' in d ? d.paddingY : 3;\r\n      return 'vertical' in d && d.vertical\r\n          ? this.regionY(d) + paddingY\r\n          : this.regionX(d) + paddingX;\r\n  };\r\n  ChartInternal.prototype.labelOffsetY = function (d) {\r\n      var paddingX = 'paddingX' in d ? d.paddingX : 3;\r\n      var paddingY = 'paddingY' in d ? d.paddingY : 3;\r\n      return 'vertical' in d && d.vertical\r\n          ? -(this.regionX(d) + paddingX)\r\n          : this.regionY(d) + 10 + paddingY;\r\n  };\n\n  function c3LogScale(d3, linearScale, logScale) {\r\n      var PROJECTION = [0.01, 10];\r\n      if (!linearScale) {\r\n          linearScale = d3.scaleLinear();\r\n          linearScale.range(PROJECTION);\r\n      }\r\n      if (!logScale) {\r\n          logScale = d3.scaleLog();\r\n          logScale.domain(PROJECTION);\r\n          logScale.nice();\r\n      }\r\n      // copied from https://github.com/compute-io/logspace\r\n      function logspace(a, b, len) {\r\n          var arr, end, tmp, d;\r\n          if (arguments.length < 3) {\r\n              len = 10;\r\n          }\r\n          else {\r\n              if (len === 0) {\r\n                  return [];\r\n              }\r\n          }\r\n          // Calculate the increment:\r\n          end = len - 1;\r\n          d = (b - a) / end;\r\n          // Build the output array...\r\n          arr = new Array(len);\r\n          tmp = a;\r\n          arr[0] = Math.pow(10, tmp);\r\n          for (var i = 1; i < end; i++) {\r\n              tmp += d;\r\n              arr[i] = Math.pow(10, tmp);\r\n          }\r\n          arr[end] = Math.pow(10, b);\r\n          return arr;\r\n      }\r\n      function scale(x) {\r\n          return logScale(linearScale(x));\r\n      }\r\n      scale.domain = function (x) {\r\n          if (!arguments.length) {\r\n              return linearScale.domain();\r\n          }\r\n          linearScale.domain(x);\r\n          return scale;\r\n      };\r\n      scale.range = function (x) {\r\n          if (!arguments.length) {\r\n              return logScale.range();\r\n          }\r\n          logScale.range(x);\r\n          return scale;\r\n      };\r\n      scale.ticks = function (m) {\r\n          return logspace(-2, 1, m || 10).map(function (v) {\r\n              return linearScale.invert(v);\r\n          });\r\n      };\r\n      scale.copy = function () {\r\n          return c3LogScale(d3, linearScale.copy(), logScale.copy());\r\n      };\r\n      return scale;\r\n  }\r\n  ChartInternal.prototype.getScale = function (min, max, forTimeseries) {\r\n      return (forTimeseries ? this.d3.scaleTime() : this.d3.scaleLinear()).range([\r\n          min,\r\n          max\r\n      ]);\r\n  };\r\n  ChartInternal.prototype.getX = function (min, max, domain, offset) {\r\n      var $$ = this, scale = $$.getScale(min, max, $$.isTimeSeries()), _scale = domain ? scale.domain(domain) : scale, key;\r\n      // Define customized scale if categorized axis\r\n      if ($$.isCategorized()) {\r\n          offset =\r\n              offset ||\r\n                  function () {\r\n                      return 0;\r\n                  };\r\n          scale = function (d, raw) {\r\n              var v = _scale(d) + offset(d);\r\n              return raw ? v : Math.ceil(v);\r\n          };\r\n      }\r\n      else {\r\n          scale = function (d, raw) {\r\n              var v = _scale(d);\r\n              return raw ? v : Math.ceil(v);\r\n          };\r\n      }\r\n      // define functions\r\n      for (key in _scale) {\r\n          scale[key] = _scale[key];\r\n      }\r\n      scale.orgDomain = function () {\r\n          return _scale.domain();\r\n      };\r\n      // define custom domain() for categorized axis\r\n      if ($$.isCategorized()) {\r\n          scale.domain = function (domain) {\r\n              if (!arguments.length) {\r\n                  domain = this.orgDomain();\r\n                  return [domain[0], domain[1] + 1];\r\n              }\r\n              _scale.domain(domain);\r\n              return scale;\r\n          };\r\n      }\r\n      return scale;\r\n  };\r\n  /**\r\n   * Creates and configures a D3 scale instance for the given type.\r\n   *\r\n   * By defaults it returns a Linear scale.\r\n   *\r\n   * @param {String} type Type of d3-scale to create. Type can be 'linear', 'time', 'timeseries' or 'log'.\r\n   * @param {Array} domain The scale domain such as [from, to]\r\n   * @param {Array} range The scale's range such as [from, to]\r\n   *\r\n   * @return A d3-scale instance\r\n   */\r\n  ChartInternal.prototype.getY = function (type, domain, range) {\r\n      var scale;\r\n      if (type === 'timeseries' || type === 'time') {\r\n          scale = this.d3.scaleTime();\r\n      }\r\n      else if (type === 'log') {\r\n          scale = c3LogScale(this.d3);\r\n      }\r\n      else if (type === 'linear' || type === undefined) {\r\n          scale = this.d3.scaleLinear();\r\n      }\r\n      else {\r\n          throw new Error(\"Invalid Y axis type: \\\"\" + type + \"\\\"\");\r\n      }\r\n      if (domain) {\r\n          scale.domain(domain);\r\n      }\r\n      if (range) {\r\n          scale.range(range);\r\n      }\r\n      return scale;\r\n  };\r\n  ChartInternal.prototype.getYScale = function (id) {\r\n      return this.axis.getId(id) === 'y2' ? this.y2 : this.y;\r\n  };\r\n  ChartInternal.prototype.getSubYScale = function (id) {\r\n      return this.axis.getId(id) === 'y2' ? this.subY2 : this.subY;\r\n  };\r\n  ChartInternal.prototype.updateScales = function () {\r\n      var $$ = this, config = $$.config, forInit = !$$.x;\r\n      // update edges\r\n      $$.xMin = config.axis_rotated ? 1 : 0;\r\n      $$.xMax = config.axis_rotated ? $$.height : $$.width;\r\n      $$.yMin = config.axis_rotated ? 0 : $$.height;\r\n      $$.yMax = config.axis_rotated ? $$.width : 1;\r\n      $$.subXMin = $$.xMin;\r\n      $$.subXMax = $$.xMax;\r\n      $$.subYMin = config.axis_rotated ? 0 : $$.height2;\r\n      $$.subYMax = config.axis_rotated ? $$.width2 : 1;\r\n      // update scales\r\n      $$.x = $$.getX($$.xMin, $$.xMax, forInit ? undefined : $$.x.orgDomain(), function () {\r\n          return $$.xAxis.tickOffset();\r\n      });\r\n      $$.y = $$.getY(config.axis_y_type, forInit ? config.axis_y_default : $$.y.domain(), [$$.yMin, $$.yMax]);\r\n      $$.y2 = $$.getY(config.axis_y2_type, forInit ? config.axis_y2_default : $$.y2.domain(), [$$.yMin, $$.yMax]);\r\n      $$.subX = $$.getX($$.xMin, $$.xMax, $$.orgXDomain, function (d) {\r\n          return d % 1 ? 0 : $$.subXAxis.tickOffset();\r\n      });\r\n      $$.subY = $$.getY(config.axis_y_type, forInit ? config.axis_y_default : $$.subY.domain(), [$$.subYMin, $$.subYMax]);\r\n      $$.subY2 = $$.getY(config.axis_y2_type, forInit ? config.axis_y2_default : $$.subY2.domain(), [$$.subYMin, $$.subYMax]);\r\n      // update axes\r\n      $$.xAxisTickFormat = $$.axis.getXAxisTickFormat();\r\n      $$.xAxisTickValues = $$.axis.getXAxisTickValues();\r\n      $$.yAxisTickValues = $$.axis.getYAxisTickValues();\r\n      $$.y2AxisTickValues = $$.axis.getY2AxisTickValues();\r\n      $$.xAxis = $$.axis.getXAxis($$.x, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\r\n      $$.subXAxis = $$.axis.getXAxis($$.subX, $$.subXOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\r\n      $$.yAxis = $$.axis.getYAxis('y', $$.y, $$.yOrient, $$.yAxisTickValues, config.axis_y_tick_outer);\r\n      $$.y2Axis = $$.axis.getYAxis('y2', $$.y2, $$.y2Orient, $$.y2AxisTickValues, config.axis_y2_tick_outer);\r\n      // Set initialized scales to brush and zoom\r\n      if (!forInit) {\r\n          if ($$.brush) {\r\n              $$.brush.updateScale($$.subX);\r\n          }\r\n      }\r\n      // update for arc\r\n      if ($$.updateArc) {\r\n          $$.updateArc();\r\n      }\r\n  };\n\n  ChartInternal.prototype.selectPoint = function (target, d, i) {\r\n      var $$ = this, config = $$.config, cx = (config.axis_rotated ? $$.circleY : $$.circleX).bind($$), cy = (config.axis_rotated ? $$.circleX : $$.circleY).bind($$), r = $$.pointSelectR.bind($$);\r\n      config.data_onselected.call($$.api, d, target.node());\r\n      // add selected-circle on low layer g\r\n      $$.main\r\n          .select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id))\r\n          .selectAll('.' + CLASS.selectedCircle + '-' + i)\r\n          .data([d])\r\n          .enter()\r\n          .append('circle')\r\n          .attr('class', function () {\r\n          return $$.generateClass(CLASS.selectedCircle, i);\r\n      })\r\n          .attr('cx', cx)\r\n          .attr('cy', cy)\r\n          .attr('stroke', function () {\r\n          return $$.color(d);\r\n      })\r\n          .attr('r', function (d) {\r\n          return $$.pointSelectR(d) * 1.4;\r\n      })\r\n          .transition()\r\n          .duration(100)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.unselectPoint = function (target, d, i) {\r\n      var $$ = this;\r\n      $$.config.data_onunselected.call($$.api, d, target.node());\r\n      // remove selected-circle from low layer g\r\n      $$.main\r\n          .select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id))\r\n          .selectAll('.' + CLASS.selectedCircle + '-' + i)\r\n          .transition()\r\n          .duration(100)\r\n          .attr('r', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.togglePoint = function (selected, target, d, i) {\r\n      selected ? this.selectPoint(target, d, i) : this.unselectPoint(target, d, i);\r\n  };\r\n  ChartInternal.prototype.selectPath = function (target, d) {\r\n      var $$ = this;\r\n      $$.config.data_onselected.call($$, d, target.node());\r\n      if ($$.config.interaction_brighten) {\r\n          target\r\n              .transition()\r\n              .duration(100)\r\n              .style('fill', function () {\r\n              return $$.d3.rgb($$.color(d)).brighter(0.75);\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.unselectPath = function (target, d) {\r\n      var $$ = this;\r\n      $$.config.data_onunselected.call($$, d, target.node());\r\n      if ($$.config.interaction_brighten) {\r\n          target\r\n              .transition()\r\n              .duration(100)\r\n              .style('fill', function () {\r\n              return $$.color(d);\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.togglePath = function (selected, target, d, i) {\r\n      selected ? this.selectPath(target, d, i) : this.unselectPath(target, d, i);\r\n  };\r\n  ChartInternal.prototype.getToggle = function (that, d) {\r\n      var $$ = this, toggle;\r\n      if (that.nodeName === 'circle') {\r\n          if ($$.isStepType(d)) {\r\n              // circle is hidden in step chart, so treat as within the click area\r\n              toggle = function () { }; // TODO: how to select step chart?\r\n          }\r\n          else {\r\n              toggle = $$.togglePoint;\r\n          }\r\n      }\r\n      else if (that.nodeName === 'path') {\r\n          toggle = $$.togglePath;\r\n      }\r\n      return toggle;\r\n  };\r\n  ChartInternal.prototype.toggleShape = function (that, d, i) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, shape = d3.select(that), isSelected = shape.classed(CLASS.SELECTED), toggle = $$.getToggle(that, d).bind($$);\r\n      if (config.data_selection_enabled && config.data_selection_isselectable(d)) {\r\n          if (!config.data_selection_multiple) {\r\n              $$.main\r\n                  .selectAll('.' +\r\n                  CLASS.shapes +\r\n                  (config.data_selection_grouped\r\n                      ? $$.getTargetSelectorSuffix(d.id)\r\n                      : ''))\r\n                  .selectAll('.' + CLASS.shape)\r\n                  .each(function (d, i) {\r\n                  var shape = d3.select(this);\r\n                  if (shape.classed(CLASS.SELECTED)) {\r\n                      toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n                  }\r\n              });\r\n          }\r\n          shape.classed(CLASS.SELECTED, !isSelected);\r\n          toggle(!isSelected, shape, d, i);\r\n      }\r\n  };\n\n  ChartInternal.prototype.initBar = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartBars);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForBar = function (targets) {\r\n      var $$ = this, config = $$.config, mainBars, mainBarEnter, classChartBar = $$.classChartBar.bind($$), classBars = $$.classBars.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainBars = $$.main\r\n          .select('.' + CLASS.chartBars)\r\n          .selectAll('.' + CLASS.chartBar)\r\n          .data(targets)\r\n          .attr('class', function (d) {\r\n          return classChartBar(d) + classFocus(d);\r\n      });\r\n      mainBarEnter = mainBars\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartBar)\r\n          .style('pointer-events', 'none');\r\n      // Bars for each data\r\n      mainBarEnter\r\n          .append('g')\r\n          .attr('class', classBars)\r\n          .style('cursor', function (d) {\r\n          return config.data_selection_isselectable(d) ? 'pointer' : null;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateBar = function (durationForExit) {\r\n      var $$ = this, barData = $$.barData.bind($$), classBar = $$.classBar.bind($$), initialOpacity = $$.initialOpacity.bind($$), color = function (d) {\r\n          return $$.color(d.id);\r\n      };\r\n      var mainBar = $$.main\r\n          .selectAll('.' + CLASS.bars)\r\n          .selectAll('.' + CLASS.bar)\r\n          .data(barData);\r\n      var mainBarEnter = mainBar\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', classBar)\r\n          .style('stroke', color)\r\n          .style('fill', color);\r\n      $$.mainBar = mainBarEnter.merge(mainBar).style('opacity', initialOpacity);\r\n      mainBar\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawBar = function (drawBar, withTransition, transition) {\r\n      var $$ = this;\r\n      return [\r\n          (withTransition ? this.mainBar.transition(transition) : this.mainBar)\r\n              .attr('d', drawBar)\r\n              .style('stroke', this.color)\r\n              .style('fill', this.color)\r\n              .style('opacity', function (d) { return ($$.isTargetToShow(d.id) ? 1 : 0); })\r\n      ];\r\n  };\r\n  ChartInternal.prototype.getBarW = function (axis, barTargetsNum) {\r\n      var $$ = this, config = $$.config, w = typeof config.bar_width === 'number'\r\n          ? config.bar_width\r\n          : barTargetsNum\r\n              ? (axis.tickInterval() * config.bar_width_ratio) / barTargetsNum\r\n              : 0;\r\n      return config.bar_width_max && w > config.bar_width_max\r\n          ? config.bar_width_max\r\n          : w;\r\n  };\r\n  ChartInternal.prototype.getBars = function (i, id) {\r\n      var $$ = this;\r\n      return (id\r\n          ? $$.main.selectAll('.' + CLASS.bars + $$.getTargetSelectorSuffix(id))\r\n          : $$.main).selectAll('.' + CLASS.bar + (isValue(i) ? '-' + i : ''));\r\n  };\r\n  ChartInternal.prototype.expandBars = function (i, id, reset) {\r\n      var $$ = this;\r\n      if (reset) {\r\n          $$.unexpandBars();\r\n      }\r\n      $$.getBars(i, id).classed(CLASS.EXPANDED, true);\r\n  };\r\n  ChartInternal.prototype.unexpandBars = function (i) {\r\n      var $$ = this;\r\n      $$.getBars(i).classed(CLASS.EXPANDED, false);\r\n  };\r\n  ChartInternal.prototype.generateDrawBar = function (barIndices, isSub) {\r\n      var $$ = this, config = $$.config, getPoints = $$.generateGetBarPoints(barIndices, isSub);\r\n      return function (d, i) {\r\n          // 4 points that make a bar\r\n          var points = getPoints(d, i);\r\n          // switch points if axis is rotated, not applicable for sub chart\r\n          var indexX = config.axis_rotated ? 1 : 0;\r\n          var indexY = config.axis_rotated ? 0 : 1;\r\n          var path = 'M ' +\r\n              points[0][indexX] +\r\n              ',' +\r\n              points[0][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[1][indexX] +\r\n              ',' +\r\n              points[1][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[2][indexX] +\r\n              ',' +\r\n              points[2][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[3][indexX] +\r\n              ',' +\r\n              points[3][indexY] +\r\n              ' ' +\r\n              'z';\r\n          return path;\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateGetBarPoints = function (barIndices, isSub) {\r\n      var $$ = this, axis = isSub ? $$.subXAxis : $$.xAxis, barTargetsNum = barIndices.__max__ + 1, barW = $$.getBarW(axis, barTargetsNum), barX = $$.getShapeX(barW, barTargetsNum, barIndices, !!isSub), barY = $$.getShapeY(!!isSub), barOffset = $$.getShapeOffset($$.isBarType, barIndices, !!isSub), barSpaceOffset = barW * ($$.config.bar_space / 2), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = barOffset(d, i) || y0, // offset is for stacked bar chart\r\n          posX = barX(d), posY = barY(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if ($$.config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          posY -= y0 - offset;\r\n          // 4 points that make a bar\r\n          return [\r\n              [posX + barSpaceOffset, offset],\r\n              [posX + barSpaceOffset, posY],\r\n              [posX + barW - barSpaceOffset, posY],\r\n              [posX + barW - barSpaceOffset, offset]\r\n          ];\r\n      };\r\n  };\r\n  /**\r\n   * Returns whether the data point is within the given bar shape.\r\n   *\r\n   * @param mouse\r\n   * @param barShape\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isWithinBar = function (mouse, barShape) {\r\n      return isWithinBox(mouse, getBBox(barShape), 2);\r\n  };\n\n  ChartInternal.prototype.getShapeIndices = function (typeFilter) {\r\n      var $$ = this, config = $$.config, indices = {}, i = 0, j, k;\r\n      $$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$)).forEach(function (d) {\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              if (config.data_groups[j].indexOf(d.id) < 0) {\r\n                  continue;\r\n              }\r\n              for (k = 0; k < config.data_groups[j].length; k++) {\r\n                  if (config.data_groups[j][k] in indices) {\r\n                      indices[d.id] = indices[config.data_groups[j][k]];\r\n                      break;\r\n                  }\r\n              }\r\n          }\r\n          if (isUndefined(indices[d.id])) {\r\n              indices[d.id] = i++;\r\n          }\r\n      });\r\n      indices.__max__ = i - 1;\r\n      return indices;\r\n  };\r\n  ChartInternal.prototype.getShapeX = function (offset, targetsNum, indices, isSub) {\r\n      var $$ = this, scale = isSub ? $$.subX : $$.x;\r\n      return function (d) {\r\n          var index = d.id in indices ? indices[d.id] : 0;\r\n          return d.x || d.x === 0 ? scale(d.x) - offset * (targetsNum / 2 - index) : 0;\r\n      };\r\n  };\r\n  ChartInternal.prototype.getShapeY = function (isSub) {\r\n      var $$ = this;\r\n      return function (d) {\r\n          var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id);\r\n          return scale($$.isTargetNormalized(d.id) ? $$.getRatio('index', d, true) : d.value);\r\n      };\r\n  };\r\n  ChartInternal.prototype.getShapeOffset = function (typeFilter, indices, isSub) {\r\n      var $$ = this, targets = $$.orderTargets($$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$))), targetIds = targets.map(function (t) {\r\n          return t.id;\r\n      });\r\n      return function (d, i) {\r\n          var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id), y0 = scale(0), offset = y0;\r\n          targets.forEach(function (t) {\r\n              var rowValues = $$.isStepType(d)\r\n                  ? $$.convertValuesToStep(t.values)\r\n                  : t.values;\r\n              var isTargetNormalized = $$.isTargetNormalized(d.id);\r\n              var values = rowValues.map(function (v) {\r\n                  return isTargetNormalized ? $$.getRatio('index', v, true) : v.value;\r\n              });\r\n              if (t.id === d.id || indices[t.id] !== indices[d.id]) {\r\n                  return;\r\n              }\r\n              if (targetIds.indexOf(t.id) < targetIds.indexOf(d.id)) {\r\n                  // check if the x values line up\r\n                  if (isUndefined(rowValues[i]) || +rowValues[i].x !== +d.x) {\r\n                      // \"+\" for timeseries\r\n                      // if not, try to find the value that does line up\r\n                      i = -1;\r\n                      rowValues.forEach(function (v, j) {\r\n                          var x1 = v.x.constructor === Date ? +v.x : v.x;\r\n                          var x2 = d.x.constructor === Date ? +d.x : d.x;\r\n                          if (x1 === x2) {\r\n                              i = j;\r\n                          }\r\n                      });\r\n                  }\r\n                  if (i in rowValues && rowValues[i].value * d.value >= 0) {\r\n                      offset += scale(values[i]) - y0;\r\n                  }\r\n              }\r\n          });\r\n          return offset;\r\n      };\r\n  };\r\n  ChartInternal.prototype.isWithinShape = function (that, d) {\r\n      var $$ = this, shape = $$.d3.select(that), isWithin;\r\n      if (!$$.isTargetToShow(d.id)) {\r\n          isWithin = false;\r\n      }\r\n      else if (that.nodeName === 'circle') {\r\n          isWithin = $$.isStepType(d)\r\n              ? $$.isWithinStep(that, $$.getYScale(d.id)(d.value))\r\n              : $$.isWithinCircle(that, $$.pointSelectR(d) * 1.5);\r\n      }\r\n      else if (that.nodeName === 'path') {\r\n          isWithin = shape.classed(CLASS.bar)\r\n              ? $$.isWithinBar($$.d3.mouse(that), that)\r\n              : true;\r\n      }\r\n      return isWithin;\r\n  };\r\n  ChartInternal.prototype.getInterpolate = function (d) {\r\n      var $$ = this, d3 = $$.d3, types = {\r\n          linear: d3.curveLinear,\r\n          'linear-closed': d3.curveLinearClosed,\r\n          basis: d3.curveBasis,\r\n          'basis-open': d3.curveBasisOpen,\r\n          'basis-closed': d3.curveBasisClosed,\r\n          bundle: d3.curveBundle,\r\n          cardinal: d3.curveCardinal,\r\n          'cardinal-open': d3.curveCardinalOpen,\r\n          'cardinal-closed': d3.curveCardinalClosed,\r\n          monotone: d3.curveMonotoneX,\r\n          step: d3.curveStep,\r\n          'step-before': d3.curveStepBefore,\r\n          'step-after': d3.curveStepAfter\r\n      }, type;\r\n      if ($$.isSplineType(d)) {\r\n          type = types[$$.config.spline_interpolation_type] || types.cardinal;\r\n      }\r\n      else if ($$.isStepType(d)) {\r\n          type = types[$$.config.line_step_type];\r\n      }\r\n      else {\r\n          type = types.linear;\r\n      }\r\n      return type;\r\n  };\n\n  ChartInternal.prototype.initLine = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartLines);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForLine = function (targets) {\r\n      var $$ = this, config = $$.config, mainLines, mainLineEnter, classChartLine = $$.classChartLine.bind($$), classLines = $$.classLines.bind($$), classAreas = $$.classAreas.bind($$), classCircles = $$.classCircles.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainLines = $$.main\r\n          .select('.' + CLASS.chartLines)\r\n          .selectAll('.' + CLASS.chartLine)\r\n          .data(targets)\r\n          .attr('class', function (d) {\r\n          return classChartLine(d) + classFocus(d);\r\n      });\r\n      mainLineEnter = mainLines\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartLine)\r\n          .style('opacity', 0)\r\n          .style('pointer-events', 'none');\r\n      // Lines for each data\r\n      mainLineEnter.append('g').attr('class', classLines);\r\n      // Areas\r\n      mainLineEnter.append('g').attr('class', classAreas);\r\n      // Circles for each data point on lines\r\n      mainLineEnter.append('g').attr('class', function (d) {\r\n          return $$.generateClass(CLASS.selectedCircles, d.id);\r\n      });\r\n      mainLineEnter\r\n          .append('g')\r\n          .attr('class', classCircles)\r\n          .style('cursor', function (d) {\r\n          return config.data_selection_isselectable(d) ? 'pointer' : null;\r\n      });\r\n      // Update date for selected circles\r\n      targets.forEach(function (t) {\r\n          $$.main\r\n              .selectAll('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(t.id))\r\n              .selectAll('.' + CLASS.selectedCircle)\r\n              .each(function (d) {\r\n              d.value = t.values[d.index].value;\r\n          });\r\n      });\r\n      // MEMO: can not keep same color...\r\n      //mainLineUpdate.exit().remove();\r\n  };\r\n  ChartInternal.prototype.updateLine = function (durationForExit) {\r\n      var $$ = this;\r\n      var mainLine = $$.main\r\n          .selectAll('.' + CLASS.lines)\r\n          .selectAll('.' + CLASS.line)\r\n          .data($$.lineData.bind($$));\r\n      var mainLineEnter = mainLine\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classLine.bind($$))\r\n          .style('stroke', $$.color);\r\n      $$.mainLine = mainLineEnter\r\n          .merge(mainLine)\r\n          .style('opacity', $$.initialOpacity.bind($$))\r\n          .style('shape-rendering', function (d) {\r\n          return $$.isStepType(d) ? 'crispEdges' : '';\r\n      })\r\n          .attr('transform', null);\r\n      mainLine\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawLine = function (drawLine, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainLine.transition(transition) : this.mainLine)\r\n              .attr('d', drawLine)\r\n              .style('stroke', this.color)\r\n              .style('opacity', 1)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.generateDrawLine = function (lineIndices, isSub) {\r\n      var $$ = this, config = $$.config, line = $$.d3.line(), getPoints = $$.generateGetLinePoints(lineIndices, isSub), yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale, xValue = function (d) {\r\n          return (isSub ? $$.subxx : $$.xx).call($$, d);\r\n      }, yValue = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[0][1]\r\n              : yScaleGetter.call($$, d.id)(d.value);\r\n      };\r\n      line = config.axis_rotated\r\n          ? line.x(yValue).y(xValue)\r\n          : line.x(xValue).y(yValue);\r\n      if (!config.line_connectNull) {\r\n          line = line.defined(function (d) {\r\n              return d.value != null;\r\n          });\r\n      }\r\n      return function (d) {\r\n          var values = config.line_connectNull\r\n              ? $$.filterRemoveNull(d.values)\r\n              : d.values, x = isSub ? $$.subX : $$.x, y = yScaleGetter.call($$, d.id), x0 = 0, y0 = 0, path;\r\n          if ($$.isLineType(d)) {\r\n              if (config.data_regions[d.id]) {\r\n                  path = $$.lineWithRegions(values, x, y, config.data_regions[d.id]);\r\n              }\r\n              else {\r\n                  if ($$.isStepType(d)) {\r\n                      values = $$.convertValuesToStep(values);\r\n                  }\r\n                  path = line.curve($$.getInterpolate(d))(values);\r\n              }\r\n          }\r\n          else {\r\n              if (values[0]) {\r\n                  x0 = x(values[0].x);\r\n                  y0 = y(values[0].value);\r\n              }\r\n              path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\r\n          }\r\n          return path ? path : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateGetLinePoints = function (lineIndices, isSub) {\r\n      // partial duplication of generateGetBarPoints\r\n      var $$ = this, config = $$.config, lineTargetsNum = lineIndices.__max__ + 1, x = $$.getShapeX(0, lineTargetsNum, lineIndices, !!isSub), y = $$.getShapeY(!!isSub), lineOffset = $$.getShapeOffset($$.isLineType, lineIndices, !!isSub), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = lineOffset(d, i) || y0, // offset is for stacked area chart\r\n          posX = x(d), posY = y(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if (config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          // 1 point that marks the line position\r\n          return [\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)] // needed for compatibility\r\n          ];\r\n      };\r\n  };\r\n  ChartInternal.prototype.lineWithRegions = function (d, x, y, _regions) {\r\n      var $$ = this, config = $$.config, prev = -1, i, j, s = 'M', sWithRegion, xp, yp, dx, dy, dd, diff, diffx2, xOffset = $$.isCategorized() ? 0.5 : 0, xValue, yValue, regions = [];\r\n      function isWithinRegions(x, regions) {\r\n          var i;\r\n          for (i = 0; i < regions.length; i++) {\r\n              if (regions[i].start < x && x <= regions[i].end) {\r\n                  return true;\r\n              }\r\n          }\r\n          return false;\r\n      }\r\n      // Check start/end of regions\r\n      if (isDefined(_regions)) {\r\n          for (i = 0; i < _regions.length; i++) {\r\n              regions[i] = {};\r\n              if (isUndefined(_regions[i].start)) {\r\n                  regions[i].start = d[0].x;\r\n              }\r\n              else {\r\n                  regions[i].start = $$.isTimeSeries()\r\n                      ? $$.parseDate(_regions[i].start)\r\n                      : _regions[i].start;\r\n              }\r\n              if (isUndefined(_regions[i].end)) {\r\n                  regions[i].end = d[d.length - 1].x;\r\n              }\r\n              else {\r\n                  regions[i].end = $$.isTimeSeries()\r\n                      ? $$.parseDate(_regions[i].end)\r\n                      : _regions[i].end;\r\n              }\r\n          }\r\n      }\r\n      // Set scales\r\n      xValue = config.axis_rotated\r\n          ? function (d) {\r\n              return y(d.value);\r\n          }\r\n          : function (d) {\r\n              return x(d.x);\r\n          };\r\n      yValue = config.axis_rotated\r\n          ? function (d) {\r\n              return x(d.x);\r\n          }\r\n          : function (d) {\r\n              return y(d.value);\r\n          };\r\n      // Define svg generator function for region\r\n      function generateM(points) {\r\n          return ('M' +\r\n              points[0][0] +\r\n              ' ' +\r\n              points[0][1] +\r\n              ' ' +\r\n              points[1][0] +\r\n              ' ' +\r\n              points[1][1]);\r\n      }\r\n      if ($$.isTimeSeries()) {\r\n          sWithRegion = function (d0, d1, j, diff) {\r\n              var x0 = d0.x.getTime(), x_diff = d1.x - d0.x, xv0 = new Date(x0 + x_diff * j), xv1 = new Date(x0 + x_diff * (j + diff)), points;\r\n              if (config.axis_rotated) {\r\n                  points = [\r\n                      [y(yp(j)), x(xv0)],\r\n                      [y(yp(j + diff)), x(xv1)]\r\n                  ];\r\n              }\r\n              else {\r\n                  points = [\r\n                      [x(xv0), y(yp(j))],\r\n                      [x(xv1), y(yp(j + diff))]\r\n                  ];\r\n              }\r\n              return generateM(points);\r\n          };\r\n      }\r\n      else {\r\n          sWithRegion = function (d0, d1, j, diff) {\r\n              var points;\r\n              if (config.axis_rotated) {\r\n                  points = [\r\n                      [y(yp(j), true), x(xp(j))],\r\n                      [y(yp(j + diff), true), x(xp(j + diff))]\r\n                  ];\r\n              }\r\n              else {\r\n                  points = [\r\n                      [x(xp(j), true), y(yp(j))],\r\n                      [x(xp(j + diff), true), y(yp(j + diff))]\r\n                  ];\r\n              }\r\n              return generateM(points);\r\n          };\r\n      }\r\n      // Generate\r\n      for (i = 0; i < d.length; i++) {\r\n          // Draw as normal\r\n          if (isUndefined(regions) || !isWithinRegions(d[i].x, regions)) {\r\n              s += ' ' + xValue(d[i]) + ' ' + yValue(d[i]);\r\n          }\r\n          // Draw with region // TODO: Fix for horizotal charts\r\n          else {\r\n              xp = $$.getScale(d[i - 1].x + xOffset, d[i].x + xOffset, $$.isTimeSeries());\r\n              yp = $$.getScale(d[i - 1].value, d[i].value);\r\n              dx = x(d[i].x) - x(d[i - 1].x);\r\n              dy = y(d[i].value) - y(d[i - 1].value);\r\n              dd = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\r\n              diff = 2 / dd;\r\n              diffx2 = diff * 2;\r\n              for (j = diff; j <= 1; j += diffx2) {\r\n                  s += sWithRegion(d[i - 1], d[i], j, diff);\r\n              }\r\n          }\r\n          prev = d[i].x;\r\n      }\r\n      return s;\r\n  };\r\n  ChartInternal.prototype.updateArea = function (durationForExit) {\r\n      var $$ = this, d3 = $$.d3;\r\n      var mainArea = $$.main\r\n          .selectAll('.' + CLASS.areas)\r\n          .selectAll('.' + CLASS.area)\r\n          .data($$.lineData.bind($$));\r\n      var mainAreaEnter = mainArea\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArea.bind($$))\r\n          .style('fill', $$.color)\r\n          .style('opacity', function () {\r\n          $$.orgAreaOpacity = +d3.select(this).style('opacity');\r\n          return 0;\r\n      });\r\n      $$.mainArea = mainAreaEnter\r\n          .merge(mainArea)\r\n          .style('opacity', $$.orgAreaOpacity);\r\n      mainArea\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawArea = function (drawArea, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainArea.transition(transition) : this.mainArea)\r\n              .attr('d', drawArea)\r\n              .style('fill', this.color)\r\n              .style('opacity', this.orgAreaOpacity)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.generateDrawArea = function (areaIndices, isSub) {\r\n      var $$ = this, config = $$.config, area = $$.d3.area(), getPoints = $$.generateGetAreaPoints(areaIndices, isSub), yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale, xValue = function (d) {\r\n          return (isSub ? $$.subxx : $$.xx).call($$, d);\r\n      }, value0 = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[0][1]\r\n              : yScaleGetter.call($$, d.id)($$.getAreaBaseValue(d.id));\r\n      }, value1 = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[1][1]\r\n              : yScaleGetter.call($$, d.id)(d.value);\r\n      };\r\n      area = config.axis_rotated\r\n          ? area\r\n              .x0(value0)\r\n              .x1(value1)\r\n              .y(xValue)\r\n          : area\r\n              .x(xValue)\r\n              .y0(config.area_above ? 0 : value0)\r\n              .y1(value1);\r\n      if (!config.line_connectNull) {\r\n          area = area.defined(function (d) {\r\n              return d.value !== null;\r\n          });\r\n      }\r\n      return function (d) {\r\n          var values = config.line_connectNull\r\n              ? $$.filterRemoveNull(d.values)\r\n              : d.values, x0 = 0, y0 = 0, path;\r\n          if ($$.isAreaType(d)) {\r\n              if ($$.isStepType(d)) {\r\n                  values = $$.convertValuesToStep(values);\r\n              }\r\n              path = area.curve($$.getInterpolate(d))(values);\r\n          }\r\n          else {\r\n              if (values[0]) {\r\n                  x0 = $$.x(values[0].x);\r\n                  y0 = $$.getYScale(d.id)(values[0].value);\r\n              }\r\n              path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\r\n          }\r\n          return path ? path : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.getAreaBaseValue = function () {\r\n      return 0;\r\n  };\r\n  ChartInternal.prototype.generateGetAreaPoints = function (areaIndices, isSub) {\r\n      // partial duplication of generateGetBarPoints\r\n      var $$ = this, config = $$.config, areaTargetsNum = areaIndices.__max__ + 1, x = $$.getShapeX(0, areaTargetsNum, areaIndices, !!isSub), y = $$.getShapeY(!!isSub), areaOffset = $$.getShapeOffset($$.isAreaType, areaIndices, !!isSub), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = areaOffset(d, i) || y0, // offset is for stacked area chart\r\n          posX = x(d), posY = y(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if (config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          // 1 point that marks the area position\r\n          return [\r\n              [posX, offset],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, offset] // needed for compatibility\r\n          ];\r\n      };\r\n  };\r\n  ChartInternal.prototype.updateCircle = function (cx, cy) {\r\n      var $$ = this;\r\n      var mainCircle = $$.main\r\n          .selectAll('.' + CLASS.circles)\r\n          .selectAll('.' + CLASS.circle)\r\n          .data($$.lineOrScatterOrStanfordData.bind($$));\r\n      var mainCircleEnter = mainCircle\r\n          .enter()\r\n          .append('circle')\r\n          .attr('shape-rendering', $$.isStanfordGraphType() ? 'crispEdges' : '')\r\n          .attr('class', $$.classCircle.bind($$))\r\n          .attr('cx', cx)\r\n          .attr('cy', cy)\r\n          .attr('r', $$.pointR.bind($$))\r\n          .style('color', $$.isStanfordGraphType() ? $$.getStanfordPointColor.bind($$) : $$.color);\r\n      $$.mainCircle = mainCircleEnter\r\n          .merge(mainCircle)\r\n          .style('opacity', $$.isStanfordGraphType() ? 1 : $$.initialOpacityForCircle.bind($$));\r\n      mainCircle.exit().style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawCircle = function (cx, cy, withTransition, transition) {\r\n      var $$ = this, selectedCircles = $$.main.selectAll('.' + CLASS.selectedCircle);\r\n      return [\r\n          (withTransition ? $$.mainCircle.transition(transition) : $$.mainCircle)\r\n              .style('opacity', this.opacityForCircle.bind($$))\r\n              .style('color', $$.isStanfordGraphType() ? $$.getStanfordPointColor.bind($$) : $$.color)\r\n              .attr('cx', cx)\r\n              .attr('cy', cy),\r\n          (withTransition ? selectedCircles.transition(transition) : selectedCircles)\r\n              .attr('cx', cx)\r\n              .attr('cy', cy)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.circleX = function (d) {\r\n      return d.x || d.x === 0 ? this.x(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.updateCircleY = function () {\r\n      var $$ = this, lineIndices, getPoints;\r\n      if ($$.config.data_groups.length > 0) {\r\n          (lineIndices = $$.getShapeIndices($$.isLineType)),\r\n              (getPoints = $$.generateGetLinePoints(lineIndices));\r\n          $$.circleY = function (d, i) {\r\n              return getPoints(d, i)[0][1];\r\n          };\r\n      }\r\n      else {\r\n          $$.circleY = function (d) {\r\n              return $$.getYScale(d.id)(d.value);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.getCircles = function (i, id) {\r\n      var $$ = this;\r\n      return (id\r\n          ? $$.main.selectAll('.' + CLASS.circles + $$.getTargetSelectorSuffix(id))\r\n          : $$.main).selectAll('.' + CLASS.circle + (isValue(i) ? '-' + i : ''));\r\n  };\r\n  ChartInternal.prototype.expandCircles = function (i, id, reset) {\r\n      var $$ = this, r = $$.pointExpandedR.bind($$);\r\n      if (reset) {\r\n          $$.unexpandCircles();\r\n      }\r\n      $$.getCircles(i, id)\r\n          .classed(CLASS.EXPANDED, true)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.unexpandCircles = function (i) {\r\n      var $$ = this, r = $$.pointR.bind($$);\r\n      $$.getCircles(i)\r\n          .filter(function () {\r\n          return $$.d3.select(this).classed(CLASS.EXPANDED);\r\n      })\r\n          .classed(CLASS.EXPANDED, false)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.pointR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      return $$.isStepType(d)\r\n          ? 0\r\n          : isFunction(config.point_r)\r\n              ? config.point_r(d)\r\n              : config.point_r;\r\n  };\r\n  ChartInternal.prototype.pointExpandedR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      if (config.point_focus_expand_enabled) {\r\n          return isFunction(config.point_focus_expand_r)\r\n              ? config.point_focus_expand_r(d)\r\n              : config.point_focus_expand_r\r\n                  ? config.point_focus_expand_r\r\n                  : $$.pointR(d) * 1.75;\r\n      }\r\n      else {\r\n          return $$.pointR(d);\r\n      }\r\n  };\r\n  ChartInternal.prototype.pointSelectR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      return isFunction(config.point_select_r)\r\n          ? config.point_select_r(d)\r\n          : config.point_select_r\r\n              ? config.point_select_r\r\n              : $$.pointR(d) * 4;\r\n  };\r\n  ChartInternal.prototype.isWithinCircle = function (that, r) {\r\n      var d3 = this.d3, mouse = d3.mouse(that), d3_this = d3.select(that), cx = +d3_this.attr('cx'), cy = +d3_this.attr('cy');\r\n      return Math.sqrt(Math.pow(cx - mouse[0], 2) + Math.pow(cy - mouse[1], 2)) < r;\r\n  };\r\n  ChartInternal.prototype.isWithinStep = function (that, y) {\r\n      return Math.abs(y - this.d3.mouse(that)[1]) < 30;\r\n  };\n\n  ChartInternal.prototype.getCurrentWidth = function () {\r\n      var $$ = this, config = $$.config;\r\n      return config.size_width ? config.size_width : $$.getParentWidth();\r\n  };\r\n  ChartInternal.prototype.getCurrentHeight = function () {\r\n      var $$ = this, config = $$.config, h = config.size_height ? config.size_height : $$.getParentHeight();\r\n      return h > 0\r\n          ? h\r\n          : 320 / ($$.hasType('gauge') && !config.gauge_fullCircle ? 2 : 1);\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingTop = function () {\r\n      var $$ = this, config = $$.config, padding = isValue(config.padding_top) ? config.padding_top : 0;\r\n      if ($$.title && $$.title.node()) {\r\n          padding += $$.getTitlePadding();\r\n      }\r\n      return padding;\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingBottom = function () {\r\n      var config = this.config;\r\n      return isValue(config.padding_bottom) ? config.padding_bottom : 0;\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingLeft = function (withoutRecompute) {\r\n      var $$ = this, config = $$.config;\r\n      if (isValue(config.padding_left)) {\r\n          return config.padding_left;\r\n      }\r\n      else if (config.axis_rotated) {\r\n          return !config.axis_x_show || config.axis_x_inner\r\n              ? 1\r\n              : Math.max(ceil10($$.getAxisWidthByAxisId('x', withoutRecompute)), 40);\r\n      }\r\n      else if (!config.axis_y_show || config.axis_y_inner) {\r\n          // && !config.axis_rotated\r\n          return $$.axis.getYAxisLabelPosition().isOuter ? 30 : 1;\r\n      }\r\n      else {\r\n          return ceil10($$.getAxisWidthByAxisId('y', withoutRecompute));\r\n      }\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingRight = function () {\r\n      var $$ = this, config = $$.config, padding = 0, defaultPadding = 10, legendWidthOnRight = $$.isLegendRight ? $$.getLegendWidth() + 20 : 0;\r\n      if (isValue(config.padding_right)) {\r\n          padding = config.padding_right + 1; // 1 is needed not to hide tick line\r\n      }\r\n      else if (config.axis_rotated) {\r\n          padding = defaultPadding + legendWidthOnRight;\r\n      }\r\n      else if (!config.axis_y2_show || config.axis_y2_inner) {\r\n          // && !config.axis_rotated\r\n          padding =\r\n              2 +\r\n                  legendWidthOnRight +\r\n                  ($$.axis.getY2AxisLabelPosition().isOuter ? 20 : 0);\r\n      }\r\n      else {\r\n          padding = ceil10($$.getAxisWidthByAxisId('y2')) + legendWidthOnRight;\r\n      }\r\n      if ($$.colorScale && $$.colorScale.node()) {\r\n          padding += $$.getColorScalePadding();\r\n      }\r\n      return padding;\r\n  };\r\n  ChartInternal.prototype.getParentRectValue = function (key) {\r\n      var parent = this.selectChart.node(), v;\r\n      while (parent && parent.tagName !== 'BODY') {\r\n          try {\r\n              v = parent.getBoundingClientRect()[key];\r\n          }\r\n          catch (e) {\r\n              if (key === 'width') {\r\n                  // In IE in certain cases getBoundingClientRect\r\n                  // will cause an \"unspecified error\"\r\n                  v = parent.offsetWidth;\r\n              }\r\n          }\r\n          if (v) {\r\n              break;\r\n          }\r\n          parent = parent.parentNode;\r\n      }\r\n      return v;\r\n  };\r\n  ChartInternal.prototype.getParentWidth = function () {\r\n      return this.getParentRectValue('width');\r\n  };\r\n  ChartInternal.prototype.getParentHeight = function () {\r\n      var h = this.selectChart.style('height');\r\n      return h.indexOf('px') > 0 ? +h.replace('px', '') : 0;\r\n  };\r\n  ChartInternal.prototype.getSvgLeft = function (withoutRecompute) {\r\n      var $$ = this, config = $$.config, hasLeftAxisRect = config.axis_rotated || (!config.axis_rotated && !config.axis_y_inner), leftAxisClass = config.axis_rotated ? CLASS.axisX : CLASS.axisY, leftAxis = $$.main.select('.' + leftAxisClass).node(), svgRect = leftAxis && hasLeftAxisRect\r\n          ? leftAxis.getBoundingClientRect()\r\n          : { right: 0 }, chartRect = $$.selectChart.node().getBoundingClientRect(), hasArc = $$.hasArcType(), svgLeft = svgRect.right -\r\n          chartRect.left -\r\n          (hasArc ? 0 : $$.getCurrentPaddingLeft(withoutRecompute));\r\n      return svgLeft > 0 ? svgLeft : 0;\r\n  };\r\n  ChartInternal.prototype.getAxisWidthByAxisId = function (id, withoutRecompute) {\r\n      var $$ = this, position = $$.axis.getLabelPositionById(id);\r\n      return ($$.axis.getMaxTickWidth(id, withoutRecompute) + (position.isInner ? 20 : 40));\r\n  };\r\n  ChartInternal.prototype.getHorizontalAxisHeight = function (axisId, isSubchart) {\r\n      var $$ = this, config = $$.config, h = 30;\r\n      if (axisId === 'x' && !(isDefined(isSubchart) && isSubchart ? config.subchart_axis_x_show : config.axis_x_show)) {\r\n          return 8;\r\n      }\r\n      if (axisId === 'x' && config.axis_x_height) {\r\n          return config.axis_x_height;\r\n      }\r\n      if (axisId === 'y' && !config.axis_y_show) {\r\n          return config.legend_show && !$$.isLegendRight && !$$.isLegendInset ? 10 : 1;\r\n      }\r\n      if (axisId === 'y2' && !config.axis_y2_show) {\r\n          return $$.rotated_padding_top;\r\n      }\r\n      // Calculate x axis height when tick rotated\r\n      if (axisId === 'x' && !config.axis_rotated && config.axis_x_tick_rotate) {\r\n          h =\r\n              30 +\r\n                  $$.axis.getMaxTickWidth(axisId) *\r\n                      Math.cos((Math.PI * (90 - Math.abs(config.axis_x_tick_rotate))) / 180);\r\n      }\r\n      // Calculate y axis height when tick rotated\r\n      if (axisId === 'y' && config.axis_rotated && config.axis_y_tick_rotate) {\r\n          h =\r\n              30 +\r\n                  $$.axis.getMaxTickWidth(axisId) *\r\n                      Math.cos((Math.PI * (90 - Math.abs(config.axis_y_tick_rotate))) / 180);\r\n      }\r\n      return (h +\r\n          ($$.axis.getLabelPositionById(axisId).isInner ? 0 : 10) +\r\n          (axisId === 'y2' ? -10 : 0));\r\n  };\n\n  ChartInternal.prototype.initBrush = function (scale) {\r\n      var $$ = this, d3 = $$.d3;\r\n      // TODO: dynamically change brushY/brushX according to axis_rotated.\r\n      $$.brush = ($$.config.axis_rotated ? d3.brushY() : d3.brushX())\r\n          .on('brush', function () {\r\n          var event = d3.event.sourceEvent;\r\n          if (event && event.type === 'zoom') {\r\n              return;\r\n          }\r\n          $$.redrawForBrush();\r\n      })\r\n          .on('end', function () {\r\n          var event = d3.event.sourceEvent;\r\n          if (event && event.type === 'zoom') {\r\n              return;\r\n          }\r\n          if ($$.brush.empty() && event && event.type !== 'end') {\r\n              $$.brush.clear();\r\n          }\r\n      });\r\n      $$.brush.updateExtent = function () {\r\n          var range = this.scale.range(), extent;\r\n          if ($$.config.axis_rotated) {\r\n              extent = [\r\n                  [0, range[0]],\r\n                  [$$.width2, range[1]]\r\n              ];\r\n          }\r\n          else {\r\n              extent = [\r\n                  [range[0], 0],\r\n                  [range[1], $$.height2]\r\n              ];\r\n          }\r\n          this.extent(extent);\r\n          return this;\r\n      };\r\n      $$.brush.updateScale = function (scale) {\r\n          this.scale = scale;\r\n          return this;\r\n      };\r\n      $$.brush.update = function (scale) {\r\n          this.updateScale(scale || $$.subX).updateExtent();\r\n          $$.context.select('.' + CLASS.brush).call(this);\r\n      };\r\n      $$.brush.clear = function () {\r\n          $$.context.select('.' + CLASS.brush).call($$.brush.move, null);\r\n      };\r\n      $$.brush.selection = function () {\r\n          return d3.brushSelection($$.context.select('.' + CLASS.brush).node());\r\n      };\r\n      $$.brush.selectionAsValue = function (selectionAsValue, withTransition) {\r\n          var selection, brush;\r\n          if (selectionAsValue) {\r\n              if ($$.context) {\r\n                  selection = [\r\n                      this.scale(selectionAsValue[0]),\r\n                      this.scale(selectionAsValue[1])\r\n                  ];\r\n                  brush = $$.context.select('.' + CLASS.brush);\r\n                  if (withTransition) {\r\n                      brush = brush.transition();\r\n                  }\r\n                  $$.brush.move(brush, selection);\r\n              }\r\n              return [];\r\n          }\r\n          selection = $$.brush.selection() || [0, 0];\r\n          return [this.scale.invert(selection[0]), this.scale.invert(selection[1])];\r\n      };\r\n      $$.brush.empty = function () {\r\n          var selection = $$.brush.selection();\r\n          return !selection || selection[0] === selection[1];\r\n      };\r\n      return $$.brush.updateScale(scale);\r\n  };\r\n  ChartInternal.prototype.initSubchart = function () {\r\n      var $$ = this, config = $$.config, context = ($$.context = $$.svg\r\n          .append('g')\r\n          .attr('transform', $$.getTranslate('context')));\r\n      // set style\r\n      context.style('visibility', 'visible');\r\n      // Define g for chart area\r\n      context\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForSubchart)\r\n          .attr('class', CLASS.chart);\r\n      // Define g for bar chart area\r\n      context\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartBars);\r\n      // Define g for line chart area\r\n      context\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartLines);\r\n      // Add extent rect for Brush\r\n      context\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.brush);\r\n      // ATTENTION: This must be called AFTER chart added\r\n      // Add Axis\r\n      $$.axes.subx = context\r\n          .append('g')\r\n          .attr('class', CLASS.axisX)\r\n          .attr('transform', $$.getTranslate('subx'))\r\n          .attr('clip-path', config.axis_rotated ? '' : $$.clipPathForXAxis)\r\n          .style('visibility', config.subchart_axis_x_show ? 'visible' : 'hidden');\r\n  };\r\n  ChartInternal.prototype.initSubchartBrush = function () {\r\n      var $$ = this;\r\n      // Add extent rect for Brush\r\n      $$.initBrush($$.subX).updateExtent();\r\n      $$.context.select('.' + CLASS.brush).call($$.brush);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForSubchart = function (targets) {\r\n      var $$ = this, context = $$.context, config = $$.config, contextLineEnter, contextLine, contextBarEnter, contextBar, classChartBar = $$.classChartBar.bind($$), classBars = $$.classBars.bind($$), classChartLine = $$.classChartLine.bind($$), classLines = $$.classLines.bind($$), classAreas = $$.classAreas.bind($$);\r\n      //-- Bar --//\r\n      contextBar = context\r\n          .select('.' + CLASS.chartBars)\r\n          .selectAll('.' + CLASS.chartBar)\r\n          .data(targets);\r\n      contextBarEnter = contextBar\r\n          .enter()\r\n          .append('g')\r\n          .style('opacity', 0);\r\n      contextBarEnter.merge(contextBar).attr('class', classChartBar);\r\n      // Bars for each data\r\n      contextBarEnter.append('g').attr('class', classBars);\r\n      //-- Line --//\r\n      contextLine = context\r\n          .select('.' + CLASS.chartLines)\r\n          .selectAll('.' + CLASS.chartLine)\r\n          .data(targets);\r\n      contextLineEnter = contextLine\r\n          .enter()\r\n          .append('g')\r\n          .style('opacity', 0);\r\n      contextLineEnter.merge(contextLine).attr('class', classChartLine);\r\n      // Lines for each data\r\n      contextLineEnter.append('g').attr('class', classLines);\r\n      // Area\r\n      contextLineEnter.append('g').attr('class', classAreas);\r\n      //-- Brush --//\r\n      context\r\n          .selectAll('.' + CLASS.brush + ' rect')\r\n          .attr(config.axis_rotated ? 'width' : 'height', config.axis_rotated ? $$.width2 : $$.height2);\r\n  };\r\n  ChartInternal.prototype.updateBarForSubchart = function (durationForExit) {\r\n      var $$ = this;\r\n      var contextBar = $$.context\r\n          .selectAll('.' + CLASS.bars)\r\n          .selectAll('.' + CLASS.bar)\r\n          .data($$.barData.bind($$));\r\n      var contextBarEnter = contextBar\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classBar.bind($$))\r\n          .style('stroke', 'none')\r\n          .style('fill', $$.color);\r\n      contextBar\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextBar = contextBarEnter\r\n          .merge(contextBar)\r\n          .style('opacity', $$.initialOpacity.bind($$));\r\n  };\r\n  ChartInternal.prototype.redrawBarForSubchart = function (drawBarOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextBar.transition(Math.random().toString()).duration(duration)\r\n          : this.contextBar)\r\n          .attr('d', drawBarOnSub)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.updateLineForSubchart = function (durationForExit) {\r\n      var $$ = this;\r\n      var contextLine = $$.context\r\n          .selectAll('.' + CLASS.lines)\r\n          .selectAll('.' + CLASS.line)\r\n          .data($$.lineData.bind($$));\r\n      var contextLineEnter = contextLine\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classLine.bind($$))\r\n          .style('stroke', $$.color);\r\n      contextLine\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextLine = contextLineEnter\r\n          .merge(contextLine)\r\n          .style('opacity', $$.initialOpacity.bind($$));\r\n  };\r\n  ChartInternal.prototype.redrawLineForSubchart = function (drawLineOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextLine.transition(Math.random().toString()).duration(duration)\r\n          : this.contextLine)\r\n          .attr('d', drawLineOnSub)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.updateAreaForSubchart = function (durationForExit) {\r\n      var $$ = this, d3 = $$.d3;\r\n      var contextArea = $$.context\r\n          .selectAll('.' + CLASS.areas)\r\n          .selectAll('.' + CLASS.area)\r\n          .data($$.lineData.bind($$));\r\n      var contextAreaEnter = contextArea\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArea.bind($$))\r\n          .style('fill', $$.color)\r\n          .style('opacity', function () {\r\n          $$.orgAreaOpacity = +d3.select(this).style('opacity');\r\n          return 0;\r\n      });\r\n      contextArea\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextArea = contextAreaEnter.merge(contextArea).style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawAreaForSubchart = function (drawAreaOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextArea.transition(Math.random().toString()).duration(duration)\r\n          : this.contextArea)\r\n          .attr('d', drawAreaOnSub)\r\n          .style('fill', this.color)\r\n          .style('opacity', this.orgAreaOpacity);\r\n  };\r\n  ChartInternal.prototype.redrawSubchart = function (withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices) {\r\n      var $$ = this, d3 = $$.d3, drawAreaOnSub, drawBarOnSub, drawLineOnSub;\r\n      // reflect main chart to extent on subchart if zoomed\r\n      if (d3.event && d3.event.type === 'zoom') {\r\n          $$.brush.selectionAsValue($$.x.orgDomain());\r\n      }\r\n      // update subchart elements if needed\r\n      if (withSubchart) {\r\n          // extent rect\r\n          if (!$$.brush.empty()) {\r\n              $$.brush.selectionAsValue($$.x.orgDomain());\r\n          }\r\n          // setup drawer - MEMO: this must be called after axis updated\r\n          drawAreaOnSub = $$.generateDrawArea(areaIndices, true);\r\n          drawBarOnSub = $$.generateDrawBar(barIndices, true);\r\n          drawLineOnSub = $$.generateDrawLine(lineIndices, true);\r\n          $$.updateBarForSubchart(duration);\r\n          $$.updateLineForSubchart(duration);\r\n          $$.updateAreaForSubchart(duration);\r\n          $$.redrawBarForSubchart(drawBarOnSub, duration, duration);\r\n          $$.redrawLineForSubchart(drawLineOnSub, duration, duration);\r\n          $$.redrawAreaForSubchart(drawAreaOnSub, duration, duration);\r\n      }\r\n  };\r\n  ChartInternal.prototype.redrawForBrush = function () {\r\n      var $$ = this, x = $$.x, d3 = $$.d3, s;\r\n      $$.redraw({\r\n          withTransition: false,\r\n          withY: $$.config.zoom_rescale,\r\n          withSubchart: false,\r\n          withUpdateXDomain: true,\r\n          withEventRect: false,\r\n          withDimension: false\r\n      });\r\n      // update zoom transation binded to event rect\r\n      s = d3.event.selection || $$.brush.scale.range();\r\n      $$.main\r\n          .select('.' + CLASS.eventRect)\r\n          .call($$.zoom.transform, d3.zoomIdentity.scale($$.width / (s[1] - s[0])).translate(-s[0], 0));\r\n      $$.config.subchart_onbrush.call($$.api, x.orgDomain());\r\n  };\r\n  ChartInternal.prototype.transformContext = function (withTransition, transitions) {\r\n      var $$ = this, subXAxis;\r\n      if (transitions && transitions.axisSubX) {\r\n          subXAxis = transitions.axisSubX;\r\n      }\r\n      else {\r\n          subXAxis = $$.context.select('.' + CLASS.axisX);\r\n          if (withTransition) {\r\n              subXAxis = subXAxis.transition();\r\n          }\r\n      }\r\n      $$.context.attr('transform', $$.getTranslate('context'));\r\n      subXAxis.attr('transform', $$.getTranslate('subx'));\r\n  };\r\n  ChartInternal.prototype.getDefaultSelection = function () {\r\n      var $$ = this, config = $$.config, selection = isFunction(config.axis_x_selection)\r\n          ? config.axis_x_selection($$.getXDomain($$.data.targets))\r\n          : config.axis_x_selection;\r\n      if ($$.isTimeSeries()) {\r\n          selection = [$$.parseDate(selection[0]), $$.parseDate(selection[1])];\r\n      }\r\n      return selection;\r\n  };\r\n  ChartInternal.prototype.removeSubchart = function () {\r\n      var $$ = this;\r\n      $$.brush = null;\r\n      $$.context.remove();\r\n      $$.context = null;\r\n  };\n\n  ChartInternal.prototype.initText = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartTexts);\r\n      $$.mainText = $$.d3.selectAll([]);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForText = function (targets) {\r\n      var $$ = this, classChartText = $$.classChartText.bind($$), classTexts = $$.classTexts.bind($$), classFocus = $$.classFocus.bind($$);\r\n      var mainText = $$.main\r\n          .select('.' + CLASS.chartTexts)\r\n          .selectAll('.' + CLASS.chartText)\r\n          .data(targets);\r\n      var mainTextEnter = mainText\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartText)\r\n          .style('opacity', 0)\r\n          .style('pointer-events', 'none');\r\n      mainTextEnter.append('g').attr('class', classTexts);\r\n      mainTextEnter.merge(mainText).attr('class', function (d) {\r\n          return classChartText(d) + classFocus(d);\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateText = function (xForText, yForText, durationForExit) {\r\n      var $$ = this, config = $$.config, barOrLineData = $$.barOrLineData.bind($$), classText = $$.classText.bind($$);\r\n      var mainText = $$.main\r\n          .selectAll('.' + CLASS.texts)\r\n          .selectAll('.' + CLASS.text)\r\n          .data(barOrLineData);\r\n      var mainTextEnter = mainText\r\n          .enter()\r\n          .append('text')\r\n          .attr('class', classText)\r\n          .attr('text-anchor', function (d) {\r\n          return config.axis_rotated ? (d.value < 0 ? 'end' : 'start') : 'middle';\r\n      })\r\n          .style('stroke', 'none')\r\n          .attr('x', xForText)\r\n          .attr('y', yForText)\r\n          .style('fill', function (d) {\r\n          return $$.color(d);\r\n      })\r\n          .style('fill-opacity', 0);\r\n      $$.mainText = mainTextEnter.merge(mainText).text(function (d, i, j) {\r\n          return $$.dataLabelFormat(d.id)(d.value, d.id, i, j);\r\n      });\r\n      mainText\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('fill-opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawText = function (xForText, yForText, forFlow, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainText.transition(transition) : this.mainText)\r\n              .attr('x', xForText)\r\n              .attr('y', yForText)\r\n              .style('fill', this.color)\r\n              .style('fill-opacity', forFlow ? 0 : this.opacityForText.bind(this))\r\n      ];\r\n  };\r\n  ChartInternal.prototype.getTextRect = function (text, cls, element) {\r\n      var dummy = this.d3\r\n          .select('body')\r\n          .append('div')\r\n          .classed('c3', true), svg = dummy\r\n          .append('svg')\r\n          .style('visibility', 'hidden')\r\n          .style('position', 'fixed')\r\n          .style('top', 0)\r\n          .style('left', 0), font = this.d3.select(element).style('font'), rect;\r\n      svg\r\n          .selectAll('.dummy')\r\n          .data([text])\r\n          .enter()\r\n          .append('text')\r\n          .classed(cls ? cls : '', true)\r\n          .style('font', font)\r\n          .text(text)\r\n          .each(function () {\r\n          rect = getBBox(this);\r\n      });\r\n      dummy.remove();\r\n      return rect;\r\n  };\r\n  ChartInternal.prototype.generateXYForText = function (areaIndices, barIndices, lineIndices, forX) {\r\n      var $$ = this, getAreaPoints = $$.generateGetAreaPoints(areaIndices, false), getBarPoints = $$.generateGetBarPoints(barIndices, false), getLinePoints = $$.generateGetLinePoints(lineIndices, false), getter = forX ? $$.getXForText : $$.getYForText;\r\n      return function (d, i) {\r\n          var getPoints = $$.isAreaType(d)\r\n              ? getAreaPoints\r\n              : $$.isBarType(d)\r\n                  ? getBarPoints\r\n                  : getLinePoints;\r\n          return getter.call($$, getPoints(d, i), d, this);\r\n      };\r\n  };\r\n  ChartInternal.prototype.getXForText = function (points, d, textElement) {\r\n      var $$ = this, box = getBBox(textElement), xPos, padding;\r\n      if ($$.config.axis_rotated) {\r\n          padding = $$.isBarType(d) ? 4 : 6;\r\n          xPos = points[2][1] + padding * (d.value < 0 ? -1 : 1);\r\n      }\r\n      else {\r\n          xPos = $$.hasType('bar') ? (points[2][0] + points[0][0]) / 2 : points[0][0];\r\n      }\r\n      // show labels regardless of the domain if value is null\r\n      if (d.value === null) {\r\n          if (xPos > $$.width) {\r\n              xPos = $$.width - box.width;\r\n          }\r\n          else if (xPos < 0) {\r\n              xPos = 4;\r\n          }\r\n      }\r\n      return xPos;\r\n  };\r\n  ChartInternal.prototype.getYForText = function (points, d, textElement) {\r\n      var $$ = this, box = getBBox(textElement), yPos;\r\n      if ($$.config.axis_rotated) {\r\n          yPos = (points[0][0] + points[2][0] + box.height * 0.6) / 2;\r\n      }\r\n      else {\r\n          yPos = points[2][1];\r\n          if (d.value < 0 || (d.value === 0 && !$$.hasPositiveValue)) {\r\n              yPos += box.height;\r\n              if ($$.isBarType(d) && $$.isSafari()) {\r\n                  yPos -= 3;\r\n              }\r\n              else if (!$$.isBarType(d) && $$.isChrome()) {\r\n                  yPos += 3;\r\n              }\r\n          }\r\n          else {\r\n              yPos += $$.isBarType(d) ? -3 : -6;\r\n          }\r\n      }\r\n      // show labels regardless of the domain if value is null\r\n      if (d.value === null && !$$.config.axis_rotated) {\r\n          if (yPos < box.height) {\r\n              yPos = box.height;\r\n          }\r\n          else if (yPos > this.height) {\r\n              yPos = this.height - 4;\r\n          }\r\n      }\r\n      return yPos;\r\n  };\n\n  ChartInternal.prototype.initTitle = function () {\r\n      var $$ = this;\r\n      $$.title = $$.svg\r\n          .append('text')\r\n          .text($$.config.title_text)\r\n          .attr('class', $$.CLASS.title);\r\n  };\r\n  ChartInternal.prototype.redrawTitle = function () {\r\n      var $$ = this;\r\n      $$.title.attr('x', $$.xForTitle.bind($$)).attr('y', $$.yForTitle.bind($$));\r\n  };\r\n  ChartInternal.prototype.xForTitle = function () {\r\n      var $$ = this, config = $$.config, position = config.title_position || 'left', x;\r\n      if (position.indexOf('right') >= 0) {\r\n          x =\r\n              $$.currentWidth -\r\n                  $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width -\r\n                  config.title_padding.right;\r\n      }\r\n      else if (position.indexOf('center') >= 0) {\r\n          x = Math.max(($$.currentWidth -\r\n              $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width) /\r\n              2, 0);\r\n      }\r\n      else {\r\n          // left\r\n          x = config.title_padding.left;\r\n      }\r\n      return x;\r\n  };\r\n  ChartInternal.prototype.yForTitle = function () {\r\n      var $$ = this;\r\n      return ($$.config.title_padding.top +\r\n          $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node())\r\n              .height);\r\n  };\r\n  ChartInternal.prototype.getTitlePadding = function () {\r\n      var $$ = this;\r\n      return $$.yForTitle() + $$.config.title_padding.bottom;\r\n  };\n\n  function powerOfTen(d) {\r\n      return d / Math.pow(10, Math.ceil(Math.log(d) / Math.LN10 - 1e-12)) === 1;\r\n  }\r\n  ChartInternal.prototype.drawColorScale = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, target = $$.data.targets[0], barWidth, barHeight, axis, points, legendAxis, axisScale, inverseScale, height;\r\n      barWidth = !isNaN(config.stanford_scaleWidth)\r\n          ? config.stanford_scaleWidth\r\n          : 20;\r\n      barHeight = 5;\r\n      if (barHeight < 0 || barWidth < 0) {\r\n          throw Error(\"Colorscale's barheight and barwidth must be greater than 0.\");\r\n      }\r\n      height =\r\n          $$.height - config.stanford_padding.bottom - config.stanford_padding.top;\r\n      points = d3.range(config.stanford_padding.bottom, height, barHeight);\r\n      inverseScale = d3\r\n          .scaleSequential(target.colors)\r\n          .domain([points[points.length - 1], points[0]]);\r\n      if ($$.colorScale) {\r\n          $$.colorScale.remove();\r\n      }\r\n      $$.colorScale = $$.svg\r\n          .append('g')\r\n          .attr('width', 50)\r\n          .attr('height', height)\r\n          .attr('class', CLASS.colorScale);\r\n      $$.colorScale\r\n          .append('g')\r\n          .attr('transform', \"translate(0, \" + config.stanford_padding.top + \")\")\r\n          .selectAll('bars')\r\n          .data(points)\r\n          .enter()\r\n          .append('rect')\r\n          .attr('y', function (d, i) { return i * barHeight; })\r\n          .attr('x', 0)\r\n          .attr('width', barWidth)\r\n          .attr('height', barHeight)\r\n          .attr('fill', function (d) {\r\n          return inverseScale(d);\r\n      });\r\n      // Legend Axis\r\n      axisScale = d3\r\n          .scaleLog()\r\n          .domain([target.minEpochs, target.maxEpochs])\r\n          .range([\r\n          points[0] +\r\n              config.stanford_padding.top +\r\n              points[points.length - 1] +\r\n              barHeight -\r\n              1,\r\n          points[0] + config.stanford_padding.top\r\n      ]);\r\n      legendAxis = d3.axisRight(axisScale);\r\n      if (config.stanford_scaleFormat === 'pow10') {\r\n          legendAxis.tickValues([1, 10, 100, 1000, 10000, 100000, 1000000, 10000000]);\r\n      }\r\n      else if (isFunction(config.stanford_scaleFormat)) {\r\n          legendAxis.tickFormat(config.stanford_scaleFormat);\r\n      }\r\n      else {\r\n          legendAxis.tickFormat(d3.format('d'));\r\n      }\r\n      if (isFunction(config.stanford_scaleValues)) {\r\n          legendAxis.tickValues(config.stanford_scaleValues(target.minEpochs, target.maxEpochs));\r\n      }\r\n      // Draw Axis\r\n      axis = $$.colorScale\r\n          .append('g')\r\n          .attr('class', 'legend axis')\r\n          .attr('transform', \"translate(\" + barWidth + \",0)\")\r\n          .call(legendAxis);\r\n      if (config.stanford_scaleFormat === 'pow10') {\r\n          axis\r\n              .selectAll('.tick text')\r\n              .text(null)\r\n              .filter(powerOfTen)\r\n              .text(10)\r\n              .append('tspan')\r\n              .attr('dy', '-.7em') // https://bl.ocks.org/mbostock/6738229\r\n              .text(function (d) {\r\n              return Math.round(Math.log(d) / Math.LN10);\r\n          });\r\n      }\r\n      $$.colorScale.attr('transform', \"translate(\" + ($$.currentWidth - $$.xForColorScale()) + \", 0)\");\r\n  };\r\n  ChartInternal.prototype.xForColorScale = function () {\r\n      var $$ = this;\r\n      return $$.config.stanford_padding.right + getBBox($$.colorScale.node()).width;\r\n  };\r\n  ChartInternal.prototype.getColorScalePadding = function () {\r\n      var $$ = this;\r\n      return $$.xForColorScale() + $$.config.stanford_padding.left + 20;\r\n  };\n\n  ChartInternal.prototype.isStanfordGraphType = function () {\r\n      var $$ = this;\r\n      return $$.config.data_type === 'stanford';\r\n  };\r\n  ChartInternal.prototype.initStanfordData = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, target = $$.data.targets[0], epochs, maxEpochs, minEpochs;\r\n      // Make larger values appear on top\r\n      target.values.sort(compareEpochs);\r\n      // Get array of epochs\r\n      epochs = target.values.map(function (a) { return a.epochs; });\r\n      minEpochs = !isNaN(config.stanford_scaleMin)\r\n          ? config.stanford_scaleMin\r\n          : d3.min(epochs);\r\n      maxEpochs = !isNaN(config.stanford_scaleMax)\r\n          ? config.stanford_scaleMax\r\n          : d3.max(epochs);\r\n      if (minEpochs > maxEpochs) {\r\n          throw Error('Number of minEpochs has to be smaller than maxEpochs');\r\n      }\r\n      target.colors = isFunction(config.stanford_colors)\r\n          ? config.stanford_colors\r\n          : d3.interpolateHslLong(d3.hsl(250, 1, 0.5), d3.hsl(0, 1, 0.5));\r\n      target.colorscale = d3\r\n          .scaleSequentialLog(target.colors)\r\n          .domain([minEpochs, maxEpochs]);\r\n      target.minEpochs = minEpochs;\r\n      target.maxEpochs = maxEpochs;\r\n  };\r\n  ChartInternal.prototype.getStanfordPointColor = function (d) {\r\n      var $$ = this, target = $$.data.targets[0];\r\n      return target.colorscale(d.epochs);\r\n  };\r\n  // http://jsfiddle.net/Xotic750/KtzLq/\r\n  ChartInternal.prototype.getCentroid = function (points) {\r\n      var area = getRegionArea(points);\r\n      var x = 0, y = 0, i, j, f, point1, point2;\r\n      for (i = 0, j = points.length - 1; i < points.length; j = i, i += 1) {\r\n          point1 = points[i];\r\n          point2 = points[j];\r\n          f = point1.x * point2.y - point2.x * point1.y;\r\n          x += (point1.x + point2.x) * f;\r\n          y += (point1.y + point2.y) * f;\r\n      }\r\n      f = area * 6;\r\n      return {\r\n          x: x / f,\r\n          y: y / f\r\n      };\r\n  };\r\n  ChartInternal.prototype.getStanfordTooltipTitle = function (d) {\r\n      var $$ = this, labelX = $$.axis.getLabelText('x'), labelY = $$.axis.getLabelText('y');\r\n      return \"\\n      <tr><th>\" + (labelX ? sanitise(labelX) : 'x') + \"</th><th class='value'>\" + d.x + \"</th></tr>\\n      <tr><th>\" + (labelY ? sanitise(labelY) : 'y') + \"</th><th class='value'>\" + d.value + \"</th></tr>\\n    \";\r\n  };\r\n  ChartInternal.prototype.countEpochsInRegion = function (region) {\r\n      var $$ = this, target = $$.data.targets[0], total, count;\r\n      total = target.values.reduce(function (accumulator, currentValue) { return accumulator + Number(currentValue.epochs); }, 0);\r\n      count = target.values.reduce(function (accumulator, currentValue) {\r\n          if (pointInRegion(currentValue, region)) {\r\n              return accumulator + Number(currentValue.epochs);\r\n          }\r\n          return accumulator;\r\n      }, 0);\r\n      return {\r\n          value: count,\r\n          percentage: count !== 0 ? ((count / total) * 100).toFixed(1) : 0\r\n      };\r\n  };\r\n  var getRegionArea = function (points) {\r\n      // thanks to: https://stackoverflow.com/questions/16282330/find-centerpoint-of-polygon-in-javascript\r\n      var area = 0, i, j, point1, point2;\r\n      for (i = 0, j = points.length - 1; i < points.length; j = i, i += 1) {\r\n          point1 = points[i];\r\n          point2 = points[j];\r\n          area += point1.x * point2.y;\r\n          area -= point1.y * point2.x;\r\n      }\r\n      area /= 2;\r\n      return area;\r\n  };\r\n  var pointInRegion = function (point, region) {\r\n      // thanks to: http://bl.ocks.org/bycoffe/5575904\r\n      // ray-casting algorithm based on\r\n      // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\r\n      var xi, yi, yj, xj, intersect, x = point.x, y = point.value, inside = false;\r\n      for (var i = 0, j = region.length - 1; i < region.length; j = i++) {\r\n          xi = region[i].x;\r\n          yi = region[i].y;\r\n          xj = region[j].x;\r\n          yj = region[j].y;\r\n          intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\r\n          if (intersect) {\r\n              inside = !inside;\r\n          }\r\n      }\r\n      return inside;\r\n  };\r\n  var compareEpochs = function (a, b) {\r\n      if (a.epochs < b.epochs) {\r\n          return -1;\r\n      }\r\n      if (a.epochs > b.epochs) {\r\n          return 1;\r\n      }\r\n      return 0;\r\n  };\n\n  ChartInternal.prototype.initStanfordElements = function () {\r\n      var $$ = this;\r\n      // Avoid blocking eventRect\r\n      $$.stanfordElements = $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.stanfordElements);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordLines);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordTexts);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordRegions);\r\n  };\r\n  ChartInternal.prototype.updateStanfordElements = function (duration) {\r\n      var $$ = this, main = $$.main, config = $$.config, stanfordLine, stanfordLineEnter, stanfordRegion, stanfordRegionEnter, stanfordText, stanfordTextEnter, xvCustom = $$.xvCustom.bind($$), yvCustom = $$.yvCustom.bind($$), countPointsInRegion = $$.countEpochsInRegion.bind($$);\r\n      // Stanford-Lines\r\n      stanfordLine = main\r\n          .select('.' + CLASS.stanfordLines)\r\n          .style('shape-rendering', 'geometricprecision')\r\n          .selectAll('.' + CLASS.stanfordLine)\r\n          .data(config.stanford_lines);\r\n      // enter\r\n      stanfordLineEnter = stanfordLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordLineEnter\r\n          .append('line')\r\n          .attr('x1', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y1') : xvCustom(d, 'value_x1');\r\n      })\r\n          .attr('x2', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y2') : xvCustom(d, 'value_x2');\r\n      })\r\n          .attr('y1', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x1') : yvCustom(d, 'value_y1');\r\n      })\r\n          .attr('y2', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x2') : yvCustom(d, 'value_y2');\r\n      })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordLines = stanfordLineEnter.merge(stanfordLine);\r\n      $$.stanfordLines\r\n          .select('line')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x1', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y1') : xvCustom(d, 'value_x1');\r\n      })\r\n          .attr('x2', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y2') : xvCustom(d, 'value_x2');\r\n      })\r\n          .attr('y1', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x1') : yvCustom(d, 'value_y1');\r\n      })\r\n          .attr('y2', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x2') : yvCustom(d, 'value_y2');\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Stanford-Text\r\n      stanfordText = main\r\n          .select('.' + CLASS.stanfordTexts)\r\n          .selectAll('.' + CLASS.stanfordText)\r\n          .data(config.stanford_texts);\r\n      // enter\r\n      stanfordTextEnter = stanfordText\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordText + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordTextEnter\r\n          .append('text')\r\n          .attr('x', function (d) { return (config.axis_rotated ? yvCustom(d, 'y') : xvCustom(d, 'x')); })\r\n          .attr('y', function (d) { return (config.axis_rotated ? xvCustom(d, 'x') : yvCustom(d, 'y')); })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordTexts = stanfordTextEnter.merge(stanfordText);\r\n      $$.stanfordTexts\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', function (d) { return (config.axis_rotated ? yvCustom(d, 'y') : xvCustom(d, 'x')); })\r\n          .attr('y', function (d) { return (config.axis_rotated ? xvCustom(d, 'x') : yvCustom(d, 'y')); })\r\n          .text(function (d) {\r\n          return d.content;\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordText\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Stanford-Regions\r\n      stanfordRegion = main\r\n          .select('.' + CLASS.stanfordRegions)\r\n          .selectAll('.' + CLASS.stanfordRegion)\r\n          .data(config.stanford_regions);\r\n      // enter\r\n      stanfordRegionEnter = stanfordRegion\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordRegion + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordRegionEnter\r\n          .append('polygon')\r\n          .attr('points', function (d) {\r\n          return d.points\r\n              .map(function (value) {\r\n              return [\r\n                  config.axis_rotated ? yvCustom(value, 'y') : xvCustom(value, 'x'),\r\n                  config.axis_rotated ? xvCustom(value, 'x') : yvCustom(value, 'y')\r\n              ].join(',');\r\n          })\r\n              .join(' ');\r\n      })\r\n          .style('opacity', 0);\r\n      stanfordRegionEnter\r\n          .append('text')\r\n          .attr('x', function (d) { return $$.getCentroid(d.points).x; })\r\n          .attr('y', function (d) { return $$.getCentroid(d.points).y; })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordRegions = stanfordRegionEnter.merge(stanfordRegion);\r\n      $$.stanfordRegions\r\n          .select('polygon')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('points', function (d) {\r\n          return d.points\r\n              .map(function (value) {\r\n              return [\r\n                  config.axis_rotated ? yvCustom(value, 'y') : xvCustom(value, 'x'),\r\n                  config.axis_rotated ? xvCustom(value, 'x') : yvCustom(value, 'y')\r\n              ].join(',');\r\n          })\r\n              .join(' ');\r\n      })\r\n          .style('opacity', function (d) {\r\n          return d.opacity ? d.opacity : 0.2;\r\n      });\r\n      $$.stanfordRegions\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', function (d) {\r\n          return config.axis_rotated\r\n              ? yvCustom($$.getCentroid(d.points), 'y')\r\n              : xvCustom($$.getCentroid(d.points), 'x');\r\n      })\r\n          .attr('y', function (d) {\r\n          return config.axis_rotated\r\n              ? xvCustom($$.getCentroid(d.points), 'x')\r\n              : yvCustom($$.getCentroid(d.points), 'y');\r\n      })\r\n          .text(function (d) {\r\n          if (d.text) {\r\n              var value, percentage, temp;\r\n              if ($$.isStanfordGraphType()) {\r\n                  temp = countPointsInRegion(d.points);\r\n                  value = temp.value;\r\n                  percentage = temp.percentage;\r\n              }\r\n              return d.text(value, percentage);\r\n          }\r\n          return '';\r\n      })\r\n          .attr('text-anchor', 'middle')\r\n          .attr('dominant-baseline', 'middle')\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordRegion\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\n\n  ChartInternal.prototype.initTooltip = function () {\r\n      var $$ = this, config = $$.config, i;\r\n      $$.tooltip = $$.selectChart\r\n          .style('position', 'relative')\r\n          .append('div')\r\n          .attr('class', CLASS.tooltipContainer)\r\n          .style('position', 'absolute')\r\n          .style('pointer-events', 'none')\r\n          .style('display', 'none');\r\n      // Show tooltip if needed\r\n      if (config.tooltip_init_show) {\r\n          if ($$.isTimeSeries() && isString(config.tooltip_init_x)) {\r\n              config.tooltip_init_x = $$.parseDate(config.tooltip_init_x);\r\n              for (i = 0; i < $$.data.targets[0].values.length; i++) {\r\n                  if ($$.data.targets[0].values[i].x - config.tooltip_init_x === 0) {\r\n                      break;\r\n                  }\r\n              }\r\n              config.tooltip_init_x = i;\r\n          }\r\n          $$.tooltip.html(config.tooltip_contents.call($$, $$.data.targets.map(function (d) {\r\n              return $$.addName(d.values[config.tooltip_init_x]);\r\n          }), $$.axis.getXAxisTickFormat(), $$.getYFormat($$.hasArcType()), $$.color));\r\n          $$.tooltip\r\n              .style('top', config.tooltip_init_position.top)\r\n              .style('left', config.tooltip_init_position.left)\r\n              .style('display', 'block');\r\n      }\r\n  };\r\n  ChartInternal.prototype.getTooltipSortFunction = function () {\r\n      var $$ = this, config = $$.config;\r\n      if (config.data_groups.length === 0 || config.tooltip_order !== undefined) {\r\n          // if data are not grouped or if an order is specified\r\n          // for the tooltip values we sort them by their values\r\n          var order = config.tooltip_order;\r\n          if (order === undefined) {\r\n              order = config.data_order;\r\n          }\r\n          var valueOf = function (obj) {\r\n              return obj ? obj.value : null;\r\n          };\r\n          // if data are not grouped, we sort them by their value\r\n          if (isString(order) && order.toLowerCase() === 'asc') {\r\n              return function (a, b) {\r\n                  return valueOf(a) - valueOf(b);\r\n              };\r\n          }\r\n          else if (isString(order) && order.toLowerCase() === 'desc') {\r\n              return function (a, b) {\r\n                  return valueOf(b) - valueOf(a);\r\n              };\r\n          }\r\n          else if (isFunction(order)) {\r\n              // if the function is from data_order we need\r\n              // to wrap the returned function in order to format\r\n              // the sorted value to the expected format\r\n              var sortFunction = order;\r\n              if (config.tooltip_order === undefined) {\r\n                  sortFunction = function (a, b) {\r\n                      return order(a\r\n                          ? {\r\n                              id: a.id,\r\n                              values: [a]\r\n                          }\r\n                          : null, b\r\n                          ? {\r\n                              id: b.id,\r\n                              values: [b]\r\n                          }\r\n                          : null);\r\n                  };\r\n              }\r\n              return sortFunction;\r\n          }\r\n          else if (isArray(order)) {\r\n              return function (a, b) {\r\n                  return order.indexOf(a.id) - order.indexOf(b.id);\r\n              };\r\n          }\r\n      }\r\n      else {\r\n          // if data are grouped, we follow the order of grouped targets\r\n          var ids = $$.orderTargets($$.data.targets).map(function (i) {\r\n              return i.id;\r\n          });\r\n          // if it was either asc or desc we need to invert the order\r\n          // returned by orderTargets\r\n          if ($$.isOrderAsc() || $$.isOrderDesc()) {\r\n              ids = ids.reverse();\r\n          }\r\n          return function (a, b) {\r\n              return ids.indexOf(a.id) - ids.indexOf(b.id);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.getTooltipContent = function (d, defaultTitleFormat, defaultValueFormat, color) {\r\n      var $$ = this, config = $$.config, titleFormat = config.tooltip_format_title || defaultTitleFormat, nameFormat = config.tooltip_format_name ||\r\n          function (name) {\r\n              return name;\r\n          }, text, i, title, value, name, bgcolor;\r\n      var valueFormat = config.tooltip_format_value;\r\n      if (!valueFormat) {\r\n          valueFormat = $$.isTargetNormalized(d.id)\r\n              ? function (v, ratio) { return (ratio * 100).toFixed(2) + \"%\"; }\r\n              : defaultValueFormat;\r\n      }\r\n      var tooltipSortFunction = this.getTooltipSortFunction();\r\n      if (tooltipSortFunction) {\r\n          d.sort(tooltipSortFunction);\r\n      }\r\n      for (i = 0; i < d.length; i++) {\r\n          if (!(d[i] && (d[i].value || d[i].value === 0))) {\r\n              continue;\r\n          }\r\n          if ($$.isStanfordGraphType()) {\r\n              // Custom tooltip for stanford plots\r\n              if (!text) {\r\n                  title = $$.getStanfordTooltipTitle(d[i]);\r\n                  text = \"<table class='\" + $$.CLASS.tooltip + \"'>\" + title;\r\n              }\r\n              bgcolor = $$.getStanfordPointColor(d[i]);\r\n              name = sanitise(config.data_epochs); // Epochs key name\r\n              value = d[i].epochs;\r\n          }\r\n          else {\r\n              // Regular tooltip\r\n              if (!text) {\r\n                  title = sanitise(titleFormat ? titleFormat(d[i].x, d[i].index) : d[i].x);\r\n                  text =\r\n                      \"<table class='\" +\r\n                          $$.CLASS.tooltip +\r\n                          \"'>\" +\r\n                          (title || title === 0\r\n                              ? \"<tr><th colspan='2'>\" + title + '</th></tr>'\r\n                              : '');\r\n              }\r\n              value = sanitise(valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index, d));\r\n              if (value !== undefined) {\r\n                  // Skip elements when their name is set to null\r\n                  if (d[i].name === null) {\r\n                      continue;\r\n                  }\r\n                  name = sanitise(nameFormat(d[i].name, d[i].ratio, d[i].id, d[i].index));\r\n                  bgcolor = $$.levelColor ? $$.levelColor(d[i].value) : color(d[i].id);\r\n              }\r\n          }\r\n          if (value !== undefined) {\r\n              text +=\r\n                  \"<tr class='\" +\r\n                      $$.CLASS.tooltipName +\r\n                      '-' +\r\n                      $$.getTargetSelectorSuffix(d[i].id) +\r\n                      \"'>\";\r\n              text +=\r\n                  \"<td class='name'><span style='background-color:\" +\r\n                      bgcolor +\r\n                      \"'></span>\" +\r\n                      name +\r\n                      '</td>';\r\n              text += \"<td class='value'>\" + value + '</td>';\r\n              text += '</tr>';\r\n          }\r\n      }\r\n      return text + '</table>';\r\n  };\r\n  ChartInternal.prototype.tooltipPosition = function (dataToShow, tWidth, tHeight, element) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      var svgLeft, tooltipLeft, tooltipRight, tooltipTop, chartRight;\r\n      var forArc = $$.hasArcType(), mouse = d3.mouse(element);\r\n      // Determin tooltip position\r\n      if (forArc) {\r\n          tooltipLeft =\r\n              ($$.width - ($$.isLegendRight ? $$.getLegendWidth() : 0)) / 2 + mouse[0];\r\n          tooltipTop =\r\n              ($$.hasType('gauge') ? $$.height : $$.height / 2) + mouse[1] + 20;\r\n      }\r\n      else {\r\n          svgLeft = $$.getSvgLeft(true);\r\n          if (config.axis_rotated) {\r\n              tooltipLeft = svgLeft + mouse[0] + 100;\r\n              tooltipRight = tooltipLeft + tWidth;\r\n              chartRight = $$.currentWidth - $$.getCurrentPaddingRight();\r\n              tooltipTop = $$.x(dataToShow[0].x) + 20;\r\n          }\r\n          else {\r\n              tooltipLeft =\r\n                  svgLeft + $$.getCurrentPaddingLeft(true) + $$.x(dataToShow[0].x) + 20;\r\n              tooltipRight = tooltipLeft + tWidth;\r\n              chartRight = svgLeft + $$.currentWidth - $$.getCurrentPaddingRight();\r\n              tooltipTop = mouse[1] + 15;\r\n          }\r\n          if (tooltipRight > chartRight) {\r\n              // 20 is needed for Firefox to keep tooltip width\r\n              tooltipLeft -= tooltipRight - chartRight + 20;\r\n          }\r\n          if (tooltipTop + tHeight > $$.currentHeight) {\r\n              tooltipTop -= tHeight + 30;\r\n          }\r\n      }\r\n      if (tooltipTop < 0) {\r\n          tooltipTop = 0;\r\n      }\r\n      return {\r\n          top: tooltipTop,\r\n          left: tooltipLeft\r\n      };\r\n  };\r\n  ChartInternal.prototype.showTooltip = function (selectedData, element) {\r\n      var $$ = this, config = $$.config;\r\n      var tWidth, tHeight, position;\r\n      var forArc = $$.hasArcType(), dataToShow = selectedData.filter(function (d) {\r\n          return d && isValue(d.value);\r\n      }), positionFunction = config.tooltip_position || ChartInternal.prototype.tooltipPosition;\r\n      if (dataToShow.length === 0 || !config.tooltip_show) {\r\n          $$.hideTooltip();\r\n          return;\r\n      }\r\n      $$.tooltip\r\n          .html(config.tooltip_contents.call($$, selectedData, $$.axis.getXAxisTickFormat(), $$.getYFormat(forArc), $$.color))\r\n          .style('display', 'block');\r\n      // Get tooltip dimensions\r\n      tWidth = $$.tooltip.property('offsetWidth');\r\n      tHeight = $$.tooltip.property('offsetHeight');\r\n      position = positionFunction.call(this, dataToShow, tWidth, tHeight, element);\r\n      // Set tooltip\r\n      $$.tooltip\r\n          .style('top', position.top + 'px')\r\n          .style('left', position.left + 'px');\r\n  };\r\n  ChartInternal.prototype.hideTooltip = function () {\r\n      this.tooltip.style('display', 'none');\r\n  };\n\n  ChartInternal.prototype.setTargetType = function (targetIds, type) {\r\n      var $$ = this, config = $$.config;\r\n      $$.mapToTargetIds(targetIds).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = type === config.data_types[id];\r\n          config.data_types[id] = type;\r\n      });\r\n      if (!targetIds) {\r\n          config.data_type = type;\r\n      }\r\n  };\r\n  ChartInternal.prototype.hasType = function (type, targets) {\r\n      var $$ = this, types = $$.config.data_types, has = false;\r\n      targets = targets || $$.data.targets;\r\n      if (targets && targets.length) {\r\n          targets.forEach(function (target) {\r\n              var t = types[target.id];\r\n              if ((t && t.indexOf(type) >= 0) || (!t && type === 'line')) {\r\n                  has = true;\r\n              }\r\n          });\r\n      }\r\n      else if (Object.keys(types).length) {\r\n          Object.keys(types).forEach(function (id) {\r\n              if (types[id] === type) {\r\n                  has = true;\r\n              }\r\n          });\r\n      }\r\n      else {\r\n          has = $$.config.data_type === type;\r\n      }\r\n      return has;\r\n  };\r\n  ChartInternal.prototype.hasArcType = function (targets) {\r\n      return (this.hasType('pie', targets) ||\r\n          this.hasType('donut', targets) ||\r\n          this.hasType('gauge', targets));\r\n  };\r\n  ChartInternal.prototype.isLineType = function (d) {\r\n      var config = this.config, id = isString(d) ? d : d.id;\r\n      return (!config.data_types[id] ||\r\n          ['line', 'spline', 'area', 'area-spline', 'step', 'area-step'].indexOf(config.data_types[id]) >= 0);\r\n  };\r\n  ChartInternal.prototype.isStepType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return ['step', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\r\n  };\r\n  ChartInternal.prototype.isSplineType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return ['spline', 'area-spline'].indexOf(this.config.data_types[id]) >= 0;\r\n  };\r\n  ChartInternal.prototype.isAreaType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return (['area', 'area-spline', 'area-step'].indexOf(this.config.data_types[id]) >=\r\n          0);\r\n  };\r\n  ChartInternal.prototype.isBarType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'bar';\r\n  };\r\n  ChartInternal.prototype.isScatterType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'scatter';\r\n  };\r\n  ChartInternal.prototype.isStanfordType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'stanford';\r\n  };\r\n  ChartInternal.prototype.isPieType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'pie';\r\n  };\r\n  ChartInternal.prototype.isGaugeType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'gauge';\r\n  };\r\n  ChartInternal.prototype.isDonutType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'donut';\r\n  };\r\n  ChartInternal.prototype.isArcType = function (d) {\r\n      return this.isPieType(d) || this.isDonutType(d) || this.isGaugeType(d);\r\n  };\r\n  ChartInternal.prototype.lineData = function (d) {\r\n      return this.isLineType(d) ? [d] : [];\r\n  };\r\n  ChartInternal.prototype.arcData = function (d) {\r\n      return this.isArcType(d.data) ? [d] : [];\r\n  };\r\n  /* not used\r\n   function scatterData(d) {\r\n   return isScatterType(d) ? d.values : [];\r\n   }\r\n   */\r\n  ChartInternal.prototype.barData = function (d) {\r\n      return this.isBarType(d) ? d.values : [];\r\n  };\r\n  ChartInternal.prototype.lineOrScatterOrStanfordData = function (d) {\r\n      return this.isLineType(d) || this.isScatterType(d) || this.isStanfordType(d)\r\n          ? d.values\r\n          : [];\r\n  };\r\n  ChartInternal.prototype.barOrLineData = function (d) {\r\n      return this.isBarType(d) || this.isLineType(d) ? d.values : [];\r\n  };\n\n  ChartInternal.prototype.isSafari = function () {\r\n      var ua = window.navigator.userAgent;\r\n      return ua.indexOf('Safari') >= 0 && ua.indexOf('Chrome') < 0;\r\n  };\r\n  ChartInternal.prototype.isChrome = function () {\r\n      var ua = window.navigator.userAgent;\r\n      return ua.indexOf('Chrome') >= 0;\r\n  };\n\n  ChartInternal.prototype.initZoom = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, startEvent;\r\n      $$.zoom = d3\r\n          .zoom()\r\n          .on('start', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          startEvent = e;\r\n          config.zoom_onzoomstart.call($$.api, e);\r\n      })\r\n          .on('zoom', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          $$.redrawForZoom();\r\n          config.zoom_onzoom.call($$.api, $$.x.orgDomain());\r\n      })\r\n          .on('end', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          // if click, do nothing. otherwise, click interaction will be canceled.\r\n          if (e &&\r\n              startEvent.clientX === e.clientX &&\r\n              startEvent.clientY === e.clientY) {\r\n              return;\r\n          }\r\n          config.zoom_onzoomend.call($$.api, $$.x.orgDomain());\r\n      });\r\n      $$.zoom.updateDomain = function () {\r\n          if (d3.event && d3.event.transform) {\r\n              if (config.axis_rotated && config.zoom_type === 'scroll' && d3.event.sourceEvent.type === 'mousemove') {\r\n                  // we're moving the mouse in a rotated chart with zoom = \"scroll\", so we need rescaleY (i.e. vertical)\r\n                  $$.x.domain(d3.event.transform.rescaleY($$.subX).domain());\r\n              }\r\n              else {\r\n                  $$.x.domain(d3.event.transform.rescaleX($$.subX).domain());\r\n              }\r\n          }\r\n          return this;\r\n      };\r\n      $$.zoom.updateExtent = function () {\r\n          this.scaleExtent([1, Infinity])\r\n              .translateExtent([\r\n              [0, 0],\r\n              [$$.width, $$.height]\r\n          ])\r\n              .extent([\r\n              [0, 0],\r\n              [$$.width, $$.height]\r\n          ]);\r\n          return this;\r\n      };\r\n      $$.zoom.update = function () {\r\n          return this.updateExtent().updateDomain();\r\n      };\r\n      return $$.zoom.updateExtent();\r\n  };\r\n  ChartInternal.prototype.zoomTransform = function (range) {\r\n      var $$ = this, s = [$$.x(range[0]), $$.x(range[1])];\r\n      return $$.d3.zoomIdentity.scale($$.width / (s[1] - s[0])).translate(-s[0], 0);\r\n  };\r\n  ChartInternal.prototype.initDragZoom = function () {\r\n      var $$ = this;\r\n      var d3 = $$.d3;\r\n      var config = $$.config;\r\n      var context = ($$.context = $$.svg);\r\n      var brushXPos = $$.margin.left + 20.5;\r\n      var brushYPos = $$.margin.top + 0.5;\r\n      if (!(config.zoom_type === 'drag' && config.zoom_enabled)) {\r\n          return;\r\n      }\r\n      var getZoomedDomain = function (selection) {\r\n          return selection && selection.map(function (x) { return $$.x.invert(x); });\r\n      };\r\n      var brush = ($$.dragZoomBrush = d3\r\n          .brushX()\r\n          .on('start', function () {\r\n          $$.api.unzoom();\r\n          $$.svg.select('.' + CLASS.dragZoom).classed('disabled', false);\r\n          config.zoom_onzoomstart.call($$.api, d3.event.sourceEvent);\r\n      })\r\n          .on('brush', function () {\r\n          config.zoom_onzoom.call($$.api, getZoomedDomain(d3.event.selection));\r\n      })\r\n          .on('end', function () {\r\n          if (d3.event.selection == null) {\r\n              return;\r\n          }\r\n          var zoomedDomain = getZoomedDomain(d3.event.selection);\r\n          if (!config.zoom_disableDefaultBehavior) {\r\n              $$.api.zoom(zoomedDomain);\r\n          }\r\n          $$.svg.select('.' + CLASS.dragZoom).classed('disabled', true);\r\n          config.zoom_onzoomend.call($$.api, zoomedDomain);\r\n      }));\r\n      context\r\n          .append('g')\r\n          .classed(CLASS.dragZoom, true)\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('transform', 'translate(' + brushXPos + ',' + brushYPos + ')')\r\n          .call(brush);\r\n  };\r\n  ChartInternal.prototype.getZoomDomain = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, min = d3.min([$$.orgXDomain[0], config.zoom_x_min]), max = d3.max([$$.orgXDomain[1], config.zoom_x_max]);\r\n      return [min, max];\r\n  };\r\n  ChartInternal.prototype.redrawForZoom = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, zoom = $$.zoom, x = $$.x;\r\n      if (!config.zoom_enabled) {\r\n          return;\r\n      }\r\n      if ($$.filterTargetsToShow($$.data.targets).length === 0) {\r\n          return;\r\n      }\r\n      zoom.update();\r\n      if (config.zoom_disableDefaultBehavior) {\r\n          return;\r\n      }\r\n      if ($$.isCategorized() && x.orgDomain()[0] === $$.orgXDomain[0]) {\r\n          x.domain([$$.orgXDomain[0] - 1e-10, x.orgDomain()[1]]);\r\n      }\r\n      $$.redraw({\r\n          withTransition: false,\r\n          withY: config.zoom_rescale,\r\n          withSubchart: false,\r\n          withEventRect: false,\r\n          withDimension: false\r\n      });\r\n      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'mousemove') {\r\n          $$.cancelClick = true;\r\n      }\r\n  };\n\n  return c3;\n\n})));\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".c3 svg{font:10px sans-serif;-webkit-tap-highlight-color:transparent}.c3 line,.c3 path{fill:none;stroke:#000}.c3 text{-webkit-user-select:none;-moz-user-select:none;user-select:none}.c3-bars path,.c3-event-rect,.c3-legend-item-tile,.c3-xgrid-focus,.c3-ygrid{shape-rendering:crispEdges}.c3-chart-arc path{stroke:#fff}.c3-chart-arc rect{stroke:#fff;stroke-width:1}.c3-chart-arc text{fill:#fff;font-size:13px}.c3-grid line{stroke:#aaa}.c3-grid text{fill:#aaa}.c3-xgrid,.c3-ygrid{stroke-dasharray:3 3}.c3-text.c3-empty{fill:grey;font-size:2em}.c3-line{stroke-width:1px}.c3-circle{fill:currentColor}.c3-circle._expanded_{stroke-width:1px;stroke:#fff}.c3-selected-circle{fill:#fff;stroke-width:2px}.c3-bar{stroke-width:0}.c3-bar._expanded_{fill-opacity:1;fill-opacity:.75}.c3-target.c3-focused{opacity:1}.c3-target.c3-focused path.c3-line,.c3-target.c3-focused path.c3-step{stroke-width:2px}.c3-target.c3-defocused{opacity:.3!important}.c3-region{fill:#4682b4;fill-opacity:.1}.c3-region text{fill-opacity:1}.c3-brush .extent{fill-opacity:.1}.c3-legend-item{font-size:12px}.c3-legend-item-hidden{opacity:.15}.c3-legend-background{opacity:.75;fill:#fff;stroke:#d3d3d3;stroke-width:1}.c3-title{font:14px sans-serif}.c3-tooltip-container{z-index:10}.c3-tooltip{border-collapse:collapse;border-spacing:0;background-color:#fff;empty-cells:show;box-shadow:7px 7px 12px -9px #777;opacity:.9}.c3-tooltip tr{border:1px solid #ccc}.c3-tooltip th{background-color:#aaa;font-size:14px;padding:2px 5px;text-align:left;color:#fff}.c3-tooltip td{font-size:13px;padding:3px 6px;background-color:#fff;border-left:1px dotted #999}.c3-tooltip td>span{display:inline-block;width:10px;height:10px;margin-right:6px}.c3-tooltip .value{text-align:right}.c3-area{stroke-width:0;opacity:.2}.c3-chart-arcs-title{dominant-baseline:middle;font-size:1.3em}.c3-chart-arcs .c3-chart-arcs-background{fill:#e0e0e0;stroke:#fff}.c3-chart-arcs .c3-chart-arcs-gauge-unit{fill:#000;font-size:16px}.c3-chart-arcs .c3-chart-arcs-gauge-max,.c3-chart-arcs .c3-chart-arcs-gauge-min{fill:#777}.c3-chart-arc .c3-gauge-value{fill:#000}.c3-chart-arc.c3-target.c3-focused g path,.c3-chart-arc.c3-target g path{opacity:1}.c3-drag-zoom.enabled{pointer-events:all!important;visibility:visible}.c3-drag-zoom.disabled{pointer-events:none!important;visibility:hidden}.c3-drag-zoom .extent{fill-opacity:.1}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../css-loader/dist/cjs.js??ref--7-oneOf-1-1!../vue-loader/lib/loaders/stylePostLoader.js!../postcss-loader/src/index.js??ref--7-oneOf-1-2!../postcss-loader/src/index.js??ref--7-oneOf-1-3!./c3.css?vue&type=style&index=0&prod&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"13378566\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nvar fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","export {default as color, rgb, hsl} from \"./color.js\";\nexport {default as lab, hcl, lch, gray} from \"./lab.js\";\nexport {default as cubehelix} from \"./cubehelix.js\";\n","export var name = \"d3\";\nexport var version = \"5.16.0\";\nexport var description = \"Data-Driven Documents\";\nexport var keywords = [\"dom\",\"visualization\",\"svg\",\"animation\",\"canvas\"];\nexport var homepage = \"https://d3js.org\";\nexport var license = \"BSD-3-Clause\";\nexport var author = {\"name\":\"Mike Bostock\",\"url\":\"https://bost.ocks.org/mike\"};\nexport var main = \"dist/d3.node.js\";\nexport var unpkg = \"dist/d3.min.js\";\nexport var jsdelivr = \"dist/d3.min.js\";\nexport var module = \"index.js\";\nexport var repository = {\"type\":\"git\",\"url\":\"https://github.com/d3/d3.git\"};\nexport var files = [\"dist/**/*.js\",\"index.js\"];\nexport var scripts = {\"pretest\":\"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c\",\"test\":\"tape 'test/**/*-test.js'\",\"prepublishOnly\":\"yarn test\",\"postpublish\":\"git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v5.js && cp ../d3/dist/d3.min.js d3.v5.min.js && git add d3.v5.js d3.v5.min.js && git commit -m \\\"d3 ${npm_package_version}\\\" && git push && cd - && cd ../d3-bower && git pull && cp ../d3/LICENSE ../d3/README.md ../d3/dist/d3.js ../d3/dist/d3.min.js . && git add -- LICENSE README.md d3.js d3.min.js && git commit -m \\\"${npm_package_version}\\\" && git tag -am \\\"${npm_package_version}\\\" v${npm_package_version} && git push && git push --tags && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js\"};\nexport var devDependencies = {\"json2module\":\"0.0\",\"rimraf\":\"2\",\"rollup\":\"1\",\"rollup-plugin-ascii\":\"0.0\",\"rollup-plugin-node-resolve\":\"3\",\"rollup-plugin-terser\":\"5\",\"tape\":\"4\"};\nexport var dependencies = {\"d3-array\":\"1\",\"d3-axis\":\"1\",\"d3-brush\":\"1\",\"d3-chord\":\"1\",\"d3-collection\":\"1\",\"d3-color\":\"1\",\"d3-contour\":\"1\",\"d3-dispatch\":\"1\",\"d3-drag\":\"1\",\"d3-dsv\":\"1\",\"d3-ease\":\"1\",\"d3-fetch\":\"1\",\"d3-force\":\"1\",\"d3-format\":\"1\",\"d3-geo\":\"1\",\"d3-hierarchy\":\"1\",\"d3-interpolate\":\"1\",\"d3-path\":\"1\",\"d3-polygon\":\"1\",\"d3-quadtree\":\"1\",\"d3-random\":\"1\",\"d3-scale\":\"2\",\"d3-scale-chromatic\":\"1\",\"d3-selection\":\"1\",\"d3-shape\":\"1\",\"d3-time\":\"1\",\"d3-time-format\":\"2\",\"d3-timer\":\"1\",\"d3-transition\":\"1\",\"d3-voronoi\":\"1\",\"d3-zoom\":\"1\"};\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","export {default as quadtree} from \"./quadtree.js\";\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../css-loader/dist/cjs.js??ref--7-oneOf-3-1!../postcss-loader/src/index.js??ref--7-oneOf-3-2!../postcss-loader/src/index.js??ref--7-oneOf-3-3!./c3.min.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f161c758\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".c3 svg{font:10px sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0)}.c3 line,.c3 path{fill:none;stroke:#000}.c3 text{-webkit-user-select:none;-moz-user-select:none;user-select:none}.c3-bars path,.c3-event-rect,.c3-legend-item-tile,.c3-xgrid-focus,.c3-ygrid{shape-rendering:crispEdges}.c3-chart-arc path{stroke:#fff}.c3-chart-arc rect{stroke:#fff;stroke-width:1}.c3-chart-arc text{fill:#fff;font-size:13px}.c3-grid line{stroke:#aaa}.c3-grid text{fill:#aaa}.c3-xgrid,.c3-ygrid{stroke-dasharray:3 3}.c3-text.c3-empty{fill:grey;font-size:2em}.c3-line{stroke-width:1px}.c3-circle{fill:currentColor}.c3-circle._expanded_{stroke-width:1px;stroke:#fff}.c3-selected-circle{fill:#fff;stroke-width:2px}.c3-bar{stroke-width:0}.c3-bar._expanded_{fill-opacity:1;fill-opacity:.75}.c3-target.c3-focused{opacity:1}.c3-target.c3-focused path.c3-line,.c3-target.c3-focused path.c3-step{stroke-width:2px}.c3-target.c3-defocused{opacity:.3!important}.c3-region{fill:#4682b4;fill-opacity:.1}.c3-region text{fill-opacity:1}.c3-brush .extent{fill-opacity:.1}.c3-legend-item{font-size:12px}.c3-legend-item-hidden{opacity:.15}.c3-legend-background{opacity:.75;fill:#fff;stroke:#d3d3d3;stroke-width:1}.c3-title{font:14px sans-serif}.c3-tooltip-container{z-index:10}.c3-tooltip{border-collapse:collapse;border-spacing:0;background-color:#fff;empty-cells:show;box-shadow:7px 7px 12px -9px #777;opacity:.9}.c3-tooltip tr{border:1px solid #ccc}.c3-tooltip th{background-color:#aaa;font-size:14px;padding:2px 5px;text-align:left;color:#fff}.c3-tooltip td{font-size:13px;padding:3px 6px;background-color:#fff;border-left:1px dotted #999}.c3-tooltip td>span{display:inline-block;width:10px;height:10px;margin-right:6px}.c3-tooltip .value{text-align:right}.c3-area{stroke-width:0;opacity:.2}.c3-chart-arcs-title{dominant-baseline:middle;font-size:1.3em}.c3-chart-arcs .c3-chart-arcs-background{fill:#e0e0e0;stroke:#fff}.c3-chart-arcs .c3-chart-arcs-gauge-unit{fill:#000;font-size:16px}.c3-chart-arcs .c3-chart-arcs-gauge-max,.c3-chart-arcs .c3-chart-arcs-gauge-min{fill:#777}.c3-chart-arc .c3-gauge-value{fill:#000}.c3-chart-arc.c3-target.c3-focused g path,.c3-chart-arc.c3-target g path{opacity:1}.c3-drag-zoom.enabled{pointer-events:all!important;visibility:visible}.c3-drag-zoom.disabled{pointer-events:none!important;visibility:hidden}.c3-drag-zoom .extent{fill-opacity:.1}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder.js\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder.js\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder.js\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import adder from \"../adder.js\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","export default function(x) {\n  return x;\n}\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder.js\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export {default as formatDefaultLocale, format, formatPrefix} from \"./defaultLocale.js\";\nexport {default as formatLocale} from \"./locale.js\";\nexport {default as formatSpecifier, FormatSpecifier} from \"./formatSpecifier.js\";\nexport {default as precisionFixed} from \"./precisionFixed.js\";\nexport {default as precisionPrefix} from \"./precisionPrefix.js\";\nexport {default as precisionRound} from \"./precisionRound.js\";\n","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import text from \"./text.js\";\n\nfunction parser(type) {\n  return function(input, init)  {\n    return text(input, init).then(function(text) {\n      return (new DOMParser).parseFromString(text, type);\n    });\n  };\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  var n = points.length,\n      indexes = [0, 1],\n      size = 2;\n\n  for (var i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.sqrt(xa * xa + ya * ya);\n  }\n\n  return perimeter;\n}\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n}\n","export {\n  default as timeInterval\n} from \"./interval.js\";\n\nexport {\n  default as timeMillisecond,\n  milliseconds as timeMilliseconds,\n  default as utcMillisecond,\n  milliseconds as utcMilliseconds\n} from \"./millisecond.js\";\n\nexport {\n  default as timeSecond,\n  seconds as timeSeconds,\n  default as utcSecond,\n  seconds as utcSeconds\n} from \"./second.js\";\n\nexport {\n  default as timeMinute,\n  minutes as timeMinutes\n} from \"./minute.js\";\n\nexport {\n  default as timeHour,\n  hours as timeHours\n} from \"./hour.js\";\n\nexport {\n  default as timeDay,\n  days as timeDays\n} from \"./day.js\";\n\nexport {\n  sunday as timeWeek,\n  sundays as timeWeeks,\n  sunday as timeSunday,\n  sundays as timeSundays,\n  monday as timeMonday,\n  mondays as timeMondays,\n  tuesday as timeTuesday,\n  tuesdays as timeTuesdays,\n  wednesday as timeWednesday,\n  wednesdays as timeWednesdays,\n  thursday as timeThursday,\n  thursdays as timeThursdays,\n  friday as timeFriday,\n  fridays as timeFridays,\n  saturday as timeSaturday,\n  saturdays as timeSaturdays\n} from \"./week.js\";\n\nexport {\n  default as timeMonth,\n  months as timeMonths\n} from \"./month.js\";\n\nexport {\n  default as timeYear,\n  years as timeYears\n} from \"./year.js\";\n\nexport {\n  default as utcMinute,\n  utcMinutes as utcMinutes\n} from \"./utcMinute.js\";\n\nexport {\n  default as utcHour,\n  utcHours as utcHours\n} from \"./utcHour.js\";\n\nexport {\n  default as utcDay,\n  utcDays as utcDays\n} from \"./utcDay.js\";\n\nexport {\n  utcSunday as utcWeek,\n  utcSundays as utcWeeks,\n  utcSunday as utcSunday,\n  utcSundays as utcSundays,\n  utcMonday as utcMonday,\n  utcMondays as utcMondays,\n  utcTuesday as utcTuesday,\n  utcTuesdays as utcTuesdays,\n  utcWednesday as utcWednesday,\n  utcWednesdays as utcWednesdays,\n  utcThursday as utcThursday,\n  utcThursdays as utcThursdays,\n  utcFriday as utcFriday,\n  utcFridays as utcFridays,\n  utcSaturday as utcSaturday,\n  utcSaturdays as utcSaturdays\n} from \"./utcWeek.js\";\n\nexport {\n  default as utcMonth,\n  utcMonths as utcMonths\n} from \"./utcMonth.js\";\n\nexport {\n  default as utcYear,\n  utcYears as utcYears\n} from \"./utcYear.js\";\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export var slice = Array.prototype.slice;\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle, slice} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(slice.call(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = circles.length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar keyPrefix = \"$\", // Protect against keys like “__proto__”.\n    preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var d,\n        i,\n        n = data.length,\n        root,\n        parent,\n        node,\n        nodes = new Array(n),\n        nodeId,\n        nodeKey,\n        nodeByKey = {};\n\n    for (i = 0; i < n; ++i) {\n      d = data[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = keyPrefix + (node.id = nodeId);\n        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], nodeId = parentId(data[i], i, data);\n      if (nodeId == null || !(nodeId += \"\")) {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      } else {\n        parent = nodeByKey[keyPrefix + nodeId];\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = (x0 * valueRight + x1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = (y0 * valueRight + y1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export {default as dispatch} from \"./dispatch.js\";\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","export var slice = Array.prototype.slice;\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","export {default as path} from \"./path.js\";\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n"],"sourceRoot":""}