(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-747287a0"],{1851:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".width80[data-v-63fa2ee5]{width:90px}.width120[data-v-63fa2ee5]{width:130px}.multiselect__tags[data-v-63fa2ee5]{min-height:36px!important}",""]),t.exports=e},"62ea":function(t,e,a){"use strict";a("d627")},d627:function(t,e,a){var r=a("1851");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("499e").default;i("5bb71aee",r,!0,{sourceMap:!1,shadowMode:!1})},e770:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:void 0==t.ReportListParameters?"right-content hr_jobpost w-100":"right-content"},[e("div",{staticClass:"col-md-12 p-0 mb-2"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.reportName))]),e("span",{staticClass:"p-actions float-right mydbsize"},[e("a",{class:(t.isFilterExist,"p-action-btn text-white dash"),on:{click:t.OpenFilter}},[e("em",{staticClass:"fa fa-filter"}),e("br"),t._v(t._s(t.$t("Filter"))+" ")]),e("a",{class:1==t.CanEdit?"p-action-btn text-white dash":"p-action-btn text-white dash d-none",attrs:{title:"Edit Report"},on:{click:t.EditReport}},[e("em",{staticClass:"fa fa-pencil text-white action-icon"}),e("br"),t._v(t._s(t.$t("Edit")))]),e("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"ExportToPDF"},on:{click:function(e){return t.ExportToPDF("download")}}},[e("em",{staticClass:"fa fa-file-pdf-o"}),e("br"),t._v(t._s(t.$t("PDF")))]),e("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Print"},on:{click:function(e){return t.ExportToPDF("print")}}},[e("em",{staticClass:"fa fa-file-pdf-o"}),e("br"),t._v(t._s(t.$t("PRINT")))]),e("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"ExportToExcel"},on:{click:t.ExportToExcel}},[e("em",{staticClass:"fa fa-file-excel-o"}),e("br"),t._v(t._s(t.$t("Excel")))]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.showGraphBtn,expression:"showGraphBtn"}],staticClass:"p-action-btn text-white dash",on:{click:t.OpenGraph}},[e("em",{staticClass:"fa fa-pie-chart"}),e("br"),t._v(t._s(t.showgraph?t.$t("CollapseGraph"):t.$t("ExpandGraph"))+" ")]),e("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Sort"},on:{click:t.OpenSortingPopup}},[e("em",{staticClass:"fa fa-sort-amount-asc"}),e("br"),t._v(t._s(t.$t("Sort"))+" ")]),e("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Back"},on:{click:t.OnBack}},[e("em",{staticClass:"fa fa-angle-double-left"}),e("br"),t._v(t._s(t.$t("Back"))+" ")])]),t._m(0)]),e("div",{staticClass:"parentdiv datarepfix2"},[e("div",{staticClass:"verticle-action lft75 rt30"},[e("span",{staticClass:"action-list-box small",staticStyle:{width:"400px"}},[t.isSortPopup?e("span",{staticClass:"text-left p-0 datarep mt-3 w-90 float-left bg_outerdark borderbababa position-relative",attrs:{id:"action-list1"}},[e("div",{staticClass:"float-left col-12"},[e("div",{staticClass:"container-fluid p-0"}),t._l(t.sortColummnarray,(function(a,r){return e("div",{staticClass:"row px-3 pt-3 pb-0"},[e("div",{staticClass:"col-lg-5 pl-0 pr-3"},[e("div",{staticClass:"form-group mb-0"},[e("label",{staticClass:"pb-2"},[t._v(t._s(t.$t("SortBy")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.sortcolummnId,expression:"input.sortcolummnId"}],staticClass:"form-control",attrs:{id:"SortValue"+r},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"sortcolummnId",e.target.multiple?r:r[0])}}},t._l(t.reportListingInfo.FIELDS.filter(t=>0==t.Calculated_Field),(function(a){return e("option",{key:a.CustomFieldId,attrs:{disabled:t.sortColummnarray.filter(t=>t.sortcolummnId==a.CustomFieldId).length>0},domProps:{value:""!=a.CustomFieldId?a.CustomFieldId:a.FieldName}},[t._v(" "+t._s(a.DisplayName?t.GetLocalizedValue(a.DisplayName):t.GetLocalizedValue(a.FieldName)))])})),0)])]),e("div",{staticClass:"col-lg-5 pl-0 pr-3"},[e("div",{staticClass:"form-group mb-0"},[e("label",{staticClass:"pb-2"},[t._v(t._s(t.$t("OrderBy")))]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.columnOrders,expression:"input.columnOrders"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"columnOrders",e.target.multiple?r:r[0])}}},[e("option",[t._v(t._s(t.$t("ASC")))]),e("option",[t._v(t._s(t.$t("DESC")))])])])]),e("div",{staticClass:"col-lg-2 pl-0 pr-3 d-flex align-items-center"},[e("div",{staticClass:"form-group mb-0"},[e("a",{on:{click:function(e){return t.AddSortingForm(a)}}},[e("em",{staticClass:"fa fa-plus-circle font-24 text-success mt-3"})]),e("a",{directives:[{name:"show",rawName:"v-show",value:""!=t.sortColummnarray[0].sortcolummnId,expression:"sortColummnarray[0].sortcolummnId != ''"}],on:{click:function(e){return t.RemoveSortingForm(a)}}},[e("em",{staticClass:"fa fa-times-circle font-24 text-danger mt-3 ml-1"})])])])])})),e("a",{staticClass:"btn btn-success my-3 mr-2 pl-1",on:{click:function(e){return t.EnableSortingSearch(t.input)}}},[e("span",{staticClass:"fa fa-sort-amount-desc mr-2"}),t._v(t._s(t.$t("Sort")))]),e("a",{staticClass:"btn btn-danger pl-1 mb-0",on:{click:function(e){return t.RemoveSortingFromList()}}},[e("span",{staticClass:"fa fa-times mr-2"}),t._v(t._s(t.$t("ResetSort")))])],2),t._m(1),e("button",{staticClass:"close closebtnsmall",attrs:{type:"button"},on:{click:function(e){t.isSortPopup=!1}}},[e("em",{staticClass:"fa fa-times text",attrs:{"aria-hidden":"true"}})])]):t._e()])])])]),e("div",{staticClass:"col-md-12 p-0 mb-2"},[e("div",{staticClass:"tab-pane mb-0"},[e("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[t.showgraph?e("div",{staticClass:"card mb-3 probx"},[e("div",{staticClass:"card-header"},[e("h2",[t._v(t._s(t.$t("Graph")))])]),e("div",{staticClass:"card-body",attrs:{id:"Reportpdf"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 col-lg-12 text-center"},[e("div",{staticClass:"border bg-light position-absolute text-left p-0",staticStyle:{"z-index":"99",height:"auto","max-width":"20%"}},[e("ul",{staticClass:"graphinfo"},[e("li",[e("label",[t._v("X-axis:")]),t._v(" "+t._s(t.GetLocalizedValue(t.XAxisFieldName)))]),e("li",[e("label",[t._v("Y-axis:")]),t._v(" "+t._s(t.GetLocalizedValue(t.YAxisFieldName)))]),e("li",{directives:[{name:"show",rawName:"v-show",value:0!=t.aggregateFunctionResult,expression:"aggregateFunctionResult != 0"}]},[e("label",[t._v("# "+t._s(t.AggregateFuncField)+":")]),t._v(t._s(t.aggregateFunctionResult)+" ")])])]),"line"==t.chartType||"bar"==t.chartType||"horizontal_bar"==t.chartType?e("div",{staticClass:"vue-apexcharts"},[e("VueApexCharts",{ref:"chart",attrs:{type:t.chartType,height:"auto",width:"50%",options:t.chartOptions,series:t.chartSeries}})],1):t._e(),"pie"==t.chartType||"donut"==t.chartType?e("div",{staticClass:"vue-apexcharts"},[e("VueApexCharts",{ref:"chart",attrs:{type:t.chartType,height:"auto",width:"40%",options:t.chartOptions,series:t.chartSeries}})],1):t._e()])])])]):t._e(),t.shownumbergraph?e("div",{staticClass:"card mb-3 probx"},[e("div",{staticClass:"card-header"},[e("h2",[t._v(t._s(t.$t("Graph")))])]),e("div",{staticClass:"card-body",attrs:{id:"Reportpdf"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 col-lg-12 text-center"},[e("div",{staticClass:"border bg-light float-left text-left p-0 graphinfo_base_lft",staticStyle:{"z-index":"99",height:"auto","max-width":"20%"}},[e("ul",{staticClass:"graphinfo"},[e("li",[e("label",[t._v("Y-axis:")]),t._v(" "+t._s(t.GetLocalizedValue(t.YAxisFieldName)))]),e("li",[e("label",[t._v("Color-code:")]),t._v(t._s(t.GetChartColorCode))])])]),e("span",{staticClass:"p-0 m-0 float-left graphinfo_base_rgt vue-apexcharts"},[e("div",{staticClass:"col-sm-4 col-lg-4 px-0 bg-white mx-auto shadowder",staticStyle:{"min-height":"260px","padding-top":"100px"}},[e("span",{staticClass:"ChartNumberClass"},[e("h1",{style:"color:"+t.GetChartColorCode},[t._v(t._s(t.GetChartColorData))])])])])])])])]):t._e(),e("div",{staticClass:"tab-pane p-0 pb-2 border-0 active",attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[t.noRecord?e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{"aria-label":"NO Record Found"}},[t._m(2),e("tbody",[e("tr",{staticStyle:{cursor:"initial"}},[e("td",{attrs:{colspan:"4"}},[e("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[t._v(" "+t._s(t.$t("NoRecordfound")))])])])])]):t._e(),e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"Reportpdf","aria-label":"View Record"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[t._l(t.previewgroupdata,(function(a,r){return t.showdata?e("th",{key:r,attrs:{scope:"col"}},[t._v(" "+t._s(t.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName))+" ")]):t._e()})),t._l(t.previewcolumn,(function(a,r){return e("th",{key:r,attrs:{scope:"col"}},[a.Calculated_Field?e("span",[t._v(" "+t._s(t.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName))+" ")]):e("span",{class:{sort:!0,tb_headerSortUp:"ASC"==t.SortExp&&t.SortBy==a.FieldName,tb_headerSortDown:"DESC"==t.SortExp&&t.SortBy==a.FieldName},on:{click:function(e){return t.sortdata(a.FieldName,a.CustomFieldId)}}},[t._v(" "+t._s(t.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName))+" ")])])}))],2)]),t._l(t.previewdata,(function(a,r){return e("tbody",{key:r},[t._l(t.previewdata[r].data,(function(r,i){return t.showdata?e("tr",{key:i},[0==i?t._l(t.previewgroupdata,(function(r,i){return e("td",{key:i,staticClass:"breakspaces",class:{onlyrtbod:!0,"":null==a.totalRecord},attrs:{rowspan:a.totalRecord}},[t._v(t._s(null!=r.DisplayName&&""!=r.DisplayName?a[r.DisplayName]:a[r.FieldName])+" ("+t._s(a.totalRecord)+")")])})):t._e(),t._l(t.previewcolumn,(function(a,i){return e("td",{key:i},[e("span",{staticClass:"breakspaces",domProps:{innerHTML:t._s(null!=r[a.DisplayName]&&""!=r[a.DisplayName]?r[a.DisplayName]||0==r[a.DisplayName]?r[a.DisplayName]:"":r[a.FieldName]||0==r[a.FieldName]?r[a.FieldName]:"")}})])}))],2):t._e()})),t.showcoldata?e("tr",t._l(t.previewcolumn,(function(r,i){return e("td",{key:i},[e("span",{staticClass:"breakspaces",domProps:{innerHTML:t._s(null!=a[r.DisplayName]&&""!=a[r.DisplayName]?a[r.DisplayName]||0==a[r.DisplayName]?a[r.DisplayName]:"":a[r.FieldName]||0==a[r.FieldName]?a[r.FieldName]:"")}})])})),0):t._e()],2)}))],2)]),e("Pager",{class:{"d none":!0,"":t.TotalRecords>10},attrs:{numberofrecords:t.TotalRecords,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{SetCurrentPage:t.SetCurrentPage}})],1)])])])])]),t.showViewCustomReportFilter?e("modalViewCustomReportFilter",{attrs:{reportListingInfo:t.reportListingInfo},on:{close:function(e){t.showViewCustomReportFilter=!1}}}):t._e()],1)},i=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"va_lft25 top4"},[e("em",{staticClass:"icon-solid arrow-solid-left text-secondary",staticStyle:{"font-size":"20pt"}})])},function(){var t=this,e=t._self._c;return e("thead",[e("th",{attrs:{scope:"col"}})])}],o=(a("b7ef"),a("14d9"),a("88a7"),a("271a"),a("5494"),a("9769")),s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups centre fade",attrs:{id:"modalViewCustomReportFilter",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("ValidationObserver",{ref:"FilterForm",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"FilterForm1",on:{submit:function(e){return e.preventDefault(),a(t.ApplyNewFilterToList)}}},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("FILTER")))])]),e("div",{staticClass:"modal-body"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"list-item row filter-div"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divshowSearchCriteriaList"}},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(" Filter")]),e("small",{staticClass:"float-right"},[e("a",{staticStyle:{cursor:"pointer"},attrs:{href:"javascript:;",title:"Add"},on:{click:function(e){return t.AddFilterRow()}}},[e("em",{staticClass:"fa fa-plus pr-2"}),t._v(" Add ")])])])]),e("div",{staticClass:"listing mt-2"},[e("div",{staticClass:"mb-2"},[e("label",[t._v("Include data if it matches")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.modelfiltertype,expression:"modelfiltertype"}],staticClass:"form-control col-4",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.modelfiltertype=e.target.multiple?a:a[0]}}},t._l(t.FilterCategory,(function(a){return e("option",{domProps:{value:a}},[t._v(t._s(a))])})),0)]),e("div",{staticClass:"table-responsive overflow-visible"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline",attrs:{"aria-describedby":"serachfilter"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticStyle:{"min-width":"180px"},attrs:{scope:"col"}},[e("span",[t._v("Name")])]),e("th",{staticStyle:{"min-width":"180px"},attrs:{scope:"col"}},[e("span",[t._v("Operator")])]),e("th",{staticStyle:{"min-width":"480px"},attrs:{scope:"col"}},[e("span",[t._v("Value")])]),e("th",{staticStyle:{"min-width":"50px"},attrs:{scope:"col"}},[e("span",[t._v("Action")])])])]),e("tbody",[t._l(t.reportListingInfo.FILTERS,(function(a,r){return t.reportListingInfo.FILTERS.length>0?e("tr",[e("td",[a.isManuallyAdded?t._e():e("span",{staticClass:"form-control disabled"},[t._v(t._s(t.GetLocalizedValue(a.FieldName,a.DisplayName)))]),a.isManuallyAdded?e("Field",{attrs:{name:"Field"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o,meta:s}){return[e("select",t._b({directives:[{name:"model",rawName:"v-model",value:a.CustomFieldId,expression:"filterdata.CustomFieldId"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"CustomFieldId",e.target.multiple?r:r[0])},function(e){return t.OnChangeFieldDdl(a)}]}},"select",r,!1),[e("option",{attrs:{value:""}},[t._v("Select field")]),t._l(t.reportListingInfo.FIELDS,(function(a){return e("option",{attrs:{disabled:t.reportListingInfo.FILTERS.filter(t=>t.CustomFieldId==a.CustomFieldId).length>0},domProps:{value:a.CustomFieldId}},[t._v(t._s(t.GetLocalizedValue(a.FieldName,a.DisplayName)))])}))],2)]}}],null,!0)}):t._e()],1),e("td",{staticStyle:{overflow:"visible!important"}},[e("Field",{staticStyle:{overflow:"visible!important",width:"100%!important"},attrs:{name:"Operator"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("select",t._b({directives:[{name:"model",rawName:"v-model",value:a.OPERATOR_ID,expression:"filterdata.OPERATOR_ID"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"OPERATOR_ID",e.target.multiple?r:r[0])},function(e){return t.OnChangeOperator(a)}]}},"select",r,!1),[e("option",{attrs:{value:""}},[t._v("Select Operator")]),t._l(a.OperatorList,(function(a){return e("option",{domProps:{value:a.OPERATOR_ID}},[t._v(t._s(a.OPERATOR_DISPLAY_NAME))])}))],2)]}}],null,!0)})],1),e("td",{style:"select"!=a.ActualDataType||"IN"!=a.OperatorExpression&&"NOT IN"!=a.OperatorExpression?"":"display: contents;"},["Is Not Null"==a.OperatorExpression||"Is Null"==a.OperatorExpression?e("span",[t._v("--")]):t._e(),"string"==a.ActualDataType&&"Is Not Null"!=a.OperatorExpression&&"Is Null"!=a.OperatorExpression?e("Field",{attrs:{name:"StringFirstValue"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==a.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"text",id:"inpttxt"},domProps:{value:a.Value1},on:{input:function(e){e.target.composing||t.$set(a,"Value1",e.target.value)}}})]}}],null,!0)}):t._e(),"string"==a.ActualDataType&&"between"==a.OperatorExpression?e("Field",{attrs:{name:"StringSecondValue"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"50px"},attrs:{type:"text",id:"inpttxt2"},domProps:{value:a.Value2},on:{input:function(e){e.target.composing||t.$set(a,"Value2",e.target.value)}}})]}}],null,!0)}):t._e(),"decimal"!=a.ActualDataType&&"int"!=a.ActualDataType&&"bigint"!=a.ActualDataType||"Is Not Null"==a.OperatorExpression||"Is Null"==a.OperatorExpression?t._e():e("Field",{attrs:{name:"NumberFirstValue"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==a.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"number",id:"inpttxtbtw"},domProps:{value:a.Value1},on:{keydown:function(e){return t.PreventValues(e)},input:function(e){e.target.composing||t.$set(a,"Value1",e.target.value)}}})]}}],null,!0)}),"decimal"!=a.ActualDataType&&"int"!=a.ActualDataType&&"bigint"!=a.ActualDataType||"between"!=a.OperatorExpression?t._e():e("Field",{attrs:{name:"NumberSecondValue"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"50px"},attrs:{type:"number",id:"inpttxtbtw"},domProps:{value:a.Value2},on:{keydown:function(e){return t.PreventValues(e)},input:function(e){e.target.composing||t.$set(a,"Value2",e.target.value)}}})]}}],null,!0)}),"date"!=a.ActualDataType&&"datetime"!=a.ActualDataType||"DateRange"==a.OperatorExpression||"Is Not Null"==a.OperatorExpression||"Is Null"==a.OperatorExpression?t._e():e("Field",{attrs:{name:"DateFirstValue"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==a.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"date",max:"9999-12-31",id:"inpttxtdate1"},domProps:{value:a.Value1},on:{input:function(e){e.target.composing||t.$set(a,"Value1",e.target.value)}}})]}}],null,!0)}),"date"!=a.ActualDataType&&"datetime"!=a.ActualDataType||"DateRange"==a.OperatorExpression||"between"!=a.OperatorExpression?t._e():e("Field",{attrs:{name:"DateSecondValue"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"20px"},attrs:{type:"date",max:"9999-12-31",min:a.Value1},domProps:{value:a.Value2},on:{input:function(e){e.target.composing||t.$set(a,"Value2",e.target.value)}}})]}}],null,!0)}),"select"==a.ActualDataType&&"IN"!=a.OperatorExpression&&"NOT IN"!=a.OperatorExpression&&"Is Not Null"!=a.OperatorExpression&&"Is Null"!=a.OperatorExpression?e("div",[e("Field",{attrs:{name:"Selectddl"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("select",t._b({directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"Value1",e.target.multiple?r:r[0])}}},"select",r,!1),[e("option",{attrs:{value:""}},[t._v("Select value")]),t._l(a.selectOptions,(function(a){return e("option",{key:a.value,domProps:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])}))],2)]}}],null,!0)})],1):t._e(),"datetime"!=a.ActualDataType&&"date"!=a.ActualDataType||"DateRange"!=a.OperatorExpression?t._e():e("div",[e("Field",{attrs:{name:"DateRangeValue"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"Value1",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:""}},[t._v("Select value")]),t._l(t.daterangeArray,(function(a){return e("option",{key:a.value,attrs:{title:a.label},domProps:{value:a.value}},[t._v(t._s(a.label))])}))],2)]}}],null,!0)})],1),"select"!=a.ActualDataType||"IN"!=a.OperatorExpression&&"NOT IN"!=a.OperatorExpression?t._e():e("div",{staticStyle:{padding:"0.375rem 0.5rem"}},[e("Field",{attrs:{name:"MultiSelectddl"+r,rules:"required"},scopedSlots:t._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[e("Multiselect",t._b({class:{"form-control":!0,"form-control is-invalid":i[0]},staticStyle:{"box-sizing":"border-box","margin-top":"0px","padding-left":"0px","padding-right":"0px"},attrs:{id:"dontforget",multiple:!0,label:"label","track-by":"label",placeholder:"Select",searchable:!0,mode:"tags",limit:2,taggable:!1,"close-on-select":!1,options:t.multiselectArray},on:{select:t.selectionChange,remove:t.removeElement},model:{value:a.Value1,callback:function(e){t.$set(a,"Value1",e)},expression:"filterdata.Value1"}},"Multiselect",r,!1))]}}],null,!0)})],1)],1),e("td",{staticClass:"text-center single-action"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.DeleteFilterRow(r)}}},[a.isManuallyAdded?e("em",{staticClass:"fa fa-trash text-danger pr-2"}):t._e()]),a.isManuallyAdded?t._e():e("span",[t._v("--")])])]):t._e()})),0==t.reportListingInfo.FILTERS.length?e("tr",[e("td",{staticClass:"text-center text-danger py-3",attrs:{colspan:"10"}},[t._v("No record(s) found")])]):t._e()],2)])])])])])])])],1),e("div",{staticClass:"col-12 mb-3 mr-auto d-flex align-items-center justify-content-end"},[e("button",{staticClass:"btn btn-success my-2 my-sm-0 mr-2 pl-1",attrs:{type:"submit"}},[e("span",{staticClass:"fa fa-search"}),t._v(" Search")]),e("a",{staticClass:"btn btn-danger pl-1 mb-0",on:{click:function(e){return t.RemoveNewFilterFromList()}}},[e("span",{staticClass:"fa fa-times"}),t._v(" Reset Filter")])])])]}}])})],1)])])},l=[],n=a("7bb1"),d=a("4c93"),p={setup(){Object.keys(d).forEach(t=>{Object(n["d"])(t,d[t])})},components:{Form:n["Form"],Field:n["c"],ValidationObserver:n["b"]},data(){return{isLoading:!1,isFilterExist:0,selectedOPValue:"",GetOperator:[],options:[],isBinding:!1,ArrayforFilterpopup:[],FilterClose:!1,FilterCategory:["AND","OR"],modelfiltertype:"AND",multiselectArray:[],daterangeArray:[]}},props:{reportListingInfo:{type:Object}},created(){var t=this;t.GetDropDownValueOnFilter()},watch:{FilterClose(t){t&&this.GetDropDownValueOnFilter()}},mounted:function(){$("#modalViewCustomReportFilter").modal({backdrop:"static",keyboard:!1})},methods:{removeElement(){this.$forceUpdate()},selectionChange(){this.$forceUpdate()},async close(){$("#modalViewCustomReportFilter").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),await this.ApplyNewFilterToList("Close"),this.$emit("close")},GetFilterSelectDDL(t){var e=this;t.selectOptions=[],e.multiselectArray=[];var a=[];e.isLoading=!0,o["a"].GetFilterDDLselectvalue(t.CustomFieldId).then(r=>{r.data.length>0?(a=r.data,a.forEach(a=>{t.selectOptions.push({value:a.value,label:a.name}),e.multiselectArray.push({value:a.value,label:a.name})}),e.isLoading=!1):e.isLoading=!1}).catch(t=>{console.log(t)})},GetOperatordata(t){var e=t.CustomFieldId,a=`dataType=${t.ColumnFieldDataCode}&customField=${e}`;o["a"].GetDataOperator(a).then(e=>{if(t.OperatorList=e.data.DATA,t.OperatorExpression){let e=t.OperatorList.find(e=>e.OPERATOR_ID===parseInt(t.OPERATOR_ID));t.OperatorExpression=e.OPERATOR_EXPRESSION}})},GetDateRangeFilterDDL(t){var e=this;t.selectOptions=[],e.daterangeArray=[];var a=[];e.isLoading=!0,o["a"].GetDateRangeFilterDDL().then(r=>{setTimeout((function(){a=JSON.parse(r.data[0].Value).Data,a.forEach(a=>{t.selectOptions.push({value:a.date_range_name,label:a.date_range_value}),e.daterangeArray.push({value:a.date_range_name,label:a.date_range_value})}),e.isLoading=!1}),2e3)})},async ApplyNewFilterToList(t){var e=this;this.reportListingInfo.FILTERS.forEach((function(t){let a=t.OperatorList.find(e=>e.OPERATOR_ID==t.OPERATOR_ID),r="'"+t.Value1+"'",i="'"+t.Value2+"'";if("select"==t.ColumnFieldDataCode&&("IN"==a.OPERATOR_EXPRESSION||"NOT IN"==a.OPERATOR_EXPRESSION)){let e=[];t.Value1.forEach(t=>{e.push(t.value)}),r="'"+e.join("','")+"'"}"decimal"!=t.ColumnFieldDataCode&&"int"!=t.ColumnFieldDataCode&&"bigint"!=t.ColumnFieldDataCode||(t.Value1=""==t.Value1?0:t.Value1,t.Value2=""==t.Value2?0:t.Value2,r=t.Value1,i=t.Value2),t.OperatorExpression=e.ConvertOperatorToExpression(a.OPERATOR_EXPRESSION,r,i),t.FilterTypeAndorOr=e.modelfiltertype})),void 0==t&&(e.isLoading=!0,e.reportListingInfo.GRAPH.length>0&&await e.$parent.SetGroupDataforGraph([],e.reportListingInfo.FILTERS),e.$parent.UpdatePreviewData([],e.reportListingInfo.FILTERS),e.isLoading=!1,e.close())},RemoveNewFilterFromList(){var t=this;t.$parent.RemoveNewFilterFromList(),t.close()},PreventValues(t){var e=t.keyCode;69!=e&&107!=e&&109!=e||t.preventDefault()},GetDropDownValueOnFilter(){var t=this;console.log(t.reportListingInfo.FILTERS),t.reportListingInfo.FILTERS.forEach(e=>{if(t.modelfiltertype=e.FilterTypeAndorOr,t.GetOperatordata(e),"undefined"===typeof e.isManuallyAdded&&(e.isManuallyAdded=!1),"select"==e.ColumnFieldDataCode&&"Lookup"==e.PickListOption){var a=[];t.GetFilterSelectDDL(e),setTimeout((function(){if("Equal to one of multiple possible values"==e.operator_display_name&&"object"!=typeof e.Value1){var t=null===e||void 0===e?void 0:e.Value1.replace(/"|'/g,"");a=null===t||void 0===t?void 0:t.split(","),e.Value1=[],a.forEach(t=>{const a=e.selectOptions.find(e=>e.value===t);if(void 0!=a){var r={value:a.value,label:a.label};e.Value1.push(r)}})}}),2e3)}else"datetime"!=e.ColumnFieldDataCode&&"date"!=e.ColumnFieldDataCode||"Date Range"!=e.operator_display_name||t.GetDateRangeFilterDDL(e)})},AddFilterRow:function(){var t=this;this.$refs.FilterForm.validate().then((function(e){e&&t.reportListingInfo.FILTERS.push({isManuallyAdded:!0,CustomFieldId:"",FieldName:"",ActualDataType:"string",OperatorExpression:"",FilterTypeAndorOr:"AND",OPERATOR_ID:"",operator_display_name:"",Value1:"",Value2:"",IsMandatoryforFilter:!1,FieldIcons:"",DisplayName:"",PickListOption:null,ColumnFieldDataCode:"",selectedOPValue:"",selectOptions:[]})}))},OnChangeFieldDdl:function(t){t.OperatorExpression="",t.OPERATOR_ID="",t.selectOptions=[],this.reportListingInfo.FIELDS.forEach((function(e){e.CustomFieldId==t.CustomFieldId&&(t.DisplayName=e.DisplayName,t.ActualDataType=e.ColumnFieldDataCode,t.ColumnFieldDataCode=e.ColumnFieldDataCode,t.FieldName=e.FieldName,t.FieldIcons=e.FieldIcons,t.FieldIcons=e.FieldIcons)})),this.GetOperatordata(t)},OnChangeOperator:function(t){var e=this;t.selectOptions=[],e.multiselectArray=[];var a=[];if(e.isLoading=!0,t.OPERATOR_ID>0){let e=t.OperatorList.find(e=>e.OPERATOR_ID===parseInt(t.OPERATOR_ID));t.OperatorExpression=e.OPERATOR_EXPRESSION,t.operator_display_name=e.OPERATOR_DISPLAY_NAME,"IN"==t.OperatorExpression||"NOT IN"==t.OperatorExpression?t.Value1=[]:t.Value1=""}"select"==t.ColumnFieldDataCode&&o["a"].GetFilterDDLselectvalue(t.CustomFieldId).then(r=>{r.data.length>0?(a=r.data,a.forEach(a=>{t.selectOptions.push({value:a.value,label:a.name}),e.multiselectArray.push({value:a.value,label:a.name})}),e.isLoading=!1):e.isLoading=!1}).catch(t=>{console.log(t)}),"datetime"!=t.ActualDataType&&"date"!=t.ActualDataType||"DateRange"!=t.OperatorExpression||e.GetDateRangeFilterDDL(t),e.isLoading=!1},DeleteFilterRow:function(t){this.reportListingInfo.FILTERS.splice(t,1)},TruncateStr:function(t,e){var a=""+t;if(null!=a)return a.length<=e?t:a.substring(0,e)+"..."}}},c=p,u=(a("62ea"),a("2877")),m=Object(u["a"])(c,s,l,!1,null,"63fa2ee5",null),f=m.exports,g=a("be92"),h=a("b0ac"),v=a("1321"),I=a.n(v),E=a("4555"),F=a("4ebb"),S=a("e499"),D=a.n(S);const{GetUserInfo:R}=Object(g["d"])(Object(h["b"])());D.a.vfs=F["pdfMake"].vfs;var L={components:{VueApexCharts:I.a,Pager:E["a"],modalViewCustomReportFilter:f},data(){return{showViewCustomReportFilter:!1,isFilterExist:0,isLoading:!1,showdata:!1,showcoldata:!0,showgraph:!1,reportName:"",showGraphBtn:!0,viewreportparameters:"",Viewcount:0,shownumbergraph:!1,GetChartColorCode:"",GetChartColorData:"",isSortPopup:!1,sortColummnarray:[{sortcolummnId:"",columnOrders:""}],SortExp:null,SortBy:null,chartTypes:null,chartType:"",chartOptions:{},chartSeries:[],chartOptionXAxisData:[],chartSeriesData:[],colourList:["#8892d0","#da9c49","#94c5a3","#e67d21","#787878","#c59e71","#38b8df","#f55e1a","#207a92","#13599c"],AggregateFuncField:null,aggregateFunctionResult:0,XAxisFieldName:null,YAxisFieldName:null,groupGraphlist:[],GraphJson:[],previewcolumn:[],previewgroupdata:[],reportListingInfo:[],previewdata:[],CanEdit:!0,TotalRecords:0,PageNumber:1,PageSize:10,TotalPages:0,allReocrdsData:null,TableBody:[],TableHeader:[],pdfpreviewdata:[],ExcelJsonData:null,count:0,IsForPreview:0,SingleSortArray:[],MainSortingArray:[],MainUpdatedArray:[],SelectedChartTypeId:"",noRecord:!0}},props:{ReportListParameters:{type:Object}},created:async function(){var t=this;t.isLoading=!0,t.viewreportparameters=void 0==t.ReportListParameters?JSON.parse(atob(t.$route.params.ReportID)):t.ReportListParameters,await t.GetChartTypes(),await t.GetPreviewData(t.viewreportparameters.ReportID),1==t.viewreportparameters.ACCESS?t.CanEdit=!1:t.CanEdit=!0,t.Viewcount+=1},methods:{SetCurrentPage(t){var e=this;"a"==t.PagerMethod?e.pagerMethod(t.PageNumber):"b"==t.PagerMethod&&e.SetPageSize(parseInt(t.PageSize))},OpenFilter:function(){var t=this;t.showViewCustomReportFilter=!0,$("#modalViewCustomReportFilter").modal("show"),setTimeout((function(){$("#modalViewCustomReportFilter").modal("show"),setTimeout((function(){t.SetBootstraptoolTip()}),200)}),1e3)},RemoveNewFilterFromList(){var t=this;t.isLoading=!0,t.GetPreviewData(t.viewreportparameters.ReportID),t.MainUpdatedArray=[],t.noRecord=!1},OpenGraph(){var t=this;""!=t.GetChartColorCode?t.shownumbergraph?t.shownumbergraph=!1:t.shownumbergraph=!0:t.showgraph?t.showgraph=!1:t.showgraph=!0},OnBack:function(){var t=this;t.$router.push({name:"CustomReports"})},GetPreviewData(t){var e=this,a=`ReportId=${t}&IsPaged=1`;o["a"].GetReportDetailsbyId(a).then(async t=>{if("No Data"==t.data)e.ShowAlert(e.$t("ReportNotExist"),"failure",!0,e.$t("Alert")),e.$router.push({name:"CustomReports"}),e.isLoading=!1;else if(null!=t.data&&void 0!=t.data&&""!=t.data){e.reportListingInfo=t.data.JSON_To_Create_ReportListing[0].Info,e.isFilterExist=e.reportListingInfo.FILTERS.length;var a=t.data.ReportListing;e.reportName=e.reportListingInfo.REPORTNAME,e.previewcolumn=[],null!=a&&void 0!=a&&1==a?(e.reportListingInfo.GRAPH.length>0&&await e.SetGroupDataforGraph(),await e.UpdatePreviewData(),await e.GetSortingData(),e.BindGraph()):(e.noRecord=!0,e.showgraph=!1,e.showGraphBtn=!1,e.isLoading=!1)}else e.noRecord=!0,e.showgraph=!1,e.showGraphBtn=!1,e.isLoading=!1})},Bindlisting:function(t){var e=this;if(null!=t&&void 0!=t){for(let t in e.reportListingInfo.FIELDS)e.reportListingInfo.FIELDS[t].FieldName&&"ROWNUMBER"!=e.reportListingInfo.FIELDS[t].DisplayName&&"Total_Records"!=e.reportListingInfo.FIELDS[t].FieldName&&"Total_Records"!=e.reportListingInfo.FIELDS[t].DisplayName&&e.previewcolumn.push({FieldName:null!=e.reportListingInfo.FIELDS[t].DisplayName&&""!=e.reportListingInfo.FIELDS[t].DisplayName?e.reportListingInfo.FIELDS[t].DisplayName:e.reportListingInfo.FIELDS[t].FieldName,CustomFieldId:e.reportListingInfo.FIELDS[t].CustomFieldId,Calculated_Field:e.reportListingInfo.FIELDS[t].Calculated_Field,ColumnFieldDataCode:e.reportListingInfo.FIELDS[t].ColumnFieldDataCode});e.noRecord=!1}else e.noRecord=!0},BindGroupListing:function(t){var e=this;e.previewgroupdata=[],e.showdata=!0,e.showcoldata=!1;var a=0;if(null!=t&&void 0!=t){for(let t in e.reportListingInfo.GROUP){for(let r in e.reportListingInfo.FIELDS)e.reportListingInfo.GROUP[t].FieldName!=e.reportListingInfo.FIELDS[r].FieldName&&e.previewcolumn.push({FieldName:null!=e.reportListingInfo.FIELDS[r].DisplayName&&""!=e.reportListingInfo.FIELDS[r].DisplayName?e.reportListingInfo.FIELDS[r].DisplayName:e.reportListingInfo.FIELDS[r].FieldName,CustomFieldId:e.reportListingInfo.FIELDS[r].CustomFieldId,Calculated_Field:e.reportListingInfo.FIELDS[r].Calculated_Field,ColumnFieldDataCode:e.reportListingInfo.FIELDS[r].ColumnFieldDataCode}),"date"==e.reportListingInfo.FIELDS[r].ColumnFieldDataCode&&(a=r);e.previewgroupdata.push({FieldName:null!=e.reportListingInfo.GROUP[t].DisplayName&&""!=e.reportListingInfo.GROUP[t].DisplayName?e.reportListingInfo.GROUP[t].DisplayName:e.reportListingInfo.GROUP[t].FieldName,CustomFieldId:e.reportListingInfo.FIELDS[t].CustomFieldId,ColumnFieldDataCode:e.reportListingInfo.FIELDS[a].ColumnFieldDataCode})}e.noRecord=!1}else e.noRecord=!0},async SetGroupDataforGraph(t,e){var a=this;a.IsFilterValid();var r={Info:{REPORTID:a.reportListingInfo.REPORTID,REPORTNAME:a.reportListingInfo.REPORTNAME,MODULENAME:a.reportListingInfo.MODULENAME,SUBMODULECODE:a.reportListingInfo.SUBMODULECODE,SUBMODULEID:a.reportListingInfo.SUBMODULEID,PAGESIZE:parseInt(a.PageSize),PAGENUMBER:parseInt(a.PageNumber),IS_PAGED:0,IsForPreview:a.IsForPreview,FIELDS:a.reportListingInfo.FIELDS,FILTERS:void 0==e?a.reportListingInfo.FILTERS:e,GROUP:[],CHARTGROUPARRAY:a.reportListingInfo.CHARTGROUPARRAY,SORTING:a.reportListingInfo.SORTING,GRAPH:a.reportListingInfo.GRAPH,EXPRESSION:a.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:a.reportListingInfo.EXPRESSIONFIELDSARRAY}},i=JSON.stringify(r);await o["a"].PreviewReport(i).then(t=>{null!=t.data&&void 0!=t.data&&(a.groupGraphlist=JSON.parse(t.data[0].Value),void 0!=e&&a.BindGraph())}).catch(t=>{console.log(t)})},UpdatePreviewData(t,e){var a=this;a.isLoading=!0;var r=[];for(var i in a.IsFilterValid(),a.MainUpdatedArray=e,t)void 0!=t[i].sortcolummnId&&""!=t[i].sortcolummnId&&(r.push({CustomFieldId:t[i].sortcolummnId,SORTTYPE:t[i].columnOrders,SortIndex:parseInt(i),Calculated_Field:""}),a.reportListingInfo.FIELDS.forEach(t=>{var e=r.find(e=>e.CustomFieldId===t.CustomFieldId);void 0!=e&&(e.Calculated_Field=t.Calculated_Field)}));if(a.SingleSortArray.length>0&&r.length>0){const t=r.findIndex(t=>t.CustomFieldId===a.SingleSortArray[0].sortcolummnId);-1!=t&&(r.splice(t,1),a.sortColummnarray.length>1?a.sortColummnarray.splice(t,1):(a.sortColummnarray[t].sortcolummnId="",a.sortColummnarray[t].columnOrders=""))}a.MainSortingArray=r;var s={Info:{REPORTID:a.reportListingInfo.REPORTID,REPORTNAME:a.reportListingInfo.REPORTNAME,MODULENAME:a.reportListingInfo.MODULENAME,SUBMODULECODE:a.reportListingInfo.SUBMODULECODE,SUBMODULEID:a.reportListingInfo.SUBMODULEID,PAGESIZE:a.PageSize,PAGENUMBER:parseInt(a.PageNumber),IS_PAGED:1,IsForPreview:a.IsForPreview,FIELDS:a.reportListingInfo.FIELDS,FILTERS:void 0==e?a.reportListingInfo.FILTERS:e,GROUP:a.reportListingInfo.GROUP,SORTING:null==r||r==[]||0==r.length?a.reportListingInfo.SORTING:r,EXPRESSION:a.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:a.reportListingInfo.EXPRESSIONFIELDSARRAY,SINGLE_SORT:a.SingleSortArray}},l=JSON.stringify(s);o["a"].PreviewReport(l).then(async t=>{if(null!=t.data&&void 0!=t.data){a.previewcolumn=[];var e=JSON.parse(t.data[0].Value);if(null!=e&&void 0!=e){var r=e.MetaData[0];a.previewdata=e.ListingData,a.TotalRecords=r.TotalRecord,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),r.IsGrouping?a.BindGroupListing(a.previewdata):a.Bindlisting(a.previewdata)}else a.noRecord=!0,a.TotalRecords=0,a.showgraph=!1,a.showGraphBtn=!1;a.isLoading=!1}else a.isLoading=!1}).catch(t=>{console.log(t)})},BindGraph:function(){var t=this;let e=t.reportListingInfo.GRAPH[0];if(void 0==e)return t.showGraphBtn=!1,!1;""==e.ChartColorCode?null!=e&&void 0!=e&&""!=e?(t.chartType=t.chartTypes.find(t=>t.id==e.chartTypeID).chart_Type.toLowerCase(),t.SelectedChartTypeId=e.chartTypeID,t.AggregateFuncField=e.AggregateFunction,t.XAxisFieldName=t.FilterColumnlist(e.XAxisField).CustomFieldName,t.YAxisFieldName=t.FilterColumnlist(e.YAxisField).CustomFieldName,t.groupGraphlist.MetaData[0].IsGrouping&&t.SetGroupingGraphData(e.AggregateFunction),t.SetGraphValues(t.GraphJson,t.XAxisFieldName,t.YAxisFieldName),t.CalculationAggregateFunctionResult(e.AggregateFunction),null!=t.groupGraphlist.ListingData&&(t.DrawGraph(e),t.showgraph=!0)):(t.showgraph=!1,t.showGraphBtn=!1):(t.shownumbergraph=!0,t.showgraph=!1,t.YAxisFieldName=t.FilterColumnlist(e.YAxisField).CustomFieldName,t.GetChartColorCode=e.ChartColorCode,t.GetChartColorData=t.groupGraphlist.ListingData[0].GData)},SetGroupingGraphData(t){var e=this;let a=e.groupGraphlist.ListingData,r=[],i=e.XAxisFieldName,o=e.YAxisFieldName;null!=a&&void 0!=a?(console.log("length",a.length),a.forEach((e,a)=>{if((void 0!=e[i]||void 0!=i)&&a<50&&("Count"==t||"Sum"==t||"Avg"==t||"Min"==t||"Max"==t))for(var s=void 0!=e[i]?e[i]:e.data[0][i]+` (${e.totalRecord})`,l=0;l<=parseInt(e.totalRecord);l++)0==l&&r.push({[i]:s,[o]:null!=e.GData&&0!=e.GData&&e.GData>e.totalRecord?e.GData:e.totalRecord})}),e.GraphJson=r,e.showgraph=!0):(e.GraphJson=[],e.XAxisFieldName=null,e.YAxisFieldName=null,e.showgraph=!1,e.showGraphBtn=!1)},DrawGraph:function(t){var e=this,a=!1;"bar"!=e.chartType&&"line"!=e.chartType&&"horizontal_bar"!=e.chartType||("horizontal_bar"==e.chartType&&(e.chartType="bar",a=!0),e.chartSeries=[{name:e.$t(e.FilterColumnlist(t.YAxisField).CustomFieldName),data:e.chartSeriesData}],e.chartOptions={chart:{toolbar:{export:{svg:{filename:e.reportName},png:{filename:e.reportName},csv:{headerCategory:e.$t(e.FilterColumnlist(t.XAxisField).CustomFieldName),filename:e.reportName}}}},xaxis:{categories:e.chartOptionXAxisData,title:{text:a?e.$t(e.FilterColumnlist(t.YAxisField).CustomFieldName):e.$t(e.FilterColumnlist(t.XAxisField).CustomFieldName)},labels:{trim:!0,rotate:-60}},yaxis:{title:{text:a?e.$t(e.FilterColumnlist(t.XAxisField).CustomFieldName):e.$t(e.FilterColumnlist(t.YAxisField).CustomFieldName)},labels:{formatter:function(t){return t.toLocaleString("en-US")}}},plotOptions:a?{bar:{borderRadius:4,horizontal:!0}}:{},dataLabels:{enabled:!0},zoom:{enabled:!0}}),"pie"!=e.chartType&&"donut"!=e.chartType||(e.chartSeries=e.chartSeriesData,e.chartOptions={labels:e.chartOptionXAxisData,colors:e.colourList,legend:{width:screen.availWidth-80*screen.availWidth/100}})},TruncateStr:function(t,e){var a=""+t;if(null!=a)return a.length<=e?t:a.substring(0,e)+"..."},SetGraphValues(t,e,a){var r=this;r.chartOptionXAxisData=[],r.chartSeriesData=[],t.forEach(t=>{e in t&&(null!=t[e]&&void 0!=t[e]?(r.chartOptionXAxisData.push(t[e]),r.BindXYFields(t,e,a)):null!=t[a]&&void 0!=t[a]&&(r.chartOptionXAxisData="string"==typeof e?[...r.chartOptionXAxisData,"-"]:[...r.chartOptionXAxisData,0],r.BindXYFields(t,e,a)))})},BindXYFields:function(t,e,a){var r=this;if(a in t)if(null!=t[a]&&void 0!=t[a])if("string"==typeof t[a]){var i=t[a].replace(/[$€£]/g,"");r.chartSeriesData.push(parseInt(i))}else r.chartSeriesData.push(t[a]);else r.chartSeriesData=[...r.chartSeriesData,0]},FilterColumnlist(t){var e=this;let a,r,i=e.reportListingInfo.FIELDS;for(let[o]of i.entries())i[o].CustomFieldId==t&&(a=null!=i[o].DisplayName&&""!=i[o].DisplayName?i[o].DisplayName:i[o].FieldName,r=i[o].ColumnFieldDataCode);return{CustomFieldName:a,ColumnFieldType:r}},CalculationAggregateFunctionResult:function(t){var e=this,a=0;if("Sum"==t){var r=0;e.chartSeriesData.forEach(t=>{r+=t}),e.aggregateFunctionResult=r.toFixed(2),e.aggregateFunctionResult=parseFloat(e.aggregateFunctionResult).toLocaleString("en-US")}if("Count"==t){var i=0;i=e.chartSeriesData.length,e.aggregateFunctionResult=i}if("Avg"==t){var o=0,s=0;e.chartSeriesData.forEach((function(t,e){o+=t,s++})),a=o/s,e.aggregateFunctionResult=a.toFixed(2),e.aggregateFunctionResult=parseFloat(e.aggregateFunctionResult).toLocaleString("en-US")}"Min"==t&&(a=Math.min.apply(Math,e.chartSeriesData.filter(Number)),e.aggregateFunctionResult=a.toFixed(2),e.aggregateFunctionResult=parseFloat(e.aggregateFunctionResult).toLocaleString("en-US")),"Max"==t&&(a=Math.max(...e.chartSeriesData),e.aggregateFunctionResult=a.toFixed(2),e.aggregateFunctionResult=parseFloat(e.aggregateFunctionResult).toLocaleString("en-US"))},async GetChartTypes(){var t=this;await o["a"].GetChartTypes().then(e=>{t.chartTypes=e.data})},pagerMethod:function(t){var e=this;e.PageNumber=t,parseInt(e.PageNumber)>=1&&e.UpdatePreviewData(e.sortColummnarray)},SetPageSize:function(t){var e=this;e.PageSize=t,e.PageNumber=1,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.UpdatePreviewData(e.sortColummnarray)},GetAllRecordsForPDF:function(){},GetDataForPDFListing:async function(t){var e=this;if(e.count=0,e.IsFilterValid(),e.previewdata.length>0){var a={Info:{REPORTID:e.reportListingInfo.REPORTID,REPORTNAME:e.reportListingInfo.REPORTNAME,MODULENAME:e.reportListingInfo.MODULENAME,SUBMODULECODE:e.reportListingInfo.SUBMODULECODE,SUBMODULEID:e.reportListingInfo.SUBMODULEID,PAGESIZE:e.PageSize,PAGENUMBER:parseInt(e.PageNumber),IS_PAGED:0,IsForPreview:e.IsForPreview,FIELDS:e.reportListingInfo.FIELDS,FILTERS:void 0!=e.MainUpdatedArray?e.MainUpdatedArray:e.reportListingInfo.FILTERS,GROUP:e.reportListingInfo.GROUP,SORTING:void 0!=e.MainSortingArray?e.MainSortingArray:e.reportListingInfo.SORTING,EXPRESSION:e.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:e.reportListingInfo.EXPRESSIONFIELDSARRAY}},r=JSON.stringify(a);e.ExcelJsonData=r,void 0==t&&await o["a"].PreviewReport(r).then(t=>{var a=JSON.parse(t.data[0].Value);e.pdfpreviewdata=a,e.count=e.count+1}).catch(t=>{console.log("Data not Found")})}},GetGraphImageURI:async function(){var t,e,a=this;return await(null===(t=a.$refs.chart)||void 0===t?void 0:t.chart.dataURI().then(t=>{e=t})),e},ExportToPDF:async function(t){var e=this;e.isLoading=!0;var a=e.GetTotalRecordsForExceed();if(e.TotalRecords>a)e.confirmR(e.$t("LimitExceed"),!0,e.$t("LimitExceed")+"  "+e.$t("Report"),(function(){e.GetPdfAndExcelApi()}));else if(await e.GetDataForPDFListing(),0!=e.count){var r={};void 0!=e.chartOptions.legend&&(e.chartOptions.legend.width=screen.availWidth-74*screen.availWidth/100);var i=await e.GetGraphImageURI(),o=e.pdfpreviewdata.ListingData;let a,s=e.pdfpreviewdata.MetaData[0].IsGrouping,l=e.reportListingInfo.REPORTNAME.replace(".","-"),n="A2",d="",p=300;s?await e.BindPDFDataForGroup(o):await e.BindPDFData(o),e.TableHeader.length>5&&(n="A1",p=500),e.TableHeader.length>10&&(d="landscape"),null!=i&&void 0!=i&&(r={image:i.imgURI,width:p,alignment:"center"}),a={pageSize:n,pageOrientation:d,content:[r,{style:"table",table:{headerRows:1,body:e.TableBody}}],styles:e.SetPDFStyle(),defaultStyle:{alignment:"justify"}},"print"==t?(D.a.createPdf(a).print(),e.isLoading=!1):(D.a.createPdf(a).download(l),e.isLoading=!1),e.isLoading=!1}else e.ShowAlert(e.$t("No_Record_Found"),"danger",!0,e.$t("Alert")),e.isLoading=!1;e.isLoading=!1},BindPDFData:function(t){var e=this;e.TableBody=[],e.TableHeader=[];var a=[],r=Object.keys(t[0]);r.forEach(t=>{"ROWNUMBER"!=t&&(e.TableHeader.push({text:e.$t(t),style:"tableHeader",alignment:"center"}),a.push({text:t,style:"tableHeader",alignment:"center"}))}),e.TableBody.push(e.TableHeader),t.forEach(t=>{let r=[];a.forEach(e=>{r.push(t[e.text])}),e.TableBody.push(r)})},BindPDFDataForGroup:function(t){var e=this;e.TableBody=[],e.TableHeader=[];var a=[];e.TableHeader.push({text:e.$t(Object.keys(t[0])[0]),style:"tableHeader",alignment:"center"}),a.push({text:Object.keys(t[0])[0],style:"tableHeader",alignment:"center"});var r=Object.keys(t[0].data[0]);r.forEach(t=>{e.TableHeader.push({text:e.$t(t),style:"tableHeader",alignment:"center"}),a.push({text:t,style:"tableHeader",alignment:"center"})}),e.TableBody.push(e.TableHeader),t.forEach(t=>{t.data.forEach((r,i)=>{let o=[];a.forEach((e,a)=>{if(0==i&&0==a){var s=`${t[e.text]} (${t.totalRecord})`;o.push({rowSpan:parseInt(t.totalRecord),text:s})}else if(1==i&&0==a)o.push("");else if(void 0!=r[e.text]&&""!=r[e.text])o.push(r[e.text]);else{var l=r[e.text]="-";o.push(l)}}),e.TableBody.push(o)})})},SetPDFStyle:function(){return{subheader:{fontSize:16,bold:!0,margin:[0,0,0,10]},table:{margin:[0,5,0,15]}}},ExportToExcel:async function(){var t=this,e=t.GetTotalRecordsForExceed();if(t.TotalRecords>e)t.confirmR(t.$t("LimitExceed"),!0,t.$t("LimitExceed")+"  "+t.$t("Report"),(function(){t.GetPdfAndExcelApi()}));else if(t.isLoading=!0,await t.GetDataForPDFListing("Excel"),null!=t.ExcelJsonData&&void 0!=t.ExcelJsonData){var a=t.ExcelJsonData,r=`ReportId=${t.reportListingInfo.REPORTID}&pagetype=preview&IsPaged=0`;o["a"].GetExcelReport(r,a).then(e=>{var a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;"}),r=document.createElement("a");r.href=window.URL.createObjectURL(a);const i=new Date,o=`${i.getDate()}_${i.getMonth()+1}_${i.getFullYear()}`;var s=`ReportData-${t.reportListingInfo.REPORTNAME.replace(".","-")}-${o}`;s=s.split(" ").join(""),r.download=s,r.click(),t.isLoading=!1}).catch(e=>{console.log(e),t.isLoading=!1})}else t.ShowAlert(t.$t("No_Record_Found"),"danger",!0,t.$t("Alert")),t.isLoading=!1},EditReport:function(){var t=this;t.$router.push({name:"EditDataReport",params:{Modulename:t.reportListingInfo.MODULENAME,Submodulecode:t.reportListingInfo.SUBMODULECODE,ReportName:t.reportListingInfo.REPORTNAME,ReportID:t.reportListingInfo.REPORTID,Module_Id:t.reportListingInfo.MODULEID,Folder_Id:t.viewreportparameters.Folder_Id,Sub_Module_Id:t.reportListingInfo.SUBMODULEID,Version:t.Version,Action:"Edit"}})},DownloadExceedRecords:async function(){var t=this,e={emailPostString:[{configModuleName:"Email",reportId:t.reportListingInfo.REPORTID,reportname:t.reportListingInfo.REPORTNAME,username:R._value.Email,moduleName:t.reportListingInfo.MODULENAME,subModuleCode:t.reportListingInfo.SUBMODULECODE,from:R._value.Name,to:R._value.Email,subject:t.reportListingInfo.REPORTNAME,message:"Greetings! This is the Test Email of Reporting Data with an Excel File Attachment.Find Attachment","importance ":"high",quoteCompanyLogo:"",emailCc:"",emailBcc:"",companyLogo:R._value.CompanyLogo,emailContent:"",forInvoice:"yes",refId:0,isSaveLog:""}]},a={Info:{REPORTID:t.reportListingInfo.REPORTID,REPORTNAME:t.reportListingInfo.REPORTNAME,MODULENAME:t.reportListingInfo.MODULENAME,SUBMODULECODE:t.reportListingInfo.SUBMODULECODE,SUBMODULEID:t.reportListingInfo.SUBMODULEID,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:0,IsForPreview:t.IsForPreview,FIELDS:t.reportListingInfo.FIELDS,FILTERS:t.reportListingInfo.FILTERS,GROUP:t.reportListingInfo.GROUP,SORTING:t.reportListingInfo.SORTING,EXPRESSION:t.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:t.reportListingInfo.EXPRESSIONFIELDSARRAY,EmailArray:e}},r=JSON.stringify(a);t.reportListingInfo.REPORTID>0&&(t.isLoading=!0,await o["a"].SendEmailService(r).then(e=>{"Success"==e.data[0].Status&&(t.ShowAlert(t.$t("Email_Sent"),"success",!0,t.$t("Alert")),t.isLoading=!1),t.isLoading=!1}).catch(t=>{console.log(t)}))},OpenSortingPopup:function(){var t=this;t.isSortPopup?t.isSortPopup=!1:t.isSortPopup=!0},AddSortingForm:function(t){var e=this;""!=e.sortColummnarray[0].columnOrders&&""!=e.sortColummnarray[0].sortcolummnId&&e.sortColummnarray.length<e.previewcolumn.length?e.sortColummnarray.push({sortcolummnId:"",columnOrders:""}):e.ShowAlert(""!=e.sortColummnarray[0].columnOrders&&""!=e.sortColummnarray[0].sortcolummnId?e.$t("SortLimitExceed"):e.$t("AddFieldsFirst"),"danger",!0,e.$t("Alert"))},RemoveSortingForm:function(t){var e=this;1==e.sortColummnarray.length?e.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]:e.sortColummnarray.splice(e.sortColummnarray.indexOf(t),1)},EnableSortingSearch:function(t){var e=this;""!=e.sortColummnarray[0].columnOrders&&""!=e.sortColummnarray[0].sortcolummnId&&e.UpdatePreviewData(e.sortColummnarray)},RemoveSortingFromList:function(){var t=this;t.isLoading=!0,t.GetPreviewData(t.viewreportparameters.ReportID),t.MainSortingArray=[],t.noRecord=!1},GetSortingData:function(){var t=this;null!=t.reportListingInfo.SORTING&&void 0!=t.reportListingInfo.SORTING&&""!=t.reportListingInfo.SORTING&&t.reportListingInfo.SORTING.length>0?(t.sortColummnarray=[],t.reportListingInfo.SORTING.forEach((e,a)=>{t.sortColummnarray.push({sortcolummnId:e.CustomFieldId,columnOrders:e.SORTTYPE})})):t.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]},GetTotalRecordsForExceed(){var t=1e5;return t},GetPdfAndExcelApi(){var t=this;t.isLoading=!0,t.IsFilterValid();var e={Info:{REPORTID:t.reportListingInfo.REPORTID,REPORTNAME:t.reportListingInfo.REPORTNAME,MODULENAME:t.reportListingInfo.MODULENAME,SUBMODULECODE:t.reportListingInfo.SUBMODULECODE,SUBMODULEID:t.reportListingInfo.SUBMODULEID,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:0,IsForPreview:t.IsForPreview,FIELDS:t.reportListingInfo.FIELDS,FILTERS:void 0!=t.MainUpdatedArray?t.MainUpdatedArray:t.reportListingInfo.FILTERS,GROUP:t.reportListingInfo.GROUP,SORTING:void 0!=t.MainSortingArray?t.MainSortingArray:t.reportListingInfo.SORTING,EXPRESSION:t.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:t.reportListingInfo.EXPRESSIONFIELDSARRAY,Req_From:"FromExcel"}},a=JSON.stringify(e);o["a"].InsertDynamicReportsLog(a).then(e=>{"Success"==e.data[0].Status?(t.ShowAlert(t.$t("Email_Sent"),"success",!0,t.$t("Alert")),t.isLoading=!1):(t.ShowAlert(t.$t("EmailFailed"),"danger",!0,t.$t("Alert")),t.isLoading=!1)}).catch(t=>{console.log(t.message)})},sortdata:function(t,e){var a=this,r="sort tb_headerSortDown";a.SortBy=t,t===a.SortBy&&(""==a.SortExp||null==a.SortExp?(a.SortExp="ASC",r="sort tb_headerSortDown"):"ASC"==a.SortExp?(a.SortExp="DESC",r="sort tb_headerSortUp"):(a.SortExp="ASC",r="sort tb_headerSortDown")),a.SingleSortArray=[],a.SingleSortArray.push({sortcolummnId:e,columnOrders:a.SortExp}),a.UpdatePreviewData(),$("#"+t+"  span:first-child").attr("class",r)},IsFilterValid:function(){var t=this;t.reportListingInfo.FILTERS.forEach(e=>{if(e.isManuallyAdded)if("Is Empty"==e.operator_display_name||"Is Not Empty"==e.operator_display_name||"Is Off Day"==e.operator_display_name||"Is Week End"==e.operator_display_name)console.log("Valid Filter");else if(""!=e.FieldName&&""!=e.Value1&&""!=e.OPERATOR_ID)console.log("Valid Filter");else{let a=t.reportListingInfo.FILTERS.findIndex(t=>t.CustomFieldId===e.CustomFieldId);t.reportListingInfo.FILTERS.splice(a,1)}})}}},y=L,C=Object(u["a"])(y,r,i,!1,null,null,null);e["default"]=C.exports}}]);
//# sourceMappingURL=chunk-747287a0.js.map