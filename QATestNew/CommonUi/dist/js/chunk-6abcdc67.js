(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6abcdc67"],{"0831":function(e,a,t){"use strict";t("1290")},"0cb2":function(e,a,t){"use strict";var l=t("e330"),i=t("7b0b"),s=Math.floor,r=l("".charAt),o=l("".replace),n=l("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,a,t,l,p,c){var m=t+e.length,h=l.length,v=u;return void 0!==p&&(p=i(p),v=d),o(c,v,(function(i,o){var d;switch(r(o,0)){case"$":return"$";case"&":return e;case"`":return n(a,0,t);case"'":return n(a,m);case"<":d=p[n(o,1,-1)];break;default:var u=+o;if(0===u)return i;if(u>h){var c=s(u/10);return 0===c?i:c<=h?void 0===l[c-1]?r(o,1):l[c-1]+r(o,1):i}d=l[u-1]}return void 0===d?"":d}))}},1290:function(e,a,t){var l=t("caf2");l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var i=t("499e").default;i("2518e5fb",l,!0,{sourceMap:!1,shadowMode:!1})},"3aee":function(e,a,t){var l=t("67c1");l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var i=t("499e").default;i("7b1d9a9d",l,!0,{sourceMap:!1,shadowMode:!1})},"44e7":function(e,a,t){"use strict";var l=t("861d"),i=t("c6b6"),s=t("b622"),r=s("match");e.exports=function(e){var a;return l(e)&&(void 0!==(a=e[r])?!!a:"RegExp"===i(e))}},"5b81":function(e,a,t){"use strict";var l=t("23e7"),i=t("c65b"),s=t("e330"),r=t("1d80"),o=t("1626"),n=t("7234"),d=t("44e7"),u=t("577e"),p=t("dc4a"),c=t("90d8"),m=t("0cb2"),h=t("b622"),v=t("c430"),f=h("replace"),y=TypeError,C=s("".indexOf),F=s("".replace),g=s("".slice),D=Math.max,x=function(e,a,t){return t>e.length?-1:""===a?t:C(e,a,t)};l({target:"String",proto:!0},{replaceAll:function(e,a){var t,l,s,h,I,b,S,V,A,N=r(this),_=0,w=0,E="";if(!n(e)){if(t=d(e),t&&(l=u(r(c(e))),!~C(l,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(s=p(e,f),s)return i(s,e,N,a);if(v&&t)return F(u(N),e,a)}h=u(N),I=u(e),b=o(a),b||(a=u(a)),S=I.length,V=D(1,S),_=x(h,I,0);while(-1!==_)A=b?u(a(I,_,h)):m(I,h,_,[],void 0,a),E+=g(h,w,_)+A,w=_+S,_=x(h,I,_+V);return w<h.length&&(E+=g(h,w)),E}})},"654f":function(e,a,t){var l=t("24fb");a=l(!1),a.push([e.i,"",""]),e.exports=a},"67c1":function(e,a,t){var l=t("24fb");a=l(!1),a.push([e.i,".ChartNumberClass{text-align:center}",""]),e.exports=a},"7adb":function(e,a,t){"use strict";t("3aee")},"8a7e":function(e,a,t){var l=t("654f");l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var i=t("499e").default;i("e2f9a894",l,!0,{sourceMap:!1,shadowMode:!1})},"90d8":function(e,a,t){"use strict";var l=t("c65b"),i=t("1a2d"),s=t("3a9b"),r=t("ad6d"),o=RegExp.prototype;e.exports=function(e){var a=e.flags;return void 0!==a||"flags"in o||i(e,"flags")||!s(o,e)?a:l(r,e)}},"994a":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e._self._c;return a("section",{staticClass:"page-action"},[a("div",{staticClass:"left-menu-tab datareport"},[a("div",{class:e.maindiv},[a("loader",{attrs:{isVisible:e.isLoading}}),a("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[a("div",{class:e.editclass},[a("div",{staticClass:"card-header filter-head p-0",attrs:{role:"tab",id:"headingOne1"}},[a("h5",{staticClass:"mb-0 px-2"},[e._v(e._s(e.ReportName)+" "),a("span",{staticClass:"expand_all_filters"},[a("span",{attrs:{id:"SearchData"}},[a("a",{staticClass:"collapsed",attrs:{title:e.$t("EditReportName"),"data-toggle-tooltip":"tooltip"},on:{click:function(a){return e.editreport()}}},[a("em",{staticClass:"fa fa-pencil",staticStyle:{"font-size":"20px"},attrs:{"aria-hidden":"true"}})])]),a("span",[a("a",{staticClass:"collapsed",attrs:{title:"Collapse","data-toggle-tooltip":"tooltip"},on:{click:function(a){return e.collapsedclick()}}},[a("em",{staticClass:"fa fa-angle-double-left mt-1",attrs:{"aria-hidden":"true"}})])])])])])]),a("div",{class:e.saveclass},[a("div",{staticClass:"card-header filter-head p-0",attrs:{role:"tab",id:"headingOne1"}},[a("h5",{staticClass:"mb-0 pl-2 mt-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.savereportname,expression:"savereportname"}],class:{"form-control p-1":!0,"is-invalid":e.savereportname.length>100},staticStyle:{width:"83%"},attrs:{type:"text"},domProps:{value:e.savereportname},on:{input:function(a){a.target.composing||(e.savereportname=a.target.value)}}}),a("span",{staticClass:"expand_all_filters"},[a("span",{attrs:{id:"SearchData"}},[a("a",{staticClass:"collapsed",attrs:{title:e.$t("Save"),"data-toggle-tooltip":"tooltip"},on:{click:function(a){return e.savereport()}}},[a("em",{staticClass:"fa fa-floppy-o mt-1",attrs:{"aria-hidden":"true"}})])])])])])]),a("div",{staticClass:"card-panel"},[a("div",{staticClass:"mb-0 d-lg-block p-2 border"},[a("div",{staticClass:"input-group customsearchbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.MainSearchmodel,expression:"MainSearchmodel"}],staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",id:"searchinput",placeholder:"Search by Name",autocomplete:"off"},domProps:{value:e.MainSearchmodel},on:{keydown:e.ListFiltering,keyup:e.ListFiltering,mouseup:e.SelectAllSearch,mouseleave:e.SelectAllSearch,input:function(a){a.target.composing||(e.MainSearchmodel=a.target.value)}}}),e._m(0)])]),e._l(e.submodulecodename,(function(t,l){return a("div",{key:l,staticClass:"card",staticStyle:{"border-bottom":"1px solid #929292"}},[a("div",{staticClass:"card-header pl-0",attrs:{role:"tab",id:"headingOnee"+l}},[a("h5",{staticClass:"mb-0"},[a("a",{class:0==l?"":"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx",href:"javascript:;","aria-expanded":0==l,"data-target":"#collapseOne"+l,"aria-controls":"collapseOne"+l}},[a("em",{staticClass:"fa fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.GetLocalizedValue(t.SubModule)))]),a("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})]),e._m(1,!0)])]),a("div",{class:0==e.modulelisting.length?"d-none":0==e.modulelisting[l].length&&!e.showModuleListForFilter||0==e.modulelistingforfilter[l].length&&e.showModuleListForFilter?"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2":"d-none"},[e._v(" "+e._s(e.$t("NoFieldAvailable")))]),a("div",{class:0==l?"collapse multi-collapse show":"collapse multi-collapse",attrs:{id:"collapseOne"+l,role:"tabpanel","aria-labelledby":"headingOnee"+l,"data-parent":"#accordionEx"}},[a("PerfectScrollbar",[a("div",{staticClass:"card-body p-0 customScrollForLeftBar llt",staticStyle:{"max-height":"300px"}},[a("div",{staticClass:"form-group"},[a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix"},[e.showModuleListForField?a("draggable",{staticClass:"draggable-list",attrs:{list:0==e.searchColumnfilter.length?e.modulelisting[l]:e.searchColumnfilter[l],group:"my-groupForFields",move:e.checkMove,"item-key":"CustomFieldId"},on:{start:function(a){e.drag=!0},end:e.onDragEnd,change:function(a){return e.GetDraggedItem(a,l,t.SubModule)}},model:{value:e.modulelistingmodel,callback:function(a){e.modulelistingmodel=a},expression:"modulelistingmodel"}},e._l(0==e.searchColumnfilter.length?e.modulelisting[l]:e.searchColumnfilter[l],(function(i,s){return a("li",{key:s,staticClass:"nav-item parent-element",attrs:{id:"StopDragfield"}},[a("span",{staticClass:"nav-link left-menu px-3"},[a("em",{class:void 0!=i.FieldIcons?i.FieldIcons+" float-left":null!=i.dttype[0].icon?i.dttype[0].icon+" float-left":"float-left",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"text-truncate float-left",staticStyle:{width:"55%"},attrs:{"data-toggle-tooltip":e.GetLocalizedValue(null!=i.DisplayName?i.DisplayName:i.FieldName),title:e.GetLocalizedValue(null!=i.DisplayName?i.DisplayName:i.FieldName)}},[e._v(" "+e._s(e.GetLocalizedValue(i.FieldName,i.DisplayName))+" ")]),a("a",{attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-plus float-right mt-1 text-success pr-0",attrs:{"aria-hidden":"true"},on:{click:function(a){return e.Addfields(i,a,l,t.SubModule)}}})])])])})),0):e._e(),e.showModuleListForFilter?a("draggable",{staticClass:"draggable-list",attrs:{list:0==e.searchColumnfilter.length?e.modulelistingforfilter[l]:e.searchColumnfilter[l],group:"my-groupForFilter",move:e.checkMove,"item-key":"CustomFieldId"},on:{start:function(a){e.drag=!0},end:e.onDragEnd,change:function(a){return e.GetDraggedItem(a,l)}},model:{value:e.modulelistingmodel,callback:function(a){e.modulelistingmodel=a},expression:"modulelistingmodel"}},e._l(0==e.searchColumnfilter.length?e.modulelistingforfilter[l]:e.searchColumnfilter[l],(function(t,i){return a("li",{key:i,staticClass:"nav-item parent-element",attrs:{id:"StopDragfield"}},[a("span",{staticClass:"nav-link left-menu px-3"},[a("em",{class:void 0!=t.FieldIcons?t.FieldIcons+" float-left":null!=t.dttype[0].icon?t.dttype[0].icon+" float-left":"float-left",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"text-truncate float-left",staticStyle:{width:"55%"},attrs:{"data-toggle-tooltip":e.GetLocalizedValue(null!=t.DisplayName?t.DisplayName:t.FieldName),title:e.GetLocalizedValue(null!=t.DisplayName?t.DisplayName:t.FieldName)}},[e._v(" "+e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName))+" ")]),a("a",{attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-sliders float-right mt-1 text-primary pr-0",attrs:{"aria-hidden":"true"},on:{click:function(a){return e.AddFilter(t,l)}}})])])])})),0):e._e()],1)])])])],1)])})),e.SearchNoRecordForField&&!e.showModuleListForFilter||e.SearchNoRecordForFilter&&e.showModuleListForFilter?a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2"},[e._v(" "+e._s(e.$t("NoRecordfound")))]):e._e()],2)])],1),a("div",{class:e.showdiv,staticStyle:{float:"left",width:"50px"},on:{click:function(a){return e.expandclick()}}},[e._m(2)]),a("div",{class:e.fieldpan},[a("div",{staticClass:"tab-style w-100"},[a("div",{staticClass:"tab_container",attrs:{role:"tabpanel"}},[a("div",{staticClass:"tab-content"},[a("b-tabs",{attrs:{pills:""}},[a("b-tab",{ref:"FIELDS",staticClass:"fields",attrs:{title:"FIELDS",active:e.showModuleListForField},on:{click:e.FieldTabClicked}},[a("div",{staticClass:"col-12 p-0 float-left"},[a("h6",{staticClass:"mb-1"},[e._v(e._s(e.$t("Groups")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.Groupsearchmodel,expression:"Groupsearchmodel"}],class:0==e.Grouplist.length?"form-control":"form-control disabled",attrs:{placeholder:"Add Group"},domProps:{value:e.Groupsearchmodel},on:{keypress:e.GroupSearching,input:function(a){a.target.composing||(e.Groupsearchmodel=a.target.value)}}}),""!=e.Groupsearchmodel?a("div",{staticClass:"autosuggestion",class:e.itemclass},[e._l(e.filtergroup,(function(t,l){return a("div",{key:l},[a("div",[a("div",{on:{click:function(a){return e.selectfiltervalue(t)}}},[e._v(" "+e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName))+" : "+e._s(t.MainFieldname)+" ")])])])})),0==e.filtergroup.length?a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()],2):e._e(),a("br"),a("draggable",{staticClass:"draggable-list",attrs:{list:e.Grouplist,group:"my-groupGrouplist","item-key":"CustomFieldId"},on:{start:function(a){e.drag=!0},end:function(a){e.drag=!1}},model:{value:e.Grouplist,callback:function(a){e.Grouplist=a},expression:"Grouplist"}},e._l(e.Grouplist,(function(t,l){return a("div",{key:l,staticClass:"list-item"},[a("span",{staticClass:"text-truncate float-left",staticStyle:{width:"200px"},attrs:{"data-toggle-tooltip":e.GetLocalizedValue(t.DisplayName),title:e.GetLocalizedValue(t.DisplayName)}},[e._v(" "+e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName))+" ")]),a("a",[a("em",{staticClass:"fa fa-trash-o text-danger",attrs:{"aria-hidden":"true"},on:{click:function(a){return e.DeleteGroupFields(t,a,l)}}})])])})),0)],1),a("hr"),a("div",{staticClass:"col-12 p-0 float-left"},[a("h6",{staticClass:"mb-1"},[e._v(e._s(e.$t("COLUMNS")))]),a("div",{staticClass:"verticle-action",staticStyle:{top:"-3px"}},[a("em",{class:1==e.CalculatedUIEnabled?"fa fa-ellipsis-v action_icon":"fa fa-ellipsis-v action_icon disabled",attrs:{id:"btnpopup","aria-hidden":"true"},on:{click:function(a){return e.openActionIcon(a)}}}),e.showRowLevelFunction?a("span",{staticClass:"action-list-box",staticStyle:{width:"240px",display:"block"}},[a("span",{staticClass:"list-actions fsm-list",staticStyle:{"padding-left":"0"},attrs:{id:"action-list"}},[a("a",{staticClass:"update actions-onclick",on:{click:e.OpenCalculatedUI}},[a("span",{staticClass:"text"},[e._v(e._s(e.$t("CalcultedUIName")))])]),a("em",{staticClass:"fa fa-times close close-action",attrs:{"aria-hidden":"true"},on:{click:function(a){return e.closeActionIcon(a)}}})])]):e._e()]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ColumnSearchmodel,expression:"ColumnSearchmodel"}],staticClass:"form-control",attrs:{placeholder:"Add Column"},domProps:{value:e.ColumnSearchmodel},on:{keypress:e.GroupSearching,input:function(a){a.target.composing||(e.ColumnSearchmodel=a.target.value)}}}),""!=e.ColumnSearchmodel?a("div",{staticClass:"autosuggestion",class:e.itemclass,staticStyle:{"z-index":"9999"}},[e._l(e.filterColumngroup,(function(t,l){return a("div",{key:l},[a("div",[a("div",{on:{click:function(a){return e.selectfilterColumnvalue(t)}}},[e._v(" "+e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName))+" : "+e._s(t.MainFieldname)+" ")])])])})),0==e.filterColumngroup.length?a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()],2):e._e(),a("div",{staticClass:"dashed_bod_drag text-center mt-2"},[a("h6",{staticClass:"p-2 m-0"},[e._v("Drag Fields Here ")]),a("draggable",{staticClass:"draggable-list",attrs:{list:e.Columnlist,group:"my-groupForFields",id:"TargetDivID",move:e.checkMove,"item-key":"CustomFieldId"},on:{start:function(a){e.drag=!0},end:e.ColumnListDisplayOrder},model:{value:e.Columnlist,callback:function(a){e.Columnlist=a},expression:"Columnlist"}},e._l(e.Columnlist,(function(t,l){return a("div",{key:l,staticClass:"list-item parent-element",attrs:{id:"TargetDivID"}},[1==t.Calculated_Field?a("span",{staticStyle:{"font-size":"22px",float:"left","margin-right":"10px"}},[e._v("f"),a("sub",{staticStyle:{"font-size":"12px"}},[e._v("x")])]):e._e(),a("span",{staticClass:"text-truncate float-left",staticStyle:{width:"200px"},attrs:{"data-toggle-tooltip":t.FieldName,title:e.GetLocalizedValue(t.FieldName,t.DisplayName)}},[e._v(" "+e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName))+" "+e._s(t.ExpresssionFieldName)+" ")]),a("div",{staticClass:"parentdiv datarepfix filters"},[a("a",{attrs:{"aria-hidden":"true"},on:{click:function(a){return e.DeleteColumnFields(t,a)}}},[a("em",{staticClass:"fa fa-trash-o text-danger"})]),a("a",{attrs:{"aria-hidden":"true"},on:{click:function(a){return e.openSetting(t,a)}}},[a("em",{staticClass:"fa fa-cog action_icon_cv"})]),a("div",[a("div",{staticClass:"verticle-action rt25 rt502"},[a("span",{staticClass:"action-list-box small setting-div-box"},[a("span",{staticClass:"list-actions text-left p-0 datarep ml-3",staticStyle:{width:"480px"},attrs:{id:"action-list"}},[a("div",{staticClass:"float-left col-12 p-0"},[a("div",{staticClass:"container-fluid p-0 mb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white mt-2"},[e._v(" "+e._s(e.$t("Setting"))+" ")])])])])]),a("div",{staticClass:"col-12 float-left"},[a("div",{staticClass:"col-12 p-0 float-left"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("DisplayName")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modeldisplayname,expression:"modeldisplayname"}],staticClass:"form-control",attrs:{maxlength:"20"},domProps:{value:e.modeldisplayname},on:{paste:function(e){e.preventDefault()},keydown:function(a){return e.PreventDecimal(a)},input:function(a){a.target.composing||(e.modeldisplayname=a.target.value)}}})])]),a("div",{staticClass:"col-12 p-0 float-left"},[a("div",{class:"date"==t.ColumnFieldDataCode?"":"form-group d-none"},[a("label",[e._v(e._s(e.$t("DateFormat"))+":")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.modeldateformat,expression:"modeldateformat"}],staticClass:"form-control textnormal",on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.modeldateformat=a.target.multiple?t:t[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v(" Select ")]),e._l(e.GetDateFromDB,(function(t,l){return a("option",{key:l},[e._v(" "+e._s(e.GetLocalizedValue(t.dateFormat))+" ")])}))],2)])]),a("div",{staticClass:"col-12 p-0 float-left"},[a("div",{class:"decimal"==t.ColumnFieldDataCode?"":"form-group d-none"},[a("label",[e._v(e._s(e.$t("DecimalPlaces")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modeldecimalplaces,expression:"modeldecimalplaces"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.modeldecimalplaces},on:{input:function(a){a.target.composing||(e.modeldecimalplaces=a.target.value)}}})])]),a("div",{staticClass:"col-12 p-0 float-left",staticStyle:{"margin-top":"10px"}},[a("div",{class:"decimal"==t.ColumnFieldDataCode?"":"form-group d-none"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.modeluseseparator,expression:"modeluseseparator"}],attrs:{type:"checkbox",id:"useseparator"},domProps:{checked:Array.isArray(e.modeluseseparator)?e._i(e.modeluseseparator,null)>-1:e.modeluseseparator},on:{change:function(a){var t=e.modeluseseparator,l=a.target,i=!!l.checked;if(Array.isArray(t)){var s=null,r=e._i(t,s);l.checked?r<0&&(e.modeluseseparator=t.concat([s])):r>-1&&(e.modeluseseparator=t.slice(0,r).concat(t.slice(r+1)))}else e.modeluseseparator=i}}}),e._v("  "),a("label",{attrs:{for:"User"}},[e._v(e._s(e.$t("UseSeparator")))]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelusecurrency,expression:"modelusecurrency"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.modelusecurrency)?e._i(e.modelusecurrency,null)>-1:e.modelusecurrency},on:{change:function(a){var t=e.modelusecurrency,l=a.target,i=!!l.checked;if(Array.isArray(t)){var s=null,r=e._i(t,s);l.checked?r<0&&(e.modelusecurrency=t.concat([s])):r>-1&&(e.modelusecurrency=t.slice(0,r).concat(t.slice(r+1)))}else e.modelusecurrency=i}}}),a("label",{staticStyle:{padding:"6px"},attrs:{for:"Role"}},[e._v(e._s(e.$t("UseCurrency")))])])]),a("div",{staticClass:"col-12 p-0 float-left mb-3"},[a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success ancsaveuserticket text-white",attrs:{id:"btnSaveTicket",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to submit ticket"},on:{click:function(a){return e.ApplySaveSelectedData(t,a)}}},[a("span",{staticClass:"fa fa-floppy-o"}),e._v(" "+e._s(e.$t("Save"))+" ")])])])])])]),a("em",{staticClass:"fa fa-times close close-action_cv",attrs:{"aria-hidden":"true"},on:{click:function(a){return e.CloseSetting(a)}}}),a("div",{staticClass:"va_rt25"},[a("em",{staticClass:"icon-solid arrow-solid-left text-dark",staticStyle:{"font-size":"20pt"}})])])])])])]),a("div",{staticClass:"float-left text-left w-100 font-12"},[e._v(e._s(t.MainFieldname))])])})),0)],1)])]),a("b-tab",{ref:"Filters",attrs:{title:"Filters",active:e.showModuleListForFilter},on:{click:e.FilterTabClicked}},[a("div",{staticClass:"col-12 p-0 float-left"},[a("h6",[e._v("include data if it matches")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],staticClass:"form-control",attrs:{name:"template"},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.category=a.target.multiple?t:t[0]},e.filterRulechange]}},e._l(e.templates,(function(t,l){return a("option",{key:l,domProps:{selected:t==e.category?"selected":"",value:t}},[e._v(" "+e._s(t)+" ")])})),0),a("h6",{staticClass:"mt-3"},[e._v("Filter rules")]),a("div",{staticClass:"form-control"},[e._l(e.Filterlist,(function(t,l){return"Match All Value"==e.category?a("span",{key:l,attrs:{"ml-1":""}},[e._v(" "+e._s(e.Filterlist.indexOf(t)+1)+" "),e.Filterlist.length>e.Filterlist.indexOf(t)+1?a("span",{staticStyle:{"margin-right":"3px"}},[e._v(" "+e._s(e.filtertype))]):e._e()]):e._e()})),e._l(e.Filterlist,(function(t,l){return"Match All Value"!=e.category?a("span",{key:l},[e._v(" "+e._s(e.Filterlist.indexOf(t)+1)+" "),e.Filterlist.length>e.Filterlist.indexOf(t)+1?a("span",{staticStyle:{"margin-right":"3px"}},[e._v(e._s(e.filtertype))]):e._e()]):e._e()}))],2),a("draggable",{staticClass:"draggable-list",attrs:{list:e.Filterlist,group:"my-groupForFilter",move:e.checkMove,"item-key":"CustomFieldId",id:"TargetDivID"},on:{start:function(a){e.drag=!0},end:e.ColumnListDisplayOrder,dragenter:function(a){return e.dragover(a)},dragleave:function(a){return e.dragover(a)},drop:function(a){return e.dragover(a)}},model:{value:e.Filterlist,callback:function(a){e.Filterlist=a},expression:"Filterlist"}},e._l(e.Filterlist,(function(t,l){return a("div",{key:l,staticClass:"list-item row filter-div",attrs:{id:"TargetDivID"},on:{dragover:function(a){return e.dragover(a)}}},[a("div",{staticClass:"counter_num px-1 py-2 filter-count-div"},[e._v(" "+e._s(e.Filterlist.indexOf(t)+1)+" ")]),a("div",{staticStyle:{width:"77%"}},[a("div",{staticClass:"px-1 py-0 width120 text-truncate float-left font-14"},[1==t.Calculated_Field?a("span",{staticStyle:{"font-size":"22px",float:"left","margin-right":"10px"}},[e._v("f"),a("sub",{staticStyle:{"font-size":"12px"}},[e._v("x")])]):e._e(),a("span",{staticClass:"text-truncate float-left",staticStyle:{width:"110px"},attrs:{"data-toggle-tooltip":t.FieldName,title:e.GetLocalizedValue(t.FieldName,t.DisplayName)}},[e._v(" "+e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName))+e._s(t.ExpresssionFieldName)+" ")])]),a("div",{staticClass:"px-1 py-0 text-primary width80 text-truncate float-left font-14"},[e._v(" "+e._s(t.OperatorDisplayName)+" ")]),a("div",{staticClass:"px-1 py-0 hh text-truncate float-left font-12 w-100"},[e._v(" "+e._s(t.valueTypeText)+" "+e._s(t.valueTypeNumber)+" "+e._s(t.valueTypeNumber2)+" "+e._s(e.$options.filters.formatDate(t.valueTypeFirstdate))+" "+e._s(e.$options.filters.formatDate(t.valueTypeSeconddate))+" "+e._s(t.ValueDisplayFirstTime)+" "+e._s(t.ValueDisplaySecondTime)+" "+e._s(t.Displaymultiplevalue)+" "+e._s(t.DropDownValue)+" "+e._s(e.$t(t.DateRangeValue))+" ")])]),a("div",{staticClass:"parentdiv datarepfix filters"},[a("a",{attrs:{"aria-hidden":"true"},on:{click:function(a){return e.DeleteFilterFields(t,a)}}},[a("em",{class:t.IsMandatoryforFilter?"fa fa-trash-o text-danger d-none":"fa fa-trash-o text-danger"})]),a("a",{attrs:{"aria-hidden":"true"},on:{click:function(a){return e.openrulespop(t,a)}}},[a("em",{staticClass:"fa fa-cog action_icon_cv"})]),a("div",[a("div",{staticClass:"verticle-action rt25 rt502"},[a("span",{staticClass:"action-list-box small filter-list-box"},[a("span",{staticClass:"list-actions text-left p-0 datarep ml-3",staticStyle:{width:"480px"},attrs:{id:"action-list"}},[a("div",{staticClass:"float-left col-12 p-0"},[a("div",{staticClass:"container-fluid p-0 mb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white mt-2"},[e._v(" "+e._s(e.$t("Setting"))+" ")])])])])]),a("div",{staticClass:"col-12 float-left"},[a("div",{staticClass:"col-12 p-0 float-left"},[e._l(e.GetOperator,(function(l,i){return a("div",{key:i,staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOPValue,expression:"element.selectedOPValue"}],staticClass:"radio",attrs:{type:"radio",name:"radiobtn"+(e.Filterlist.indexOf(t)+1)},domProps:{value:l.OPERATOR_ID,checked:e._q(t.selectedOPValue,l.OPERATOR_ID)},on:{click:function(a){return e.checkvalue(l.OPERATOR_DISPLAY_NAME,t,l.OPERATOR_EXPRESSION,l.OPERATOR_ID,l.MP[0].OPERATION_DATA_TYPE)},change:function(a){return e.$set(t,"selectedOPValue",l.OPERATOR_ID)}}}),a("label",{staticClass:"ml-2"},[e._v(" "+e._s(l.OPERATOR_DISPLAY_NAME)+" ")]),a("br")])})),e.texttypevalue1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaytext,expression:"ValueDisplaytext"}],staticClass:"form-control",attrs:{type:"text",id:"inpttxt"},domProps:{value:e.ValueDisplaytext},on:{input:function(a){a.target.composing||(e.ValueDisplaytext=a.target.value)}}}):e._e(),e.texttypevalue2?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaytext2,expression:"ValueDisplaytext2"}],staticClass:"form-control",attrs:{type:"text",id:"inpttxt2"},domProps:{value:e.ValueDisplaytext2},on:{input:function(a){a.target.composing||(e.ValueDisplaytext2=a.target.value)}}}):e._e(),e.numbertypevalue1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaynumber,expression:"ValueDisplaynumber"}],class:{"form-control":!0,"is-invalid":"int"==t.ColumnFieldDataCode?e.ValueDisplaynumber.length>9:e.ValueDisplaynumber.length>15},attrs:{type:"number",id:"inpttxtbtw",onKeyPress:"int"==t.ColumnFieldDataCode?"if(this.value.length > 9) return false;":"if(this.value.length > 15) return false;"},domProps:{value:e.ValueDisplaynumber},on:{keydown:function(a){return e.PreventValues(a)},input:function(a){a.target.composing||(e.ValueDisplaynumber=a.target.value)}}}):e._e(),a("br"),e.numbertypevalue2?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaynumber2,expression:"ValueDisplaynumber2"}],class:{"form-control":!0,"is-invalid":"int"==t.ColumnFieldDataCode?(parseFloat(e.ValueDisplaynumber2)<parseFloat(e.ValueDisplaynumber)||parseFloat(e.ValueDisplaynumber2)==parseFloat(e.ValueDisplaynumber)||e.ValueDisplaynumber2.length>9)&&(""!=e.ValueDisplaynumber2||"0"==e.ValueDisplaynumber2):(parseFloat(e.ValueDisplaynumber2)<parseFloat(e.ValueDisplaynumber)||parseFloat(e.ValueDisplaynumber2)==parseFloat(e.ValueDisplaynumber)||e.ValueDisplaynumber2.length>15)&&(""!=e.ValueDisplaynumber2||"0"==e.ValueDisplaynumber2)},attrs:{type:"number",id:"inpttxtbtw",onKeyPress:"int"==t.ColumnFieldDataCode?"if(this.value.length > 9) return false;":"if(this.value.length > 15) return false;"},domProps:{value:e.ValueDisplaynumber2},on:{keydown:function(a){return e.PreventValues(a)},input:function(a){a.target.composing||(e.ValueDisplaynumber2=a.target.value)}}}):e._e(),!(parseFloat(e.ValueDisplaynumber2)<parseFloat(e.ValueDisplaynumber)||parseFloat(e.ValueDisplaynumber2)==parseFloat(e.ValueDisplaynumber))||""==e.ValueDisplaynumber2&&"0"!=e.ValueDisplaynumber2?e._e():a("span",{staticClass:"invalid-feedback"},[e._v("Second value should be greater than first value.")]),"int"!=t.ColumnFieldDataCode?a("span",{class:e.ValueDisplaynumber.length>15||e.ValueDisplaynumber2.length>15?"invalid-feedback":"d-none"},[e._v("Can not add more than 15 digits")]):e._e(),"int"==t.ColumnFieldDataCode?a("span",{class:e.ValueDisplaynumber.length>9||e.ValueDisplaynumber2.length>9?"invalid-feedback":"d-none"},[e._v("Can not add more than 09 digits")]):e._e(),e.datetypevalue1?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaydate,expression:"ValueDisplaydate"}],staticClass:"form-control",attrs:{type:"date",id:"inpttxtdate1",max:"9999-12-31"},domProps:{value:e.ValueDisplaydate},on:{input:function(a){a.target.composing||(e.ValueDisplaydate=a.target.value)}}}):e._e(),e.datetypevalue2?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaydate2,expression:"ValueDisplaydate2"}],class:{"form-control":!0,disabled:""==e.ValueDisplaydate,"is-invalid":(Date.parse(e.ValueDisplaydate2)<Date.parse(e.ValueDisplaydate)||Date.parse(e.ValueDisplaydate2)==Date.parse(e.ValueDisplaydate))&&""!=e.ValueDisplaydate2},attrs:{type:"date",id:"inpttxtdate2",min:e.ValueDisplaydate,max:"9999-12-31"},domProps:{value:e.ValueDisplaydate2},on:{input:function(a){a.target.composing||(e.ValueDisplaydate2=a.target.value)}}}):e._e(),(Date.parse(e.ValueDisplaydate2)<Date.parse(e.ValueDisplaydate)||Date.parse(e.ValueDisplaydate2)==Date.parse(e.ValueDisplaydate))&&""!=e.ValueDisplaydate2?a("span",{staticClass:"invalid-feedback"},[e._v("Second value should be greater than first value.")]):e._e(),e.DDLForDateRange?a("select",{directives:[{name:"model",rawName:"v-model",value:e.modeldaterange,expression:"modeldaterange"}],staticClass:"form-control",on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.modeldaterange=a.target.multiple?t:t[0]}}},[a("option",{attrs:{disabled:""}},[e._v("Select ")]),e._l(e.DateRangeData,(function(t){return a("option",{key:t.date_range_name,attrs:{title:t.date_range_value},domProps:{value:t.date_range_name}},[e._v(" "+e._s(e.TruncateStr(t.date_range_value,50)))])}))],2):e._e(),e.timetypevalue?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplayTime,expression:"ValueDisplayTime"}],staticClass:"form-control",attrs:{type:"time",id:"inpttxttime1",Title:e.ValueDisplayTime,step:"2"},domProps:{value:e.ValueDisplayTime},on:{input:function(a){a.target.composing||(e.ValueDisplayTime=a.target.value)}}}):e._e(),e.timetypevalue2?a("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplayTime2,expression:"ValueDisplayTime2"}],class:{"form-control":!0,disabled:""==e.ValueDisplayTime},attrs:{type:"time",id:"inpttxttime2",min:e.ValueDisplayTime,Title:e.ValueDisplayTime2,step:"2"},domProps:{value:e.ValueDisplayTime2},on:{input:function(a){a.target.composing||(e.ValueDisplayTime2=a.target.value)}}}):e._e(),e.DDLForFilter?a("select",{directives:[{name:"model",rawName:"v-model",value:e.modelFilterDDLValue,expression:"modelFilterDDLValue"}],staticClass:"form-control",on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.modelFilterDDLValue=a.target.multiple?t:t[0]}}},[a("option",{attrs:{disabled:""}},[e._v("Select ")]),e._l(e.options,(function(t){return a("option",{key:t.value,attrs:{title:t.name},domProps:{value:t.value}},[e._v(" "+e._s(e.TruncateStr(t.name,50)))])}))],2):e._e(),e.multiselectvalue?a("div",[a("dynamic-form",{attrs:{lang:"en",buttons:!1,schema:e.FormSchema}})],1):e._e()],2),a("div",{staticClass:"col-12 p-0 float-left mb-3 mt-3"},[a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{class:{"btn btn-primary ancsaveuserticket text-white":!0,disabled:("int"==t.ColumnFieldDataCode?parseFloat(e.ValueDisplaynumber2)<parseFloat(e.ValueDisplaynumber)||parseFloat(e.ValueDisplaynumber2)==parseFloat(e.ValueDisplaynumber)||e.ValueDisplaynumber.length>9||e.ValueDisplaynumber2.length>9&&e.numbertypevalue2:parseFloat(e.ValueDisplaynumber2)<parseFloat(e.ValueDisplaynumber)||parseFloat(e.ValueDisplaynumber2)==parseFloat(e.ValueDisplaynumber)||e.ValueDisplaynumber.length>15||e.ValueDisplaynumber2.length>15&&e.numbertypevalue2)||Date.parse(e.ValueDisplaydate2)<Date.parse(e.ValueDisplaydate)||Date.parse(e.ValueDisplaydate2)==Date.parse(e.ValueDisplaydate)&&e.datetypevalue2},attrs:{id:"btnSaveTicket",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to submit ticket"},on:{click:function(a){return e.applySetting(t.CustomFieldId)}}},[a("em",{class:{"fa fa-save text-white":!0,disabled:("int"==t.ColumnFieldDataCode?parseFloat(e.ValueDisplaynumber2)<parseFloat(e.ValueDisplaynumber)||parseFloat(e.ValueDisplaynumber2)==parseFloat(e.ValueDisplaynumber)||e.ValueDisplaynumber.length>9||e.ValueDisplaynumber2.length>9&&e.numbertypevalue2:parseFloat(e.ValueDisplaynumber2)<parseFloat(e.ValueDisplaynumber)||parseFloat(e.ValueDisplaynumber2)==parseFloat(e.ValueDisplaynumber)||e.ValueDisplaynumber.length>15||e.ValueDisplaynumber2.length>15&&e.numbertypevalue2)||Date.parse(e.ValueDisplaydate2)<Date.parse(e.ValueDisplaydate)||Date.parse(e.ValueDisplaydate2)==Date.parse(e.ValueDisplaydate)&&e.datetypevalue2}}),e._v("Apply")])])])])])]),a("em",{staticClass:"fa fa-times close close-action_cv",attrs:{"aria-hidden":"true"},on:{click:function(a){return e.ClosePopFilter()}}}),a("div",{staticClass:"va_rt25"},[a("em",{staticClass:"icon-solid arrow-solid-left text-dark",staticStyle:{"font-size":"20pt"}})])])])])])])])})),0)],1),a("hr")])],1),e._m(3)],1)])])])]),e.showReportPreview?a("ReportPreview",{ref:"reportdata",attrs:{previewdata:e.previewdata,customreportparameters:e.customreportparameters,Columnlist:e.Columnlist,Grouplist:e.Grouplist,saveJsonReport:e.saveJsonReport,PdfJsonReport:e.PdfJsonReport,editjsondata:e.editjsondata,ReportName:e.ReportName,GraphData:e.graphData,SortingData:e.sortingArray,GraphJson:e.GraphJson,LevelOfGrouping:e.LevelOfGrouping}}):e._e(),e.showcalculatedUI?a("CalculatedUI",{ref:"Calculated",attrs:{customreportparameters:e.customreportparameters,Columnlist:e.Columnlist,ExpFieldDataArray:e.ExpFieldDataArray,editexpressionvalue:e.editexpressionvalue,ExpDataArray:e.ExpDataArray,AlreadyExistExpression:e.AlreadyExistExpression},on:{close:function(a){e.showcalculatedUI=!1},VerifiedExpressionData:e.VerifiedExpressionColumnValue}}):e._e()],1)},i=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"})])},function(){var e=this,a=e._self._c;return a("a",{staticClass:"tab-Search-btn"},[a("em",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])},function(){var e=this,a=e._self._c;return a("span",{staticClass:"expand_all_filters",staticStyle:{position:"absolute",left:"0"}},[a("span",[a("a",{staticClass:"collapsed",attrs:{title:"Expand","data-toggle-tooltip":"tooltip"}},[a("em",{staticClass:"fa fa-angle-double-right mt-1",attrs:{"aria-hidden":"true"}})])])])},function(){var e=this,a=e._self._c;return a("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"tab-em-groups"}},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive"})])])])}],s=(t("14d9"),t("5b81"),t("9769")),r=t("b76a"),o=t.n(r),n=function(){var e=this,a=e._self._c;return a("div",[a("div",{staticClass:"right-content datareport hr_jobpost"},[a("div",{staticClass:"col-md-12 p-0 mb-2"},[a("div",{staticClass:"theme-primary partition p-actions-expand overflow-visible"},[a("loader",{attrs:{isVisible:e.isLoading}}),a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("ReportPreview")))]),a("span",{staticClass:"p-actions float-right mydbsize"},[a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"REPORT PREVIEW"},on:{click:e.PreviewReport}},[a("em",{staticClass:"fa fa-play"}),a("br"),e._v(e._s(e.$t("ReportPreview"))+" ")]),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"RESET"},on:{click:e.ResetData}},[a("em",{staticClass:"fa fa-repeat"}),a("br"),e._v(e._s(e.$t("Reset"))+" ")]),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"PDF"},on:{click:e.ExportToPDF}},[a("em",{staticClass:"fa fa-file-pdf-o"}),a("br"),e._v(e._s(e.$t("ExportToPdf"))+" ")]),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Excel"},on:{click:e.ExportToExcel}},[a("em",{staticClass:"fa fa-file-excel-o"}),a("br"),e._v(e._s(e.$t("ExportToExcel"))+" ")]),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"SORT"},on:{click:e.OpenSortingPopup}},[a("em",{staticClass:"fa fa-sort-amount-asc"}),a("br"),e._v(e._s(e.$t("SORT"))+" ")]),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"GRAPH"},on:{click:e.OpenGraph}},[a("em",{staticClass:"fa fa-pie-chart"}),a("br"),e._v(e._s(e.$t("Graph"))+" ")]),a("div",{staticClass:"parentdiv datarepfix2"},[a("div",{staticClass:"verticle-action lft75 rt30"},[a("span",{staticClass:"action-list-box small",staticStyle:{width:"400px"}},[e.isSortPopup?a("span",{staticClass:"text-left p-0 datarep mt-3 w-90 float-left bg_outerdark borderbababa position-relative",attrs:{id:"action-list1"}},[a("div",{staticClass:"float-left col-12"},[a("div",{staticClass:"container-fluid p-0 mb-3"}),e._l(e.sortColummnarray,(function(t,l){return a("div",{key:"phoneInput-"+l,staticClass:"row px-3 pb-0"},[a("div",{staticClass:"col-lg-5 pl-0 pr-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("SortBy")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sortcolummnId,expression:"input.sortcolummnId"}],staticClass:"form-control",on:{change:function(a){var l=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(t,"sortcolummnId",a.target.multiple?l:l[0])}}},e._l(e.Columnlist.filter(e=>0==e.Calculated_Field),(function(t){return a("option",{key:t.CustomFieldId,attrs:{disabled:e.sortColummnarray.filter(e=>e.sortcolummnId==t.CustomFieldId).length>0},domProps:{value:t.CustomFieldId}},[e._v(" "+e._s(t.DisplayName?e.GetLocalizedValue(t.DisplayName):e.GetLocalizedValue(t.FieldName))+" ")])})),0)])]),a("div",{staticClass:"col-lg-5 pl-0 pr-3"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("OrderBy")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.columnOrders,expression:"input.columnOrders"}],staticClass:"form-control",on:{change:function(a){var l=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(t,"columnOrders",a.target.multiple?l:l[0])}}},[a("option",[e._v(e._s(e.$t("ASC")))]),a("option",[e._v(e._s(e.$t("DESC")))])])])]),a("div",{staticClass:"col-lg-2"},[a("div",{staticClass:"form-group"},[a("a",{on:{click:function(a){return e.AddSortingForm(t)}}},[a("em",{staticClass:"fa fa-plus-circle font-24 text-success mt-3"})]),a("a",{directives:[{name:"show",rawName:"v-show",value:""!=e.sortColummnarray[0].sortcolummnId||e.isValueExistInSort,expression:"sortColummnarray[0].sortcolummnId != '' || isValueExistInSort"}],on:{click:function(a){return e.RemoveSortingForm(t)}}},[a("em",{staticClass:"fa fa-times-circle font-24 text-danger mt-3 ml-1"})])])])])}))],2),e._m(0),a("button",{staticClass:"close closebtnsmall",attrs:{type:"button"},on:{click:function(a){return e.close()}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]):e._e()])])])]),e._m(1)],1)]),a("div",{staticClass:"col-md-12 p-0 mb-2"},[a("div",{staticClass:"tab-pane mb-0"},[a("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[e._m(2),e.showGraphOptions?a("div",{staticClass:"card mb-3 probx"},[a("div",{staticClass:"card-header"},[a("h2",[e._v(e._s(e.$t("Graph")))]),a("a",{staticClass:"btn btn-primary",on:{click:e.OpenGraphOptions}},[e._v(e._s(e.$t("GraphOptions"))+" "),a("em",{staticClass:"fa fa-cogs"})])]),e.showChart?a("div",{staticClass:"card-body",staticStyle:{"min-height":"245px"},attrs:{id:"Reportpdf"}},[a("div",{staticClass:"float-right"},[a("a",{staticClass:"text-center text-danger",on:{click:function(a){return e.ResetGraphData()}}},[a("span",{staticClass:"fa fa-trash-o text-danger",staticStyle:{"font-size":"25px"}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-lg-12 text-center p-0"},[a("div",{staticClass:"border bg-light float-left text-left p-0 graphinfo_base_lft"},[a("ul",{staticClass:"graphinfo"},[a("li",[a("label",[e._v("X-axis:")]),e._v(" "+e._s(e.GetLocalizedValue(e.FilterCustomFieldName(e.XAxisField))))]),a("li",[a("label",[e._v("Y-axis:")]),e._v(" "+e._s(e.GetLocalizedValue(e.FilterCustomFieldName(e.YAxisField))))]),a("li",{directives:[{name:"show",rawName:"v-show",value:0!=e.aggregateFunctionResult,expression:"aggregateFunctionResult != 0"}]},[a("label",[e._v("# "+e._s(e.aggregateFunctionType)+":")]),e._v(" "+e._s(e.aggregateFunctionResult)+" ")])])]),"line"==e.chartType||"bar"==e.chartType?a("div",{staticClass:"p-0 m-0 float-left graphinfo_base_rgt"},[a("VueApexCharts",{ref:"chart",attrs:{type:e.chartType,height:"auto",options:e.chartOptions,series:e.chartSeries}})],1):e._e(),"pie"==e.chartType||"donut"==e.chartType?a("div",{staticClass:"p-0 m-0 float-left graphinfo_base_rgt"},[a("VueApexCharts",{ref:"chart",attrs:{type:e.chartType,height:"auto",options:e.chartOptions,series:e.chartSeries}})],1):e._e()])])]):e._e(),e.isChartColor?a("div",{staticClass:"card-body",staticStyle:{"min-height":"245px"},attrs:{id:"Reportpdf"}},[a("div",{staticClass:"float-right"},[a("a",{staticClass:"text-center text-danger",on:{click:function(a){return e.ResetGraphData()}}},[a("span",{staticClass:"fa fa-trash-o text-danger",staticStyle:{"font-size":"25px"}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-lg-12 text-center p-0"},[a("div",{staticClass:"border bg-light float-left text-left p-0 graphinfo_base_lft"},[a("ul",{staticClass:"graphinfo"},[a("li",[a("label",[e._v("Y-axis:")]),e._v(" "+e._s(e.GetLocalizedValue(e.FilterCustomFieldName(e.YAxisField))))]),a("li",[a("label",[e._v("Color-code:")]),e._v(e._s(e.GetChartColorCode))])])]),a("span",{staticClass:"p-0 m-0 float-left graphinfo_base_rgt"},[a("h1",{style:"color:"+e.GetChartColorCode},[e._v(e._s(e.GetChartColorData))])])])])]):e._e()]):e._e(),a("div",{staticClass:"tab-pane p-0 pb-2 border-0 active",attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[a("div",{staticClass:"listing mt-3"},[a("div",{staticClass:"table-responsive table-fix-header"},[a("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"Reportpdf","aria-label":"Report Preview Listing"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[e._l(e.previewgroupdata,(function(t,l){return e.showdata?a("th",{key:l,attrs:{scope:"col"}},[e._v(" "+e._s(e.GetLocalizedValue(null!=t.DisplayName&&""!=t.DisplayName?t.DisplayName:t.FieldName)))]):e._e()})),e._l(e.previewcolumn,(function(t,l){return a("th",{key:l,attrs:{scope:"col"}},[e._v(" "+e._s(e.GetLocalizedValue(null!=t.DisplayName&&""!=t.DisplayName?t.DisplayName:t.FieldName))+e._s(t.ExpresssionFieldName)+" ")])}))],2)]),e.noRecord?a("tbody",[a("tr",{staticStyle:{cursor:"initial"}},[a("td",{attrs:{colspan:"4"}},[a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[e._v(" "+e._s(e.$t("NoRecordfound")))])])])]):e._e(),e._l(e.previewdata,(function(t,l){return a("tbody",[e._l(e.previewdata[l].data,(function(l,i){return e.showdata?a("tr",[0==i?e._l(e.previewgroupdata,(function(l,i){return a("td",{staticClass:"breakspaces",class:{onlyrtbod:!0,"":null==t.totalRecord},attrs:{rowspan:t.totalRecord}},[e._v(" "+e._s(null!=t[l.DisplayName]&&""!=t[l.DisplayName]?"date"==l.ColumnFieldDataCode?e.$options.filters.formatDate(t[l.DisplayName]):t[l.DisplayName]:"date"==l.ColumnFieldDataCode?e.$options.filters.formatDate(t[l.FieldName]):t[l.FieldName])+" "),e._v(" ("+e._s(null!=t[l.DisplayName]&&""!=t[l.DisplayName]||null!=l.FieldName&&""!=l.FieldName?t.totalRecord:"-")+") ")])})):e._e(),e._l(e.previewcolumn,(function(t,i){return a("td",{key:i},[a("span",{staticClass:"breakspaces",domProps:{innerHTML:e._s(1==l[t.DisplayName]&&1!=l[t.DisplayName]||0==l[t.DisplayName]&&0!=l[t.DisplayName]?1==l[t.DisplayName]?"YES":"NO":1==l[t.FieldName]||"NO"||null!=l[t.DisplayName]&&""!=l[t.DisplayName]?l[t.DisplayName]||0==l[t.DisplayName]?"date"==t.ColumnFieldDataCode?e.$options.filters.formatDate(l[t.DisplayName]):l[t.DisplayName]:"":l[t.FieldName]||0==l[t.DisplayName]?"date"==t.ColumnFieldDataCode?e.$options.filters.formatDate(l[t.FieldName]):l[t.FieldName]:"")}})])}))],2):e._e()})),e.showcoldata?a("tr",e._l(e.previewcolumn,(function(l,i){return a("td",{key:i},[a("span",{staticClass:"breakspaces",domProps:{innerHTML:e._s(1==t[l.DisplayName]&&1!=t[l.DisplayName]||0==t[l.DisplayName]&&0!=t[l.DisplayName]?1==t[l.DisplayName]?"YES":"NO":1==t[l.FieldName]||"NO"||null!=t[l.DisplayName]&&""!=t[l.DisplayName]?t[l.DisplayName]||0==t[l.DisplayName]?"date"==l.ColumnFieldDataCode?e.$options.filters.formatDate(t[l.DisplayName]):t[l.DisplayName]:"":t[l.FieldName]||0==t[l.DisplayName]?"date"==l.ColumnFieldDataCode?e.$options.filters.formatDate(t[l.FieldName]):t[l.FieldName]:"")}}),e._v(" "+e._s(t[l.ExpresssionFieldName])+" ")])})),0):e._e()],2)}))],2)])])]),a("div",{staticClass:"float-right"},[a("a",{staticClass:"btn btn-success my-2 my-sm-0 mr-2",on:{click:function(a){return e.SaveAllReport()}}},[e._v("  "),a("span",{staticClass:"fa fa-floppy-o"}),e._v(" "+e._s(e.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger",on:{click:function(a){return e.CancelAll()}}},[e._v("  "),a("span",{staticClass:"fa fa-times"}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])])])])]),a("modalGraphOptions",{ref:"modalGraph",attrs:{Columnlist:e.Columnlist,showGraphOptions:e.showGraphOptions,customreportparameters:e.customreportparameters,GraphData:e.GraphData,sortColummnarray:e.sortColummnarray,GraphJson:e.GraphJson}})],1)},d=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"va_lft25 top4"},[a("em",{staticClass:"icon-solid arrow-solid-left text-secondary",staticStyle:{"font-size":"20pt"}})])},function(){var e=this,a=e._self._c;return a("span",{staticClass:"collapse-head-btns"},[a("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var e=this,a=e._self._c;return a("div",{staticClass:"expand-list"},[a("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[a("em",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])}],u=(t("88a7"),t("271a"),t("5494"),function(){var e=this,a=e._self._c;return a("div",{staticClass:"modal my-popups right fade",attrs:{id:"CustomGraphOptions",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[a("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header mheader-user"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return e.CloseGraphOptions()}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("GraphSetting")))]),a("span",{staticClass:"user-guide"},[a("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"javascript:;",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e._v(e._s(e.$t("GuideForUser")))]),a("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[a("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[a("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("User_Guide_Graph_Option"))}})])])])]),a("div",{staticClass:"modal-body p-3"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"container-fluid tab-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("dynamic-form",{ref:"refGraphForm",attrs:{lang:"en",buttons:!1,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-chartlist",fn:function({data:t}){return[a("div",{staticClass:"user_type_choice coloredicons row"},e._l(e.chartTypes,(function(t,l){return a("div",{key:l,staticClass:"btn-group btn-group-toggle mb-2",attrs:{"data-toggle":"buttons"}},[a("label",{class:{"btn btn_cstm":!0,active:t.id==e.selectedChartTypeID},attrs:{for:"cls_usertype"+l}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedChartTypeID,expression:"selectedChartTypeID"}],attrs:{type:"radio",name:"cls_usertype",id:"cls_usertype"+l},domProps:{value:t.id,checked:e._q(e.selectedChartTypeID,t.id)},on:{change:[function(a){e.selectedChartTypeID=t.id},e.onChangeChart]}}),a("span",{staticClass:"d-block pb-2"},[a("em",{class:["Pie"==t.chart_Type?"fa fa-pie-chart bg-transparent":"","Bar"==t.chart_Type?"fa fa-bar-chart bg-transparent":"","Line"==t.chart_Type?"fa fa-line-chart bg-transparent":"","Horizontal_Bar"==t.chart_Type?"fa fa-bars bg-transparent":"","Donut"==t.chart_Type?"fa fa-circle-o-notch bg-transparent":"","Numbers_Chart"==t.chart_Type?"fa fa-sort-numeric-asc bg-transparent":""],attrs:{"aria-hidden":"true"}})])])])})),0),""!=t.error?a("span",{staticClass:"invalid-feedback d-block"},[e._v(e._s(t.error))]):e._e()]}}])})],1),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"p-3 bg-light border"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("Preview")))])])]),a("span",{staticClass:"text-center my-3 w-100 float-left"},[e._v(e._s(e.FormSchema[0].Data[0].value)+" - "),a("button",{staticClass:"btn btn-info mt-2",attrs:{href:"javascript:;"},on:{click:e.ViewReportGraph}},[e._v(" "+e._s(e.$t("ViewReport"))+" ")])]),e.PreviewChart?a("div",{staticClass:"col-sm-12 col-lg-12 px-0 py-4 float-left bg-white"},[a("VueApexCharts",{attrs:{type:e.selectedChartType,options:e.chartOptions,series:e.chartseries}}),0!=e.aggregateFunctionResult?a("div",{class:"pie"==e.selectedChartType||"donut"==e.selectedChartType?"text-left pl-4 ml-4":"text-center"},[a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(e.resultMsg)+" : "+e._s(e.aggregateFunctionResult))])]):e._e()],1):a("div",{staticClass:"col-sm-12 col-lg-12 px-0 py-4 float-left bg-white"},[a("span",{staticClass:"ChartNumberClass"},[a("h1",{style:"color:"+e.GetNumberChartStyle},[e._v(e._s(e.NumberChartValue))])])])])])]),a("div",{staticClass:"col-12 p-0 mt-3 float-left"},[a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("button",{staticClass:"btn btn-success ancsaveuserticket",on:{click:e.ApplyGraph}},[a("em",{staticClass:"fa fa-share pr-2"}),e._v(e._s(e.$t("Apply")))])])])])])],1)])])])}),p=[],c=t("1321"),m=t.n(c),h={components:{VueApexCharts:m.a},props:{Columnlist:{type:Array},customreportparameters:{type:Object},GraphData:{type:Array},GraphJson:{type:Array},sortColummnarray:{type:Array}},data(){return{isLoading:!1,reportTitle:"",chartTypes:null,selectedChartTypeID:null,selectedChartXAxis:"",selectedChartYAxis:"",PreviewChart:!1,aggregateFunctionType:"Count",aggregateFunctionResult:0,chartseries:[],chartOptions:{},colourList:["#8892d0","#da9c49","#94c5a3","#e67d21","#787878","#c59e71","#38b8df","#f55e1a","#207a92","#13599c"],chartOptionXAxisData:[],chartSeriesData:[],selectedChartType:"",resultMsg:"",GroupingGraphData:[],BindGraph:!1,isChartData:!1,graphParams:{},NumberChartValue:"",GetNumberChartStyle:"",FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("ReportTitle"),name:"ReportTitle",value:"",placeholder:"Enter ReportTitle",config:{options:[],showAddIcon:!1},validationRules:"",disabled:!0},{astype:"SlotField",label:this.$t("ChartTypes"),name:"chartlist",value:"",placeholder:"",config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"SelectField",label:this.$t("XAXIS"),name:"XAXIS",value:"",placeholder:"Please Select X Axis",visibility:!0,config:{options:[],showAddIcon:!1,onChange:this.onChangeXYAxisDropdown},validationRules:"required"},{astype:"SelectField",label:this.$t("YAXIS"),name:"YAXIS",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.onChangeXYAxisDropdown},validationRules:"required"},{astype:"ColorField",label:this.$t("SelectColor"),name:"SelectColor",value:"",visibility:!1,config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"RadioField",label:this.$t("ViewAs"),name:"ViewAs",value:"",placeholder:"",visibility:!1,config:{options:[{value:"Sum",name:"Sum"},{value:"Avg",name:"Average"},{value:"Min",name:"Min"},{value:"Max",name:"Max"},{value:"Count",name:"Count"}],showAddIcon:!1,onChange:this.GetRadioValue},validationRules:""},{astype:"RadioField",label:this.$t("ViewAs"),name:"ViewAs",value:"Count",placeholder:"",visibility:!0,config:{options:[{value:"Count",name:"Count"}],showAddIcon:!1},validationRules:""}]}]}},created:async function(){var e=this;await e.GetChartTypes(),e.GetColumnList(),e.FormSchema[0].Data[0].value=e.customreportparameters.ReportName,null!=e.GraphData&&void 0!=e.GraphData&&""!=e.GraphData&&e.GraphData.length>0&&(e.selectedChartTypeID=e.GraphData[0].chartTypeID,e.aggregateFunctionType=e.GraphData[0].AggregateFuncField,""!=e.GraphData[0].ChartColorCode?(e.selectedChartXAxis="",e.FormSchema[0].Data[2].value="",e.FormSchema[0].Data[2].visibility=!1,e.FormSchema[0].Data[4].visibility=!0):(e.selectedChartXAxis=e.GraphData[0].XAxisField,e.FormSchema[0].Data[2].value=e.GraphData[0].XAxisField,e.FormSchema[0].Data[2].visibility=!0,e.FormSchema[0].Data[4].visibility=!1),e.selectedChartYAxis=e.GraphData[0].YAxisField,e.FormSchema[0].Data[3].value=e.GraphData[0].YAxisField,e.FormSchema[0].Data[4].value=e.GraphData[0].ChartColorCode,await e.CheckFieldType(e.selectedChartYAxis),await e.ApplyGraph())},watch:{Columnlist(){var e=this;e.GetColumnList()}},methods:{onChangeChart(){var e=this;e.FormSchema[0].Data[4].value="",e.NumberChartValue="",e.GetNumberChartStyle="",11==e.selectedChartTypeID?(e.selectedChartXAxis="",e.FormSchema[0].Data[2].value="",e.FormSchema[0].Data[3].config.options=[],e.Columnlist.forEach(a=>{a.CustomFieldId!=e.selectedChartXAxis&&e.FormSchema[0].Data[3].config.options.push({value:a.CustomFieldId,name:""!=a.DisplayName?e.$t(a.DisplayName):e.$(a.FieldName)})}),e.$refs.refGraphForm.UpdateKeyValue(),e.FormSchema[0].Data[2].visibility=!1,e.FormSchema[0].Data[4].visibility=!0):(e.FormSchema[0].Data[2].visibility=!0,e.FormSchema[0].Data[4].visibility=!1)},CloseGraphOptions:function(){var e=this;$("#CustomGraphOptions").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),e.$refs.refGraphForm.validateForm.reset(),null!=e.graphParams.selectedChartTypeID&&""!=e.graphParams.selectedChartType&&""!=e.graphParams.selectedChartYAxis&&(""!=e.graphParams.ChartColorCode?e.$parent.isChartColor=!0:""!=e.graphParams.selectedChartXAxis&&(e.$parent.showChart=!0))},async GetChartTypes(){var e=this;await s["a"].GetChartTypes().then(a=>{e.chartTypes=a.data})},GetColumnList(){var e=this;e.FormSchema[0].Data[2].config.options=[],e.FormSchema[0].Data[3].config.options=[],e.Columnlist.filter(e=>0==e.Calculated_Field).forEach(a=>{e.FormSchema[0].Data[2].config.options.push({value:a.CustomFieldId,name:""!=a.DisplayName?e.$t(a.DisplayName):e.$(a.FieldName)}),e.FormSchema[0].Data[3].config.options.push({value:a.CustomFieldId,name:""!=a.DisplayName?e.$t(a.DisplayName):e.$(a.FieldName)})}),e.$refs.refGraphForm.UpdateKeyValue()},onChangeXYAxisDropdown(e,a){var t=this;"XAXIS"==a.name?(t.selectedChartXAxis=a.value,t.FormSchema[0].Data[3].config.options=[],t.Columnlist.forEach(e=>{e.CustomFieldId!=t.selectedChartXAxis&&t.FormSchema[0].Data[3].config.options.push({value:e.CustomFieldId,name:""!=e.DisplayName?t.$t(e.DisplayName):t.$(e.FieldName)}),t.selectedChartXAxis===t.selectedChartYAxis&&(t.selectedChartYAxis="",t.FormSchema[0].Data[3].value="")})):(t.selectedChartYAxis=a.value,t.CheckFieldType(t.selectedChartYAxis))},GetRadioValue(e,a){var t=this;t.aggregateFunctionType=e.target.dataset.value},ResetGraph(){var e=this;e.selectedChartXAxis="",e.selectedChartYAxis="",e.NumberChartValue="",e.GetNumberChartStyle="",e.chartseries=[],e.chartOptions={},e.selectedChartTypeID=null,e.selectedChartType="",e.aggregateFunctionResult=0,e.aggregateFunctionType="Count",e.resultMsg="",e.graphParams={},e.FormSchema[0].Data[2].value="",e.FormSchema[0].Data[3].value="",e.FormSchema[0].Data[4].value="",e.FormSchema[0].Data[5].value="Count",e.FormSchema[0].Data[6].value="Count",e.FormSchema[0].Data[2].visibility=!0,e.FormSchema[0].Data[4].visibility=!1,e.FormSchema[0].Data[5].visibility=!1,e.FormSchema[0].Data[6].visibility=!0,e.$refs.refGraphForm.validateForm.reset(),e.PreviewChart=!1},async ViewReportGraph(){var e=this;e.resultMsg=e.aggregateFunctionType,e.PreviewChart=!1,e.BindGraph=!0;var a=null;if((null==e.aggregateFunctionType||""==e.aggregateFunctionType&&null!=e.GraphData&&0==e.isChartData)&&e.GraphData.length>0&&(e.resultMsg=e.GraphData[0].AggregateFunction,e.aggregateFunctionType=e.resultMsg,e.selectedChartYAxis=e.GraphData[0].YAxisField,e.selectedChartXAxis=e.GraphData[0].XAxisField,e.FormSchema[0].Data[5].value=e.GraphData[0].AggregateFunction),null==e.selectedChartTypeID||""==e.selectedChartXAxis&&""==e.FormSchema[0].Data[4].value||""==e.selectedChartYAxis)e.requiedFieldfordrawGraph();else{""==e.aggregateFunctionType&&(e.aggregateFunctionType=e.FormSchema[0].Data[5].value,e.resultMsg=e.aggregateFunctionType);var t=e.Columnlist.find(a=>a.FieldName===e.selectedChartXAxis||a.CustomFieldId===parseInt(e.selectedChartXAxis)),l=e.Columnlist.find(a=>a.FieldName===e.selectedChartYAxis||a.CustomFieldId===parseInt(e.selectedChartYAxis));void 0==t&&""==e.FormSchema[0].Data[4].value||void 0==l?(void 0==t&&void 0==l?(e.selectedChartXAxis="",e.FormSchema[0].Data[2].value="",e.selectedChartYAxis="",e.FormSchema[0].Data[3].value=""):void 0==t?(e.selectedChartXAxis="",e.FormSchema[0].Data[2].value=""):(e.selectedChartYAxis="",e.FormSchema[0].Data[3].value=""),e.requiedFieldfordrawGraph()):a={XAxisField:void 0==t?"":""!=t.CustomFieldId?t.CustomFieldId:t.FieldName,YAxisField:""!=l.CustomFieldId?l.CustomFieldId:l.FieldName,AggregateFunctionType:e.aggregateFunctionType,ChartColorCode:e.FormSchema[0].Data[4].value},""==e.selectedChartXAxis&&""==e.FormSchema[0].Data[4].value||""==e.selectedChartYAxis||(await e.$parent.$parent.PreviewJson(e.sortColummnarray,e.BindGraph,a),null!=e.GraphJson.ListingData?(""!=e.FormSchema[0].Data[4].value?(e.selectedChartType=e.chartTypes.find(a=>a.id==e.selectedChartTypeID).chart_Type.toLowerCase(),e.GetNumberChartStyle=e.FormSchema[0].Data[4].value,e.NumberChartValue=e.GraphJson.ListingData[0].GData,e.chartseries=[],e.chartoptions=[],e.PreviewChart=!1):e.GraphJson.MetaData[0].IsGrouping&&(e.SetGroupingGraphData(),e.selectedChartType=e.chartTypes.find(a=>a.id==e.selectedChartTypeID).chart_Type.toLowerCase(),e.SetGraphValues(e.GroupingGraphData,e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName,e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName),e.CalculatingAggregateFuncResult(e.aggregateFunctionType),e.DrawGraph(),e.PreviewChart=!0),e.isChartData=!0):(e.chartseries=[],e.chartOptions={}))}},requiedFieldfordrawGraph(){var e=this;return null==e.selectedChartTypeID&&""==e.selectedChartXAxis&&""==e.selectedChartYAxis?(e.ShowAlert(e.$t("FieldsNameRequired",[e.$t("ChartTypes")+", "+e.$t("XAXIS")+" and "+e.$t("YAXIS")]),"failure",!0,e.$t("Alert")),e.isLoading=!1,!1):""==e.selectedChartXAxis&&""==e.selectedChartYAxis&&""==e.FormSchema[0].Data[4].value?(e.ShowAlert(e.$t("FieldNameRequired",[e.$t("XAXIS")+" and "+e.$t("YAXIS")]),"failure",!0,e.$t("Alert")),e.isLoading=!1,!1):null==e.selectedChartTypeID?(e.ShowAlert(e.$t("FieldNameRequired",[e.$t("ChartTypes")]),"failure",!0,e.$t("Alert")),e.isLoading=!1,!1):""==e.selectedChartXAxis&&""==e.FormSchema[0].Data[4].value?(e.ShowAlert(e.$t("FieldNameRequired",[e.$t("XAXIS")]),"failure",!0,e.$t("Alert")),e.isLoading=!1,!1):""==e.selectedChartYAxis?(e.ShowAlert(e.$t("FieldNameRequired",[e.$t("YAXIS")]),"failure",!0,e.$t("Alert")),e.isLoading=!1,!1):void 0},SetGroupingGraphData(){var e=this;let a=e.GraphJson.ListingData,t=[],l=e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName,i=e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName;(Object.keys(a[0])[0]==e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName&&Object.keys(a[0])[0]==e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName&&e.GraphData.length>0||void 0==l&&void 0==i)&&(l=Object.keys(a[0])[0],i=Object.keys(a[0].data[0])[0],e.aggregateFunctionType=e.GraphData[0].AggregateFunction),a.forEach((a,s)=>{if((void 0!=a[l]||void 0!=l)&&("Count"==e.aggregateFunctionType||"Sum"==e.aggregateFunctionType||"Avg"==e.aggregateFunctionType||"Min"==e.aggregateFunctionType||"Max"==e.aggregateFunctionType))for(var r=void 0!=a[l]?a[l]:a.data[0][l]+` (${a.totalRecord})`,o=0;o<=parseInt(a.totalRecord);o++)0==o&&t.push({[l]:r,[i]:null!=a.GData&&0!=a.GData&&a.GData>a.totalRecord?a.GData:a.totalRecord})}),e.GroupingGraphData=t},async ApplyGraph(){var e=this;this.$refs.refGraphForm.validateForm.validate().then((async function(a){a&&(await e.ViewReportGraph(),e.graphParams={selectedChartType:e.selectedChartType,selectedChartTypeID:e.selectedChartTypeID,chartseries:e.chartseries,chartoptions:e.chartOptions,aggregateFunctionType:e.aggregateFunctionType,aggregateFunctionResult:e.aggregateFunctionResult,selectedChartXAxis:e.selectedChartXAxis,selectedChartYAxis:e.selectedChartYAxis,ChartColorCode:e.GetNumberChartStyle,CharColorData:e.NumberChartValue},null==e.graphParams.selectedChartTypeID||""==e.graphParams.selectedChartType||""==e.graphParams.selectedChartXAxis&&""==e.graphParams.ChartColorCode||""==e.graphParams.selectedChartYAxis||!(e.chartseries.length>0||""!=e.graphParams.CharColorData)||(e.$parent.DrawGraph(e.graphParams,e.BindGraph),e.CloseGraphOptions()))}))},DrawGraph:function(){var e=this,a=!1;"bar"!=e.selectedChartType&&"line"!=e.selectedChartType&&"horizontal_bar"!=e.selectedChartType||("horizontal_bar"==e.selectedChartType&&(e.selectedChartType="bar",a=!0),e.chartseries=[{name:e.$t(e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName),data:e.chartSeriesData}],e.chartOptions={chart:{toolbar:{export:{svg:{filename:e.FormSchema[0].Data[0].value},png:{filename:e.FormSchema[0].Data[0].value},csv:{headerCategory:e.$t(e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName),filename:e.FormSchema[0].Data[0].value}}}},tooltip:{enabled:!0,x:{formatter:e=>e}},xaxis:{categories:e.chartOptionXAxisData,title:{text:a?e.$t(e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName):e.$t(e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName)},labels:{trim:!0,rotate:-60}},yaxis:{title:{text:a?e.$t(e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName):e.$t(e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName)},labels:{formatter:function(e){return e.toLocaleString("en-US")}}},plotOptions:a?{bar:{borderRadius:4,horizontal:!0}}:{},dataLabels:{enabled:!0}}),"pie"!=e.selectedChartType&&"donut"!=e.selectedChartType||(e.chartseries=e.chartSeriesData,e.chartOptions={labels:e.chartOptionXAxisData,colors:e.colourList,legend:{width:screen.availWidth-69*screen.availWidth/100}})},CalculatingAggregateFuncResult:function(e){var a=this,t=0;if("Sum"==e){var l=0;a.chartSeriesData.forEach(e=>{l+=parseInt(e)}),a.aggregateFunctionResult=l.toFixed(2),a.aggregateFunctionResult=parseFloat(a.aggregateFunctionResult).toLocaleString("en-US")}if("Count"==e){var i=0;i=a.chartSeriesData.length,a.aggregateFunctionResult=i}if("Avg"==e){var s=0,r=0;a.chartSeriesData.forEach((function(e,a){s+=e,r++})),t=s/r,a.aggregateFunctionResult=t.toFixed(2),a.aggregateFunctionResult=parseFloat(a.aggregateFunctionResult).toLocaleString("en-US")}"Min"==e&&(t=Math.min.apply(Math,a.chartSeriesData.filter(Number)),a.aggregateFunctionResult=t.toFixed(2),a.aggregateFunctionResult=parseFloat(a.aggregateFunctionResult).toLocaleString("en-US")),"Max"==e&&(t=Math.max(...a.chartSeriesData),a.aggregateFunctionResult=t.toFixed(2),a.aggregateFunctionResult=parseFloat(a.aggregateFunctionResult).toLocaleString("en-US"))},CheckFieldType:function(e){var a=this;if(a.selectedChartYAxis==a.selectedChartXAxis)return a.selectedChartYAxis="",a.ShowAlert("X and Y axis values are not same","warning"),!1;a.aggregateFunctionResult=0;let t=a.FilterColumnlist(e).ColumnFieldType;"decimal"==t||"int"==t?(a.FormSchema[0].Data[5].visibility=!0,a.FormSchema[0].Data[6].visibility=!1,a.FormSchema[0].Data[5].value="Count",a.aggregateFunctionType=""):(a.FormSchema[0].Data[5].visibility=!1,a.FormSchema[0].Data[6].visibility=!0,a.FormSchema[0].Data[6].value="Count",a.aggregateFunctionType="Count")},CheckFieldTypeX:function(e){var a=this;if(a.selectedChartYAxis==a.selectedChartXAxis)return a.selectedChartXAxis="",a.ShowAlert("X and Y axis values are not same","warning"),!1},FilterColumnlist(e){var a=this;let t,l;for(let[i]of a.Columnlist.entries())a.Columnlist[i].CustomFieldId!=e&&a.Columnlist[i].FieldName!=e||(t=null!=a.Columnlist[i].DisplayName&&""!=a.Columnlist[i].DisplayName?a.Columnlist[i].DisplayName:a.Columnlist[i].FieldName,l=a.Columnlist[i].ColumnFieldDataCode);return{CustomFieldName:t,ColumnFieldType:l}},SetGraphValues(e,a,t){var l=this;l.chartOptionXAxisData=[],l.chartSeriesData=[],e.forEach(e=>{a in e?null!=e[a]&&void 0!=e[a]?(l.chartOptionXAxisData.push(e[a]),l.BindXYFields(e,a,t)):null!=e[t]&&void 0!=e[t]&&(l.chartOptionXAxisData="string"==typeof a?[...l.chartOptionXAxisData,"-"]:[...l.chartOptionXAxisData,0],l.BindXYFields(e,a,t)):(l.chartOptionXAxisData.push(" "),l.BindXYFields(e,a,t))})},BindXYFields:function(e,a,t){var l=this;if(t in e)if(null!=e[t]&&void 0!=e[t])if("string"==typeof e[t]){var i=e[t].replace(/[$€£]/g,"");l.chartSeriesData.push(parseInt(i))}else l.chartSeriesData.push(e[t]);else l.chartSeriesData=[...l.chartSeriesData,0]},GenrateRandomColorCode(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e},GenrateRandomColorList(){var e=this;while(e.colourList.length<e.chartSeriesData.length){let a;a=e.GenrateRandomColorCode();let t=e.colourList.find(e=>e==a);t||e.colourList.push(a)}},onSubmit:async function(e,a){var t=this;await t.ApplyGraph()}}},v=h,f=(t("7adb"),t("2877")),y=Object(f["a"])(v,u,p,!1,null,null,null),C=y.exports,F=t("4ebb"),g=t("e499"),D=t.n(g);D.a.vfs=F["pdfMake"].vfs;var x={components:{VueApexCharts:m.a,modalGraphOptions:C,pdfMake:D.a},props:{previewdata:{type:Array},Columnlist:{type:Array},customreportparameters:{type:Object},Grouplist:{type:Array},saveJsonReport:{type:Object},ReportName:{type:String},GraphData:{type:Array},SortingData:{type:Array},GraphJson:{type:Array},editjsondata:{type:Boolean},LevelOfGrouping:{type:Number},PdfJsonReport:{type:Object}},data(){return{isLoading:!1,previewcolumn:[],previewgroupdata:[],noRecord:!0,showdata:!1,showcoldata:!0,showGraphOptions:!1,showChart:!1,showmulitGrouping:!1,isSortPopup:!1,sortColummnarray:[{sortcolummnId:"",columnOrders:""}],DynamicFillValue:[],GroupValue:[],isValueExistInSort:!1,isGraph:!1,chartTypeID:null,chartType:"",chartSeries:[],chartOptions:{},aggregateFunctionType:null,aggregateFunctionResult:null,XAxisField:null,YAxisfield:null,watchvalue:!1,allReocrdsList:null,ExcelData:null,BindGraph:!1,SavedGraphData:{},GetChartColorCode:"",GetChartColorData:"",isChartColor:!1,allReocrdsData:null,TableBody:[],TableHeader:[],pdfContent:null,ExcelJsonData:null,count:0,isPreviewForPdfExcel:1}},created(){var e=this;null!=e.GraphData&&void 0!=e.GraphData&&""!=e.GraphData&&e.GraphData.length>0&&(e.showGraphOptions=!0),e.EditSortingData(),null!=e.previewdata&&void 0!=e.previewdata&&e.previewdata.length>0&&e.RenderList(),e.editjsondata&&e.PreviewReport()},mounted(){var e,a=this;null!=a.GraphData&&void 0!=a.GraphData&&""!=a.GraphData&&a.GraphData.length>0&&(a.showGraphOptions=!0,""==a.aggregateFunctionType&&(a.aggregateFunctionType=a.GraphData[0].AggregateFunction),null!=a.previewdata&&void 0!=a.previewdata&&a.previewdata.length>0&&(null===(e=a.$refs.modalGraph)||void 0===e||e.ViewReportGraph()))},watch:{watchvalue(e,a){var t=this;e!=a&&(t.RenderList(),t.watchvalue=!1)}},methods:{EditSortingData:function(){var e=this;null!=e.SortingData&&void 0!=e.SortingData&&""!=e.SortingData&&e.SortingData.length>0?(e.sortColummnarray=[],e.SortingData.forEach((a,t)=>{e.sortColummnarray.push({sortcolummnId:a.CustomFieldId,columnOrders:a.SORTTYPE})})):e.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]},RefreshReport:function(){var e=this;e.showdata=!1,e.PreviewReport()},RenderList:function(){var e=this;null!=e.previewdata&&void 0!=e.previewdata&&e.previewdata.length>0?(e.previewcolumn=[],e.Columnlist.forEach(a=>{e.previewcolumn.push({...a})}),e.Grouplist.forEach(a=>{e.previewcolumn.forEach((t,l)=>{a.DisplayName!==t.DisplayName&&a.FieldName!==t.FieldName||e.previewcolumn.splice(l,1)})}),null!=e.previewcolumn&&void 0!=e.previewcolumn&&e.previewcolumn.length>0&&(e.Grouplist.length>0?(e.previewgroupdata=Object.assign([],e.Grouplist),e.showdata=!0,e.showcoldata=!1):(e.showcoldata=!0,e.previewgroupdata=[]),e.noRecord=!1)):(e.previewcolumn=[],e.previewgroupdata=[],e.noRecord=!0)},PreviewReport:async function(){var e=this;e.isSortPopup=!1,e.BindGraph=!1,null!=e.SavedGraphData.selectedChartTypeID&&void 0!=e.SavedGraphData.selectedChartTypeID&&(await e.$refs.modalGraph.ApplyGraph(),e.showGraphOptions||e.OpenGraph()),void 0!=e.sortColummnarray[0].sortcolummnId&&void 0!=e.sortColummnarray[0].columnOrders||(e.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]),await e.$parent.PreviewJson(e.sortColummnarray,e.BindGraph),e.watchvalue=!0},ResetData:function(){var e,a=this;a.showdata=!1,a.isSortPopup=!1,a.sortColummnarray=[{sortcolummnId:"",columnOrders:""}],a.previewcolumn=[],a.showGraphOptions=!1,a.showChart=!1,a.isChartColor=!1,a.chartType=null,a.chartTypeID=null,a.aggregateFunctionType=null,a.aggregateFunctionResult=null,a.XAxisField=null,a.YAxisField=null,a.chartSeries=[],a.chartOptions={},a.GetChartColorCode="",a.GetChartColorData="",null===(e=a.$refs.modalGraph)||void 0===e||e.ResetGraph(),a.$parent.ResetPreview(a.customreportparameters),a.noRecord=!0},ResetGraphData:function(){var e=this;e.showGraphOptions=!1,e.$refs.modalGraph.ResetGraph(),e.chartType="",e.chartTypeID=null,e.aggregateFunctionType=null,e.aggregateFunctionResult=null,e.XAxisField=null,e.YAxisField=null,e.chartSeries=[],e.chartOptions={},e.GetChartColorCode="",e.GetChartColorData="",e.showChart=!1,e.isChartColor=!1,e.BindGraph=!1},SaveAllReport:async function(){var e=this;e.editjsondata&&await e.$parent.PreviewJson(e.sortColummnarray);var a={chartTypeID:e.chartTypeID,XAxisField:e.XAxisField,YAxisField:e.YAxisField,AggregateFunction:e.aggregateFunctionType,AggregateFuncField:""==e.GetChartColorData?e.aggregateFunctionResult:e.GetChartColorData,ChartColorCode:e.GetChartColorCode};null!=a.chartTypeID&&(e.Grouplist.length<=1&&e.Grouplist.forEach(a=>{e.saveJsonReport.Info.GROUP.push(a)}),e.saveJsonReport.Info.GRAPH.push(a));var t=JSON.stringify(e.saveJsonReport);"[]"!=t&&void 0!=t&&e.previewdata.length>0?s["a"].SaveAllDynamicReport(t).then(a=>{1==a.data[0].Value?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("Report")]),"success",!0,e.$t("Alert")),this.$router.push({name:"CustomReports"})):2==a.data[0].Value&&(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Report")]),"success",!0,e.$t("Alert")),this.$router.push({name:"CustomReports"}))}).catch(e=>{console.log(e)}):(e.ShowAlert(e.$t("No_Record_Found"),"failure",!0,e.$t("Alert")),e.isLoading=!1)},OpenSortingPopup:function(){var e=this;e.isSortPopup?e.isSortPopup=!1:e.isSortPopup=!0},AddSortingForm:function(e){var a=this;""!=a.sortColummnarray[0].columnOrders&&""!=a.sortColummnarray[0].sortcolummnId&&a.sortColummnarray.length<a.Columnlist.length?a.sortColummnarray.push({sortcolummnId:"",columnOrders:""}):a.ShowAlert(""!=a.sortColummnarray[0].columnOrders&&""!=a.sortColummnarray[0].sortcolummnId?a.$t("SortLimitExceed"):a.$t("AddFieldsFirst"),"failure",!0,a.$t("Alert"))},RemoveSortingForm:function(e){var a=this;if(1==a.sortColummnarray.length)a.sortColummnarray=[{sortcolummnId:"",columnOrders:""}];else{let t=a.sortColummnarray.findIndex(a=>a.sortcolummnId===e.sortcolummnId);t>-1&&a.sortColummnarray.splice(t,1),a.isValueExistInSort=!0}1==a.sortColummnarray.length&&(a.isValueExistInSort=!1)},OpenGraph:function(){var e=this;e.isSortPopup=!1,e.showGraphOptions?e.showGraphOptions=!1:e.showGraphOptions=!0},OpenGraphOptions:function(){var e=this;e.showChart=!1,e.isChartColor=!1,e.isGraph=!0,$("#CustomGraphOptions").modal("show"),setTimeout((function(){$("#CustomGraphOptions").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3)},DrawGraph:function(e,a){var t=this;null!=e.selectedChartTypeID&&void 0!=e.selectedChartTypeID?(t.SavedGraphData=e,""!=e.ChartColorCode&&""!=e.CharColorData?(t.isChartColor=!0,t.showChart=!1):(t.showChart=!0,t.isChartColor=!1),t.GetChartColorCode=e.ChartColorCode,t.GetChartColorData=e.CharColorData,t.chartType=e.selectedChartType,t.chartTypeID=e.selectedChartTypeID,t.aggregateFunctionType=e.aggregateFunctionType,t.aggregateFunctionResult=e.aggregateFunctionResult,t.XAxisField=e.selectedChartXAxis,t.YAxisField=e.selectedChartYAxis,t.chartSeries=e.chartseries,t.chartOptions=e.chartoptions,t.BindGraph=a):t.showChart=!1},FilterCustomFieldName(e){var a=this;let t;for(let[l]of a.Columnlist.entries())a.Columnlist[l].CustomFieldId!=e&&a.Columnlist[l].FieldName!=e||(t=null!=a.Columnlist[l].DisplayName&&""!=a.Columnlist[l].DisplayName?a.Columnlist[l].DisplayName:a.Columnlist[l].FieldName);return t},CancelAll:function(){this.$router.push({name:"CustomReports"})},CheckColumnExistInGraph:function(e){var a=this,t=!0;return a.XAxisField!=e&&a.YAxisField!=e?!t:t},GetAllRecordsForPDF:async function(e){var a=this;if(a.count=0,a.previewdata.length>0){var t={Info:{REPORTID:a.customreportparameters.ReportID,REPORTNAME:a.ReportName,MODULENAME:a.customreportparameters.Modulename,SUBMODULECODE:a.customreportparameters.Submodulecode,SUBMODULEID:a.customreportparameters.submoduleid,PAGESIZE:a.PageSize,PAGENUMBER:parseInt(a.PageNumber),IS_PAGED:1,IsForPreview:a.isPreviewForPdfExcel,FIELDS:a.saveJsonReport.Info.FIELDS.length>0?a.saveJsonReport.Info.FIELDS:a.PdfJsonReport.Info.FIELDS,FILTERS:a.saveJsonReport.Info.FILTERS.length>0?a.saveJsonReport.Info.FILTERS:a.PdfJsonReport.Info.FILTERS,GROUP:a.saveJsonReport.Info.GROUP.length>0?a.saveJsonReport.Info.GROUP:a.PdfJsonReport.Info.GROUP,SORTING:a.saveJsonReport.Info.SORTING.length>0?a.saveJsonReport.Info.SORTING:a.PdfJsonReport.Info.SORTING,EXPRESSION:a.saveJsonReport.Info.EXPRESSION.length>0?a.saveJsonReport.Info.EXPRESSION:a.PdfJsonReport.Info.EXPRESSION}},l=JSON.stringify(t);a.ExcelJsonData=l,void 0==e&&await s["a"].PreviewReport(l).then(async e=>{null!=e.data&&void 0!=e.data&&(a.allReocrdsData=JSON.parse(e.data[0].Value),a.count=a.count+1)}).catch(e=>{console.log(e)})}},ExportToPDF:async function(){var e=this;if(e.isLoading=!0,await e.GetAllRecordsForPDF(),0!=e.count){void 0!=e.chartOptions.legend&&(e.chartOptions.legend.width=screen.availWidth-69*screen.availWidth/100);var a=await e.GetGraphImageURI(),t={},l=e.allReocrdsData.ListingData;let i,s=e.allReocrdsData.MetaData[0],r=e.ReportName.replace(".","-"),o="A2",n="",d=300;s.IsGrouping?await e.BindPDFDataForGroup(l):await e.BindPDFData(l),e.TableHeader.length>5&&(o="A1",d=500),e.TableHeader.length>10&&(n="landscape"),null!=a&&void 0!=a&&(t={image:a.imgURI,width:500,alignment:"center"}),i={pageSize:o,pageOrientation:n,content:[t,{style:"table",table:{headerRows:1,body:e.TableBody}}],styles:e.SetPDFStyle(),defaultStyle:{alignment:"justify"}},D.a.createPdf(i).download(r),e.isLoading=!1}else e.ShowAlert(e.$t("No_Record_Found"),"failure",!0,e.$t("Alert")),e.isLoading=!1},BindPDFData:function(e){var a=this;a.TableBody=[],a.TableHeader=[];var t=[],l=Object.keys(e[0]);l.forEach(e=>{"ROWNUMBER"!=e&&(a.TableHeader.push({text:a.$t(e),style:"tableHeader",alignment:"center"}),t.push({text:e,style:"tableHeader",alignment:"center"}))}),a.TableBody.push(a.TableHeader),e.forEach(e=>{let l=[];t.forEach(a=>{let t=null;t="string"==typeof e[a.text]?e[a.text].replace(/(<([^>]+)>)/gi,""):e[a.text],l.push(t)}),a.TableBody.push(l)})},BindPDFDataForGroup:function(e){var a=this;a.TableBody=[],a.TableHeader=[];var t=[];a.TableHeader.push({text:a.$t(Object.keys(e[0])[0]),style:"tableHeader",alignment:"center"}),t.push({text:Object.keys(e[0])[0],style:"tableHeader",alignment:"center"});var l=Object.keys(e[0].data[0]);l.forEach(e=>{a.TableHeader.push({text:a.$t(e),style:"tableHeader",alignment:"center"}),t.push({text:e,style:"tableHeader",alignment:"center"})}),a.TableBody.push(a.TableHeader),e.forEach(e=>{e.data.forEach((l,i)=>{let s=[];t.forEach((a,t)=>{if(0==i&&0==t){let t=null;t="string"==typeof e[a.text]?e[a.text].replace(/(<([^>]+)>)/gi,""):e[a.text];var r=`${t} (${e.totalRecord})`;s.push({rowSpan:parseInt(e.totalRecord),text:r})}else if(1==i&&0==t)s.push("");else if(void 0!=l[a.text]&&""!=l[a.text]){let e=null;e="string"==typeof l[a.text]?l[a.text].replace(/(<([^>]+)>)/gi,""):l[a.text],s.push(e)}else{var o=l[a.text]="-";s.push(o)}}),a.TableBody.push(s)})})},SetPDFStyle:function(){return{subheader:{fontSize:16,bold:!0,margin:[0,0,0,10]},table:{margin:[0,5,0,15]}}},GetGraphImageURI:async function(){var e,a,t=this;return await(null===(e=t.$refs.chart)||void 0===e?void 0:e.chart.dataURI().then(e=>{a=e})),a},ExportToExcel:async function(){var e=this;if(e.isLoading=!0,await e.GetAllRecordsForPDF("Excel"),null!=e.ExcelJsonData&&void 0!=e.ExcelJsonData){var a=e.ExcelJsonData,t=`reportId=${e.customreportparameters.ReportID}&pagetype=preview&IsPaged=1`;s["a"].GetExcelReport(t,a).then(a=>{var t=new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;"}),l=document.createElement("a");l.href=window.URL.createObjectURL(t);const i=new Date,s=`${i.getDate()}_${i.getMonth()+1}_${i.getFullYear()}`;var r=`ReportData-${e.ReportName.replace(".","-")}-${s}`;r=r.split(" ").join(""),l.download=r,l.click(),e.isLoading=!1}).catch(a=>{console.log(a),e.isLoading=!1})}else e.ShowAlert(e.$t("No_Record_Found"),"failure",!0,e.$t("Alert")),e.isLoading=!1},close(){var e=this;e.isSortPopup=!1}}},I=x,b=(t("fe12"),Object(f["a"])(I,n,d,!1,null,"5fbef62b",null)),S=b.exports,V=function(){var e=this,a=e._self._c;return a("div",{staticClass:"modal my-popups centre fade",attrs:{id:"showcalculatedfield",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header mheader-user"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return e.close()}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("customField")))])]),a("div",{staticClass:"modal-body"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:function(a){return e.SubmitExpression()}},scopedSlots:e._u([{key:"tgslot-CalculatedUIList",fn:function({data:t}){return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 p-0 float-left"},[a("div",{staticClass:"col-lg-4 mb-0 float-left px-3"},[a("div",{staticClass:"heading-border mb-4"},[a("h5",{staticClass:"h5"},[a("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("Functions"))+" "),a("div",{staticClass:"w3-container w3-border w3-large"})])])]),a("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx1"}},[a("div",{staticClass:"card-panel",staticStyle:{"border-top":"1px solid #c7c7c7"}},e._l(e.FunctionsName,(function(t,l){return a("div",{key:l,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{role:"tab",id:"MainFunction"+l}},[a("h5",{staticClass:"mb-0"},[a("a",{class:0==l?"":"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx1",href:"#FucntionCollapse"+l,"aria-expanded":0==l,"aria-controls":"FucntionCollapse"+l}},[a("em",{staticClass:"fa fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.FuncType))]),a("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])]),a("div",{class:0==l?"collapse multi-collapse show":"collapse multi-collapse",attrs:{id:"FucntionCollapse"+l,role:"tabpanel","aria-labelledby":"MainFunction"+l,"data-parent":"#accordionEx1"}},[a("div",{staticClass:"card-body p-0 customScrollForLeftBar llt",staticStyle:{"max-height":"300px"}},[a("div",{staticClass:"form-group"},[a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix",staticStyle:{"max-height":"214px",overflow:"auto",display:"block"}},[e._l(e.Functionskey[l],(function(t){return[a("li",{staticClass:"nav-item parent-element"},[a("span",{staticClass:"nav-link left-menu px-4"},[a("em",{staticClass:"fa fa-bullhorn float-left",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"text-truncate float-left",staticStyle:{width:"55%"},attrs:{"data-toggle-tooltip":t.Keys,title:t.Keys}},[e._v(" "+e._s(t.Keys)+" ")]),a("a",{attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-plus float-right mt-1 text-success pr-0",attrs:{"aria-hidden":"true"},on:{click:function(a){return e.AddFunctionsfields(t,a,l)}}})])])])]}))],2)])])])])})),0)])]),a("div",{staticClass:"col-lg-4 mb-0 float-left px-3"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("Expression"))+" "),a("a",{staticClass:"editgroupname d-none",attrs:{title:"@Resources.Edit",href:"javascript:;"}},[a("em",{staticClass:"fa fa-pencil pl-2 text-success"})])])])]),a("div",{staticClass:"border p-3 mt-4 float-left"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-11 mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelconditionexpression,expression:"modelconditionexpression"}],class:"Date diff"==e.Functionkey||"Date add"==e.Functionkey||"Date name"==e.Functionkey||"Date part"==e.Functionkey||"If"==e.Functionkey?"form-control":"form-control d-none",attrs:{type:"text",placeholder:"Enter Your Conditions"},domProps:{value:e.modelconditionexpression},on:{input:function(a){a.target.composing||(e.modelconditionexpression=a.target.value)}}}),a("small",{class:"Date diff"==e.Functionkey||"Date add"==e.Functionkey||"Date name"==e.Functionkey||"Date part"==e.Functionkey||"If"==e.Functionkey?"text-danger":"d-none"},[e._v(e._s(e.ShowDescriptionForFunction))])]),a("div",{staticClass:"col-md-1 p-0 my-1"},[a("a",{class:"Date diff"==e.Functionkey||"Date add"==e.Functionkey||"Date name"==e.Functionkey||"Date part"==e.Functionkey||"If"==e.Functionkey?"fa fa-play text-success":"fa fa-play text-success d-none",on:{click:e.AddConditionExpression}})])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.InputValueExpression,expression:"InputValueExpression"}],staticClass:"border background-white float-left w-100 p-3",staticStyle:{"min-height":"250px"},attrs:{id:"txtarea"},domProps:{value:e.InputValueExpression},on:{keydown:function(a){return e.deleteuserinput(a)},mouseup:function(a){return e.GetCursorPoint(a)},select:function(a){return e.UserInputSelection(a)},input:function(a){a.target.composing||(e.InputValueExpression=a.target.value)}}}),a("div",{staticClass:"expressionbx mb-4 bg-grey text-right float-left w-100 py-2 border"},[a("a",{staticClass:"fa fa-keyboard-o",on:{click:function(a){return e.AddSpace(a)}}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.Addplussign(a)}}},[e._v("+")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.Addsubtractsign(a)}}},[e._v("-")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.Addmultiplysign(a)}}},[e._v("*")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.Adddividesign(a)}}},[e._v("/")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.Addopenbracketsign(a)}}},[e._v("(")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.Addclosebracketsign(a)}}},[e._v(")")])]),a("div",{staticClass:"col-12 p-0 float-left"},[a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-12 p-0 float-left",attrs:{id:"verifiedid"}},[0==e.verifiedvaluedata?a("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[e._v(" "+e._s(e.$t("InvalidExp"))),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:e.closed}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e(),1==e.verifiedvaluedata?a("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[e._v(" "+e._s(e.$t("ExpressionVerify"))),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:e.closed}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e()]),a("div",{staticClass:"col-lg-12 text-right"},[a("a",{staticClass:"btn btn-success ancsaveuserticket mr-2",attrs:{href:"javascript:;"},on:{click:e.VerifyExpression}},[a("em",{staticClass:"fa fa-check pr-2"}),e._v("Verify")]),a("a",{staticClass:"btn btn-danger ancsaveuserticket",attrs:{href:"javascript:;"},on:{click:e.ResetExpression}},[a("em",{staticClass:"fa fa-refresh pr-2"}),e._v("Reset")])])])])])]),a("div",{staticClass:"col-lg-4 mb-0 float-left px-3"},[a("div",{staticClass:"heading-border mb-4"},[a("h5",{staticClass:"h5"},[a("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("Columns"))+" "),a("div",{staticClass:"w3-container w3-border w3-large"})])])]),a("div",{staticClass:"mb-0 d-lg-block p-2 border"},[a("div",{staticClass:"input-group customsearchbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.MainSearchmodel,expression:"MainSearchmodel"}],staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",id:"searchinput",placeholder:"Search by Name",autocomplete:"off"},domProps:{value:e.MainSearchmodel},on:{keydown:function(a){return e.ListFiltering()},keyup:function(a){return e.ListFiltering()},mouseup:e.SelectAllSearch,mouseleave:e.SelectAllSearch,input:function(a){a.target.composing||(e.MainSearchmodel=a.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"})])])]),a("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx2"}},[a("div",{staticClass:"card-panel",staticStyle:{"border-top":"1px solid #c7c7c7"}},e._l(e.JsonColumns,(function(t,l){return a("div",{key:l,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{role:"tab",id:"MainColumn"+l}},[a("h5",{staticClass:"mb-0"},[a("a",{class:0==l?"":"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx2",href:"#ColumnCollapse"+l,"aria-expanded":0==l,"aria-controls":"ColumnCollapse"+l}},[a("em",{staticClass:"fa fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.GetLocalizedValue(t.SubModule)))]),a("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])]),a("div",{class:0==l?"collapse multi-collapse column-collapse show":"collapse multi-collapse column-collapse",attrs:{id:"ColumnCollapse"+l,role:"tabpanel","aria-labelledby":"MainColumn"+l,"data-parent":"#accordionEx2"}},[a("div",{staticClass:"card-body p-0 customScrollForLeftBar llt",staticStyle:{"max-height":"300px"}},[a("div",{staticClass:"form-group"},[a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix",staticStyle:{"max-height":"305px",overflow:"auto",display:"block"}},[e._l(0==e.searchColumnfilter.length?e.modulelisting[l]:e.searchColumnfilter[l],(function(t){return[a("li",{staticClass:"nav-item parent-element"},[a("span",{staticClass:"nav-link left-menu px-4"},[a("em",{class:t.dttype[0].icon+" float-left",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"text-truncate float-left",staticStyle:{width:"55%"},attrs:{"data-toggle-tooltip":e.GetLocalizedValue(null!=t.DisplayName?t.DisplayName:t.FieldName),title:e.GetLocalizedValue(null!=t.DisplayName?t.DisplayName:t.FieldName)}},[e._v(" "+e._s(e.GetLocalizedValue(null!=t.DisplayName&&""!=t.DisplayName?t.DisplayName:t.FieldName))+" ")]),a("a",{attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-plus float-right mt-1 text-success pr-0",attrs:{"aria-hidden":"true"},on:{click:function(a){return e.Addfields(t,a,l)}}})])])])]}))],2)])])])])})),0)]),e.SearchNoRecord?a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2"},[e._v(" "+e._s(e.$t("NoRecordfound")))]):e._e()])])])]}}])})],1)])])])},A=[],N={props:{customreportparameters:{type:Object},ExpDataArray:{type:Array},editexpressionvalue:{type:Boolean},ExpFieldDataArray:{type:Array},Columnlist:{type:Array},AlreadyExistExpression:{typeL:Object}},data(){return{JsonColumns:[],modulelisting:[],FunctionsName:[],Functionskey:[],ResponseColumnData:[],ResponseFunctionData:[],watchvalue:!1,FieldsValue:"",FunctionValue:"",AddBracketValue:"",SubtractBracketValue:"",MultplyBracketValue:"",DivideBracketValue:"",OpenBracketExpValue:"",CloseBracketExpValue:"",InputValueExpression:"",FieldData:[],fieldatavalue:[],reqFrom:"Reporting",isLoading:!1,verifiedvalue:!1,modelfieldname:"",substringvalue:"",verifiedvaluedata:null,verifyErrorMsg:"",InputValueArray:[],InputValueExpressionByID:"",FunctionValueArray:"No_Value",selecteduserinput:null,selecteduserinputbyid:null,ExpressionIDvalue:"",updateexpresion:!0,fieldadded:!1,FieldTableNameValue:"",GetCommaSeparatedValue:"",countbyfield:0,modelconditionexpression:"",conditionexpression:!1,Functionkey:null,ShowDescriptionForFunction:null,checkbycondition:0,searchColumnfilter:[],MainSearchmodel:"",SearchNoRecord:!1,GetSelectedValue:"",FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("fieldName"),name:"fieldName",value:"",placeholder:"Enter Field Name",config:{options:[],showAddIcon:!1},validationRules:{required:!0,max:100}},{astype:"SlotField",label:"",name:"CalculatedUIList",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.onChangeDropdown},validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success mr-2 my-sm-0 disabled",text:"<i class='fa fa-save pr-2'></i>Submit"},{type:"button",class:"btn btn-primary delete-btn mr-2 my-sm-0",text:"<i class='fa fa-times pr-2'></i>Cancel",onClick:this.CancelExpressionUI}]}},created(){var e=this;e.GetColumnList(e.customreportparameters),1==e.editexpressionvalue&&e.ExpDataArray.length>0&&e.ExpresssionDataValue(e.ExpDataArray,e.ExpFieldDataArray),e.GetFunctionList()},mounted:function(){$("#showcalculatedfield").modal({backdrop:"static",keyboard:!1})},watch:{watchvalue(e){var a=this;e&&(a.GetColumnList(a.customreportparameters),a.GetFunctionList(),a.watchvalue=!1,$("#Submitbtn").addClass("disabled"),1==a.editexpressionvalue&&a.ExpDataArray.length>0&&1==a.updateexpresion&&a.ExpresssionDataValue(a.ExpDataArray,a.ExpFieldDataArray))}},methods:{close(){$("#showcalculatedfield").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),this.$emit("close"),this.FormSchema[0].Data[0].value="",this.ExpressionIDvalue="",this.ResetExpression()},GetColumnList(e){var a=this;if(void 0!=e.Modulename&&void 0!=e.Submodulecode&&null!=e.ReportName){var t=`moduleName=${e.Modulename}&subModuleCode=${e.Submodulecode}&viewId&reqFrom=${a.reqFrom}`;s["a"].GetListFields(t).then(e=>{a.JsonColumns=e.data.AVAILABLE_FIELDS[0],a.JsonColumns.forEach(e=>{a.modulelisting.push([...e.CustomFields.sort((e,t)=>a.$t(e.DisplayName).localeCompare(a.$t(t.DisplayName)))])})}).catch(e=>{console.log(e)})}},GetFunctionList(){var e=this;s["a"].GetFunctionList().then(a=>{e.FunctionsName=a.data.AVAILABLE_FIELDS[0],e.FunctionsName.forEach(a=>{e.Functionskey.push(a.Functions)})}).catch(e=>{console.log(e)})},Addfields(e,a,t){var l=this;if(""==l.modelconditionexpression&&l.FieldData.push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName}),""==l.substringvalue){var i=l.GetCursorPoint(),s=l.SetValueOnCursorPosition(i);if(s.length>1){var r=l.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(l.fieldatavalue.splice(r,0,{FieldValueData:l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName),MatchIndex:l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName).length,SameName:"Field_Added"+i}),l.FieldsValue=l.fieldatavalue.map(e=>e.FieldValueData).join(""),l.fieldadded=!0)}else l.fieldatavalue.push({FieldValueData:l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName),MatchIndex:l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName).length,SameName:"Field_Added"+i}),l.FieldsValue=l.fieldatavalue.map(e=>e.FieldValueData).join(""),l.fieldadded=!1}else{if("object"==typeof l.fieldatavalue){var o=String(l.fieldatavalue.map(e=>e.FieldValueData));l.fieldatavalue=o}if("CommaSeparatedValue"!=l.GetCommaSeparatedValue||0!=l.countbyfield||l.conditionexpression)if("CommaSeparatedValue"==l.GetCommaSeparatedValue&&l.countbyfield>0&&!l.conditionexpression)n=l.fieldatavalue.indexOf(l.fieldatavalue.split(",")[l.countbyfield]),d=l.fieldatavalue.indexOf(")");else n=l.fieldatavalue.indexOf("(")+1,d=l.fieldatavalue.indexOf(")");else var n=l.fieldatavalue.indexOf(",")+1,d=l.fieldatavalue.indexOf(")");if(l.substringvalue=l.fieldatavalue.substring(n,d),l.FunctionValueArray=l.substringvalue,l.substringvalue.includes(",")){var u=l.substringvalue.split(",");l.substringvalue=u,l.conditionexpression||0!=l.checkbycondition?l.FieldsValue=l.fieldatavalue.replace(l.substringvalue[0],e):l.FieldsValue=l.fieldatavalue.replace(l.substringvalue[0],l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName)),l.fieldatavalue=[],l.fieldatavalue.push({FieldValueData:l.FieldsValue,MatchIndex:l.FieldsValue.length,SameName:"Field_Added"+l.FieldsValue.length})}else l.conditionexpression||0!=l.checkbycondition?l.FieldsValue=l.fieldatavalue.replace(l.substringvalue,e):l.FieldsValue=l.fieldatavalue.replace(l.substringvalue,l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName)),l.fieldatavalue=[],l.fieldatavalue.push({FieldValueData:l.FieldsValue,MatchIndex:l.FieldsValue.length,SameName:"Field_Added"+l.FieldsValue.length})}$("#Submitbtn").addClass("disabled"),l.conditionexpression||0!=l.checkbycondition?l.FieldTableNameValue=e:e.IsSystemGenerated?l.FieldTableNameValue=e.TableName+"."+e.FieldName:l.FieldTableNameValue=e.TableName+"_customfield."+e.FieldName,l.updatingvalue(),l.updatevaluebyid(e,r,s,i)},AddFunctionsfields(e,a,t){var l=this;if(null==l.InputValueExpression||void 0==l.InputValueExpression||""==l.InputValueExpression){if("string"==typeof l.fieldatavalue){var i=l.fieldatavalue.split(",");l.fieldatavalue=i}l.fieldatavalue.push({FieldValueData:e.Value,MatchIndex:e.Value.length,SameName:"Function_Added"}),l.FieldsValue=l.fieldatavalue.map(e=>e.FieldValueData).join(""),l.InputValueArray.push({FieldValueData:e.Value,MatchIndex:e.Value.length,SameName:"Function_Added"}),l.Functionkey=e.Keys,l.DescriptionForFunction(),"Case"==e.Keys?l.substringvalue="":l.substringvalue="Function_Added",$(a.target).closest(".parent-element").remove(),l.updatingvalue(),l.updatevaluebyid()}else l.ShowAlert("You Cannot Select More Than One Function.","Failure")},Addopenbracketsign(){var e=this;if("string"==typeof e.fieldatavalue){var a=e.fieldatavalue.split(",");e.fieldatavalue=a}var t="(",l=t.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"Open_BracketAdded"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"Open_BracketAdded"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"Open_BracketAdded"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"Open_BracketAdded"+i});e.substringvalue="",e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},Addclosebracketsign(){var e=this;if("string"==typeof e.fieldatavalue){var a=e.fieldatavalue.split(",");e.fieldatavalue=a}var t=")",l=t.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"Close_BracketAdded"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"Close_BracketAdded"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"Close_BracketAdded"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"Close_BracketAdded"+i});e.updatingvalue(),e.updatevaluebyid()},Addplussign(){var e=this;if("string"==typeof e.fieldatavalue){var a=e.fieldatavalue.split(",");e.fieldatavalue=a}var t="+",l=t.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedPlus"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedPlus"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedPlus"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedPlus"+i});e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},Addsubtractsign(){var e=this;if("string"==typeof e.fieldatavalue){var a=e.fieldatavalue.split(",");e.fieldatavalue=a}var t="-",l=t.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedSubtract"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedSubtract"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedSubtract"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedSubtract"+i});e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},Addmultiplysign(){var e=this;if("string"==typeof e.fieldatavalue){var a=e.fieldatavalue.split(",");e.fieldatavalue=a}var t="*",l=t.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedMultiply"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedMultiply"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedMultiply"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedMultiply"+i});e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},Adddividesign(){var e=this;if("string"==typeof e.fieldatavalue){var a=e.fieldatavalue.split(",");e.fieldatavalue=a}var t="/",l=t.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedDivide"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedDivide"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedDivide"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedDivide"+i});e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},AddSpace(){var e=this;if("string"==typeof e.fieldatavalue){var a=e.fieldatavalue.split(",");e.fieldatavalue=a}var t=" ",l=t.split(""),i=t.replaceAll(" ","+' '+"),s=e.GetCursorPoint(),r=e.SetValueOnCursorPosition(s);if(r.length>0){var o=e.InputValueArray.findIndex(e=>e.FieldValueData===r[0].FieldValueData);o>-1&&(e.fieldatavalue.splice(o,0,{FieldValueData:l,MatchIndex:l.length,SameName:"addedspace"+s}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(o,0,{FieldValueData:i,MatchIndex:l.length,SameName:"addedspace"+s}),e.InputValueExpressionByID=e.InputValueArray.map(e=>e.FieldValueData).join(""))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"addedspace"+s}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:i,MatchIndex:l.length,SameName:"addedspace"+s}),e.InputValueExpressionByID=e.InputValueArray.map(e=>e.FieldValueData).join("");e.FunctionValueArray="No_Value",e.updatingvalue()},ResetExpression(){var e=this;e.FieldsValue="",e.FunctionValue="",e.AddBracketValue="",e.SubtractBracketValue="",e.MultplyBracketValue="",e.DivideBracketValue="",e.OpenBracketExpValue="",e.CloseBracketExpValue="",e.modulelisting.splice(0),e.Functionskey.splice(0),e.InputValueExpression="",e.InputValueExpressionByID="",e.InputValueArray=[],e.FieldData=[],e.fieldatavalue=[],e.watchvalue=!0,e.updateexpresion=!1,e.verifiedvaluedata=null,e.FunctionValueArray="No_Value",e.GetCommaSeparatedValue="",e.countbyfield=0,e.modelconditionexpression="",e.Functionkey=null,e.ShowDescriptionForFunction=null,e.conditionexpression=!1,e.checkbycondition=0,e.substringvalue=""},updatevaluebyid(e,a,t,l){var i=this;if(i.FunctionValueArray==i.substringvalue){if("object"==typeof i.InputValueArray){var s=String(i.InputValueArray.map(e=>e.FieldValueData));i.InputValueArray=s}if("CommaSeparatedValue"!=i.GetCommaSeparatedValue||0!=i.countbyfield||i.conditionexpression)if("CommaSeparatedValue"==i.GetCommaSeparatedValue&&i.countbyfield>0&&!i.conditionexpression){r=i.InputValueArray.indexOf(i.InputValueArray.split(",")[i.countbyfield]),o=i.InputValueArray.indexOf(")");i.countbyfield++}else r=i.InputValueArray.indexOf("(")+1,o=i.InputValueArray.indexOf(")");else{var r=i.InputValueArray.indexOf(",")+1,o=i.InputValueArray.indexOf(")");i.countbyfield=i.countbyfield+1+1}if(i.substringvalue=i.InputValueArray.substring(r,o),i.substringvalue.includes(",")){var n=i.substringvalue.split(",");i.substringvalue=n,i.InputValueExpressionByID=i.InputValueArray.replace(i.substringvalue[0],i.FieldTableNameValue),i.InputValueArray=[],i.InputValueArray.push({FieldValueData:i.InputValueExpressionByID,MatchIndex:i.InputValueExpressionByID.length,SameName:"Field_Added"+i.InputValueExpressionByID.length,CustomFieldId:e.CustomFieldId}),i.GetCommaSeparatedValue="CommaSeparatedValue",$("#Submitbtn").addClass("disabled")}else i.InputValueExpressionByID=i.InputValueArray.replace(i.substringvalue,i.FieldTableNameValue),i.InputValueArray=[],i.InputValueArray.push({FieldValueData:i.InputValueExpressionByID,MatchIndex:i.InputValueExpressionByID.length,SameName:"Field_Added"+i.InputValueExpressionByID.length,CustomFieldId:e.CustomFieldId}),i.substringvalue="",$("#Submitbtn").addClass("disabled");i.modelconditionexpression="",i.conditionexpression=!1,i.checkbycondition=0}else if(void 0!=e)if(i.fieldadded){a=i.InputValueArray.findIndex(e=>e.FieldValueData===t[0].FieldValueData);a>-1&&(i.InputValueArray.splice(a,0,{FieldValueData:i.FieldTableNameValue,MatchIndex:i.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName).length,SameName:"Field_Added"+l,CustomFieldId:e.CustomFieldId}),i.InputValueExpressionByID=i.InputValueArray.map(e=>e.FieldValueData).join(""))}else i.InputValueArray.push({FieldValueData:i.FieldTableNameValue,MatchIndex:i.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName).length,SameName:"Field_Added"+l,CustomFieldId:e.CustomFieldId}),i.InputValueExpressionByID=i.InputValueArray.map(e=>e.FieldValueData).join("");else i.InputValueExpressionByID=i.InputValueArray.map(e=>e.FieldValueData).join("")},updatingvalue(){var e=this;if("object"==typeof e.InputValueExpression){var a=String(e.InputValueExpression);e.InputValueExpression=a}else e.InputValueExpression=e.FieldsValue},deleteuserinput(e){var a=this;const t=e.key;if("Space"===e.code)a.AddSpace();else if(e.keyCode>=9&&e.keyCode<=45||e.keyCode>90&&e.keyCode<=93||e.keyCode>=112&&e.keyCode<=167)e.preventDefault();else if("Backspace"===t||8===e.keyCode||46===e.keyCode){var l=a.GetCursorPoint();let e;l-=1,a.fieldatavalue.forEach(t=>{if(t.MatchIndex<l)e=l-t.MatchIndex,l=e;else if(0!=l){let e=a.fieldatavalue.findIndex(e=>e.SameName===t.SameName),i=a.FieldData.findIndex(e=>e.CustomFieldId===t.CustomFieldId);e>-1&&(a.fieldatavalue.splice(e,1),a.InputValueArray.splice(e,1),i>-1&&a.FieldData.splice(i,1),a.fieldatavalue.length>0?a.FieldsValue=a.fieldatavalue.map(e=>e.FieldValueData).join(""):(a.FieldsValue=a.fieldatavalue.join(""),a.substringvalue=""),l=0,a.Functionkey=null)}}),a.updatingvalue(),a.updatevaluebyid()}else{var i=a.GetCursorPoint(),s=a.SetValueOnCursorPosition(i);if(s.length>1){var r=a.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(a.fieldatavalue.splice(r,0,{FieldValueData:t,MatchIndex:t.length,SameName:"User-input"+i}),a.FieldsValue=a.fieldatavalue.map(e=>e.FieldValueData).join(""),a.InputValueArray.splice(r,0,{FieldValueData:t,MatchIndex:t.length,SameName:"User-input"+i}))}else a.fieldatavalue.push({FieldValueData:t,MatchIndex:t.length,SameName:"User-input"+i}),a.FieldsValue=a.fieldatavalue.map(e=>e.FieldValueData).join(""),a.InputValueArray.push({FieldValueData:t,MatchIndex:t.length,SameName:"User-input"+i});a.updatingvalue(),a.updatevaluebyid()}a.buttons[0].class="btn btn-success mr-2 my-sm-0 disabled",e.preventDefault()},UserInputSelection(e){var a=this;a.selecteduserinput=e.target.selectionStart,a.selecteduserinputbyid=a.InputValueArray.length},ExpresssionDataValue(e,a){var t=this;e.forEach(e=>{t.ExpressionIDvalue=e.ExpressionID,t.FormSchema[0].Data[0].value=e.ExpressionName,t.fieldatavalue.push({FieldValueData:e.ExpressionDisplay,MatchIndex:e.ExpressionDisplay.length,SameName:"EditedExp"}),t.FieldsValue=t.fieldatavalue.map(e=>e.FieldValueData).join(""),t.InputValueArray.push({FieldValueData:e.Expression,MatchIndex:e.Expression.length,SameName:"EditedExp"}),t.InputValueExpressionByID=t.InputValueArray.map(e=>e.FieldValueData).join(""),t.updatingvalue()}),a.forEach(e=>{t.FieldData.push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName,ColumnIndex:e.ColumnIndex})})},VerifyExpression(){var e=this;if(""==e.InputValueExpression)e.ShowAlert(e.$t("Expressionemmty"),"failure",!0,e.$t("Alert"));else{var a={Info:{Expression:encodeURIComponent(e.InputValueExpressionByID),MODULENAME:e.customreportparameters.Modulename,SUBMODULECODE:e.customreportparameters.Submodulecode,FunctionExpression:e.Functionkey,FIELDS:e.FieldData}},t="JsonData="+JSON.stringify(a);e.isLoading=!0,s["a"].VerifyExpressionFromDB(t).then(a=>{"True"==a.data.Result?(e.verifiedvaluedata=1,e.isLoading=!1,e.buttons[0].class="btn btn-success mr-2 my-sm-0",e.verifiedvalue=!0):(e.verifiedvaluedata=0,e.isLoading=!1)}).catch(e=>{console.log(e)})}},SubmitExpression(){var e=this,a=!0;if(!e.editexpressionvalue){var t=e.Columnlist.findIndex(a=>a.FieldName===e.FormSchema[0].Data[0].value);-1!=t?(a=!1,e.ShowAlert(e.$t("ExpressionExist"),"failure",!0,e.$t("Alert"))):a=!0}a&&e.verifiedvalue&&""!=e.FormSchema[0].Data[0].value&&(this.$emit("VerifiedExpressionData",{ExpressionID:e.ExpressionIDvalue,FieldValue:e.FormSchema[0].Data[0].value,VerifiedExpression:e.InputValueExpressionByID,ExpressionFieldArray:e.FieldData,ExpressionDisplay:e.InputValueExpression,Functionkey:e.Functionkey,IsEdit:e.editexpressionvalue,IsExpExist:e.AlreadyExistExpression}),e.verifiedvalue=!1)},CancelExpressionUI(){var e=this;e.close()},closed(){$("#verifiedid").alert("close")},GetCursorPoint(e){var a=document.getElementById("txtarea");a.focus();var t=document.getElementById("txtarea").selectionStart;return t+=1,t},SetValueOnCursorPosition(e){var a,t=this,l=[];return t.InputValueArray.forEach(t=>{t.MatchIndex<e?(a=e-t.MatchIndex,e=a):(t.MatchIndex>e||1==e)&&l.push(t)}),l},AddConditionExpression(){var e=this;e.conditionexpression=!0,"Date add"==e.Functionkey&&"CommaSeparatedValue"==e.GetCommaSeparatedValue&&(e.conditionexpression=!1,e.checkbycondition=e.checkbycondition+1),e.Addfields(e.modelconditionexpression)},DescriptionForFunction(){var e=this;"Date diff"==e.Functionkey?e.ShowDescriptionForFunction="Interval(Year,Month,Day)":"Date add"==e.Functionkey?e.ShowDescriptionForFunction="Interval(Year,Month,Day) Number(1,2,3,nth.)":"Date name"==e.Functionkey||"Date part"==e.Functionkey?e.ShowDescriptionForFunction="Interval(Year,Month,Day)":"If"==e.Functionkey&&(e.ShowDescriptionForFunction="BooleanExpression,True Value, False Value")},SelectAllSearch(){var e=this;e.GetSelectedValue=window.getSelection().toString()},ListFiltering(){var e=this,a=e.MainSearchmodel;null!=a&&""!=a?$(".column-collapse").addClass("show"):$(".column-collapse").removeClass("show"),""!=e.GetSelectedValue&&(a=a.replaceAll(e.GetSelectedValue,""),e.GetSelectedValue="");var t=[],l=[];e.modulelisting.forEach((i,s)=>{e.modulelisting[s].forEach(e=>{l.push(e),t=l.filter(e=>{var t=null!=e.DisplayName?e.DisplayName:e.FieldName;return t.replace(/\W/g,"").toLowerCase().includes(a.replace(/\W/g,"").toLowerCase())})}),e.searchColumnfilter[s]=t,l=[]});let i=0;for(let s in e.searchColumnfilter)e.searchColumnfilter[s].length>0&&i++;return e.SearchNoRecord=!(i>0),e.searchColumnfilter}}},_=N,w=Object(f["a"])(_,V,A,!1,null,null,null),E=w.exports,O=t("c1df"),R=t.n(O),T={components:{draggable:o.a,ReportPreview:S,CalculatedUI:E},data(){return{isLoading:!1,modulelisting:[],modulelistingforfilter:[],showModuleListForField:!0,showModuleListForFilter:!1,reqFrom:"Reporting",submodulecode:null,modulename:null,maindiv:"col-6 pl-0 float-left",expandcollapsediv:"bottom_filter_button",showdiv:"mb-0 d-none",fielddata:[],Grouplist:[],Columnlist:[],Filterlist:[],viewId:null,ReportName:null,fieldpan:"col-6 p-0 float-left",modulelistingmodel:null,customreportparameters:null,tempreportid:null,saveclass:"card d-none",editclass:"card",savereportname:"",Showsettingsview:!1,showdiv1:!1,dateformate:[],GetOperator:[],customField:null,dragcount:1,templates:["Match Any Value","Match All Value"],category:"Match All Value",ReportPreviewListing:[],previewdata:[],itemclass:"d-none",Groupsearchmodel:"",ColumnSearchmodel:"",MainSearchmodel:"",submodulename:[],submodulecodename:[],test1:[],PageNumber:1,PAGESIZE:10,selectvalue:"",selecteddatatype:"",texttypevalue1:!1,numbertypevalue1:!1,datetypevalue1:!1,datetypevalue2:!1,timetypevalue:!1,timetypevalue2:!1,multiselectvalue:!1,numbertypevalue2:!1,texttypevalue2:!1,savedOperatorName:null,drag:!1,GetDateFromDB:[],modeldisplayname:null,modeldateformat:"",modeldecimalplaces:null,modeluseseparator:null,modelusecurrency:null,FilterCount:1,valueTypeText:"",valueTypeNumber:"",valueTypeNumber2:"",valueTypeFirstdate:"",valueTypeSeconddate:"",Displaymultiplevalue:"",displayvalue2:"",ValueDisplaytext:"",ValueDisplaytext2:"",ValueDisplaynumber:"",ValueDisplaynumber2:"",ValueDisplaydate:"",ValueDisplaydate2:"",modeldaterange:"",ValueDisplayTime:"",ValueDisplayTime2:"",selectedvalue:"",RequestFilterJosn:[],CurrentOperatorSelected:null,filtertype:null,operator_id:null,mode:"tags",dropdwonvalues:[],options:[],searchable:!0,createOption:!0,SelectedoperatorMappedDatatype:"",commaSepratedSelectedValues:"",selectedOPValue:"",GraphJson:[],sortingArray:null,graphData:null,showReportPreview:!1,editjsondata:!1,valueKey:"",valuekey2:"",FirstOperand:"",FirstOperandValue1:"",SecondOperand:"",SecondOperandValue1:"",Datatype:"",operator:"",DisplayName:"",showcalculatedUI:!1,CheckExpressionFeild:!1,ExpressionArray:[],ExpressionFieldsArray:[],saveJsonReport:[],editexpressionvalue:!1,CalculatedUIEnabled:!1,searchColumnfilter:[],LevelOfGrouping:null,ExpFieldDataArray:[],ExpDataArray:[],setvalue:0,ChartGroupingArray:[],GroupingArray:[],PdfJsonReport:[],FilterActiveForMandatory:!1,SearchNoRecordForField:!1,SearchNoRecordForFilter:!1,IsMandatoryforFilterAfterReset:!1,ArrayforFilterpopup:[],modelFilterDDLValue:"",DDLForFilter:!1,DDLForDateRange:!1,selctRuleForFilter:"",IsForPreview:1,IsDDLValueInFilter:!1,GetSubModuleList:[],showRowLevelFunction:!1,sortingresetvalue:!1,AlreadyExistExpression:{},ColumnlistArray:[],DateRangeData:[],GetSelectedValue:"",FormSchema:[{layoutType:"single",Data:[{astype:"MultiSelectField",label:"",name:"Select",value:"",mode:"tag",placeholder:"Select",config:{options:[],showAddIcon:!1},validationRules:""}]}]}},created:async function(){var e=this;$(".fade").addClass("show"),void 0!=this.$route.params.Modulename?(e.customreportparameters=this.$route.params,e.storeParameters()):e.GetStoredParameters(),await e.GetList(e.customreportparameters),null==e.customreportparameters.ReportID&&void 0==e.customreportparameters.ReportID||(await e.GetReportDetailsByReportId(),e.IsDDLValueInFilter?setTimeout((function(){e.showReportPreview=!0}),1e3):e.showReportPreview=!0),e.filterRulechange()},computed:{filtergroup(){var e=this;return e.Columnlist.filter(a=>{var t=null!=a.DisplayName?a.DisplayName:a.FieldName;return t.replace(/\W/g,"").toLowerCase().includes(e.Groupsearchmodel.replace(/\W/g,"").toLowerCase())})},filterColumngroup(){var e=this,a=[],t=[],l=null;return e.modulelisting.forEach((i,s)=>{e.modulelisting[s].forEach(i=>{t.push(i),a=t.filter(a=>{var t=null!=a.DisplayName?a.DisplayName:a.FieldName;return t.replace(/\W/g,"").toLowerCase().includes(e.ColumnSearchmodel.replace(/\W/g,"").toLowerCase())}),a.forEach(a=>{l=e.modulelisting[s].find(e=>e.CustomFieldId===a.CustomFieldId),void 0!=l&&(l.MainFieldname=e.submodulename[s])})})}),a}},methods:{storeParameters(){var e=this;localStorage.setItem("SavedParameters",JSON.stringify(e.customreportparameters))},GetStoredParameters(){var e=this;e.customreportparameters=JSON.parse(localStorage.getItem("SavedParameters"))},async GetFilterSelectDDL(e){var a=this;a.options=[];var t=[];a.isLoading=!0,await s["a"].GetFilterDDLselectvalue(e).then(e=>{e.data.length>0?(a.FormSchema[0].Data[0].config.options=[],t=e.data,t.forEach(e=>{a.options.push({value:e.value,name:e.name})}),a.FormSchema[0].Data[0].config.options=a.options,a.isLoading=!1):a.isLoading=!1}).catch(e=>{console.log(e)})},async GetDateRangeFilterDDL(){var e=this;await s["a"].GetDateRangeFilterDDL().then(a=>{e.DateRangeData=JSON.parse(a.data[0].Value).Data})},async GetReportDetailsByReportId(){var e=this;e.isLoading=!0;var a=`ReportId=${e.customreportparameters.ReportID}&IsPaged=1`;await s["a"].GetReportDetailsbyId(a).then(async a=>{var t=[];null!=a.data&&void 0!=a.data&&""!=a.data&&(t=a.data.JSON_To_Create_ReportListing[0].Info.FIELDS),null!=a.data&&void 0!=a.data&&""!=a.data&&0!=t.length?(e.BindFeilds(a.data.JSON_To_Create_ReportListing[0].Info.FIELDS),await e.BindFilters(a.data.JSON_To_Create_ReportListing[0].Info.FILTERS),e.BindGROUP(a.data.JSON_To_Create_ReportListing[0].Info.GROUP),e.sortingArray=a.data.JSON_To_Create_ReportListing[0].Info.SORTING,e.graphData=a.data.JSON_To_Create_ReportListing[0].Info.GRAPH,e.ExpressionArray=a.data.JSON_To_Create_ReportListing[0].Info.EXPRESSION,e.ExpressionFieldsArray=a.data.JSON_To_Create_ReportListing[0].Info.EXPRESSIONFIELDSARRAY,e.editexpressionvalue=!0,1==a.data.ReportListing&&(e.editjsondata=!0,e.saveJsonReport=a.data.JSON_To_Create_ReportListing[0],e.PdfJsonReport=a.data.JSON_To_Create_ReportListing[0])):(0==t.length&&e.CheckIsMandartoryForFilter(),e.isLoading=!1)}).catch(e=>{console.log(e)})},BindFeilds(e){var a=this;e.forEach(e=>{a.Columnlist.push(e),a.modulelisting.forEach((t,l)=>{let i=a.modulelisting[l].findIndex(a=>a.CustomFieldId===e.CustomFieldId);-1!=i&&a.modulelisting[l].splice(i,1)})}),a.Columnlist.length>0&&(a.CalculatedUIEnabled=!0)},bindpouupvaluefordatetime(e){var a=this;"datetime"!=e.ColumnFieldDataCode&&"date"!=e.ColumnFieldDataCode||("Between"==e.operator_display_name?(a.valueKey="valueTypeFirstdate",a.valuekey2="valueTypeSeconddate"):"Date Range"==e.operator_display_name?a.valueKey="DateRangeValue":a.valueKey="valueTypeFirstdate"),"time"==e.ColumnFieldDataCode&&("Between"==e.operator_display_name?(a.valueKey="ValueDisplayFirstTime",a.valuekey2="ValueDisplaySecondTime"):a.valueKey="ValueDisplayFirstTime")},bindfilterdata(e){var a=this;a.Filterlist=e.map((e,t)=>{var l="",i="";if("select"==e.ColumnFieldDataCode&&"Lookup"==e.PickListOption){var s=[];if(e.OperatorExpression.includes("IN")||e.OperatorExpression.includes("NOT IN")){var r=[];s=e.Value1.split(","),s.forEach(e=>{l=a.options.find(a=>a.value===e.replace(/"|'/g,"")),r.push(l.name)}),i=null===r||void 0===r?void 0:r.join(),a.valueKey="Displaymultiplevalue"}else{var o;l=a.options.find(a=>a.value===e.Value1),i=null===(o=l)||void 0===o?void 0:o.name,a.valueKey="DropDownValue"}}else"decimal"==e.ColumnFieldDataCode||"bigint"==e.ColumnFieldDataCode||"int"==e.ColumnFieldDataCode?"Between"==e.operator_display_name?(a.valueKey="valueTypeNumber",a.valuekey2="valueTypeNumber2"):a.valueKey="valueTypeNumber":"string"==e.ColumnFieldDataCode&&(e.OperatorExpression.includes("IN")||e.OperatorExpression.includes("NOT IN")?(a.valueKey="valueTypeText",a.valuekey2="valueTypeText2"):a.valueKey="valueTypeText");a.bindpouupvaluefordatetime(e);let n=a.modulelistingforfilter.findIndex(a=>a.find(a=>a.CustomFieldId==e.CustomFieldId)),d=a.modulelistingforfilter[n].findIndex(a=>a.CustomFieldId==e.CustomFieldId),u={};return-1!=d&&(u={FieldName:a.modulelistingforfilter[n][d].FieldName,CustomFieldId:e.CustomFieldId,ModuleIndex:n,ActualDataType:e.ActualDataType,FilterCount:t+1,FilterTypeAndorOr:a.filtertype,OPERATOR_ID:e.OPERATOR_ID,OperatorDisplayName:e.operator_display_name,IsMandatoryforFilter:e.IsMandatoryforFilter,FieldIcons:e.FieldIcons,DisplayName:e.DisplayName,ColumnFieldDataCode:e.ColumnFieldDataCode,PickListOption:e.PickListOption,Calculated_Field:!1},u[a.valuekey2]=e.Value2,u[a.valueKey]=""==i?e.Value1:i,a.modulelistingforfilter[n].splice(d,1)),u})},CheckforIncludeDataMatchesForFilter(){var e=this;"AND"==e.filtertype?e.category="Match All Value":e.category="Match Any Value"},BindFilters:async function(e){var a=this;e.length>0&&(e.map(async(e,t)=>{"select"==e.ColumnFieldDataCode&&"Lookup"==e.PickListOption?(a.IsDDLValueInFilter=!0,await a.GetFilterSelectDDL(e.CustomFieldId)):"datetime"!=e.ColumnFieldDataCode&&"date"!=e.ColumnFieldDataCode||"Date Range"!=e.operator_display_name||(a.IsDDLValueInFilter=!0,await a.GetDateRangeFilterDDL())}),a.IsDDLValueInFilter?setTimeout((function(){a.filtertype=e[0].FilterTypeAndorOr,a.CheckforIncludeDataMatchesForFilter(),a.bindfilterdata(e),a.RequestFilterJosn=e.map((e,t)=>{let l=a.Filterlist.findIndex(a=>a.CustomFieldId==e.CustomFieldId),i={};return-1!=l&&(i={CustomFieldId:e.CustomFieldId,FieldName:a.Filterlist[l].FieldName,ActualDataType:e.ActualDataType,FilterCount:t+1,OperatorExpression:e.OperatorExpression,FilterTypeAndorOr:e.FilterTypeAndorOr,OPERATOR_ID:e.OPERATOR_ID,Value1:e.Value1,Value2:e.Value2,ColumnFieldDataCode:e.ColumnFieldDataCode,FieldIcons:e.FieldIcons,PickListOption:e.PickListOption}),i})}),1e3):(a.filtertype=e[0].FilterTypeAndorOr,a.CheckforIncludeDataMatchesForFilter(),a.bindfilterdata(e),a.RequestFilterJosn=e.map((e,t)=>{let l=a.Filterlist.findIndex(a=>a.CustomFieldId==e.CustomFieldId),i={};return-1!=l&&(i={CustomFieldId:e.CustomFieldId,FieldName:a.Filterlist[l].FieldName,ActualDataType:e.ActualDataType,FilterCount:t+1,OperatorExpression:e.OperatorExpression,FilterTypeAndorOr:e.FilterTypeAndorOr,OPERATOR_ID:e.OPERATOR_ID,Value1:e.Value1,Value2:e.Value2,ColumnFieldDataCode:e.ColumnFieldDataCode,FieldIcons:e.FieldIcons,PickListOption:e.PickListOption}),i})))},BindGROUP(e){var a=this;a.Grouplist=[],e.forEach(e=>{var t=a.Columnlist.find(a=>a.CustomFieldId===e.CustomFieldId);e.ColumnFieldDataCode=t.ColumnFieldDataCode,a.Grouplist.push(e)})},openSetting:function(e,a){var t=this;if(e.Calculated_Field){if(t.showcalculatedUI=!0,t.editexpressionvalue=!0,t.AlreadyExistExpression={},t.ExpressionFieldsArray.length>0||t.ExpressionArray.length>0){t.ExpDataArray=[],t.ExpFieldDataArray=[];for(var l=0;l<=t.ExpressionArray.length;l++)if(t.ExpressionArray[l].ColumnIndex===e.ModuleIndex){t.ExpDataArray.push(t.ExpressionArray.find(a=>a.ColumnIndex===e.ModuleIndex));break}t.ExpressionFieldsArray.forEach(a=>{var l=[];l.push(a);var i=l.find(a=>a.ColumnIndex===e.ModuleIndex);void 0!=i&&t.ExpFieldDataArray.push(i)})}var i;if($("#showcalculatedfield").modal("show"),setTimeout((function(){$("#showcalculatedfield").modal("show"),setTimeout((function(){t.SetBootstraptoolTip()}),200)}),1e3),t.editexpressionvalue)t.AlreadyExistExpression=e,null===(i=t.$refs.Calculated)||void 0===i||i.ExpresssionDataValue(t.ExpDataArray,t.ExpFieldDataArray)}else t.modeldisplayname=t.GetLocalizedValue(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName),t.modeldateformat=e.DateFormat,t.modeldecimalplaces=e.DecimalPlace,t.modeluseseparator=e.IsUseSeprator,t.modelusecurrency=e.IsCurrencySymbol,$(".setting-div-box").width("0px"),$(a.target).closest(".parentdiv").find(".setting-div-box").width("500px"),t.GetDateFromDetail()},CloseSetting:function(e){var a=this;a.modeldisplayname=null,a.modeldateformat="",a.modeldecimalplaces=null,a.modeluseseparator=null,a.modelusecurrency=null,$(e.target).closest(".setting-div-box").width("0px")},ClosePopFilter:function(){var e=this;$(".filter-list-box").width("0px").css("overflow","hidden"),e.texttypevalue1=!1,e.numbertypevalue1=!1,e.datetypevalue1=!1,e.datetypevalue2=!1,e.multiselectvalue=!1,e.numbertypevalue2=!1,e.texttypevalue2=!1,e.DDLForFilter=!1,e.DDLForDateRange=!1,e.timetypevalue=!1,e.timetypevalue2=!1,e.ValueDisplaytext="",e.ValueDisplaytext2="",e.ValueDisplaynumber="",e.ValueDisplaynumber2="",e.ValueDisplaydate="",e.ValueDisplaydate2="",e.modeldaterange="",e.ValueDisplayTime="",e.ValueDisplayTime2="",e.Displaymultiplevalue="",e.dropdwonvalues=[],e.FormSchema[0].Data[0].value=[],e.modelFilterDDLValue="",e.SecondOperand="",e.SecondOperandValue1=""},CheckFeildOrFilter(){var e=this;let a=e.$refs.FIELDS.active;return a?"FIELD":"Filters"},GetList:async function(e){var a=this;if(void 0!=e.Modulename&&void 0!=e.Submodulecode&&null!=e.ReportName){var t=`moduleName=${e.Modulename}&subModuleCode=${e.Submodulecode}&viewId&reqFrom=${a.reqFrom}`;await s["a"].GetListFields(t).then(t=>{a.submodulecodename=t.data.AVAILABLE_FIELDS[0],a.submodulecodename.forEach(e=>{a.submodulename.push(e.SubModule),a.modulelisting.push([...e.CustomFields.sort((e,t)=>a.$t(e.DisplayName).localeCompare(a.$t(t.DisplayName)))]),a.modulelistingforfilter.push([...e.CustomFields.sort((e,t)=>a.$t(e.DisplayName).localeCompare(a.$t(t.DisplayName)))]),a.GetSubModuleList.push([...e.CustomFields])}),("Save"==e.NewReportInserted&&void 0!=e.ReportID||a.IsMandatoryforFilterAfterReset)&&a.CheckIsMandartoryForFilter(),setTimeout((function(){a.SetScrolbar("dark-thick","","customScrollForLeftBar")}),1e3)}).catch(e=>{console.log(e)}),a.submodulecode=e.Submodulecode,a.ReportName=e.ReportName}},CheckIsMandartoryForFilter:function(){var e=this;e.modulelisting.forEach((a,t)=>{e.modulelisting[t].forEach(a=>{if(a.IsMandatoryforFilter){var l=e.modulelisting[t].find(e=>e.CustomFieldId===a.CustomFieldId);"datetime"==l.ActualDataType&&(e.FilterActiveForMandatory=!0,e.SelectedoperatorMappedDatatype=l.dttype[0].DataTypeCode,e.ValueDisplaydate=R()(R()().subtract(30,"days")).format("YYYY-MM-DD"),e.savedOperatorName="Greater Than",e.CurrentOperatorSelected=">",e.operator_id=1,e.AddFilter(l,t),e.applySetting(l.CustomFieldId))}})})},collapsedclick:function(){var e=this;e.maindiv="col-6 pl-0 float-left d-none",e.showdiv="mb-0",e.fieldpan="col-6 p-0 float-left leftpancollapse col-11"},expandclick:function(){var e=this;e.maindiv="col-6 pl-0 float-left ",e.showdiv="mb-0 d-none",e.fieldpan="col-6 p-0 float-left"},editreport:function(){var e=this;e.editclass="card d-none",e.saveclass="card";var a="&Report_id="+e.customreportparameters.ReportID;s["a"].Editdyanmicreport(a).then(a=>{e.savereportname=a.data.ReportName}).catch(e=>{console.log(e)})},savereport:function(){var e=this;if(e.savereportname.length>100)return e.ShowAlert(e.$t("You can not enter more than 100 characters."),"warning",!0,e.$t("Alert")),!1;e.editclass="card",e.saveclass="card d-none";var a=`ReportName=${e.savereportname}&Report_Id=${e.customreportparameters.ReportID}&Folder_Id=${e.customreportparameters.Folder_Id}&Module_Id=${e.customreportparameters.Module_Id}&Sub_Module_Id=${e.customreportparameters.Sub_Module_Id}&Ref_Code=${e.customreportparameters.Submodulecode}&Version=${e.customreportparameters.Version}`;s["a"].AddDynamicreport(a).then(a=>{"Update"==a.data[0].Status?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("ReportName")]),"success",!0,e.$t("Alert")),e.ReportName=e.savereportname):"Exists"==a.data[0].Status?(e.savereportname="",e.ShowAlert(e.$t("AlreadyExists",[e.$t("ReportName")]),"failure",!0,e.$t("Alert"))):(e.savereportname="",e.ShowAlert(e.$t("SaveError",[e.$t("ReportName")]),"failure",!0,e.$t("Alert")))}).catch(e=>{console.log(e)})},PreviewJson:async function(e,a,t){var l=this;let i=l.MatchIfSameNameExist();if(i)return l.ShowAlert('Same Display Name  "'+i+'"  is Exist Mutiple Times Please Change',"failure",!0,l.$t("Alert")),!1;l.sortingArray=[],l.sortingresetvalue=!0,l.isLoading=!0;let r=l.CheckForValidSorting(e);if(0==r){for(var o in e)void 0!=e[o].sortcolummnId&&""!=e[o].sortcolummnId&&(l.sortingArray.push({CustomFieldId:e[o].sortcolummnId,SORTTYPE:e[o].columnOrders,SortIndex:parseInt(o),Calculated_Field:""}),l.Columnlist.forEach(e=>{var a=l.sortingArray.find(a=>a.CustomFieldId===e.CustomFieldId||a.CustomFieldId===e.FieldName);void 0!=a&&(a.Calculated_Field=e.Calculated_Field)}));var n;if(a){if(l.ChartGroupingArray=[],l.GroupingArray=[],void 0!=t&&""!=t){var d=l.Columnlist.find(e=>e.CustomFieldId===t.XAxisField||e.FieldName===t.XAxisField),u=l.Columnlist.find(e=>e.CustomFieldId===t.YAxisField||e.FieldName===t.YAxisField);l.ChartGroupingArray.push({XCustomFieldId:""==t.ChartColorCode?d.CustomFieldId:"",XFieldName:""==t.ChartColorCode?d.FieldName:"",YCustomFieldId:u.CustomFieldId,YFieldName:u.FieldName,AggregateFunctionType:t.AggregateFunctionType,ChartColorCode:t.ChartColorCode})}n={Info:{REPORTID:l.customreportparameters.ReportID,REPORTNAME:l.ReportName,MODULENAME:l.customreportparameters.Modulename,SUBMODULECODE:l.customreportparameters.Submodulecode,SUBMODULEID:l.customreportparameters.submoduleid,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:1,IsForPreview:l.IsForPreview,FIELDS:l.Columnlist,FILTERS:l.RequestFilterJosn,GROUP:[],CHARTGROUPARRAY:l.ChartGroupingArray,SORTING:l.sortingArray,GRAPH:[],EXPRESSION:l.ExpressionArray,EXPRESSIONFIELDSARRAY:l.ExpressionFieldsArray}}}else n={Info:{REPORTID:l.customreportparameters.ReportID,REPORTNAME:l.ReportName,MODULENAME:l.customreportparameters.Modulename,SUBMODULECODE:l.customreportparameters.Submodulecode,SUBMODULEID:l.customreportparameters.submoduleid,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:1,IsForPreview:l.IsForPreview,FIELDS:l.Columnlist,FILTERS:l.RequestFilterJosn,GROUP:l.Grouplist,CHARTGROUPARRAY:[],SORTING:l.sortingArray,GRAPH:[],EXPRESSION:l.ExpressionArray,EXPRESSIONFIELDSARRAY:l.ExpressionFieldsArray}};l.showReportPreview=!0,l.saveJsonReport=n;var p=JSON.stringify(n);await s["a"].PreviewReport(p).then(e=>{var t=[];t=JSON.parse(e.data[0].Value).ListingData,null!=t&&void 0!=t&&t.length>0?(a?(l.GraphJson=JSON.parse(e.data[0].Value),a||(l.previewdata=JSON.parse(e.data[0].Value).ListingData)):(l.PdfJsonReport=n,l.previewdata=JSON.parse(e.data[0].Value).ListingData,l.LevelOfGrouping=JSON.parse(e.data[0].Value).MetaData[0].LevelOfGrouping),l.isLoading=!1):(l.isLoading=!1,l.previewdata=[],a&&(l.GraphJson=JSON.parse(e.data[0].Value),l.$refs.reportdata.ResetGraphData()),l.ShowAlert(l.$t("No_Record_Found"),"failure",!0,l.$t("Alert")))}).catch(e=>{console.log("Data not Found"),l.previewdata=[],l.ShowAlert(l.$t("No_Record_Found"),"failure",!0,l.$t("Alert")),l.isLoading=!1})}else l.ShowAlert(l.$t("InvalidSorting"),"failure",!0,l.$t("Alert")),l.isLoading=!1},Addfields:function(e,a,t,l){var i=this;let s=i.$refs.FIELDS.active;var r;if(i.Columnlist.length<20){if(s){if(i.Columnlist.length<1)r=i.Columnlist.length;else{const e=i.Columnlist[i.Columnlist.length-1];r=e.Display_Order+1}if(e.hasOwnProperty("dttype")){const s=i.Columnlist.findIndex(a=>a.CustomFieldId===e.CustomFieldId);-1===s&&(i.Columnlist.push({CustomFieldId:e.CustomFieldId,DisplayName:e.DisplayName,FieldName:e.FieldName,ModuleIndex:t,ColumnFieldDataCode:e.dttype[0].DataTypeCode,Display_Order:r,Calculated_Field:!1,MainFieldname:l,FieldIcons:e.dttype[0].icon}),void 0==a.removed&&i.modulelisting[t].splice(i.modulelisting[t].indexOf(e),1))}else{const s=i.Columnlist.findIndex(a=>a.CustomFieldId==e.CustomFieldId);-1===s&&(i.Columnlist.push({CustomFieldId:e.CustomFieldId,DisplayName:e.DisplayName,FieldName:e.FieldName,ModuleIndex:t,ColumnFieldDataCode:e.ColumnFieldDataCode,Display_Order:r,Calculated_Field:!1,MainFieldname:l,FieldIcons:e.FieldIcons}),void 0==a.removed&&i.modulelisting[t].splice(i.modulelisting[t].indexOf(e),1))}}}else i.ShowAlert(i.$t("AddCustomFields"),"failure",!0,i.$t("Alert"));i.CalculatedUIEnabled=!0,i.searchColumnfilter=[],i.MainSearchmodel=""},ApplySaveSelectedData:function(e,a){var t=this;""!=t.modeldisplayname?t.SaveSelectedData(e,a):t.ShowAlert("Display Name is required","failure",!0,t.$t("Alert"))},SaveSelectedData:function(e,a){var t=this,l=t.Columnlist.find(a=>a.CustomFieldId==e.CustomFieldId);l.DisplayName=t.modeldisplayname,l.DateFormat=t.modeldateformat,l.DecimalPlace=t.modeldecimalplaces,l.IsUseSeprator=t.modeluseseparator,l.IsCurrencySymbol=t.modelusecurrency;let i=t.MatchIfSameNameExist();if(i){let e=t.MatchIfSameNameExist("GetChangedNameID");t.modulelisting.forEach((a,l)=>{t.GetSubModuleList[l].forEach(a=>{if(a.CustomFieldId===e){var l=t.Columnlist.find(e=>e.CustomFieldId==a.CustomFieldId);l.DisplayName=a.DisplayName,l.DateFormat=a.DateFormat,l.DecimalPlace=a.DecimalPlace,l.IsUseSeprator=a.IsUseSeprator,l.IsCurrencySymbol=a.IsCurrencySymbol,t.Grouplist.find(e=>e.CustomFieldId===a.CustomFieldId)&&(t.Grouplist=[],t.Grouplist.push(l))}})}),t.ShowAlert('Same Display Name  "'+i+'"  is Exist Mutiple Times Please Change',"failure",!0,t.$t("Alert"))}else t.Grouplist.find(e=>e.CustomFieldId===l.CustomFieldId)&&(t.Grouplist=[],t.Grouplist.push(l)),t.CloseSetting(a)},DeleteColumnFields:function(e,a){var t=this;let l=t.$refs.reportdata.CheckColumnExistInGraph(e.CustomFieldId);if(l)t.ShowAlert(t.$t("GraphFields"),"warning",!0,t.$t("Alert"));else{if(!e.Calculated_Field){let a=t.Columnlist.findIndex(a=>a.CustomFieldId==e.CustomFieldId);a>-1&&(t.Columnlist.splice(a,1),t.searchColumnfilter=[],$(".setting-div-box").width("0px"))}let a=t.Grouplist.findIndex(a=>a.CustomFieldId==e.CustomFieldId);if(a>-1&&t.Grouplist.splice(a,1),0==t.Columnlist.length&&(t.previewdata=[],t.CalculatedUIEnabled=!1),e.Calculated_Field||t.modulelisting[e.ModuleIndex].push({CustomFieldId:e.CustomFieldId,DisplayName:e.DisplayName,FieldName:e.FieldName,ColumnFieldDataCode:e.ColumnFieldDataCode,Display_Order:e.Display_Order,Calculated_Field:!1,MainFieldname:e.MainFieldname,FieldIcons:e.FieldIcons}),t.Groupsearchmodel="",e.Calculated_Field&&(t.ExpressionFieldsArray.length>0||t.ExpressionArray.length>0)){let a=t.Columnlist.findIndex(a=>a.ModuleIndex==e.ModuleIndex);a>-1&&(t.Columnlist.splice(a,1),t.searchColumnfilter=[]);for(var i=0;i<=t.ExpressionArray.length;i++)if(t.ExpressionArray[i].ColumnIndex===e.ModuleIndex){t.ExpressionArray.splice(i,1);break}t.ExpressionFieldsArray.forEach(a=>{var l=t.ExpressionFieldsArray.findIndex(a=>a.ColumnIndex===e.ModuleIndex);l>-1&&t.ExpressionFieldsArray.splice(l,1)})}if(null!=t.sortingArray&&t.sortingArray.length>0){var s;let a=t.sortingArray.findIndex(a=>a.CustomFieldId===e.CustomFieldId),l=t.sortingArray.find(a=>a.CustomFieldId===e.CustomFieldId);a>-1&&void 0!=l&&t.sortingArray.splice(a,1),null===(s=t.$refs.reportdata)||void 0===s||s.RemoveSortingForm({sortcolummnId:e.CustomFieldId})}}},DeleteGroupFields:function(e,a){var t=this;let l=t.Grouplist.findIndex(a=>a.CustomFieldId==e.CustomFieldId);var i;(l>-1&&t.Grouplist.splice(l,1),t.Groupsearchmodel="",null!=t.previewdata&&void 0!=t.previewdata&&t.previewdata.length>0)&&(null===(i=t.$refs.reportdata)||void 0===i||i.RefreshReport())},AddFilter:function(e,a){var t=this;t.filterRulechange();let l=0!=t.$refs.Filters.active?t.$refs.Filters.active:t.FilterActiveForMandatory;if(t.Filterlist.length<20){if(l){const l=t.Filterlist.findIndex(a=>a.CustomFieldId===e.CustomFieldId);-1===l&&("Match All Value"==t.category?t.filtertype="AND":t.filtertype="OR",t.Filterlist.push({CustomFieldId:e.CustomFieldId,ModuleIndex:a,FieldName:e.FieldName,DisplayName:e.DisplayName,ActualDataType:e.ActualDataType,ColumnFieldDataCode:void 0!=e.ColumnFieldDataCode?e.ColumnFieldDataCode:e.dttype[0].DataTypeCode,PickListOption:void 0!=e.PickListOption?e.PickListOption:e.picklist_options,FilterCount:t.getCountValue(),FilterTypeAndorOr:t.filtertype,IsMandatoryforFilter:e.IsMandatoryforFilter,FieldIcons:void 0!=e.FieldIcons?e.FieldIcons:e.dttype[0].icon,Calculated_Field:!1})),void 0==event.removed&&t.modulelistingforfilter[a].splice(t.modulelistingforfilter[a].indexOf(e),1),t.FilterActiveForMandatory=!1}}else t.ShowAlert(t.$t("AddCustomFilter"),"failure",!0,t.$t("Alert"));t.searchColumnfilter=[],t.MainSearchmodel=""},DeleteFilterFields:function(e,a){var t=this;if(!e.IsMandatoryforFilter){let a=t.Filterlist.findIndex(a=>a.CustomFieldId==e.CustomFieldId);a>-1&&t.Filterlist.splice(a,1);let l=t.Filterlist.findIndex(a=>a.CustomFieldId==e.CustomFieldId);l>-1&&t.Filterlist.splice(l,1),t.dragcount=t.dragcount-1,t.modulelistingforfilter[e.ModuleIndex].push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName,DisplayName:e.DisplayName,ActualDataType:e.ActualDataType,FieldIcons:e.FieldIcons,ColumnFieldDataCode:e.ColumnFieldDataCode,PickListOption:e.PickListOption,FilterType:e.filtertype});let i=t.RequestFilterJosn.findIndex(a=>a.CustomFieldId===e.CustomFieldId);-1!=i&&t.RequestFilterJosn.splice(a,1),t.ClosePopFilter()}},openrulespop:function(e,a){var t=this;e.selectedOPValue="",$(".filter-list-box").width("0px").css("overflow","hidden"),$(a.target).closest(".parentdiv").find(".filter-list-box").width("500px").css("overflow","visible"),t.GetOperatordata(e),t.texttypevalue1=!1,t.numbertypevalue1=!1,t.datetypevalue1=!1,t.datetypevalue2=!1,t.multiselectvalue=!1,t.numbertypevalue2=!1,t.texttypevalue2=!1,t.DDLForFilter=!1,t.DDLForDateRange=!1,t.timetypevalue=!1,t.timetypevalue2=!1,t.dropdwonvalues=[],t.FormSchema[0].Data[0].value=[],t.ValueDisplaytext="",t.ValueDisplaytext2="",t.ValueDisplaynumber="",t.ValueDisplaynumber2="",t.ValueDisplaydate="",t.modeldaterange="",t.ValueDisplaydate2="",t.Displaymultiplevalue="",t.modelFilterDDLValue="",t.ValueDisplayTime="",t.ValueDisplayTime2=""},getCountValue:function(){return this.dragcount++},dragover:function(e){let a=1;$(".draggable-list .filter-div").each((function(e){a=e+1,$(this).find(".filter-count-div").html(a)})),this.dragcount=a},GroupSearching:function(){this.itemclass=""},selectfiltervalue:function(e){var a=this;a.Grouplist.length<1&&(a.Grouplist.push(e),a.itemclass="d-none",a.Groupsearchmodel="")},selectfilterColumnvalue:function(e){var a=this;const t=a.Columnlist.findIndex(a=>a.CustomFieldId===e.CustomFieldId);-1===t&&a.modulelisting.forEach((t,l)=>{a.modulelisting[l].forEach(t=>{const i=a.modulelisting[l].findIndex(a=>a.CustomFieldId===e.CustomFieldId);-1!=i&&(a.Addfields(e,"",l,a.submodulename[l]),a.itemclass="d-none")})}),a.ColumnSearchmodel=""},ResetPreview:function(e){var a=this;a.modulelisting.splice(0),a.Columnlist.splice(0),a.Columnlist=[],a.Grouplist.splice(0),a.Groupsearchmodel="",a.previewdata.splice(0),a.RequestFilterJosn=[],a.Filterlist=[],a.ExpressionArray=[],a.ExpressionFieldsArray=[],a.saveJsonReport=[],a.setvalue=0,a.modulelistingforfilter.splice(0),a.CalculatedUIEnabled=!1,a.ChartGroupingArray=[],a.GroupingArray=[],a.MainSearchmodel="",a.IsMandatoryforFilterAfterReset=!0,a.SearchNoRecordForField=!1,a.SearchNoRecordForFilter=!1,a.searchColumnfilter=[],a.GetList(e)},GetDateFromDetail:function(){var e=this;s["a"].GetDateDetails().then(a=>{e.GetDateFromDB=a.data}).catch(e=>{console.log(e)})},resetoldvalueinfilteroperator(e,a){var t=this;""!=e.selectedOPValue&&""!=a&&(t.dropdwonvalues=[],t.FormSchema[0].Data[0].value=[],t.ValueDisplaytext="",t.ValueDisplaytext2="",t.ValueDisplaynumber="",t.ValueDisplaynumber2="",t.ValueDisplaydate="",t.modeldaterange="",t.ValueDisplaydate2="",t.Displaymultiplevalue="",t.ValueDisplayTime="",t.ValueDisplayTime2="",t.modelFilterDDLValue="")},checkvalue:async function(e,a,t,l,i){var s=this;"select"===a.ColumnFieldDataCode&&"Lookup"===a.PickListOption?s.GetFilterSelectDDL(a.CustomFieldId,a.FieldName):"Date Range"===e&&s.GetDateRangeFilterDDL(),setTimeout((function(){if(s.savedOperatorName="",s.SelectedoperatorMappedDatatype=a.ColumnFieldDataCode,s.CurrentOperatorSelected=t,s.savedOperatorName=e,s.operator_id=l,"string"==a.ColumnFieldDataCode&&("Between"==e?(s.texttypevalue1=!0,s.texttypevalue2=!0):"Is Empty"==e||"Is Not Empty"==e?(s.texttypevalue1=!1,s.texttypevalue2=!1):(s.texttypevalue1=!0,s.texttypevalue2=!1)),"decimal"!=a.ColumnFieldDataCode&&"int"!=a.ColumnFieldDataCode&&"bigint"!=a.ColumnFieldDataCode||("Between"==e?(s.numbertypevalue1=!0,s.numbertypevalue2=!0):"Is Empty"==e||"Is Not Empty"==e?(s.numbertypevalue1=!1,s.numbertypevalue2=!1):(s.numbertypevalue1=!0,s.numbertypevalue2=!1)),"select"===a.ColumnFieldDataCode&&"Lookup"===a.PickListOption&&("Is Empty"==e||"Is Not Empty"==e?(s.DDLForFilter=!1,s.multiselectvalue=!1,s.texttypevalue1=!1,s.texttypevalue2=!1):"IN"==t||"NOT IN"==t?(s.multiselectvalue=!0,s.DDLForFilter=!1):(s.DDLForFilter=!0,s.multiselectvalue=!1,s.texttypevalue1=!1,s.texttypevalue2=!1)),"date"===a.ColumnFieldDataCode&&("Between"==e?(s.datetypevalue1=!0,s.datetypevalue2=!0,s.DDLForDateRange=!1):"Is Empty"==e||"Is Not Empty"==e||"Is Off Day"==e||"Is Week End"==e?(s.datetypevalue1=!1,s.datetypevalue2=!1,s.DDLForDateRange=!1):"Date Range"==e?(s.datetypevalue1=!1,s.datetypevalue2=!1,s.DDLForDateRange=!0):(s.datetypevalue1=!0,s.datetypevalue2=!1,s.DDLForDateRange=!1)),"time"===a.ColumnFieldDataCode&&("Between"==e?(s.timetypevalue=!0,s.timetypevalue2=!0):"Is Empty"==e||"Is Not Empty"==e||"Is Off Day"==e||"Is Week End"==e?(s.timetypevalue=!1,s.timetypevalue2=!1):(s.timetypevalue=!0,s.timetypevalue2=!1)),void 0!=i)void 0!=l&&void 0!=e&&(s.dropdwonvalues=[],s.FormSchema[0].Data[0].value=[],s.ValueDisplaytext="",s.ValueDisplaytext2="",s.ValueDisplaynumber="",s.ValueDisplaynumber2="",s.ValueDisplaydate="",s.modeldaterange="",s.ValueDisplaydate2="",s.modelFilterDDLValue="",s.ValueDisplayTime="",s.ValueDisplayTime2="",a.OPERATOR_ID==l&&s.FillFiltervalue(l,a),a=[]);else{var r=s.Filterlist.find(e=>e.OPERATOR_ID===l);-1!=r&&s.resetoldvalueinfilteroperator(a,i)}}),1e3)},GetOperatordata:function(e){var a=this,t=e.CustomFieldId,l=`dataType=${e.ColumnFieldDataCode}&customField=${t}`;s["a"].GetDataOperator(l).then(l=>{if(a.GetOperator=l.data.DATA,a.BindOperatorValues(t,e),e.OPERATOR_ID>0){var i=a.GetOperator.filter(a=>a.OPERATOR_ID==e.OPERATOR_ID);if(i.length>0){var s=!0;a.isBinding=s,a.checkvalue(i[0].OPERATOR_DISPLAY_NAME,e,i[0].OPERATOR_EXPRESSION,e.OPERATOR_ID,i[0].MP[0].OPERATION_DATA_TYPE,s)}}})},popupvaluebind(e,a){var t=this;if("string"==a.ColumnFieldDataCode&&("Equal to one of multiple possible values"==a.OperatorDisplayName||"Not Equal to one of multiple possible values"==a.OperatorDisplayName?(t.texttypevalue1=!0,t.ValueDisplaytext=this.Filterlist[e].valueTypeText.split(",")):(t.texttypevalue1=!0,t.ValueDisplaytext=this.Filterlist[e].valueTypeText)),"select"==a.ColumnFieldDataCode)if("Equal to one of multiple possible values"==a.OperatorDisplayName||"Not Equal to one of multiple possible values"==a.OperatorDisplayName)t.multiselectvalue=!0,t.commaSepratedSelectedValues=this.Filterlist[e].Displaymultiplevalue.split(",");else{t.DDLForFilter=!0;var l=t.options.find(e=>e.name===a.DropDownValue);t.modelFilterDDLValue=null===l||void 0===l?void 0:l.value}"date"==a.ColumnFieldDataCode&&("Between"==t.DisplayName?(t.datetypevalue1=!0,t.datetypevalue2=!0,t.DDLForDateRange=!1,t.ValueDisplaydate=this.Filterlist[e].valueTypeFirstdate,t.ValueDisplaydate2=this.Filterlist[e].valueTypeSeconddate):"Date Range"==t.DisplayName?(t.DDLForDateRange=!0,t.modeldaterange=this.Filterlist[e].DateRangeValue):(t.datetypevalue1=!0,t.DDLForDateRange=!1,t.ValueDisplaydate=this.Filterlist[e].valueTypeFirstdate)),"time"==a.ColumnFieldDataCode&&("Between"==t.DisplayName?(t.timetypevalue=!0,t.timetypevalue2=!0,t.ValueDisplayTime=this.Filterlist[e].ValueDisplayFirstTime,t.ValueDisplayTime2=this.Filterlist[e].ValueDisplaySecondTime):(t.timetypevalue=!0,t.ValueDisplayTime=this.Filterlist[e].ValueDisplayFirstTime))},BindOperatorValues(e,a){var t=this;t.isBinding=!1;var l=this.Filterlist.findIndex(a=>a.CustomFieldId==e);t.DisplayName=this.Filterlist[l].OperatorDisplayName,null!=t.DisplayName&&void 0!=t.DisplayName&&""!=t.DisplayName?(t.operator=this.GetOperator.find(e=>e.OPERATOR_DISPLAY_NAME==t.DisplayName),t.Filterlist[l]["selectedOPValue"]=t.operator.OPERATOR_ID,t.Datatype=t.operator.MP[0].OPERATION_DATA_TYPE,t.popupvaluebind(l,a),"decimal"!=a.ColumnFieldDataCode&&"int"!=a.ColumnFieldDataCode||("Between"==t.DisplayName?(t.numbertypevalue1=!0,t.numbertypevalue2=!0,t.ValueDisplaynumber=this.Filterlist[l].valueTypeNumber,t.ValueDisplaynumber2=this.Filterlist[l].valueTypeNumber2):(t.numbertypevalue1=!0,t.ValueDisplaynumber=this.Filterlist[l].valueTypeNumber))):t.selectedOPValue=""},FilterJosnRquest(e){var a=this;if(("Not Match a character pattern"==e.OperatorDisplayName||"Match a character pattern"==e.OperatorDisplayName)&&""==a.ValueDisplaytext)return a.ShowAlert(a.$t("Please enter some value in the text field"),"warning",!0,a.$t("Alert")),!1;if("string"==a.SelectedoperatorMappedDatatype)if("IN"==a.CurrentOperatorSelected||"NOT IN"==a.CurrentOperatorSelected){if(a.FirstOperand=a.ValueDisplaytext,a.FirstOperandValue1=a.ValueDisplaytext2,"Equal to one of multiple possible values"==e.OperatorDisplayName||"Not Equal to one of multiple possible values"==e.OperatorDisplayName){let e=a.ValueDisplaytext.split(",");a.FirstOperandValue1=e}}else a.FirstOperand="'"+a.ValueDisplaytext+"'",a.FirstOperandValue1=a.ValueDisplaytext;else"decimal"!=a.SelectedoperatorMappedDatatype&&"int"!=a.SelectedoperatorMappedDatatype&&"bigint"!=a.SelectedoperatorMappedDatatype||("Between"==e.OperatorDisplayName?(a.FirstOperand="'"+e.valueTypeNumber+"'",a.FirstOperandValue1=e.valueTypeNumber,a.SecondOperand="'"+e.valueTypeNumber2+"'",a.SecondOperandValue1=e.valueTypeNumber2):(a.FirstOperand="'"+e.valueTypeNumber+"'",a.FirstOperandValue1=e.valueTypeNumber));let t=a.ConvertOperatorToExpression(a.CurrentOperatorSelected,a.FirstOperand,a.SecondOperand);const l=a.RequestFilterJosn.findIndex(a=>a.CustomFieldId===e.CustomFieldId);if(-1==l)a.RequestFilterJosn.push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName,ActualDataType:a.SelectedoperatorMappedDatatype,FilterCount:e.FilterCount,OperatorExpression:t,OPERATOR_ID:a.operator_id,Value1:a.FirstOperandValue1,Value2:a.SecondOperandValue1,IsMandatoryforFilter:e.IsMandatoryforFilter,FieldIcons:e.FieldIcons,DisplayName:e.DisplayName,FilterTypeAndorOr:e.FilterTypeAndorOr,PickListOption:e.PickListOption,ColumnFieldDataCode:e.ColumnFieldDataCode});else{let l=a.RequestFilterJosn.find(a=>a.CustomFieldId===e.CustomFieldId);l.OperatorExpression=t,l.PickListOption=e.PickListOption,l.ColumnFieldDataCode=e.ColumnFieldDataCode,l.OPERATOR_ID=a.operator_id,l.Value1=a.FirstOperandValue1,l.Value2=a.SecondOperandValue1,l.IsMandatoryforFilter=e.IsMandatoryforFilter,l.FieldIcons=e.FieldIcons}a.ClosePopFilter()},FillFiltervalue:function(e,a){var t=this;t.ArrayforFilterpopup.push(a);var l=t.ArrayforFilterpopup.findIndex(a=>a.OPERATOR_ID==e);if(l>-1){var i=t.RequestFilterJosn.find(t=>t.OPERATOR_ID==e&&t.CustomFieldId===a.CustomFieldId);if("string"==a.ColumnFieldDataCode)t.ValueDisplaytext=null===i||void 0===i?void 0:i.Value1,t.ValueDisplaytext2=null===i||void 0===i?void 0:i.Value2;else if("decimal"==a.ColumnFieldDataCode||"int"==a.ColumnFieldDataCode||"bigint"==a.ColumnFieldDataCode)t.ValueDisplaynumber=null===i||void 0===i?void 0:i.Value1,t.ValueDisplaynumber2=null===i||void 0===i?void 0:i.Value2;else if("date"===a.ColumnFieldDataCode)"DateRange"==t.CurrentOperatorSelected?t.modeldaterange=null===i||void 0===i?void 0:i.Value1:(t.ValueDisplaydate=null===i||void 0===i?void 0:i.Value1,t.ValueDisplaydate2=null===i||void 0===i?void 0:i.Value2);else if("time"===a.ColumnFieldDataCode)t.ValueDisplayTime=null===i||void 0===i?void 0:i.Value1,t.ValueDisplayTime2=null===i||void 0===i?void 0:i.Value2;else if("select"===a.ColumnFieldDataCode&&"Lookup"===a.PickListOption)if("IN"==t.CurrentOperatorSelected||"NOT IN"==t.CurrentOperatorSelected){var s=null===i||void 0===i?void 0:i.Value1.replace(/"|'/g,"");t.dropdwonvalues=null===s||void 0===s?void 0:s.split(",");var r=[];t.dropdwonvalues.forEach(e=>{const a=t.options.find(a=>a.value===e);if(-1!=a&&void 0!=a){var l={value:a.value,label:a.name};r.push(l)}}),t.FormSchema[0].Data[0].value=r,t.dropdwonvalues=[]}else t.modelFilterDDLValue=null===i||void 0===i?void 0:i.Value1}t.filterRulechange()},applySetting:function(e){var a=this,t=!1;a.FormSchema[0].Data[0].value.length>0&&a.FormSchema[0].Data[0].value.forEach(e=>{a.dropdwonvalues.push(e.value)}),"Between"==a.savedOperatorName?(""!=a.ValueDisplaytext&&""!=a.ValueDisplaytext2||(""!=a.ValueDisplaynumber||"0"==a.ValueDisplaynumber)&&""!=a.ValueDisplaynumber2||""!=a.ValueDisplaydate&&""!=a.ValueDisplaydate2||""!=a.ValueDisplayTime&&""!=a.ValueDisplayTime2)&&(t=!0):(""!=a.ValueDisplaytext||""!=a.ValueDisplaytext2||""!=a.ValueDisplaynumber||"0"==a.ValueDisplaynumber||""!=a.ValueDisplaynumber2||""!=a.ValueDisplaydate||""!=a.ValueDisplaydate2||""!=a.ValueDisplayTime||""!=a.ValueDisplayTime2||a.dropdwonvalues.length>0||""!=a.modelFilterDDLValue||"Is Empty"==a.savedOperatorName||"Is Not Empty"==a.savedOperatorName||"Is Off Day"==a.savedOperatorName||"Is Week End"==a.savedOperatorName||""!=a.modeldaterange)&&(t=!0),setTimeout((function(){if(t){var l,i,s=[];if(a.dropdwonvalues.forEach(e=>{const t=a.options.find(a=>a.value===e);-1!=t&&void 0!=t&&s.push(t.name)}),""!=a.dropdwonvalues)a.commaSepratedSelectedValues=null===(i=a.dropdwonvalues)||void 0===i?void 0:i.join(),a.modelFilterDDLValue="";var r="";""!=a.modelFilterDDLValue&&(r=a.options.find(e=>e.value===a.modelFilterDDLValue));var o=a.Filterlist.find(a=>a.CustomFieldId==e);if(o.OperatorDisplayName=a.savedOperatorName,o.valueTypeText=a.ValueDisplaytext,o.valueTypeText2=a.ValueDisplaytext2,o.valueTypeNumber=a.ValueDisplaynumber,o.valueTypeNumber2=a.ValueDisplaynumber2,o.valueTypeFirstdate=a.ValueDisplaydate,o.valueTypeSeconddate=a.ValueDisplaydate2,o.ValueDisplayFirstTime=a.ValueDisplayTime,o.ValueDisplaySecondTime=a.ValueDisplayTime2,o.Displaymultiplevalue=null===s||void 0===s?void 0:s.join(),o.DropDownValue=null===(l=r)||void 0===l?void 0:l.name,o.DateRangeValue=a.modeldaterange,o.OPERATOR_ID=a.operator_id,"select"==a.SelectedoperatorMappedDatatype)if("IN"==a.CurrentOperatorSelected||"NOT IN"==a.CurrentOperatorSelected){let e=a.commaSepratedSelectedValues.split("."),t=e.join(",");a.FirstOperand="'"+t.split(",").join("','")+"'";let l=a.FirstOperand;a.FirstOperandValue1=l}else a.FirstOperand="'"+a.modelFilterDDLValue+"'",a.FirstOperandValue1=a.modelFilterDDLValue;else"date"==a.SelectedoperatorMappedDatatype?"Between"==o.OperatorDisplayName?(a.FirstOperand="'"+o.valueTypeFirstdate+"'",a.FirstOperandValue1=o.valueTypeFirstdate,a.SecondOperand="'"+o.valueTypeSeconddate+"'",a.SecondOperandValue1=o.valueTypeSeconddate):"Date Range"==o.OperatorDisplayName?(a.FirstOperand="'"+o.DateRangeValue+"'",a.FirstOperandValue1=o.DateRangeValue):(a.FirstOperand="'"+o.valueTypeFirstdate+"'",a.FirstOperandValue1=o.valueTypeFirstdate):"time"==a.SelectedoperatorMappedDatatype&&("Between"==o.OperatorDisplayName?(a.FirstOperand="'"+o.ValueDisplayFirstTime+"'",a.FirstOperandValue1=o.ValueDisplayFirstTime,a.SecondOperand="'"+o.ValueDisplaySecondTime+"'",a.SecondOperandValue1=o.ValueDisplaySecondTime):(a.FirstOperand="'"+o.ValueDisplayFirstTime+"'",a.FirstOperandValue1=o.ValueDisplayFirstTime));a.FilterJosnRquest(o)}else a.ShowAlert("Cannot Add Empty Filter","failure")}),500)},FilterTabClicked(){var e=this;e.showModuleListForFilter=!0,e.showModuleListForField=!1,e.MainSearchmodel="",e.searchColumnfilter=[],e.SearchNoRecordForFilter=!1},FieldTabClicked(){var e=this;e.showModuleListForFilter=!1,e.showModuleListForField=!0,e.MainSearchmodel="",e.searchColumnfilter=[],e.SearchNoRecordForField=!1},openActionIcon:function(e){var a=this;a.showRowLevelFunction=!0},closeActionIcon:function(e){var a=this;a.showRowLevelFunction=!1},OpenCalculatedUI:function(){var e=this;e.showcalculatedUI=!0,e.editexpressionvalue=!1,e.showRowLevelFunction=!1,e.AlreadyExistExpression={},$("#showcalculatedfield").modal("show"),setTimeout((function(){$("#showcalculatedfield").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3)},VerifiedExpressionColumnValue({ExpressionID:e,FieldValue:a,VerifiedExpression:t,ExpressionFieldArray:l,ExpressionDisplay:i,Functionkey:s,IsEdit:r,IsExpExist:o}){var n,d=this;const u=d.Columnlist.findIndex(a=>a.CustomFieldId===e),p=d.Columnlist.findIndex(e=>e.FieldName===a);var c;if(-1!==u&&-1!==p||r){var m=d.Columnlist.find(e=>e.ModuleIndex===o.ModuleIndex);m.CustomFieldId=e,m.FieldName=a,m.DisplayName=a,m.DateFormat=null,m.DateFormatId=null,m.DecimalPlace=null,m.IsUseSeprator=null,m.IsCurrencySymbol=null,m.ColumnFieldDataCode="string",m.Display_Order=o.Display_Order,m.ModuleIndex=o.ModuleIndex,m.Calculated_Field=!0,m.ExpressionDisplay=i;var h=d.ExpressionArray.find(e=>e.ColumnIndex===o.ModuleIndex);h.ExpressionID=e,h.Expression=t,h.ExpressionName=a,h.ExpressionDisplay=i,h.ColumnIndex=o.ModuleIndex,h.REPORTID=d.customreportparameters.ReportID,h.FunctionKeys=s,l.forEach(e=>{var a=d.ExpressionFieldsArray.find(e=>e.ColumnIndex===o.ModuleIndex);a.CustomFieldId=e.CustomFieldId,a.FieldName=e.FieldName,a.ColumnIndex=o.ModuleIndex})}else{var v="",f="",y=0;if(d.Columnlist.forEach(e=>{e.Calculated_Field||0!=y?(d.setvalue=1,y++):d.setvalue=0}),1==d.setvalue)d.Columnlist.forEach(e=>{if(e.Calculated_Field){var a=[];a.push(e);var t=a.find(e=>e.ModuleIndex);v=t.ModuleIndex}}),f=parseInt(v)+1;else{const e=d.Columnlist[d.Columnlist.length-1];f=e.ModuleIndex+2,d.setvalue=1}if(d.Columnlist.length<1)c=d.Columnlist.length;else{const e=d.Columnlist[d.Columnlist.length-1];c=e.Display_Order+1}if(d.Columnlist.push({CustomFieldId:"",FieldName:a,DisplayName:a,DateFormat:null,DateFormatId:null,DecimalPlace:null,IsUseSeprator:null,IsCurrencySymbol:null,ColumnFieldDataCode:"string",Display_Order:c,ModuleIndex:f,Calculated_Field:!0,ExpressionDisplay:i}),""!=t){d.ExpressionArray.push({ExpressionID:e,Expression:t,ExpressionName:a,ExpressionDisplay:i,ColumnIndex:f,REPORTID:d.customreportparameters.ReportID,FunctionKeys:s});var C=d.Columnlist.find(e=>e.FieldName===a);C.ModuleIndex=f,void 0==d.ExpressionFieldsArray&&(d.ExpressionFieldsArray=[]),l.forEach(e=>{d.ExpressionFieldsArray.push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName,ColumnIndex:f})})}}null===(n=d.$refs.Calculated)||void 0===n||n.close()},SelectAllSearch(){var e=this;e.GetSelectedValue=window.getSelection().toString()},ListFiltering:function(){var e=this;let a=e.$refs.FIELDS.active;var t=document.getElementById("searchinput"),l=t.value;""!=e.GetSelectedValue&&(l=l.replaceAll(e.GetSelectedValue,""),e.GetSelectedValue=""),null!=l&&""!=l?$(".multi-collapse").addClass("show"):$(".multi-collapse").removeClass("show");let i=0;var s=[],r=[];if(a){e.modulelisting.forEach((a,t)=>{e.modulelisting[t].length>0||null!=l&&""!=l?(i=0,e.modulelisting[t].forEach(a=>{r.push(a),s=r.filter(a=>{var t=e.$t(null!=a.DisplayName)?e.$t(a.DisplayName):e.$t(a.FieldName);return t.replace(/\W/g,"").toLowerCase().includes(l.replace(/\W/g,"").toLowerCase())})})):i++,e.searchColumnfilter[t]=s,r=[],s=[]});for(let a in e.searchColumnfilter)e.searchColumnfilter[a].length>0&&i++;return e.SearchNoRecordForField=!(i>0),e.searchColumnfilter}{let a=0;e.modulelistingforfilter.forEach((t,i)=>{e.modulelistingforfilter[i].length>0||null!=l&&""!=l?(a=0,e.modulelistingforfilter[i].forEach(a=>{r.push(a),s=r.filter(a=>{var t=e.$t(null!=a.DisplayName)?e.$t(a.DisplayName):e.$t(a.FieldName);return t.replace(/\W/g,"").toLowerCase().includes(l.replace(/\W/g,"").toLowerCase())})})):a++,e.searchColumnfilter[i]=s,r=[],s=[]});for(let t in e.searchColumnfilter)e.searchColumnfilter[t].length>0&&a++;return e.SearchNoRecordForFilter=!(a>0),e.searchColumnfilter}},checkMove(e){var a=this,t=0;return"TargetDivID"==e.related.id?a.showModuleListForFilter?a.Filterlist.length<20||(a.ShowAlert(a.$t("AddCustomFilter"),"failure",!0,a.$t("Alert")),!1):a.Columnlist.length<20||e.dragged.id===e.related.id||(a.ShowAlert(a.$t("AddCustomFields"),"failure",!0,a.$t("Alert")),!1):!e.draggedContext.element.Calculated_Field&&void 0!=e.draggedContext.element.Calculated_Field&&(a.modulelisting.forEach((l,i)=>{a.GetSubModuleList[i].forEach(a=>{0==e.relatedContext.list.length?a.CustomFieldId===e.draggedContext.element.CustomFieldId&&(t=i):a.CustomFieldId===e.relatedContext.element.CustomFieldId&&(t=i)})}),t===e.draggedContext.element.ModuleIndex)},onDragEnd:function(e,a){return"StopDragfield"==e.item.id||(e.preventDefault(),!1)},ColumnListDisplayOrder:function(e){var a=this;a.showModuleListForFilter?(a.dragover(),a.ClosePopFilter()):($(".setting-div-box").width("0px"),a.Columnlist.forEach((e,a)=>{e.Display_Order=a+1}))},GetDraggedItem(e,a,t){var l=this;if(void 0!=e.removed)if(void 0!=t){let i=l.Columnlist.findIndex(a=>a.CustomFieldId===e.removed.element.CustomFieldId),s=l.modulelisting[a].findIndex(a=>a.CustomFieldId===e.removed.element.CustomFieldId);-1!=s&&l.modulelisting[a].splice(l.modulelisting[a].indexOf(e.removed.element),1),-1!=i&&(l.Columnlist.splice(i,1),l.Addfields(e.removed.element,e,a,t))}else{let t=l.Filterlist.findIndex(a=>a.CustomFieldId===e.removed.element.CustomFieldId),i=l.modulelistingforfilter[a].findIndex(a=>a.CustomFieldId===e.removed.element.CustomFieldId);-1!=i&&l.modulelistingforfilter[a].splice(l.modulelistingforfilter[a].indexOf(e.removed.element),1),-1!=t&&(l.Filterlist.splice(t,1),l.AddFilter(e.removed.element,a))}},MatchIfSameNameExist(e){var a=this;for(let t=0;t<a.Columnlist.length;t++)for(let l=0;l<t;l++)if(a.Columnlist[t].CustomFieldId!=a.Columnlist[l].CustomFieldId&&(a.$t(a.Columnlist[t].DisplayName)==a.$t(a.Columnlist[l].DisplayName)||a.$t(a.Columnlist[t].DisplayName).toLowerCase()==a.$t(a.Columnlist[l].DisplayName).toLowerCase()))return void 0==e?a.$t(a.Columnlist[t].DisplayName):a.$t(a.Columnlist[t].CustomFieldId);return!1},filterRulechange(){var e=this;e.filtertype="","Match All Value"==e.category?(e.Filterlist.forEach(e=>{e.FilterTypeAndorOr="AND"}),e.RequestFilterJosn.length>0&&e.RequestFilterJosn.forEach(e=>{e.FilterTypeAndorOr="AND"}),e.filtertype="AND"):(e.Filterlist.forEach(e=>{e.FilterTypeAndorOr="OR"}),e.RequestFilterJosn.length>0&&e.RequestFilterJosn.forEach(e=>{e.FilterTypeAndorOr="OR"}),e.filtertype="OR")},CheckForValidSorting(e){var a=0;return e.forEach(e=>{(""!=e.sortcolummnId&&""==e.columnOrders||""==e.sortcolummnId&&""!=e.columnOrders||void 0==e.sortcolummnId||void 0==e.columnOrders)&&(a=1)}),a},PreventValues(e){var a=e.keyCode;69!=a&&107!=a&&109!=a||e.preventDefault()},PreventDecimal(e){var a=e.keyCode;110!=a&&190!=a||e.preventDefault()},TruncateStr:function(e,a){var t=""+e;if(null!=t)return t.length<=a?e:t.substring(0,a)+"..."}}},G=T,k=(t("0831"),Object(f["a"])(G,l,i,!1,null,"43339e1a",null));a["default"]=k.exports},ad6d:function(e,a,t){"use strict";var l=t("825a");e.exports=function(){var e=l(this),a="";return e.hasIndices&&(a+="d"),e.global&&(a+="g"),e.ignoreCase&&(a+="i"),e.multiline&&(a+="m"),e.dotAll&&(a+="s"),e.unicode&&(a+="u"),e.unicodeSets&&(a+="v"),e.sticky&&(a+="y"),a}},caf2:function(e,a,t){var l=t("24fb");a=l(!1),a.push([e.i,".mCSB_inside>.mCSB_container[data-v-43339e1a]{margin-right:30px}.width80[data-v-43339e1a]{width:80px}.width120[data-v-43339e1a]{width:110px}.invalid-feedback[data-v-43339e1a]{white-space:normal;font-size:110%}",""]),e.exports=a},fe12:function(e,a,t){"use strict";t("8a7e")}}]);
//# sourceMappingURL=chunk-6abcdc67.js.map