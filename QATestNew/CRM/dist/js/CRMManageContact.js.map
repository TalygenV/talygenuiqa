{"version":3,"sources":["webpack:///./src/views/CRM/Contacts/Manage.vue?dca9","webpack:///./src/views/CRM/Contacts/Manage.vue?9571","webpack:///./src/views/CRM/Contacts/Manage.vue?9bcb","webpack:///src/views/CRM/Contacts/Manage.vue","webpack:///./src/views/CRM/Contacts/Manage.vue?9e98","webpack:///./src/views/CRM/Contacts/Manage.vue","webpack:///./src/views/CRM/Contacts/Manage.vue?2981"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","_v","_s","$t","ref","scopedSlots","_u","key","fn","valid","errors","GroupBy","dateformat","on","AssignToggleValues","setSelectedValue","ChangeMarital","onSearch","class","disabled","$event","SubmitData","onCancel","staticRenderFns","components","DynamicForm","data","LeadData","LeadOwner","contactId","Status","file","options","selected","selectoptions","submited","scancard","vSelectValidate","copied","message","ToCopyData","phoneList","itemMaritalValue","created","beforeUpdate","vm","methods","searchSelectData","ShowSearchData","search","objItem","selctedValue","DataService","then","json","item","val","$","element","ele","value","GetLocalizedValue","chk","GetFieldPlaceHolder","name","isBlank","field_name","required","length","type","fieldValue","Isvalidcnt","field_value","custom_field_id","validation","fileObj","LeadDataService","MakeArray","arr","array","copytext","MakeNormalArray","MakeSelectArray","GetValidation","obj","saveimg","postString","response","setTimeout","enabledrag","saveimgnew","File","reader","callback","bcr","displayResult","currentthis","displayResultEdit","fetchImageDetails","checkVue","box","GetBase64String","drawOnCanvas","fileName","attachement_mime","userId","companyId","id","moduleName","subModuleCode","containerName","base64String","FetchData","drawOnCanvasEdit","getbase64str","groupId","Compphone","Phones","homephone","businessphone","fieldItem","group_id","group_name","group_display_name","Data","frmFields","values","component","content","__esModule","default","locals","add"],"mappings":"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","file":"js/CRMManageContact.js","sourcesContent":["export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=style&index=0&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".switch{width:auto!important;overflow:unset!important}.switch .slider{left:auto!important;right:auto!important;padding:2px 7px 0 8px}.switch input:checked+.slider:before{transform:translateX(26px);left:auto;right:30px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"main-content\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{attrs:{\"id\":\"divMainLeadData\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(_vm._s(_vm.$t('ManageContact')))]),_c('span',{staticClass:\"float-right\"})])])]),_c('div',{staticClass:\"border p-3\"},[_c('Form',{ref:\"form\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('DynamicForm',{attrs:{\"schema\":_vm.GroupBy,\"dateformat\":_vm.dateformat},on:{\"AssignToggleValues\":_vm.AssignToggleValues,\"setSelectedValue\":_vm.setSelectedValue,\"onChange\":_vm.ChangeMarital,\"onSearchDDL\":_vm.onSearch}}),_c('div',{staticClass:\"row flex-row-reverse mt-2\"},[_c('div',{staticClass:\"col-lg-6 text-right\"},[_c('a',{staticClass:\"btn btn-success addContact_a\",class:{ disabled: false },attrs:{\"href\":\"javascript:;\",\"title\":\"Save\"},on:{\"click\":function($event){return _vm.SubmitData(valid,errors)}}},[_c('em',{staticClass:\"fa fa-save pr-2\"}),_vm._v(_vm._s(_vm.$t('Save'))+\" \")]),_vm._v(\"Â  \"),_c('a',{staticClass:\"btn btn-danger\",attrs:{\"href\":\"javascript:void(0)\",\"title\":\"Cancel\"},on:{\"click\":_vm.onCancel}},[_c('em',{staticClass:\"fa fa-close pr-2\"}),_vm._v(_vm._s(_vm.$t('Cancel'))+\" \")])]),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"py-2\"},[_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.$t('MandatoryString')))])])])])]}}])})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>    \r\n\r\n\r\n    <section class=\"main-content\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n      <div id=\"divMainLeadData\" v-cloak>\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12 padding-t_8\">\r\n            <div class=\"theme-primary partition-full\">\r\n              <span class=\"p-name text-white\">{{$t('ManageContact')}}</span>\r\n              <span class=\"float-right\">\r\n                <!-- <a href=\"javascript:;\" class=\"p-action-btn text-white\" title=\"PageTour\" @click=\"setTourGuideSteps(0)\">\r\n                  <em class=\"fa fa-road\" aria-hidden=\"true\"></em>\r\n                  <br />{{$t('PageTour')}}\r\n                </a> -->\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"border p-3\">\r\n          <Form v-slot=\"{ valid,errors}\" ref=\"form\">           \r\n            <DynamicForm :schema=\"GroupBy\" :dateformat=\"dateformat\" v-on:AssignToggleValues=\"AssignToggleValues\"  \r\n            v-on:setSelectedValue=\"setSelectedValue\" v-on:onChange=\"ChangeMarital\" v-on:onSearchDDL=\"onSearch\" /> \r\n            <div class=\"row flex-row-reverse mt-2\">\r\n              <div class=\"col-lg-6 text-right\">\r\n                <a\r\n                  href=\"javascript:;\"\r\n                  v-bind:class=\"{ disabled: false }\"\r\n                  v-on:click=\"SubmitData(valid,errors)\"\r\n                   class=\"btn btn-success addContact_a\"\r\n                  title=\"Save\"\r\n                >\r\n                  <em class=\"fa fa-save pr-2\"></em>{{$t('Save')}}\r\n                </a>&nbsp;\r\n                <a href=\"javascript:void(0)\" class=\"btn btn-danger\" title=\"Cancel\" @click=\"onCancel\">\r\n                  <em class=\"fa fa-close pr-2\"></em>{{$t('Cancel')}} \r\n                </a>                \r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <div class=\"py-2\">\r\n                 <small class=\"text-danger\">{{$t('MandatoryString')}}</small>\r\n                </div>\r\n              </div>\r\n            </div>            \r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </section>\r\n</template>\r\n<script>\r\nimport LeadDataService from \"../../../services/DataService\";\r\nimport DynamicForm from \"../../../components/Common/DynamicForm.vue\";\r\nexport default {\r\n    components: {\r\n    DynamicForm\r\n  },\r\n    data()  {        \r\n        return  {\r\n            isLoading:false,\r\n            LeadData: null,\r\n            LeadOwner: null,\r\n            GroupBy: [],\r\n            contactId: this.$route.params.id,            \r\n            Status: null,\r\n            file: null,\r\n            options:null,\r\n            selected: false,\r\n            selectoptions: [],\r\n            submited: false,\r\n            scancard: true,\r\n            vSelectValidate: false,\r\n            copied: '',\r\n            message: 'Copy These Text',\r\n            ToCopyData: [],\r\n           \r\n            phoneList: [],\r\n            itemMaritalValue:'',\r\n        }\r\n    } ,\r\n        created: function () {\r\n            this.userId= this.GetUserInfo.ID;\r\n            this.companyId= this.GetUserInfo.CompanyId;\r\n            this.dateformat= this.GetUserInfo.DateFormat;          \r\n            this.FetchData(); \r\n        },\r\n        beforeUpdate: function () {\r\n            var vm = this;\r\n            vm.ChangeMarital(vm.itemMaritalValue);\r\n        },\r\n        methods: {\r\n            onSearch: function onSearch(search, objItem) {\r\n            if(search)     {\r\n            this.searchSelectData(search, this, objItem);\r\n            }\r\n        },\r\n        searchSelectData: function (search, vm, objItem) {\r\n            this.ShowSearchData(search, vm, objItem,objItem.value.value);\r\n        },\r\n        ShowSearchData(search, vm, objItem,selctedValue) {\r\n            if (typeof (selctedValue) == 'undefined') {\r\n                    selctedValue = 0;\r\n                }\r\n            var url = \"id=&moduleName=\"+this.$route.params.moduleName+\"&type=\"+objItem.field_code;           \r\n                DataService.getDDLData(url + \"&search=\" + escape(search))\r\n                .then(response => {\r\n                    var json = [];\r\n                    if(response.data==''){\r\n                       \r\n                    }\r\n                    if (response.data != '') {\r\n                        json = response.data;\r\n                    }                    \r\n                    objItem.select_options = json.DATA;\r\n                        return objItem.select_options;\r\n                    \r\n                });\r\n        },       \r\n            setSelectedValue(item, val) {\r\n                try {\r\n                    if (Array.isArray(val)) {\r\n                        item.value = val[0];\r\n                    }\r\n                    else {\r\n                        item.value = val.value;\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                }\r\n            },        \r\n            ChangeMarital: function (item) {\r\n                let ele=document.querySelectorAll('[name=\"spouse_name\"]')[0];\r\n                if (item.value == \"Single\" || item.value ==\"\") {\r\n                    $.each(this.GroupBy, function (filedIndex, fieldItem) {\r\n                        $.each(fieldItem.Data, function (index, element) {\r\n                            if (element.name == \"spouse_name\") {\r\n                                element.disabled = true;                               \r\n                            if (typeof (ele) != 'undefined' && ele != null) {\r\n                                ele.disabled = true;\r\n                            }\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n                else {\r\n                    $.each(this.GroupBy, function (filedIndex, fieldItem) {\r\n                        $.each(fieldItem.Data, function (index, element) {\r\n                            if (element.name == \"spouse_name\") {\r\n                                element.disabled = false;                               \r\n                            if (typeof (ele) != 'undefined' && ele != null) {\r\n                                ele.disabled = false;\r\n                            }\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            },\r\n            AssignToggleValues: function (event, item, array, parentIndex, index) {\r\n                var value = \"\";\r\n                if (event.target.checked) {\r\n                    var chkItem = $.grep(array, function (element, index) {\r\n                        return (String(element.value).toLowerCase() == 'yes' || String(element.value).toLowerCase() == '1' || String(element.value).toLowerCase() == 'true' || String(element.value).toLowerCase() == 'public' || String(element.value).toLowerCase() == 'male');\r\n                    });\r\n                    if (chkItem != null && chkItem.length > 0) {\r\n                        if (typeof chkItem[0] === 'object' && chkItem[0] !== null) {\r\n                            value = chkItem[0].value;\r\n                        } else {\r\n                            value = chkItem[0];\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    var chkItem = $.grep(array, function (element, index) {\r\n                        return (String(element.value).toLowerCase() == 'no' || String(element.value).toLowerCase() == '0' || String(element.value).toLowerCase() == 'false' || String(element.value).toLowerCase() == 'private' || String(element.value).toLowerCase() == 'female');\r\n                    });\r\n                    if (chkItem != null && chkItem.length > 0) {\r\n                        if (typeof chkItem[0] === 'object' && chkItem[0] !== null) {\r\n                            value = chkItem[0].value;\r\n                        } else {\r\n                            value = chkItem[0];\r\n                        }\r\n                    }\r\n                }\r\n                if (value == \"0\") {\r\n                    value = 0;\r\n                }\r\n                else if (value == \"1\") {\r\n                    value = 1;\r\n                }\r\n                item.value = value;\r\n            },\r\n            GetLocalizedValue: function (fieldName, displayName) {\r\n                if (this.isBlank(displayName)) {\r\n                    var chk = this.$t(String(fieldName).toUpperCase());\r\n                    if (chk || /^\\s*$/.test(chk)) {\r\n                        return chk;\r\n                    }\r\n                    chk = this.$t(String(fieldName));\r\n                    if (chk || /^\\s*$/.test(chk)) {\r\n                        return chk;\r\n                    }\r\n                    return fieldName;\r\n                }\r\n                else {\r\n                    var chk = this.$t(String(displayName).toUpperCase());\r\n                    if (chk || /^\\s*$/.test(chk)) {\r\n                        return chk;\r\n                    }\r\n                    chk = this.$t(String(displayName));\r\n                    if (chk || /^\\s*$/.test(chk)) {\r\n                        return chk;\r\n                    }\r\n                    return displayName;\r\n                }\r\n            },\r\n            GetFieldPlaceHolder: function (str, displayName, isfor) {\r\n                var name = this.GetLocalizedValue(str, displayName);\r\n                if (isfor == \"select\") {\r\n                    name = this.$t('SelectField')+ name;\r\n                }\r\n                else {\r\n                    name = this.$t('EnterField')+ name;\r\n                }\r\n                return name;\r\n            },\r\n            isBlank: function (str) {\r\n                return (!str || /^\\s*$/.test(str));\r\n            },\r\n            SubmitData(valid,errors) {\r\n                var vm=this;\r\n    //             this.LeadData.forEach((item)=>{\r\n    //         if(item.astype!='' && item.form_field_visibility == 'YES'){\r\n    //             if (item.dt_code == \"select\" && item.value) {\r\n    //                     try {\r\n    //                         values[item.name] = String((typeof item.value === 'object' && item.value !== null) ? item.value.value : item.value);\r\n    //                         vm.$refs.form.setFieldTouched(item.name, false);\r\n    //                     } catch (ex) { console.log('error while get dropdown parse data') }\r\n    //                 }\r\n    //                 if (item.dt_code == 'date' && item.value) {\r\n    //                     values[item.name] =vm.$options.filters.formatDate(item.value);\r\n    //                     vm.$refs.form.setFieldTouched(item.name, false);\r\n    //                 } else {\r\n    //                     vm.$refs.form.setFieldTouched(item.name, true);\r\n    //                 }                  \r\n    //         }\r\n    //   })\r\n      var fileObj = \"\";\r\n                      var vm = this;\r\n                this.$refs.form.validate().then((result) => {\r\n                    vm.vSelectValidate = true;\r\n                    if (result) {\r\n                        vm.submited = true;\r\n                        vm.isLoading=true;\r\n                        var fullJson = this.LeadData;\r\n                        var data = [];\r\n                        var validation = [];\r\n                        var Isvalidcnt = 0;\r\n                        $.each(fullJson, function (key, item) {\r\n                            var validationObject = {\r\n                                field_name: item.name,\r\n                                required: item.is_required,\r\n                                length: item.length,\r\n                                type: item.validation_type\r\n                            };\r\n\r\n                            var fieldValue = (item.name == \"contact_id\" ? vm.contactId : item.value);\r\n                           \r\n                            if (item.dt_code == \"date\") {\r\n                                fieldValue = item.value;\r\n                            }\r\n                            if (item.name == 'gender' && (item.value == \"\" || item.value == \"0\")) {\r\n                                fieldValue = (item.value == \"\" || item.value == \"0\") ? \"Female\" : item.value;\r\n                            }\r\n                            if (fieldValue != null &&  typeof fieldValue !='object' && fieldValue.includes(\"'\")) {\r\n                                fieldValue = escape(fieldValue);\r\n                            }\r\n                            if (item.name == \"mobile_phone\" || item.name == \"home_phone\" || item.name == \"business_phone\") {\r\n                                var datalist = vm.phoneList.filter(v => v.field_id == item.custom_field_id);\r\n                                if (datalist.length > 0) {\r\n                                    item.value = $.trim(datalist[0].value);\r\n                                    fieldValue = $.trim(datalist[0].value);\r\n                                    if (!datalist[0].isValid && $.trim(item.value).length > 0) {\r\n                                        Isvalidcnt++;\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (item.dt_code == \"checkbox\") {\r\n                                var filtered = item.select_value.filter(function (el) {\r\n                                    return (el != null && el != \"\");\r\n                                });\r\n                                fieldValue = filtered.join(',');\r\n                            }\r\n                            if (item.dt_code == \"select\") {\r\n                                try {\r\n                                    fieldValue = (typeof fieldValue === 'object' && fieldValue !== null) ? fieldValue.value : fieldValue\r\n                                } catch (ex) { }\r\n                            }\r\n                            var dataObject = {\r\n                                field_name: item.name,\r\n                                field_value: fieldValue,\r\n                                custom_field_id: item.custom_field_id\r\n                            };\r\n                            data.push(dataObject);\r\n                            validation.push(validationObject);\r\n                        });\r\n                        if (Isvalidcnt > 0) {\r\n                             \r\n                            vm.submited = false;\r\n                            return false;\r\n                        }\r\n                        var postJSON = {\r\n                            data: data,\r\n                            validation: validation,\r\n                            fileObj: fileObj\r\n                        }\r\n                        var objectPostString = JSON.stringify(postJSON);\r\n                        LeadDataService.SaveContact(objectPostString).then(response => {\r\n                            \r\n                            vm.isLoading=false;\r\n                            if (response.data[0].Code == \"1\") {\r\n                                if (vm.contactId > 0) {\r\n                                    vm.ShowAlert(vm.$t('UpdatedSuccess', [vm.$t('Contacts')]), \"Success\", true, vm.$t(\"Alert\"));                                    \r\n                                }\r\n                                else {\r\n                                    vm.ShowAlert(vm.$t('AddedSuccess', [vm.$t('Contacts')]), \"Success\", true, vm.$t(\"Alert\"));\r\n                                                                         \r\n                                }\r\n                                vm.$router.push({ name:'ContactListing' });\r\n                            }\r\n                            else if (response.data[0].Code == \"-1\") {\r\n                                vm.ShowAlert(vm.$t('AlreadyExists', [vm.$t('Email')]), \"warning\", true, vm.$t(\"Alert\"));                                \r\n                            }\r\n                            else {\r\n                                vm.ShowAlert(vm.$t('AddedError', [vm.$t('Contacts')]), \"error\", true, vm.$t(\"Alert\"));                                 \r\n                            }                             \r\n                            vm.submited = false;\r\n                            \r\n                           \r\n                        });\r\n                    }\r\n                });\r\n            },\r\n            MakeArray: function (value, type) {\r\n                var array = [];\r\n                var arr = String(value).split(',');\r\n                if (type == \"radio\" || type == \"checkbox\") {\r\n                    if (arr.length > 0) {\r\n                        for (var item of  arr) {\r\n                            if (item.split(\"|\").length > 1) {\r\n                                var person = { name: item.split(\"|\")[0], value: item.split(\"|\")[1] };\r\n                                array.push(person);\r\n                            }\r\n                            else {\r\n                                var person = { name: item, value: item };\r\n                                array.push(person);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (arr.length > 0) {\r\n                        for (var item of arr) {\r\n                            var person = { name: item, value: item };\r\n                            array.push(person);\r\n                        }\r\n                    }\r\n                }\r\n                return array;\r\n            },\r\n            copytext: function (txt) {\r\n                this.copied = txt;\r\n            },\r\n            MakeNormalArray: function (value) {\r\n                if (value) {\r\n                    try {\r\n                        return JSON.parse(value);\r\n                    }\r\n                    catch (ex) {\r\n                        return value;\r\n                    }\r\n                }\r\n                else {\r\n                    value = [];\r\n                }\r\n            },\r\n            MakeSelectArray: function (objItem) {\r\n                var array = [];\r\n                var arr = String(objItem.select_options).split(',');\r\n                if (arr.length > 0 && objItem.picklist_options == 'Lookup' && objItem.form_field_visibility == \"YES\" && objItem.dt_code == \"select\") {\r\n                    var person = { name: arr[0], value: arr[1] };\r\n                    array.push(person);\r\n                }\r\n                return array\r\n            },\r\n            GetValidation: function (object) {\r\n                var obj = {};\r\n                if (object.is_required) {\r\n                    obj['required'] = true;\r\n                }\r\n                if (object.validation_type == \"email\") {\r\n                    obj['email'] = true;\r\n                }\r\n                if (object.dt_code == \"date\") {\r\n                    obj['date_format'] = String(Globalize.culture().calendar.patterns.d).toUpperCase();\r\n                }\r\n                if (object.dt_code == \"decimal\") {\r\n                    obj['decimal'] = 2;\r\n                }\r\n                if (object.name == \"zipcode\") {\r\n                    obj['numeric'] = true;\r\n                    obj['min'] = 5;\r\n                    obj['max'] = 15;\r\n                }\r\n                if (object.dt_code == \"int\" || object.dt_code == \"bigint\") {\r\n                    obj['numeric'] = true;\r\n                }\r\n                if (object.dt_code == \"url\") {\r\n                    obj['url'] = 'require_protocol';\r\n                }\r\n                if (object.regular_expression != null && object.regular_expression != \"\") {\r\n                    obj['regex'] = object.regular_expression;\r\n                }\r\n                return obj;\r\n            },\r\n            // This Function(saveimg) is used to scan business card and fetch text. It uses api hosted on TFS . To run on local server include BCardApi from Talygen Server.\r\n            // For now this function is not used, insted of this saveimgnew function is used which recognize image in javascript only and there is no need\r\n            // to call api and include project. In case to use api call saveimg function insted of saveimgnew.\r\n            saveimg: function () {\r\n                 \r\n                var objectPostString = JSON.stringify(this.fileData);\r\n                this.$http.post('http://stagebcard.talygen.com/api/scan', { postString: objectPostString }).then(response => {\r\n                    response.headers.get('Expires');\r\n                    if (response.body != null) {\r\n                        var otherdata = response.body;\r\n                        this.copied = '';\r\n                        $.each(this.GroupBy, function (index, item) {\r\n                            $.each(item.LeadData, function (index1, element) {\r\n                                if (element.name == \"first_name\") { this.value = otherdata.Name; }\r\n                                if (element.name == \"mobile_phone\") { this.value = otherdata.PhoneNumber; }\r\n                                if (element.name == \"email_id\") { this.value = otherdata.EmailId; }\r\n                                if (element.name == \"zipcode\") { this.value = otherdata.ZipCode; }\r\n                                if (element.name == \"personal_notes\") { this.value = otherdata.Other; }\r\n                            });\r\n                        });\r\n                    }\r\n                    $(\"#ShowData\").removeClass(\"d-none\");\r\n                    $('#ShowData').removeClass('d-none');\r\n                    setTimeout(function () {\r\n                        enabledrag();\r\n                    }, 1000);\r\n                     \r\n                }, response => {\r\n                     \r\n                });\r\n            },\r\n            saveimgnew: function () {\r\n                File.prototype.convertToBase64 = function (callback) {\r\n                    var reader = new FileReader();\r\n                    reader.onloadend = function (e) {\r\n                        callback(e.target.result, e.target.error);\r\n                    };\r\n                    reader.readAsDataURL(this);\r\n                };\r\n                var objectPostString = this.fileData[0].base64String;\r\n                var b64a = 'data:image/jpeg;base64,' + objectPostString;\r\n                bcr.recognizeBcr(b64a, displayResult, displayProgress);\r\n            },\r\n            displayResult: function (data) {\r\n                this.ToCopyData = [];\r\n                var otherdata = data.result;\r\n                //Displaying data found in business card to drag or copy\r\n                var currentthis = this;\r\n                $.each(data.blocks, function (i) {\r\n                    currentthis.ToCopyData.push(data.blocks[i].text);\r\n                });\r\n                //setting values in inputbox\r\n                $.each(this.GroupBy, function (index, item) {\r\n                    $.each(item.LeadData, function (index1, element) {\r\n                        if (element.name == \"first_name\") { this.value = otherdata.Name.Text; }\r\n                        if (element.name == \"job_title\") { this.value = otherdata.Job; }\r\n                        if (element.name == \"mobile_phone\") { this.value = otherdata.Mobile; }\r\n                        if (element.name == \"business_phone\") { this.value = otherdata.Phone; }\r\n                        if (element.name == \"email_id\") { this.value = otherdata.Email; }\r\n                        if (element.name == \"address_street_1\") { this.value = otherdata.Address.Text; }\r\n                    });\r\n                });\r\n                setTimeout(function () {\r\n                    enabledrag();\r\n                     \r\n                }, 500);\r\n            },\r\n            displayResultEdit: function (data) {\r\n                this.ToCopyData = [];\r\n                //Displaying data found in business card to drag or copy\r\n                var currentthis = this;\r\n                $.each(data.blocks, function (i) {\r\n                    currentthis.ToCopyData.push(data.blocks[i].text);\r\n                });\r\n                setTimeout(function () {\r\n                    enabledrag();\r\n                }, 500);\r\n            },\r\n            fetchImageDetails: function () {\r\n                var vm=this;\r\n                var objectPostString = JSON.stringify(this.fileData);\r\n               LeadDataService.UploadFile(objectPostString).then(response => {\r\n                    if (response.data[0].Status == \"Success\") {\r\n                        var box = alertR(vm.$t('AddedSuccess')+ vm.$t('Attachment'));\r\n                        vm.$emit('close');\r\n                        checkVue.loadData('attachments');\r\n                        setTimeout(function () {\r\n                            box.modal('hide');\r\n                        }, 1500);\r\n                    }\r\n                     \r\n                });\r\n            },\r\n            GetBase64String: function (evt) {\r\n                $('#showscancard').removeClass('d-none');\r\n                var input = document.querySelector('input[type=file]'); \r\n                var file = input.files[0];\r\n                drawOnCanvas(file);\r\n                var vm = this;\r\n                vm.fileData = [];\r\n                var f = evt.target.files[0];\r\n                var reader = new FileReader();\r\n             \r\n                reader.onload = (function (theFile) {\r\n                    return function (e) {\r\n                        var binaryData = e.target.result;\r\n                        var base64StringEncoded = window.btoa(binaryData);\r\n                        var fileName = f.name;\r\n                        var n = fileName.lastIndexOf(\".\");\r\n                        var extensionName = fileName.substring(n + 1, fileName.length);\r\n                        var attachemnetMime = '{\"ContentType\":\"' + f.type + '\",\"Size\":\"' + f.size + '\",\"Extension\":\"' + extensionName + '\"}';\r\n                        const validImageTypes = ['image/gif', 'image/jpeg', 'image/png'];\r\n                        if (!validImageTypes.includes(f.type)) {\r\n                            $('#showscancard').addClass('d-none');\r\n                            vm.ShowAlert(this.$t('selectimage'),'warning',true,this.$t('Alert'));\r\n                            return false;\r\n                        }\r\n                        fileName = f.name;\r\n                        fileObj = {\r\n                            attachement_mime: attachemnetMime,\r\n                            fileName: fileName,\r\n                            userId: $(\"input[name='imageupload']\").attr('userid'),\r\n                            companyId: $(\"input[name='imageupload']\").attr('companyid'),\r\n                            id: $(\"input[name='imageupload']\").attr('id'),\r\n                            moduleName: $(\"input[name='imageupload']\").attr('modulename'),\r\n                            subModuleCode: $(\"input[name='imageupload']\").attr('submodulecode'),\r\n                            containerName: $(\"input[name='imageupload']\").attr('containername'),\r\n                            base64String: base64StringEncoded,\r\n                        };\r\n                        vm.fileData.push(fileObj);\r\n                        vm.saveimgnew();\r\n                    };\r\n                })(f);\r\n             \r\n                reader.readAsBinaryString(f);\r\n              \r\n            },\r\n            FetchData: function () {   \r\n                var vm = this;\r\n                vm.isLoading=true;\r\n                const params = `id=${vm.$route.params.id}&moduleName=${vm.$route.params.moduleName}&subModuleCode=${vm.$route.params.subModuleCode}&langCode=en`;\r\n                LeadDataService.getFormLayout(params).then(function (response) {\r\n                    vm.isLoading=false;\r\n                              var Compphone = '';\r\n                              var homephone = '';\r\n                              var businessphone = '';\r\n                              var Phones = [];\r\n                              if (response.data.imageData != null && response.data.imageData != \"\") {\r\n                                  $('#showscancard').removeClass('d-none');\r\n                                  drawOnCanvasEdit(response.data.imageData[0]);\r\n                                  setTimeout(function () {\r\n                                      getbase64str();\r\n                                  }, 1000);\r\n                              }\r\n                              else {   }\r\n                              vm.LeadData = response.data.data;\r\n                              if (vm.LeadData != null && vm.LeadData.length > 0) {\r\n                                  var groupId = vm.LeadData[0].group_id;\r\n                                  $.each(vm.LeadData, $.proxy(function (index, item) {\r\n                                      groupId = item.group_id;\r\n                                      if (item.dt_code == 'checkbox') {\r\n                                          item.select_value = item.value.split(',');\r\n                                      }\r\n                                      if (item.name == \"mobile_phone\") {\r\n                                          Compphone = item.value;\r\n                                          if (Compphone == '' || Compphone == null || Compphone.indexOf(\"+\") == -1)\r\n                                              Phones.push(item.name);\r\n                                      }\r\n                                      if (item.name == \"home_phone\") {\r\n                                          homephone = item.value;\r\n                                          if (homephone == '' || homephone == null || homephone.indexOf(\"+\") == -1)\r\n                                              Phones.push(item.name);\r\n                                      }\r\n                                      if (item.name == \"business_phone\") {\r\n                                          businessphone = item.value;\r\n                                          if (businessphone == '' || businessphone == null || businessphone.indexOf(\"+\") == -1)\r\n                                              Phones.push(item.name);\r\n                                      }\r\n                                      if (item.name == \"marital_status\") {        \r\n                                                                      \r\n                                          vm.itemMaritalValue = item;                                       \r\n                                      }\r\n                                      var chkGroup = $.grep(vm.GroupBy, function (element, index) {\r\n                                          return element.group_id == groupId;\r\n                                      });\r\n                                      if (chkGroup.length == 0) {\r\n                                          var returnedData = $.grep(vm.LeadData, function (element, index) {\r\n                                              return element.group_id == groupId;\r\n                                          });\r\n                                          if (vm.contactId > 0) {\r\n                                              vm.scancard = false;\r\n                                              $.each(returnedData, function (filedIndex, fieldItem) {\r\n                                                  if (fieldItem.value != null) { fieldItem.value = unescape(fieldItem.value); }\r\n                                                  if (fieldItem.dropdown_type == \"custom\" && fieldItem.picklist_options == \"Lookup\") {\r\n                                                      fieldItem.select_options = vm.MakeNormalArray(fieldItem.select_options);\r\n                                                      fieldItem.select_value = fieldItem.select_options;\r\n                                                      if (fieldItem.select_options != null && fieldItem.select_options.length > 0) {\r\n                                                          fieldItem.value = fieldItem.select_options[0];\r\n                                                      }\r\n                                                  }\r\n                                                  else if (fieldItem.dt_code == \"decimal\" && fieldItem.form_field_visibility == \"YES\" && fieldItem.value > 0) {\r\n                                                      fieldItem.value = parseFloat(fieldItem.value, 10).toFixed(2);\r\n                                                  }\r\n                                                  else if (fieldItem.dt_code == \"date\") {\r\n                                                      fieldItem.value = vm.$options.filters.formatDate(fieldItem.value);\r\n                                                  }\r\n                                              });\r\n                                          }\r\n                                          if (returnedData.length > 0) {\r\n                                              var objGroup = {\r\n                                                  group_id: groupId,\r\n                                                  group_name: returnedData[0].group_name,\r\n                                                  group_display_name: returnedData[0].group_display_name,\r\n                                                  Data: returnedData\r\n                                              };\r\n                                              vm.GroupBy.push(objGroup);\r\n                                          }\r\n                                      }\r\n                                  }, this));\r\n                                if (vm.contactId > 0) {\r\n                                    var frmFields={}\r\n                        vm.LeadData.forEach((item)=>{\r\n                             if(item.astype!='' && item.form_field_visibility == 'YES'){                               \r\n                             frmFields[item.name]=item.value;\r\n                             }\r\n                         })                         \r\n                         vm.$refs.form.resetForm({values:frmFields});\r\n                                }\r\n                              }\r\n                              setTimeout(function(){vm.CheckBoxBootstrap()}, 100);\r\n                    setTimeout(function(){vm.RadioButtonBootstrap()}, 500);\r\n                    // setTimeout(function(){vm.ShowPopOver()}, 500);                            \r\n                          })\r\n            },\r\n            onCancel:function(){\r\n                \r\n                this.$router.push({name:'ContactListing'}); \r\n            },\r\n\r\n        },   \r\n}\r\n</script> \r\n<style>\r\n    .switch {\r\n        width: auto !important;\r\n        overflow: unset !important;\r\n    }\r\n        .switch .slider {\r\n            left: auto !important;\r\n            right: auto !important;\r\n            padding: 2px 7px 0 8px;\r\n        }\r\n        .switch input:checked + .slider::before {\r\n            -webkit-transform: translateX(26px);\r\n            -ms-transform: translateX(26px);\r\n            transform: translateX(26px);\r\n            left: auto;\r\n            right: 30px;\r\n        }\r\n</style>             \r\n\r\n\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manage.vue?vue&type=template&id=b3d5e53c&\"\nimport script from \"./Manage.vue?vue&type=script&lang=js&\"\nexport * from \"./Manage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Manage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=style&index=0&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"98805762\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}