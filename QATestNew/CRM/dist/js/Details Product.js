(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Details Product"],{3731:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"listing mt-2"},[a("loader",{attrs:{"is-visible":t.isLoading}}),t.NoRecordForTab?a("div",{staticClass:"text-center text-danger p-4 border"},[t._v(t._s(t.$t("NoRecordfound")))]):t._e(),a("div",{staticClass:"row custom-box-width"},t._l(t.AttachmentData,(function(e,i){return a("div",{key:i,staticClass:"col-xl-2 col-lg-4 col-md-6"},[a("div",{staticClass:"box border pt-4 text-center"},[a("div",{staticClass:"verticle-action"},[a("em",{staticClass:"fa fa-ellipsis-v action_icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.openActionIcon(e)}}}),a("span",{staticClass:"action-list-box",staticStyle:{width:"240px",display:"none"}},[a("span",{staticClass:"list-actions",staticStyle:{"padding-left":"0"},attrs:{id:"action-list"}},[a("a",{staticClass:"actions-onclick edit-list",attrs:{"data-toggle":"modal",href:"javascript:void(0)"},on:{click:function(a){return t.downloadAttachment(e)}}},[a("em",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}}),a("br"),t._v("Download")]),"fa-file-image-o"==t.returntFileIconClass(e)?a("a",{staticClass:"actions-onclick view-list",attrs:{href:e.attachement_path,target:"_blank"}},[a("em",{staticClass:"fa fa-eye"}),a("br"),t._v("View")]):t._e(),a("a",{staticClass:"actions-onclick view-list",on:{click:function(a){return t.deleteAttachment(e)}}},[a("em",{staticClass:"fa fa-trash"}),a("br"),t._v("Delete")]),a("em",{staticClass:"fa fa-times close close-action",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.closeActionIcon(e)}}})])])]),a("div",{class:{"img-ico text-center p-5 file-image doc-icon":null==e.thumb_nail_path||""==e.thumb_nail_path,"img-ico fix145 text-center pb-4 file-image doc-icon pt-3":null!=e.thumb_nail_path&&""!=e.thumb_nail_path}},[null!=e.thumb_nail_path&&""!=e.thumb_nail_path?a("img",{attrs:{src:e.thumb_nail_path,alt:"",loading:"'lazy'"}}):t._e(),null==e.thumb_nail_path||""==e.thumb_nail_path?a("em",{class:"fa "+t.returntFileIconClass(e)}):t._e()]),a("hr",{staticClass:"mb-0"}),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"row mx-0 my-2"},[a("div",{staticClass:"col-md-12 text-left text-truncate font-14 mb-2 font-weight-bold",attrs:{title:e.attachement_name+"."+JSON.parse(e.attachement_mime).Extension}},[t._v(t._s(e.attachement_name+"."+JSON.parse(e.attachement_mime).Extension))]),a("div",{staticClass:"col-md-5 font-14 align-self-center text-left pr-0"},[a("span",[t._v(t._s(t.bytesToSize(JSON.parse(e.attachement_mime).Size)))])]),a("div",{staticClass:"col-md-7 text-right pl-0 text-truncate"},[a("small",[t._v(t._s(t._f("formatDateTime")(e.created_at)))])])])])])})),0)],1)},s=[],o=(a("7db0"),a("d3b7"),a("25f0"),a("99af"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("1157")),r=a.n(o),n=a("9769"),l={props:{attachmentdata:null,sourceid:{type:String}},data:function(){return{isLoading:!1,AttachmentData:[],NoRecordForTab:!0,LeadStatus:this.$parent.LeadStatus,showAttachmentModal:!1,imageUrl:""}},watch:{attachmentdata:function(t){var e=r()("#hdnLoggedInUserId").val();r.a.each(t,(function(t,a){a.created_by==e?a.IsDelete=!0:a.IsDelete=!1})),this.AttachmentData=t,this.NoRecordForTab=!(null!=this.AttachmentData&&this.AttachmentData.length>0),setTimeout((function(){r()(".action_icon").click((function(){r()(this).parent().find(".action-list-box").show(500)})),r()(".close-action").click((function(){r()(this).parent().parent(".action-list-box").hide(500)}))}),1e3)}},methods:{openActionIcon:function(t){t.target.nextSibling.removeAttribute("style"),t.target.nextSibling.setAttribute("style","width:240px;"),t.target.nextSibling.style.display="block"},closeActionIcon:function(t){t.target.nextSibling.style.display="none"},StrTruncate:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return StrTruncate(t,25)})),returntFileIconClass:function(t){var e=["JPG","JPEG","BMP","GIF","PNG"],a=JSON.parse(t.attachement_mime),i=a.Extension.toUpperCase();return"COMPRESSEDFILES"==i||"ZIP"==i||"RAR"==i?"fa-file-archive-o":"XLS"==i||"XLSX"==i||"DATAFILES"==i?"fa-file-excel-o":"PPT"==i?"fa-file-powerpoint-o":"PDF"==i?"fa-file-pdf-o":"DOC"==i||"DOCX"==i?"fa-file-word-o":"TXT"==i?"fa-file-text-o":e.indexOf(i)>-1?"fa-file-image-o":"fa-file-o"},bytesToSize:function(t){var e=["Bytes","KB","MB","GB","TB"];if(0==t)return"0 Byte";var a=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,a),2)+" "+e[a]},downloadAttachment:function(t){this.isLoading=!0;var e=this,a="fileId=".concat(t.attachement_id,"&filePath=").concat(t.blob_path,"&fileType=").concat(JSON.parse(t.attachement_mime).ContentType,"&fileName=").concat(t.attachement_name+"."+JSON.parse(t.attachement_mime).Extension,"&downloadType=single");n["a"].CRMDownloadFile(a).then((function(a){e.isLoading=!1;var i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i,s.setAttribute("download",t.attachement_name+"."+JSON.parse(t.attachement_mime).Extension),document.body.appendChild(s),s.click()}))},deleteAttachment:function(t){var e=this;e.confirmR(this.$t("ConfirmDelete"),!0,this.$t("Delete")+"  "+this.$t("Attachment"),(function(){e.isLoading=!0;var a=t.attachement_id,i=parseInt(e.sourceid),s="id="+a+"&sourceid="+i;n["a"].DeleteAttachment(s).then((function(t){e.isLoading=!1,"SUCCESS"==t.data&&(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Attachment")]),"success",!0,e.$t("Alert")),e.$parent.loadData("attachments"))}))}))}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);e["a"]=u.exports},4555:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.TotalPages>0?a("div",{staticClass:"nu-paging"},[a("nav",{attrs:{"aria-label":"Page navigation example col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"}},[a("ul",{staticClass:"pagination row"},[a("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left choose-page"},[a("span",{staticClass:"mr-2"},[t._v("Show")]),a("span",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.PageSize,expression:"PageSize"}],staticClass:"form-control form-control-sm",attrs:{id:"pageSize",name:"pageSize"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.PageSize=e.target.multiple?a:a[0]},t.SetPageSize]}},t._l(t.PageSizeOption,(function(e,i){return a("option",{key:i,domProps:{value:e}},[t._v(t._s(e))])})),0)]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.$t("PagingText",[(t.CurrentPage-1)*t.PageSize+1,t.PageSize*t.CurrentPage>t.TotalRecords?t.TotalRecords:t.PageSize*t.CurrentPage,t.TotalRecords])))])]),a("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[t.TotalPages>1?a("ul",{staticClass:"paging-count"},[a("li",{staticClass:"page-item"},[1!=t.CurrentPage?a("a",{staticClass:"page-link first",attrs:{title:t.firstText,href:"javascript:;",val:"1"},on:{click:function(e){return t.SetCurrentPage(1)}}},[t._v(t._s(t.firstText))]):t._e(),1==t.CurrentPage?a("a",{staticClass:"page-link first disabled",attrs:{title:t.firstText,val:"1"}},[t._v(t._s(t.firstText))]):t._e()]),a("li",{staticClass:"page-item"},[1!=t.CurrentPage?a("a",{staticClass:"page-link previous",attrs:{title:t.prevText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage-1)}}},[t._v(t._s(t.prevText))]):t._e(),1==t.CurrentPage?a("a",{staticClass:"page-link previous disabled",attrs:{title:t.prevText}},[t._v(t._s(t.prevText))]):t._e()]),t._l(t.TotalPages,(function(e,i){return[e>=t.GroupStart&&e<=t.GroupEnd?a("li",{key:i,staticClass:"page-item"},[i+1==t.CurrentPage?a("a",{staticClass:"page-link active",attrs:{href:"javascript:;"}},[t._v(t._s(i+1))]):t._e(),i+1!=t.CurrentPage?a("a",{staticClass:"page-link",attrs:{href:"javascript:;",val:i},on:{click:function(e){return t.SetCurrentPage(i+1)}}},[t._v(t._s(i+1))]):t._e()]):t._e()]})),a("li",{staticClass:"page-item"},[t.CurrentPage<t.TotalPages?a("a",{staticClass:"page-link next",attrs:{title:t.nextText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage+1)}}},[t._v(t._s(t.nextText))]):t._e(),t.CurrentPage>=t.TotalPages?a("a",{staticClass:"page-link disabled next",attrs:{title:t.nextText}},[t._v(t._s(t.nextText))]):t._e()]),a("li",{staticClass:"page-item"},[t.CurrentPage!=t.TotalPages?a("a",{staticClass:"page-link next",attrs:{title:t.lastText,href:"javascript:;",val:t.TotalPages},on:{click:function(e){return t.SetCurrentPage(t.TotalPages)}}},[t._v(t._s(t.lastText))]):t._e(),t.CurrentPage==t.TotalPages?a("a",{staticClass:"page-link next disabled",attrs:{title:t.lastText,val:t.TotalPages}},[t._v(t._s(t.lastText))]):t._e()])],2):t._e()])])])]):t._e()},s=[],o=(a("a9e3"),{props:{numberofrecords:{type:Number,required:!0},prevText:{type:String,required:!0},nextText:{type:String,required:!0},firstText:{type:String,required:!0},lastText:{type:String,required:!0},callbackfunction:{type:Function},CurrentPageNumber:{type:Number}},data:function(){return{TotalRecords:0,PageNumber:1,PageSize:10,PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,LastPage:!1}},watch:{numberofrecords:function(t){this.CurrentPage>this.PageNumber&&(this.CurrentPage=this.PageNumber),this.TotalRecords=t,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3)},CurrentPageNumber:function(t){var e=this;e.CurrentPage=t,1==t&&e.SetCurrentPage(t)}},created:function(){this.GetPageSizeOption()},methods:{GetData:function(){this.$emit("SetCurrentPage",{PageNumber:this.PageNumber,PageSize:this.PageSize}),"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction&&this.callbackfunction()},SetPageSize:function(t){this.PageSize=t.target.value,this.PageNumber=1,this.CurrentPage=this.PageNumber,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetData()},SetCurrentPage:function(t){this.PageNumber=t,this.CurrentPage=t,this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3),this.GetData()},GetPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t}}}),r=o,n=a("2877"),l=Object(n["a"])(r,i,s,!1,null,null,null);e["a"]=l.exports},"9dbd":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("headerForModal",(function(){return[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Attachments")))])]})),a("button",{staticClass:"close",attrs:{type:"button",href:"javascript:;"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times"})])],2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row form-head",staticStyle:{display:"none"}},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 col-xl-4 float-right p-0"},[a("div",{staticClass:"userguide-box userguide_curve"},[a("a",{staticClass:"userguide-btn collapsed",attrs:{"data-toggle":"collapse",href:"#user-guidepriority","aria-expanded":"false","aria-controls":"search-content"}},[a("em",{staticClass:"fa"}),a("span",[t._v(t._s(t.$t("GuideForUser")))])]),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"user-guide collapse",attrs:{id:"user-guidepriority"}},[t._v(" "+t._s(t.$t("GuideForUser"))+" "),a("br"),a("br")])])])])]),a("Form",{ref:"attachment"},[a("div",{staticClass:"form-content"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 col-xl-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("DisplayName"))+":")]),a("span",{staticClass:"text-danger"},[t._v("*")]),a("Field",{attrs:{name:"Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.DisplayName,expression:"DisplayName"}],staticClass:"form-control",class:{"form-control":!0,"is-invalid":i[0]},attrs:{type:"text",maxlength:"50",id:"DisplayName",name:"DisplayName"},domProps:{value:t.DisplayName},on:{keyup:function(e){return t.CheckAttach(t.DisplayName)},input:function(e){e.target.composing||(t.DisplayName=e.target.value)}}}),i[0]?a("span",{staticClass:"invalid-feedback",attrs:{name:"DisplayName"}},[t._v(t._s(i[0]))]):t._e()]}}])})],1)]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 col-xl-6",attrs:{id:"attach"}},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Attachment"))+":")]),a("span",{staticClass:"text-danger"},[t._v("*")]),void 0!=t.imagesizedata&&t.imagesizedata.length>0?a("a",{directives:[{name:"popover",rawName:"v-popover:tooltip",value:t.imagesizedata,expression:"imagesizedata",arg:"tooltip"}],attrs:{href:"javascript:;","data-toggle":"popoveruserguide"}},[a("em",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14p  x"}})]):t._e(),a("div",{staticClass:"custom-file"},[a("Field",{ref:"provider",attrs:{name:"File",rules:{required:!1}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("input",{class:{"form-control":!0,"is-invalid":i[0]||1==t.isFileValidation},attrs:{type:"file",name:"FileSrc",id:"inputAttach"},on:{change:t.GetBase64String,click:function(e){return t.onClickFile(e)}}}),1==t.isFileValidation?a("span",{staticClass:"invalid-feedback d-block"},[t._v("The Attachment is required")]):i[0]?a("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(i[0]))]):t._e()]}}])})],1)])])])])])])],1),a("div",{staticClass:"modal-footer text-right"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"search-btm-btn"},[a("a",{staticClass:"btn btn-success  save-btn mr-2",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.SaveAttachment()}}},[a("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times pr-1"}),t._v(" "+t._s(t.$t("Cancel"))+" ")])])])])])])])],1)},s=[],o=(a("a9e3"),a("313d"),a("0eb6"),a("b7ef"),a("8bd4"),a("b0c0"),a("a15b"),a("ac1f"),a("1276"),a("caad"),a("2532"),a("e9c4"),a("9769")),r=a("1157"),n=a.n(r),l={props:{userid:{type:Number,required:!0},companyid:{type:Number,required:!0},id:{type:String,required:!0},modulename:{type:String,required:!0},submodulecode:{type:String,required:!0},containername:{type:String,required:!0},maxsize:{type:String},disallowedfiletypes:{type:String},imagesizedata:{type:String}},data:function(){return{isFileValidation:!1,fileData:[],DisplayName:"",FileName:"",btnDisable:!1,isLoading:!1}},methods:{checkForDisplayName:function(t){this.DisplayName||t.preventDefault()},CheckAttach:function(t){""!=t?(this.btnDisable=!0,this.fileData.fileName=t):this.btnDisable=!1},GetBase64String:function(t){var e=this;e.fileData=[];var a=t.target.files[0],i=new FileReader;i.onload=function(t){return function(t){var i=t.target.result,s=window.btoa(i),o=a.name,r=o.lastIndexOf("."),n=o.substring(r+1,o.length),l='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+n+'"}';""==e.DisplayName?(o=a.name,e.FileName=a.name):(o=e.DisplayName,e.FileName=a.name);var c=["doc","docx","jpg","pdf","csv","png","xls","txt","jpeg","jfif","pjpeg","svg","pjp"];if(o.length>0&&-1===c.indexOf(n))return e.ShowAlert("Invalid file Format. Only "+c.join(", ")+" are allowed."),!1;var d={attachement_mime:l,fileName:o,userId:e.userid,companyId:e.companyid,id:e.id,moduleName:e.modulename,subModuleCode:e.submodulecode,containerName:e.containername,base64String:s};e.fileData.push(d),e.isFileValidation=!1}}(),i.readAsBinaryString(a)},byteToSize:function(t){return 0==t?"0 Byte":t/Math.pow(1024,2)},onClickFile:function(){var t=document.getElementById("inputAttach"),e=t.files;0==e.length?this.isFileValidation=!0:this.isFileValidation=!1},SaveAttachment:function(){var t=this,e=this,a=0,i="";this.onClickFile(),""!=n()("#inputAttach").val()&&(a=e.byteToSize(JSON.parse(e.fileData[0].attachement_mime).Size),i=JSON.parse(e.fileData[0].attachement_mime).Extension);var s=parseFloat(e.maxsize)||0;if(a>s&&0!=s)return e.ShowAlert("Size exceeds than "+s+" MB. Please upload file with valid size.","warning",!0,e.$t("Alert")),!1;var r=void 0!=e.disallowedfiletypes?e.disallowedfiletypes.split(","):"",l="."+i;if(r.includes(l))return e.ShowAlert(e.$t("InvalidFileUploadMsg"),"warning",!0,e.$t("Alert")),!1;e.$refs.attachment.validate().then((function(a){if(a&&0==t.isFileValidation){e.isLoading=!0;var i=JSON.stringify(e.fileData);r.includes(l)?e.ShowAlert(e.$t("InvalidFileUploadMsg")):o["a"].UploadFile(i).then((function(t){e.isLoading=!1,"Success"==t.data[0].Status?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("Attachment")]),"Success",!0,e.$t("Alert")),e.$emit("close"),e.$parent.loadData("attachments")):"Exist"==t.data[0].Status?e.ShowAlert(e.$t("FileNameAlreadyExist",[e.$t("Attachment")]),"warning",!0,e.$t("Alert")):e.ShowAlert(e.$t("ValidFileType",[e.$t("Attachment")]),"failure",!0,e.$t("Alert"))}))}else console.log(t.$refs.attachment.errors)}))}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);e["a"]=u.exports},db79:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"divMainFormData"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("section",{staticClass:"main-content",attrs:{id:"main-content"}},[a("div",{staticClass:"left-menu-tab div-click-event"},[a("div",{staticClass:"col-md-12 p-0 "},[a("div",{staticClass:"theme-primary partition"},[a("span",{staticClass:"p-name text-white textelipsis"},[t._v(t._s(t.itemName))])])]),a("ul",{staticClass:"nav nav-pills flex-column left-tab mt-2 responivecustomtab",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link left-menu",class:{active:1==t.activeKey},attrs:{href:"javascript:void(0)","data-bs-toggle":"#tab-detail-content",role:"tab",id:"tab-Details"},on:{click:function(e){t.loadData("timeline"),t.DisableButton()}}},[a("em",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true","aria-selected":"true"}}),t._v(t._s(t.$t("Detail"))+" ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link left-menu",class:{active:2==t.activeKey},attrs:{href:"javascript:void(0)","data-bs-toggle":"tab",role:"tab","data-bs-target":"#tab-notes-content",id:"tab-notes"},on:{click:function(e){return t.loadData("notes")}}},[a("em",{staticClass:"fa fa-file-text",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(t._s(t.$t("NOTE"))+" ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link left-menu",class:{active:3==t.activeKey},attrs:{href:"javascript:void(0)","data-bs-toggle":"tab",role:"tab","data-bs-target":"#tab-attachment-content",id:"tab-attachment"},on:{click:function(e){return t.loadData("attachments")}}},[a("em",{staticClass:"fa fa-file",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(t._s(t.$t("Attachments"))+" ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link left-menu",class:{active:4==t.activeKey},attrs:{href:"javascript:void(0)","data-bs-toggle":"tab",role:"tab","data-bs-target":"#tab-price-content",id:"tab-priceBook"},on:{click:function(e){return t.loadData("price")}}},[a("em",{staticClass:"fa fa-money",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(t._s(t.$t("PRICE_BOOKS"))+" ")])])])]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"tab-pane mb-2"},[a("div",{staticClass:"theme-primary partition p-actions-expand"},[a("span",{staticClass:"p-name text-white",attrs:{id:"span_ForSelectedTabName"}}),a("span",{staticClass:"p-actions float-right"},[t.isNotes&&"list"==t.NoteListType?a("a",{class:{"p-action-btn text-white":!0,disabled:!1},attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Card View"},on:{click:function(e){t.NoteListType="card"}}},[a("em",{staticClass:"fa fa-th-large"}),a("br"),t._v(t._s(t.$t("CardView"))+" ")]):t._e(),t.isNotes&&"list"!=t.NoteListType?a("a",{class:{"p-action-btn text-white":!0,disabled:!1},attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"List View"},on:{click:function(e){t.NoteListType="list"}}},[a("em",{staticClass:"fa fa-list"}),a("br"),t._v(t._s(t.$t("ListView")))]):t._e(),t.isNotes?a("a",{class:{"p-action-btn text-white":!0,disabled:!1},attrs:{href:"javascript:;",title:"",id:"ancaddnotesloaddata","data-toggle-tooltip":"tooltip","data-original-title":"Add Notes"},on:{click:function(e){return t.openShowNotePopup()}}},[a("em",{staticClass:"fa fa-plus pr-2"}),a("br"),t._v(t._s(t.$t("AddNotes")))]):t._e(),t.isAttachment?a("a",{class:{"p-action-btn text-white":!0},attrs:{href:"javascript:;"},on:{click:function(e){return t.openCRMAttachmentModal(null)}}},[a("em",{staticClass:"fa fa-plus pr-2"}),a("br"),t._v(t._s(t.$t("Add"))+" "+t._s(t.$t("Attachment"))+" ")]):t._e(),t.isPriceBook?a("a",{staticClass:"p-action-btn text-white transfer",attrs:{href:"javascript:void(0)",title:"",id:"","data-original-title":"Associate Price Book"},on:{click:function(e){return t.openPriceBookModel(null)}}},[a("em",{staticClass:"fa fa-plus pr-2"}),a("br"),t._v(t._s(t.$t("Associate"))+" "+t._s(t.$t("PriceBook"))+" ")]):t._e(),a("RouterLink",{staticClass:"p-action-btn text-white float-right",attrs:{to:"/CRM/ItemListing"}},[a("em",{staticClass:"fa fa-angle-double-left"}),a("br"),t._v(t._s(t.$t("BacktoList"))+" ")]),a("RouterLink",{staticClass:"p-action-btn text-white product_a",attrs:{id:"updateproduct",to:"/CRM/ManageProductEdit/"+t.$route.params.id+"/0"}},[a("em",{staticClass:"fa fa-pencil"}),a("br"),t._v(t._s(t.$t("Edit"))+" ")])],1),t._m(0)])]),a("div",{staticClass:"tab-pane mb-0"},[a("div",{staticClass:"tab-content fsmtabcontrolMobileView listing",attrs:{id:"myTabContent"}},[t._m(1),a("div",{staticClass:"tab-pane p-0 pb-2 border-0",class:{"active show":1==t.activeKey},attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[a("div",{staticClass:"listing"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card mb-3 probx"},[a("div",{staticClass:"card-header"},[a("h2",[t._v(t._s(t.$t("Details")))]),t._m(2)]),a("div",{staticClass:"card-body"},t._l(t.LeftViewData,(function(e,i){return a("div",{key:i,staticClass:"panel1"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5 mb-2"},[a("span",[t._v(t._s(t.$t(e.group_name,"")))])])]),a("div",{staticClass:"row"},t._l(e.LeftViewData,(function(e,i){return a("div",{key:i,staticClass:"col-md-6 col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[a("strong",[t._v(t._s(t.$t(e.name,e.display_name))+":")]),"date"==e.dt_code||"datetime"==e.dt_code?a("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(t._s(t._f("formatDate")(e.value)))]):t._e(),"decimal"==e.dt_code?a("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(t._s(t._f("currency")(t.isBlank(e.value)?"0.00":e.value)))]):t._e(),"date"!=e.dt_code&&"datetime"!=e.dt_code&&"decimal"!=e.dt_code&&"Lookup"!=e.picklist_options&&("description"!=e.name&&"term_and_conditions"!=e.name||"description"==e.name&&"term_and_conditions"==e.name&&t.isBlank(e.value))?a("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(t._s(t.isBlank(e.value)?"--":e.value))]):t._e(),"description"!=e.name&&"term_and_conditions"!=e.name||t.isBlank(e.value)?t._e():a("crmreadmore",{staticClass:"ml-1",attrs:{data:e.value,heading:t.$t("Description"),length:"100"}}),"date"!=e.dt_code&&"datetime"!=e.dt_code&&"decimal"!=e.dt_code&&"Lookup"==e.picklist_options?a("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(t._s(t.isBlank(e.value)?"--":e.value))]):t._e()],1)])])})),0)])})),0)]),a("div",{staticClass:"card mb-3 probx"},[t._m(3),a("div",{staticClass:"col-md-12 mbspc",attrs:{id:"divconversationbox"}},[a("crmtimeline",{attrs:{timelinedata:t.timelinedata}})],1)])])])])]),a("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":2==t.activeKey},attrs:{id:"tab-notes-content",role:"tabpanel","aria-labelledby":"tab-notes-content"}},[t.noteData?a("crmnote",{attrs:{notedata:t.noteData,userid:t.userid,companyid:t.companyId,sourceid:t.$route.params.id,modulename:t.$route.params.moduleName,submodulecode:t.$route.params.subModuleCode,listtype:t.NoteListType,showNotePopUp:t.isShowNotePopup,callfrom:"quickViewAndNoteJS"}}):t._e()],1),a("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":3==t.activeKey},attrs:{id:"tab-attachment-content",role:"tabpanel","aria-labelledby":"tab-attachment-content"}},[a("crmattachment",{attrs:{attachmentdata:t.attachmentData,sourceid:t.$route.params.id}})],1),a("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":4==t.activeKey},attrs:{id:"tab-priceBook-content",role:"tabpanel","aria-labelledby":"tab-priceBook-content"}},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered mb-0 border",attrs:{id:"table-price-content","aria-describedby":"pricebookcontent"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[t._l(t.Headers,(function(e,i){return a("th",{key:i,attrs:{scope:"col"}},[a("span",{attrs:{id:e.COLUMN_NAME}},[t._v(t._s(t.$t(e.COLUMN_NAME,e.DISPLAY_NAME)))])])})),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Price")))])]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Action")))])])],2)]),a("tbody",[t._l(t.priceData,(function(e,i){return a("tr",{key:i},[t._l(t.Headers,(function(i,s){return a("td",{key:s,class:{"text-center":"status_name"==i.COLUMN_NAME}},["date"==i.DATA_TYPE||"datetime"==i.DATA_TYPE?a("span",{class:{"px-2 bg-success text-white d-block text-center":"status_name"==i.COLUMN_NAME&&"Active"==e[i.COLUMN_NAME],"px-2 bg-danger text-white d-block text-center":"status_name"==i.COLUMN_NAME&&"Inactive"==e[i.COLUMN_NAME]}},[t._v(" "+t._s(t._f("formatDate")(e[i.COLUMN_NAME]))+" ")]):a("span",{class:{"px-2 bg-success text-white d-block text-center":"status_name"==i.COLUMN_NAME&&"Active"==e[i.COLUMN_NAME],"px-2 bg-danger text-white d-block text-center":"status_name"==i.COLUMN_NAME&&"Inactive"==e[i.COLUMN_NAME]}},[t._v(t._s(e[i.COLUMN_NAME]))])])})),a("td",[t._v(t._s(t._f("currency")(t.isBlank(e.list_price)?"0.00":e.list_price)))]),a("td",{staticClass:"text-center"},[a("a",{attrs:{href:"javascript:;",title:t.$t("DeassociateProduct")},on:{click:function(a){return t.deassociatePricebook(e["price_book_id"])}}},[a("em",{staticClass:"fa fa-times action-icon text-danger"})])])],2)})),t.noRecordForTab?a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"9"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])])])])]),t.showAttachmentModal?a("modalattachment",{attrs:{userid:t.userid,companyid:t.companyId,id:t.$route.params.id,modulename:t.$route.params.moduleName,submodulecode:t.$route.params.subModuleCode,containername:t.containerName,imagesizedata:""},on:{close:function(e){t.showAttachmentModal=!1}}},[a("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Attachments")))])]):t._e(),t.showPriceBookModal?a("ModelPriceBook",{on:{close:function(e){t.showPriceBookModal=!1}}},[a("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("PriceBook")))])]):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"collapse-head-btns"},[a("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"expand-list"},[a("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[a("em",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cont_right "},[a("div",{staticClass:"bar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("h2",[t._v("Timeline")])])}],o=(a("99af"),a("7db0"),a("d3b7"),a("b0c0"),a("e9c4"),a("9769")),r=a("dd2a"),n=a("84a0"),l=a("3731"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("PriceBook")))])]})),a("div",{staticClass:"float-right"}),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"theme-primary partition  p-actions-expand"},[a("span",{staticClass:"p-actions float-right"},[a("a",{staticClass:"p-action-btn text-white float-right",attrs:{id:"addModelProduct",href:"javascript:;",title:"Associate PriceBook"},on:{click:function(e){return t.addBooks()}}},[a("em",{staticClass:"fa fa-plus pr-2"}),t._v(" "),a("br"),t._v(t._s(t.$t("Associate"))+" "+t._s("PriceBook"))])]),t._m(0)])]),a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0",attrs:{id:"divshowPricebookList"}},[t.isPricebookSelected?a("div",{staticClass:"form-group is-invalid"},[a("div",{staticClass:"alert alert-danger"},[t.isPricebookSelected?a("div",{staticClass:"pr-3 text-center",staticStyle:{display:"block"}},[t._v(t._s(t.errorMessageForPricebook))]):t._e()])]):t._e(),a("div",{staticClass:"table-responsive tableborder popuptablescroll_365"},[t.ModelnoRecord?t._e():a("table",{staticClass:"table-sorting table table-bordered m-0",attrs:{"aria-describedby":"pricebikk"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[t._m(1),t._l(t.ModelHeaders,(function(e,i){return a("th",{key:i,attrs:{scope:"col"}},[a("span",{class:{sort:e.SORTABLE,tb_headerSortUp:"ASC"==t.SortExp&&t.SortBy==e.COLUMN_NAME,tb_headerSortDown:"DESC"==t.SortExp&&t.SortBy==e.COLUMN_NAME},attrs:{id:e.COLUMN_NAME},on:{click:function(a){return t.sortdata(e.COLUMN_NAME)}}},[t._v(t._s(t.$t(e.COLUMN_NAME,e.DISPLAY_NAME)))])])})),a("th",{staticClass:"text-center",staticStyle:{"min-width":"150px"},attrs:{scope:"col"}},[a("span",{staticClass:"d-inline-block"},[t._v(t._s(t.$t("PriceBook"))),a("span",{staticClass:"text-danger d-inline-block"},[t._v("*")])])])],2)]),a("tbody",[t._l(t.ModelPricebookData,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"text-center"},[a("input",{staticClass:"chkItems",attrs:{type:"checkbox"},domProps:{value:e.price_book_id}})]),t._l(t.ModelHeaders,(function(i,s){return a("td",{key:s,class:{"text-center":"status_name"==i.COLUMN_NAME}},["date"==i.DATA_TYPE||"datetime"==i.DATA_TYPE?a("span",{class:{"px-2 bg-success text-white d-block text-center":"status_name"==i.COLUMN_NAME&&"Active"==e[i.COLUMN_NAME],"px-2 bg-danger text-white d-block":"status_name"==i.COLUMN_NAME&&"Inactive"==e[i.COLUMN_NAME]}},[t._v(t._s(t._f("formatDate")(e[i.COLUMN_NAME])))]):a("span",{class:{"px-2 bg-success text-white d-block text-center":"status_name"==i.COLUMN_NAME&&"Active"==e[i.COLUMN_NAME],"px-2 bg-danger text-white d-block":"status_name"==i.COLUMN_NAME&&"Inactive"==e[i.COLUMN_NAME]}},[t._v(t._s(e[i.COLUMN_NAME]))])])})),a("td",[a("input",{staticClass:"form-control pricetxt",attrs:{onpaste:"return false;",maxlength:"8",id:"listPrice"+e.price_book_id,type:"text"},on:{keypress:function(e){return t.isNumber(e)}}})])],2)})),t.ModelnoRecord?a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"9"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])]),a("Pager",{attrs:{numberofrecords:t.TotalRecords,CurrentPageNumber:t.PageNumber,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{"set-current-page":t.pagerMethod}})],1)])])])])])},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"collapse-head-btns"},[a("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"text-center",staticStyle:{width:"50px !important"},attrs:{scope:"col"}},[a("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"}})])}],u=(a("498a"),a("ac1f"),a("00b4"),a("4555")),p={components:{Pager:u["a"]},data:function(){return{ModelPricebookData:null,ModelHeaders:null,listPrice:null,ProductCheckBoxes:[],ModelnoRecord:!1,isPricebookSelected:!1,errorMessageForPricebook:"",errorMessageForPrice:"",TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,ProductName:"",ApiURL:"id=".concat(this.$route.params.id,"&subModuleCode=").concat(this.$route.params.subModuleCode)}},created:function(){var t=this;t.FetchData(),t.GetModelPageSizeOption()},methods:{isNumber:function(t){var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},GetModelPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t},FetchData:function(){var t=this,e=t.ApiURL;e+="&pageSize=".concat(this.PageSize,"&pageNumber=").concat(this.PageNumber,"&sortBy=").concat(this.SortBy,"&sortExp=").concat(this.SortExp,"&productName=").concat(this.ProductName,"&statusId=1001&requestType=popup"),o["a"].PriceBookListing(e).then((function(e){null!=e.data?(t.ModelPricebookData=e.data.data,t.ModelHeaders=e.data.schema,t.TotalRecords=e.data.data[0].totalrecords,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.ModelnoRecord=!1):(t.ModelnoRecord=!0,t.TotalRecords=0),setTimeout((function(){t.CheckBoxBootstrap()}),100)}))},addBooks:function(){var t=this;t.isPricebookSelected=!1,t.errorMessageForPricebook="",t.errorMessageForPrice="";var e=[],a=!1;if($("#divshowPricebookList table tr td input[type='text']").removeClass("is-invalid"),$("#divshowPricebookList table tr td input[type='checkbox']:checked").each((function(){var i={priceBookId:$(this).val(),facePrice:$(this).closest("tr").find('input[type="text"]').val()};($.trim($(this).closest("tr").find('input[type="text"]').val())<=0||""==$.trim($(this).closest("tr").find('input[type="text"]').val())||!/([0-9]+(\.[0-9]+)?)/.test($.trim($(this).closest("tr").find('input[type="text"]').val())))&&($(t).closest("tr").find('input[type="text"]').addClass("is-invalid"),a=!0),e.push(i)})),$("#divshowPricebookList table tr td input[type='checkbox']:checked").first().closest("tr").find('input[type="text"]').focus(),e.length>0&&!a){var i={sourceId:t.$route.params.id,moduleName:t.$route.params.moduleName,subModuleCode:t.$route.params.subModuleCode,sourceName:"pricebook_id",pricebookdata:e},s=JSON.stringify(i);o["a"].SavePriceBookForMapping(s).then((function(e){"Success"==e.data[0].Status&&(t.ShowAlert(t.$t("Price book associated successfully."),"success",!0,t.$t("Alert")),t.$emit("close"),t.$parent.loadData("price"))}))}else t.isPricebookSelected=!0,t.errorMessageForPricebook="Please check the item and fill respective price field"},sortdata:function(t){var e="";this.SortBy=t,t===this.SortBy&&(""==this.SortExp||"DESC"==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp&&(this.SortExp="DESC",e="sort tb_headerSortUp"),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},SetCurrentPage:function(t){this.PageNumber=t,t>this.GroupEnd||1==t?(this.GroupStart=t,this.GroupEnd=t+2):t<this.GroupStart&&t>1&&(this.GroupEnd=this.GroupStart-1,this.GroupStart=t-2),this.FetchData()}}},m=p,h=a("2877"),f=Object(h["a"])(m,c,d,!1,null,null,null),g=f.exports,v=a("9dbd"),b=a("3e9a"),_=a("1157"),C=a.n(_),P={components:{crmtimeline:r["a"],crmnote:n["a"],crmattachment:l["a"],ModelPriceBook:g,modalattachment:v["a"],crmreadmore:b["a"]},data:function(){return{activeKey:1,isNotes:!1,isAttachment:!1,isPriceBook:!1,iscontactDetails:null,LeftViewData:[],RightViewData:null,showAttachmentModal:!1,attachmentData:null,activitiesData:[],productData:null,noteData:[],productHeaders:null,contactsData:null,contactsHeader:null,timelinedata:[],Headers:[],priceData:[],noRecordForTab:!1,isShowNoteDialogue:null,showPriceBookModal:null,PriceBookData:null,imagePath:"",itemName:"--",noteText:"",SortBy:"",SortExp:"",PageNumber:1,StatusListForListing:[],PageSize:50,ApiURL:"id=".concat(this.$route.params.id,"&moduleName=").concat(this.$route.params.moduleName,"&subModuleCode=").concat(this.$route.params.subModuleCode),maxsize:"@TALYGEN.Models.ConfigurationRepository.GetConfigurationValueByKey(companyId, userid, 'CRM', 'CRMPerFileSize')",disallowedfiletypes:"@TALYGEN.Models.ConfigurationRepository.GetConfigurationValueByKey(companyId, userid, 'CRM', 'CRMPerFileSize'))",NoteListType:"list",userid:null,companyId:null,isShowNotePopup:!1,containerName:null,isLoading:!1}},created:function(){this.userid=this.GetUserInfo.ID,this.companyId=this.GetUserInfo.CompanyId,this.containerName=this.GetUserInfo.ContainerName;var t=this;t.getStatuslistForListing("CRM","en"),t.FetchData()},updated:function(){var t=this;setTimeout((function(){t.setHeaderForSelectedTab()}),500),C()("#ancActivityExpandAllCollapseAll").click((function(){"0"==C()(this).attr("show")?(C()(this).attr("show","1"),C()("#divconversationbox").find("#accordion").find(".collapse").addClass("show")):(C()(this).attr("show","0"),C()("#divconversationbox").find("#accordion").find(".collapse").removeClass("show"))}))},methods:{openPriceBookModel:function(t){this.iscontactDetails=t,this.showPriceBookModal=!this.showPriceBookModal},openShowNotePopup:function(){var t=this;t.isShowNotePopup=!0,C()("#tab-notes").trigger("click"),t.loadData("notes")},openCRMAttachmentModal:function(){var t=this;t.showAttachmentModal=!t.showAttachmentModal},DisableButton:function(){var t=this;t.isAttachment=!1,t.isNotes=!1,t.isPriceBook=!1},getStatuslistForListing:function(t,e){var a=this,i="langCode="+e+"&statusType="+t+"&hasglobal=true";o["a"].statusdropdown(i).then((function(t){if("Success"==t.data.status){var e=t.data.result;a.StatusListForListing=e.data}}))},FetchData:function(){var t=this;t.isLoading=!0,o["a"].getQuickViewDetails(t.ApiURL).then((function(e){t.isLoading=!1;var a=e.data.LEFTDATA;if(a=C.a.grep(a,(function(t,e){return"YES"==t.form_field_visibility})),t.imagePath=e.data.IMAGEPATH,null!=e.data.RIGHTDATA&&e.data.RIGHTDATA.length>0){var i=e.data.RIGHTDATA,s="";C.a.each(i,C.a.proxy((function(e,a){s=a.created_date;var o=C.a.grep(t.timelinedata,(function(t,e){return t.groupKey==s}));if(0==o.length){var r=C.a.grep(i,(function(t,e){return t.created_date==s}));if(r.length>0){var n={groupKey:s,groupData:r};t.timelinedata.push(n)}}}),t)),t.noRecordForTab=!1}else t.noRecordForTab=!0;if(null!=a&&a.length>0){var o=a[0].group_id;C.a.each(a,C.a.proxy((function(e,i){"name"==i.name&&(t.itemName=i.value);var s=C.a.grep(t.LeftViewData,(function(t,e){return t.group_id==o}));if(null!=s&&0==s.length){var r=C.a.grep(a,(function(t,e){return t.group_id==o}));if(null!=r&&r.length>0){var n={group_id:o,group_name:r[0].group_name,LeftViewData:r};t.LeftViewData.push(n)}}o=i.group_id}),t))}setTimeout((function(){t.CheckBoxBootstrap()}),500)}))},loadData:function(t){var e=this;e.DisableButton(),"notes"==t?(e.activeKey=2,e.isNotes=!0):"attachments"==t?(e.activeKey=3,e.isAttachment=!0):"price"==t&&(e.activeKey=4,e.isPriceBook=!0),""!=t&&null!=t&&("attachments"==t?o["a"].AttachmentListing(e.ApiURL).then((function(t){null!=t.data?(e.attachmentData=t.data.data,e.noRecordForTab=!1):e.noRecordForTab=!0})):"activities"==t?o["a"].ActivityListing(e.ApiURL).then((function(t){null!=t.data?(e.activitiesData=t.data.data,e.noRecordForTab=!1):e.noRecordForTab=!0})):"price"==t?o["a"].PriceBookListing2(e.ApiURL+"&sortBy="+e.SortBy+"&sortExp="+e.SortExp+"&pageSize="+e.PageSize+"&pageNumber="+e.PageNumber).then((function(t){null!=t.data?(e.Headers=t.data.schema,null!=t.data.data&&t.data.data.length>0?(e.priceData=t.data.data,e.noRecordForTab=!1):(e.priceData=[],e.noRecordForTab=!0)):(e.priceData=[],e.Headers=[],e.noRecordForTab=!0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)})):"timeline"==t?(e.activeKey=1,o["a"].TimelineListing(e.ApiURL).then((function(t){if(null!=t.data){e.timelinedata=[];var a=t.data.data,i="";C.a.each(a,C.a.proxy((function(t,s){i=e.$options.filters.formatDate(s.Complete_datetime);var o=C.a.grep(e.timelinedata,(function(t,e){return t.groupKey==i}));if(0==o.length){var r=C.a.grep(a,(function(t,a){return e.$options.filters.formatDate(t.Complete_datetime)==i}));if(r.length>0){var n={groupKey:i,groupData:r};e.timelinedata.push(n)}}}),e)),e.noRecordForTab=!1}else e.noRecordForTab=!0}))):"notes"==t&&(e.noteData=[],o["a"].NoteListing(e.ApiURL).then((function(t){null!=t.data&&t.data.data.length>0?(e.noteData=t.data.data,e.noRecordForTab=!1,setTimeout((function(){e.ResponsiveDataTable("tab-notes-content")}),500)):e.noRecordForTab=!0}))))},deassociatePricebook:function(t){var e=this;t>0?e.confirmR(e.$t("ConfirmDeAssociatePricebook"),!0,null,(function(){var a={ids:t,moduleName:"CRM",subModuleCode:e.$route.params.subModuleCode,refCode:"DELETE_VIEW_PRICEBOOK",refId:e.$route.params.id},i=JSON.stringify(a);o["a"].deleteActivityData(i).then((function(t){"Success"==t.data[0].Status?(e.loadData("price"),e.ShowAlert(e.$t("Product has been successfully De-associated"),"success",!0,e.$t("PriceBook"))):e.ShowAlert(e.$t("ErrorDeassociateFailure"),e.$t("PriceBook"))}))})):e.ShowAlert(e.$t("DeletedError"),e.$t("PriceBook"))}}},x=P,S=Object(h["a"])(x,i,s,!1,null,null,null);e["default"]=S.exports}}]);
//# sourceMappingURL=Details Product.js.map