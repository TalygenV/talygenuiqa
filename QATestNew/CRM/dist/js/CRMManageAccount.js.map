{"version":3,"sources":["webpack:///./src/views/CRM/Accounts/ManageAccountCustomLayout.vue?d858","webpack:///src/views/CRM/Accounts/ManageAccountCustomLayout.vue","webpack:///./src/views/CRM/Accounts/ManageAccountCustomLayout.vue?44b0","webpack:///./src/views/CRM/Accounts/ManageAccountCustomLayout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","_v","_s","$t","ref","scopedSlots","_u","key","fn","valid","errors","buttons","FormSchema","on","onSubmit","$event","ChkContactbox","staticStyle","_e","touched","invalid","directives","name","rawName","value","expression","class","domProps","target","composing","txtfirstname","txtlastname","txtemailid","onInputMobilePhone","model","callback","$$v","txtmobile","disabled","SubmitData","onCancel","staticRenderFns","components","modaladdindustry","data","divchkhide","IscheckContact","Id","dateformat","phoneError","ApiURL","AccountCode","type","text","isVisible","onClick","created","vm","reqid","methods","phone","phoneObject","input","FetchData","id","LeadDataService","then","group","urlParams","IdExist","field","IsActive","Compphone","onSearchh","searchSelectDataa","ShowSearchDataa","appendingUrl","search","selctedValue","response","values","CustomFieldArray","accname","x","accowner","Cname","adrs1","adrs2","cty","zipc","previousItem","first_name","last_name","email_id","mobile_number","postJSON","accountcontact","component"],"mappings":"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F,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,qCAAqC,MAAM,IACnxDsC,EAAkB,G,gKCkGP,GACfC,YACAC,yBAEAC,KAJA,WAKA,OACA5C,aACA6C,cACAC,kBACAxB,UACAyB,QACAC,gBACAC,cACAnB,gBACAC,eACAC,cACAK,aACAa,+DACAC,eACAvC,cACAD,SACA,CACAyC,cACA1B,6BACA2B,6CACAC,cAEA,CACAF,cACA1B,uBACA2B,8CACAE,sBACAD,iBAKAE,mBACA,gCACA,4BACA,4CACA,WACAC,wDACAA,6EACA,kDACAC,YACA,OACAD,iBACAA,eAEAE,SACA1B,mBADA,SACA2B,EAAAC,EAAAC,GACA,IACA,uIACA,mBAEA,mEACAF,cACA,iCACA,sBAIAG,qBACA,WACAN,eACA,sCACA,IAAAO,wDAAA1C,qBACA,wCACA2C,wDACAC,MAAA,YAGA,GADAT,eACA,YAGAA,mFACAA,oCACAU,0BAAA,mJACAC,EAAA,4CACAC,EAAAD,eACAA,yBACA,yBACAE,6DACAA,eAEA,yBACA,cACAA,SAAAhD,YAAAE,YACA8C,mBAAAhD,YAAAE,aACA8C,qCAGA,qBACAC,QAEA,UACAF,KAEA,4BACAZ,iBAEA,iBACAe,QAEAF,2CA3BA,iGAAAH,YAiCAM,0BACA,WACAhB,4BAEAiB,kCACA,6BAEAC,2BAAA,4JACAlB,EAAA,KACAmB,EAFA,oDAEAC,EAFA,WAGAC,oBACA,wBACAA,KALA,SAOAb,uCACA,SACAR,iBACA,kBACAsB,iCACA,OACAvD,cACAF,aAEAwD,4BAEArB,8CAlBA,0GAAAkB,GAuBA3D,0BAEA,WAQA,GAPAyC,6CACA,mBACAA,kBACAA,iBACAA,gBACAA,gBAEA,kBACA,4CACAC,cAIA5C,sBACA0B,oBACA,mBAAAlB,sBAEAiB,WA/GA,SA+GAyC,GAEA,WACA,KACA,KACA,KACA,KACA,KACA,KAEAvB,0CACA,MACAA,eACA,IACA,IACA,0EACAwB,uBACA,+BACAC,iBAEA,6BACAC,qBAEA,+BACAC,cAEA,+BACAC,iBAEA,kCACAC,iBAEA,mCACAC,iBAEA,+BACAC,iBAEA,mCACAC,oBAGA,kDACA,iBACA,qBACA,UACApB,KAEA,+DACA,qDACA,oFACA,eACA,CACA,gCACA,0EACAqB,gBAYA,OAEA,SAEA,OACAC,0BACAC,wBACAC,sBACAC,2BAEA,OAEAC,EADA,iBACAA,CACAnD,OACAoD,kBAIAD,CACAnD,QAGA,wBACAqB,4CAEAR,eACA,qBACA,cACAA,iFAGAA,+EAEAA,gBAAAnC,sBAGA,oBACAmC,2EAGAA,uFC9XiY,I,YCO7XwC,EAAY,eACd,EACA1G,EACAkD,GACA,EACA,KACA,KACA,MAIa,aAAAwD,E","file":"js/CRMManageAccount.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"main-content\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{attrs:{\"id\":\"divMainLeadData\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(_vm._s(_vm.$t('Manage'))+\" \"+_vm._s(_vm.$t('Account')))]),_c('span',{staticClass:\"p-actions float-right\"},[_c('RouterLink',{staticClass:\"p-action-btn text-white float-right\",attrs:{\"to\":'/CRM/Accounts',\"title\":\"\",\"id\":\"backtolist\",\"data-original-title\":_vm.$t('BacktoList')}},[_c('em',{staticClass:\"fa fa-angle-double-left pr-2\"}),_c('br'),_vm._v(_vm._s(_vm.$t('BacktoList')))])],1)])])]),_c('div',{staticClass:\"border p-3\"},[_c('Form',{ref:\"form\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('dynamic-form',{ref:\"AccountForm\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.onSubmit}}),(_vm.divchkhide)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left my-2\"},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"float-left\"},[_c('input',{staticClass:\"ml-3\",attrs:{\"id\":\"chkcontactinfo\",\"value\":\"1\",\"type\":\"checkbox\"},on:{\"change\":function($event){return _vm.ChkContactbox($event)}}})]),_c('div',{staticClass:\"float-left pt-1\"},[_c('span',{staticStyle:{\"font-weight\":\"500\"}},[_vm._v(\"Tick to add Contact.\")])])])])]):_vm._e(),(_vm.IscheckContact)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-12 mt-4\"},[_c('div',{staticClass:\"heading-border mb-2\"},[_c('h5',{staticClass:\"h5\"},[_c('span',[_vm._v(_vm._s(_vm.$t('ContactInformation')))])])])]),_c('div',{staticClass:\"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('FirstName'))+\":\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('Field',{attrs:{\"name\":\"FirstName\",\"rules\":{'required':true},\"label\":\"First Name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar touched = ref.touched;\nvar invalid = ref.invalid;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.txtfirstname),expression:\"txtfirstname\"}],class:{'form-control' : true,'is-invalid': touched && invalid},attrs:{\"type\":\"text\",\"name\":\"FirstName\",\"maxlength\":\"100\"},domProps:{\"value\":(_vm.txtfirstname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.txtfirstname=$event.target.value}}}),_c('span',{staticClass:\"invalid-feedback\",attrs:{\"name\":\"FirstName\"}},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('LastName'))+\":\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('Field',{attrs:{\"name\":\"LastName\",\"rules\":{'required':true},\"label\":\"Last Name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar touched = ref.touched;\nvar invalid = ref.invalid;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.txtlastname),expression:\"txtlastname\"}],class:{'form-control' : true,'is-invalid': touched && invalid },attrs:{\"type\":\"text\",\"name\":\"LastName\",\"maxlength\":\"100\"},domProps:{\"value\":(_vm.txtlastname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.txtlastname=$event.target.value}}}),(touched && invalid )?_c('span',{staticClass:\"invalid-feedback\",attrs:{\"name\":\"LastName\"}},[_vm._v(_vm._s(errors[0]))]):_vm._e()]}}],null,true)})],1)]),_c('div',{staticClass:\"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('Email'))+\":\"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('Field',{attrs:{\"name\":\"Email\",\"rules\":{'required':true,'email':true},\"label\":\"Email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar touched = ref.touched;\nvar invalid = ref.invalid;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.txtemailid),expression:\"txtemailid\"}],class:{'form-control':true,'is-invalid': touched && invalid},attrs:{\"type\":\"text\",\"id\":\"Emailid\",\"name\":\"Email\"},domProps:{\"value\":(_vm.txtemailid)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.txtemailid=$event.target.value}}}),_c('span',{staticClass:\"invalid-feedback\",attrs:{\"name\":\"Email\"}},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('Mobile'))+\": \")]),_c('vue-tel-input',{attrs:{\"id\":\"txtmobile\",\"mode\":\"international\",\"name\":\"txtmobile\"},on:{\"input\":_vm.onInputMobilePhone},model:{value:(_vm.txtmobile),callback:function ($$v) {_vm.txtmobile=$$v},expression:\"txtmobile\"}}),_c('span',{staticClass:\"invalid-feedback d-block\",attrs:{\"name\":_vm.txtmobile}},[_vm._v(_vm._s(errors[0]))]),(_vm.phoneError)?_c('span',{staticClass:\"invalid-feedback d-block\"},[_vm._v(\"Enter valid number.\")]):_vm._e()],1)])]):_vm._e(),_c('div',{staticClass:\"row flex-row-reverse mt-2\"},[_c('div',{staticClass:\"col-lg-6 text-right\"},[_c('a',{staticClass:\"btn btn-success formbtn\",class:{ disabled: false },attrs:{\"href\":\"javascript:;\",\"title\":\"Save\"},on:{\"click\":_vm.SubmitData}},[_c('em',{staticClass:\"fa fa-save pr-2\"}),_vm._v(_vm._s(_vm.$t('Save'))+\" \")]),_vm._v(\"Â  \"),_c('a',{staticClass:\"btn btn-danger\",attrs:{\"href\":\"javascript:void(0)\",\"title\":\"Cancel\"},on:{\"click\":_vm.onCancel}},[_c('em',{staticClass:\"fa fa-close pr-2\"}),_vm._v(_vm._s(_vm.$t('Cancel'))+\" \")])]),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"py-2\"},[_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.$t('MandatoryString')))])])])])]}}])})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"main-content\">\r\n       <loader :is-visible=\"isLoading\"></loader>\r\n           <div  id=\"divMainLeadData\" v-cloak>\r\n           <div class=\"row\">\r\n                   <div class=\"col-md-12 padding-t_8\">\r\n                       <div class=\"theme-primary partition-full\">\r\n                        <span class=\"p-name text-white\">{{$t('Manage')}} {{$t('Account')}}</span>  \r\n                           <span class=\"p-actions float-right\">\r\n                            <RouterLink :to=\"'/CRM/Accounts'\" title=\"\" id=\"backtolist\"\r\n                                class=\"p-action-btn text-white float-right\" :data-original-title=\"$t('BacktoList')\"><em class=\"fa fa-angle-double-left pr-2\"></em><br />{{ $t('BacktoList') }}</RouterLink>\r\n                        </span>                       \r\n                       </div>\r\n                   </div>\r\n               </div>\r\n               <div class=\"border p-3\">\r\n                   <Form  ref=\"form\" v-slot=\"{ valid,errors}\">\r\n                       <dynamic-form lang=\"en\" ref=\"AccountForm\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"onSubmit\">\r\n                       </dynamic-form>\r\n                       <div class=\"row\" v-if=\"divchkhide\">\r\n                        <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left my-2\">\r\n                            <div class=\"form-group\">\r\n                                <div class=\"float-left\">\r\n                                    <input id=\"chkcontactinfo\" class=\"ml-3\" value=\"1\" \r\n                                        type=\"checkbox\" v-on:change=\"ChkContactbox($event)\">\r\n                                </div>\r\n                                <div class=\"float-left pt-1\">\r\n                                    <span style=\"font-weight: 500;\">Tick to add Contact.</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\" v-if=\"IscheckContact\">\r\n                        <div class=\"col-lg-12 mt-4\">\r\n                            <div class=\"heading-border mb-2\">\r\n                                <h5 class=\"h5\">\r\n                                    <span>{{$t('ContactInformation')}}</span>\r\n                                </h5>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6\">\r\n                            <div class=\"form-group\">\r\n                                <label>{{$t('FirstName')}}:<span class=\"text-danger\">*</span></label>\r\n                                <Field name=\"FirstName\" :rules=\"{'required':true}\" label=\"First Name\"\r\n                                    v-slot=\"{errors,touched,invalid}\">\r\n                                    <input type=\"text\" v-model=\"txtfirstname\"\r\n                                        v-bind:class=\"{'form-control' : true,'is-invalid': touched && invalid}\"\r\n                                        name=\"FirstName\" maxlength=\"100\">\r\n                                    <span   name=\"FirstName\"\r\n                                        class=\"invalid-feedback\">{{errors[0]}}</span>\r\n                                </Field>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6\">\r\n                            <div class=\"form-group\">\r\n                                <label>{{$t('LastName')}}:<span class=\"text-danger\">*</span></label>\r\n                                <Field name=\"LastName\" :rules=\"{'required':true}\" label=\"Last Name\"\r\n                                    v-slot=\"{errors,touched,invalid}\">\r\n                                    <input type=\"text\" v-model=\"txtlastname\"\r\n                                        v-bind:class=\"{'form-control' : true,'is-invalid': touched && invalid }\"\r\n                                        name=\"LastName\" maxlength=\"100\">\r\n                                    <span v-if=\"touched && invalid \" name=\"LastName\"\r\n                                        class=\"invalid-feedback\">{{errors[0]}}</span>\r\n                                </Field>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6\">\r\n                            <div class=\"form-group\">\r\n                                <label>{{$t('Email')}}:<span class=\"text-danger\">*</span></label>\r\n                                <Field name=\"Email\" :rules=\"{'required':true,'email':true}\" label=\"Email\"\r\n                                    v-slot=\"{errors,touched,invalid}\">\r\n                                    <input type=\"text\" v-model=\"txtemailid\" id=\"Emailid\" name=\"Email\"\r\n                                        v-bind:class=\"{'form-control':true,'is-invalid': touched && invalid}\">\r\n                                    <span   name=\"Email\" class=\"invalid-feedback\">{{ errors[0] }}</span>\r\n                                </Field>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6\">\r\n                            <div class=\"form-group\">\r\n                                <label>{{$t('Mobile')}}: </label>\r\n                                <vue-tel-input id=\"txtmobile\" mode=\"international\" @input=\"onInputMobilePhone\" v-model=\"txtmobile\" name=\"txtmobile\"></vue-tel-input>\r\n                                <span   :name=\"txtmobile\" class=\"invalid-feedback d-block\" >{{errors[0]}}</span>\r\n                                <span v-if=\"phoneError\"  class=\"invalid-feedback d-block\" >Enter valid number.</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row flex-row-reverse mt-2\">\r\n                        <div class=\"col-lg-6 text-right\">\r\n                          <a href=\"javascript:;\"               \r\n                            v-bind:class=\"{ disabled: false }\"\r\n                            v-on:click=\"SubmitData\"\r\n                             class=\"btn btn-success formbtn\"\r\n                            title=\"Save\"\r\n                          >\r\n                            <em class=\"fa fa-save pr-2\"></em>{{$t('Save')}}\r\n                          </a>&nbsp;\r\n                          <a href=\"javascript:void(0)\" class=\"btn btn-danger\" title=\"Cancel\" @click=\"onCancel\">\r\n                            <em class=\"fa fa-close pr-2\"></em>{{$t('Cancel')}}\r\n                          </a>                \r\n                        </div>\r\n                        <div class=\"col-lg-6\">\r\n                          <div class=\"py-2\">\r\n                           <small class=\"text-danger\">{{$t('MandatoryString')}}</small>\r\n                          </div>\r\n                        </div>\r\n                    </div> \r\n                   </Form>\r\n               </div>\r\n           </div>\r\n       </section>        \r\n</template>\r\n<script>\r\nimport LeadDataService from \"../../../services/DataService\";\r\nimport modaladdindustry from '../../../components/Common/Modal/modaladdindustry.vue'\r\nexport default {\r\n    components: {\r\n        modaladdindustry\r\n    },\r\n    data(){\r\n        return{\r\n            isLoading:false,\r\n            divchkhide: false,\r\n            IscheckContact: false,\r\n            name: null,\r\n            Id: null,\r\n            dateformat: null,\r\n            phoneError:false,\r\n            txtfirstname: '',\r\n            txtlastname: '',\r\n            txtemailid: '',\r\n            txtmobile: '',\r\n            ApiURL: `moduleName=CRM&subModuleCode=CRM_ACCOUNTS&langCode=en`,\r\n            AccountCode:'',\r\n            FormSchema:[],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success save\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Submit\",\r\n                    isVisible:false\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i>Cancel\",\r\n                    onClick: this.onCancel,\r\n                    isVisible:false,\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    created:function(){\r\n        this.name = this.GetUserInfo.Name;\r\n        this.Id = this.GetUserInfo.ID;\r\n        this.dateformat = this.GetUserInfo.DateFormat;\r\n        var vm = this;\r\n        vm.accountID=this.$route.query.id?this.$route.query.id:0;\r\n        vm.AccountCode=this.$route.query.AccountCode?this.$route.query.AccountCode:'';\r\n        var reqid = this.$route.query.id?this.$route.query.id:0;\r\n            reqid = reqid == \"\" ? 0 : reqid;\r\n        if (reqid == 0)\r\n            vm.divchkhide = true;\r\n        vm.FetchData();\r\n    },    \r\n    methods:{\r\n        onInputMobilePhone(phone, phoneObject, input) {\r\n            if(phone){\r\n                if(phoneObject && phoneObject?.formatted.length >0 && (!phoneObject?.valid || phoneObject?.valid==undefined)){\r\n                 this.phoneError=true;\r\n            }else\r\n             if (phoneObject?.formatted && phoneObject?.valid) {\r\n                 phone=phoneObject.formatted;\r\n                 this.fieldInfo.value = phoneObject.formatted;\r\n                 this.phoneError=false;\r\n             }\r\n    }\r\n        },\r\n        FetchData:function(){\r\n            var vm = this;\r\n            vm.isLoading=true;\r\n            var AccountID = vm.accountID == \"0\" ? \"\" : vm.accountID;\r\n            var otherData = [{ id: vm.$route.query.AccountId?vm.$route.query.AccountId:'', name: vm.AccountCode }];\r\n            var convertJson = encodeURIComponent(JSON.stringify(otherData));\r\n            LeadDataService.getFormLayout(vm.ApiURL + \"&id=\" + AccountID + \"&otherData=\" + convertJson)\r\n                .then(function (response) {\r\n                    debugger\r\n                    vm.isLoading=false;\r\n                    if(response.data !=''){\r\n                        var IsActive = true;\r\n                        var Compphone = '';\r\n                        vm.FormSchema = vm.$refs.AccountForm.ConvertCustomFieldIntoDynamicFormObj(response.data.data);\r\n                        vm.FormSchema.forEach((group, gi) => {\r\n                            group.Data.forEach(async  (field, fi) => {\r\n                                const urlParams = new URLSearchParams(window.location.search);\r\n                                var IdExist = urlParams.get('id') || 0;\r\n                                var AccType = urlParams.get('AccountCode') || \"\";\r\n                                if (field.name == 'account_type') {\r\n                                    field.value = vm.$route.query.AccountId?vm.$route.query.AccountId:'';\r\n                                    field.disabled=true;\r\n                                }\r\n                                if (field.name == 'account_owner') {\r\n                                    if (field.value == \"\") {\r\n                                        field.value = {name:vm.name,value:vm.Id};                                    \r\n                                        field.config.options=[{name:vm.name,value:vm.Id}];\r\n                                        field.config.onSearchChange = vm.onSearchh;\r\n                                    }\r\n                                }\r\n                                if (field.name == 'status_id') {\r\n                                    IsActive = field.value;\r\n                                }\r\n                                if (IdExist == null) {\r\n                                    IdExist = 0;\r\n                                }\r\n                                if (field.name == 'account_country') {\r\n                                    vm.CountryData = field;\r\n                                }\r\n                                 if (field.name == \"phone\") {\r\n                                    Compphone = field.value;\r\n                                }\r\n                                field.config.onChange = vm.onChangeEventForFields;\r\n                            })\r\n                        })\r\n                    }                    \r\n            })\r\n        },\r\n        onSearchh: function (e, selctedValue, search) {             \r\n            var vm = this;\r\n            vm.searchSelectDataa(search, vm, selctedValue);\r\n        },\r\n        searchSelectDataa: function (search,ths, selctedValue) {\r\n            this.ShowSearchDataa(search, ths, selctedValue);\r\n        },       \r\n        ShowSearchDataa: async function (search, ths,selctedValue) { \r\n            var vm = this; \r\n            var appendingUrl = `id=&&moduleName=CRM&type=CRM_USERS&search=${search}&refId=`;\r\n            selctedValue.config.options = [];           \r\n            if (typeof (selctedValue) == 'undefined') {\r\n                selctedValue = 0;\r\n            }           \r\n            await LeadDataService.getDDLData(appendingUrl).then(function (response) {  \r\n                if (response.data) {\r\n                    vm.JsonObj = response.data;\r\n                    if (vm.JsonObj != null) {\r\n                        response.data.DATA.forEach((item) => {\r\n                            var obj = {\r\n                                value: item.value,\r\n                                name: item.name\r\n                            }                            \r\n                            selctedValue.config.options.push(obj);                           \r\n                        })\r\n                        vm.$refs.ManageQuoteForm.UpdateKeyValue();\r\n                    }                    \r\n                }\r\n            });\r\n        },\r\n        ChkContactbox: function (e) {\r\n           // debugger\r\n                var vm=this;\r\n                vm.IscheckContact=$(e.target).prop(\"checked\");\r\n                if (!vm.IscheckContact) {\r\n                    vm.txtfirstname = ''\r\n                    vm.txtlastname = '',\r\n                    vm.txtemailid = '',\r\n                    vm.txtmobile = ''\r\n            }\r\n            if (vm.IscheckContact) {\r\n                var reqid =vm.$route.query.id?vm.$route.query.id:0;\r\n                    reqid = reqid == \"\" ? 0 : reqid;\r\n               \r\n            }\r\n        },\r\n        onSubmit:function(){},\r\n        onCancel:function(){\r\n            this.$router.push({ name: 'CRMAccounts' });\r\n        },\r\n        SubmitData(values) {\r\n            debugger\r\n            var vm=this;\r\n            var Cname = \"\";\r\n            var adrs1 = \"\";\r\n            var adrs2 = \"\";\r\n            var cty = \"\";\r\n            var zipc = \"\";\r\n            var accname = \"\";\r\n            var accowner=\"\";\r\n            vm.$refs.form.validate().then((result) => {\r\n                if (result) {\r\n                    vm.isLoading=true; \r\n                    var accountcontact = [];\r\n                    var Isvalidcnt = 0;\r\n                    var CustomFieldArray = vm.$refs.AccountForm.ConvertDynamicFormObjToCustomFieldObj(vm.FormSchema);    \r\n                    CustomFieldArray.forEach((x) => {\r\n                        if(x.field_name=='account_name'){\r\n                            accname = x.field_value;                        \r\n                        }\r\n                        if(x.field_name=='account_id'){\r\n                            x.field_value = reqid;\r\n                        }\r\n                        if(x.field_name=='account_owner'){\r\n                            accowner = x.field_value;\r\n                        }\r\n                        if(x.field_name=='company_name'){\r\n                            Cname = x.field_value;\r\n                        }\r\n                        if(x.field_name=='account_address'){\r\n                            adrs1 = x.field_value;\r\n                        }\r\n                        if(x.field_name=='account_address2'){\r\n                            adrs2 = x.field_value;\r\n                        }\r\n                        if(x.field_name=='account_city'){\r\n                            cty = x.field_value;\r\n                        }\r\n                        if(x.field_name=='account_zip_code'){\r\n                            zipc = x.field_value;\r\n                        }                        \r\n                    });                    \r\n                    const urlParams = new URLSearchParams(window.location.search);\r\n                    var IdExist = urlParams.get('id') || 0;\r\n                    var AccType = urlParams.get('AccountCode') || \"\";\r\n                    if (IdExist == null) {\r\n                        IdExist = 0;\r\n                    }\r\n                    var stateName = $('select[name=\"account_state\"] option:selected').text();\r\n                    var companyaddr = Cname + \" \" + adrs1 + \" \" + adrs2 + \" \" + cty + \" \" + (stateName == \"Select\" ? \"--\" : stateName) + \" \" + zipc;\r\n                    var contactaddr = vm.txtfirstname + \" \" + vm.txtlastname + \" \" + adrs1 + \" \" + adrs2 + \" \" + cty + \" \" + (stateName == \"Select\" ? \"--\" : stateName) + \" \" + zipc;\r\n                    if (IdExist == 0 && accname == '')  \r\n                    {\r\n                        var newAddres = Cname != '' ? $.trim(companyaddr) : $.trim(contactaddr);\r\n                        var previousItem = data[data.findIndex(x => x.field_name == \"account_name\")];\r\n                        previousItem.field_value = newAddres;\r\n                    }\r\n                    // if (vm.IscheckContact) {\r\n                    //     var MobPhone = vm.phoneList.filter(v => v.field_id == 'txtmobile');\r\n                    //     if (MobPhone.length > 0) {\r\n                    //         vm.txtmobile = MobPhone[0].value;\r\n                    //         if (!MobPhone[0].isValid) {\r\n                    //             $(\"#spantxtmobile\").show();\r\n                    //             Isvalidcnt++;\r\n                    //         }\r\n                    //     }\r\n                    // }\r\n                    if (Isvalidcnt > 0) {\r\n\r\n                        return false;\r\n                    }\r\n                    var accountcontactobject = {\r\n                        first_name: vm.txtfirstname,\r\n                        last_name: vm.txtlastname,\r\n                        email_id: vm.txtemailid,\r\n                        mobile_number: vm.txtmobile\r\n                    };\r\n                    var postJSON = null;\r\n                    if (vm.IscheckContact) {\r\n                        postJSON = {\r\n                            data: CustomFieldArray,                          \r\n                            accountcontact: accountcontactobject\r\n                        };\r\n                    }\r\n                    else {\r\n                        postJSON = {\r\n                            data: CustomFieldArray                           \r\n                        };\r\n                    }\r\n                    var objectPostString = JSON.stringify(postJSON);\r\n                    LeadDataService.SaveAccountInfo(objectPostString).then(function (response) {\r\n                        debugger\r\n                        vm.isLoading=false;\r\n                        if (response.data[0].Code == \"1\") {\r\n                            if (vm.accountID > 0) {\r\n                                vm.ShowAlert(vm.$t('UpdatedSuccess', [vm.$t('Account')]), \"success\", true, vm.$t(\"Alert\"));\r\n\r\n                            } else {\r\n                                vm.ShowAlert(vm.$t('AddedSuccess', [vm.$t('Account')]), \"success\", true, vm.$t(\"Alert\"));\r\n                            }\r\n                            vm.$router.push({ name: 'CRMAccounts' });\r\n                        }\r\n\r\n                        else if (response.data[0].Code == \"2\") {\r\n                            vm.ShowAlert(vm.$t(\"Account name already exist\"), \"warning\", true, vm.$t(\"Alert\"));\r\n                        }\r\n                        else {\r\n                            vm.ShowAlert(vm.$t('AddedError', [vm.$t('Account')]), \"failure\", true, vm.$t(\"Alert\"));\r\n                        }\r\n\r\n                    });\r\n                }\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageAccountCustomLayout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageAccountCustomLayout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ManageAccountCustomLayout.vue?vue&type=template&id=4a69ce35&\"\nimport script from \"./ManageAccountCustomLayout.vue?vue&type=script&lang=js&\"\nexport * from \"./ManageAccountCustomLayout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}