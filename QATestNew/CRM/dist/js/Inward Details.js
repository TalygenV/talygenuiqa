(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Inward Details"],{"31e2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"divMainFormData"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("section",{staticClass:"main-content",attrs:{id:"main-content"}},[a("div",{staticClass:"left-menu-tab div-click-event"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"theme-primary partition"},[a("span",{staticClass:"p-name text-white textelipsis"},[t._v(t._s(t.ginNumber))])])]),a("ul",{staticClass:"nav nav-pills flex-column left-tab mt-2 responivecustomtab",attrs:{id:"myTab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link left-menu",class:{active:1==t.activeKey},attrs:{"data-bs-target":"#tab-lead-content",href:"javascript:void(0)","data-bs-toggle":"tab",role:"tab",id:"tab-Details"},on:{click:function(e){t.loadData("timeline"),t.DisableButton()}}},[a("em",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true","aria-selected":"true"}}),t._v(" "+t._s(t.$t("Detail"))+" ")])]),t.checkForAdditionalPermission("ViewNotes")?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link left-menu",class:{active:2==t.activeKey},attrs:{"data-bs-target":"#tab-notes-content",href:"javascript:void(0)",id:"tab-notes","data-bs-toggle":"tab",role:"tab"},on:{click:function(e){return t.loadData("notes")}}},[a("em",{staticClass:"fa fa-file-text",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("NOTE"))+" ")])]):t._e(),t.checkForAdditionalPermission("ViewAttachment")?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link left-menu",class:{active:3==t.activeKey},attrs:{"data-bs-target":"#tab-attachment-content",href:"javascript:void(0)",id:"tab-attachment","data-bs-toggle":"tab",role:"tab"},on:{click:function(e){return t.loadData("attachments")}}},[a("em",{staticClass:"fa fa-file",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("Attachments"))+" ")])]):t._e(),t.checkForAdditionalPermission("ViewAcitvities")?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link left-menu",class:{active:4==t.activeKey},attrs:{"data-bs-target":"#tab-openactivities-content",href:"javascript:void(0)",id:"tab-openactivities","data-bs-toggle":"tab",role:"tab","aria-selected":"false"},on:{click:function(e){return t.loadData("activities")}}},[a("em",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Activities"))+" ")])]):t._e(),a("li",{staticClass:"nav-item"},[t.checkForAdditionalPermission("ViewProducts")?a("a",{staticClass:"nav-link left-menu",class:{active:5==t.activeKey},attrs:{"data-bs-target":"#tab-products-content",id:"tab-products","data-toggle":"tab",href:"javascript:void(0)",role:"tab","aria-selected":"false"},on:{click:function(e){return t.loadData("products")}}},[a("em",{staticClass:"fa fa-shopping-cart",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("Products"))+" ")]):t._e()])])]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"col-md-12 p-0 mb-2"},[a("div",{staticClass:"theme-primary partition p-actions-expand"},[a("span",{staticClass:"p-name text-white",attrs:{id:"span_ForSelectedTabName"}}),a("span",{staticClass:"p-actions float-right"},[a("a",{staticClass:"p-action-btn text-white float-right",attrs:{href:"/CRM/InwardListing"}},[a("em",{staticClass:"fa fa-angle-double-left pr-2"}),a("br"),t._v(" "+t._s(t.$t("BacktoList"))+" ")]),t.isNotes&&"list"==t.NoteListType?a("a",{class:{"p-action-btn text-white":!0,disabled:!1},attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Card View"},on:{click:function(e){t.NoteListType="card"}}},[a("em",{staticClass:"fa fa-th-large"}),a("br"),t._v(" "+t._s(t.$t("CardView"))+" ")]):t._e(),t.isNotes&&"list"!=t.NoteListType?a("a",{class:{"p-action-btn text-white":!0,disabled:!1},attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"List View"},on:{click:function(e){t.NoteListType="list"}}},[a("em",{staticClass:"fa fa-list"}),a("br"),t._v(" "+t._s(t.$t("ListView"))+" ")]):t._e(),"Active"==t.stausName.value?a("RouterLink",{staticClass:"p-action-btn text-white float-right",attrs:{to:t.editUrl}},[a("em",{staticClass:"fa fa-pencil pr-2"}),a("br"),t._v("Edit ")]):t._e(),t.isNotes?a("a",{class:{"p-action-btn text-white":!0,disabled:!1},attrs:{href:"javascript:;",title:"",id:"ancaddnotesloaddata","data-toggle-tooltip":"tooltip","data-original-title":"Add Notes"},on:{click:function(e){return t.openShowNotePopup()}}},[a("em",{staticClass:"fa fa-plus"}),a("br"),t._v(" "+t._s(t.$t("AddNotes"))+" ")]):t._e(),t.isAttachment?a("a",{class:{"p-action-btn text-white":!0},attrs:{href:"javascript:;",title:t.$t("UploadFile")},on:{click:function(e){return t.openCRMAttachmentModal(null)}}},[a("em",{staticClass:"fa fa-plus"}),a("br"),t._v(" "+t._s(t.$t("Add"))+" "+t._s(t.$t("Attachment"))+" ")]):t._e(),t.isActivities?a("a",{class:{"p-action-btn text-white btn_add":!0},attrs:{href:"javascript:void(0)",title:"",id:"","data-original-title":"Add Task"},on:{click:function(e){return t.openAddTaskModel()}}},[a("em",{staticClass:"fa fa-plus pr-2"}),a("br"),t._v(t._s(t.$t("AddTask"))+" ")]):t._e(),t.isActivities?a("a",{class:{"p-action-btn text-white btn_follow":!0},attrs:{href:"javascript:void(0)",title:"",id:"","data-original-title":"Follow Up"},on:{click:function(e){return t.openAddNewEvent()}}},[a("em",{staticClass:"fa fa-share"}),a("br"),t._v(" "+t._s(t.$t("FollowUp"))+" ")]):t._e(),t.isActivities?a("a",{class:{"p-action-btn text-white btn_call":!0},attrs:{href:"javascript:void(0)",title:"",id:"","data-original-title":"Schedule Call"},on:{click:function(e){return t.openCallEvent()}}},[a("em",{staticClass:"fa fa-phone"}),a("br"),t._v(" "+t._s(t.$t("Schedule"))+" "+t._s(t.$t("Call"))+" ")]):t._e()],1),t._m(0)])]),a("div",{staticClass:"col-md-12 p-0 mt-2"},[a("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[t._m(1),a("div",{staticClass:"tab-pane p-0 pb-2 border-0",class:{"active show":1==t.activeKey},attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[a("div",{staticClass:"listing"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card mb-3 probx"},[a("div",{staticClass:"card-header"},[a("h2",[t._v(t._s(t.$t("Details")))]),t._m(2)]),a("div",{staticClass:"card-body"},t._l(t.LeftViewData,(function(e){return a("div",{staticClass:"panel1"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5 mb-2"},[a("span",[t._v(t._s(t.$t(e.group_name,"")))])])]),a("div",{staticClass:"row"},t._l(e.LeftViewData,(function(e,i){return a("div",{staticClass:"col-md-6 col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[a("strong",[t._v(" "+t._s(t.GetLocalizedValue(e.name,e.display_name))+": ")]),"date"==e.dt_code||"datetime"==e.dt_code?a("span",{staticClass:"answer rightlabeltext"},[t._v(" "+t._s(t._f("formatDate")(e.value))+" ")]):t._e(),"decimal"==e.dt_code?a("span",{staticClass:"answer rightlabeltext"},[t._v(" "+t._s(t._f("currency")(t.isBlank(e.value)?"0.00":e.value))+" ")]):t._e(),"date"!=e.dt_code&&"datetime"!=e.dt_code&&"decimal"!=e.dt_code&&"Lookup"!=e.picklist_options&&("gin_description"!=e.name&&"gin_terms_conditions"!=e.name||"gin_description"==e.name&&"gin_terms_conditions"==e.name&&t.isBlank(e.value))?a("span",{staticClass:"answer rightlabeltext"},[t._v(t._s(t.isBlank(e.value)?"--":e.value))]):t._e(),"gin_description"!=e.name&&"gin_terms_conditions"!=e.name||t.isBlank(e.value)?t._e():a("crmreadmore",{attrs:{callFrom:"InwardDetails",data:e.value,heading:t.$t("Description"),length:"100"}}),"date"!=e.dt_code&&"datetime"!=e.dt_code&&"decimal"!=e.dt_code&&"Lookup"==e.picklist_options?a("span",{staticClass:"answer rightlabeltext"},[t._v(" "+t._s(t.isBlank(e.value)?"--":t.FilterDDLandNormalValue(e.value))+" ")]):t._e()],1)])])})),0)])})),0)]),a("div",{staticClass:"card mb-3 probx"},[t._m(3),a("div",{staticClass:"card-body"},[a("crmtimeline",{attrs:{timelinedata:t.timelinedata}})],1)])])])])]),a("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":2==t.activeKey},attrs:{role:"tabpanel",id:"tab-notes-content","aria-labelledby":"tab-notes-content"}},[t.noteData?a("crmnote",{attrs:{notedata:t.noteData,userid:t.userid,companyid:t.companyId,sourceid:t.$route.params.id,modulename:t.$route.params.moduleName,submodulecode:t.$route.params.subModuleCode,listtype:t.NoteListType,showNotePopUp:t.isShowNotePopup,callfrom:"quickViewAndNoteJS"}}):t._e()],1),a("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":3==t.activeKey},attrs:{role:"tabpanel",id:"tab-attachment-content","aria-labelledby":"tab-attachment-content"}},[a("crmattachment",{attrs:{attachmentdata:t.attachmentData,sourceid:t.$route.params.id}})],1),a("div",{staticClass:"tab-pane fade p-0 border-0 listing",class:{"active show":4==t.activeKey},attrs:{role:"tabpanel",id:"tab-openactivities-content","aria-labelledby":"tab-openactivities-content"}},[a("input",{attrs:{id:"hdnshowspliticon",value:"1",type:"hidden"}}),t.noRecordForTab?t._e():a("div",{staticClass:"table-responsive tableborder customborder_lightgrey float-left crm_rightpanelmaximumscroll_table_btns"},[a("table",{staticClass:"table table-bordered mb-0",attrs:{id:"table-openactivities-content","aria-describedby":"activitescontent"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Subject")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Activity"))+" "+t._s(t.$t("Type")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Activity"))+" "+t._s(t.$t("ScheduleDate")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Activity"))+" "+t._s(t.$t("OWNER")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("CreatedAt")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Status")))])]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Action")))])])])]),a("tbody",t._l(t.activitiesData,(function(e){return a("tr",[a("td",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.openActivityModal(e)}}},[t._v(t._s(e.followup_notification_subject))])]),a("td",["FollowUp"===e.activity_type?a("div",[t._v("Follow up")]):a("div",[t._v(t._s(e.activity_type))])]),a("td",[t._v(t._s(t._f("formatDate")(e.followup_notification_schedule)))]),a("td",[t._v(t._s(e.activity_owner))]),a("td",[t._v(t._s(t._f("formatDate")(e.created_at)))]),a("td",[a("span",{class:{"px-2 bg-success text-white d-block text-center":"Active"==e.status_name,"px-2 bg-danger text-white d-block text-center":"Inactive"==e.status_name}},[t._v(t._s(e.status_name))])]),a("td",{staticClass:"text-center single-action"},[a("a",{attrs:{href:"javascript:;",title:"Delete"},on:{click:function(a){return t.DeleteActivity(e)}}},[a("em",{staticClass:"fa fa-trash text-danger"})])])])})),0)])]),t.noRecordForTab?a("div",{staticClass:"text-center text-danger p-4 border no-record"},[t._v(t._s(t.$t("NoRecordfound")))]):t._e()]),a("div",{staticClass:"tab-pane fade p-0 border-0 listing",class:{"active show":5==t.activeKey},attrs:{id:"tab-products-content","aria-labelledby":"tab-products-content",role:"tabpanel"}},[t.noRecordForTab?t._e():a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered mb-0",attrs:{id:"table-product-content","aria-describedby":"productcontent"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("PURCHASE_ORDER_NUMBER")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("ItemName")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("UnitPrice")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("RequestQuantity")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("ReceivedProduct")))])]),a("th",{attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Status")))])]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Approve")))])]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("Reject")))])])])]),a("tbody",t._l(t.productData,(function(e){return a("tr",[a("td",[t._v(t._s(e.order_number))]),a("td",[t._v(t._s(e.unique_name))]),a("td",[t._v(t._s(e.gin_unit_price))]),a("td",[t._v(t._s(e.po_quantity))]),a("td",[t._v(t._s(e.recieved_quantity))]),a("td",[a("span",{class:{"px-2 bg-success text-white d-block text-center":"Active"==e.status_id||"Approved"==e.status_id,"px-2 bg-danger text-white d-block text-center":"Inactive"==e.status_id||"Rejected"==e.status_id}},[t._v(t._s(e.status_id))])]),a("td",{staticClass:"text-center single-action"},["Rejected"!=e.status_id&&"Approved"!=e.status_id?a("a",{attrs:{href:"javascript:;",title:"Approve"},on:{click:function(a){return t.openlocation(e.gin_item_id)}}},[a("em",{staticClass:"fa fa-check text-primary action-icon"})]):t._e(),a("a",{directives:[{name:"show",rawName:"v-show",value:"Rejected"==e.status_id||"Approved"==e.status_id,expression:"(item.status_id == 'Rejected' || item.status_id == 'Approved')"}],attrs:{title:"@Resources.NotApplied"}},[a("em",{staticClass:"fa fa-ban action-icon"})])]),a("td",{staticClass:"text-center single-action"},["Rejected"!=e.status_id&&"Approved"!=e.status_id?a("a",{attrs:{href:"javascript:;",title:"Reject"},on:{click:function(a){return t.commonReject(e.gin_item_id)}}},[a("em",{staticClass:"fa fa-close text-danger action-icon"})]):t._e(),a("a",{directives:[{name:"show",rawName:"v-show",value:"Rejected"==e.status_id||"Approved"==e.status_id,expression:"(item.status_id == 'Rejected' || item.status_id == 'Approved')"}],attrs:{title:"@Resources.NotApplied"}},[a("em",{staticClass:"fa fa-ban action-icon"})])])])})),0)])]),t.noRecordForTab?a("div",{staticClass:"text-center text-danger p-4 border no-record"},[t._v(t._s(t.$t("NoRecordfound")))]):t._e()])])])])]),t.showAddTaskModal?a("modaltask",{attrs:{modalTaskItem:t.modalTaskItem},on:{close:function(e){t.showAddTaskModal=!1,t.modalTaskItem=null}}},[a("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("AddTask")))])]):t._e(),t.showAttachmentModal?a("modalattachment",{attrs:{userid:t.userid,companyid:t.companyId,id:t.$route.params.id,modulename:t.$route.params.moduleName,submodulecode:t.$route.params.subModuleCode,containername:t.containername,imagesizedata:""},on:{close:function(e){t.showAttachmentModal=!1}}},[a("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v("$t('Attachments')")])]):t._e(),t.showAddEventModal?a("modalevent",{attrs:{modalFollowUpItem:t.modalFollowUpItem,modulename:t.$route.params.moduleName,submodulecode:t.$route.params.subModuleCode,sourceid:t.$route.params.id},on:{close:function(e){t.showAddEventModal=!1,t.modalFollowUpItem=null}}},[a("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("FollowUp")))])]):t._e(),t.showCallModal?a("modalcall",{attrs:{modalCallItem:t.modalCallItem},on:{close:function(e){t.showCallModal=!1,t.modalCallItem=null}}},[a("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Schedule"))+" "+t._s(t.$t("Call")))])]):t._e(),t.showDeployModal?a("modaldeploy",{on:{close:function(e){t.showDeployModal=!1}}},[a("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("DeployItems"))+" ")])]):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"collapse-head-btns"},[a("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"expand-list"},[a("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[a("em",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cont_right"},[a("div",{staticClass:"bar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("h2",[t._v("Timeline")])])}],o=a("53ca"),n=(a("99af"),a("7db0"),a("d3b7"),a("b0c0"),a("4de4"),a("e9c4"),a("ac1f"),a("5319"),a("9769")),l=a("dd2a"),c=a("84a0"),r=a("3731"),d=a("702f"),u=a("9dbd"),m=a("6c06"),p=a("a672"),h=a("8d3e"),v=a("3e9a"),f=a("1157"),_=a.n(f),b={components:{crmtimeline:l["a"],crmnote:c["a"],crmattachment:r["a"],modaltask:d["a"],modalattachment:u["a"],modalevent:m["a"],modalcall:p["a"],modaldeploy:h["a"],crmreadmore:v["a"]},data:function(){return{activeKey:1,isActivities:!1,isNotes:!1,isAttachment:!1,iscontactDetails:null,showContactModal:!1,showProductModal:!1,showAddTaskModal:!1,showAddEventModal:!1,showCallModal:!1,sendEmailModal:!1,showAttachmentModal:!1,LeftViewData:[],noteData:[],RightViewData:null,attachmentData:[],activitiesData:null,timelinedata:[],productData:null,productHeaders:null,contactsData:null,contactsHeader:null,noRecordForTab:!1,isShowNoteDialogue:!1,leadsHeader:null,dealsHeader:null,dealsData:null,leadsData:null,EmailData:[],template1:!1,template2:!1,template3:!1,template4:!1,SummaryData:[],TemplateName:null,CRMInvoice:!1,modalItem:null,ginNumber:"--",noteText:"",SortBy:"",SortExp:"",PageNumber:1,PageSize:50,modalTaskItem:null,modalFollowUpItem:null,modalCallItem:null,modalDeleteItem:null,isView:!1,modal:null,stausName:"",showAddEmailTemplate:!1,showDeployModal:!1,LocationSelect:null,ginid:null,ApiURL:"id=".concat(this.$route.params.id,"&moduleName=").concat(this.$route.params.moduleName,"&subModuleCode=").concat(this.$route.params.subModuleCode),editUrl:"/CRM/ManageLeadEdit/".concat(this.$route.params.id,"/YES/CRM/InwardListing"),userid:null,companyId:null,containername:null,email:null,NoteListType:"list",isShowNotePopup:!1,privilegeParams:null,isLoading:!1}},created:function(){this.userid=this.GetUserInfo.ID,this.companyId=this.GetUserInfo.CompanyId,this.containername=this.GetUserInfo.ContainerName,this.email=this.GetUserInfo.Email,this.privilegeParams="controller=CRM&action=",this.FetchData()},updated:function(){var t=this;setTimeout((function(){t.setHeaderForSelectedTab()}),500),_()("#ancActivityExpandAllCollapseAll").click((function(){"0"==_()(this).attr("show")?(_()(this).attr("show","1"),_()("#divconversationbox").find("#accordion").find(".collapse").addClass("show")):(_()(this).attr("show","0"),_()("#divconversationbox").find("#accordion").find(".collapse").removeClass("show"))}))},methods:{FilterDDLandNormalValue:function(t){if(!(t&&t.length>0))return"";try{return JSON.parse(t)[0].name}catch(e){return""}},FilterDDLValueForID:function(t){if(!(t.length>0))return"";try{return"object"==Object(o["a"])(JSON.parse(t)[0])?JSON.parse(t)[0].value:JSON.parse(t)[0]}catch(e){return""}},DisableButton:function(){var t=this;t.isActivities=!1,t.isNotes=!1,t.isAttachment=!1},checkForAdditionalPermission:function(t){var e=!0;if(null!=this.additionalOwnerPermission&&this.additionalOwnerPermission.length>0){var a=this.additionalOwnerPermission.filter((function(e){return e.permission_code==t}));0==a.length&&(e=!1)}return e},formatDate:function(t){if(t)return moment(t,String(Globalize.culture().calendar.patterns.d).toUpperCase()).format(String(Globalize.culture().calendar.patterns.d).toUpperCase())},openlocation:function(t){var e=this;n["a"].CheckPrivilege(e.privilegeParams+"ApproveInward").then((function(a){if(a.data){if(_()(event.target).hasClass("disabled")||_()(event.target).closest("a.iconenable").hasClass("disabled"))return!1;e.showDeployModal=!e.showDeployModal,e.ginid=t,setTimeout((function(){}),500)}else e.ShowAlert("You are not authorized","failure",!0,"Alert")}))},commonApprove:function(t){if(this.LocationSelect=t,null!=this.LocationSelect){var e=this,a="";"undefined"!==typeof this.ginid&&null!=this.ginid?a=this.ginid:_()(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=_()(this).val()})),a.length>0||""!=a?e.confirmR(e.$t("AreYouSureToApproveSelectedRecords"),!0,null,(function(t){var i={ids:a,moduleName:"CRM",subModuleCode:"CRM_INWARD",approvaltype:"CRM_APPROVE",viewmode:"YES",locationid:e.LocationSelect},s=JSON.stringify(i);n["a"].changestausInwards(s).then((function(t){var a="";"Success"==t.data[0].Status?(_()(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),a=e.ShowAlert("GIN Inward Approved Successfully","success",!0,e.$t("Alert")),e.loadData("products")):a=e.ShowAlert(e.$t("Error Occur while Approving Record")),setTimeout((function(){a.modal("hide")}),2e3)}))})):e.ShowAlert(e.$t("LeaveApprove"))}else e.ShowAlert("Please Select the location in order to approve")},commonReject:function(t){var e=this;n["a"].CheckPrivilege(e.privilegeParams+"RejectInward").then((function(a){if(a.data){if(_()(event.target).hasClass("disabled")||_()(event.target).closest("a.iconenable").hasClass("disabled"))return!1;var i="";"undefined"!==typeof t&&null!=t?i=t:_()(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=_()(this).val()})),i.length>0||""!=i?e.confirmR(e.$t("AreYouSureToRejectSelectedRecords"),!0,null,(function(t){var a={ids:i,moduleName:"CRM",subModuleCode:"CRM_INWARD",approvaltype:"CRM_REJECT",viewmode:"YES",locationid:""},s=JSON.stringify(a);n["a"].changestausInwards(s).then((function(t){"Success"==t.data[0].Status?(_()(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.ShowAlert(e.$t("GinInward")+e.$t("RejectSuccess"),"success",!0,"Alert"),e.loadData("products")):e.ShowAlert(e.$t("RejectError",[e.$t("GinInwardType")]),"failure",!0,"Alert")}))})):e.ShowAlert(e.$t("RemoveReject"))}else e.ShowAlert("You are not authorized","failure",!0,"Alert")}))},openCRMAttachmentModal:function(){"undefined"===typeof this.checkForAdditionalPermission||this.checkForAdditionalPermission("AddAttachment")?this.showAttachmentModal=!this.showAttachmentModal:alertR(Globalize.localize("additionalOwnerAuthorityWarning"),!0,Globalize.localize("Alert"))},FetchData:function(){var t=this;t.isLoading=!0,n["a"].FormLayoutView(t.ApiURL).then((function(e){t.isLoading=!1;var a=e.data.LEFTDATA;a=_.a.grep(a,(function(t,e){return"YES"==t.form_field_visibility}));var i=_.a.grep(a,(function(t,e){return"status_id"==t.name}));if(null!=i&&i.length>0&&(this.stausName=i[0]),null!=e.data.RIGHTDATA&&e.data.RIGHTDATA.length>0){var s=e.data.RIGHTDATA,o="";_.a.each(s,_.a.proxy((function(e,a){o=t.$options.filters.formatDate(a.Complete_datetime);var i=_.a.grep(t.timelinedata,(function(t,e){return t.groupKey==o}));if(0==i.length){var n=_.a.grep(s,(function(e,a){return t.$options.filters.formatDate(e.Complete_datetime)==o}));if(n.length>0){var l={groupKey:o,groupData:n};t.timelinedata.push(l)}}}),t)),t.noRecordForTab=!1}else t.noRecordForTab=!0;if(null!=a&&a.length>0){var n=a[0].group_id;_.a.each(a,_.a.proxy((function(e,i){n=i.group_id,"gin_number"==i.name&&(t.ginNumber=i.value);var s=_.a.grep(t.LeftViewData,(function(t,e){return t.group_id==n}));if(0==s.length){var o=_.a.grep(a,(function(t,e){return t.group_id==n}));if(o.length>0){var l={group_id:n,group_name:o[0].group_name,LeftViewData:o};t.LeftViewData.push(l)}}}),t)),t.isLoading=!1}setTimeout((function(){t.CheckBoxBootstrap()}),100),setTimeout((function(){t.SetResponsiveTab()}),200),setTimeout((function(){t.RadioButtonBootstrap()}),500)}))},changeDateForAddNoteUsrEnd:function(t){try{var e=Globalize.culture().calendar.patterns.t;e=String(e).replace("t","A").replace("t","");var a=new Date(moment(String(t)).year(),moment(String(t)).month(),moment(String(t)).date(),moment(String(t)).hours(),moment(String(t)).minutes());return userTimeZone[0].indexOf("+")>=0?(a=new Date(a.setHours(a.getHours()-parseInt(userTimeZone[0].replace("+","")))),a=new Date(a.setMinutes(a.getMinutes()-parseInt(userTimeZone[1])))):userTimeZone[0].indexOf("-")>=0&&(a=new Date(a.setHours(a.getHours()+parseInt(userTimeZone[0].replace("-","")))),a=new Date(a.setMinutes(a.getMinutes()+parseInt(userTimeZone[1])))),moment(a,"YYYY-MM-DD HH:mm").format(String(Globalize.culture().calendar.patterns.d).toUpperCase()+" "+String(e))}catch(i){e=Globalize.culture().calendar.patterns.t;return e=String(e).replace("t","a").replace("t",""),moment(String(t)).format(String(Globalize.culture().calendar.patterns.d).toUpperCase()+" "+String(e))}},openNoteDialogue:function(){this.isShowNoteDialogue=!this.isShowNoteDialogue},openEmailModal:function(t){this.sendEmailModal=!0,this.modalItem=t},openAddTaskModel:function(){this.showAddTaskModal=!this.showAddTaskModal},openAddNewEvent:function(){this.showAddEventModal=!this.showAddEventModal},openCallEvent:function(){this.showCallModal=!this.showCallModal},openActivityModal:function(t){"Task"==t.activity_type?(this.showAddTaskModal=!0,this.modalTaskItem=t):"FollowUp"==t.activity_type?(this.showAddEventModal=!0,this.modalFollowUpItem=t):"Call"==t.activity_type&&(this.showCallModal=!0,this.modalCallItem=t)},DeleteActivity:function(t){this.modalDeleteItem=t,this.DeleteActivityData(this.modalDeleteItem.followup_notification_id)},DeleteActivityData:function(t){var e=this;t>0&&e.confirmR(e.$t("ConfirmDelete"),!0,null,(function(){var a={ids:t,moduleName:"CRM",subModuleCode:"CRM_INWARD",refCode:"DELETE_VIEW_ACTIVITY",refId:e.sourceId},i=JSON.stringify(a);n["a"].CommonDelete(i).then((function(t){"Success"==t.data[0].Status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Activity")]),"success",!0,e.$t("Alert")),e.loadData("activities")):e.ShowAlert(e.$t("DeletedError",[e.$t("Activity")]),"success",!0,e.$t("Alert"))}))}))},openContactModal:function(t){this.iscontactDetails=t,this.showContactModal=!this.showContactModal},openShowNotePopup:function(){var t=this;"undefined"===typeof t.checkForAdditionalPermission||t.checkForAdditionalPermission("AddNote")?(t.isShowNotePopup=!0,_()("#tab-notes").trigger("click"),t.loadData("notes")):vm.ShowAlert(this.$t("additionalOwnerAuthorityWarning"),"warning",!0,this.$t("Alert"))},deleteContactFromTab:function(t){var e=this;t>0?e.confirmR(e.$t("ConfirmDelete"),!0,null,(function(){var a={ids:t,moduleName:"CRM",subModuleCode:e.$route.params.subModuleCode,refCode:"DELETE_VIEW_CONTACTS",refId:e.$route.params.id},i=JSON.stringify(a);n["a"].CommonDelete(i).then((function(t){var a="";"Success"==t.data[0].Status?(_()(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.loadData("contacts"),a=e.ShowAlert(e.$t("DeletedSuccess"),e.$t("Contact"))):a=ShowAlert(e.$t("DeletedError"),e.$t("Contact")),setTimeout((function(){a.modal("hide")}),2e3)}))})):e.ShowAlert(e.$t("DeletedError"),e.$t("Contact"))},formatDateTime:function(t){if(t)try{var e=Globalize.culture().calendar.patterns.t;e=String(e).replace("t","A").replace("t","");var a=new Date(moment(String(t)).year(),moment(String(t)).month(),moment(String(t)).date(),moment(String(t)).hours(),moment(String(t)).minutes());return moment(a,"YYYY-MM-DD HH:mm:ss").format(String(Globalize.culture().calendar.patterns.d).toUpperCase()+" "+String(e))}catch(i){e=Globalize.culture().calendar.patterns.t;return e=String(e).replace("t","a").replace("t",""),moment(String(t)).format(String(Globalize.culture().calendar.patterns.d).toUpperCase()+" "+String(e))}},loadData:function(t,e){var a=this;a.DisableButton(),"notes"==t?(a.isNotes=!0,a.activeKey=2,e&&"savenote"==e&&(a.isShowNotePopup=!1)):"attachments"==t?(a.isAttachment=!0,a.activeKey=3):"activities"==t&&(a.isActivities=!0,a.activeKey=4),""!=t&&null!=t&&("attachments"==t?n["a"].AttachmentListing(a.ApiURL).then((function(t){null!=t.data?(a.attachmentData=t.data.data,setTimeout(a.CheckBoxBootstrap(),100),a.noRecordForTab=!1):a.noRecordForTab=!0})):"notes"==t?(a.noteData=[],n["a"].NoteListing(a.ApiURL).then((function(t){null!=t.data&&t.data.data.length>0?(a.noteData=t.data.data,setTimeout(a.CheckBoxBootstrap(),100),a.noRecordForTab=!1):a.noRecordForTab=!0}))):"activities"==t?n["a"].ActivityListing(a.ApiURL).then((function(t){null!=t.data&&t.data.data.length>0?(a.activitiesData=t.data.data,setTimeout(a.CheckBoxBootstrap(),100),setTimeout(a.ResponsiveDataTable("table-openactivities-content"),500),a.noRecordForTab=!1):a.noRecordForTab=!0})):"products"==t?(n["a"].GetGoodInwardAssociatedProducts(a.ApiURL).then((function(t){null!=t.data&&t.data.data.length>0?(a.productData=t.data.data,setTimeout(a.CheckBoxBootstrap(),100),setTimeout(a.ResponsiveDataTable("table-product-content"),500),a.noRecordForTab=!1):(a.noRecordForTab=!0,a.productData=null)})),a.activeKey=5):"timeline"==t&&(n["a"].TimelineListing(a.ApiURL).then((function(t){if(null!=t.data&&""!=t.data){a.timelinedata=[];var e=t.data.data,i="";_.a.each(e,_.a.proxy((function(t,s){i=a.$options.filters.formatDate(s.Complete_datetime);var o=_.a.grep(a.timelinedata,(function(t,e){return t.groupKey==i}));if(0==o.length){var n=_.a.grep(e,(function(t,e){return a.$options.filters.formatDate(t.Complete_datetime)==i}));if(n.length>0){var l={groupKey:i,groupData:n};a.timelinedata.push(l),window.location.reload()}}}),a)),setTimeout(a.CheckBoxBootstrap(),100),a.noRecordForTab=!1}else a.noRecordForTab=!0,window.location.reload()})),a.activeKey=1))}}},g=b,C=a("2877"),w=Object(C["a"])(g,i,s,!1,null,null,null);e["default"]=w.exports},3731:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"listing mt-2"},[a("loader",{attrs:{"is-visible":t.isLoading}}),t.NoRecordForTab?a("div",{staticClass:"text-center text-danger p-4 border"},[t._v(t._s(t.$t("NoRecordfound")))]):t._e(),a("div",{staticClass:"row custom-box-width"},t._l(t.AttachmentData,(function(e,i){return a("div",{key:i,staticClass:"col-xl-2 col-lg-4 col-md-6"},[a("div",{staticClass:"box border pt-4 text-center"},[a("div",{staticClass:"verticle-action"},[a("em",{staticClass:"fa fa-ellipsis-v action_icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.openActionIcon(e)}}}),a("span",{staticClass:"action-list-box",staticStyle:{width:"240px",display:"none"}},[a("span",{staticClass:"list-actions",staticStyle:{"padding-left":"0"},attrs:{id:"action-list"}},[a("a",{staticClass:"actions-onclick edit-list",attrs:{"data-toggle":"modal",href:"javascript:void(0)"},on:{click:function(a){return t.downloadAttachment(e)}}},[a("em",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}}),a("br"),t._v("Download")]),"fa-file-image-o"==t.returntFileIconClass(e)?a("a",{staticClass:"actions-onclick view-list",attrs:{href:e.attachement_path,target:"_blank"}},[a("em",{staticClass:"fa fa-eye"}),a("br"),t._v("View")]):t._e(),a("a",{staticClass:"actions-onclick view-list",on:{click:function(a){return t.deleteAttachment(e)}}},[a("em",{staticClass:"fa fa-trash"}),a("br"),t._v("Delete")]),a("em",{staticClass:"fa fa-times close close-action",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.closeActionIcon(e)}}})])])]),a("div",{class:{"img-ico text-center p-5 file-image doc-icon":null==e.thumb_nail_path||""==e.thumb_nail_path,"img-ico fix145 text-center pb-4 file-image doc-icon pt-3":null!=e.thumb_nail_path&&""!=e.thumb_nail_path}},[null!=e.thumb_nail_path&&""!=e.thumb_nail_path?a("img",{attrs:{src:e.thumb_nail_path,alt:"",loading:"'lazy'"}}):t._e(),null==e.thumb_nail_path||""==e.thumb_nail_path?a("em",{class:"fa "+t.returntFileIconClass(e)}):t._e()]),a("hr",{staticClass:"mb-0"}),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"row mx-0 my-2"},[a("div",{staticClass:"col-md-12 text-left text-truncate font-14 mb-2 font-weight-bold",attrs:{title:e.attachement_name+"."+JSON.parse(e.attachement_mime).Extension}},[t._v(t._s(e.attachement_name+"."+JSON.parse(e.attachement_mime).Extension))]),a("div",{staticClass:"col-md-5 font-14 align-self-center text-left pr-0"},[a("span",[t._v(t._s(t.bytesToSize(JSON.parse(e.attachement_mime).Size)))])]),a("div",{staticClass:"col-md-7 text-right pl-0 text-truncate"},[a("small",[t._v(t._s(t._f("formatDateTime")(e.created_at)))])])])])])})),0)],1)},s=[],o=(a("7db0"),a("d3b7"),a("25f0"),a("99af"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("1157")),n=a.n(o),l=a("9769"),c={props:{attachmentdata:null,sourceid:{type:String}},data:function(){return{isLoading:!1,AttachmentData:[],NoRecordForTab:!0,LeadStatus:this.$parent.LeadStatus,showAttachmentModal:!1,imageUrl:""}},watch:{attachmentdata:function(t){var e=n()("#hdnLoggedInUserId").val();n.a.each(t,(function(t,a){a.created_by==e?a.IsDelete=!0:a.IsDelete=!1})),this.AttachmentData=t,this.NoRecordForTab=!(null!=this.AttachmentData&&this.AttachmentData.length>0),setTimeout((function(){n()(".action_icon").click((function(){n()(this).parent().find(".action-list-box").show(500)})),n()(".close-action").click((function(){n()(this).parent().parent(".action-list-box").hide(500)}))}),1e3)}},methods:{openActionIcon:function(t){t.target.nextSibling.removeAttribute("style"),t.target.nextSibling.setAttribute("style","width:240px;"),t.target.nextSibling.style.display="block"},closeActionIcon:function(t){t.target.nextSibling.style.display="none"},StrTruncate:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return StrTruncate(t,25)})),returntFileIconClass:function(t){var e=["JPG","JPEG","BMP","GIF","PNG"],a=JSON.parse(t.attachement_mime),i=a.Extension.toUpperCase();return"COMPRESSEDFILES"==i||"ZIP"==i||"RAR"==i?"fa-file-archive-o":"XLS"==i||"XLSX"==i||"DATAFILES"==i?"fa-file-excel-o":"PPT"==i?"fa-file-powerpoint-o":"PDF"==i?"fa-file-pdf-o":"DOC"==i||"DOCX"==i?"fa-file-word-o":"TXT"==i?"fa-file-text-o":e.indexOf(i)>-1?"fa-file-image-o":"fa-file-o"},bytesToSize:function(t){var e=["Bytes","KB","MB","GB","TB"];if(0==t)return"0 Byte";var a=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,a),2)+" "+e[a]},downloadAttachment:function(t){this.isLoading=!0;var e=this,a="fileId=".concat(t.attachement_id,"&filePath=").concat(t.blob_path,"&fileType=").concat(JSON.parse(t.attachement_mime).ContentType,"&fileName=").concat(t.attachement_name+"."+JSON.parse(t.attachement_mime).Extension,"&downloadType=single");l["a"].CRMDownloadFile(a).then((function(a){e.isLoading=!1;var i=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=i,s.setAttribute("download",t.attachement_name+"."+JSON.parse(t.attachement_mime).Extension),document.body.appendChild(s),s.click()}))},deleteAttachment:function(t){var e=this;e.confirmR(this.$t("ConfirmDelete"),!0,this.$t("Delete")+"  "+this.$t("Attachment"),(function(){e.isLoading=!0;var a=t.attachement_id,i=parseInt(e.sourceid),s="id="+a+"&sourceid="+i;l["a"].DeleteAttachment(s).then((function(t){e.isLoading=!1,"SUCCESS"==t.data&&(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Attachment")]),"success",!0,e.$t("Alert")),e.$parent.loadData("attachments"))}))}))}}},r=c,d=a("2877"),u=Object(d["a"])(r,i,s,!1,null,null,null);e["a"]=u.exports},"8d3e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("DeployItems")))])]})),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"d-flex flex-wrap"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Location"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"row"},[a("input",{attrs:{type:"hidden",id:"hdnCompantLocationSelect"}}),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left",attrs:{id:"divmultilevelselect1"},on:{click:function(e){return t.OnChangeLocation()}}}),t.validatelocation?a("small",{staticClass:"float-left text-danger col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left font-weight-light"},[t._v("Please select the Location")]):t._e()])])])]),a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success formbtn text-white mr-1",attrs:{href:"javascript:;"},on:{click:function(e){return t.saveDeployItems()}}},[a("em",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),a("a",{staticClass:"btn btn-danger  delete-btn formbtn widthhalf text-white",on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])])])])])])])])])],1)},s=[],o=(a("7db0"),a("d3b7"),a("9769")),n={data:function(){return{isLoading:!1,CompantLocationSelect:null,validatelocation:!1}},created:function(){this.isLoading=!0,this.GetLocationByCompanyId()},methods:{GetLocationByCompanyId:function(){var t=this;o["a"].GetMultiLocationByCompanyId("").then((function(e){if(t.isLoading=!1,null!=e.data.list){$("#divmultilevelselect1").show();try{$("#divmultilevelselect1").RMultiLevelSelect({chartElement:"#divmultilevelselect1",chartClass:"treeheight",data:e.data.list,id:"CompantLocationSelect",wrap:!1,close:function(){var e=$("#LocationId").val(),a=$("#hdnCompantLocationSelect").val();""==$("#hdnCompantLocationSelect").val()||"0"==$("#hdnCompantLocationSelect").val()?$("span[data-valmsg-for='CompnayLocation']").addClass("invalid-feedback").html(String.Format(t.$t("Required"),t.$t("Location"))):$("span[data-valmsg-for='CompnayLocation']").removeClass("invalid-feedback").html(""),e==a&&(alert(t.$t("ParentLocationNotSame")),$("#divmultilevelselect1").find("a.CompantLocationSelectdd-selected").removeAttr("style").html("Select"))}}),$("#divmultilevelselect1").show()}catch(a){}}else ShowMsgWithMsg(jsondata.msg,"failure"),$("#divmultilevelselect1").hide()}))},saveDeployItems:function(){this.CompantLocationSelect=$("#hdnCompantLocationSelect").val(),null!=this.CompantLocationSelect&&""!=this.CompantLocationSelect?(this.validatelocation=!1,$(".CompantLocationSelectdd-container").find("div.btn").removeClass("form-control is-invalid"),this.$parent.commonApprove(CompantLocationSelect.value),this.$parent.showDeployModal=!1):(this.validatelocation=!0,$(".CompantLocationSelectdd-container").find("div.btn").addClass("form-control is-invalid"),$(".CompantLocationSelectselected").removeClass("w-80"))},OnChangeLocation:function(){var t=this;t.isLoading=!0,setTimeout((function(){$("#divmultilevelselect1").find("ul#CompantLocationSelect").css("display","block"),t.CompantLocationSelect=$("#hdnCompantLocationSelect").val(),null!=t.CompantLocationSelect&&""!=t.CompantLocationSelect&&($("#divmultilevelselect1").find("ul#CompantLocationSelect").css("display","none"),t.validatelocation=!1,$(".CompantLocationSelectdd-container").find("div.btn").removeClass("form-control is-invalid")),t.isLoading=!1}),300)}}},l=n,c=a("2877"),r=Object(c["a"])(l,i,s,!1,null,null,null);e["a"]=r.exports},"9dbd":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("headerForModal",(function(){return[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Attachments")))])]})),a("button",{staticClass:"close",attrs:{type:"button",href:"javascript:;"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times"})])],2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row form-head",staticStyle:{display:"none"}},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 col-xl-4 float-right p-0"},[a("div",{staticClass:"userguide-box userguide_curve"},[a("a",{staticClass:"userguide-btn collapsed",attrs:{"data-toggle":"collapse",href:"#user-guidepriority","aria-expanded":"false","aria-controls":"search-content"}},[a("em",{staticClass:"fa"}),a("span",[t._v(t._s(t.$t("GuideForUser")))])]),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"user-guide collapse",attrs:{id:"user-guidepriority"}},[t._v(" "+t._s(t.$t("GuideForUser"))+" "),a("br"),a("br")])])])])]),a("Form",{ref:"attachment"},[a("div",{staticClass:"form-content"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 col-xl-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("DisplayName"))+":")]),a("span",{staticClass:"text-danger"},[t._v("*")]),a("Field",{attrs:{name:"Name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.DisplayName,expression:"DisplayName"}],staticClass:"form-control",class:{"form-control":!0,"is-invalid":i[0]},attrs:{type:"text",maxlength:"50",id:"DisplayName",name:"DisplayName"},domProps:{value:t.DisplayName},on:{keyup:function(e){return t.CheckAttach(t.DisplayName)},input:function(e){e.target.composing||(t.DisplayName=e.target.value)}}}),i[0]?a("span",{staticClass:"invalid-feedback",attrs:{name:"DisplayName"}},[t._v(t._s(i[0]))]):t._e()]}}])})],1)]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 col-xl-6",attrs:{id:"attach"}},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Attachment"))+":")]),a("span",{staticClass:"text-danger"},[t._v("*")]),void 0!=t.imagesizedata&&t.imagesizedata.length>0?a("a",{directives:[{name:"popover",rawName:"v-popover:tooltip",value:t.imagesizedata,expression:"imagesizedata",arg:"tooltip"}],attrs:{href:"javascript:;","data-toggle":"popoveruserguide"}},[a("em",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14p  x"}})]):t._e(),a("div",{staticClass:"custom-file"},[a("Field",{ref:"provider",attrs:{name:"File",rules:{required:!1}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("input",{class:{"form-control":!0,"is-invalid":i[0]||1==t.isFileValidation},attrs:{type:"file",name:"FileSrc",id:"inputAttach"},on:{change:t.GetBase64String,click:function(e){return t.onClickFile(e)}}}),1==t.isFileValidation?a("span",{staticClass:"invalid-feedback d-block"},[t._v("The Attachment is required")]):i[0]?a("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(i[0]))]):t._e()]}}])})],1)])])])])])])],1),a("div",{staticClass:"modal-footer text-right"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"search-btm-btn"},[a("a",{staticClass:"btn btn-success  save-btn mr-2",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.SaveAttachment()}}},[a("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times pr-1"}),t._v(" "+t._s(t.$t("Cancel"))+" ")])])])])])])])],1)},s=[],o=(a("a9e3"),a("313d"),a("0eb6"),a("b7ef"),a("8bd4"),a("b0c0"),a("a15b"),a("ac1f"),a("1276"),a("caad"),a("2532"),a("e9c4"),a("9769")),n=a("1157"),l=a.n(n),c={props:{userid:{type:Number,required:!0},companyid:{type:Number,required:!0},id:{type:String,required:!0},modulename:{type:String,required:!0},submodulecode:{type:String,required:!0},containername:{type:String,required:!0},maxsize:{type:String},disallowedfiletypes:{type:String},imagesizedata:{type:String}},data:function(){return{isFileValidation:!1,fileData:[],DisplayName:"",FileName:"",btnDisable:!1,isLoading:!1}},methods:{checkForDisplayName:function(t){this.DisplayName||t.preventDefault()},CheckAttach:function(t){""!=t?(this.btnDisable=!0,this.fileData.fileName=t):this.btnDisable=!1},GetBase64String:function(t){var e=this;e.fileData=[];var a=t.target.files[0],i=new FileReader;i.onload=function(t){return function(t){var i=t.target.result,s=window.btoa(i),o=a.name,n=o.lastIndexOf("."),l=o.substring(n+1,o.length),c='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+l+'"}';""==e.DisplayName?(o=a.name,e.FileName=a.name):(o=e.DisplayName,e.FileName=a.name);var r=["doc","docx","jpg","pdf","csv","png","xls","txt","jpeg","jfif","pjpeg","svg","pjp"];if(o.length>0&&-1===r.indexOf(l))return e.ShowAlert("Invalid file Format. Only "+r.join(", ")+" are allowed."),!1;var d={attachement_mime:c,fileName:o,userId:e.userid,companyId:e.companyid,id:e.id,moduleName:e.modulename,subModuleCode:e.submodulecode,containerName:e.containername,base64String:s};e.fileData.push(d),e.isFileValidation=!1}}(),i.readAsBinaryString(a)},byteToSize:function(t){return 0==t?"0 Byte":t/Math.pow(1024,2)},onClickFile:function(){var t=document.getElementById("inputAttach"),e=t.files;0==e.length?this.isFileValidation=!0:this.isFileValidation=!1},SaveAttachment:function(){var t=this,e=this,a=0,i="";this.onClickFile(),""!=l()("#inputAttach").val()&&(a=e.byteToSize(JSON.parse(e.fileData[0].attachement_mime).Size),i=JSON.parse(e.fileData[0].attachement_mime).Extension);var s=parseFloat(e.maxsize)||0;if(a>s&&0!=s)return e.ShowAlert("Size exceeds than "+s+" MB. Please upload file with valid size.","warning",!0,e.$t("Alert")),!1;var n=void 0!=e.disallowedfiletypes?e.disallowedfiletypes.split(","):"",c="."+i;if(n.includes(c))return e.ShowAlert(e.$t("InvalidFileUploadMsg"),"warning",!0,e.$t("Alert")),!1;e.$refs.attachment.validate().then((function(a){if(a&&0==t.isFileValidation){e.isLoading=!0;var i=JSON.stringify(e.fileData);n.includes(c)?e.ShowAlert(e.$t("InvalidFileUploadMsg")):o["a"].UploadFile(i).then((function(t){e.isLoading=!1,"Success"==t.data[0].Status?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("Attachment")]),"Success",!0,e.$t("Alert")),e.$emit("close"),e.$parent.loadData("attachments")):"Exist"==t.data[0].Status?e.ShowAlert(e.$t("FileNameAlreadyExist",[e.$t("Attachment")]),"warning",!0,e.$t("Alert")):e.ShowAlert(e.$t("ValidFileType",[e.$t("Attachment")]),"failure",!0,e.$t("Alert"))}))}else console.log(t.$refs.attachment.errors)}))}}},r=c,d=a("2877"),u=Object(d["a"])(r,i,s,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=Inward Details.js.map