(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Dashboard"],{"0565":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".custom-chart-div.Barchrt .reportBlock{transform:none}",""]),t.exports=e},"0848":function(t,e,a){"use strict";a.r(e);var s,i,o,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("section",{staticClass:"page-action"},[a("div",{staticClass:"container-fluid px-0"},[a("div",{staticClass:"row"},[a("input",{attrs:{type:"hidden",value:"@titleName",id:"hdnModuleName"}}),a("div",{staticClass:"col-md-12 padding-t_8"},[a("div",{staticClass:"theme-primary partition partition-full p-actions-expand before-d-none overflow-visible"},[a("span",{staticClass:"p-name text-white"},[t._v(t._s(t.titleName+" "+t.$t("dashboard")))]),a("span",{staticClass:"p-actions  float-right"},[a("a",{staticClass:"p-action-btn text-white link",attrs:{href:"javascript:;"},on:{click:function(e){return t.MyViews()}}},[a("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),a("br"),t._v(" "+t._s(t.$t("My"))+" "+t._s(t.$t("View")))]),a("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",id:"teamview"},on:{click:function(e){return t.TeamView()}}},[a("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),a("br"),t._v(t._s(t.$t("Team"))+" "+t._s(t.$t("View")))]),t._m(0),a("div",{class:{"dropdown p-action-btn text-white":!0,show:t.MenuButton},attrs:{id:"ddlChangeView"}},[a("a",{staticClass:"text-white dropdown-toggle d-inline-block",attrs:{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(e){return t.showDropDowMenu()}}},[a("i",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"}}),a("br"),a("span",{staticClass:"spnChangeView"},[t._v(t._s(t.$t("Select"))+" "+t._s(t.$t("View")))])]),a("div",{class:{"dropdown-menu":!0,show:t.MenuButton},style:{"position: absolute; transform: translate3d(1882px, 45px, 0px); top: 0px; left: 0px; will-change: transform;":t.MenuButton},attrs:{"aria-labelledby":"dropdownMenuButton"}},[a("a",{staticClass:"dropdown-item",attrs:{"data-value":"B",href:"javascript:;"}},[t._v(t._s(t.$t("ALL")))]),a("a",{staticClass:"dropdown-item",attrs:{"data-value":"R",href:"javascript:;"}},[t._v(t._s(t.$t("Reports")))]),a("a",{staticClass:"dropdown-item",attrs:{"data-value":"T",href:"javascript:;"}},[t._v(t._s(t.$t("ToDoList")))])])])]),t._m(1)])])])]),a("input",{attrs:{type:"hidden",value:"dashboard",id:"hdnpagename"}})]),a("section",{staticClass:"main-content nd-combo-view"},[a("div",{staticClass:"container-fluid padding-t_10 px-0",attrs:{id:"parentPageDiv"}},[a("div",{staticClass:"col-md-12 p-0"},[a("CountList",{ref:"countList",attrs:{moduleName:t.moduleName}}),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"col-lg-12 p-0",attrs:{id:"divToDoListSort"}},[a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-5",attrs:{id:"divToDoList"}},[a("div",{staticClass:"heading-border",staticStyle:{"z-index":"9"}},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.titleName+" "+t.$t("ToDoList")))])])]),a("div",{attrs:{id:"toDoListing"}},[t.encCompanyId?a("ToDoList",{ref:"todolist",attrs:{moduleName:t.moduleName,encCompanyId:t.encCompanyId,encUserId:t.encUserId,encTrackId:t.encTrackId},on:{"fetch-count-list":t.FetchCountListData}}):t._e()],1)]),a("div",{staticClass:"col-md-7 mt-4 mt-lg-0",attrs:{id:"divReportsdata"}},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.titleName+" "+t.$t("Reports")))])])]),a("div",{staticClass:"nd-repoort-filter"},[a("span",{staticClass:"p-actions float-right"},[a("date-range",{attrs:{pgaction:"global"},on:{"set-date":t.SetDateRange}})],1)]),a("div",{staticClass:"dashbord-graph-widget row bg-lgray border m-0 py-3 with-combo scrollbarmini",attrs:{id:"Reports"}},[t.widgets&&t.widgets.length>0&&t.fromDate?a("WidgetReport",{ref:"widget",attrs:{widgets:t.widgets,moduleName:t.moduleName,viewType:t.viewType,fromDate:t.fromDate,toDate:t.toDate},on:{"reload-report":t.GetReports}}):t._e()],1),a("div",{staticClass:"clearfix"})]),a("div",{staticClass:"col-md-12 mt-3",attrs:{id:"divAddMoreReports"}},[a("div",{staticClass:"text-right mt-1"},[a("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",id:"hlkAddMoreReports"},on:{click:t.OnAddMore}},[a("i",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("AddMore")))])])])])]),a("div",{staticClass:"col-xl-12 p-0",staticStyle:{display:"none"},attrs:{id:"divToDoListMain"}})],1)]),t._m(2)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"p-action-btn text-white d-none",attrs:{id:"ancChangeView","data-isshow":"0"}},[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),a("br"),t._v("Change View")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"collapse-head-btns"},[a("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-popups view-popup"},[a("div",{staticClass:"modal fade",attrs:{id:"myModal"}},[a("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("Change View")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body p-0"},[a("div",{staticClass:"row m-0"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-7 col-xl-7 float-left d-none"},[a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pr-1 pl-0"},[a("div",{staticClass:"form-group m-0"},[a("input",{staticClass:"form-control",attrs:{id:"search",type:"text",placeholder:"Search",autocomplete:"off"}})])]),a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pl-0"},[a("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[a("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"Go",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[a("i",{staticClass:"fa fa-refresh"})])])])]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-5 col-xl-5 float-left d-none"},[a("div",{staticClass:"float-right"},[a("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-plus pr-2",attrs:{"aria-hidden":"true"}}),t._v("Add")])])])]),a("ul",{staticClass:"shortcuts-menu pb-3 "},[a("li",{},[a("a",{staticClass:"short-menu-item",attrs:{href:"/Project/ToDoList?&projectId=&type=kanban",target:"_blank"}},[a("span",{staticClass:"left-icon-m"},[a("i",{staticClass:"fa fa-th",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("span",{staticClass:"short-item-name"},[t._v("Kanban View")])])]),a("li",{staticClass:"d-none"},[a("a",{staticClass:"short-menu-item",attrs:{href:"New-dashboard-combo-view.html"}},[a("span",{staticClass:"left-icon-m"},[a("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("span",{staticClass:"short-item-name"},[t._v("Show By Employees")])])])])])])])])])}],l=(a("7db0"),a("d3b7"),a("9769")),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100"},[a("div",{staticClass:"w-100 float-left",attrs:{id:"divshowTicketList"}},[a("div",{attrs:{id:"divReports"}},[1==t.showReports?a("reports",{attrs:{moduleName:t.moduleName},on:{close:t.OnCloseReport}}):t._e()],1)]),a("div",{staticClass:"tab-pane fade show active border-0 p-0",attrs:{id:"dashboard",role:"tabpanel","aria-labelledby":"dashboard-tab"}},[a("div",{staticClass:"clearfix"}),a("div",{staticClass:"dashbord-graph-widget row ml-0 mr-0 padding-t_10 usercustomwidth",attrs:{id:"divInboxSibling"}},t._l(t.widgets,(function(e,s){return a("div",{key:s,class:{"graph-widget align-self-stretch ticketingDashboardHead reportcontainer mb-2":!0,"col-md-6":"R"==t.viewType},attrs:{"data-id":e.reporT_ID,daction:e.action,dctrl:e.controller}},[e.isselected?a("div",{staticClass:"dashboard-boxes graph-widget-box bg-white"},[a("div",{staticClass:"graph-widget-heading float-left w-100"},[a("span",{staticClass:"text-truncate float-left w-75"},[t._v(t._s(t.$t(e.reporT_HEADING)))]),a("div",{staticClass:"mw-50 float-right"},[a("a",{staticClass:"hlkDeleteReport float-right",attrs:{reportid:e.reporT_ID,href:"javascript:;",title:"Remove"},on:{click:function(a){return t.onRemoveReport(a,e.reporT_ID)}}},[t._m(0,!0)]),a("a",{staticClass:"zoomin rptexpand ancdashboard float-right",attrs:{href:"javascript:;","data-id":e.reporT_ID},on:{click:function(a){return t.onZoomInZoomOut(e.reporT_ID)}}},[t._m(1,!0)])])]),a("div",{class:{"raph-widget-content bg-white float-left w-100":!0,"d-flex  align-content-center justify-content-center":"pie"==e.charT_TYPE||"donut"==e.charT_TYPE||"bar"==e.charT_TYPE},attrs:{action:e.action,controller:e.controller}},["widget"==e.widgeT_TYPE&&"bar"==e.charT_TYPE?a("bar-chart",{attrs:{moduleName:t.moduleName,widgetInfo:e,fromDate:t.fromDate,toDate:t.toDate}}):t._e()],1)]):t._e()])})),0),a("div",{staticClass:"clearfix"})])])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon_close"},[a("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon_expand"},[a("i",{staticClass:"fa fa-expand"})])}],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Barchrt text-center",attrs:{id:"BarChart_"+t.moduleName+"_"+t.widgetInfo.action}},[a("div",{class:{"bar d-inline-block mt-2 reportBlock  align-center c3 w-100":t.BarWidgetData.length>0,"bar d-inline-block mt-2 align-center c3 w-100":0==t.BarWidgetData.length},style:{"width:60%; float:left; text-align:center;":t.BarWidgetData.length>0,"width:100%;text-align:center;":0==t.BarWidgetData.length},attrs:{controller:t.moduleName,id:"div_BarChart_"+t.widgetInfo.action}},[a("span",{staticClass:"text-danger no-record"},[t._v(t._s(t.$t("NoRecordfound")))])])])},m=[],p=(a("99af"),a("d81d"),{props:{widgetInfo:null,moduleName:null,fromDate:null,toDate:null},data:function(){return{BarWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:function(){this.FetchData()},methods:{FetchData:function(){var t=this,e="moduleName=".concat(t.moduleName,"&reportName=").concat(t.widgetInfo.action,"&fromDate=").concat(t.fromDate,"&toDate=").concat(t.toDate,"&usersDash=");l["a"].GetDashboardData(e).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&("table"==t.widgetInfo.charT_TYPE&&null!=e.data.result&&(t.HeaderData=e.data.result.headers),null!=e.data.result&&(t.BarWidgetData=e.data.result.data,t.bindWidget(t)))}))},ResizeReportWidget:function(t,e){var a="#div_BarChart_"+e,s=$(a).data("c3-chart");s.revert(),"1"==t?s.resize({height:200,width:400}):$(window).width()<=1280&&$(window).height()<=1024?s.resize({height:200,width:300}):s.resize({height:300,width:800})},bindWidget:function(t){if("bar"==t.widgetInfo.charT_TYPE&&t.BarWidgetData.length>0){var e=[],a="bar";$.each(t.BarWidgetData,(function(t,a){e.push([a.NAME,a.VALUE])}));var s="",i="",o=200;$(window).width()<=1440&&(o=120,120),"ProjectsStatusWise"==t.widgetInfo.action?(s=t.$t("Status"),i=t.$t("Projects")):"Lead_By_Status"==t.widgetInfo.action?(s=t.$t("Status"),i=t.$t("Leads")):(s=t.$t("User"),i=t.$t("Tickets"));var n="#div_BarChart_"+t.widgetInfo.action,r=[];r.push({name:"Active",url:"/Project/Index?searchCondition=PR.STATUS_ID in(1001)"}),r.push({name:"Active",url:"/Project/Index?searchCondition=PR.STATUS_ID in(1001)"});var l=c3.generate({bindto:n,data:{columns:e,type:a,empty:{label:{position:"right",text:t.$t("NoRecordfound")}},onclick:function(t){"CRM"==moduleName?window.open("javascript:;"):window.open("/Project/Index?searchCondition=PR.STATUS_ID in(1001)","_blank")}},bar:{space:.15,width:{ratio:e.length>4?.5:.3}},size:{height:o},legend:{position:"right"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[s],type:"category"},y:{label:{text:i,position:"outer-center"},padding:{top:20}}}});$(n).data("c3-chart",l),d3.select(".containerLegendDue").insert("div",".chart").attr("class","legend").selectAll("div").data(e.map((function(t){return t[0]}))).enter().append("div").attr("data-id",(function(t){return t})).html((function(t){return t})).each((function(t){d3.select(this).append("span").style("background-color",l.color(t))})).on("mouseover",(function(t){l.focus(t)})).on("mouseout",(function(t){l.revert()})).on("click",(function(t){l.toggle(t)}))}}}}),h=p,v=(a("7724"),a("2877")),f=Object(v["a"])(h,u,m,!1,null,null,null),g=f.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height piechrt text-center",attrs:{id:"pieDiv_"+t.moduleName+"_"+t.widgetInfo.action}},[a("div",{class:{"d-inline-block mt-2 reportBlock  align-center c3 w-60":t.PieWidgetData.length>0,"d-inline-block mt-2 align-center c3 w-60":0==t.PieWidgetData.length},style:{"width:60%; float:left; text-align:center;":t.PieWidgetData.length>0,"width:100%;text-align:center;":0==t.PieWidgetData.length},attrs:{controller:t.moduleName,id:"div_WidgetChart_"+t.widgetInfo.action}},[a("span",{staticClass:"text-danger no-record"},[t._v(t._s(t.$t("NoRecordfound")))])])])},C=[],_={props:{widgetInfo:null,moduleName:null,fromDate:null,toDate:null},data:function(){return{PieWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:function(){this.FetchData()},methods:{FetchData:function(){var t=this,e="moduleName=".concat(t.moduleName,"&reportName=").concat(t.widgetInfo.action,"&fromDate=").concat(t.fromDate,"&toDate=").concat(t.toDate,"&usersDash=");l["a"].GetDashboardData(e).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&("table"==t.widgetInfo.charT_TYPE&&null!=e.data.result&&(t.HeaderData=e.data.result.headers),null!=e.data.result&&(t.PieWidgetData=e.data.result.data,t.bindWidget(t)))}))},ResizeReportWidget:function(t,e){var a="#div_BarChart_"+e,s=$(a).data("c3-chart");s.revert(),"1"==t?s.resize({height:200,width:400}):$(window).width()<=1280&&$(window).height()<=1024?s.resize({height:200,width:300}):s.resize({height:300,width:800})},bindWidget:function(t){if("bar"==t.widgetInfo.charT_TYPE&&t.PieWidgetData.length>0){var e=[],a="bar";$.each(t.PieWidgetData,(function(t,a){e.push([a.NAME,a.VALUE])}));var s="",i="",o=200;$(window).width()<=1440&&(o=120,120),"ProjectsStatusWise"==t.widgetInfo.action?(s=t.$t("Status"),i=t.$t("Projects")):"Lead_By_Status"==t.widgetInfo.action?(s=t.$t("Status"),i=t.$t("Leads")):(s=t.$t("User"),i=t.$t("Tickets"));var n="#div_BarChart_"+t.widgetInfo.action,r=[];r.push({name:"Active",url:"/Project/Index?searchCondition=PR.STATUS_ID in(1001)"}),r.push({name:"Active",url:"/Project/Index?searchCondition=PR.STATUS_ID in(1001)"});var l=c3.generate({bindto:n,data:{columns:e,type:a,empty:{label:{position:"right",text:t.$t("NoRecordfound")}},onclick:function(t){"CRM"==moduleName?window.open("javascript:;"):window.open("/Project/Index?searchCondition=PR.STATUS_ID in(1001)","_blank")}},bar:{space:.15,width:{ratio:e.length>4?.5:.3}},size:{height:o},legend:{position:"right"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[s],type:"category"},y:{label:{text:i,position:"outer-center"},padding:{top:20}}}});$(n).data("c3-chart",l),d3.select(".containerLegendDue").insert("div",".chart").attr("class","legend").selectAll("div").data(e.map((function(t){return t[0]}))).enter().append("div").attr("data-id",(function(t){return t})).html((function(t){return t})).each((function(t){d3.select(this).append("span").style("background-color",l.color(t))})).on("mouseover",(function(t){l.focus(t)})).on("mouseout",(function(t){l.revert()})).on("click",(function(t){l.toggle(t)}))}}}},S=_,D=(a("1e56"),Object(v["a"])(S,T,C,!1,null,null,null)),b=D.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",{staticClass:"modal-title"},[t._v("Reports")])]})),a("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times"})])],2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt-2 mb-3 p-0"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("DashboardReportsPopupHeading")))])])])]),a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"reportsTable"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[a("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),a("th",[t._v(t._s(t.$t("Report")))]),a("th",[t._v(t._s(t.$t("Description")))])])]),a("tbody",[0==t.widgets.length?a("tr",[a("td",{staticClass:"text-center text-middle text-danger no-record",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]):t._e(),t._l(t.widgets,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-center"},[1==e.isselected?a("input",{staticClass:"chkItems",attrs:{checked:"checked","data-change-id":"no",type:"checkbox",id:e.reporT_ID,"data-moduleName":e.controller}}):a("input",{staticClass:"chkItems",attrs:{type:"checkbox","data-change-id":"no",id:e.reporT_ID}})]),a("td",[t._v(t._s(t.GetReportName(e)))]),a("td",[t._v(t._s(e.reporT_DESCRIPTION))])])}))],2)])])])]),a("div",{staticClass:"modal-footer",staticStyle:{"flex-wrap":"inherit"},attrs:{"aria-required":"false"}},[a("button",{staticClass:"popupgreenbtn btn btn-success",attrs:{type:"button",title:"Save","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveReportPreferences}},[t._v("Save")]),a("button",{staticClass:"popupredbtn btn btn-danger",attrs:{type:"button",title:"Close","data-toggle-tooltip":"tooltip","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("Close")])])])])],1)},w=[],I=(a("fb6a"),{props:{moduleName:null},data:function(){return{isLoading:!1,widgets:[]}},created:function(){this.OnLoadReports()},mounted:function(){var t=this;setTimeout((function(){t.CheckBoxBootstrap(),t.ResponsiveDataTable("reportsTable")}),500)},methods:{OnLoadReports:function(){var t=this;t.isLoading=!0,l["a"].GetReports("moduleName="+t.moduleName).then((function(e){t.isLoading=!1,t.widgets=e.data.list}))},onChange:function(){},GetReportName:function(t){var e=this.$t(t.reporT_HEADING);return e||(e=t.reporT_HEADING),e},SaveReportPreferences:function(t,e){var a=this,s=$("#divReports input.chkItems:checked");if(s.length<2)a.ShowAlert(a.$t("CustomReportErrorMessage",[a.$t("Report")]),"failure",!0,a.$t("Alert"));else if(s.length>8)a.ShowAlert(a.$t("DashboardReportsMaxLimit",[a.$t("Report")]),"failure",!0,a.$t("Alert"));else{t="";for(var i=0;i<s.length;i++)t+=$(s[i]).attr("id")+",";t=t.slice(0,-1),a.isLoading=!0;var o="reportIds=".concat(t,"&moduleName=").concat(a.moduleName);l["a"].ReportsSave(o).then((function(t){a.isLoading=!1,1==t.data?a.$emit("close"):2==data?a.ShowAlert(a.$t("DashboardReportsMaxLimit"),"failure",!0,a.$t("Alert")):a.ShowAlert(a.$t("InsertUpdateError"),"failure",!0,a.$t("Alert"))}))}}}}),P=I,k=Object(v["a"])(P,y,w,!1,null,null,null),A=k.exports,x={components:{BarChart:g,PieChart:b,Reports:A},props:{widgets:null,viewType:null,moduleName:null,fromDate:null,toDate:null},data:function(){return{isLoading:!1,showReports:!1}},created:function(){},methods:{OnCloseReport:function(){this.showReports=!1,this.$emit("reload-report")},onRemoveReport:function(t,e){var a=this;t.stopImmediatePropagation();var s=$("div.reportcontainer");if(s.length<=2)a.ShowAlert(a.$t("AtleastTwoReport"),"warning",!0,a.$t("Alert"));else{var i=a.$t("RemoveReportWarning"),o=a.$t("Report"),n=$(this).parents("div.reportcontainer");a.confirmR(i,!0,o,(function(){a.removeReport(a,e,n)}))}},removeReport:function(t,e,a){t.isLoading=!0,l["a"].ReportsRemove("reportId="+e).then((function(e){if(e.data){var a=$(this).parents("div.reportcontainer");$(a).remove(),$(a).show(),t.$emit("reload-report")}else t.ShowAlert(t.$t(InsertUpdateError),"failure",!0,t.$t("Alert")),t.isLoading=!1}))},SaveReportPreferences:function(t,e){var a=this;showLoader(),$.ajax({url:'@Url.Action("ReportsSave", "CompanyAdmin")',data:{reportIds:t,moduleName:e},cache:!1,success:function(t,e,s){if("200"==s.status)if(1==t){getRootURL();$("#divReports").dialog("close"),"dashboard"==$("#hdnpagename").val()?loadReports():window.location.reload()}else 2==t?ShowAlert(a.$t("DashboardReportsMaxLimit"),"failure",!0,a.$t("Alert")):ShowAlert(a.$t("InsertUpdateError"),"failure",!0,a.$t("Alert"))},error:function(t,e,a){hideLoader()}})},onZoomInZoomOut:function(t){var e=$("#divInboxSibling").find("div[data-id="+t+"]"),a=$("#divInboxSibling").find("a[data-id="+t+"]");if(1==$(a).attr("zoom")){$(a).removeAttr("data-original-title"),$(a).attr("title","Zoom_Out"),$(e).removeClass("col-sm-12 col-md-12 col-lg-12 col-xl-12  mb-3"),$(e).addClass("col-sm-12 col-md-12 col-lg-6 col-xl-4  mb-3"),$(a).attr("zoom",0),$(e).siblings("div.ticketingDashboardHead").show(),$(a).addClass("zoomin"),$(a).removeClass("zoomout"),$(a).find("i").removeClass("fa fa-compress").addClass("fa fa-expand");$(a).parents("div.firstdiv").next("div.reportBlock")}else $(a).removeAttr("data-original-title"),$(a).attr("title","Zoom_In"),$(a).removeClass("zoomin"),$(a).addClass("zoomout"),$(e).removeClass("col-sm-12 col-md-12 col-lg-6 col-xl-4  mb-3"),$(e).addClass("col-sm-12 col-md-12 col-lg-12 col-xl-12  mb-3"),$(a).attr("zoom",1),$(a).find("i").removeClass("fa fa-expand").addClass("fa fa-compress")}}},N=x,M=Object(v["a"])(N,d,c,!1,null,null,null),R=M.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"float-right displayinlineblock"},[a("div",{staticClass:"date_range",attrs:{id:"mainDiv"}},[a("a",{staticClass:"btn inline-block btnPin mr-2 py-1",attrs:{id:"aViewPin_"+t.pgaction,href:"javascript:;"},on:{click:function(e){return t.PinView()}}},[a("i",{staticClass:"fa fa-thumb-tack mt-1 ",attrs:{id:"idPinView","aria-hidden":"true"}})]),a("a",{staticClass:"btn btn-info formbtn inline-block showDatePanel mr-2 py-1",attrs:{id:"aDateLable_"+t.pgaction,href:"javascript:;"},on:{click:t.OpenDatePopUp}},[a("i",{staticClass:"fa fa-bars mt-1 pr-2"}),a("em",{staticClass:"text-white "},[t._v(t._s(t.$t("Today")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showpopup,expression:"showpopup"}],staticClass:"DatePopUp divtimer_design p-1",attrs:{id:"DivTimer_"+t.pgaction,"data-pageaction":t.pgaction}},[a("table",{staticClass:"table-responsive AssetDatePopUp d-block "},[a("tbody",{staticClass:"daterangebody"},[a("tr",{ref:"daterange",staticClass:"daterangetr",staticStyle:{display:"contents!important"}},[a("td",{staticClass:"sep daterangetd"},[a("ul",{staticClass:"date_select"},[a("li",{attrs:{id:"1"}},[a("a",{staticClass:"Today",attrs:{title:t.$t("Today"),id:"aToday",typ:"Today"},on:{click:function(e){return t.ClickTimer("Today",this,t.pgaction)}}},[t._v(t._s(t.$t("Today")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin1","aria-hidden":"true"}})]),a("li",{attrs:{id:"2"}},[a("a",{staticClass:"Yesterday",attrs:{title:t.$t("Yesterday"),id:"aYesterday",typ:"Yesterday"},on:{click:function(e){return t.ClickTimer("Yesterday",this,t.pgaction)}}},[t._v(t._s(t.$t("Yesterday")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 inpinner pinhide",attrs:{id:"pin2","aria-hidden":"true"}})]),a("li",{attrs:{id:"3"}},[a("a",{staticClass:"Week",attrs:{title:t.$t("ThisWeek"),id:"aWeek",typ:"Week"},on:{click:function(e){return t.ClickTimer("Week",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisWeek")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin3","aria-hidden":"true"}})]),a("li",{attrs:{id:"4"}},[a("a",{staticClass:"AllTime",attrs:{title:t.$t("AllTime"),id:"aAll",typ:"AllTime"},on:{click:function(e){return t.ClickTimer("AllTime",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisYear")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin4","aria-hidden":"true"}})])])]),a("td",{staticClass:"daterangetd",attrs:{valign:"top"}},[a("ul",{staticClass:"date_select"},[a("li",{attrs:{id:"5"}},[a("a",{staticClass:"LastWeek",attrs:{id:"aLastWeek",typ:"LastWeek",title:t.$t("LastWeek")},on:{click:function(e){return t.ClickTimer("LastWeek",this,t.pgaction)}}},[t._v(t._s(t.$t("LastWeek")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin5","aria-hidden":"true"}})]),a("li",{attrs:{id:"6"}},[a("a",{staticClass:"Month",attrs:{id:"aMonth",typ:"Month",title:t.$t("ThisMonth")},on:{click:function(e){return t.ClickTimer("Month",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisMonth")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin6","aria-hidden":"true"}})]),a("li",{attrs:{id:"7"}},[a("a",{staticClass:"LastMonth",attrs:{id:"aLastMonth",typ:"LastMonth",title:t.$t("LastMonth")},on:{click:function(e){return t.ClickTimer("LastMonth",this,t.pgaction)}}},[t._v(t._s(t.$t("LastMonth")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin7","aria-hidden":"true"}})])])])])])]),a("div",{staticClass:"col-lg-12 d-flex p-0 daterangetr"},[a("div",{staticClass:"col-lg-4 daterangetd table_datepickerfix p-0"},[a("label",[t._v("From ...")]),a("br"),a("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("input",t._g({staticClass:"textfield2 ie_crossicon_none FromDate form-control p-1",attrs:{id:"txtFromDate_"+t.pgaction,name:"startDate"},domProps:{value:s}},i))]}}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),a("div",{staticClass:"col-lg-4 daterangetd table_datepickerfix pr-0 pl-2"},[a("label",[t._v("...To")]),a("br"),a("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("input",t._g({staticClass:"textfield2 ie_crossicon_none ToDate form-control p-1",attrs:{id:"txtToDate_"+t.pgaction,name:"endDate"},domProps:{value:s}},i))]}}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),a("div",{staticClass:"col-lg-4 px-2 mt-4"},[a("input",{staticClass:"btn btn-success float-left p-1 p-1 pl-4 pr-4",attrs:{type:"button",id:"btnsearch_"+t.pgaction,"data-result":"btnsearch",value:"Go"},on:{click:function(e){return t.searchGoclick(this,t.pgaction)}}})])])]),a("input",{attrs:{type:"hidden",id:"hdnDateSpan",value:"Month",title:"hidden ctr for keeping current Search type Like week, month and day."}}),a("input",{attrs:{type:"hidden",id:"ReportViewer",name:"returnType"}}),a("input",{attrs:{type:"hidden",id:"pgaction",name:"pgaction"},domProps:{value:t.pgaction}}),a("input",{attrs:{type:"hidden",id:"hdnViewId",name:"viewid"}}),a("input",{attrs:{type:"hidden",id:"hdnPinnedViewId",name:"viewid"}})])])},L=[],U=(a("e9c4"),{props:{pgaction:null},data:function(){return{isLoading:!1,fromDate:null,toDate:null,showpopup:!1,eval:"",evaltype:"",showPin:!1}},created:function(){this.getPinnedView()},methods:{OpenDatePopUp:function(){var t=this;console.log(t.$refs.daterange.querySelectorAll("#pin"+$("#hdnPinnedViewId").val())),this.showpopup=!this.showpopup},searchGoclick:function(t,e){var a=this;$("#hdnViewId").val(""),$(".btnPin").hide(),a.$emit("set-date",$("#txtFromDate_"+e).val(),$("#txtToDate_"+e).val())},SearchRecord:function(t,e){var a=e,s=$("#txtFromDate_"+a).val(),i=$("#txtToDate_"+a).val(),o=($("#aDateLable_"+a).html(),$(t).closest(".ticketingDashboardHead").attr("dctrl")),n=$(t).closest(".ticketingDashboardHead").attr("daction"),r=$(t).closest(".ticketingDashboardHead").find(".reportBlock");$.ajax({url:"/"+o+"/"+n,data:{fromDate:s,toDate:i},type:"get",async:!0,cache:!1,success:function(t){r.empty(),r.append(t)},error:function(){}})},ClickTimer:function(t,e,a){var s=this;$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),"global"==$(e).closest("div.DatePopUp").attr("data-pageaction")?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),s.isLoading=!0,s.FadeInOut1(e),$("#dashbord-graph-widget").find(".ticketingDashboardHead").each((function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()})),"Today"==t?s.GetStartEndDates(t,e,a):"Yesterday"==t?s.GetStartEndDates("yesterday",e,a):"Week"==t?s.GetStartEndDates("thisweek",e,a):"LastWeek"==t?s.GetStartEndDates("lastweek",e,a):"Month"==t?s.GetStartEndDates("thismonth",e,a):"LastMonth"==t?s.GetStartEndDates("lastmonth",e,a):"AllTime"==t&&s.GetStartEndDates("thisyear",e,a),s.isLoading=!1):("Today"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates(t,e,a)):"Yesterday"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates("yesterday",e,a)):"Week"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),s.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),s.GetStartEndDates("lastweek",e,a)):"Month"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),s.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),s.GetStartEndDates("lastmonth",e,a)):"AllTime"==t&&($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates("thisyear",e,a)),s.FadeInOut1(e)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show()},FadeInOut:function(){$("#DivTimer").toggle()},FadeInOut1:function(t){var e=$(t).closest(".date_range").find("#pgaction").val();$(t).closest(".date_range").find("#DivTimer_"+e).toggle()},GetStartEndDates:function(t,e,a){var s=this;s.isLoading=!0;var i="DateSpan=".concat(t.toLowerCase(),"&report=").concat($("#hdnGroupBy").val());l["a"].GetStartEndDate_New(i).then((function(t){s.isLoading=!1;var e=t.data;s.fromDate=e.dateStart,s.toDate=e.dateEnd,$("#txtFromDate_"+a).val(e.dateStart),$("#txtToDate_"+a).val(e.dateEnd),$("#aDateLable_"+a).find("em").text(e.displayText),s.$emit("set-date",e.dateStart,e.dateEnd)}))},getPinnedView:function(){$(".pinhide").hide();var t=this,e="Project_Dashboard";l["a"].GetPinnedView("type="+e).then((function(e){"Success"==e.data.status&&null!=e.data.result.data&&e.data.result.data.length>0&&(e.data.result.data[0].TYPE_ID>0?($("#hdnPinnedViewId").val(e.data.result.data[0].TYPE_ID),t.eval=$("#"+$("#hdnPinnedViewId").val()).find("a").attr("id"),t.evaltype=$("#"+$("#hdnPinnedViewId").val()).find("a").attr("typ"),$(".DateLable").find("em.text-white").html($("#"+t.eval).text())):$("#hdnPinnedViewId").val("3")),t.ClickTimer("Week",this,"global")}))},PinView:function(){var t=this,e=$("#hdnViewId").val(),a="Project_Dashboard",s="";if(s=$("#hdnPinnedViewId").val()==e?"UNPIN":"PIN","UNPIN"==s&&"3"==e);else{$(".pinhide").hide();var i={typeid:e,type:a,action:s},o=JSON.stringify(i);l["a"].PinView(o).then((function(a){if("Success"==a.data.status){if("PIN"==s)$("#hdnPinnedViewId").val(e),$("#pin"+$("#hdnPinnedViewId").val()).show(),t.eval=$("#"+$("#hdnPinnedViewId").val()).find("a").attr("id"),t.evaltype=$("#"+$("#hdnPinnedViewId").val()).find("a").attr("typ"),$("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview"),t.ShowAlert(t.$t("PinViewSuccess"),"success",!0,t.$t("Alert"));else if("UNPIN"==s){$("#hdnPinnedViewId").val("3"),t.eval="",t.evaltype="",$("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview");var i=$("#aWeek").closest("li").attr("id");$("#"+i+" i").show(),t.ShowAlert(t.$t("UnPinViewSuccess"),"success",!0,t.$t("Alert"))}}else t.ShowAlert(t.$t("AddedError",[t.$t("PinUnPin")]),!0,t.$t("Alert"))}))}}}}),j=U,H=(a("410d"),Object(v["a"])(j,E,L,!1,null,null,null)),O=H.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 border p-0",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"row bg-lgray  m-0 py-3 px-0 container-fluid",style:{width:"S"==t.ViewType?"100%":"@width"},attrs:{id:"KanbanDiv"}},["Project"==t.moduleName?a("div",{staticClass:"col-12 pl-0 mt-2 px-small-0",staticStyle:{"margin-bottom":"20px !important","margin-top":"5px!important"}},[a("div",{staticClass:"input-group eamv taskclass col-sm-12 col-md-12 col-lg-8 float-left pr-1 pl-0 px-small-0"},[a("div",{staticClass:"form-control p-0 mb-1",staticStyle:{"z-index":"999"}},[a("vue-multiselect",{attrs:{options:t.ProjectList,multiple:!0,"close-on-select":!1,"track-by":"ProjectId",label:"ProjectName",placeholder:"Select project(s)",limit:1,"append-to-body":"appendToBody"},model:{value:t.SelectedProjects,callback:function(e){t.SelectedProjects=e},expression:"SelectedProjects"}})],1)]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-3 float-left pl-0 px-small-0"},[a("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline d-flex"},[a("a",{staticClass:"btn btn-success mr-1",attrs:{href:"javascript:;",id:"aSearch",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:function(e){return t.filterByProject()}}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger clearsearchtext",attrs:{href:"javascript:;",id:"refreshToDoList",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:function(e){return t.resetProjectFilter()}}},[a("i",{staticClass:"fa fa-refresh"})])])])]):t._e(),a("div",{staticClass:"clear"}),a("div",{staticClass:"col-12 p-0 only2-display d-flex"},t._l(t.DataArray,(function(e,s){return a("div",{key:s,staticClass:"col-md-12 col-lg-6",class:{extended:"L"===t.ViewType}},[a("ul",{staticClass:"combo-canvan-view"},[a("li",{class:e.className},[a("h3",{staticClass:"mb-2 text-capitalize"},[t._v(" "+t._s(t.GetLocalizedValue(e.name))+" ("+t._s(e.count)+")"),a("span",{staticClass:"shorting cursor-pointer",on:{click:function(a){return t.sortedArray(e,s)}}},[a("i",{class:"fa "+e.SortIcon,attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"clearfix"}),0!=e.data.length?a("div",{ref:"scrollbar",refInFor:!0,staticClass:"cards-content",class:{scrollbarminiunassigned:"unassigned"==e.className,scrollbarmini:"unassigned"!=e.className},attrs:{"data-statusid":e.StatusId}},[a("div",{staticClass:"clearfix"}),a("draggable",{staticClass:"list-group",attrs:{list:e.data,options:{group:{name:"grpdashboard",put:!0},sort:!1},status:e.name},on:{start:t.onStart,end:t.onEnd,change:function(a){return t.ChangeStatusDrag(a,e.StatusId)}}},t._l(e.data,(function(e,s){return a("div",{key:s,staticClass:"w-100 p-0"},[a("div",{staticClass:"card card-exp"},[a("div",{staticClass:"card-header"},[a("h4",[a("span",{staticClass:"text-capitalize text-primary",attrs:{title:e.TASK_NAME}},[t._v(t._s(e.TASK_NAME))]),a("a",{staticClass:"nostylelink mr-3 float-right",attrs:{"data-toggle-tooltip":"tooltip",title:"@Resources.View",href:"javascript:;",value:e.PROJECT_ID},on:{click:function(a){return t.ProjectQuickView(e.PROJECT_ID,e.TASK_ID,e)}}},[a("i",{staticClass:"float-right fa fa-eye",attrs:{"aria-hidden":"true"}})])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"spac-eq text-capitalize text-dark"},[a("b",[a("i",{staticClass:"fa fa-folder-o"}),t._v("   "),a("span",[t._v(t._s("CRM_LEADS"==e.PROJECT_NAME?"CRM Lead":"CRM_DEALS"==e.PROJECT_NAME?"CRM Deal":"CRM_SALES_ORDERS"==e.PROJECT_NAME?"CRM SALES ORDER":"CRM_QUOTES"==e.PROJECT_NAME?"CRM QUOTES":e.PROJECT_NAME))])])]),null!=e.TASK_DESCRIPTION&&""!=e.TASK_DESCRIPTION?a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-file-text float-left pr-1 mt-1"}),t._v("  "),a("span",{domProps:{innerHTML:t._s(t.TruncateStr(e.TASK_DESCRIPTION,200))}})]):a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-file-text "}),t._v(" -")]),a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-calendar "}),t._v("   "+t._s(t._f("formatDate")(e.START_DATE))+" "),a("strong",[t._v("To")]),t._v(" "+t._s(t._f("formatDate")(e.END_DATE))+" "),"Project"==t.moduleName||"Ticketing"==t.moduleName||"Event"==t.moduleName?a("a",{class:{"text-dark float-right":!0,disabled:"Completed"==e.STATUS},attrs:{href:"javascript:;"},on:{click:function(a){return t.openNoteListPopUp(e,s)}}},[a("i",{staticClass:"fa fa-file-text-o actionicon_20",staticStyle:{"margin-right":"5px"},attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-orange"},[t._v(t._s(e.NOTES_COUNT))])]):t._e()]),a("div",{staticClass:"spac-eq"},[a("span",[a("i",{staticClass:"fa fa-clock-o"}),t._v("  "),e.TRACKED_HOURS>0?a("span",{staticClass:"blue-time pl-1"},[t._v(t._s(t.convertSecondsToHHMMSSNew(e.TRACKED_HOURS))+" "+t._s(t.$t("of")))]):t._e(),a("span",{staticClass:"blue-time pl-1"},[t._v(t._s(e.ALLOCATE_HOURS)+" "+t._s(t.$t("HrsSmall")))])]),"Project"==t.moduleName||"Event"==t.moduleName?a("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.ProjectQuickView(e.PROJECT_ID,e.TASK_ID,e,"attachment")}}},[a("i",{staticClass:"fa fa-paperclip actionicon_20",staticStyle:{"margin-right":"5px"},attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(e.FILE_COUNT))])]):t._e()]),a("div",{staticClass:"spac-eq text-capitalize"},[a("b",[a("i",{staticClass:"fa fa-user"}),t._v("   "),a("span",[t._v(t._s(e.NAME))])]),"Project"!=t.moduleName&&"Event"!=t.moduleName||"Unassigned"==e.STATUS?"Project"==t.moduleName||"Event"==t.moduleName?a("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.TeamTimeAllocation(e)}}},[a("i",{staticClass:"fa fa-user-plus actionicon_20",attrs:{"aria-hidden":"true"}})]):t._e():a("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.OpenCommentModel(e)}}},[a("i",{staticClass:"fa fa-commenting-o actionicon_20",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-green"},[t._v(t._s(e.COMMENT_COUNT))])]),"Ticketing"==t.moduleName&&"Unassigned"==e.STATUS?a("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.TicketAsssignTrasfer(e.PROJECT_ID,e.TASK_ID,e)}}},[a("i",{staticClass:"fa fa-user-plus actionicon_20",attrs:{"aria-hidden":"true"}})]):t._e()]),"Ticketing"!=t.moduleName?a("div",{staticClass:"spac-eq text-capitalize"},[a("b",[a("i",{staticClass:"fa fa-user-circle"}),t._v("   "),a("a",{staticClass:"text-capitalize text-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.ProjectQuickView(e.PROJECT_ID,e.TASK_ID,e,"resources")}}},[t._v("View Assigned Resources")])])]):t._e(),"HR"!=t.moduleName&&null!=t.TagData.filter((function(t){return t.TASK_ID==e.TASK_ID}))&&t.TagData.filter((function(t){return t.TASK_ID==e.TASK_ID})).length>0?a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v("   "),t._l(t.TagData.filter((function(t){return t.TASK_ID==e.TASK_ID})),(function(e,s){return a("span",{key:s,staticClass:"tags-dashbm"},[t._v(" "+t._s(e.TAG_NAME)+" ")])}))],2):a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v("   - ")]),""!=e.PRIORITY_NAME&&"null"!=e.PRIORITY_NAME&&null!=e.PRIORITY_NAME?a("div",{staticClass:"spac-eq"},[a("span",{staticClass:"badge",style:t.getPriorityStyles(e.PRIORITY_NAME.toLowerCase(),e.COLOR_CODE)},[t._v(t._s(e.PRIORITY_NAME))])]):t._e(),a("div",{staticClass:"spac-eq border-top text-center"},[a("div",{staticClass:"time"},[a("div",{class:"c100 small p"+parseInt(t.showTrackPercent(e),10)},[a("span",[t._v(t._s(t.showTrackPercent(e))+"%")]),a("div",{staticClass:"slice"},[a("div",{class:{bar:t.showTrackPercent(e)>0}}),a("div",{staticClass:"fill"})])]),a("span",{staticClass:"t-title"},[t._v(t._s(t.$t("Time Left")))])]),a("div",{class:"completed"==String(e.STATUS).toLowerCase()?"Task disabled_icon":"Task"},["MANUALLY_BASED"==e.PROJECTTASKPROGRESS?a("div",{class:"cursor-pointer c100 small green p"+parseInt(e.PROGRESS,10),on:{click:function(a){return t.ProgressDivOpen(e)}}},[a("span",[t._v(t._s(e.PROGRESS)+"%")]),a("div",{staticClass:"slice"},[a("div",{class:{bar:e.PROGRESS>0}}),a("div",{staticClass:"fill"})])]):t._e(),"MANUALLY_BASED"!=e.PROJECTTASKPROGRESS?a("div",{class:"c100 small green p"+parseInt(e.PROGRESS,10)},[a("span",[t._v(t._s(e.PROGRESS)+"%")]),a("div",{staticClass:"slice"},[a("div",{class:{bar:e.PROGRESS>0}}),a("div",{staticClass:"fill"})])]):t._e(),a("span",{staticClass:"t-title"},[t._v(" "+t._s(t.$t("Task"))+" "+t._s(t.$t("Progress")))])])]),a("div",{staticClass:"spac-eq border-top text-center"},[e.AutomaticBtn?a("div",{staticClass:"timerbx green",attrs:{id:"TotalTime","data-model":"item.TotalTime"}}):t._e(),"ACT"==e.RUNNING_STATUS?a("button",{staticClass:"btn Timertodo btn-info",class:{"inactive-disabled":e.TIME_TRACKED_BY==t.ID},attrs:{type:"button"},on:{click:function(a){return t.PauseResumeTime("pause",t.TRACK_ID,t.COMPANY_ID,t.CREATED_BY,e.TASK_ID,e.PROJECT_ID,e.IS_BILLABLE,e)}}},[a("span",{staticClass:"tag-name"},[t._v(" "+t._s(t.$t("Pause")))])]):t._e(),"PAUS"==e.RUNNING_STATUS?a("button",{staticClass:"btn Timer btn-success",class:{"inactive-disabled":t.ID},attrs:{type:"button"},on:{click:function(a){return t.PauseResumeTime("resume",t.TRACK_ID,t.COMPANY_ID,t.CREATED_BY,e.TASK_ID,e.PROJECT_ID,e.IS_BILLABLE,e)}}},[a("span",{staticClass:"tag-name"},[t._v(" "+t._s(t.$t("Resume")))])]):t._e(),"PAUS"==e.RUNNING_STATUS||"ACT"==e.RUNNING_STATUS?a("button",{staticClass:"btn Timer btn-danger StopTime",class:{"inactive-disabled":e.TIME_TRACKED_BY==t.ID},attrs:{type:"button"},on:{click:function(a){return t.StopTime(e.IS_BILLABLE,e.RUNNING_STATUS_ID,e.TASK_ID,e,t.COMPANY_ID,t.CREATED_BY,t.TRACK_ID)}}},[a("span",{staticClass:"tag-name"},[t._v(t._s(t.$t("Stop")))])]):t._e(),"PAUS"!=e.RUNNING_STATUS&&"ACT"!=e.RUNNING_STATUS?a("button",{staticClass:"d-none",class:"completed"==String(e.STATUS).toLowerCase()||"closed"==String(e.STATUS_NAME).toLowerCase()?"btn Timer manually-time inactive-disabled":"btn Timer manually-time",attrs:{type:"button","data-toggle":"modal",href:"javascript:;"},on:{click:function(a){return t.MannualDiv(e)}}},[a("span",{staticClass:"tag-name"},[a("i",{staticClass:"fa fa-clock-o mr-1"}),t._v(t._s(t.$t("Add"))+t._s(t.$t("Mannualy")))])]):t._e(),"PAUS"!=e.RUNNING_STATUS&&"ACT"!=e.RUNNING_STATUS?a("button",{staticClass:"d-none",class:"completed"==String(e.STATUS).toLowerCase()||"closed"==String(e.STATUS_NAME).toLowerCase()?"btn Timer auto-time inactive-disabled":"btn Timer auto-time",attrs:{type:"button","data-toggle":"modal",href:"javascript:;"},on:{click:function(a){return t.StartTime(e.IS_BILLABLE,e.RUNNING_STATUS_ID,e.TASK_ID,e)}}},[a("span",{staticClass:"tag-name"},[a("i",{staticClass:"fa fa-history mr-1"}),t._v(t._s(t.$t("Automatic"))+"c")])]):t._e()]),a("div",{staticClass:"verticle-action mt-1"},[a("i",{staticClass:"fa fa-ellipsis-v action_icon_cv",staticStyle:{width:"10px"},attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"action-list-box small"},[a("span",{staticClass:"list-actions fsm-list",attrs:{id:"action-list"}},[a("div",{staticClass:"float-left"},[a("div",{staticClass:"float-left"},["Project"==t.moduleName&&"completed"!=String(e.STATUS).toLowerCase()?a("a",{staticClass:"update actions-onclick",class:e.IS_APPROVE_REJECT>0?"edit-list disabled_icon":"edit-list",attrs:{title:"@Resources.Request @Resources.Time","data-placement":"left",href:"javascript:;"},on:{click:function(a){return t.RequestTimeBtn(e)}}},[a("i",{staticClass:"fa fa-reply text-dark"}),a("span",{staticClass:"text"},[t._v(" "+t._s(t.$t("Request"))+t._s(t.$t("Time")))])]):t._e(),a("a",{staticClass:"update actions-onclick",attrs:{title:t.$t("QuickView"),"data-placement":"left",href:"javascript:;",attr:e.PROJECT_ID},on:{click:function(a){return t.ProjectQuickView(e.PROJECT_ID,e.TASK_ID,e)}}},[a("i",{staticClass:"fa fa-eye text-info action-icon"}),a("span",{staticClass:"text"},[t._v(t._s(t.$t("QuickView")))])])])]),a("i",{staticClass:"fa fa-times close close-action_cv cursor-pointer",attrs:{"aria-hidden":"true"}})])])])])])])})),0)],1):t._e(),0==e.data.length?a("div",{ref:"scrollbar",refInFor:!0,staticClass:"cards-content",class:{scrollbarminiunassigned:"unassigned"==e.className,scrollbarmini:"unassigned"!=e.className},attrs:{"data-statusid":e.StatusId}},[a("div",{staticClass:"clearfix"}),a("draggable",{staticClass:"list-group",attrs:{list:[],options:{group:{name:"grpdashboard",put:!0},sort:!1},status:e.name},on:{start:t.onStart,end:t.onEnd,change:function(a){return t.ChangeStatusDrag(a,e.StatusId)}}},[a("div",{staticClass:"w-100 float-left text-center border p-2"},[a("span",{staticClass:"text-center text-danger no-record"},[t._v(t._s(t.$t("NoRecordfound")))])])])],1):t._e()])])])})),0),a("div",{attrs:{id:"divAssignTransfer"}}),t.ShowManageProjectQuickView?a("Modalprojectquickview",{ref:"foo",attrs:{checkVueodolist:this},on:{close:function(e){t.ShowManageProjectQuickView=!1,t.modalProjectId=null,t.modalTaskId=null}}},[a("h5",{attrs:{slot:"header"},slot:"header"})]):t._e(),t.showAddManuallyModal?a("Modaladdmanually",{on:{close:function(e){t.showAddManuallyModal=!1}}},[a("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("AddManually")))])]):t._e(),t.showUpdateProgressModal?a("modalupdateprogress",{on:{close:function(e){t.showUpdateProgressModal=!1}}},[a("h5",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("Update"))+" "+t._s(t.$t("Progress"))+" ")])]):t._e(),t.showRequestTimeModal?a("Modalrequesttime",{on:{close:function(e){t.showRequestTimeModal=!1}}},[a("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Time"))+" "+t._s(t.$t("Time")))])]):t._e(),t.showCommentModal?a("Modalcommentlist",{on:{close:function(e){t.showCommentModal=!1,t.modalCommentItem=null}}},[a("h5",{attrs:{slot:"header"},slot:"header"})]):t._e(),t.showAddNoteModal?a("modalnote",{attrs:{taskid:t.TaskId1},on:{close:function(e){t.showAddNoteModal=!1,t.modalNoteItem=null}}},[a("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.header)+" ")])]):t._e(),t.showNoteModal?a("Projecttasknote",{attrs:{userid:"@loggedUserInfo.ID",reqfrom:"dashboard"},on:{close:function(e){t.showNoteModal=!1,t.modalNoteTaskItem=null}}},[a("h5",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.$t("Notes"))+" ")])]):t._e(),t.showAllocationModal?a("Modalallocationlist",{attrs:{checkVueodolist:"this",projectid:t.ProjectId},on:{close:function(e){t.showAllocationModal=!1,t.modalAddEditTaskId=null}}}):t._e()],1),a("div",{attrs:{id:"divuploadnewfile"}}),a("input",{attrs:{type:"hidden",id:"hdnUploadNewFilePopUp",value:"M",url:""}})])},B=[],V=(a("c7eb"),a("1da1"),a("159b"),a("b0c0"),a("ac1f"),a("1276"),a("b680"),a("2af1"),a("5319"),a("4e82"),a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal my-popups d-block",attrs:{id:"myModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"padding-left":"12rem"}},[a("div",{staticClass:"modal-content mw-800"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("AddManually")))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("Form",{ref:"ManualValidation"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Date"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"input-group mb-3"},[a("v-date-picker",{staticClass:"input-group",attrs:{popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.datepicker,callback:function(e){t.datepicker=e},expression:"datepicker"}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text datepickerbutton",attrs:{title:t.$t("SelectDate")}},[a("i",{staticClass:"fa fa-calendar font-16"})])])],1)])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Billable"}},[t._v(t._s(t.$t("Billable")))]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Billable,expression:"Billable"}],staticClass:"form-check-input dynamic custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",id:"Billable","data-change-id":"no",checked:"checked"},domProps:{value:t.Billable,checked:Array.isArray(t.Billable)?t._i(t.Billable,t.Billable)>-1:t.Billable},on:{change:function(e){var a=t.Billable,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=t.Billable,n=t._i(a,o);s.checked?n<0&&(t.Billable=a.concat([o])):n>-1&&(t.Billable=a.slice(0,n).concat(a.slice(n+1)))}else t.Billable=i}}}),a("span",{staticClass:"slider round"},[a("span",{staticClass:"slider-yes"},[t._v(t._s(t.$t("Yes")))]),a("span",{staticClass:"slider-no"},[t._v(t._s(t.$t("No")))])])])])])]),a("div",{staticClass:"col-md-6",attrs:{id:"divStarttime24"}},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("StartTime"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"input-group mb-3"},[a("Field",{attrs:{name:"txtStartTime",rules:{required:!0},label:"Start Time"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.changed;return[a("v-date-picker",{staticClass:"input-group",attrs:{popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5},on:{dayclick:function(e){return t.AddStartTimeBlur(t.AddManuallyModalItem)},"update:modelValue":i},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,o=e.inputEvents,n=e.togglePopover;return[a("input",t._g({class:{"form-control":!0,"is-invalid":s[0]},attrs:{placeholder:"HH:MM"},domProps:{value:i}},o)),a("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:t.txtStartTime,callback:function(e){t.txtStartTime=e},expression:"txtStartTime"}}),a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"txtStartTime"}},[t._v(t._s(s[0]))])]}}])})],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ddlStartAM,expression:"ddlStartAM"}],staticClass:"time-am-pm d-none",attrs:{id:"ddlStartAM"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ddlStartAM=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"AM"}},[t._v(t._s(t.$t("AM")))]),a("option",{attrs:{value:"PM"}},[t._v(t._s(t.$t("PM")))])])])]),a("div",{staticClass:"col-md-6",attrs:{id:"divStoptime24"}},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("StopTime"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"input-group mb-3"},[a("Field",{attrs:{name:"txtStopTime",rules:{required:!0},label:"Stop Time"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.changed;return[a("v-date-picker",{staticClass:"input-group",attrs:{popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5},on:{dayclick:function(e){return t.AddEndTimeBlur(t.AddManuallyModalItem)},"update:modelValue":i},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,o=e.inputEvents,n=e.togglePopover;return[a("input",t._g({class:{"form-control":!0,"is-invalid":s[0]},attrs:{placeholder:"HH:MM"},domProps:{value:i}},o)),a("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:t.txtStopTime,callback:function(e){t.txtStopTime=e},expression:"txtStopTime"}}),a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"txtStopTime"}},[t._v(t._s(s[0]))])]}}])})],1),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ddlStopAM,expression:"ddlStopAM"}],staticClass:"time-am-pm d-none",attrs:{id:"ddlStopAM"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ddlStopAM=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"AM"}},[t._v(t._s(t.$t("AM")))]),a("option",{attrs:{value:"PM"}},[t._v(t._s(t.$t("PM")))])])])]),a("div",{staticClass:"col-md-6",staticStyle:{display:"none"},attrs:{id:"divStarttime24"}},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("StartTime"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"input-group mb-3"},[a("v-date-picker",{staticClass:"input-group",attrs:{popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5},on:{dayclick:function(e){return t.AddEndTimeBlur(t.AddManuallyModalItem)}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"timedate timedate_hs":!0},attrs:{placeholder:"HH:MM"},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.txtStartTime24,callback:function(e){t.txtStartTime24=e},expression:"txtStartTime24"}})],1)])]),a("div",{staticClass:"col-md-6",staticStyle:{display:"none"},attrs:{id:"divStoptime24"}},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("StopTime"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"input-group mb-3"},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"txtStopTime",popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5},on:{dayclick:function(e){return t.AddEndTimeBlur(t.AddManuallyModalItem)}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"timedate timedate_hs":!0},attrs:{placeholder:"HH:MM"},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.txtStopTime24,callback:function(e){t.txtStopTime24=e},expression:"txtStopTime24"}})],1)])]),a("div",{staticClass:"col-md-6 d-none"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Monday"}},[t._v(t._s(t.$t("HourFormat")))]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"switch"},[a("input",{staticClass:"form-check-input custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",id:"Monday","data-change-id":"no",value:"option2"}}),a("span",{staticClass:"slider round"},[a("span",[t._v("Yes")])])])])])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"FormControlTextarea1"}},[t._v(t._s(t.$t("Description"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("Field",{attrs:{name:"FormControlTextarea1",rules:{required:!0},label:"Description"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.touched,o=e.invalid;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.DescriptionManualy,expression:"DescriptionManualy"}],class:{"form-control":!0,"is-invalid":i&&o},attrs:{cols:"5",placeholder:"Description"},domProps:{value:t.DescriptionManualy},on:{input:function(e){e.target.composing||(t.DescriptionManualy=e.target.value)}}}),t._v(" "),a("span",{staticClass:"invalid-feedback",attrs:{name:"FormControlTextarea1"}},[t._v(t._s(s[0]))])]}}])})],1)])]),a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success save-btn mr-2",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.SaveManually()}}},[a("i",{staticClass:"fa fa-floppy-o pr-2",attrs:{"aria-hidden":"true"}}),a("span",[t._v(t._s(t.$t("Save"))+" ")])]),a("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.MannualDivCancel()}}},[a("i",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),a("span",[t._v(t._s(t.$t("Cancel")))])])]),a("div",{staticClass:"col-lg-6"})])])])],1)])])])],1)}),G=[],K=a("ade3"),q=(a("466d"),a("25f0"),{props:{CompanyId:null,UserId:null},data:function(){return{isLoading:!1,TotalTime:"",TotalTimeText:"",txtStartTime:"",txtStopTime:"",txtStartTime24:"",txtStopTime24:"",ddlStartAM:"",ddlStopAM:"",datepicker:"",Billable:"",DescriptionManualy:"",secondsPerMinute:60,minutesPerHour:60,AddManuallyModalItem:null,PROJECT_ID:"",TASK_ID:"",Timeoptions:{format:String("h:mm tt").replace("t","A").replace("t",""),useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,widgetPositioning:{horizontal:"left",vertical:"bottom"}},Dateoptions:{format:String("M/dd/yyyy").toUpperCase(),useCurrent:!0,showClear:!0,showClose:!0,maxDate:new Date,widgetPositioning:{horizontal:"left",vertical:"bottom"}}}},created:function(){this.PROJECT_ID=this.$parent.SelectedItem.PROJECT_ID,this.TASK_ID=this.$parent.SelectedItem.TASK_ID},methods:(s={CreatedFunction:function(){var t=this;t.time();new Date(10);null!=t.ToDoListData?($.each(t.ToDoListData,(function(e,a){var s=a.TASKS,i=$.grep(t.GroupResult,(function(t,e){return t.Category==s}));if(0==i.length){var o=$.grep(t.result,(function(e,a){return e.MannualyBtn=!1,e.AutomaticBtn=!1,e.StopTimerBtn=!1,e.UpdateProgress=!1,e.RequestTimeBtn=!1,e.ClientTeam=[],e.ClientTeamValue=[],e.PMTeam=[],e.PMValue=[],e.UserList="",e.ProgressComment="",e.RequestId="",e.Hours="",e.Minutes="",e.RequestTimeSec=0,e.sDate="",e.ddlStartAM="",e.txtStartTime24="",e.datepicker=t.CurrentDate("date",t.Timer),e.chkHourFormat=!1,e.eDate="",e.ddlStopAM="",e.TotalTime="00:00:00",e.TotalTimeText="00:00:00",e.DescriptionManualy="",e.AddManualy=!1,e.TASKS==s}));if(o.length>0){var n={Category:s,Items:o};t.GroupResult.push(n)}}})),t.ToDoListData.length>0?t.noRecordToDoList=!1:t.noRecordToDoList=!0):t.noRecordToDoList=!0,setTimeout("CheckBoxBootstrap()",100),setTimeout("ShowfileUploadWithCulture();",550)},SaveManually:function(){var t=this;t.$refs.ManualValidation.validate().then((function(e){if(e.valid){var a=t.txtStartTime,s="";s=""==t.datepicker?new Date:new Date(t.datepicker);var i=s.getDate(),o=s.getMonth(),n=s.getFullYear(),r=n+"-"+(o+1)+"-"+i,d=t.txtStopTime,c=t.CompanyId,u=t.UserId,m=t.PROJECT_ID,p=t.TASK_ID,h=0;1==t.Billable&&(h=1);var v={trackDescription:t.DescriptionManualy,startTime:a,startDate:r,stopTime:d,isBillable:h,companyId:c,createdBy:u,totalTime:t.TotalTimeText,projectId:m,taskId:p,TagIds:""};t.isLoading=!0,l["a"].TimerAddManually(v).then((function(e){t.isLoading=!1;var a=e.data;if("-3"==a.status)t.ShowAlert(t.$t("TimeRangeValidation"),"warning",!0,t.$t("Alert"));else if("-4"==a.Status)t.ShowAlert(t.$t("TimerStartDateOverflow"),"warning",!0,t.$t("Alert"));else if("-2"==a.Status)t.ShowAlert(t.$t("PleaseTryAgain"),"failure",!0,t.$t("Alert"));else if("-1"==a.Status)t.ShowAlert(t.$t("PleaseTryAgain"),"failure",!0,t.$t("Alert"));else if("Saved"==a.Status)t.TotalTimeText="00:00:00",t.sDate="",t.eDate="",t.DescriptionManualy="",t.IS_BILLABLE=!1,t.datepicker=t.CurrentDate("date",t.Timer),0==a.count?(t.ShowAlert(t.$t("TimeEntrySavedSuccessfully"),"success",!0,t.$t("Alert")),t.$emit("close"),t.$parent.FetchDataKanban("kanban",null)):1==a.count?(t.ShowAlert(t.$t("TimeEntryRequestSentSuccessfully"),"success",!0,t.$t("Alert")),t.$emit("close"),t.$parent.FetchDataKanban("kanban",null)):2==a.count&&t.ShowAlert(t.$t("TimeEntryAutoApprovedSuccess"),"success",!0,t.$t("Alert")),t.$emit("close"),t.MannualDiv=!1,t.AddManualy=!1;else if("overlap"==a.Status){var s=$("#alert");s.html('<div class="grapghloader">&nbsp; </div>'),s.html(a.viewString),s.dialog("open")}}))}}))},CurrentDate:function(t,e){var a=new Date(e);if("date"==t){var s=a.getMonth()+1,i=(a.getFullYear(),a.getDate(),"");return s<10&&(s="0"+s),i=this.$options.filters.formatDate(a),i}return"time"==t?this.$options.filters.formatDateTime(a):a},CheckIsValidTime:function(t){var e=this,a=1,s=/^(\d{1,2}):(\d{2})(:(\d{2}))?(\s?(AM|am|PM|pm|Am|Pm|aM|pM))?$/,i=t.match(s);if(null==i)return e.ShowAlert(e.$t("TimeNotValidFormat"),"warning",!0,e.$t("Alert")),a=0,a;if(hour=i[1],minute=i[2],second="00",ampm=i[6],""==second&&(second=null),""==ampm&&(ampm=null),"checked"==$("#chkHourFormat").attr("checked")){if(hour<0||hour>23)return e.ShowAlert(e.$t("NotValidTime24"),"warning",!0,e.$t("Alert")),a=0,a}else if(hour<0||hour>12)return e.ShowAlert(e.$t("HourLimits"),"warning",!0,e.$t("Alert")),a=0,a;return minute<0||minute>59?(e.ShowAlert(e.$t("MinutesLimits"),"warning",!0,e.$t("Alert")),a=0,a):null!=second&&(second<0||second>59)?(e.ShowAlert(e.$t("SecondsLimits"),"warning",!0,e.$t("Alert")),a=0,a):a},GetDifference:function(t,e){var a=this,s="HH:MM:SS"==a.txtStartTime?"":a.txtStartTime,i="HH:MM:SS"==a.txtStopTime?"":a.txtStopTime;" AM"!=s&&" PM"!=s&&"__:__:__ AM"!=s&&"__:__:__ PM"!=s||(s="")," AM"!=i&&" PM"!=i&&"__:__:__ AM"!=i&&"__:__:__ PM"!=i||(i=""),testAttribute("input","placeholder")||("HH:MM:SS"!=s&&"__:__:__"!=s||(s=""),"HH:MM:SS"!=i&&"__:__:__"!=i||(i=""),""!=s&&"__:__:__"!=s||(a.txtStartTime="HH:MM:SS"),""!=i&&"__:__:__"!=i||(a.txtStopTime="HH:MM:SS"));var o=!1,n=s.replace(" ",""),r=i.replace(" ",""),l=s.replace(" ",""),d=i.replace(" ","");if(""==l&&""==d&&(l=getcurrenttime(),d=getcurrenttime()),""==l||""==d)return o;var c=this.CheckIsValidTime(l);if(0==c)return txtStartTimer.val(""),o;var u=this.CheckIsValidTime(d);if(0==u)return txtEndTimer.val(""),o;var m=n.substr(n.length-2,n.length).toUpperCase(),p="",h="";"AM"!=m&&"PM"!=m?(m="AM",p=l):p=l.substr(0,l.length-2);var v=r.substr(r.length-2,r.length).toUpperCase();if("AM"!=v&&"PM"!=v?(v="AM",h=d):h=d.substr(0,d.length-2),("PM"==m||"pm"==m)&&""!=p){var f=p.split(":"),g=f[0].toString();12!=g&&(g=(parseInt(g,10)+12).toString(),p=g+":"+f[1].toString()),f.length>=3&&(p+=":"+f[2].toString())}if(("PM"==v||"pm"==v)&&""!=h){var T=h.split(":");g=T[0].toString();12!=g&&(g=(parseInt(g,10)+12).toString(),h=g+":"+T[1].toString()),T.length>=3&&(h+=":"+T[2].toString())}if("AM"==m||"am"==m){g=l.substr(0,2);12==g&&(g="00",p=g+":"+p.substr(3,p.length))}if("AM"==v||"am"==v){g=d.substr(0,2);12==g&&(g="00",h=g+":"+h.substr(3,h.length))}var C=a.HMStoSec1(p),_=a.HMStoSec1(h),S=0;if(m==v&&(C==_?_=_:C>_&&(_+=86400)),m!=v&&("AM"==m&&"PM"==v&&C>_&&(_-=86400),"PM"==m&&"AM"==v&&(C>_?C-=86400:_+=86400)),_>C&&(S=_-C),C>_&&(S=C-_),"save"==e){var D=txtStopTime;""!=D&&($("#TotalTime").html(this.convertSecondsToHHMMSSNewManual(S)),a.TotalTimeText=this.convertSecondsToHHMMSSNewManual(S))}return o=!0,o},convertSecondsToHHMMSSNewManual:function(t){var e=this.convertHours(t),a=this.getRemainingMinutes(t);a=60==a?"00":a;var s=this.getRemainingSeconds(t);return e<10&&(e="0"+e),a<10&&(a="0"+a),s<10&&(s="0"+s),e+":"+a+":"+s},convertMinutes:function(t){return Math.floor(t/this.secondsPerMinute)},getRemainingMinutes:function(t){var e=this.convertMinutes(t);return e%this.minutesPerHour},getRemainingSeconds:function(t){return t%this.secondsPerMinute},convertSecondsToHHMMSSNew:function(t){var e=this.convertHours(t),a=this.getRemainingMinutes(t);a=60==a?"00":a;var s=this.getRemainingSeconds(t);return e<10&&(e="0"+e),a<10&&(a="0"+a),s<10&&(s="0"+s),e+" hrs "+a+" min "+s+" sec"},convertHours:function(t){var e=this.convertMinutes(t),a=Math.floor(e/this.minutesPerHour);return a},convertHoursTwoDecimal:function(t){var e=this.convertMinutes(t),a=(e/this.minutesPerHour).toFixed(2);return a}},Object(K["a"])(s,"convertMinutes",(function(t){return Math.floor(t/this.secondsPerMinute)})),Object(K["a"])(s,"HMStoSec1",(function(t){var e=t.split(/\D+/);return 2==e.length?60*(60*e[0]+ +e[1]):60*(60*e[0]+ +e[1])+ +e[2]})),Object(K["a"])(s,"AddStartTimeBlur",(function(t){var e=this,a=e.txtStartTime;if(a.length>0){var s=this.CheckIsValidTime(a);if(1==s){var i=e.txtStartTime,o=i.substr(0,2);"pm"==e.ddlStartAM.toLowerCase()&&(o=parseInt(o)+parseInt(12),i=o+":"+i.substr(3,i.length)),e.txtStartTime24=i;var n=e.txtStopTime,r=n.substr(0,2);return"pm"==e.ddlStartAM.toLowerCase()&&(r=parseInt(r)+parseInt(12),n=r+":"+n.substr(3,n.length)),e.txtStopTime24=n,this.GetDifference(t,"save"),!0}}})),Object(K["a"])(s,"AddEndTimeBlur",(function(t){var e=this,a=e.txtStopTime;if(a.length>0){var s=this.CheckIsValidTime(a);if(1==s){var i=e.txtStartTime,o=i.substr(0,2);"pm"==e.ddlStartAM.toLowerCase()&&(o=parseInt(o)+parseInt(12),i=o+":"+i.substr(3,i.length)),e.txtStartTime24=i;var n=e.txtStopTime,r=n.substr(0,2);return"pm"==e.ddlStartAM.toLowerCase()&&(r=parseInt(r)+parseInt(12),n=r+":"+n.substr(3,n.length)),e.txtStopTime24=n,this.GetDifference(t,"save"),!0}}})),Object(K["a"])(s,"MannualDiv",(function(t){this.showAddManuallyModal=!0;var e=this,a=e.CurrentDate("date",e.Timer);if(l["a"].GetApprovalStatusForWeekly("date="+a).then((function(t){0==t.val&&$("#hdnStatusCode").val(1)})),"0"==$("#hdnStatusCode").val())return e.ShowAlert(e.$t("EtreesApprovedpending"),"warning",!0,e.$t("Alert")),$("#hdnStatusCode").val(0),!1;e.AddManualy=!0,e.RequestTimeBtn=!1,e.StopTimerBtn=!1,e.MannualyBtn=!1,e.AutomaticBtn=!1})),Object(K["a"])(s,"MannualDivCancel",(function(){var t=this;t.RequestTimeBtn=!1,t.StopTimerBtn=!1,t.MannualyBtn=!1,t.AutomaticBtn=!1,t.$emit("close")})),s)}),Y=q,W=Object(v["a"])(Y,V,G,!1,null,null,null),J=W.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog",staticStyle:{"max-width":"1600px"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",{staticClass:"modal-title"},[a("span",{staticClass:"form-group"},[t._v(" "+t._s(t.$t("Allocate"))+t._s(t.$t("Time"))+t._s(t.$t("For"))+t._s(t.$t("Task"))+": "+t._s(t.AllocationModal.TASK_NAME)+" ")])])]})),a("button",{staticClass:"close",attrs:{type:"button",title:t.$t("Close")},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[a("div",{staticClass:"w-100"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"row mt-0"},[a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pr-1 pl-0"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",id:"txtTeamSearchPop",placeholder:t.$t("SearchByMemberName")},domProps:{value:t.searchText},on:{"@input":function(e){return t.searchMember(t.searchText)},input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])]),a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pl-0"},[a("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[a("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:t.$t("Search"),href:"javascript:;"}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:t.$t("Clear"),id:"clearTeam_add"},on:{click:function(e){return t.Reset()}}},[a("i",{staticClass:"fa fa-refresh"})])])])])])])])])]),a("div",{staticClass:"listing"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mb-2"},[a("div",{staticClass:"mr-2 d-inline-block"},[t._v(" "+t._s(t.$t("SelectDateBetween"))+" "+t._s(t.tsDate)+" and "+t._s(t.teDate)+" ")])])]),a("div",{staticClass:"table-responsive table-fix-header mt-2"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{"min-width":"1800px"},attrs:{id:"tblteamlisting"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{width:"70px !important"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkTaskAll,expression:"checkTaskAll"}],staticClass:"chkitems",attrs:{id:"chkAll",type:"checkbox"},domProps:{checked:Array.isArray(t.checkTaskAll)?t._i(t.checkTaskAll,null)>-1:t.checkTaskAll},on:{change:[function(e){var a=t.checkTaskAll,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=t._i(a,o);s.checked?n<0&&(t.checkTaskAll=a.concat([o])):n>-1&&(t.checkTaskAll=a.slice(0,n).concat(a.slice(n+1)))}else t.checkTaskAll=i},function(e){return t.chkTaskSelectALL(t.checkTaskAll)}]}})]),a("th",{staticStyle:{width:"120px"}},[a("span",[t._v(t._s(t.$t("MemberName")))])]),a("th",{staticStyle:{width:"120px"}},[a("span",[t._v(" "+t._s(t.$t("th_TeamMemberPopUp_usertype")))])]),a("th",{staticStyle:{width:"120px"}},[a("span",{staticClass:"d-inline-block"},[t._v(t._s(t.$t("Rate"))+t._s(t.currencyName)),a("span",{staticClass:"text-danger d-inline-block"},[t._v("*")])])]),a("th",{staticStyle:{width:"120px"}},[a("span",{staticClass:"d-inline-block"},[t._v(t._s(t.$t("Hours"))),a("span",{staticClass:"text-danger d-inline-block"},[t._v("*")])])]),a("th",{staticStyle:{width:"200px"}},[a("span",{staticClass:"d-inline-block"},[t._v(t._s(t.$t("From"))),a("span",{staticClass:"text-danger d-inline-block"},[t._v("*")])])]),a("th",{staticStyle:{width:"200px"}},[a("span",{staticClass:"d-inline-block"},[t._v(t._s(t.$t("To"))),a("span",{staticClass:"text-danger d-inline-block"},[t._v("*")])])]),a("th",{staticStyle:{width:"450px"}},[a("span",[t._v(t._s(t.$t("HoursPerDay")))])]),a("th",{staticStyle:{width:"120px"}},[a("span",[t._v(t._s(t.$t("TaskType")))])]),a("th",{staticStyle:{width:"290px"}},[a("span",[t._v(t._s(t.$t("Description")))])])])]),a("tbody",[t._l(t.taskTeams,(function(e,s){return[1==e.isSearch?a("tr",{class:{"disabled-class":1002==e.ProjectTeamStatusId},attrs:{isSearch:e.isSearch,"data-id":e.UserId}},[a("td",{staticClass:"text-center"},[1002!=e.ProjectTeamStatusId?a("input",{directives:[{name:"model",rawName:"v-model",value:e.isTaskSelected,expression:"item.isTaskSelected"}],staticClass:"chkItems countcheck",attrs:{"task-id":e.RowIndex,disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.isTaskSelected)?t._i(e.isTaskSelected,null)>-1:e.isTaskSelected},on:{change:[function(a){var s=e.isTaskSelected,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(e,"isTaskSelected",s.concat([n])):r>-1&&t.$set(e,"isTaskSelected",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(e,"isTaskSelected",o)},function(a){return t.checkAllValChange(e)}]}}):t._e(),1002==e.ProjectTeamStatusId?a("input",{directives:[{name:"model",rawName:"v-model",value:e.isTaskSelected,expression:"item.isTaskSelected"}],staticClass:"chkItems countcheck",attrs:{"task-id":e.RowIndex,disabled:"disabled",type:"checkbox"},domProps:{checked:Array.isArray(e.isTaskSelected)?t._i(e.isTaskSelected,null)>-1:e.isTaskSelected},on:{change:[function(a){var s=e.isTaskSelected,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(e,"isTaskSelected",s.concat([n])):r>-1&&t.$set(e,"isTaskSelected",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(e,"isTaskSelected",o)},function(a){return t.checkAllValChange(e)}]}}):t._e()]),a("td",[t._v(t._s(e.MemberName)+"("+t._s(e.DesignationName)+")-"+t._s(e.Department))]),a("td",[t._v(t._s(e.UserType))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.Rate,expression:"item.Rate"}],staticClass:"form-control text",attrs:{type:"text",onpaste:"return false;",maxlength:"10","Rate-id":e.RowIndex},domProps:{value:e.Rate},on:{keypress:function(e){return t.isNumber(e)},input:function(a){a.target.composing||t.$set(e,"Rate",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.Taskhours,expression:"item.Taskhours"}],staticClass:"form-control text",attrs:{type:"text","data-numberonly":"yes",onpaste:"return false;",maxlength:"8",placeholder:t.$t("HHMessage"),"Hours-id":e.RowIndex},domProps:{value:e.Taskhours},on:{input:function(a){a.target.composing||t.$set(e,"Taskhours",a.target.value)}}})]),a("td",{staticClass:"overflow-visible"},[s<=1?a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"StartDate",popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5,"PlanStartDate-id":e.RowIndex},on:{dayclick:function(a){return t.getStarDateResource(e,e.PlanStartDate,e.PlanEndDate)}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},attrs:{placeholder:"HH:MM"},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.PlanStartDate,callback:function(a){t.$set(e,"PlanStartDate",a)},expression:"item.PlanStartDate"}})],1):t._e(),s>1?a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"StartDate",popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5,"PlanStartDate-id":e.RowIndex},on:{dayclick:function(a){return t.getStarDateResource(e,e.PlanStartDate,e.PlanEndDate)}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},attrs:{placeholder:"HH:MM"},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.PlanStartDate,callback:function(a){t.$set(e,"PlanStartDate",a)},expression:"item.PlanStartDate"}})],1):t._e()]),a("td",{staticClass:"overflow-visible"},[s<=1?a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"EndDate",popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5,"PlanEndDate-id":e.RowIndex},on:{dayclick:function(a){return t.getEndDateResource(e,e.PlanStartDate,e.PlanEndDate)}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},attrs:{placeholder:"HH:MM"},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.PlanEndDate,callback:function(a){t.$set(e,"PlanEndDate",a)},expression:"item.PlanEndDate"}})],1):t._e(),s>1?a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"EndDate",popover:t.popover,"max-date":t.Dateoptions.maxDate,"minute-increment":5,"PlanEndDate-id":e.RowIndex},on:{dayclick:function(a){return t.getEndDateResource(e,e.PlanStartDate,e.PlanEndDate)}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},attrs:{placeholder:"HH:MM"},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.PlanEndDate,callback:function(a){t.$set(e,"PlanEndDate",a)},expression:"item.PlanEndDate"}})],1):t._e()]),a("td",{staticClass:"overflow-visible align-top",staticStyle:{"padding-top":"6px !important"},attrs:{DayStartTime:e.DayStartTime,ShowDayTime:e.ShowDayTime,PerDayWorkingHours:e.PerDayWorkingHours}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.PerDayWorkingHours||0==e.ShowDayTime,expression:"item.PerDayWorkingHours == 0  || item.ShowDayTime == 0"}],staticClass:"mt-0 pt-0 w-100",class:"divfromtime_"+e.UserId},[a("span",{staticClass:"w-100 float-left text-center"},[a("a",{staticClass:"aSpecTime readmore",staticStyle:{color:"#007bff !important"},attrs:{href:"javascript:;"},on:{click:function(a){return t.SpecificTime("time",e.UserId)}}},[t._v(t._s(t.$t("BookSpecificTime")))])]),a("div",{staticClass:"w-100 input-group float-left"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.HourPerDay,expression:"item.HourPerDay"}],staticClass:"form-control HourPerDay",attrs:{"HourPerDay-id":e.RowIndex,id:"txthourPerDay_"+e.UserId},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"HourPerDay",a.target.multiple?s:s[0])}}},t._l(t.selectOptionsHours,(function(e,s){return a("option",{key:s,domProps:{value:e.Hourvalue}},[t._v(" "+t._s(e.name)+" ")])})),0),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text datepickerbutton"},[t._v(t._s(t.$t("HHMessage")))])]),a("span",{staticClass:"text-danger w-100 float-left",staticStyle:{display:"none"},attrs:{id:"spnHoursValidation","spnHoursValidation-id":e.RowIndex}},[t._v(" "+t._s(t.$t("Required",[t.$t("Hours")])))])]),a("div",{staticClass:"w-48 input-group float-left d-none"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.MinutesPerDay,expression:"item.MinutesPerDay"}],staticClass:"form-control",attrs:{id:"txtMinutesPerDay_"+e.UserId,"MinutesPerDay-id":e.RowIndex},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"MinutesPerDay",a.target.multiple?s:s[0])}}},t._l(t.selectOptionsMinutes,(function(e,s){return a("option",{key:s,domProps:{value:e.Minutevalue}},[t._v(" "+t._s(e.name)+" ")])})),0),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text datepickerbutton"},[t._v(t._s(t.$t("MMMessage")))])]),a("span",{staticClass:"text-danger w-100 float-left",staticStyle:{display:"none"},attrs:{id:"spnMinutesValidation","spnMinutesValidation-id":e.RowIndex}},[t._v(" "+t._s(t.$t("Required",[t.$t("Minutes")])))])]),a("div",{staticClass:"input-group col-12"},[a("span",{staticClass:"text-danger w-100",staticStyle:{display:"none"},attrs:{id:"spnTotalTimeValidation","spnTotalTimeValidation-id":e.RowIndex}},[t._v(" "+t._s(t.$t("TotalTimeShiftTimeMessage")))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:(e.PerDayWorkingHours<=0||e.PerDayWorkingHours>0)&&1==e.ShowDayTime,expression:"(item.PerDayWorkingHours <= 0 || item.PerDayWorkingHours > 0 ) && item.ShowDayTime == 1"}],staticClass:"row mt-0 pt-0",class:"divtotime_"+e.UserId},[a("span",{staticClass:"w-100 float-left text-center"},[a("a",{staticClass:"ahrsPerDay readmore",staticStyle:{color:"#007bff !important"},attrs:{href:"javascript:;"},on:{click:function(a){return t.HoursPerDay("hours",e.UserId)}}},[t._v(t._s(t.$t("BookHoursPerDay")))])]),s<=1?a("div",{staticClass:"input-group col-6",staticStyle:{"max-height":"35px"}},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"txtFromTimePerDay",popover:t.popover,id:"txtFromTimePerDay_"+e.UserId,"minute-increment":5,"DayStartTime-id":e.RowIndex,onpaste:"return false;"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.DayStartTime,callback:function(a){t.$set(e,"DayStartTime",a)},expression:"item.DayStartTime"}})],1):t._e(),s>1?a("div",{staticClass:"input-group col-6"},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"txtFromTimePerDay",popover:t.popover,id:"txtFromTimePerDay_"+e.UserId,"minute-increment":5,"DayStartTime-id":e.RowIndex,onpaste:"return false;"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.DayStartTime,callback:function(a){t.$set(e,"DayStartTime",a)},expression:"item.DayStartTime"}})],1):t._e(),s<=1?a("div",{staticClass:"input-group col-6",staticStyle:{"max-height":"35px"}},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"txtToTimePerDay",popover:t.popover,id:"txtToTimePerDay"+e.UserId,"minute-increment":5,"DayStopTime-id":e.RowIndex,onpaste:"return false;"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.DayStopTime,callback:function(a){t.$set(e,"DayStopTime",a)},expression:"item.DayStopTime"}})],1):t._e(),s>1?a("div",{staticClass:"input-group col-6"},[a("v-date-picker",{staticClass:"input-group",attrs:{name:"txtToTimePerDay",popover:t.popover,id:"txtToTimePerDay"+e.UserId,"minute-increment":5,"DayStopTime-id":e.RowIndex,onpaste:"return false;"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents,o=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},domProps:{value:s}},i)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:e.DayStopTime,callback:function(a){t.$set(e,"DayStopTime",a)},expression:"item.DayStopTime"}})],1):t._e(),a("div",{staticClass:"input-group col-12"},[a("span",{staticClass:"text-danger w-100",staticStyle:{display:"none"},attrs:{id:"spnToTimeValidation","spnToTimeValidation-id":e.RowIndex}},[t._v(" "+t._s(t.$t("ShiftTimeValiditionMessage"))+t._s(e.ShiftStartTime)+" - "+t._s(e.ShiftEndTime))])]),a("input",{staticClass:"hdnSpecificTime",attrs:{type:"hidden",id:"hdnSpecificTime"+e.UserId},domProps:{value:null==e.HourPerDay&&null!=e.DayStartTime?1:0}})])]),a("td",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.TaskType,expression:"item.TaskType"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"rdoFixed"+e.UserId,checked:"checked",value:"0",name:"TaskType"+e.UserId},domProps:{checked:t._q(e.TaskType,"0")},on:{change:function(a){return t.$set(e,"TaskType","0")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"rdoFixed"+e.UserId}},[t._v(t._s(t.$t("Fixed")))])]),a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.TaskType,expression:"item.TaskType"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"rdoOptional"+e.UserId,value:"1",name:"TaskType"+e.UserId},domProps:{checked:t._q(e.TaskType,"1")},on:{change:function(a){return t.$set(e,"TaskType","1")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"rdoOptional"+e.UserId}},[t._v(t._s(t.$t("Optional")))])])])]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Description,expression:"item.Description"}],class:{"form-control":!0},staticStyle:{"max-height":"70px","white-space":"break-spaces"},attrs:{type:"text",Value:e.Description,name:e.Description},domProps:{value:e.Description},on:{input:function(a){a.target.composing||t.$set(e,"Description",a.target.value)}}})])]):t._e()]})),t.noRecordTask?a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"10"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])])]),a("div",{staticClass:"modal-footer text-right"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[a("a",{staticClass:"btn btn-success text-white",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.MoveMembers()}}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])])])])])])])],1)},Q=[],Z=(a("a9e3"),a("498a"),a("caad"),a("2532"),{props:{checkVueodolist:null,projectid:{type:String,required:!0}},data:function(){return{isLoading:!1,AllocationModal:null,task_Id:null,projectid:null,taskTeams:[],selectedTaskTeam:[],noRecordTask:!0,isSearch:!0,checkTaskAll:!1,AllocatedHours:null,searchText:"",currencyName:"",StartDate:null,EndDate:null,DayStartTime:null,DayStopTime:null,PerDayWorkingHours:null,HourPerDay:null,MinutesPerDay:0,TaskType:null,Description:"",StartTime:null,EndTime:null,FromTimeError:!0,PlanStartDate:null,PlanEndDate:null,datePickerMaxConfig:{format:String("M/dd/yyyy").toUpperCase(),useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,widgetPositioning:{horizontal:"left",vertical:"bottom"}},datePickerMaxConfigTop:{format:String("M/dd/yyyy").toUpperCase(),useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,widgetPositioning:{horizontal:"left",vertical:"top"}},timePickerMaxConfig:{format:"24"==$("#hdnTimeFormat").val()?"HH:mm":String("h:mm tt").replace("t","A").replace("t",""),useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,widgetPositioning:{horizontal:"left",vertical:"bottom"}},timePickerMaxConfigTop:{format:"24"==$("#hdnTimeFormat").val()?"HH:mm":String("h:mm tt").replace("t","A").replace("t",""),useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,widgetPositioning:{horizontal:"left",vertical:"top"}},selectedHours:[],selectOptionsHours:[{Hourvalue:null,name:"Select Hour"},{Hourvalue:"0",name:"00"},{Hourvalue:1,name:"01"},{Hourvalue:2,name:"02"},{Hourvalue:3,name:"03"},{Hourvalue:4,name:"04"},{Hourvalue:5,name:"05"},{Hourvalue:6,name:"06"},{Hourvalue:7,name:"07"},{Hourvalue:8,name:"08"},{Hourvalue:9,name:"09"},{Hourvalue:10,name:"10"},{Hourvalue:11,name:"11"},{Hourvalue:12,name:"12"},{Hourvalue:13,name:"13"},{Hourvalue:14,name:"14"},{Hourvalue:15,name:"15"},{Hourvalue:16,name:"16"},{Hourvalue:17,name:"17"},{Hourvalue:18,name:"18"},{Hourvalue:19,name:"19"},{Hourvalue:20,name:"20"},{Hourvalue:21,name:"21"},{Hourvalue:22,name:"22"},{Hourvalue:23,name:"23"},{Hourvalue:24,name:"24"}],selectedMinutes:[],selectOptionsMinutes:[{Minutevalue:null,name:"Select Minute"},{Minutevalue:0,name:"00"},{Minutevalue:15,name:"15"},{Minutevalue:30,name:"30"},{Minutevalue:45,name:"45"}],DependentOption:[{format:String("M/dd/yyyy").toUpperCase(),useCurrent:!1,showClear:!1,showClose:!1,allowInputToggle:!0,minDate:new Date(Date.now())},{format:String("M/dd/yyyy").toUpperCase(),useCurrent:!1,showClear:!1,showClose:!1,allowInputToggle:!0}],tsDate:null,teDate:null,AllocatedTaskHours:null}},created:function(){var t=this;t.task_Id=checkVueodolist.modalAddEditTaskId,t.projectid=checkVueodolist.ProjectId,t.selectedTaskTeam=checkVueodolist.TaskTeam,t.AllocatedHours=checkVueodolist.itemHours,t.AllocatedTaskHours=checkVueodolist.TaskHours,t.tsDate=checkVueodolist.sDate,t.teDate=checkVueodolist.eDate,"undefined"!=typeof t.task_Id&&null!=t.task_Id||(t.task_Id=0),null!=t.task_Id&&null!=t.projectid&&t.FetchData(t.task_Id,t.projectid,t.selectedTaskTeam),t.currencyName="@loggedUserInfo.Currency",t.AllocationModal=t.$parent.AllocationModal,t.GetSelectOptionsMinutes()},methods:(i={CheckTeamHours:function(t){var e=this;t.Taskhours;if(null!=t.PlanStartDate&&""!=t.PlanStartDate&&null!=t.PlanEndDate&&""!=t.PlanEndDate){var a=this.GetProjectWorkingDays(e.projectid,t.PlanStartDate,t.PlanEndDate),s=($("hdnSpecificTime"+t.UserId).closest("tr"),Number(t.HourPerDay));if("1"==$("#hdnSpecificTime"+t.UserId).val()||1==$("#txtFromTimePerDay_"+t.UserId).is(":visible")){$("#hdnSpecificTime"+t.UserId).val("1");var i=$("#txtFromTimePerDay_"+t.UserId).val(),o=$("#txtToTimePerDay_"+t.UserId).val(),n=this.TimeDifference(t.PlanStartDate,i,o),r=Number(n)*Number(a);t.Taskhours<r&&(t.Taskhours=r)}else{r=Number(s)*Number(a);t.Taskhours<r&&(t.Taskhours=r)}}},TimeDifference:function(t,e,a){var s=new Date(t+" "+e),i=new Date(t+" "+a),o=i.getTime()-s.getTime(),n=o,r=Math.floor(n/1e3/60/60);n-=1e3*r*60*60;var l=Math.floor(n/1e3/60);n-=1e3*l*60;var d=Math.floor(n/1e3);return n-=1e3*d,l>0?Number(r)+1:r},DaysBetweenDates:function(t,e){var a=864e5,s=new Date(t.setHours(0,0,0,0)),i=new Date(e.setHours(0,0,0,0)),o=Math.round(Math.abs((s.getTime()-i.getTime())/a));return o+1},GetProjectWorkingDays:function(t,e,a){var s=0,i=this;i.isLoading=!0;var o="projectId="+t+"&startDate="+e+"&endDate="+a;l["a"].GetProjectWorkingDays(o).then((function(t){if(i.isLoading=!1,t.result.DATA.length>0)return s=t.result.DATA[0].WORKING_DAYS,s}))},isNumberHoursTeam:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(e>31&&(e<48||e>57)&&46!==e)t.preventDefault();else if(event.which<48||event.which>57)event.preventDefault();else{if(!(e>31&&(e<48||e>57)&&46==e))return!0;event.preventDefault()}},GetSelectOptionsMinutes:function(){var t=[],e={Minutevalue:"",name:String.Format(this.$t("SelectNameMultiSelect"),this.$t("Minute"))};t.push(e);for(var a=0;a<60;a++)a=a<10?"0"+a:a,e={Minutevalue:a,name:a},t.push(e);this.selectOptionsMinutes=t},formatDate:function(t){if(t)return moment(String(t)).format(String("M/dd/yyyy").toUpperCase())},formatDateYYYYMMDD:function(t){var e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),i=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")},getStarDateResource:function(t,e,a){var s=moment(checkVueodolist.sDate).format("MM/DD/YYYY"),i=moment(checkVueodolist.eDate).format("MM/DD/YYYY"),o=Date.parse(s),n=Date.parse(i),r=Date.parse(e),l=Date.parse(a);return r<o||r>n?(vm.ShowAlert("From date should be in between task start and end date.","warning",!0,this.$t("Alert")),t.PlanStartDate=s,!1):r>l?(vm.ShowAlert("From date can not be greater than to date.","warning",!0,this.$t("Alert")),t.PlanStartDate="Invalid date"==s?"":s,!1):void 0},getEndDateResource:function(t,e,a){var s=moment(checkVueodolist.eDate).format("MM/DD/YYYY"),i=moment(checkVueodolist.sDate).format("MM/DD/YYYY"),o=Date.parse(s),n=Date.parse(i),r=Date.parse(e),l=Date.parse(a);return r>o||r<n?(this.ShowAlert("To date should be in between task start and end date.","warning",!0,this.$t("Alert")),t.PlanEndDate=s,!1):r<l?(this.ShowAlert("To date can not be less than from date.","warning",!0,this.$t("Alert")),t.PlanEndDate="Invalid date"==s?"":s,!1):void 0},TimeToPerDay:function(t,e,a){var s,i,o=moment(e).format("hh:mm A"),n=moment(a).format("hh:mm A"),r=!1,l=!1;n.toUpperCase().indexOf("PM")>0?(n=n.replace("PM","").trim(),n=n.split(":"),i=60*(parseInt(n[0])+12)+parseInt(n[1])):(n=n.replace("AM","").trim(),n=n.split(":"),i=60*parseInt(n[0])+parseInt(n[1]),r=!0),o.toUpperCase().indexOf("PM")>0?(o=o.replace("PM","").trim(),o=o.split(":"),s=60*(parseInt(o[0])+12)+parseInt(o[1]),r||(l=!0)):(o=o.replace("AM","").trim(),o=o.split(":"),s=60*parseInt(o[0])+parseInt(o[1]),r&&(l=!0)),l&&(r=!1);var d,c=t.replace("AM","").trim();t.toUpperCase().indexOf("PM")>0?(c=c.replace("PM","").trim(),c=c.split(":"),d=12==parseInt(c[0])?60*parseInt(c[0])+parseInt(c[1]):60*(parseInt(c[0])+12)+parseInt(c[1])):(c=c.replace("AM","").trim(),c=c.split(":"),d=12==parseInt(c[0])?0+parseInt(c[1]):60*parseInt(c[0])+parseInt(c[1])),((d>=s||d<=i)&&r||d>=s&&d<=i&&!r||d>=s&&d<=i&&l)&&(this.FromTimeError=!1)},TimeFromPerDay:function(t,e,a){var s,i,o=moment(e).format("hh:mm A"),n=moment(a).format("hh:mm A"),r=!1,l=!1;o.toUpperCase().indexOf("PM")>0?(o=o.replace("PM","").trim(),o=o.split(":"),s=60*(parseInt(o[0])+12)+parseInt(o[1]),r=!0):(o=o.replace("AM","").trim(),o=o.split(":"),s=60*parseInt(o[0])+parseInt(o[1])),n.toUpperCase().indexOf("PM")>0?(n=n.replace("PM","").trim(),n=n.split(":"),i=60*(parseInt(n[0])+12)+parseInt(n[1]),r&&(l=!0)):(n=n.replace("AM","").trim(),n=n.split(":"),i=60*parseInt(n[0])+parseInt(n[1]),r||(l=!0)),l&&(r=!1);var d,c=t.replace("AM","").trim();t.toUpperCase().indexOf("PM")>0?(c=c.replace("PM","").trim(),c=c.split(":"),d=12==parseInt(c[0])?60*parseInt(c[0])+parseInt(c[1]):60*(parseInt(c[0])+12)+parseInt(c[1])):(c=c.replace("AM","").trim(),c=c.split(":"),d=12==parseInt(c[0])?0+parseInt(c[1]):60*parseInt(c[0])+parseInt(c[1])),((d>=s||d<=i)&&r||d>=s&&d<=i&&!r||d>=s&&d<=i&&l)&&(this.FromTimeError=!1)},SpecificTime:function(t,e){$(".divtotime_"+e).show(),$(".divfromtime_"+e).hide(),$("#hdntimebooking").val("1"),$("#hdnSpecificTime"+e).val("1"),$(".ahrsPerDay").show()},HoursPerDay:function(t,e){$(".divtotime_"+e).hide(),$(".divfromtime_"+e).show(),$(".aSpecTime").show(),$("#hdntimebooking").val("0"),$("#hdnSpecificTime"+e).val("0")}},Object(K["a"])(i,"formatDate",(function(t){if(t)try{var e="h:mm tt";e=String(e).replace("t","A").replace("t","");var a=new Date(moment(String(t)).year(),moment(String(t)).month(),moment(String(t)).date(),moment(String(t)).hours(),moment(String(t)).minutes());return moment(a,"YYYY-MM-DD HH:mm:ss").format(String("M/dd/yyyy").toUpperCase()+" "+String(e))}catch(s){e="h:mm tt";return e=String(e).replace("t","a").replace("t",""),moment(String(t)).format(String("M/dd/yyyy").toUpperCase()+" "+String(e))}})),Object(K["a"])(i,"Reset",(function(){var t=this;t.searchText="",null!=t.taskTeams&&""!=t.taskTeams&&($.each(t.taskTeams,(function(t,e){e.isSearch=!0})),t.noRecordTask=!1),setTimeout("CheckBoxBootstrap()",100)})),Object(K["a"])(i,"searchMember",(function(t){var e=this;$.each(e.taskTeams,(function(e,a){a.MemberName.toLowerCase().includes(t.toLowerCase())?a.isSearch=!0:a.isSearch=!1}));var a=$.grep(e.taskTeams,(function(t,e){return 1==t.isSearch}));a.length>0?e.noRecordTask=!1:e.noRecordTask=!0,setTimeout("CheckBoxBootstrap()",100)})),Object(K["a"])(i,"chkTaskSelectALL",(function(t){var e=this;$.each(e.taskTeams,(function(e,a){$("#tblteamlisting").find("tr[data-id='"+a.UserId+"']").is(":visible")&&(a.isTaskSelected=t)}))})),Object(K["a"])(i,"checkAllValChange",(function(t){0==t.isTaskSelected&&(this.checkTaskAll=!1)})),Object(K["a"])(i,"isNumber",(function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(e>31&&(e<48||e>57)&&46!==e)t.preventDefault();else{if(46!==e)return!0;t.preventDefault()}})),Object(K["a"])(i,"isNumberColon",(function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e||46===e))return!0;58!==e&&t.preventDefault()})),Object(K["a"])(i,"hoursColon",(function(t){vm=this;for(var e=":",a=t.Taskhours,s=0;s<e.length;s++){var i=e.charAt(s);a.split(i).length>2&&(t.Taskhours=a.substring(0,a.lastIndexOf(":")))}var o=t.Taskhours;if(-1!=o.indexOf(":")){var n=o.split(":"),r=n[0],l=n[1];if(r>9999999999)return vm.ShowAlert(vm.$t("HoursExceedWarning"),"warning",!0,vm.$t("Alert")),"";var d=/[0]/;return r<9&&0!=parseInt(r,10)?(r="0"+r,r=r.split("00").join(""),r.match(d)||(r="0"+r)):0==parseInt(r,10)&&(r="00"),l<9&&0!=parseInt(l,10)?(l="0"+l,l=l.split("00").join(""),l.match(d)||(l="0"+l)):0==parseInt(l,10)&&(l="00"),""==l?r+":00":l>59?r+":59":r+":"+l}var c=parseInt(Number(t.Taskhours),10);if(c>9999999999)return this.ShowAlert(this.$t("HoursExceedWarning"),"warning",!0,this.$t("Alert")),"";var u=Math.round(60*(Number(t.Taskhours)-c));c<=9&&(c="0"+c),u<=9&&(u="0"+u);var m=c+":"+u;t.Taskhours="00:00"==m?"":m})),Object(K["a"])(i,"CommonConvertHHmmToSeconds",(function(t){try{if(String(t).includes(":")){var e=t.split(":"),a=60*parseInt(e[0],10)*60,s=60*parseInt(e[1],10),i=a+s;return i}e=t,a=60*parseInt(t)*60;return a}catch(o){return t}})),Object(K["a"])(i,"RemoveTeam",(function(){var t=this;t.confirmR(this.$t("Remove_Confirmation_Task"),!0,null,(function(e){checkVueodolist.AllocationModal.Team=[],t.$emit("close")}))})),Object(K["a"])(i,"MoveMembers",(function(){var t=!1,e=this;$.each(this.taskTeams,$.proxy((function(t,e){$("input[Hours-id='"+e.RowIndex+"']").removeClass("is-invalid"),$("input[Rate-id='"+e.RowIndex+"']").removeClass("is-invalid"),$("input[PlanStartDate-id='"+e.RowIndex+"']").removeClass("is-invalid"),$("input[PlanEndDate-id='"+e.RowIndex+"']").removeClass("is-invalid"),$("input[daystarttime-id='"+e.RowIndex+"']").removeClass("is-invalid"),$("input[daystoptime-id='"+e.RowIndex+"']").removeClass("is-invalid"),$("span[spntotimevalidation-id='"+e.RowIndex+"']").hide()})));var a=$.grep(this.taskTeams,(function(t,e){return 1==t.isTaskSelected}));if(""==a)return e.ShowAlert(e.$t("PleaseSelectAtleastOneItem"),"warning",!0,e.$t("Alert")),!1;$.each(a,$.proxy((function(a,s){if($("input[Hours-id='"+s.RowIndex+"']").removeClass("is-invalid"),$("input[Rate-id='"+s.RowIndex+"']").removeClass("is-invalid"),$("input[PlanStartDate-id='"+s.RowIndex+"']").removeClass("is-invalid"),$("input[PlanEndDate-id='"+s.RowIndex+"']").removeClass("is-invalid"),$("input[daystarttime-id='"+s.RowIndex+"']").removeClass("is-invalid"),$("input[daystoptime-id='"+s.RowIndex+"']").removeClass("is-invalid"),$("span[spntotimevalidation-id='"+s.RowIndex+"']").hide(),(""==s.Rate||null==s.Rate||parseFloat(s.Rate)<=0)&&($("input[Rate-id='"+s.RowIndex+"']").addClass("is-invalid"),t=!0),(""==s.Taskhours||null==s.Taskhours||parseFloat(s.Taskhours,10)<=0)&&($("input[Hours-id='"+s.RowIndex+"']").addClass("is-invalid"),t=!0),""!=s.PlanStartDate&&null!=s.PlanStartDate||($("input[PlanStartDate-id='"+s.RowIndex+"']").addClass("is-invalid"),t=!0),""!=s.PlanEndDate&&null!=s.PlanEndDate||($("input[PlanEndDate-id='"+s.RowIndex+"']").addClass("is-invalid"),t=!0),0==$("#txthourPerDay_"+s.UserId).is(":visible")&&""!=s.PlanStartDate&&null!=s.PlanStartDate){var i=new Date(s.PlanStartDate+" "+$("#txtFromTimePerDay_"+s.UserId).val()),o=new Date(s.PlanStartDate+" "+$("#txtToTimePerDay_"+s.UserId).val()),n=new Date(s.PlanStartDate+" "+s.ShiftStartTime),r=new Date(s.PlanStartDate+" "+s.ShiftEndTime);String($("#txtFromTimePerDay_"+s.UserId).val()).includes("PM")&&String($("#txtToTimePerDay_"+s.UserId).val()).includes("PM")&&o<i&&($("input[daystarttime-id='"+s.RowIndex+"']").addClass("is-invalid"),$("input[daystoptime-id='"+s.RowIndex+"']").addClass("is-invalid"),t=!0),r<n&&r.setDate(r.getDate()+1),(i<n||o>r)&&($("input[daystarttime-id='"+s.RowIndex+"']").addClass("is-invalid"),$("input[daystoptime-id='"+s.RowIndex+"']").addClass("is-invalid"),$("span[spntotimevalidation-id='"+s.RowIndex+"']").show(),t=!0)}$("#txthourPerDay_"+s.UserId).is(":visible")?(s.ShowDayTime=0,s.HourPerDay>0?e.CheckTeamHours(s):s.HourPerDay=0):(s.ShowDayTime=1,s.HourPerDay=null,e.CheckTeamHours(s));var l=$("#txthourPerDay_"+s.UserId).val(),d=$("#txtMinutesPerDay_"+s.UserId).val();d=0;parseFloat(60*parseFloat(l,10),10),parseFloat(d,10),e.ConvertHoursToMinutes(s.Taskhours);0==$("#txthourPerDay_"+s.UserId).is(":visible")&&$("#hdnSpecificTime"+s.UserId).val("1")})));var s=0;if(t)e.ShowAlert(e.$t("CorrectHighlightedErrors"),"warning",!0,e.$t("Alert"));else{if($.each(a,$.proxy((function(t,e){""!=e.Taskhours&&null!=e.Taskhours||(e.Taskhours="0"),s+=parseFloat(String(e.Taskhours).replace(":","."),10)}))),""==e.AllocatedTaskHours&&(e.AllocatedTaskHours=0),e.CommonConvertHHmmToSeconds(s)>e.CommonConvertHHmmToSeconds(e.AllocatedTaskHours))return e.ShowAlert(e.$t("TotalTaskTeamHoursMessage",[e.AllocatedTaskHours]),"warning",!0,e.$t("Alert")),!1;checkVueodolist.Team=[],$.each(a,$.proxy((function(t,a){var s=0,i=$("#hdnSpecificTime"+a.UserId).val();if(i=0==$("#txthourPerDay_"+a.UserId).is(":visible")?"1":"0","0"==i)MinutesPerDay=0,s=60*parseInt(a.HourPerDay,10)+parseInt(a.MinutesPerDay,10);else{var o=new Date("2020/01/01 "+String(a.DayStartTime).toLowerCase()),n=new Date("2020/01/01 "+String(a.DayStopTime).toLowerCase());n<o&&n.setDate(n.getDate()+1),o.setMinutes(0),n.setMinutes(0);var r=n-o;s=Math.floor(r/1e3/60)}checkVueodolist.Team.push({TaskId:e.task_Id,ProjectId:e.projectid,UserId:a.UserId,UserName:a.MemberName,Rate:a.Rate,TaskHours:e.CommonConvertHHmmToSeconds(a.Taskhours),StartDate:""==a.PlanStartDate||null==a.PlanStartDate?null:moment(a.PlanStartDate).format("MM/DD/YYYY"),EndDate:""==a.PlanEndDate||null==a.PlanEndDate?null:moment(a.PlanEndDate).format("MM/DD/YYYY"),DayStartTime:"1"==i?a.DayStartTime:null,DayStopTime:"1"==i?a.DayStopTime:null,PerDayWorkingHours:s,TaskType:a.TaskType,Description:a.Description,ShowDayTime:a.ShowDayTime>0?1:0})})));var i=JSON.stringify(checkVueodolist.Team);l["a"].SaveTaskTeam(i).then((function(t){"0"==t.data.result?(e.ShowAlert(e.$t("TaskAssignedToTeam"),"success",!0,e.$t("Alert")),checkVueodolist.FetchDataKanban("kanban",null),this.$emit("close"),e.isLoading=!1):(e.ShowAlert(e.$t("ProcessingError"),"failure",!0,e.$t("Alert")),e.isLoading=!1),e.isLoading=!1}))}})),Object(K["a"])(i,"ConvertHoursToMinutes",(function(t){if(String(t).includes(":")){var e=t.split(":"),a=60*parseInt(e[0],10),s=parseInt(e[1],10),i=a+s;return i}return t})),Object(K["a"])(i,"CommonConvertDecimalToHHMM",(function(t,e){var a=Math.floor(parseFloat(t/3600),0),s=Math.floor(parseFloat(t%3600/60),0);Math.floor(parseFloat(t%3600%60),0);if(a>0?a<10&&(a=parseFloat("0"+a)):a=parseFloat("00"),s>0?s<10&&s>0&&(s=parseFloat("00"+s)):s="00",e)return a;var i=a+":"+s;return i})),Object(K["a"])(i,"FetchData",(function(t,e,a){var s=this,i=0;l["a"].AddMemberInTaskByTaskID("Projectid="+e+"&taskId="+t+"&search=&userIds=").then((function(t){if(null!=t.status&&""!=t.status){s.taskTeams=t.status;var e=String("M/dd/yyyy").toUpperCase(),o="",n="h:mm tt";n=String(n).replace("t","A").replace("t",""),"24"==$("#hdnTimeFormat").val()&&(n="HH:mm"),$.each(s.taskTeams,$.proxy((function(t,r){r.isTaskSelected=!1,r.disabled=!1,r.isSearch=!0,r.RowIndex="RowIndexGlobal_"+t;var l=moment.utc().toDate();r.DayStartTime=moment(l).format(n);var d=moment.utc().toDate();r.DayStopTime=moment(d).add(1,"hours").format(n),null!=r.Taskhours&&""!=r.Taskhours||(r.Taskhours="0");var c=$.grep(a,(function(t,e){return t.UserId==r.UserId}));r.MinutesPerDay="00",$.each(c,$.proxy((function(t,a){if(o="yes",r.UserId==a.UserId){if(r.isTaskSelected=!0,i++,null!=a.TaskHours&&""!=a.TaskHours&&a.TaskHours>0?r.Taskhours=s.CommonConvertDecimalToHHMM(a.TaskHours,!0):r.Taskhours="0",null!=a.Rate&&""!=a.Rate&&(r.Rate=a.Rate),null!=a.StartDate&&""!=a.StartDate?r.PlanStartDate=moment(a.StartDate).format(e):r.PlanStartDate=moment(s.AllocationModal.PlanStartDate).format(e),null!=a.EndDate&&""!=a.EndDate?r.PlanEndDate=moment(a.EndDate).format(e):r.PlanEndDate=moment(s.AllocationModal.PlanEndDate).format(e),null!=a.TaskType&&""!=a.TaskType&&(r.TaskType=a.TaskType),null!=a.Description&&""!=a.Description&&(r.Description=a.Description),r.ShowDayTime=0,null!=a.DayStartTime){r.ShowDayTime=1;var l=moment(a.DayStartTime).format(n);"Invalid date"!=l.trim()?r.DayStartTime=moment(a.DayStartTime).format(n):r.DayStartTime=a.DayStartTime}if(null!=a.DayStopTime){r.ShowDayTime=1;l=moment(a.DayStopTime).format(n);"Invalid date"!=l.trim()?r.DayStopTime=moment(a.DayStopTime).format(n):r.DayStopTime=a.DayStopTime}var d=!0;if(a.PerDayWorkingHours>0){d=!1;Math.floor(a.PerDayWorkingHours%60);var c=Math.floor(a.PerDayWorkingHours/60);r.HourPerDay=c>0?Math.floor(c):0}else r.HourPerDay=0;null!=a.DayStopTime&&null!=a.DayStopTime&&(d=!1,r.HourPerDay=r.HourPerDay>0?r.HourPerDay:0,r.MinutesPerDay="00"),d&&(r.MinutesPerDay="00")}}))),""==o&&(r.PlanStartDate=moment(s.AllocationModal.PlanStartDate).format(e),r.PlanEndDate=moment(s.AllocationModal.PlanEndDate).format(e))}))),s.taskTeams.length==i&&(s.checkTaskAll=!0),s.noRecordTask=!1}setTimeout("CheckBoxBootstrap()",100),setTimeout("RadioButtonBootstrap()",400),setTimeout((function(){$(".table-fix-header").off("scroll").on("scroll",(function(t){t.stopImmediatePropagation(),$(this).find("input:text").trigger("blur"),$(".bootstrap-datetimepicker-widget").remove()}))}),500)}))})),i)}),X=Z,tt=Object(v["a"])(X,z,Q,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog mw-1000"},[a("div",{staticClass:"modal-content mw-800"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Message"))+": "+t._s(t.Title))]),a("button",{staticClass:"close",attrs:{type:"button",title:t.$t("Close")},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("Form",{ref:"RequestTimeComment"},[a("input",{attrs:{type:"hidden",name:"MessageBoardCategoryId",value:""}}),a("input",{attrs:{type:"hidden",name:"MessageBoardCategoryCode",value:""}}),a("input",{attrs:{type:"hidden",name:"ProjectId"},domProps:{value:t.PROJECT_ID}}),a("input",{attrs:{type:"hidden",name:"RequestType",value:"post"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.UserList,expression:"UserList"}],attrs:{type:"hidden",name:"UserList"},domProps:{value:t.UserList},on:{input:function(e){e.target.composing||(t.UserList=e.target.value)}}}),a("input",{attrs:{type:"hidden",name:"TaskId"},domProps:{value:t.TASK_ID}}),a("input",{attrs:{type:"hidden",name:"CreatedBy",value:"0"}}),a("input",{attrs:{type:"hidden",name:"PostedBy",value:""}}),a("input",{attrs:{type:"hidden",name:"CreatedAt",value:""}}),a("input",{attrs:{type:"hidden",name:"ModifiedBy",value:""}}),a("input",{attrs:{type:"hidden",name:"ModifiedAt",value:""}}),a("input",{attrs:{type:"hidden",name:"StatusId",value:"0"}}),a("input",{attrs:{type:"hidden",name:"MessageType",value:"s"}}),a("input",{attrs:{type:"hidden",name:"UnreadComments",value:"0"}}),a("input",{attrs:{type:"hidden",name:"TotalComments",value:"0"}}),a("input",{attrs:{type:"hidden",name:"UserImagePath",value:""}}),a("input",{attrs:{type:"hidden",name:"UserType",value:""}}),a("input",{attrs:{type:"hidden",name:"ProjectName",value:""}}),a("input",{attrs:{type:"hidden",name:"FileCount",value:"0"}}),a("input",{attrs:{type:"hidden",name:"IsRead",value:"false"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Title,expression:"Title"}],attrs:{type:"hidden",name:"MessageBoardTitle"},domProps:{value:t.Title},on:{input:function(e){e.target.composing||(t.Title=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.CommentText,expression:"CommentText"}],attrs:{type:"hidden",name:"MessageBoardContent"},domProps:{value:t.CommentText},on:{input:function(e){e.target.composing||(t.CommentText=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RefSourceName,expression:"RefSourceName"}],attrs:{type:"hidden",name:"RefSourceName"},domProps:{value:t.RefSourceName},on:{input:function(e){e.target.composing||(t.RefSourceName=e.target.value)}}}),a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",{attrs:{for:"zone name"}},[t._v(t._s(t.$t("Comments"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.CommentText,expression:"CommentText"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,"is-invalid":t.errors.has("RequestTimeComment.CommentText")},attrs:{type:"text",maxlength:"500"},domProps:{value:t.CommentText},on:{input:function(e){e.target.composing||(t.CommentText=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("RequestTimeComment.CommentText"),expression:"errors.has('RequestTimeComment.CommentText')"}],staticClass:"invalid-feedback"},[t._v("@string.Format("+t._s(t.$t("Required"))+", "+t._s(t.$t("Comments"))+")")])])]),a("div",{staticClass:"row flex-row-reverse mt-2"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success text-white",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.SaveRequestComment()}}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("Save")))]),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v(" "+t._s(t.$t("Cancel")))])]),a("div",{staticClass:"col-lg-6"})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",attrs:{id:"requestlogcommentlistingDiv"}})])])])],1)])])])])],1)},st=[],it={data:function(){return{ImageAvatar:"/Content/images/DefaultImages/avatar-icon.jpg",ImageUser:"",CreatedBy:"",CreatedAt:"",MessageBoardId:"",CommentText:"",CommentData:null,Title:"",noRecord:!1,RefSourceName:"TaskComment",PROJECT_ID:0,UserList:[],TASK_ID:0,isLoading:!1}},created:function(){var t=this;t.MessageBoardId=t.$parent.SelectedItem.MESSAGE_BOARD_ID,t.CommentData=t.$parent.SelectedItem,t.CreatedAt=t.$parent.SelectedItem.CREATED_AT,t.Title=t.$parent.SelectedItem.TASK_NAME,t.PROJECT_ID=t.$parent.SelectedItem.PROJECT_ID,t.TASK_ID=t.$parent.SelectedItem.TASK_ID,GetRequestTimeComment(t.$parent.SelectedItem.TASK_ID)},methods:{formatDateTime:function(t){if(t)try{var e="h:mm tt";e=String(e).replace("t","A").replace("t","");var a=new Date(moment(String(t)).year(),moment(String(t)).month(),moment(String(t)).date(),moment(String(t)).hours(),moment(String(t)).minutes());return moment(a,"YYYY-MM-DD HH:mm:ss").format(String("M/d/yyyy").toUpperCase()+" "+String(e))}catch(s){e="h:mm tt";return e=String(e).replace("t","a").replace("t",""),moment(String(t)).format(String("M/d/yyyy").toUpperCase()+" "+String(e))}},SaveMessageData:function(){var t=this,e="";l["a"].MessagePost(e).then((function(e){"0"==e.error?(t.MessageBoardId=e.msgBoardId,l["a"].MessagesRequestTime({title:t.Title,comment:t.CommentText,msgboardid:data.msgBoardId,projectid:t.$parent.SelectedItem.PROJECT_ID,taskid:t.$parent.SelectedItem.TASK_ID,request_time_sec:0}).then((function(e){null!=e.result.GROUP_ID&&""!=e.result.GROUP_ID?(t.SaveRequestCommentData(),t.isLoading=!1):t.isLoading=!1}))):t.isLoading=!1}))},SaveRequestCommentData:function(){var t=this,e={MessageBoardId:t.MessageBoardId,Title:t.Title,Comment:t.CommentText};l["a"].SaveCommentLog(e).then((function(e){e.data.result.ID>0&&(t.ShowAlert(t.$t("CreatedSuccessfully",[t.$t("Comment")]),"success",!0,t.$t("Alert")),t.$emit("close"),t.$parent.FetchDataKanban("kanban",null))}))},SaveRequestComment:function(){var t=this;t.$ref.RequestTimeComment.validate().then((function(e){e.valid&&(t.MessageBoardId>0?t.SaveRequestCommentData():t.SaveMessageData())}))}}},ot=it,nt=Object(v["a"])(ot,at,st,!1,null,null,null),rt=nt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal my-popups right fade",attrs:{"data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpop",role:"dialog"}},[a("div",{staticClass:"modal-dialog maxwidth500",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",staticStyle:{height:"56px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseQuickView()}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v(t._s(t.TASK_NAME)+" "+t._s(t.QuickViewType))])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"white_bx"},[a("div",{staticClass:"col-lg-12 p-0"},[0==t.IsViewResourcesClicked?a("div",["attachment"!=t.QuickViewType?a("div",{staticClass:"heading-border mb-3",attrs:{id:"status"}},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("Progress")))]),a("div",{staticClass:"btnnot px-2 text-white d-block text-center",style:{backgroundColor:t.STATUS_BG_COLOR,color:t.STATUS_COLOR}},[t._v(t._s(t.ProjectStatus))])])]):t._e(),"attachment"!=t.QuickViewType?a("div",{staticClass:"level_info mb-3"},[a("ul",[a("li",[a("b",{staticStyle:{color:"#23a5fd"}},[t._v(t._s(t.AllocateHours))]),t._v(" "+t._s(t.$t("AllocatedHours")))]),a("li",[a("b",{staticStyle:{color:"#28a745"}},[t._v(t._s(t.TrackHours))]),t._v(t._s(t.$t("TrackedHours"))+" ")])]),a("div",{staticClass:"progress prog_bx"},[a("div",{staticClass:"progress-bar",class:{"bg-sky":t.ExtraHours>0,"bg-red":t.ExtraHours<0},style:{width:t.HoursDonePercentage+"%"},attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}})]),t.ExtraHours<0?a("ul",[a("li",[a("b",{staticStyle:{color:"#ff0000"}},[t._v(t._s(t.ExceedHours))]),t._v(" Exceed Hours")])]):t._e()]):t._e()]):t._e(),a("div",{staticClass:"col-lg-12 p-0"},[0==t.IsViewResourcesClicked?a("div",["attachment"!=t.QuickViewType?a("div",{staticClass:"heading-border mb-3",attrs:{id:"status"}},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("Details")))])])]):t._e(),"attachment"!=t.QuickViewType?a("ul",{staticClass:"detail_list"},[a("li",[a("b",[t._v(" "+t._s(t.$t("ProjectName"))+":")]),t._v(" "),a("span",[t._v(" "+t._s("CRM_LEADS"==t.PROJECT_NAME?"CRM Lead":"CRM_DEALS"==t.PROJECT_NAME?"CRM Deal":"CRM_SALES_ORDERS"==t.PROJECT_NAME?"CRM SALES ORDER":"CRM_QUOTES"==t.PROJECT_NAME?"CRM QUOTES":t.PROJECT_NAME))])]),a("li",[a("b",[t._v(" "+t._s(t.$t("ProjectManager"))+":")]),t._v(" "),a("span",{attrs:{title:t.PM}},[t._v(t._s(t.PM))])]),a("li",[a("b",[t._v(t._s(t.$t("Isbillable"))+":")]),t._v(" "),a("span",[t._v(" "+t._s(0==t.IS_BILLABLE?"No":"Yes"))])]),a("li",[a("b",[t._v(t._s(t.$t("SAParent"))+t._s(t.$t("TaskName"))+" :")]),t._v(" "),a("span",[t._v(" "+t._s(t.PARENT_TASK))])]),a("li",[a("b",[t._v(t._s(t.$t("TaskName"))+":")]),t._v(" "),a("span",[t._v(" "+t._s(t.TASK_NAME))])]),a("li",[a("b",[t._v(t._s(t.$t("StartDateTime"))+":")]),t._v(" "),a("span",[t._v(" "+t._s(t.formatDate(t.START_DATE)))])]),a("li",[a("b",[t._v(t._s(t.$t("EndDateTime"))+":")]),t._v(" "),a("span",[t._v(t._s(t.formatDate(t.END_DATE)))])]),a("li",[a("b",[t._v(t._s(t.$t("TaskDescription"))+":")]),t._v(" "),a("span",[t._v(" "+t._s(t.TASK_DESCRIPTION))])]),a("li",[a("b",[t._v(t._s(t.$t("TaskRate"))+":")]),t._v(" "),a("span",[t._v(" "+t._s(t.TASK_RATE))])])]):t._e()]):t._e(),"attachment"!=t.QuickViewType?a("div",{staticClass:"heading-border mb-3",attrs:{id:"status"}},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("Details")))])])]):t._e(),a("vue-scroll",["attachment"!=t.QuickViewType?a("div",{staticClass:"p-0 col-12",staticStyle:{"max-height":"300px"},attrs:{id:"divscrollsetuptabs"}},[t._l(t.ProjectTeam,(function(e){return a("div",{key:e,staticClass:"profile-info mb-3"},[null!=e.Image_Url?a("span",{staticClass:"my-image d-none d-lg-block"},[a("img",{attrs:{src:e.Image_Url}})]):a("span",{staticClass:"my-image d-none d-lg-block"},[a("img",{attrs:{src:"/Content/images/DefaultImages/uc_user_new.jpg"}})]),a("span",{staticClass:"m-text"},[t._v(t._s(e.Team_Name))])])})),""==t.ProjectTeam?a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center borderbababa p-2 mb-4 no-record"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()],2):t._e()]),0==t.IsViewResourcesClicked?a("div",[a("div",{staticClass:"heading-border mb-3 pt-2",attrs:{id:"status"}},[a("h5",{staticClass:"h5"},[a("span",[t._v(" "+t._s(t.$t("Files")))])]),a("div",{staticClass:"text_link"})]),a("div",{staticClass:"w-100 d-none",staticStyle:{"max-height":"200px","overflow-y":"auto"},attrs:{id:"divscrollsetupfile"}},[t._l(t.fileData,(function(e,s){return a("a",{key:s,staticClass:"p-1 m-1 d-block",attrs:{title:e.LATEST_FILE_NAME,href:"javascript:;"},on:{click:function(a){return t.DownloadFile(e)}}},[t.noRecordForDetail?t._e():a("span",[t._v(t._s(e.LATEST_FILE_NAME)+" ("+t._s(e.LATEST_VERSION)+")")])])})),t.noRecordForDetail?a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center borderbababa p-2 mb-4 no-record"},[t._v(t._s(t.$t("NoRecordfound")))]):t._e()],2),t.ShowDiv?a("ul",{staticClass:"file-list"},[a("li",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GetDetail("IMAGES",t.projectId)}}},[t._m(0),a("span",{staticClass:"m-text"},[t._v(t._s(t.$t("Image")))]),a("small",[t._v(t._s(t.Images)+" Items")]),t._m(1)]),a("li",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GetDetail("DOCUMENTS",t.projectId)}}},[t._m(2),a("span",{staticClass:"m-text"},[t._v(t._s(t.$t("Documents")))]),a("small",[t._v(t._s(t.Documents)+" Items")]),t._m(3)]),a("li",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.GetDetail("VIDEOS",t.projectId)}}},[t._m(4),a("span",{staticClass:"m-text"},[t._v("Videos")]),a("small",[t._v(t._s(t.Videos)+" Items")]),t._m(5)])]):t._e()]):t._e()],1)])])])])])])],1)},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"fldr-icon"},[a("i",{staticClass:"fa fa-folder"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"right-acti d-none",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-ellipsis-h"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"fldr-icon"},[a("i",{staticClass:"fa fa-folder"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"right-acti d-none",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-ellipsis-h"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"fldr-icon"},[a("i",{staticClass:"fa fa-folder"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"right-acti d-none",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-ellipsis-h"})])}],ct={props:{checkVueodolist:null},data:function(){return{isLoading:!1,PROJECT_NAME:"",ProjectStatus:"",ACTIVE_TASK:"",IS_BILLABLE:"",PARENT_TASK:"",TASK_DESCRIPTION:"",TASK_NAME:"",TASK_RATE:"",START_DATE:"",END_DATE:"",PM:"",Images:"",Videos:"",Documents:"",ProjectTeam:[],STATUS_COLOR:"",STATUS_BG_COLOR:"",secondsPerMinute:60,minutesPerHour:60,AllocateHours:0,AllocateHoursSecond:0,TrackHours:0,TrackHoursSecond:0,HoursDonePercentage:0,HoursToDoPercentage:0,ProjectHours:0,ExtraHours:0,ExceedHours:0,projectId:0,taskId:0,PageSize:10,PageNumber:1,ModelSortBy:"",ModelSortExp:"",noRecordForDetail:!1,fileData:[],ShowDiv:!0,QuickViewType:"",IsViewResourcesClicked:this.checkVueodolist.IsViewResourcesClicked}},created:function(){console.log("IsViewResourcesClicked:",this.checkVueodolist.IsViewResourcesClicked),null!=this.$parent.modalProjectId&&(this.projectId=this.$parent.modalProjectId,this.taskId=this.$parent.modalTaskId,this.QuickViewByProjectId(this.$parent.modalProjectId,this.$parent.modalTaskId)),this.QuickViewType=this.checkVueodolist.QuickViewType;var t=this;setTimeout((function(){$("#modalprojectquickviewpop").modal("show"),setTimeout((function(){t.SetBootstraptoolTip()}),500)}),500)},methods:(o={GetPrivilege:function(t){l["a"].checkPrivilege(t).then((function(t){t.data}))},DownloadFile:function(t){l["a"].downloadProjectFiles("fileId="+t.FILE_VERSION_ID).then((function(t){}))},formatDate:function(t){if(t)try{var e="h:mm tt";e=String(e).replace("t","A").replace("t","");var a=new Date(moment(String(t)).year(),moment(String(t)).month(),moment(String(t)).date(),moment(String(t)).hours(),moment(String(t)).minutes());return moment(a,"YYYY-MM-DD HH:mm:ss").format(String("M/d/yyyy").toUpperCase())}catch(s){e="h:mm tt";return e=String(e).replace("t","a").replace("t",""),moment(String(t)).format(String("M/d/yyyy").toUpperCase()+" "+String(e))}},BackDetail:function(){var t=this;t.ShowDiv=!0,t.fileData=[],t.noRecordForDetail=!1,$("#divscrollsetupfile").removeClass("d-block"),$("#divscrollsetupfile").addClass("d-none")},openUploadFileModel:function(){this.GetPrivilege("controller=ProjectFiles&action=Create")&&($("#hdnUploadNewFilePopUp").val("C").attr("url","/ProjectFiles/Create?projectId="+this.$parent.modalProjectId),$("#divuploadnewfile").dialog({height:"auto",width:"84%",title:this.$t("UploadFile")}),$("#divuploadnewfile").dialog("open"))},GetDetail:function(t,e){var a=this;a.ShowDiv=!1,a.fileData=[];var s="projectId="+e+"&pageSize="+a.PageSize+"&pageNum="+a.PageNumber+"&sortBy="+a.ModelSortBy+"&sortExp="+a.ModelSortExp+"&viewType="+t;l["a"].FileListing(s).then((function(t){a.isLoading=!1,null!=t.data&&"Success"==t.data.status&&t.data.result.data.length>0?(a.fileData=t.data.result.data,a.noRecordForDetail=!1,$("#divscrollsetupfile").addClass("d-block"),$("#divscrollsetupfile").removeClass("d-none")):(a.noRecordForDetail=!0,$("#divscrollsetupfile").addClass("d-block"),$("#divscrollsetupfile").removeClass("d-none"))}))}},Object(K["a"])(o,"openUploadFileModel",(function(){this.GetPrivilege("controller=ProjectFiles&action=Create")&&($("#hdnUploadNewFilePopUp").val("C").attr("url","/ProjectFiles/Create?projectId="+this.$parent.modalProjectId),$("#divuploadnewfile").dialog({height:"auto",width:"84%",title:this.$t("UploadFile")}),$("#divuploadnewfile").dialog("open"))})),Object(K["a"])(o,"CloseQuickView",(function(){var t=this;t.$parent.ShowManageProjectQuickView=!1})),Object(K["a"])(o,"GetExtraHours",(function(){var t=this,e=t.AllocateHoursSecond-t.TrackHoursSecond;return e})),Object(K["a"])(o,"GetPercentage",(function(){var t=this,e=100,a=t.ExtraHours/t.AllocateHoursSecond*100;return e-a})),Object(K["a"])(o,"QuickViewByProjectId",(function(t,e){var a=this,s="projectId="+t+"&taskId="+e;l["a"].GetQuickViewByProjectIdTaskId(s).then((function(t){"0"!=t.data.code&&(t.data.result.project_detail.length>0&&(a.PROJECT_NAME=null==t.data.result.project_detail[0].PROJECT_NAME?"--":t.data.result.project_detail[0].PROJECT_NAME,a.ProjectStatus=t.data.result.project_detail[0].ProjectStatus,a.ACTIVE_TASK=t.data.result.project_detail[0].ACTIVE_TASK,a.IS_BILLABLE=t.data.result.project_detail[0].IS_BILLABLE,a.PARENT_TASK=t.data.result.project_detail[0].PARENT_TASK,a.TASK_NAME=t.data.result.project_detail[0].TASK_NAME,a.TASK_RATE=t.data.result.project_detail[0].RATE,a.TASK_DESCRIPTION=t.data.result.project_detail[0].TASK_DESCRIPTION,a.START_DATE="null"==t.data.result.project_detail[0].START_DATE?"--":t.data.result.project_detail[0].START_DATE,a.END_DATE="null"==t.data.result.project_detail[0].END_DATE?"--":t.data.result.project_detail[0].END_DATE,a.STATUS_COLOR=t.data.result.project_detail[0].STATUS_COLOR,a.STATUS_BG_COLOR=t.data.result.project_detail[0].STATUS_BG_COLOR,a.PM=null==t.data.result.project_detail[0].PM?"--":t.data.result.project_detail[0].PM),a.Images=t.data.result.project_files[0].Images,a.Videos=t.data.result.project_files[0].Videos,a.Documents=t.data.result.project_files[0].Documents,a.ProjectTeam=t.data.result.project_team,a.AllocateHours=0==t.data.result.project_hours.length?0:a.convertSecondsToHHMMSSNew(t.data.result.project_hours[0].TOTAL_TASK_HOURS),a.TrackHours=0==t.data.result.project_hours.length?0:a.convertSecondsToHHMMSSNew(t.data.result.project_hours[0].TRACK_SECONDS),a.AllocateHoursSecond=0==t.data.result.project_hours.length?0:t.data.result.project_hours[0].TOTAL_TASK_HOURS,a.TrackHoursSecond=0==t.data.result.project_hours.length?0:t.data.result.project_hours[0].TRACK_SECONDS,a.ExtraHours=0==t.data.result.project_hours.length?0:a.GetExtraHours(t.data.result.project_hours[0].REMAINING_SECONDS),a.ExceedHours=a.convertSecondsToHHMMSSNew(a.ExtraHours),a.HoursDonePercentage=0==t.data.result.project_hours.length?0:a.GetPercentage(t.data.result.project_hours[0].COMPLETED),a.SetScrolbar("",null,"divscrollsetuptabs"))}))})),Object(K["a"])(o,"convertSecondsToHHMMSSNew",(function(t){var e=this.convertHours(t),a=this.getRemainingMinutes(t);a=60==a?"00":a;var s=this.getRemainingSeconds(t);return e<10&&e>0&&(e="0"+e),a<10&&a>0&&(a="0"+a),s<10&&(s="0"+s),a.toString().includes("-")&&(a=a.toString().replace("-","")),e+" h "+a+" m "})),Object(K["a"])(o,"convertHours",(function(t){var e=0,a=this.convertMinutes(t),s=a.toString().replace("-","");return e=Math.floor(s/this.minutesPerHour),e})),Object(K["a"])(o,"convertMinutes",(function(t){return Math.floor(t/this.secondsPerMinute)})),Object(K["a"])(o,"getRemainingMinutes",(function(t){var e=this.convertMinutes(t);return e%this.minutesPerHour})),Object(K["a"])(o,"getRemainingSeconds",(function(t){return t%this.secondsPerMinute})),o)},ut=ct,mt=Object(v["a"])(ut,lt,dt,!1,null,null,null),pt=mt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal my-popups d-block",attrs:{id:"myModal2"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content mw-800"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Request"))+t._s(t.$t("Time"))+" - "+t._s(t.TaskName))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("Form",{ref:"RequestTimeValidationToDo",attrs:{id:"formId",method:"post"}},[a("input",{attrs:{type:"hidden",name:"MessageBoardCategoryId",value:""}}),a("input",{attrs:{type:"hidden",name:"MessageBoardCategoryCode",value:""}}),a("input",{attrs:{type:"hidden",name:"ProjectId"},domProps:{value:t.PROJECT_ID}}),a("input",{attrs:{type:"hidden",name:"RequestType",value:"post"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.UserList,expression:"UserList"}],attrs:{type:"hidden",name:"UserList"},domProps:{value:t.UserList},on:{input:function(e){e.target.composing||(t.UserList=e.target.value)}}}),a("input",{attrs:{type:"hidden",name:"TaskId"},domProps:{value:t.TASK_ID}}),a("input",{attrs:{type:"hidden",name:"CreatedBy",value:"0"}}),a("input",{attrs:{type:"hidden",name:"PostedBy",value:""}}),a("input",{attrs:{type:"hidden",name:"CreatedAt",value:""}}),a("input",{attrs:{type:"hidden",name:"ModifiedBy",value:""}}),a("input",{attrs:{type:"hidden",name:"ModifiedAt",value:""}}),a("input",{attrs:{type:"hidden",name:"StatusId",value:"0"}}),a("input",{attrs:{type:"hidden",name:"MessageType",value:"s"}}),a("input",{attrs:{type:"hidden",name:"UnreadComments",value:"0"}}),a("input",{attrs:{type:"hidden",name:"TotalComments",value:"0"}}),a("input",{attrs:{type:"hidden",name:"UserImagePath",value:""}}),a("input",{attrs:{type:"hidden",name:"UserType",value:""}}),a("input",{attrs:{type:"hidden",name:"ProjectName",value:""}}),a("input",{attrs:{type:"hidden",name:"FileCount",value:"0"}}),a("input",{attrs:{type:"hidden",name:"IsRead",value:"false"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RequestTitle,expression:"RequestTitle"}],attrs:{type:"hidden",name:"MessageBoardTitle"},domProps:{value:t.RequestTitle},on:{input:function(e){e.target.composing||(t.RequestTitle=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ProgressComment,expression:"ProgressComment"}],attrs:{type:"hidden",name:"MessageBoardContent"},domProps:{value:t.ProgressComment},on:{input:function(e){e.target.composing||(t.ProgressComment=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RefSourceName,expression:"RefSourceName"}],attrs:{type:"hidden",name:"RefSourceName"},domProps:{value:t.RefSourceName},on:{input:function(e){e.target.composing||(t.RefSourceName=e.target.value)}}}),a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Title"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"input-group mb-3"},[a("Field",{attrs:{name:"RequestTitle",rules:{required:!0,max:100},label:"Progress Comment"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.touched,o=e.invalid;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.RequestTitle,expression:"RequestTitle"}],class:{"form-control":!0,"is-invalid":i&&o},attrs:{type:"text",placeholder:"Title",maxlength:"100","data-vv-as":"Title",name:"RequestTitle"},domProps:{value:t.RequestTitle},on:{input:function(e){e.target.composing||(t.RequestTitle=e.target.value)}}}),a("span",{staticClass:"invalid-feedback",attrs:{name:"ProgressComment"}},[t._v(t._s(s[0]))])]}}])})],1)])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Time"))+":("+t._s(t.$t("InForRequest"))+t._s(t.$t("Hours"))+" )"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"input-group mb-3"},[a("Field",{attrs:{name:"RequestTitle",rules:{required:!0,max:4},label:"Progress Comment"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.touched,o=e.invalid;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Hours,expression:"Hours"}],class:{"form-control":!0,"is-invalid":i&&o},attrs:{type:"text","data-numberonly":"yes",maxlength:"4","data-vv-as":"Hours",name:"RequestHours"},domProps:{value:t.Hours},on:{input:function(e){e.target.composing||(t.Hours=e.target.value)}}}),a("span",{staticClass:"invalid-feedback",attrs:{name:"ProgressComment"}},[t._v(t._s(s[0]))])]}}])})],1)])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Select"))+":")]),a("div",{staticClass:"form-group pl-0 border-0"},[a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.UserType,expression:"UserType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"UserType",id:"UserType",value:"1"},domProps:{checked:t._q(t.UserType,"1")},on:{change:[function(e){t.UserType="1"},function(e){return t.onUserType("Client")}]}}),a("label",{staticClass:"form-check-label font-weight-normal",attrs:{for:"UserType"}},[t._v(" "+t._s(t.$t("Client"))+" ")])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.UserType,expression:"UserType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"UserType",id:"UserType",value:"2"},domProps:{checked:t._q(t.UserType,"2")},on:{change:[function(e){t.UserType="2"},function(e){return t.onUserType("PM")}]}}),a("label",{staticClass:"form-check-label font-weight-normal",attrs:{for:"UserType"}},[t._v(" "+t._s(t.$t("PM"))+" ")])])])])]),t.ClientUser?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(" "+t._s(t.$t("SelectClient"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("Field",{attrs:{name:"ClientTeamValue",rules:t.ValidateSelectClient(!0),label:"Name"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.touched,o=e.invalid,n=e.changed;return[a("Multiselect",{class:{"vdrop uniquefix_hs bg-white border py-0 pl-0 pr-2":!0,"is-invalid":i&&o},attrs:{placeholder:"SelectClient","filter-results":!1,object:!0,label:"name",searchable:!1,"track-by":"value","show-no-results":!1,"internal-search":!1,loading:t.isLoading,"clear-on-select":!1,"close-on-select":!0,options:t.ClientTeam},on:{select:function(e){return t.setSelectedValue(e)},"update:modelValue":n},model:{value:t.ClientTeamValue,callback:function(e){t.ClientTeamValue=e},expression:"ClientTeamValue"}}),a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"ClientTeamValue"}},[t._v(t._s(s[0]))])]}}],null,!1,3903695405)})],1)]):t._e(),t.PMUser?a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Select"))+" "+t._s(t.$t("PM"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("Field",{attrs:{name:"PMValue",rules:t.ValidateSelectPM(!1),label:"PM"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.touched,o=e.invalid;return[a("Multiselect",{class:{"vdrop uniquefix_hs bg-white border py-0 pl-0 pr-2":!0,"is-invalid":i&&o},attrs:{placeholder:"SelectPM","filter-results":!1,object:!0,label:"name",searchable:!1,"track-by":"value","show-no-results":!1,"internal-search":!1,loading:t.isLoading,"clear-on-select":!1,"close-on-select":!0,options:t.PMTeam},on:{select:function(e){return t.setSelectedValue(e)},"update:modelValue":t.handleChange},model:{value:t.PMValue,callback:function(e){t.PMValue=e},expression:"PMValue"}}),a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"PMValue"}},[t._v(t._s(s[0]))])]}}],null,!1,1794697645)})],1)]):t._e(),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("UploadFile"))+":")]),a("a",{attrs:{href:"javascript:;","data-toggle":"popoveruserguide"}},[a("i",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-inputs",class:{"form-control":!0},attrs:{type:"file",size:"4",name:"FileSrc","data-vv-as":t.$t("Image"),tabindex:"7"},domProps:{value:t.emailinvitation_file},on:{change:function(e){return t.setFile(e)}}})])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"FormControlTextarea1"}},[t._v(t._s(t.$t("Description"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("Field",{attrs:{name:"FormControlTextarea1",rules:{required:!0,max:100},label:"Description"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.touched,o=e.invalid;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ProgressComment,expression:"ProgressComment"}],class:{"form-control":!0,"is-invalid":i&&o},attrs:{cols:"5",placeholder:"write a comment..."},domProps:{value:t.ProgressComment},on:{input:function(e){e.target.composing||(t.ProgressComment=e.target.value)}}}),t._v(" "),a("span",{staticClass:"invalid-feedback",attrs:{name:"FormControlTextarea1"}},[t._v(t._s(s[0]))])]}}])})],1)])])])])],1),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"btn btn-success save-btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.RequestTimeSubmit()}}},[a("i",{staticClass:"fa fa-save pr-2"}),a("span",[t._v(t._s(t.$t("submit")))])]),a("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.RequestTimeCancel()}}},[a("i",{staticClass:"fa fa-close pr-2"}),a("span",[t._v(t._s(t.$t("Cancel")))])])])])])])])],1)},vt=[],ft={data:function(){return{isLoading:!1,RequestTitle:"",Hours:"",emailinvitation_file:"",ProgressComment:"",ClientTeamValue:[],PMValue:[],TRACKED_HOURS:"",PROJECT_ID:"",TASK_ID:"",UserList:[],ClientTeam:[],PMTeam:[],SelectedUserList:[],UserType:2,ClientUser:!1,PMUser:!0,RefSourceName:"RequestTime",TaskName:"",file:null}},created:function(){this.TRACKED_HOURS=this.$parent.SelectedItem.TRACKED_HOURS,this.PROJECT_ID=this.$parent.SelectedItem.PROJECT_ID,this.TASK_ID=this.$parent.SelectedItem.TASK_ID,this.ClientTeam=this.$parent.SelectedItem.ClientTeam,this.PMTeam=this.$parent.SelectedItem.PMTeam,this.ValidateSelectClient(!1),this.ValidateSelectPM(!0),setTimeout("RadioButtonBootstrap()",500),setTimeout("ShowfileUploadWithCulture();",500),this.TaskName=this.$parent.SelectedItem.TASK_NAME,"undefined"!=typeof this.ClientTeam&&null!=this.ClientTeam&&"undefined"!=typeof this.PMTeam&&null!=this.PMTeam||this.Teams(null,"get")},methods:{setFile:function(t){this.file=t.target.files[0]},setSelectedValue:function(t){var e=this,a=[];e.UserList=[],t.length>0&&($.each(t,$.proxy((function(t,e){a.push(e.Id)}))),e.UserList=a.join(","))},ValidateSelectClient:function(t){var e={};return e["required"]=t},ValidateSelectPM:function(t){var e={};return e["required"]=t},onUserType:function(t){var e=this;"PM"==t?(e.ClientUser=!1,e.PMUser=!0,e.ValidateSelectClient(!1),e.ValidateSelectPM(!0)):(e.ClientUser=!0,e.PMUser=!1,e.ValidateSelectClient(!0),e.ValidateSelectPM(!1))},settime:function(){var t=this;return-1==t.Hours.indexOf(":")&&(t.Hours=t.Hours.trim(),0!=t.Hours.length&&(!isNaN(t.Hours)&&void(t.Hours=t.Hours+":00")))},Teams:function(t,e){var a=this,s=a.PROJECT_ID;"get"==e&&(a.ClientTeam=[],a.PMTeam=[]),l["a"].UserToDoList("projectId="+s).then((function(s){var i=JSON.parse(s.data.bodyText),o=$.grep(i.result,(function(t,e){return 4==t.UserTypeId})),n=$.grep(i.result,(function(t,e){return 2==t.UserTypeId||1==t.UserTypeId})),r={},l={};$.each(o,$.proxy((function(s,i){$.each(i.Userses,$.proxy((function(s,i){r={Id:i.Id,Name:i.Name},"get"==e?a.ClientTeam.push(r):t.ClientTeam.push(r)})))}))),"get"==e&&(this.$parent.SelectedItem.ClientTeam=a.ClientTeam),$.each(n,$.proxy((function(s,i){$.each(i.Userses,$.proxy((function(s,i){l={Id:i.Id,Name:i.Name},"get"==e?a.PMTeam.push(l):t.PMTeam.push(l)})))}))),"get"==e&&(this.$parent.SelectedItem.PMTeam=a.PMTeam)})),setTimeout("ShowfileUploadWithCulture();",550)},RequestTimeSubmit:function(){var t=this,e=[],a=new FormData;a.append("file",t.file),t.$validator.RequestTimeValidationToDo.validate().then((function(s){s.valid?(t.isLoading=!0,null!=t.PMTeam&&""!=t.PMTeam&&t.PMTeam.length>0&&$.each(t.PMTeam,$.proxy((function(t,a){e.push(a.Id)}))),$("input[name='UserList']").val(t.UserList),l["a"].MessagesPost(a).then((function(e){if("0"==e.error){var a=t.Hours,s=a,i=parseFloat(60*parseFloat(s,10)*60,10);l["a"].MessagesRequestTime({title:t.RequestTitle,comment:t.ProgressComment,msgboardid:e.msgBoardId,projectid:t.PROJECT_ID,taskid:t.TASK_ID,request_time_sec:i}).then((function(e){var a=e;null!=a.result.GROUP_ID&&""!=a.result.GROUP_ID?(t.RequestTitle="",t.ProgressComment="",t.Hours="",t.UserList=[],t.ClientTeamValue=[],t.PMValue=[],t.emailinvitation_file="",t.RequestTimeBtn=!1,t.$validator.reset(),t.$emit("close"),t.$parent.FetchDataKanban("kanban",null),t.ShowAlert(t.$t("RequestTimeSubmited"),"success",!0,t.$t("Alert")),t.isLoading=!1):(t.ShowAlert(t.$t("Something_Wrong"),"failure",!0,t.$t("Alert")),t.isLoading=!1)}))}else t.ShowAlert(e.msg,"failure",!0,t.$t("Alert")),t.isLoading=!1}))):t.isLoading=!1}))},RequestTimeCancel:function(){var t=this;t.ProgressComment="",t.RequestTimeBtn=!1,t.$emit("close")}}},gt=ft,Tt=Object(v["a"])(gt,ht,vt,!1,null,null,null),Ct=Tt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal my-popups d-block",attrs:{id:"myModal2"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Update"))+" "+t._s(t.$t("Progress"))+" - "+t._s(t.TaskName))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("Form",{ref:"ManualValidation"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",[t._v(t._s(t.$t("Percentage"))+":")]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[a("div",{staticClass:"slider_setpercentage float-left mt-2"},[a("VueSlider",t._b({ref:"slider",attrs:{title:"Progress bar"},model:{value:t.PROGRESS,callback:function(e){t.PROGRESS=e},expression:"PROGRESS"}},"VueSlider",t.slideroptions,!1))],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.PROGRESS,expression:"PROGRESS"}],staticClass:"form-control float-right mb-0 slider_setpercentagebox",attrs:{type:"text",readonly:""},domProps:{value:t.PROGRESS},on:{input:function(e){e.target.composing||(t.PROGRESS=e.target.value)}}})])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Comments"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("Field",{attrs:{name:"ProgressComment",rules:{required:!0},label:"Progress Comment"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.touched,o=e.invalid;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ProgressComment,expression:"ProgressComment"}],class:{"form-control":!0,"is-invalid":i&&o},attrs:{cols:"5",placeholder:"Comment"},domProps:{value:t.ProgressComment},on:{input:function(e){e.target.composing||(t.ProgressComment=e.target.value)}}}),a("span",{staticClass:"invalid-feedback",attrs:{name:"ProgressComment"}},[t._v(t._s(s[0]))])]}}])})],1)])])])])],1),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"btn btn-success save-btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.UpdateProgress()}}},[a("i",{staticClass:"fa fa-save pr-2"}),a("span",[t._v(t._s(t.$t("submit")))])]),a("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.ProgressCancelBtn()}}},[a("i",{staticClass:"fa fa-close pr-2"}),a("span",[t._v(t._s(t.$t("Cancel")))])])]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",attrs:{id:"tasklogcommentlistingDiv"}})])])])])])])],1)},St=[],Dt={data:function(){return{isLoading:!1,TRACKED_HOURS:"",TASK_ID:"",PROGRESS:"",TaskName:"",ProgressComment:"",value:0,slideroptions:{dotSize:14,width:"auto",height:4,contained:!1,direction:"ltr",data:null,min:0,max:100,interval:1,disabled:!1,clickable:!0,duration:.5,adsorb:!1,lazy:!1,tooltip:"focus",tooltipPlacement:"top",tooltipFormatter:void 0,useKeyboard:!1,enableCross:!0,fixed:!1,minRange:void 0,maxRange:void 0,order:!0,marks:!1,dotOptions:void 0,process:!0,dotStyle:void 0,railStyle:void 0,processStyle:void 0,tooltipStyle:void 0,stepStyle:void 0,stepActiveStyle:void 0,labelStyle:void 0,labelActiveStyle:void 0}}},created:function(){this.TRACKED_HOURS=this.$parent.SelectedItem.TRACKED_HOURS,this.TASK_ID=this.$parent.SelectedItem.TASK_ID,this.PROGRESS=this.$parent.SelectedItem.PROGRESS,this.TaskName=this.$parent.SelectedItem.TASK_NAME},methods:{ProgressCancelBtn:function(){var t=this;t.StopTimerBtn=!1,t.UpdateProgress=!1,t.$emit("close")},UpdateProgress:function(){var t=this;t.$refs.ManualValidation.validate().then((function(e){if(e.valid){var a={LogID:null,TaskID:t.TASK_ID,Progress:t.PROGRESS,Comment:t.ProgressComment,StatusId:1001},s=JSON.stringify(a);l["a"].SaveTaskLog(s).then((function(e){null!=e.data&&""!=e.data&&("Success"==e.data.Status?(t.ProgressComment="",t.StopTimerBtn=!1,t.ShowAlert(t.$t("CreatedSuccessfully",[t.$t("Progress")]),"success",!0,t.$t("Alert")),t.$emit("close"),t.$parent.FetchDataKanban("kanban",null)):t.ShowAlert(t.$t("Something_Wrong"),"failure",!0,t.$t("Alert")))}),(function(){t.ShowAlert(t.$t("Something_Wrong"),"failure",!0,t.$t("Alert"))}))}}))}}},bt=Dt,yt=Object(v["a"])(bt,_t,St,!1,null,null,null),wt=yt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(" Notes ")]),a("span",{staticClass:"float-right"},["list"==t.NoteListType?a("a",{staticClass:"text-white",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Card View"},on:{click:function(e){t.NoteListType="card"}}},[a("i",{staticClass:"fa fa-th-large"}),t._v(" "+t._s(t.$t("CardView"))+" ")]):t._e(),"list"!=t.NoteListType?a("a",{staticClass:"text-white",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"List View"},on:{click:function(e){t.NoteListType="list"}}},[a("i",{staticClass:"fa fa-list"}),t._v(" "+t._s(t.$t("ListView"))+" ")]):t._e()]),a("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body",staticStyle:{"max-height":"600px","overflow-y":"auto"}},[a("div",{staticClass:"col-12 p-0"},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticStyle:{clear:"both"}}),a("div",{staticClass:"pb-2 d-inline-block"},[a("span",{staticClass:"legend-Progress colorboxsquare"}),t._v(" "+t._s(t.$t("Private"))+" "+t._s(t.$t("NOTE"))+" "),a("span",{staticClass:"legend-upcoming colorboxsquare ml-3"}),t._v(t._s(t.$t("Public")+" "+t.$t("NOTE"))+" ")]),t.NoRecordForTab?a("div",{staticClass:"text-center text-danger p-2 border"},[t._v(" "+t._s(t.$t("NoRecordfound")))]):t._e(),a("div",{staticStyle:{clear:"both"}}),"list"!=t.NoteListType?a("div",{staticClass:"row ticket-card-container card-view bg-border p-0"},t._l(t.NoteData,(function(e){return a("div",{key:e,staticClass:"col-md-12 col-lg-6 col-xl-3 mb-3",staticStyle:{"min-width":"257px"}},[t.NoRecordForTab?t._e():a("div",{class:{"card-box":!0,"blue-bg-light":e.IS_PUBLIC,"green-bg-light":!e.IS_PUBLIC}},[a("div",{staticClass:"card-heading d-flex align-items-center"},[a("span",{staticClass:"user-img-con mr-2"},[a("img",{attrs:{src:null!=e.USER_IMAGE_PATH&&""!=e.USER_IMAGE_PATH?e.USER_IMAGE_PATH:"/Content/images/uc/uc_user_new.jpg",alt:""}})]),t._v(" "+t._s(e.POSTED_BY)+" ")]),a("div",{staticClass:"card-detail-main",staticStyle:{"max-height":"150px"}},[1==e.IS_PUBLIC?a("div",{staticClass:"card-detail"},[a("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),a("span",[a("p",[t._v("Public")])])]):t._e(),1!=e.IS_PUBLIC?a("div",{staticClass:"card-detail"},[a("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),a("span",[a("p",[t._v("Private")])])]):t._e(),a("div",{staticClass:"card-detail"},[a("span",[a("p",{domProps:{innerHTML:t._s(e.NOTE_CONTENT)}})])]),a("div",{staticClass:"bottom-action"},[a("div",{staticClass:"card-date"},[a("i",{staticClass:"fa fa-calendar-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v(t._s(t._f("formatDateTime")(e.CREATED_AT)))])]),t.userid==e.CREATED_BY?a("div",{staticClass:"card-action"},[t._v(" || (item.IS_PRIVATE == true) "),a("a",{staticClass:"round-icon-small btn-success-light",class:{disabled:t.disabledAddNote},attrs:{href:"javascript:;"},on:{click:function(a){return t.OpenEditNote(e)}}},[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]),"TICKETING"!=t.$parent.modalNoteTaskItem.LINKED_SOURCE_NAME.toUpperCase()?a("a",{staticClass:"round-icon-small btn-danger-light",attrs:{href:"javascript:;"},on:{click:function(a){return t.DeleteNote(e)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e()]):t._e()])])])])})),0):t._e(),"list"==t.NoteListType?a("div",{staticClass:"conversation-main"},[t._l(t.NoteData,(function(e){return t.NoRecordForTab?t._e():[a("div",{staticClass:"conversation-time"},[a("span",[t._v(t._s(t.timeFormatOnly(e.CREATED_AT)))])]),a("div",{staticClass:"conversation-box-con"},[a("div",{class:{"conversation-box":!0,"public-note":e.IS_PUBLIC,"private-note":!e.IS_PUBLIC}},[a("div",{staticClass:"name-circle light-grey"},[a("img",{staticClass:"img-circle avatar img-max-width",attrs:{src:null!=e.USER_IMAGE_PATH&&""!=e.USER_IMAGE_PATH?e.USER_IMAGE_PATH:"/Content/images/uc/uc_user_new.jpg",alt:""}})]),a("div",{staticClass:"conversation-header"},[a("span",[a("span",{staticClass:"sender-name"},[t._v(t._s(e.POSTED_BY))]),a("span",{staticClass:"sender-department"},[t._v("("),a("small",{staticClass:"text-danger font-14",attrs:{title:t._f("formatDateTime")(e.CREATED_AT)}},[t._v(t._s(t._f("formatDateTime")(e.CREATED_AT)))]),t._v(") ")])]),a("span",{},[t.userid==e.CREATED_BY&&"TICKETING"!=t.$parent.modalNoteTaskItem.LINKED_SOURCE_NAME.toUpperCase()?a("a",{staticClass:"round-icon-small btn-danger-light float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.DeleteNote(e)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e(),t.userid==e.CREATED_BY?a("a",{staticClass:"round-icon-small btn-success-light float-right",class:{disabled:t.disabledAddNote},attrs:{href:"javascript:;"},on:{click:function(a){return t.OpenEditNote(e)}}},[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]):t._e()])]),a("div",{staticClass:"conversation-content"},[a("p",{domProps:{innerHTML:t._s(e.NOTE_CONTENT)}})])])])]}))],2):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.NoRecordForTab&&t.NoteData.length>0,expression:"!NoRecordForTab && NoteData.length > 0"}],staticClass:"border-top-paging thispagebod-full"},[a("pager-control",{attrs:{numberofrecords:t.TotalRecords,callbackfunction:t.FetchNotes,"prev-text":t.$t(" Prev"),"first-text":t.$t("First"),"last-text":t.$t("Last"),"next-text":t.$t("Next")}})],1),a("div",{staticClass:"modal-footer pr-0"},[a("div",{staticClass:"col-lg-6 text-right p-0 mr-0"},[a("a",{staticClass:"btn btn-success formbtn text-white",class:{" disabled":t.disabledAddNote},attrs:{href:"javascript:;"},on:{click:function(e){return t.OpenNote()}}},[a("i",{staticClass:"fa fa-plus pr-2"}),t._v(" "+t._s(t.$t("AddNote")))])])])])])])])])])])],1)},Pt=[],kt={props:{notedata:{type:Array,required:!0},userid:{type:Number,required:!0},companyid:{type:Number,required:!0},projectid:{type:Number,required:!0},ispublic:{type:Boolean,required:!0},pageSize:{type:Number,required:!0},pageNum:{type:Number,required:!0},sortBy:{type:String,required:!0},sortExp:{type:String,required:!0},numberofrecords:{type:Number,required:!0},reqfrom:{type:String}},data:function(){return{isLoading:!1,NoteData:[],NoRecordForTab:!0,note:"",TotalRecords:0,TotalPages:0,PageSize:10,PageSizeOption:null,CurrentPage:1,GroupStart:1,GroupEnd:3,ModelSortBy:"",ModelSortExp:"",modalDeleteItem:null,NoteListType:"card",TaskId:null,typeNoteTask:"",ticketStatus:"",disabledAddNote:!1}},watch:{notedata:function(t){this.NoteData=t,this.TotalRecords=this.numberofrecords,this.ProjectId=this.projectid,this.ModelSortBy=void 0==this.sortBy?"":this.sortBy,this.ModelSortExp=void 0==this.SortExp?"":this.SortExp,this.NoRecordForTab=!(null!=this.NoteData&&this.NoteData.length>0)}},created:function(){"dashboard"==this.reqfrom?(this.ProjectId=this.$parent.modalNoteTaskItem.PROJECT_ID,this.TaskId=this.$parent.modalNoteTaskItem.TASK_ID,this.ticketStatus=this.$parent.modalNoteTaskItem.STATUS_NAME):(this.ProjectId=this.$parent.modalNoteTaskItem.ProjectId,this.TaskId=this.$parent.modalNoteTaskItem.TaskId),"Closed"==this.ticketStatus||"Closed and Locked"==this.ticketStatus?this.disabledAddNote=!0:this.disabledAddNote=!1,this.typeNoteTask=this.$parent.typeNoteTask,this.FetchNotes()},methods:{GetPrivilege:function(t){l["a"].checkPrivilege(t).then((function(t){t.data}))},DeleteNote:function(t){this.GetPrivilege("controller=Project&action=DeleteNote")&&(this.modalDeleteItem=t,this.DeleteNoteData(this.modalDeleteItem.NOTE_ID))},DeleteNoteData:function(t){var e=this;t>0&&e.confirmR(this.$t("ConfirmDelete"),this.$t("Delete"),this.$t("Note"),(function(a){if(a){var s={ids:t,companyId:e.$parent.CompanyId,userId:e.$parent.UserId,moduleName:e.$parent.ModuleName,subModuleCode:"Project_Detail",refCode:"TALYGEN_NOTES",refId:e.$parent.ProjectId},i=JSON.stringify(s);l["a"].CommonDelete(i).then((function(t){if("Success"==t.body["status"])if(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("NOTE")]),"success",!0,e.$t("Alert")),e.FetchNotes(),"dashboard"==$("#hdnpagename").val())e.$parent.FetchDataKanban("kanban",null);else if("projectToDoList"==$("#hdnpagename").val())e.$parent.FetchDataNew("kanban",null);else{var a=getQueryStringValue("tab");"PROJECT_TASKS"==a&&e.$parent.TabName("","PROJECT_TASKS")}else e.ShowAlert(String.Format(e.$t("DeletedError"),e.$t("NOTE")),"failure",!0,e.$t("Alert"));hideLoader()}))}}))},FetchNotes:function(){var t=this;t.noteData=[],t.PageNumber=void 0==t.PageNumber?1:t.PageNumber,t.isLoading=!0;var e="projectId="+t.ProjectId+"&isPublic="+!0+"&taskId="+t.TaskId+"&sortBy="+t.ModelSortBy+"&sortExp="+t.ModelSortExp+"&pageSize="+t.PageSize+"&pageNum="+t.PageNumber;l["a"].NoteListingByProjectaAndTask(e).then((function(e){t.isLoading=!1,null!=e.data.result.data[0]&&"Success"==e.data.status?(t.NoteData=e.data.result.data,t.TotalRecords=e.data.result.data[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=void 0==t.PageNumber?1:t.PageNumber,setTimeout((function(){t.CheckBoxBootstrap()}),100),t.NoRecordForTab=!1):t.NoRecordForTab=!0}))},OpenNote:function(){this.GetPrivilege("controller=Project&action=AddNoteInProject")&&(this.$emit("close"),this.$parent.openProjectNoteModel(null,this.TaskId,this.typeNoteTask))},OpenEditNote:function(t){this.GetPrivilege("controller=Project&action=EditNote")&&(this.$emit("close"),this.$parent.openProjectNoteModel(t,this.TaskId,this.typeNoteTask))},timeFormatOnly:function(t){if(t)return moment(t).format("hh:mm a").toUpperCase()}}},At=kt,$t=Object(v["a"])(At,It,Pt,!1,null,null,null),xt=$t.exports,Nt=a("779d"),Mt={components:{Modalprojectquickview:pt,Modaladdmanually:J,modalupdateprogress:wt,Modalrequesttime:Ct,Modalcommentlist:rt,Projecttasknote:xt,Modalallocationlist:et,modalnote:Nt["a"]},props:{moduleName:null,encCompanyId:null,encUserId:null,encTrackId:null},data:function(){return{ID:null,user_type:null,typeProject:"kanban",HeaderDataPending:null,ToDoListData:[],TagData:null,ApiURLKanban:"subModuleCode=Project_Detail&moduleName=",InProgressProject:0,PendingProject:0,activeData:[],pendingData:[],ShowManageProjectQuickView:!1,showAddManuallyModal:!1,showUpdateProgressModal:!1,showRequestTimeModal:!1,showCommentModal:!1,sortDirectionIndex:0,sortDirection:"ASC",HeaderDataInprogress:null,typeStatus:null,DataArray:[],ViewType:"S",SelectedItem:null,TRACKED_HOURS:0,secondsPerMinute:60,minutesPerHour:60,QuickViewType:"",modalProjectId:null,modalTaskId:null,showNoteModal:!1,modalNoteTaskItem:null,showAddNoteModal:!1,modalNoteItem:null,header:"",TaskId1:null,typeNoteTask:"noteTask",ProjectId:null,AddNoteUserGuide:"User_Guide_Note",ModuleName:this.moduleName,DraggedFromElementStatus:"",DraggedToElementStatus:"",DraggedElementTaskId:null,DraggedElementStatus:null,showAllocationModal:!1,modalAddEditTaskId:null,TaskTeam:null,itemHours:null,sDate:null,eDate:null,rowIndexNested:null,Team:[],TaskHours:null,CompanyId:null,UserId:null,ProjectList:[],SelectedProjects:"",SelectedProjectIds:"",IsViewResourcesClicked:!1,PageNumber:1,DisableTimer:"no",pendingId:null,inprogressId:null,completedId:null}},created:function(){this.GetStatusIdByCode("REFPEN"),this.GetStatusIdByCode("PNPGRS"),this.GetStatusIdByCode("STATUS_DONE"),this.ApiURLKanban=this.ApiURLKanban+this.moduleName,this.ID=this.GetUserInfo.ID,this.user_type=this.GetUserInfo.UserType,this.CompanyId=this.GetUserInfo.CompanyId,this.UserId=this.GetUserInfo.ID,this.FetchDataKanban("kanban",null),this.onStatusList()},methods:{GetStatusIdByCode:function(t){var e=this;l["a"].GetStatusIdByCode("statusCode="+t).then((function(a){"REFPEN"==t?e.pendingId=a.data:"PNPGRS"==t?e.inprogressId=a.data:"STATUS_DONE"==t&&(e.completedId=a.data)}))},OnScrollItem:function(t){this.PageNumber<=Math.ceil(t.count/10)&&(this.PageNumber=this.PageNumber+1,this.FetchDataKanban("kanban",null))},GetPrivilege:function(t){},getPriorityStyles:function(t,e){return""!=e&&null!=e&&"undefined"!=typeof e||(e="#25a5fc"),{background:e}},ShowDataArray:function(){var t=this,e=[];"CA"==this.user_type&&e.push({name:"unassigned",count:0,data:[],show:0,className:"unassigned",SortIcon:"fa-sort-alpha-desc",StatusId:0}),e.push({name:"overdue",count:0,data:[],show:0,className:"canceled",SortIcon:"fa-sort-alpha-desc",StatusId:0}),e.push({name:"pending",count:0,data:[],show:1,className:"pending",SortIcon:"fa-sort-alpha-desc",StatusId:t.pendingId}),e.push({name:"inprogress",count:0,data:[],show:1,className:"overdue",SortIcon:"fa-sort-alpha-desc",StatusId:t.inprogressId}),e.push({name:"completed",count:0,data:[],show:0,className:"upcoming",SortIcon:"fa-sort-alpha-desc",StatusId:t.completedId}),e.push({name:"upcoming",count:0,data:[],show:0,className:"inactive",SortIcon:"fa-sort-alpha-desc",StatusId:0}),this.DataArray=e},ChangeView:function(t){var e=this;"T"==t?(e.ViewType="L",e.DataArray.forEach((function(t){t.show=1}))):(e.ViewType="S",$.each(e.DataArray,(function(t,e){"pending"==e.name||"inprogress"==e.name?e.show=1:e.show=0})))},openNoteListPopUp:function(t,e){var a=window.location.pathname,s=a.split("/");if("Ticketing"==s[1]&&"Dashboard"==s[2]){if(this.GetPrivilege("controller=Ticketing&action=NoteList")){var i=this;i.showNoteModal=!0,i.modalNoteTaskItem=t,this.ProjectId=t.PROJECT_ID}}else{i=this;i.showNoteModal=!0,i.modalNoteTaskItem=t,this.ProjectId=t.PROJECT_ID}},TeamTimeAllocation:function(t){var e=this;e.showAllocationModal=!0,e.AllocationModal=t,e.modalAddEditTaskId=t.TASK_ID,e.ProjectId=t.PROJECT_ID,e.TaskTeam=e.Team,e.itemHours=t.ALLOCATE_HOURS,e.TaskHours=t.ESTIMATED_HOURS,e.sDate=moment(t.START_DATE).format("MM/DD/YYYY"),e.eDate=moment(t.END_DATE).format("MM/DD/YYYY"),e.rowIndexNested=t.ItemIndex},openProjectNoteModel:function(t,e){var a=this;""!=t&&null!=t?this.GetPrivilege("controller=Project&action=EditNote")&&(this.TaskId1=e,this.showAddNoteModal=1!=this.showAddNoteModal,this.modalNoteItem=t,this.header=a.$t("EditNotes")):this.GetPrivilege("controller=Project&action=AddNoteInProject")&&(this.TaskId1=e,this.showAddNoteModal=1!=this.showAddNoteModal,this.header=a.$t("AddNotes"))},showTrackPercent:function(t){var e=0;return e=t.TRACKED_HOURS/(3600*t.ALLOCATE_HOURS),e*=100,e=parseFloat(e,10).toFixed(1),e=e<=0||isNaN(e)||"infinity"==e.toLowerCase()?100:100-e,Math.sign(e)<0&&(e=0),e=Math.round(parseFloat(e,10)),e},RequestTimeBtn:function(t){this.showRequestTimeModal=!0,t.StopTimerBtn=!1,t.UpdateProgress=!1,t.AddManualy=!1,this.SelectedItem=t,this.TRACKED_HOURS=this.convertSecondsToHHMMSSNew(t.TRACKED_HOURS)},OpenCommentModel:function(t){var e=this;e.showCommentModal=!0,e.SelectedItem=t},formatDate:function(t){if(t)try{var e="hh:mm A";e=String(e).replace("t","A").replace("t","");var a=new Date(moment(String(t)).year(),moment(String(t)).month(),moment(String(t)).date(),moment(String(t)).hours(),moment(String(t)).minutes());return moment(a,"YYYY-MM-DD HH:mm:ss").format(String("M/dd/yyyy").toUpperCase()+" "+String(e))}catch(s){e="hh:mm A";return e=String(e).replace("t","a").replace("t",""),moment(String(t)).format(String("M/dd/yyyy").toUpperCase()+" "+String(e))}},convertDecimalValueInFormat:function(t){try{return t=parseFloat(t,10),t=t.toFixed(2),t=parseFloat(t,10),t=t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),t}catch(e){return t}},ProgressDivOpen:function(t){this.showUpdateProgressModal=!0,t.StopTimerBtn=!0,t.UpdateProgress=!0,this.SelectedItem=t},StartTime:function(t,e,a,s){if(this.GetPrivilege("controller=Timer&action=Index")){var i=this;i.isLoading=!0;var o=!1,n=!1,r=!1;i.chkStatusForPause=o;var d=i.CurrentDate("date",i.Timer);l["a"].GetApprovalStatusForWeekly("date="+d).then((function(l){var d=JSON.parse(l.data.bodyText);if(0==d.val&&$("#hdnStatusCode").val(1),"0"==$("#hdnStatusCode").val()&&(i.ShowAlert(i.$t("EtreesApprovedpending"),"warning",!0,i.$t("Alert")),$("#hdnStatusCode").val(0),r=!0),!r){if("PAUS"!=s.RUNNING_STATUS&&"ACT"!=s.RUNNING_STATUS||(n=!0),!n){var c=$.grep(i.ToDoListData,(function(t,e){return"PAUS"==t.RUNNING_STATUS||"ACT"==t.RUNNING_STATUS}));null!=c&&c.length>0&&(n=!0)}n?i.confirmR(i.$t("TicketingStartTimerMessage"),!0,"Alert",(function(){o=!0,i.chkStatusForPause=o,$.each(i.ToDoListData,(function(t,e){e.TASK_ID==e.RUNNING_STATUS_ID&&1==i.chkStatusForPause&&"PAUS"==e.RUNNING_STATUS&&i.StopTime(e.IS_BILLABLE,e.RUNNING_STATUS_ID,e.TASK_ID,e,i.companyId,e.USER_ID,e.TRACK_ID)})),setTimeout((function(){i.AjaxStartTimer(t,e,a,s)}),200)})):i.AjaxStartTimer(t,e,a,s)}i.isLoading=!1}))}},StopTime:function(t,e,a,s,i,o,n){var r=this;r.isLoading=!0,l["a"].StartStopTimer({isBillable:t,trackId:e,taskId:a,type:"stopTimer"}).then((function(e){e>0?"PAUS"==s.RUNNING_STATUS?(l["a"].GetIncompleteEntry().then((function(e){var l=JSON.parse(e.bodyText);null==l.result?r.SaveTimeEntry("stop","0",n,i,o,a,s.projectId,t,l,s):r.RefreshTimer()})),r.FetchDataKanban("kanban",null)):($("#navbarResponsive").find("a#btnTimer").removeClass("forceshow"),r.FetchDataKanban("kanban",null),r.RefreshTimer()):(r.isLoading=!1,r.ShowAlert(r.$t("DisablePauseTimerMessage"),"failure",!0,r.$t("Alert")))}))},PauseResumeTime:function(t,e,a,s,i,o,n,r){var d=this;d.isLoading=!0;var c=d.CurrentDate("date",d.Timer);l["a"].GetApprovalStatusForWeekly("date="+c).then((function(c){var u=JSON.parse(c.data.bodyText);if(0==u.val&&$("#hdnStatusCode").val(1),"0"==$("#hdnStatusCode").val())return d.ShowAlert(u.msg,"warning",!0,d.$t("EtreesApprovedpending")),!1;if("no"==d.DisableTimer||"null"==d.DisableTimer){d.isLoading=!0,l["a"].GetIncompleteEntry().then((function(l){var c=JSON.parse(l.data.bodyText);null==c.result?(d.chkStatusForPause=!1,d.SaveTimeEntry(t,"0",e,a,s,i,o,n,c,r)):d.ShowAlert(d.$t("Something_Wrong"),"failure",!0,d.$t("Alert")),"1",d.isLoading=!1}))}else d.isLoading=!1,d.ShowAlert(d.$t("DisablePauseTimerMessage"),"failure",!0,d.$t("Alert"))}))},SaveTimeEntry:function(t,e,a,s,i,o,n,r,d,c){var u=this,m="12",p=a,h="",v="Web",f=s,g=i,T=n,C=o,_=0;_=0==r?0:1;var S="";S=d.ParentStartDate;var D=moment(S),b=moment(k),y=moment(b,"DD/MM/YYYY hh:mm:ss").diff(moment(D,"DD/MM/YYYY hh:mm:ss")),w=moment.duration(y),I=moment.utc(w.asMilliseconds()).format("HH:mm:ss"),P=u.convertHHmmssToSeconds(I);if(P-=parseInt(d.ResumeHours,10),"stop"==t&&"PAUS"==c.RUNNING_STATUS&&(t="stopresume"),"resume"==t){S=u.FromJsDateTime(u.CurrentDate("time",u.Timer));P=u.convertSecondsToHHMMSSNew(d.ResumeHours);P-=parseInt(d.ResumeHours,10)}var k="";k=u.FromJsDateTime(u.CurrentDate("time",u.Timer)),l["a"].SaveTimeEntry({trackId:p,trackDescription:h,startTime:S,stopTime:k,isBillable:_,companyId:f,createdBy:g,trackAgent:v,projectId:T,taskId:C,timerStatus:t,totalhours:P,timeformat:m,TagIds:"",isForcedUpdate:e}).then((function(t){if("overlap"==t.data.Status){var e=$("#alert");return e.html('<div class="grapghloader">&nbsp; </div>'),e.dialog("open"),e.html(obj1.viewString),d.UserMsg="",!1}u.FetchDataKanban("kanban",null),u.RefreshTimer()}))},FromJsDateTime:function(t){return Globalize.format(t,"M/dd/yyyy hh:mm A")},convertHHmmssToSeconds:function(t){var e=t.split(":"),a=60*parseInt(e[0],10)*60,s=60*parseInt(e[1],10),i=parseInt(e[2],10),o=a+s+i;return o},RefreshTimer:function(){setTimeout((function(){$.ajax({url:"/Timer/TimerNew",type:"GET",success:function(t){$("#divtimernewdata").html(t),hideLoader()},error:function(t,e,a){hideLoader()},complete:function(t,e,a){hideLoader()},beforeSend:function(t,e,a){}})}),1e3)},AjaxStartTimer:function(t,e,a,s){var i=this;i.isLoading=!0,l["a"].StartStopTimer({isBillable:t,trackId:e,taskId:a,type:"startTimer"}).then((function(t){t>0?(i.FetchDataKanban("kanban",null),i.RefreshTimer(),i.isLoading=!1,"PAUS"!=s.RUNNING_STATUS&&"ACT"!=s.RUNNING_STATUS||(s.MannualyBtn=!1,s.AutomaticBtn=!1)):(i.ShowAlert(i.$t("DisablePauseTimerMessage"),"failure",!0,i.$t("Alert")),i.isLoading=!1)}))},convertSecondsToHHMMSSNew:function(t){if(t>0){var e=this.convertHours(t),a=this.getRemainingMinutes(t);a=60==a?"00":a;var s=this.getRemainingSeconds(t);return e<10&&(e="0"+e),a<10&&(a="0"+a),s<10&&(s="0"+s),e+":"+a+":"+s}return t},convertHours:function(t){var e=this.convertMinutes(t),a=Math.floor(e/this.minutesPerHour);return a},convertMinutes:function(t){return Math.floor(t/this.secondsPerMinute)},getRemainingMinutes:function(t){var e=this.convertMinutes(t);return e%this.minutesPerHour},getRemainingSeconds:function(t){return t%this.secondsPerMinute},CurrentDate:function(t,e){var a=new Date($("#VirtualTime").val());if("date"==t){var s=a.getMonth()+1,i=(a.getFullYear(),a.getDate(),"");return s<10&&(s="0"+s),i=Globalize.format(a,"d",Globalize.culture().name),i}return"time"==t?Globalize.format(a,"M/dd/yyyy "+Globalize.culture().calendar.patterns.T):a},MannualDiv:function(t){var e=this;if(this.GetPrivilege("controller=Timer&action=Index")){e.SelectedItem=t;var a=!1,s=e.encCompanyId,i=e.encUserId,o=e.encTrackId,n=e.CurrentDate("date",e.Timer),r="/Timer/GetApprovalStatusForWeekly?date="+n;l["a"].GetApprovalStatusForWeekly(r).then((function(n){var r=JSON.parse(n.data.bodyText);if(0==r.val&&$("#hdnStatusCode").val(1),"0"==$("#hdnStatusCode").val())return e.ShowAlert(e.$t("EtreesApprovedpending"),"failure",!0,e.$t("Alert")),$("#hdnStatusCode").val(0),!1;if(!a){var l=$.grep(e.ToDoListData,(function(t,e){return"PAUS"==t.RUNNING_STATUS||"ACT"==t.RUNNING_STATUS}));null!=l&&l.length>0&&(a=!0)}a?e.confirmR(e.$t("ManualEntryTimerRunning"),!0,"Alert",(function(){e.StopTime(l[0].IS_BILLABLE,l[0].RUNNING_STATUS_ID,l[0].TASK_ID,t,s,i,o),e.showAddManuallyModal=!0,e.AddManuallyModalItem=t,t.AddManualy=!0,t.RequestTimeBtn=!1,t.StopTimerBtn=!1,t.MannualyBtn=!0,t.AutomaticBtn=!0,e.PROJECT_ID=t.PROJECT_ID,e.TASK_ID=t.TASK_ID})):(e.showAddManuallyModal=!0,e.AddManuallyModalItem=t,t.AddManualy=!0,t.RequestTimeBtn=!1,t.StopTimerBtn=!1,t.MannualyBtn=!0,t.AutomaticBtn=!0,e.PROJECT_ID=t.PROJECT_ID,e.TASK_ID=t.TASK_ID)}))}},TicketAsssignTrasfer:function(t,e,a,s){if("Ticketing"==this.moduleName&&this.GetPrivilege("controller=Ticketing&action=LoadTransferTab")){if("Closed"==a.STATUS_NAME)return this.ShowAlert(this.$t("SorryThetickethavebeenclosed"),"warning",!0,this.$t("Alert")),!1;$("#divAssignTransfer").data("dailogdata",{ticketId:a.STR_LINKED_SOURCE_ID}).dialog("open")}},ProjectQuickView:function(t,e,a,s){var i=this;"Ticketing"==i.moduleName?this.GetPrivilege("controller=Ticketing&action=Manage")&&(i.isLoading=!0,l["a"].TicketingManage({ticketId:a.STR_LINKED_SOURCE_ID,type:"dashboard"}).then((function(t){i.isLoading=!1,setTimeout((function(){$("#divTicketData").dialog("open")}),500),$("#divTicketData").html(t)}))):(this.ShowManageProjectQuickView=!0,this.modalProjectId=t,this.modalTaskId=e,this.QuickViewType=s,this.SelectedItem=a,"resources"==s?(i.IsViewResourcesClicked=!0,i.QuickViewType=""):i.IsViewResourcesClicked=!1)},sortedArray:function(t,e){var a=this;function s(t,e){return"ASC"==a.sortDirection?t.TASK_NAME.toLowerCase()>e.TASK_NAME.toLowerCase()?-1:t.TASK_NAME.toLowerCase()<e.TASK_NAME.toLowerCase()?1:0:t.TASK_NAME.toLowerCase()<e.TASK_NAME.toLowerCase()?-1:t.TASK_NAME.toLowerCase()>e.TASK_NAME.toLowerCase()?1:0}return"ASC"==a.sortDirection?(a.sortDirection="DESC",t.SortIcon="fa-sort-alpha-asc"):(a.sortDirection="ASC",t.SortIcon="fa-sort-alpha-desc"),a.sortDirectionIndex=e,t.data.sort(s)},checkMove:function(t){return this.DraggedFromElementStatus=t.draggedContext.element.STATUS,"completed"!=String(t.draggedContext.element.STATUS).toLowerCase()&&"upcoming"!=String(t.draggedContext.element.STATUS).toLowerCase()},onStart:function(t){try{this.DraggedFromElementStatus=t.item._underlying_vm_.STATUS}catch(e){console.log("Exception on onStart Method"),console.log(e)}if($(t.srcElement).attr("status")==$(t.target).attr("status"))return!1},onEnd:function(t){this.DraggedToElementStatus=t.to.getAttribute("status"),"undefined"!=typeof this.DraggedElementStatus&&""!=this.DraggedElementStatus&&null!=this.DraggedElementStatus&&"0"!=this.DraggedElementStatus||(this.DraggedElementStatus=$(t.to).closest(".cards-content").attr("data-statusid")),this.UpdateStatusDragDrop()},ChangeStatusDrag:function(t,e){var a=this;"undefined"!=typeof t.added&&(console.log("NewEvetn",t),a.DraggedElementTaskId=t.added.element.TASK_ID,a.DraggedElementStatus=e)},UpdateStatusDragDrop:function(){var t=this,e=!1,a=String(t.DraggedFromElementStatus).toLocaleLowerCase(),s=String(t.DraggedToElementStatus).toLocaleLowerCase();if(""==a||null==t.DraggedElementTaskId)return!1;if(("overdue"!=a||"inprogress"!=s&&"completed"!=s)&&("pending"!=a||"inprogress"!=s&&"completed"!=s)?"inprogress"==a&&"completed"==s&&(e=!0):e=!0,e){var i={ID:t.DraggedElementTaskId,StatusId:t.DraggedElementStatus,IsFor:"TODOKANBANLISTING"},o=JSON.stringify(i);l["a"].CommonUpdateStatus(o).then((function(e){t.isLoading=!0,null!=e.data&&"Success"===JSON.parse(e.data.bodyText).status?(t.HeaderDataPending=[],t.HeaderDataInprogress=[],t.PageNumber=1,$("#hdfStartIndex").val(1),$("#hdfEndIndex").val(100),t.ShowAlert(t.$t("RecordsUpdatedSuccessfully"),"success",!0,t.$t("Alert")),t.$emit("fetch-count-list","kanban"),t.FetchDataKanban("kanban",checkVueList.users),loadReports()):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert")),t.DraggedElementTaskId=null}))}else t.DraggedElementTaskId=null,t.FetchDataKanban("kanban",null),t.ShowAlert("Dragging between these two status is not allowed.","warning",!0,t.$t("Alert"));t.isLoading=!1,setTimeout((function(){t.SetScrolbar("dark-thick",null,"scrollbarmini")}),500)},onStatusList:function(){var t=this,e="langCode=en&companyId=".concat(t.CompanyId,"&statusType=Project&hasglobal=true");t.isLoading=!0,l["a"].statusdropdown(e).then((function(e){if("Success"==e.data.status){var a=e.data.result;t.StatusList=a.data,t.activeData=$.grep(t.StatusList,(function(t,e){return"PNPGRS"==t.STATUS_CODE})),t.pendingData=$.grep(t.StatusList,(function(t,e){return"REFPEN"==t.STATUS_CODE}))}}))},FetchDataKanban:function(t,e){var a=this;a.isLoading=!0;location.href;"undefined"==typeof e&&(e=null);var s=0;a.PageNumber>1&&(s=1);var i=a.ApiURLKanban+"&pageSize=10&pageNumber="+this.PageNumber+"&sortBy=&sortExp=&searchCondition=&projectId="+a.SelectedProjectIds+"&type="+t+"&userIds="+e+"&isPartial="+s;l["a"].ToDoListDashboard(i).then((function(t){a.isLoading=!1,a.HeaderDataPending=[],a.HeaderDataInprogress=[];var i=t.data.result.DATA;if(0==s&&a.ShowDataArray(),"L"==a.ViewType?$.each(a.DataArray,(function(t,a){"unassigned"==a.name&&null!=e?a.show=0:a.show=1})):$.each(a.DataArray,(function(t,e){"pending"==e.name||"inprogress"==e.name?e.show=1:e.show=0})),null!=i&&i.length>0)if("undefined"!=typeof i){if(0==s)a.ToDoListData=i,$.each(a.DataArray,(function(t,e){var s=e.name,o=$.grep(i,(function(t,e){return t.STATUS.toLowerCase()==s})),n=$.grep(a.DataArray,(function(t,e){return t.name==s}));n[0].count=o.length,"unassigned"==s&&null!=o&&"undefined"!=typeof o[0]&&(n[0].count=o[0].count_data),n[0].data=o,"undefined"!=typeof o[0]&&(n[0].StatusId=o[0].STATUS_ID)}));else{var o="unassigned",n=i,r=$.grep(a.DataArray,(function(t,e){return t.name==o}));n.length>0&&(r[0].data=r[0].data.concat(n),r[0].count=n[0].count_data),"undefined"!=typeof n[0]&&(r[0].StatusId=n[0].STATUS_ID)}a.TagData=t.data.result.TAGDATA,a.PendingProject=t.data.result.DATA[0].PENDINGRECORDS,a.InProgressProject=t.data.result.DATA[0].PROGRESSRECORDS}else a.HeaderDataPending=[],a.HeaderDataInprogress=[],a.InProgressProject=0,a.PendingProject=0;else a.HeaderDataPending=[],a.HeaderDataInprogress=[],a.InProgressProject=0,a.PendingProject=0;a.SelectedProjectIds="",setTimeout((function(){$(".scrollbarminiunassigned").scroll((function(t){t.stopImmediatePropagation(),console.log(parseInt($(".scrollbarminiunassigned").scrollTop(),10)>parseInt($(".scrollbarminiunassigned .list-group").height()-$(window).height(),10)-100),parseInt($(".scrollbarminiunassigned").scrollTop(),10)>parseInt($(".scrollbarminiunassigned .list-group").height()-$(window).height(),10)-100&&(a.PageNumber=a.PageNumber+1,a.FetchDataKanban("kanban",null))}))}),1e3)}))},filterByProject:function(){var t=this;t.SelectedProjectIds="",t.SelectedProjects.length>0&&(t.SelectedProjectIds=t.SelectedProjects.map((function(t){return t.ProjectId})).join(",")),t.FetchDataKanban("kanban",checkVueList.users)},resetProjectFilter:function(){var t=this;t.SelectedProjects=[],t.SelectedProjectIds="",t.FetchDataKanban("kanban",checkVueList.users)},refreshProjectDropDown:function(){var t=this;checkVueList.users?l["a"].ProjectListDashboard("?userIds="+checkVueList.users).then((function(e){"Success"==e.data.status&&(t.ProjectList=e.data.result.DATA)})):t.ProjectList=JSON.parse("@Html.Raw(projectList)")}}},Rt=Mt,Et=Object(v["a"])(Rt,F,B,!1,null,null,null),Lt=Et.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"divdashboardwidgetdata"}},[t.showTeam?a("div",{staticClass:"heading-border mt-2 mb-2 ",attrs:{id:"teamv"}},[t._m(0),a("div",{staticClass:"input-group float-right p-0 teamv taskclass"},[a("div",{staticClass:"form-control p-0",staticStyle:{"z-index":"999"}},[a("treeselect",{attrs:{multiple:!0,options:t.options,placeholder:"Select your team(s)","value-consists-of":"LEAF_PRIORITY",limit:1,"append-to-body":"appendToBody"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("div",{staticClass:"input-group-append",staticStyle:{"min-width":"75px"}},[a("span",{staticClass:"input-group-text p-0 border-0 w-100"},[a("a",{staticClass:"btn-success float-left mr-1",attrs:{href:"javascript:;",title:"@Resources.Search"},on:{click:function(e){return t.searchFunction()}}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger clearsearchtext float-right m-0 w-auto",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear"},on:{click:function(e){return t.resetFunction()}}},[a("i",{staticClass:"fa fa-refresh"})])])])])]):t._e(),a("ul",{staticClass:"dashbord-widget"},t._l(t.WidgetData,(function(e,s){return a("li",{key:s,class:t.ReturnClass(s)},[a("a",{attrs:{href:""==e.ActionLink?"javascript:;":e.ActionLink}},[a("h3",[t._v(t._s(e.WidgetCount)+t._s(t.$t(e.Legend))),a("br"),a("span",[t._v(t._s(t.$t(e.WidgetName)))])]),a("i",{class:"fa "+e.WidgetIcon,attrs:{"aria-hidden":"true"}})])])})),0)])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"h5"},[a("span",[t._v("Team View")])])}],Ht=a("ca17"),Ot=a.n(Ht),Ft=(a("542c"),{components:{treeselect:Ot.a},props:{moduleName:null,checkVueodolist:null},data:function(){return{isLoading:!0,ApiURLCount:"subModuleCode=Project_Detail&moduleName=",WidgetData:[],value:[],options:[],users:null,showTeam:!1}},created:function(){this.ApiURLCount=this.ApiURLCount+this.moduleName,this.FetchData("kanban",null)},methods:{FetchData:function(t,e){var a=this;a.isLoading=!0;var s=this.ApiURLCount+"&pageSize=100&pageNumber=1&sortBy=&sortExp=&searchCondition=&projectId=&type="+t+"&userIds="+e;l["a"].DashBoardMinWidgetData(s).then((function(t){a.isLoading=!1;var e=t.data.result;null!=t.data&&"undefined"!=typeof e.data?(a.WidgetData=e.data,a.options=e.team):(a.WidgetData=[],a.options=[])}))},searchFunction:function(){var t=this;t.users=t.value.join(", "),this.FetchData("kanban",t.users),checkVueodolist.FetchDataKanban("kanban",t.users),loadReports(),checkVueodolist.refreshProjectDropDown()},resetFunction:function(){var t=this;t.value="",t.users="",this.FetchData("kanban",""),checkVueodolist.FetchDataKanban("kanban",""),loadReports(),checkVueodolist.refreshProjectDropDown()},ReturnClass:function(t){var e="";switch(t){case 0:e="one_wid";break;case 1:e="two_wid";break;case 2:e="three_wid";break;case 3:e="four_wid";break;case 4:e="five_wid";break;default:e="one_wid"}return e}}}),Bt=Ft,Vt=Object(v["a"])(Bt,Ut,jt,!1,null,null,null),Gt=Vt.exports,Kt={components:{WidgetReport:R,DateRange:O,ToDoList:Lt,CountList:Gt},data:function(){return{titleName:"",moduleName:"CRM",widgets:[],viewType:"R",fromDate:null,toDate:null,MenuButton:!1,toDos:[],encCompanyId:null,encUserId:null,encTrackId:null,isLoading:!1}},created:function(){this.GetReports()},mounted:function(){$("#ddlChangeView a.dropdown-item").click((function(){$("#hdnselectedview").val($(this).attr("data-value")),"R"==$(this).attr("data-value")?($("#divReportsdata, #divAddMoreReports").show(),$("#divReportsdata").addClass("col-md-12").removeClass("col-md-7").show(),$("#divReportsdata").find(".graph-widget").addClass("col-md-4").removeClass("col-md-6"),$("#divToDoList").hide()):"T"==$(this).attr("data-value")?($("#divToDoList").addClass("col-md-12").removeClass("col-md-5").show(),$("#divReportsdata").find(".graph-widget").addClass("col-md-6").removeClass("col-md-4").removeClass("col-lg-4").removeClass("col-xl-4"),$("#divReportsdata, #divAddMoreReports").hide()):($("#divToDoList").addClass("col-md-5").removeClass("col-md-12").show(),$("#divReportsdata").addClass("col-md-7").removeClass("col-md-12").show(),$("#divReportsdata").find(".graph-widget").addClass("col-md-6").removeClass("col-md-4").removeClass("col-lg-4").removeClass("col-xl-4"),$("#divReportsdata, #divAddMoreReports").show()),$("#ddlChangeView .spnChangeView").html($(this).html()),$(".taskclass").removeClass("col-md-8 col-lg-8").addClass("col-md-4 col-lg-4")}))},methods:{OnAddMore:function(){this.$refs.widget.$data.showReports=!0},FetchCountListData:function(t){this.$refs.countList.$data.FetchData(t,this.$refs.countList.$data.users)},showDropDowMenu:function(){this.MenuButton=!this.MenuButton},GetToDoList:function(){var t=this;t.isLoading=!0,l["a"].gettoDoList("ModuleName="+t.moduleName).then((function(e){t.isLoading=!1,console.log(e),t.encCompanyId=e.data.COMPANY_ID,t.encUserId=e.data.CREATED_BY,t.encTrackId=e.data.TRACK_ID}))},GetReports:function(){var t=this;t.isLoading=!0,l["a"].GetReports("moduleName="+t.moduleName).then((function(e){t.isLoading=!1,t.widgets=e.data.list,t.GetToDoList()}))},SetDateRange:function(t,e){this.fromDate=t,this.toDate=e,this.GetReports()},MyViews:function(){this.$refs.countList.$data.showTeam=!1,this.$refs.countList.FetchData("kanban",null),this.$refs.todolist.FetchDataKanban("kanban",null),this.$refs.countList.users=null,this.GetReports()},TeamView:function(){this.$refs.countList.$data.showTeam=!0,this.$refs.countList.FetchData("kanban",null)}}},qt=Kt,Yt=Object(v["a"])(qt,n,r,!1,null,null,null);e["default"]=Yt.exports},"1b4a":function(t,e,a){"use strict";a("200c")},"1e56":function(t,e,a){"use strict";a("a616")},"200c":function(t,e,a){var s=a("5166");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("6b7fc876",s,!0,{sourceMap:!1,shadowMode:!1})},"3e9a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"inline"}},[a("span",{domProps:{innerHTML:t._s(t.returnShortNoteString())}}),t.isShowReadMoreButtton()?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openFullDateModal()}}},[t._v("   "+t._s(t.$t("readmore"))+" ...")]):t._e(),t.isShowFullData?a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.heading))]),a("button",{staticClass:"close",attrs:{type:"button",href:"javascript:;"},on:{click:function(e){t.isShowFullData=!1}}},[a("em",{staticClass:"fa fa-times"})])]),a("div",{staticClass:"modal-body crmnote-description"},["Notes"!=t.callFrom?a("div",{staticStyle:{"max-height":"500px","overflow-y":"auto"},domProps:{innerHTML:t._s(t.tempData)}}):t._e(),"Notes"==t.callFrom?a("ckeditor",{staticStyle:{height:"400px"},attrs:{id:"editor-a",editor:t.editor,config:t.editorConfig},on:{ready:t.onReady}}):t._e()],1)])])]):t._e()])},i=[],o=a("fb3d"),n=a.n(o),r={name:"crm-readmore",props:{data:{type:String,required:!0},heading:{type:String,required:!0},length:{type:String},callFrom:null},data:function(){return{isShowFullData:!1,tempData:"",editor:n.a}},methods:{onReady:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},openFullDateModal:function(){this.isShowFullData=!0},returnShortNoteString:function(){var t=document.implementation.createHTMLDocument().createElement("div");"Notes"==this.callFrom&&this.data.length,t.innerHTML=this.data;var e=t.innerText;return this.tempData=e,e.length<=this.length?this.data:e.substring(0,this.length)},isShowReadMoreButtton:function(){var t=document.implementation.createHTMLDocument().createElement("div");t.innerHTML=this.data;var e=t.innerText;return!(e.length<=this.length)}}},l=r,d=a("2877"),c=Object(d["a"])(l,s,i,!1,null,null,null);e["a"]=c.exports},"410d":function(t,e,a){"use strict";a("422e")},"422e":function(t,e,a){var s=a("e3e7");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("5c3fdca4",s,!0,{sourceMap:!1,shadowMode:!1})},5166:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".ck-editor__editable[data-v-0532fa68]{min-height:200px!important;border:1px solid #c1c1c1}.validborder[data-v-0532fa68]{border:none!important}.validborder .ck-content[data-v-0532fa68]{border-color:#dc3545!important}",""]),t.exports=e},"639e":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".custom-chart-div.Barchrt .reportBlock{transform:none}",""]),t.exports=e},7724:function(t,e,a){"use strict";a("ec8d")},"779d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.header))]),a("span",{staticClass:"float-right"},["list"==t.NoteListType?a("a",{staticClass:"text-white",attrs:{href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Card View"},on:{click:function(e){t.NoteListType="card"}}},[a("em",{staticClass:"fa fa-th-large mr-2"}),t._v(t._s(t.$t("CardView"))+" ")]):t._e(),"list"!=t.NoteListType?a("a",{staticClass:"text-white",attrs:{href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"List View"},on:{click:function(e){t.NoteListType="list"}}},[a("em",{staticClass:"fa fa-list mr-2"}),t._v(t._s(t.$t("ListView"))+" ")]):t._e()]),a("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body",staticStyle:{"max-height":"600px","overflow-y":"auto"}},[a("div",{},[a("crmnote",{attrs:{notedata:t.noteData,sourceid:t.allIds,modulename:t.modulename,submodulecode:t.submodulecode,callfrom:"quickViewAndNoteJS",userid:t.userid,curIndex:t.curindex,listtype:t.NoteListType,showNotePopUp:t.isShowNotePopup}})],1)]),t.isShowNotePopup?t._e():a("div",{staticClass:"modal-footer AddNote"},[a("div",{staticClass:"col-lg-6 text-right p-0"},[a("a",{staticClass:"btn btn-success formbtn text-white",attrs:{href:"javascript:;"},on:{click:function(e){return t.openShowNotePopup()}}},[a("em",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("AddNote"))+" ")])])])])])])])])},i=[],o=(a("a9e3"),a("4de4"),a("d3b7"),a("84a0")),n=a("9769"),r={props:{modulename:{type:String,required:!0},submodulecode:{type:String,required:!0},userid:{type:Number,required:!0},sourcekeyname:{type:String,required:!1},curindex:{type:Number},leadInfo:{type:Object,required:!0},DealInfo:{type:Object,required:!1}},components:{crmnote:o["a"]},data:function(){return{LeadId:null,DealId:null,allIds:null,noteData:[],noteslead:null,crm_NotesId:null,NoRecordForTabNotes:!0,isShowLeadNoteDialogue:!1,editDeleteButonFor:0,header:"",isShowNotePopup:!1,NoteListType:"list"}},watch:{LeadId:function(t){this.allIds=t,this.loadNoteData(t)},DealId:function(t){this.allIds=t,this.loadNoteData(t)}},created:function(){console.log(this.userid);try{this.LeadId=this.leadInfo.lead_id}catch(t){}try{console.log(this.DealInfo.deal_id),this.DealId=this.DealInfo.deal_id}catch(t){}this.header=this.$t("Notes"),null!=this.LeadId?("CRM_LEADS"==this.submodulecode&&(this.NoteListType="list"),this.allIds=this.leadInfo.lead_id,this.loadNoteData(this.LeadId)):null!=this.DealId&&(this.allIds=this.DealInfo.deal_id,"CRM_DEALS"==this.submodulecode&&(this.NoteListType="list"),this.loadNoteData(this.DealId))},methods:{openShowNotePopup:function(){var t=this;if("CRM_LEADS"==this.submodulecode)if(null!=this.leadInfo&&"NO"!=this.leadInfo.is_additional_lead_owner){var e=JSON.parse(vm.leadInfo.is_additional_lead_owner),a=e.filter((function(t){return"AddNote"==t.permission_code}));a.length>0?(t.isShowNotePopup=!0,t.loadNoteData(t.LeadId)):t.ShowAlert(this.$t("additionalOwnerAuthorityWarning"),"warning",!0,this.$t("Alert"))}else t.isShowNotePopup=!0,t.loadNoteData(t.LeadId);else t.isShowNotePopup=!0,null!=t.LeadId?t.loadNoteData(t.LeadId):t.loadNoteData(t.DealId)},loadNoteData:function(t){var e=this,a=t,s="id="+a+"&subModuleCode="+e.submodulecode+"&moduleName="+e.modulename;n["a"].NoteListing(s).then((function(t){if(null!=t.data&&t.data.data.length>0){if(e.noteData=t.data.data,null!=e.noteData&&e.noteData.length>0){var a=e.noteData.filter((function(t){return t.created_by==e.userid}));a.length>0&&(e.editDeleteButonFor=a[0].crm_note_id)}setTimeout((function(){e.CheckBoxBootstrap()}),100),e.NoRecordForTabNotes=!1}else e.NoRecordForTabNotes=!0,e.noteData=[]}))}}},l=r,d=a("2877"),c=Object(d["a"])(l,s,i,!1,null,null,null);e["a"]=c.exports},"84a0":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t.isShowNoteDialogue?a("div",{class:{"feedback-ticket feedback-ticket-present-answersDiv mb-2":!0,"border p-3":!t.isShowNoteDialogue||"quickViewAndNoteJS"!=t.callfrom}},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5 mb-2"},[a("span",[t._v(" "+t._s(t.$t("AddNotes")))])])]),a("div",{staticClass:"feedback-ticket-content"},[a("Form",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.values,i=e.meta;return[a("div",{staticClass:"feedback-conversation-box",staticStyle:{padding:"none"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Visibility"))+" :")]),a("div",{staticClass:"pl-0 border-0"},[a("div",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.IsPrivate,expression:"IsPrivate"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"radio_Public",value:"0",name:"rdo_ForNote",checked:"checked"},domProps:{checked:t._q(t.IsPrivate,"0")},on:{change:function(e){t.IsPrivate="0"}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"radio_Public"}},[t._v(" "+t._s(t.$t("Public"))+" ")])])]),a("div",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.IsPrivate,expression:"IsPrivate"}],staticClass:"custom-control-input",attrs:{id:"radio_Private",type:"radio",value:"1",name:"rdo_ForNote"},domProps:{checked:t._q(t.IsPrivate,"1")},on:{change:function(e){t.IsPrivate="1"}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"radio_Private"}},[t._v(" "+t._s(t.$t("Private"))+" ")])])])])])])]),a("div",{staticClass:"conversation-content feedback-conversation-content"},[a("Field",{attrs:{name:"note",rules:{required:!0},label:"Note"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("ckeditor",{attrs:{editor:t.editor},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"note"}},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 mt-3 text-right"},[a("div",{staticClass:"form-group mb-0"},[a("div",{staticClass:"search-btm-btn"},[a("a",{staticClass:"btn btn-success save-btn mr-1",attrs:{href:"javascript:;",title:"Save"},on:{"~click":function(e){return t.saveNote(s,i)}}},[a("em",{staticClass:"fa fa-save pr-2 text-white"}),t._v(t._s(t.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;",title:"Cancel"},on:{click:function(e){return t.closeNoteDialogue()}}},[a("em",{staticClass:"fa fa-close pr-2 text-white"}),t._v(t._s(t.$t("Cancel")))])]),a("div",{staticStyle:{clear:"both"}})])])]}}],null,!1,2654907794)})],1)]):t._e(),t.isShowNoteDialogue&&"quickViewAndNoteJS"==t.callfrom?t._e():a("div",{staticClass:"pb-2 d-inline-block"},[a("span",{staticClass:"legend-Progress colorboxsquare"}),t._v(t._s(t.$t("Private"))+" "+t._s(t.$t("NOTE"))+" "),a("span",{staticClass:"legend-upcoming colorboxsquare ml-3"}),t._v(t._s(t.$t("Public"))+" "+t._s(t.$t("NOTE"))+" ")]),t.isShowNoteDialogue&&"quickViewAndNoteJS"==t.callfrom?t._e():a("div",{staticClass:"col-12 p-0"},[a("div",{staticClass:"container-fluid p-0"},[t.NoRecordForTab?a("div",{staticClass:"text-center text-danger p-4 border"},[t._v(t._s(t.NoRecordFoundText))]):t._e(),a("div",{staticStyle:{clear:"both"}}),"list"!=t.ListTypeForViewChange?a("div",{staticClass:"row ticket-card-container card-view bg-border p-0"},t._l(t.NoteData,(function(e,s){return a("div",{key:s,staticClass:"col-md-12 col-lg-6 col-xl-3 mb-3",staticStyle:{"min-width":"257px"}},[a("div",{class:{"card-box":!0,"blue-bg-light":!e.IS_PRIVATE,"green-bg-light":e.IS_PRIVATE}},[a("div",{staticClass:"card-heading d-flex align-items-center"},[a("span",{staticClass:"user-img-con mr-2"},[a("img",{attrs:{src:null!=e.PROFILE_PATH&&""!=e.PROFILE_PATH?e.PROFILE_PATH:"/Content/images/uc/uc_user_new.jpg",alt:""}})]),t._v(" "+t._s(e.notes_created_by)+" ")]),a("div",{staticClass:"card-detail-main",staticStyle:{"max-height":"150px"}},[a("div",{staticClass:"card-detail"},[a("em",{staticClass:"fa fa-address-card",attrs:{"aria-hidden":"true"}}),a("span",[t._v(t._s(e.crm_designation))])]),a("div",{staticStyle:{clear:"both"}}),a("crmreadmore",{attrs:{callFrom:"Notes",data:e.crm_notes,"v-html":e.crm_notes,heading:t.$t("NOTE"),length:"100"}})],1),a("div",{staticClass:"bottom-action"},[a("div",{staticClass:"card-date"},[a("em",{staticClass:"fa fa-calendar-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v("  "+t._s(t._f("formatDateTime")(e.note_date)))])]),t.userid==e.created_by&&e.crm_note_id==t.editDeleteButonFor?a("div",{staticClass:"card-action"},[t.userid==e.created_by&&e.crm_note_id==t.editDeleteButonFor?a("a",{staticClass:"round-icon-small btn-success-light",attrs:{href:"javascript:;"},on:{click:function(a){return t.editNote(e)}}},[a("em",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]):t._e(),t.userid==e.created_by&&e.crm_note_id==t.editDeleteButonFor?a("a",{staticClass:"round-icon-small btn-danger-light",attrs:{href:"javascript:;",id:"DeleteNote"},on:{click:function(a){return t.deleteNote(e.crm_note_id)}}},[a("em",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e()]):t._e()])])])})),0):t._e()]),"list"==t.ListTypeForViewChange?t._l(t.NoteData,(function(e,s){return a("div",{key:s,staticClass:"conversation-main"},[a("div",{staticClass:"conversation-time"},[a("span",[t._v(t._s(t.formatTime(e.note_date)))])]),t.NoRecordForTab?t._e():a("div",{staticClass:"conversation-box-con"},[a("div",{class:{"conversation-box":!0,"public-note":!e.IS_PRIVATE,"private-note":e.IS_PRIVATE}},[a("div",{staticClass:"name-circle light-grey"},[a("img",{staticClass:"img-circle avatar img-max-width",attrs:{src:null!=e.PROFILE_PATH&&""!=e.PROFILE_PATH?e.PROFILE_PATH:"/Content/images/DefaultImages/uc_user_new.jpg",alt:""}})]),a("div",{staticClass:"conversation-header"},[a("span",[a("span",{staticClass:"sender-name"},[t._v(t._s(e.notes_created_by))]),a("span",{staticClass:"sender-department"},[t._v("("),a("small",{staticClass:"text-danger font-14",attrs:{title:t._f("formatDateTime")(e.note_date)}},[t._v(t._s(t._f("formatDateTime")(e.note_date)))]),t._v(")")])]),a("span",{},[t.userid==e.created_by?a("a",{staticClass:"round-icon-small btn-danger-light float-right",attrs:{href:"javascript:;",id:"DeleteNote"},on:{click:function(a){return t.deleteNote(e.crm_note_id)}}},[a("em",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e(),t.userid==e.created_by?a("a",{staticClass:"round-icon-small btn-success-light float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.editNote(e)}}},[a("em",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]):t._e()])]),a("div",{staticClass:"conversation-content"},[a("p",{domProps:{innerHTML:t._s(e.crm_notes)}})])])])])})):t._e()],2)])},i=[],o=(a("a9e3"),a("ac1f"),a("1276"),a("5319"),a("498a"),a("4de4"),a("d3b7"),a("3ca3"),a("ddb0"),a("9861"),a("841c"),a("e9c4"),a("c1df")),n=a.n(o),r=a("3e9a"),l=a("9769"),d=a("fb3d"),c=a.n(d),u={components:{crmreadmore:r["a"],ClassicEditor:c.a},props:{notedata:{type:Array,required:!0},userid:{type:Number,required:!0},sourceid:null,modulename:{type:String,required:!0},submodulecode:{type:String,required:!0},callfrom:{type:String},curIndex:{type:Number},listtype:{type:String},showNotePopUp:{type:Boolean}},data:function(){return{NoteData:[],NoRecordForTab:!0,LeadStatus:this.$parent.LeadStatus,isShowNoteDialogue:!1,note:"",crmNoteId:null,editDeleteButonFor:0,isShowFulleNote:!1,FulleNoteToShow:"",IsPrivate:"0",TotalCount:0,ListTypeForViewChange:"list",NoRecordFoundText:this.$t("Loading"),editor:c.a,userTimeZone:null}},created:function(){this.userTimeZone=this.GetUserInfo.TimeZone.split(":"),String.prototype.format=function(){var t=arguments;return this.replace(/{([0-9]+)}/g,(function(e,a){return"undefined"==typeof t[a]?e:t[a]}))}},watch:{listtype:function(t){this.ListTypeForViewChange=t},notedata:function(t){var e=this;if(e.ListTypeForViewChange=""!=$.trim(e.listtype)?e.listtype:e.ListTypeForViewChange,e.TotalCount=t.length,e.NoteData=t,e.NoRecordForTab=!(null!=e.NoteData&&e.NoteData.length>0),e.NoRecordForTab&&(e.NoRecordFoundText=e.$t("NoRecordfound")),e.isShowNoteDialogue=e.showNotePopUp,e.crmNoteId=null,e.note="",null!=e.NoteData&&e.NoteData.length>0){var a=e.NoteData.filter((function(t){return t.created_by==e.userid}));a.length>0&&(e.editDeleteButonFor=a[0].crm_note_id)}}},methods:{onReady:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},formatTime:function(t){if(t)try{var e="h:mm A";e=String(e).replace("t","A").replace("t","");var a=new Date(n()(String(t)).year(),n()(String(t)).month(),n()(String(t)).date(),n()(String(t)).hours(),n()(String(t)).minutes());return n()(a,"h:mm A").format(String(e))}catch(s){return e=String(e).replace("t","a").replace("t",""),n()(String(t)).format(String("h:mm A").toUpperCase()+" "+String(e))}},openNoteDialogue:function(){"undefined"===typeof this.$parent.checkForAdditionalPermission||this.$parent.checkForAdditionalPermission("AddNote")?(this.isShowNoteDialogue=!0,this.IsPrivate="0",this.NoRecordForTab=!this.isShowNoteDialogue):alertR(Globalize.localize("additionalOwnerAuthorityWarning"),!0,this.$t("Alert"))},closeNoteDialogue:function(){var t=this;if(t.note="",t.IsPrivate="0","quickViewAndNoteJS"==t.callfrom){console.log(t.$parent),t.$parent.isShowNotePopup=!1;var e=new URLSearchParams(window.location.search),a=e.get("reqfrom");null==a&&(a=0);var s=parseInt(a)||0;s>0&&t.$parent.loadNoteData(t.sourceid)}else t.$parent.loadData("notes");$(".AddNote").removeClass("d-none"),t.isShowNoteDialogue=!1,t.NoRecordForTab=!(null!=t.NoteData&&t.NoteData.length>0),t.crmNoteId=null},saveNote:function(t,e){var a=this,s=new URLSearchParams(window.location.search),i=s.get("reqfrom");null==i&&(i=window.location.pathname.indexOf("Listing")>-1||window.location.pathname.indexOf("Index")>-1?1:0);var o=parseInt(i)||0;this.$refs.form.validate().then((function(t){if(t){var e={sourceId:a.sourceid,moduleName:a.modulename,subModuleCode:a.submodulecode,note:a.note,isPrivate:a.IsPrivate,crmNotesId:a.crmNoteId},s=JSON.stringify(e);l["a"].SaveNoteData(s).then((function(t){"Success"==t.data[0].Status&&("CRM_LEADS"==a.submodulecode&&o>0&&(a.$parent.leadInfo.note_count=a.TotalCount+1),"CRM_DEALS"==a.submodulecode&&o>0&&(a.$parent.DealInfo.NOTE_COUNT=a.TotalCount+1),a.closeNoteDialogue(),a.ShowAlert(a.$t("InterviewStageAdded",[a.$t("Note")]),"Success",!0,a.$t("Alert")),o>0?a.$parent.loadNoteData(a.sourceid):a.$parent.loadData("notes","savenote"),a.note="",a.isShowNoteDialogue=!1,$(".AddNote").removeClass("d-none"))}))}}))},editNote:function(t){$("#DeleteNote").addClass("disabled"),$(".AddNote").addClass("d-none");var e=this;e.isShowNoteDialogue=!0,e.note=t.crm_notes,e.IsPrivate=t.IS_PRIVATE?"1":"0",e.crmNoteId=t.crm_note_id},deleteNote:function(t){var e=this,a=new URLSearchParams(window.location.search),s=a.get("reqfrom");null==s&&(s=window.location.pathname.indexOf("Listing")>-1||window.location.pathname.indexOf("Index")>-1?1:0);var i=parseInt(s)||0;e.confirmR(this.$t("ConfirmDelete"),this.$t("Delete"),this.$t("Note"),(function(){var a={ids:t,moduleName:e.modulename,subModuleCode:e.submodulecode,refCode:"DELETE_VIEW_CRM_NOTE"},s=JSON.stringify(a);l["a"].CommonDelete(s).then((function(t){var a="";"Success"==t.data[0].Status?("CRM_LEADS"==e.submodulecode&&i>0&&(e.$parent.$parent.leadInfo.note_count=e.TotalCount-1),"CRM_DEALS"==e.submodulecode&&i>0&&(e.$parent.$parent.DealInfo.note_count=e.TotalCount-1),"quickViewAndNoteJS"==e.callfrom&&i>0?e.$parent.$parent.loadNoteData(e.sourceid):e.$parent.loadData("notes"),a=e.ShowAlert(e.$t("DeletedSuccess",[e.$t("NOTE")]),"success",!0,e.$t("Alert"))):a=e.ShowAlert(e.$t("DeletedError",[e.$t("NOTE")]),"failure",!0,e.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)}))}))},returnShortNoteString:function(t,e){var a=document.implementation.createHTMLDocument().createElement("div");return a.innerHTML=t,noteHtmlData=a.innerText,noteHtmlData.length<=e?t:noteHtmlData.substring(0,e)},isShowReadMoreButtton:function(t,e){var a=document.implementation.createHTMLDocument().createElement("div");return a.innerHTML=t,noteHtmlData=a.innerText,!(noteHtmlData.length<=e)},openFullNoteModal:function(t){this.FulleNoteToShow=t,this.isShowFulleNote=!0}}},m=u,p=(a("1b4a"),a("2877")),h=Object(p["a"])(m,s,i,!1,null,"0532fa68",null);e["a"]=h.exports},a616:function(t,e,a){var s=a("0565");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("25e2089c",s,!0,{sourceMap:!1,shadowMode:!1})},e3e7:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".DatePopUp{width:320px}.divtimer_design table.AssetDatePopUp{margin-bottom:0}.divtimer_design table.AssetDatePopUp td.daterangetd{padding:0!important;text-align:left;vertical-align:top;font-size:12px}.divtimer_design table.AssetDatePopUp td.sep{border-right:1px solid #d2d2d2}.reporthead .divtimer_design table.AssetDatePopUp td.daterangetd{line-height:30px}.date_range_bi div.divtimer_design span{margin-top:0!important;color:#000}.divtimer_design .bootstrap-datetimepicker-widget{position:relative!important;top:auto!important;left:5px!important}.AssetDatePopUp tr td.daterangetd.date-range-column{max-width:114px!important;display:table-column!important;width:auto!important}.AssetDatePopUp tbody.daterangebody tr.daterangetr{display:table-row!important}",""]),t.exports=e},ec8d:function(t,e,a){var s=a("639e");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("2ebcbdce",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=Dashboard.js.map