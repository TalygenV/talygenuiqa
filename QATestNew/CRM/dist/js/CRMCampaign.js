(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CRMCampaign"],{"0856":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t._m(0),t._m(1),a("button",{staticClass:"w-100 float-left",on:{click:t.CampaignStatistics}},[t._v("Load more Statistics")]),t._m(2)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 float-left",staticStyle:{"margin-top":"100px"}},[a("div",{staticClass:"listing col-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible"},[a("div",{staticClass:"box border positionrelative float-left w-100"},[a("div",{staticClass:"default-tags"},[a("div",{staticClass:"defaultpic_control"},[a("a",{staticClass:"btn btn-view mr-2",attrs:{title:"",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Preview"}},[a("em",{staticClass:"fa fa-eye mr-2"}),t._v("Preview")])])]),a("div",{staticClass:"img-ico text-center p-4 ticket-attachments"},[a("i",{staticClass:"fa fa-file-text-o font-pic-size-28"})])])]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-8 col-xl-9"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[a("b",[t._v("Send Type:")]),t._v(" Send")])])]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[a("b",[t._v("Send by:")]),t._v(" abner@gmail.com")])])]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[a("b",[t._v("Created On:")]),t._v(" 07/14/2024")])])]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[a("b",[t._v("Attempted:")]),t._v(" "),a("em",{staticClass:"fa fa-users mr-2"}),t._v("2 Contacts")])])]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[a("b",[t._v("Updated On:")]),t._v(" 07/14/2024")])])])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 float-left"},[a("div",{staticClass:"card mb-3 probx"},[a("div",{staticClass:"card-header"},[a("h2",[t._v("Subject: Campaign")]),a("div",{staticClass:"cont_right"},[a("div",{staticClass:"bar"},[a("em",{staticClass:"fa fa-calendar mr-2"}),t._v("Execution Date: 5 Nov 2024 - 4:00 pm")])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"listing col-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[a("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[a("div",{staticClass:"float-left w-80"},[a("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Attempted: 1")]),a("span",{staticClass:"float-left w-100 value_ss"},[t._v("100%")])]),a("div",{staticClass:"float-right icobase"},[a("i",{staticClass:"fa fa-file-text-o"})])])]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[a("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[a("div",{staticClass:"float-left w-80"},[a("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Sent: 1")]),a("span",{staticClass:"float-left w-100 value_ss"},[t._v("100%")])]),a("div",{staticClass:"float-right icobase"},[a("i",{staticClass:"fa fa-paper-plane-o"})])])]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[a("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[a("div",{staticClass:"float-left w-80"},[a("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Skipped: 1")]),a("span",{staticClass:"float-left w-100 value_ss"},[t._v("100%")])]),a("div",{staticClass:"float-right icobase"},[a("i",{staticClass:"fa fa-history"})])])])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"col-12 float-left mt-3 p-0"},[a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success formbtn widthhalf mr-1",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v("Save ")]),a("a",{staticClass:"btn btn-danger text-white",attrs:{id:"acancel",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel ")])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v("Fields marked with an asterisk (*) are mandatory.")])])])])])])}],n={components:{},data:function(){return{}},created:function(){},methods:{CampaignStatistics:function(){var t=this;t.$router.push({path:"/CRM/ViewCampaignStatistics/0"})}}},o=n,l=a("2877"),r=Object(l["a"])(o,i,s,!1,null,null,null);e["default"]=r.exports},"1d4a":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".shortcuts-menu.man_camp li{max-width:33%;padding:10px}.shortcuts-menu.man_camp li.active a.short-menu-item{background:#00b298;color:#fff;border-color:#00b298}.shortcuts-menu.man_camp li.active a span.left-icon-m{background-color:#00a68e}.shortcuts-menu.man_camp li.active a span.left-icon-m i{color:#fff}.shortcuts-menu.man_camp li:hover a.short-menu-item{background:#00b298!important;color:#fff!important;border-color:#00b298!important}.shortcuts-menu li:hover .short-item-name{color:#fff!important}.shortcuts-menu.man_camp li:hover a span.left-icon-m{background-color:#00a68e}.shortcuts-menu.man_camp li:hover a span.left-icon-m i{color:#fff}.shortcuts-menu.man_camp li a span.left-icon-m i{color:#00b298;font-size:32px}.btn_template{background:#ebfffc;color:#78b9af;border:1px solid #99e6da;font-size:20px}.btn_template:hover{border:1px solid #99e6da}.btn_template:hover,.defaultpic_control .btn-select{background:#00b298;color:#fff}.defaultpic_control .btn-view{background:#30b3f1;color:#fff}.default_templates .default-tags,.default_templates .default-tags:hover{background:hsla(0,0%,100%,.9)}.default_templates .img-ico.ticket-attachments{min-height:200px;display:flex;justify-content:center;align-items:center;max-height:200px}.shortcuts-menu.man_camp.man_view li.active a.short-menu-item{background:#e5fcff;color:#17a2b8;border-color:#17a2b8}.shortcuts-menu.man_camp.man_view li.active a span.left-icon-m{background-color:#e5fcff}.shortcuts-menu.man_camp.man_view li.active a span.left-icon-m i{color:#17a2b8}.shortcuts-menu.man_camp.man_view li:hover a.short-menu-item{background:#e5fcff!important;color:#17a2b8!important;border-color:#17a2b8!important}.shortcuts-menu.man_camp.man_view li:hover a span.left-icon-m{background-color:#e5fcff}.shortcuts-menu.man_camp.man_view li:hover a span.left-icon-m i{color:#17a2b8}.shortcuts-menu.man_camp.man_view li a span.left-icon-m i{color:#737373;font-size:32px}.shortcuts-menu.man_camp.man_view li a span.left-icon-m{background-color:#fff}.shortcuts-menu.man_camp.man_view li:hover .short-item-name{color:#17a2b8!important}.shortcuts-menu.man_camp.man_view li a.short-menu-item{background-color:#fff}",""]),t.exports=e},"258f":function(t,e,a){var i=a("593f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("6ec7ab38",i,!0,{sourceMap:!1,shadowMode:!1})},"44c7":function(t,e,a){"use strict";a("5f92")},5579:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{ref:"tgList",attrs:{IsShowAction:!0,showCheckBox:!0,ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGNS",ViewList:t.ViewList,IdentityColumn:"campaign_id",HeaderText:t.$t("Campaign"),ListData:t.CampaignData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,IsFilterApplied:!!t.searchCondition,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{ApplyView:t.OnApplyView,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(e){var i=e.data;return["status_id"==i.column.COLUMN_NAME?[t.isCRMShowStausDrop(i.row.status_id,"CRM_CAMPAIGNS")?a("listing-status",{ref:"updatestatus",attrs:{isfor:"CRM_CAMPAIGNS",dataid:i.row.campaign_id,"data-controller":"Crm",statuslist:t.StatusListForListing,item:i,"data-action":"index",dataselected:i.row.status_id,callbackfunction:t.FetchData,isselectedvaluestring:!0}}):t._e(),t.isCRMShowStausDrop(i.row.status_id,"CRM_CAMPAIGNS")?t._e():a("a",{staticClass:"inactive-disabled"},[a("span",{class:t.getStatusClass(i.row.status_id,"status_id")},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])])]:t._e()]}}])}),t.showFilter?a("searchfilter",{attrs:{submodulecode:"CRM_CAMPAIGNS",modulename:"CRM",callbackfunction:t.FetchData},on:{close:function(e){t.showFilter=!1},FilterData:t.FilterData}},[a("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Search")))])]):t._e(),t.showAddEventModal?a("modalfollowupslist",{attrs:{srcId:t.souceID,modulename:"CRM",submodulecode:"CRM_CAMPAIGNS",userid:t.userid},on:{close:t.closeEventViewModal}}):t._e(),t.ShowManageView?a("viewlayout",{directives:[{name:"show",rawName:"v-show",value:t.ShowManageView,expression:"ShowManageView"}],attrs:{submodulecode:"CRM_CAMPAIGNS",modulename:"CRM",callbackfunction:t.FetchData,usertype:t.usertype},on:{close:function(e){t.ShowManageView=!1}}}):t._e(),t.ShowManageCampaignPopup?a("modalManageCampaign",{attrs:{campaignId:t.CampaignId,reqType:t.reqType},on:{close:function(e){t.ShowManageCampaignPopup=!1}}}):t._e(),t.isShowManageSchedule?a("modalManageSchedule",{attrs:{campaignId:t.CampaignId,campaignName:t.CampaignName,mailChimpTemplateId:t.MailChimpTemplateId},on:{close:function(e){t.isShowManageSchedule=!1}}}):t._e()],1)},s=[],n=a("53ca"),o=a("5530"),l=a("c7eb"),r=a("1da1"),c=(a("d3b7"),a("159b"),a("a434"),a("e9c4"),a("c740"),a("25f0"),a("9769")),u=[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Reset",iconClass:"fa-filter text-danger",callbackfunction:"removeFilter",href:"",additionalClass:"",isdisabled:!1,isvisible:!1,checkPrivilege:!1},{title:"Filter",iconClass:"fa-filter",callbackfunction:"openFilterPopUp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add a Campaign",iconClass:"fa-plus",href:"/CRM/ManageCampaign/0/No/CRM/CRM_CAMPAIGNS",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"addCampaign_a"},{title:"ExportToExcel",iconClass:"fa-file-excel-o",callbackfunction:"downloadExceldata",isdisabled:!1,isvisible:!0},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0}],d=[{fieldName:"Campaign Name",fieldType:"text",fieldIcon:"fa-envelope",fieldSearchConditionName:["CAMPAIGN_NAME"],isSearch:!1,value:"",listOptions:[]},{fieldName:"CampaignOwner",fieldType:"ddl-check",fieldIcon:"fa-user",fieldSearchConditionName:["CAMPAIGN_OWNER"],isSearch:!1,value:"",listOptions:[]},{fieldName:"CampaignType",fieldType:"ddl-check",fieldIcon:"fa-envelope",fieldSearchConditionName:["CAMPAIGN_TYPE"],isSearch:!1,value:"",listOptions:[]}],m=[{title:"View",href:"/CRM/ViewCampaignDetails/{campaign_id}/CRM/CRM_CAMPAIGNS",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Edit",href:"/CRM/ManageCampaign/{campaign_id}/Yes/CRM/CRM_CAMPAIGNS",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Follow-Ups",callbackfunction:"openAddNewEvent",href:"javascript:void(0)",icon:"fa fa-flag text-muted action-icon",additionalSpan:""}];function p(t,e,a){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(Object(l["a"])().mark((function t(e,a,i){var s,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e,n={},n["moduleName"]=a,n["type"]=i,t.next=6,c["a"].GetLeftSearchStatus(n).then((function(t){var e=t.data;if(null!=e){if("CAMPAIGN_OWNER_SEARCH"==i)return s.leftSearchFields[1].listOptions=e.DATA,s.LeadStatusList=e.DATA,s.LeadStatusList;"CAMPAIGN_TYPES"==i&&(s.leftSearchFields[2].listOptions=e.DATA)}}));case 6:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}var f={buttons:u,listActions:m,leftsearchSchema:d,bindleftCommonSearchdropdown:p},v=a("fc0b"),g=a("cdd5"),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header mheader-user"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("ManageCampaign")))])]),a("div",{staticClass:"modal-body"},[[a("ul",{staticClass:"shortcuts-menu pb-3 man_camp",attrs:{id:"divChannelTypes"}},[a("li",{class:1==t.campaignType?"position-relative active":"position-relative"},[a("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(e){return t.onClickCampaignType(1)}}},[t._m(0),t._m(1)])]),a("li",{class:2==t.campaignType?"position-relative active":"position-relative"},[a("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(e){return t.onClickCampaignType(2)}}},[t._m(2),t._m(3)])]),a("li",{class:3==t.campaignType?"position-relative active":"position-relative"},[a("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(e){return t.onClickCampaignType(3)}}},[t._m(4),t._m(5)])])])],a("div",{staticClass:"border p-3 overflow-auto w-100",staticStyle:{"overflow-x":"hidden !important"}},[1==t.campaignType&&t.isLoaded?a("dynamic-form",{attrs:{schema:t.FormSchema,buttons:t.buttons},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-SelectTemplate",fn:function(e){e.data;return[a("div",{staticClass:"w-100 float-left mt-3"},[a("a",{staticClass:"btn btn-success p-4 d-block btn_template",on:{click:function(e){return t.createTemplate()}}},[a("i",{staticClass:"fa fa-plus mr-2 font-16"}),t._v("Create New Template ")])]),t._v("   "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 float-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTemplate,expression:"searchTemplate"}],staticClass:"form-control",attrs:{name:"search",placeholder:"Search Template",type:"text"},domProps:{value:t.searchTemplate},on:{keyup:t.onSearch,input:function(e){e.target.composing||(t.searchTemplate=e.target.value)}}})])]),a("div",{staticClass:"row mt-2"},[t._v("   "),a("div",{staticClass:"col-lg-12 mb-3"},[a("h6",[a("span",[t._v("Choose From Templates:")]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v("*")])]),t._v("  "),t.isTemplateError?a("span",{staticClass:"error-class",attrs:{name:"template_id"}},[t._v("The Template field is required")]):t._e()]),!t.EmailTemplateData.length>0?a("span",{staticClass:"text-center text-danger no-record ml-4"},[t._v("No record(s) found")]):t._e(),a("div",{staticClass:"listing col-12 p-0"},[a("div",{staticClass:"row custom-box-width default_templates"},t._l(t.displayedTemplates,(function(e,i){return a("div",{key:i,staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible"},[a("div",{staticClass:"box border positionrelative float-left w-100"},[a("div",{staticClass:"default-tags"},[a("div",{staticClass:"defaultpic_control"},[a("span",{staticClass:"w-100 float-left p-2 font-weight-medium text-secondary"},[t._v(t._s(e.TEMPLATE_NAME))]),a("a",{staticClass:"btn btn-select mr-2",attrs:{title:"Select",href:"javascript:;"},on:{click:function(a){return t.Templateclick(e.TEMPLATE_ID)}}},[t._v("Select")]),a("a",{staticClass:"btn btn-view mr-2",attrs:{title:"View",href:"javascript:;"}},[t._v("View")])])]),a("div",{class:{"img-ico text-center p-4 ticket-attachments ":!0,active:e.TEMPLATE_ID==t.templateId}},[a("span",{domProps:{innerHTML:t._s(e.TEMPLATE_CONTENT)}})])])])})),0)])]),t.showAll?t._e():a("button",{staticClass:"btn btn-primary mt-2 float-right text-white",on:{click:function(e){t.showAll=!0}}},[t._v("View All")])]}}],null,!1,621234234)}):t._e(),2==t.campaignType&&t.isLoaded?a("modalSocialMediaCampaign"):t._e(),3==t.campaignType&&t.isLoaded?a("modalSMSCampaign"):t._e(),a("div",{staticClass:"col-lg-6 float-left"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)],2)])])],1)])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"left-icon-m"},[a("i",{staticClass:"fa fa-envelope"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"short-item-name"},[a("span",{staticClass:"w-100 float-left"},[t._v("Email Campaign")]),a("span",{staticClass:"font-12 float-left"},[t._v("Enhance your engagement today.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"left-icon-m"},[a("i",{staticClass:"fa fa-bullhorn"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"short-item-name"},[a("span",{staticClass:"w-100 float-left"},[t._v("Social Media Campaign")]),a("span",{staticClass:"font-12 float-left"},[t._v("A place where ideas grow.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"left-icon-m"},[a("i",{staticClass:"fa fa-comments"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"short-item-name"},[a("span",{staticClass:"w-100 float-left"},[t._v("SMS Campaign")]),a("span",{staticClass:"font-12 float-left"},[t._v("Be the first. To ensure higher sales rate.")])])}],b=(a("a9e3"),a("fb6a"),a("b0c0"),a("ac1f"),a("1276"),a("4de4"),a("841c"),a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"w-100 float-left"},[t._m(0),a("div",{staticClass:"listing col-12 p-0 mt-3"},[a("div",{staticClass:"row custom-box-width default_templates"},[a("a",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible",attrs:{href:"javascript:;"},on:{click:function(e){return t.loginByFacebook()}}},[t._m(1)]),t._m(2),t._m(3),t._m(4)])])])])}),_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 float-left"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[t._v("Start Your Campaign With:")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box positionrelative float-left w-100"},[a("div",{staticClass:"img-ico text-center p-2 ticket-attachments_small"},[a("em",{staticClass:"fa fa-file-text-o font-pic-size-28 mr-3"}),t._v(" "),a("span",{staticClass:"font-weight-medium"},[t._v("Facebook")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible",attrs:{href:"javascript:;"}},[a("div",{staticClass:"box positionrelative float-left w-100"},[a("div",{staticClass:"img-ico text-center p-2 ticket-attachments_small"},[a("em",{staticClass:"fa fa-file-text-o font-pic-size-28 mr-3"}),t._v(" "),a("span",{staticClass:"font-weight-medium"},[t._v("Instagram")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible",attrs:{href:"javascript:;"}},[a("div",{staticClass:"box positionrelative float-left w-100"},[a("div",{staticClass:"img-ico text-center p-2 ticket-attachments_small"},[a("em",{staticClass:"fa fa-file-text-o font-pic-size-28 mr-3"}),t._v(" "),a("span",{staticClass:"font-weight-medium"},[t._v("Google")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible",attrs:{href:"javascript:;"}},[a("div",{staticClass:"box positionrelative float-left w-100"},[a("div",{staticClass:"img-ico text-center p-2 ticket-attachments_small"},[a("em",{staticClass:"fa fa-file-text-o font-pic-size-28 mr-3"}),t._v(" "),a("span",{staticClass:"font-weight-medium"},[t._v("Bing")])])])])}],y={data:function(){return{FacebookAppId:"335046346019611",FacebookConfigurationId:"1317847885603306",FacebookAuthCallBackUrl:"https://d6e4-202-164-57-195.ngrok-free.app/CRM/SMCampaignListing"}},created:function(){},methods:{loginByFacebook:function(){var t=this;window.location.href="https://graph.facebook.com/oauth/authorize?client_id="+encodeURIComponent(t.FacebookAppId.toString())+"&config_id="+encodeURIComponent(t.FacebookConfigurationId.toString())+"&redirect_uri="+encodeURIComponent(t.FacebookAuthCallBackUrl.toString())}}},w=y,T=a("2877"),D=Object(T["a"])(w,b,_,!1,null,null,null),M=D.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 float-left"},[a("div",{staticClass:"row"},[a("div",{staticClass:"w-100 float-left"},[t.isLoaded?a("dynamic-form",{attrs:{schema:t.FormSchema,buttons:t.buttons},on:{OnSubmit:t.onSubmit}}):t._e()],1)])])},E=[],k={data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"MultiSelectField",mode:"tag",label:this.$t("Contacts"),name:"Contacts",value:"",placeholder:this.$t("Contacts"),config:{options:[]},validationRules:{required:!0}},{astype:"TextAreaField",label:this.$t("Content"),name:"Content",value:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-send pr-2'></i>Send"}],isLoaded:0}},created:function(){var t=this;t.GetContacts(),t.isLoaded=1},methods:{onSubmit:function(t){var e="";t.Contacts.forEach((function(t,a){0==a?e=t.value:e+=","+t.value}));var a={sms_body:t.Content,send_to:e},i=JSON.stringify(a);c["a"].SendTwilioSMS(i).then((function(t){}))},GetContacts:function(){var t=this,e="id=&moduleName=CRM&type=CRM_CONTACT_NUMBERS&search=&refId=";c["a"].getDDLData(e).then((function(e){t.FormSchema[0].Data[0].config.options=[];var a=e.data.DATA;a.forEach((function(e,a){t.FormSchema[0].Data[0].config.options.push({name:e.name,value:e.value})}))}))}}},F=k,x=Object(T["a"])(F,A,E,!1,null,null,null),O=x.exports,I={components:{modalSocialMediaCampaign:M,modalSMSCampaign:O},props:{campaignId:{type:Number,required:!0},reqType:{type:String}},data:function(){return{StaticObj:{layoutType:"Single",Data:[{astype:"SlotField",label:"",name:"CampaignType",value:"",placeholder:""}]},StaticObj2:{layoutType:"Single",group_name:"SelectTemplate",group_display_name:this.$t("SelectTemplate"),Data:[{astype:"SlotField",name:"SelectTemplate",value:"",placeholder:""}]},buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",value:"Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closepopup,isVisible:!0}],FormSchema:[],campaignOwnerDDL:[],EmailTemplateData:[],SortBy:"",SortExp:"",PageSize:10,PageNumber:1,showAll:!1,search:"",searchTemplate:"",campaignType:1,CampaignData:[],GroupBy:[],isLoading:!1,CampaignId:0,CampaignOwnerData:[],templateId:0,statusId:1001,CampOwner:"",isLoaded:!1,isTemplateError:!1}},created:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var e;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.FetchData();case 3:return t.next=5,e.GetDropDownData();case 5:return t.next=7,e.emailTemplateData();case 7:e.isLoaded=!0;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{displayedTemplates:function(){return this.showAll?this.EmailTemplateData:this.EmailTemplateData.slice(0,4)}},methods:{FetchData:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var e,a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.isLoading=!0,a="id=".concat(e.campaignId,"&moduleName=CRM&subModuleCode=CRM_CAMPAIGNS&langCode=en"),t.next=5,c["a"].getFormLayout(a).then(function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(a){var i;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isLoading=!1,e.CampaignData=a.data.data,null!=e.CampaignData&&e.CampaignData.length>0&&(i=e.CampaignData[0].group_id,$.each(e.CampaignData,$.proxy(function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(a,s){var n,o,r,c;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("NO"!=s.form_field_visibility){t.next=3;break}return"template_id"==s.name&&(e.templateId=s.value),t.abrupt("return");case 3:i=s.group_id,"date"==s.dt_code&&(s.value=""==s.value?null:s.value),"checkbox"==s.dt_code&&(s.select_value=s.value.split(",")),n=$.grep(e.GroupBy,(function(t,e){return t.group_id==i})),0==n.length&&(o=$.grep(e.CampaignData,(function(t,e){return t.group_id==i})),r=[],o.forEach((function(t){if("YES"==t.form_field_visibility){var a={};"TextField"==t.astype&&(a={astype:t.astype,label:e.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},r.push(a)),"NumericField"==t.astype&&(a={astype:t.astype,label:e.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},r.push(a)),"CustomSelectField"==t.astype&&(e.CampOwner=t.value,a={astype:t.astype,label:e.$t(t.display_name),name:t.name,value:t.value,disabled:!1,config:{options:[]},validationRules:{required:t.system_is_required}},r.push(a)),"SelectField"==t.astype&&(a={astype:t.astype,label:e.$t(t.display_name),name:t.name,value:t.value,disabled:!1,config:{options:[]},validationRules:{required:t.system_is_required}},r.push(a)),"TextAreaField"==t.astype&&(a={astype:t.astype,label:e.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},r.push(a)),"DatetimeField"==t.astype&&(a={astype:"DateField",label:e.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},r.push(a))}})),o.length>0&&(c={group_id:i,layoutType:"double",group_name:o[0].group_name,group_display_name:o[0].group_display_name,Data:r},e.GroupBy.push(c)));case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())),e.GroupBy.push(e.StaticObj2),e.FormSchema=e.GroupBy);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),GetDropDownData:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var a,i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,i="id=&moduleName=CRM&type=CRM_USERS",e.next=4,c["a"].getDDLData(i+"&search=").then((function(t){var e=[];t.data,""!=t.data&&(e=t.data);var i=[];if(a.CampaignOwnerData=e.DATA,null!=a.CampaignOwnerData){a.CampaignOwnerData.forEach((function(t){i.push({name:t.name,value:t.value})})),a.CampaignOwnerData=i,a.GroupBy.forEach((function(t){"campaign_details"==t.group_name&&(t.Data.filter((function(t){return"campaign_owner"==t.name}))[0].astype="MultiSelectField",t.Data.filter((function(t){return"campaign_owner"==t.name}))[0].config.options=a.CampaignOwnerData)}));var s=a.CampaignOwnerData.filter((function(t){return t.value==a.CampOwner})),n=null;s.forEach((function(t){n={label:t.name,value:t.value}})),a.FormSchema[0].Data[1].value=n}}));case 4:case"end":return e.stop()}}),e)})))()},closepopup:function(){var t=this;t.$parent.CloseManageCampaignPopup()},emailTemplateData:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var a,i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,i="id=&search="+a.search+"&refId=&subModuleCode=CRM_CAMPAIGNS&sortBy="+a.SortBy+"&sortExp="+a.SortExp+"&pageSize="+a.PageSize+"&pageNumber="+a.PageNumber,c["a"].TemplateListing(i).then((function(t){null==t.data||""==t.data?a.EmailTemplateData=[]:a.EmailTemplateData=t.data.data}));case 3:case"end":return e.stop()}}),e)})))()},onSubmit:function(t){var e=this;if(!e.templateId)return e.isTemplateError=!0,!1;t.CampaignType=e.campaignType,t.SelectTemplate=e.templateId,e.isLoading=!0;var a=[],i=e.CampaignData;$.each(i,(function(i,s){"campaign_name"==s.name?s.value=t.campaign_name:"campaign_owner"==s.name?s.value=t.campaign_owner:"campaign_description"==s.name?s.value=t.campaign_description:"campaign_type"==s.name?s.value=e.campaignType:"status_id"==s.name?s.value=e.statusId:"template_id"==s.name&&(s.value=e.templateId.toString());var o="campaign_id"==s.name?e.campaignId:s.value;if("campaign_id"==s.name&&"Clone"==e.reqType&&(o=0),"date"==s.dt_code&&(o=s.value),"checkbox"==s.dt_code){var l=s.select_value.filter((function(t){return null!=t&&""!=t}));o=l.join(",")}if("select"==s.dt_code)try{o="object"===Object(n["a"])(o)&&null!==o?o.value:o}catch(c){console.log(c)}var r={field_name:s.name,field_value:o,custom_field_id:s.custom_field_id};a.push(r)}));var s={data:a},o=JSON.stringify(s);c["a"].PostCampaign(o).then(function(){var a=Object(r["a"])(Object(l["a"])().mark((function a(i){var s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.isLoading=!1,"1"!=i.data[0].Code){a.next=9;break}return s=e.EmailTemplateData.filter((function(t){return t.TEMPLATE_ID==e.templateId}))[0],a.next=5,e.AddOrUpdateMailChimpTemplate(s.TEMPLATE_ID,s.MAILCHIMP_TEMPLATE_ID,s.TEMPLATE_NAME,s.TEMPLATE_CONTENT);case 5:e.campaignId>0&&"Update"==e.reqType?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Campaign")]),"success",!0,e.$t("Alert")),e.closepopup()):e.campaignId>0&&"Clone"==e.reqType?(e.ShowAlert(e.$t("CloneSuccess",[e.$t("Campaign"),t.campaign_name]),"success",!0,e.$t("Alert")),e.closepopup()):(e.ShowAlert(e.$t("AddedSuccess",[e.$t("Campaign")]),"success",!0,e.$t("Alert")),e.closepopup(),e.$parent.CampaignId=i.data[0].Value,e.$parent.CampaignName=t.campaign_name,e.$parent.isShowManageSchedule=!0),e.$parent.FetchData(),a.next=10;break;case 9:e.ShowAlert(e.$t("AddedError",[e.$t("Campaign")]),"failure",!0,e.$t("Alert"));case 10:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},AddOrUpdateMailChimpTemplate:function(t,e,a,i){var s=this;return Object(r["a"])(Object(l["a"])().mark((function n(){var o,u,d;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=s,null==e&&(e=0),u={templateId:e,templateName:a,folderId:null,htmlContent:i},d=JSON.stringify(u),n.next=6,c["a"].AddOrUpdateTemplate(d).then(function(){var e=Object(r["a"])(Object(l["a"])().mark((function e(a){var i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==a.data){e.next=5;break}return i=a.data.id,o.$parent.MailChimpTemplateId=i,e.next=5,o.AddUpdateMailChimpTemplateId(t,i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)})))()},AddUpdateMailChimpTemplateId:function(t,e){return Object(r["a"])(Object(l["a"])().mark((function a(){var i,s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={templateId:t,mailChimpTemplateId:e},s=JSON.stringify(i),a.next=4,c["a"].AddUpdateMailChimpTemplateId(s).then((function(t){}));case 4:case"end":return a.stop()}}),a)})))()},onClickCampaignType:function(t){var e=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e,i.campaignType=t;case 2:case"end":return a.stop()}}),a)})))()},onSearch:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,a.search=a.searchTemplate,a.emailTemplateData();case 3:case"end":return e.stop()}}),e)})))()},Templateclick:function(t){var e=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e,i.templateId=t,i.isTemplateError=!1;case 3:case"end":return a.stop()}}),a)})))()},createTemplate:function(){return Object(r["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.open("https://qatest.talygen.com/emailtemplate/addnew?reqFrom=ManageCampaign","_blank");case 1:case"end":return t.stop()}}),t)})))()}}},P=I,N=(a("d514"),Object(T["a"])(P,C,S,!1,null,null,null)),R=N.exports,L=a("e29d"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[a("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header mheader-user"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("ManageSchedule")))])]),a("div",{staticClass:"modal-body"},[a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-SendType",fn:function(e){return[a("ul",{staticClass:"shortcuts-menu pb-3 man_camp man_view",attrs:{id:"ManageCampaignTypes"}},[a("li",{class:"SendNow"==t.SendType?"position-relative active":"position-relative"},[a("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(e){return t.onClickSendOrSchedule("SendNow")}}},[a("span",{staticClass:"left-icon-m"},[a("i",{staticClass:"fa fa-send-o"})]),a("span",{staticClass:"short-item-name"},[a("span",{staticClass:"w-100 float-left"},[t._v("Send Now")]),a("span",{staticClass:"font-12 float-left"},[t._v("Send the email campaign immediately")])])])]),a("li",{class:"Schedule"==t.SendType?"position-relative active":"position-relative"},[a("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(e){return t.onClickSendOrSchedule("Schedule")}}},[a("span",{staticClass:"left-icon-m"},[a("i",{staticClass:"fa fa-calendar-o"})]),a("span",{staticClass:"short-item-name"},[a("span",{staticClass:"w-100 float-left"},[t._v("Schedule")]),a("span",{staticClass:"font-12 float-left"},[t._v("Pick a date and time")])])])]),a("li",{class:"BatchSchedule"==t.SendType?"position-relative active":"position-relative"},[a("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(e){return t.onClickSendOrSchedule("BatchSchedule")}}},[a("span",{staticClass:"left-icon-m"},[a("i",{staticClass:"fa fa-users"})]),a("span",{staticClass:"short-item-name"},[a("span",{staticClass:"w-100 float-left"},[t._v("Batch Schedule")]),a("span",{staticClass:"font-12 float-left"},[t._v("Schedule to large groups of contacts in drip mode")])])])])])]}},{key:"tgslot-ScheduleAtTime",fn:function(e){e.data;return[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,n=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},attrs:{placeholder:"HH:MM"},domProps:{value:i}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.ScheduleAtTime,callback:function(e){t.ScheduleAtTime=e},expression:"ScheduleAtTime"}})],1)]}},{key:"tgslot-BatchStartTime",fn:function(e){e.data;return[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,n=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},attrs:{placeholder:"Start Time"},domProps:{value:i}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.BatchStartTime,callback:function(e){t.BatchStartTime=e},expression:"BatchStartTime"}})],1)]}},{key:"tgslot-BatchEndTime",fn:function(e){e.data;return[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,n=e.togglePopover;return[a("input",t._g({class:{"form-control":!0},attrs:{placeholder:"End Time"},domProps:{value:i}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.BatchEndTime,callback:function(e){t.BatchEndTime=e},expression:"BatchEndTime"}})],1)]}}])})],1)])])]),t.isShowSMTPModal?a("modaladdsmtp",{attrs:{SendThrough:t.SendThrough,ProfileId:t.ProfileId},on:{close:function(e){t.isShowSMTPModal=!1}}}):t._e()],1)},B=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",[t._v(t._s(t.$t("Emails")))])]})),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-Password",fn:function(e){var i=e.data;return[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],class:{"form-control w-100":!0,"is-invalid":""!=i.error.length},attrs:{type:"password",name:"Password"},domProps:{value:i.fieldInfo.value},on:{input:function(e){e.target.composing||t.$set(i.fieldInfo,"value",e.target.value)}}}),""!=i.error.length?a("span",{staticClass:"invalid-feedback",attrs:{name:"Password"}},[t._v(t._s(i.error))]):t._e()])]}}])}),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)])])])},V=[],U={props:{SendThrough:{type:String,required:!0},ProfileId:{type:Number,required:!1}},data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("SMTPServer"),name:"SMTPServer",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("UserName"),name:"UserName",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SlotField",label:this.$t("Password"),name:"Password",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("FromEmail"),name:"FromEmail",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("SMTPPort"),name:"SMTPPort",value:"",placeholder:"",config:{options:[],showAddIcon:!1}},{astype:"RadioField",label:this.$t("SMTPSecurity"),name:"SMTPSecurity",value:!1,placeholder:"",validationRules:{required:!1,max:200},config:{options:[{name:"true",value:!0},{name:"false",value:!1}],showAddIcon:!1}},{astype:"SelectField",label:this.$t("SMTPType"),name:"SMTPType",value:"",placeholder:"",config:{options:[],showAddIcon:!1}},{astype:"TextField",label:this.$t("FromName"),name:"FromName",value:"",placeholder:"",validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Save"}]}},created:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,!(a.ProfileId>0)){e.next=4;break}return e.next=4,a.GetSMTPProfile(a.ProfileId);case 4:return e.next=6,a.getModuleIdByModuleName();case 6:case"end":return e.stop()}}),e)})))()},methods:{getModuleIdByModuleName:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var a,i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,i="moduleName=Email",e.next=4,c["a"].GetModuleIdByModuleName(i).then((function(t){var e=t.data;a.BindDropdownData(e)}));case 4:case"end":return e.stop()}}),e)})))()},BindDropdownData:function(t){var e=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var i,s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e,s="moduleId=".concat(t,"&IsWizard=false"),a.next=4,c["a"].GetModuleKeys(s).then((function(t){var e=t.data.StorageKeys,a=e.filter((function(t){return"smtpport"==t.CORE_CONFIG_KEY.toLowerCase()}))[0].CORE_CONFIG_OPTIONS.split("^"),s=e.filter((function(t){return"smtptype"==t.CORE_CONFIG_KEY.toLowerCase()}))[0].CORE_CONFIG_OPTIONS.split("^");a.forEach((function(t,e){i.FormSchema[0].Data[4].config.options.push({name:t,value:t})})),s.forEach((function(t,e){i.FormSchema[0].Data[6].config.options.push({name:t,value:t})}))}));case 4:case"end":return a.stop()}}),a)})))()},GetSMTPProfile:function(t){var e=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var i,s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e,s="profileId=".concat(t),a.next=4,c["a"].GetEmailProfile(s).then((function(t){i.FormSchema[0].Data[0].value=t.data.smtp_server,i.FormSchema[0].Data[1].value=t.data.user_name,i.FormSchema[0].Data[2].value=t.data.password,i.FormSchema[0].Data[3].value=t.data.from_email,i.FormSchema[0].Data[4].value=null==t.data.smtp_port?"":t.data.smtp_port,i.FormSchema[0].Data[5].value=t.data.smtp_security,i.FormSchema[0].Data[6].value=null==t.data.smtp_type?"":t.data.smtp_type,i.FormSchema[0].Data[7].value=t.data.from_email}));case 4:case"end":return a.stop()}}),a)})))()},onSubmit:function(t,e){var a=this,i={smtp_server:t.SMTPServer,user_name:t.UserName,password:t.Password,from_email:t.FromEmail,smtp_port:t.SMTPPort,smtp_security:t.SMTPSecurity,smtp_type:t.SMTPType,from_name:t.FromName,send_through:a.SendThrough,profile_id:a.ProfileId},s=JSON.stringify(i);c["a"].SaveEmailSetting(s).then((function(t){"INSERTED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("AddedSuccess",[a.$t("EmailSetting")]),"success",!0,a.$t("Alert")),a.$emit("close")):"UPDATED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("EmailSetting")]),"success",!0,a.$t("Alert")),a.$emit("close")):a.ShowAlert(a.$t("AddedError",[a.$t("EmailSetting")]),"danger",!0,a.$t("Alert"))}))}}},q=U,z=Object(T["a"])(q,G,V,!1,null,null,null),H=z.exports,W={components:{modaladdsmtp:H},props:{campaignId:{type:Number,required:!0},campaignName:{type:String,required:!0},mailChimpTemplateId:{type:Number,required:!0}},data:function(){return{Contactlist:[],timezone:[],isShowSMTPModal:!1,Grouplist:[],FormSchema:[{layoutType:"single",Data:[{astype:"SlotField",name:"SendType",value:"",placeholder:""}]},{layoutType:"double",Data:[{astype:"SlotField",name:"Schedule",value:"",placeholder:"",visibility:!1}]},{layoutType:"single",Data:[{astype:"SlotField",name:"Batch",value:"",placeholder:"",visibility:!1}]},{layoutType:"double",group_name:this.$t("ScheduleAt"),group_display_name:this.$t("ScheduleAt"),Data:[{astype:"DateField",label:"Schedule Date",name:"ScheduleAtDate",value:"",placeholder:"Enter Start Date",config:{options:[]},validationRules:{required:!0},visibility:!1},{astype:"SlotField",label:this.$t("ScheduleTime"),name:"ScheduleAtTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!0},visibility:!1}]},{layoutType:"triple",group_name:this.$t("NoofRecipients"),group_display_name:this.$t("NoofRecipients"),Data:[{astype:"DateField",label:this.$t("EventStartDate"),name:"BatchStartDate",value:"",placeholder:"Enter Start Date",config:{options:[]},validationRules:{required:!0},visibility:!1},{astype:"SlotField",label:this.$t("Specifystartandendtime"),name:"BatchStartTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!1},visibility:!1},{astype:"SlotField",label:"",name:"BatchEndTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!1},visibility:!1}]},{layoutType:"four",Data:[{astype:"NumericField",label:this.$t("BatchQuantity"),name:"BatchQuantity",value:"",placeholder:"Batch Quantity",config:{options:[]},validationRules:{required:!1},visibility:!1},{astype:"SelectField",label:"",name:"BatchType",value:"",placeholder:"",config:{options:[{value:"Days",name:"Days"},{value:"Hours",name:"Hours"},{value:"Minutes",name:"Minutes"},{value:"Seconds",name:"Seconds"}]},validationRules:{required:!1},visibility:!1},{astype:"NumericField",label:this.$t("RepeatAfter"),name:"RepeatAfter",value:"",placeholder:"Repeat After",config:{options:[]},validationRules:{required:!1},visibility:!1}]},{layoutType:"single",Data:[{astype:"CheckBoxField",label:this.$t("SelectDay"),name:"BatchDays",value:["1","2","3","4","5","6","7"],config:{options:[{value:"1",name:"Mon"},{value:"2",name:"Tue"},{value:"3",name:"Wed"},{value:"4",name:"Thu"},{value:"5",name:"Fri"},{value:"6",name:"Sat"},{value:"7",name:"Sun"}]},validationRules:{required:!1},visibility:!1}]},{group_name:"Sender Details",group_display_name:this.$t("Sender Details"),layoutType:"double",Data:[{astype:"SelectField",label:this.$t("SendThrough"),name:"SendThrough",value:"",placeholder:"Select",config:{options:[{name:"MailChimp",value:"MailChimp"},{name:"SendGrid",value:"SendGrid"},{name:"SMTP",value:"SMTP"}],onChange:this.onChangeSendThrough},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("SendProfile"),name:"SendProfile",value:"",placeholder:"Select",config:{options:[],onChange:this.onChangeProfile,showAddIcon:!0,onAddButtonClick:this.AddSMTPCredentials},validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"CheckBoxField",label:this.$t("TrackEmail"),name:"TrackEmail",value:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}}]},{group_name:"Enter Email Details",group_display_name:this.$t("Enter Email Details"),layoutType:"double",Data:[{astype:"TextField",label:this.$t("SenderEmail"),name:"SenderEmail",value:"",placeholder:"",config:{},validationRules:{required:!0}},{astype:"TextField",label:this.$t("SenderName"),name:"SenderName",value:"",placeholder:"",config:{},validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Subjectline"),name:"Subjectline",value:"",placeholder:"Subject line",config:{},validationRules:{required:!0}},{astype:"TextField",label:this.$t("PreviewText"),name:"PreviewText",value:"",placeholder:"(Optional)",config:{},validationRules:{required:!1},visibility:!1}]},{layoutType:"single",Data:[{astype:"RadioField",label:this.$t(""),name:"Recipient",value:"1",placeholder:"",config:{options:[{value:"1",name:"Choose Contacts"},{value:"2",name:"Send to Smart List"}],onChange:this.onclickContactorGroup},visibility:!0,validationRules:{required:!1}}]},{layoutType:"double",Data:[{astype:"MultiSelectField",label:this.$t("Contact"),name:"Contact",value:"",mode:"tag",config:{options:[]},visibility:!0,validationRules:{required:!0}},{astype:"MultiSelectField",label:this.$t("ContactGroup"),name:"ContactGroup",value:"",mode:"tag",config:{options:[]},visibility:!1,validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"submit",class:"btn btn-primary",text:"<i class='fa fa-envelope pr-2'></i>Schedule"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closepopup,isVisible:!0}],SendThrough:"",ProfileId:0,SendType:"SendNow",ScheduleAtTime:null,BatchStartTime:null,BatchEndTime:null}},created:function(){var t=this;t.FormSchema[3].group_display_name="",t.FormSchema[4].group_display_name="",t.FormSchema[3].group_name="",t.FormSchema[4].group_name="",t.GetContacts()},methods:{closepopup:function(){var t=this;t.$parent.closeManageCampaign()},GetContacts:function(){var t=this,e="id=&moduleName=CRM&type=CRM_CONTACTS&search=&refId=";c["a"].getDDLData(e).then((function(e){t.Contactlist=[],t.FormSchema[12].Data[0].config.options=[],t.Contactlist=e.data.DATA,t.Contactlist.forEach((function(e,a){t.FormSchema[12].Data[0].config.options.push({name:e.name,value:e.value})}))}))},onChangeSendThrough:function(t){var e=this;e.ProfileId=0,e.SendThrough=t.target.value,e.FormSchema[7].Data[1].value="",e.FillProfileDropdown(e.SendThrough)},FillProfileDropdown:function(t){var e=this;e.FormSchema[7].Data[1].config.options=[];var a="id=&moduleName=CRM&type=".concat(t);c["a"].getDDLData(a+"&search=").then((function(t){if(void 0!=t.data.DATA){var a=t.data.DATA;a.forEach((function(t){e.FormSchema[7].Data[1].config.options.push({name:t.name,value:t.value})}))}}))},onChangeProfile:function(t){var e=this;e.ProfileId=t.target.value},AddSMTPCredentials:function(){var t=this;if(""==t.FormSchema[7].Data[0].value)return t.ShowAlert("Please select atleast one value in send through dropdown.","warning",!0,t.$t("Alert")),!1;t.isShowSMTPModal=!0},onClickSendOrSchedule:function(t){var e=this;e.ResetProperties(),e.SendType=t,"SendNow"==t?(e.FormSchema[3].group_display_name="",e.FormSchema[4].group_display_name="",e.FormSchema[4].group_name="",e.FormSchema[3].group_name="",e.FormSchema[3].Data[0].visibility=!1,e.FormSchema[3].Data[1].visibility=!1,e.FormSchema[4].Data[0].visibility=!1,e.FormSchema[4].Data[1].visibility=!1,e.FormSchema[4].Data[2].visibility=!1,e.FormSchema[5].Data[0].visibility=!1,e.FormSchema[5].Data[1].visibility=!1,e.FormSchema[5].Data[2].visibility=!1,e.FormSchema[6].Data[0].visibility=!1):"Schedule"==t?(e.FormSchema[4].group_display_name="",e.FormSchema[4].group_name="",e.FormSchema[3].group_display_name=e.$t("ScheduleAt"),e.FormSchema[3].group_name=e.$t("ScheduleAt"),e.FormSchema[3].Data[0].visibility=!0,e.FormSchema[3].Data[1].visibility=!0,e.FormSchema[4].Data[0].visibility=!1,e.FormSchema[4].Data[1].visibility=!1,e.FormSchema[4].Data[2].visibility=!1,e.FormSchema[5].Data[0].visibility=!1,e.FormSchema[5].Data[1].visibility=!1,e.FormSchema[5].Data[2].visibility=!1,e.FormSchema[6].Data[0].visibility=!1):(e.FormSchema[4].group_display_name=e.$t("NoofRecipients"),e.FormSchema[4].group_name=e.$t("NoofRecipients"),e.FormSchema[3].group_display_name="",e.FormSchema[3].group_name="",e.FormSchema[3].Data[0].visibility=!1,e.FormSchema[3].Data[1].visibility=!1,e.FormSchema[4].Data[0].visibility=!0,e.FormSchema[4].Data[1].visibility=!0,e.FormSchema[4].Data[2].visibility=!0,e.FormSchema[5].Data[0].visibility=!0,e.FormSchema[5].Data[1].visibility=!0,e.FormSchema[5].Data[2].visibility=!0,e.FormSchema[6].Data[0].visibility=!0)},GetContactGroup:function(){var t=this,e="id=&subModuleCode=CRM_CAMPAIGNS";c["a"].ContactGroupListing(e).then((function(e){t.Contactlist=[],t.FormSchema[12].Data[1].config.options=[],t.Contactlist=e.data.data,t.Contactlist.forEach((function(e,a){t.FormSchema[12].Data[1].config.options.push({name:e.NAME,value:e.GROUP_ID})}))}))},onclickContactorGroup:function(t){var e=this,a=t.target.getAttribute("data-value");e.FormSchema[12].Data[1].value="",e.FormSchema[12].Data[0].value="","1"==a?(e.GetContacts(),e.FormSchema[12].Data[1].visibility=!1,e.FormSchema[12].Data[0].visibility=!0):(e.GetContactGroup(),e.FormSchema[12].Data[0].visibility=!1,e.FormSchema[12].Data[1].visibility=!0)},ResetProperties:function(){var t=this;t.BatchStartTime=null,t.BatchEndTime=null,t.ScheduleAtTime=null,t.FormSchema[3].Data[0].value="",t.FormSchema[4].Data[0].value="",t.FormSchema[5].Data[0].value="",t.FormSchema[5].Data[1].value="",t.FormSchema[5].Data[2].value="",t.FormSchema[6].Data[0].value=["1","2","3","4","5","6","7"]},onSubmit:function(t,e){var a=this,i={date:t.ScheduleAtDate,time:a.ScheduleAtTime,timezone:null},s={start_date:t.BatchStartDate,batch_quantity:t.BatchQuantity,batch_type:t.BatchType,repeat_after:t.RepeatAfter,batch_days:t.BatchDays.join(),start_time:a.BatchStartTime,end_time:a.BatchEndTime},n={campaign_id:a.campaignId,sub_module_code:"CRM_CAMPAIGNS",send_type:a.SendType,send_through:t.SendThrough,profile_id:t.SendProfile,track_email:""!=t.TrackEmail,recipient:t.Recipient,from_email:t.SenderEmail,from_name:t.SenderName,contact:t.Contact,contact_group:t.ContactGroup,subject:t.Subjectline,preview_text:t.PreviewText,schedule:i,batch_schedule:s},o=JSON.stringify(n);c["a"].SaveScheduleCampaign(o).then((function(t){"SENT"==t.data?(a.ShowAlert("Email Sent Successfully.","success",!0,a.$t("Alert")),a.closepopup()):"SCHEDULED"==t.data?(a.ShowAlert("Email Scheduled Successfully.","success",!0,a.$t("Alert")),a.closepopup()):"BATCH_SCHEDULED"==t.data?(a.ShowAlert("Email Batch Scheduled Successfully.","success",!0,a.$t("Alert")),a.closepopup()):a.ShowAlert("Something went wrong.","danger",!0,a.$t("Alert"))})),"MailChimp"==t.SendThrough&&a.GetContactListData(n)},GetContactListData:function(t){var e=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var i,s,n,o,u,d,m,p,h;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e,s="",n="","1"==t.recipient?(s="contacts",o=JSON.stringify(t.contact),u=JSON.parse(o),u.forEach((function(t,e){0==e?n=t.value:n+=","+t.value}))):(s="groups",d=JSON.stringify(t.contact_group),m=JSON.parse(d),m.forEach((function(t,e){0==e?n=t.value:n+=","+t.value}))),p={type:s,ids:n},h=JSON.stringify(p),a.next=8,c["a"].GetContacts(h).then(function(){var e=Object(r["a"])(Object(l["a"])().mark((function e(a){var s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=a.data.RESULT,"SUCCESS"!=a.data.STATUS||null==s){e.next=6;break}return e.next=4,i.AddMemberToMailChimp(s);case 4:return e.next=6,i.SaveSendMaliChimpCampaign(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return a.stop()}}),a)})))()},AddMemberToMailChimp:function(t){return Object(r["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].AddMemberToMailChimp(t).then((function(t){}));case 2:case"end":return e.stop()}}),e)})))()},SaveSendMaliChimpCampaign:function(t){var e=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var i,s,n,o,r,u;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e,s="",n=t.batch_schedule.batch_type,o=parseInt(t.batch_schedule.repeat_after),s="Seconds"==n?Math.floor(o/60):"Hours"==n?Math.floor(60*o):"Days"==n?Math.floor(24*o*60):o,r={templateId:i.mailChimpTemplateId,fromName:t.from_name,subjectLine:t.subject,issueTitle:i.campaignName,previewText:t.preview_text,fromEmail:t.from_email,sendType:t.send_type,scheduleDate:t.schedule.date,scheduleTime:t.schedule.time,batchStartDate:t.batch_schedule.start_date,batchStartTime:t.batch_schedule.start_time,batchQuantity:t.batch_schedule.batch_quantity,repeatAfter:s},u=JSON.stringify(r),c["a"].AddCampaignToMailChimp(u).then((function(t){}));case 8:case"end":return a.stop()}}),a)})))()}}},J=W,Y=(a("44c7"),Object(T["a"])(J,j,B,!1,null,null,null)),Q=Y.exports,K=a("0856"),X={components:{searchfilter:v["a"],viewlayout:g["a"],modalfollowupslist:L["a"],modalManageCampaign:R,modalManageSchedule:Q,EmailStatistics:K["default"]},data:function(){return{isLoading:!1,ViewList:[],ViewListId:"",leftSearchFields:f.leftsearchSchema,listheaderbuttons:f.buttons,listActions:f.listActions,CampaignData:null,StatusListForListing:[],Headers:null,TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,Status:"",ModuleType:"",txtcampaign:"",selectedCampaignOwner:[],CampaignOwnerList:null,souceID:0,showAddEventModal:!1,campaignName:"",StatusIds:"",campaignOwner:"",campaignType:"",campaignDateFrom:"",campaignDateTo:"",langCode:"en",showAddEmailTemplate:!1,noRecord:!1,showFilter:!1,searchCondition:"",IsAnySearch:!1,ShowManageView:!1,ShowManageCampaignPopup:!1,userid:null,usertype:null,companyId:null,privilegeParams:null,LegendArray:[],appliedFilter:[],isShowManageSchedule:!1,CampaignId:0,MailChimpTemplateId:0,CampaignName:"",reqType:"Save"}},created:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var e;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,this.privilegeParams="controller=CRM&action=",e=this,e.getStatuslistForListing("CRM","en"),t.next=8,f.bindleftCommonSearchdropdown(e,"CRM","CAMPAIGN_OWNER_SEARCH");case 8:return t.next=10,f.bindleftCommonSearchdropdown(e,"CRM","CAMPAIGN_TYPES");case 10:e.FetchData(),e.GetDdlRecords_ViewList(),e.LegendArray=[{class:"bg-primary colorboxsquare",text:e.$t("CloseLeadLegend",["Campaign"])}];case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{GetDdlRecords_ViewList:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var e,a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.ViewList=[],a="moduleName=CRM&subModuleCode=CRM_CAMPAIGNS&viewId=0&pageSize=100&pageNum=1&sortBy=&sortExp=",t.next=5,c["a"].GetViewList(a).then((function(t){t.data&&"undefined"!=typeof t.data.DATA&&(e.ViewList=t.data.DATA);var a=0;e.ViewListId="0",null==e.ViewList||""==e.ViewList||e.ViewList.forEach((function(t){t.IS_SLECTED_USER_ID>0&&(a+=1,e.ViewListId=t.VIEW_ID)}));var i=0;a>0?e.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):null==e.ViewList||""==e.ViewList?e.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):e.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}),setTimeout((function(){e.ViewListId>0?e.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=e.ViewListId:e.$refs.tgList.$refs.tgListHeaderButtons.ViewListId="0"}),1e3)}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),DefaultView:function(){var t=this,e={ModuleName:"CRM",SubmoduleCode:"CRM_CAMPAIGNS"},a=JSON.stringify(e);c["a"].ClearView(a).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(t.ShowAlert(t.$t("ClearSuccess",[t.$t("DefaultView")]),"success",!0,t.$t("Alert")),t.FetchData()):t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",!0,t.$t("Alert"))}))},OnApplyView:function(t){var e=this;if("0"==t)e.DefaultView();else{var a={ViewId:t,ModuleName:"CRM",SubmoduleCode:"CRM_CAMPAIGNS"},i=JSON.stringify(a);c["a"].ApplyView(i).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ApplySuccess",[e.$t("View")]),"success",!0,e.$t("Alert")),e.$emit("RefreshManageView"),e.FetchData()):e.ShowAlert(e.$t("AddedError",[e.$t("View")]),"failure",!0,e.$t("Alert"))}))}},renderActions:function(t){var e=this,a=[];return e.listActions.forEach((function(e){var i=Object(o["a"])({},e);switch(i.title){case"View":i.isVisible=!0;break;case"Edit":case"FollowUps":i.isVisible="Closed"!=t.status_id;break;default:i.isVisible=!0;break}a.push(i)})),a},clickEventOfColumn:function(t,e){"campaign_name"==e.COLUMN_NAME&&this.$router.push({path:"/CRM/ViewCampaignDetails/"+t.campaign_id+"/CRM/CRM_CAMPAIGNS"})},getStatuslistForListing:function(t,e){var a=this,i="langCode="+e+"&statusType="+t+"&hasglobal=true";c["a"].statusdropdown(i).then((function(t){if("Success"==t.data.status){var e=t.data.result;a.StatusListForListing=e.data,a.StatusIds=e.data[1].STATUS_ID}}))},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"downloadExceldata":this.FetchData(!0);break;case"openFilterPopUp":this.openFilterPopUp();break;case"ManageView":this.ManageView();break;case"OpenManageCampaignPopup":this.OpenManageCampaignPopup(0);break;case"ManageSchedule":this.ManageSchedule();break;case"commonDeleteData":this.commonDeleteData();break;case"removeFilter":var e=this;this.searchCondition="";var a=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[a].isvisible=!1;var i=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[i].iconClass="fa fa-filter";try{e.appliedFilter=[]}catch(s){}e.FetchData();break;case"setTourGuideSteps":this.setTourGuideSteps(0);break}},actionButtonClick:function(t,e,a,i){var s=this;switch(t){case"checkPrivilegeView":break;case"checkPrivilegeDetails":break;case"openNoteListPopUp":s.openNoteListPopUp(e,a);break;case"openAddNewEvent":s.openAddNewEvent(e.campaign_id,e);break;case"OpenManageCampaignPopup":s.OpenManageCampaignPopup(e.campaign_id);break;case"Delete":s.commonDeleteData(e.campaign_id);break;case"CloneCampaign":s.CloneCampaign(e);break;case"Archive":s.ArchiveCampaign(e.campaign_id);break;case"Statistics":s.EmailStatisticsModal();break}},EmailStatisticsModal:function(){var t=this;t.$router.push({name:"EmailStatistics"})},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition="",this.FetchData()},openFilterPopUp:function(t){this.cancelOrRefresh(),this.showFilter=!0},cancelOrRefresh:function(){this.clientemail="",this.selectedLeadOwner="",this.NameSearch="",this.CompanyName="",this.hdnOwnerId="",this.conditionForInstantSearch="",this.IsAnySearch=!1,this.FetchData()},ManageSchedule:function(){this.isShowManageSchedule=!0},closeManageCampaign:function(){this.isShowManageSchedule=!1},commonDeleteData:function(t){var e=this;c["a"].CheckPrivilege(e.privilegeParams+"Delete").then((function(a){if(a.data){var i="";"undefined"!=typeof t?i=t.toString():$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=$(this).val()})),i.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Campaign"),(function(){var t={ids:i,moduleName:"CRM",subModuleCode:"CRM_CAMPAIGNS"},a=JSON.stringify(t);c["a"].CommonDeleteData(a).then((function(t){var a="";200==t.status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),a=e.ShowAlert(e.$t("DeletedSuccessfully",[e.$t("Campaign")]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<=0&&(e.PageNumber=1),e.FetchData()):a=e.ShowAlert(e.$t("DeletedError",[e.$t("Campaign")]),"failure",!0,e.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete"),"warning",!0,e.$t("Alert"))}else e.ShowAlert("You are not authorized","failure",!0,"Alert")}))},openAddNewEvent:function(t,e){var a=this;a.souceID=e.campaign_id,a.selectedItem=t,a.showAddEventModal=!a.showAddEventModal},closeEventViewModal:function(){this.showAddEventModal=!1},ManageView:function(){var t=this;this.ShowManageView=!0,setTimeout((function(){$("#modalManageView").modal("show"),setTimeout((function(){t.SetBootstraptoolTip()}),200)}),1e3)},OpenManageCampaignPopup:function(t){this.CampaignId=t,this.reqType=t>0?"Update":"Save",this.ShowManageCampaignPopup=!0},CloseManageCampaignPopup:function(){this.ShowManageCampaignPopup=!1},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},getRequestParams:function(t,e,a,i,s,n){var o={};return t&&(o["pageNum"]=t),n&&(o["searchcondition"]=n),s&&(o["isPaged"]=s),a&&(o["sortBy"]=a),i&&(o["sortExp"]=i),e&&(o["pageSize"]=e),o},FilterData:function(t,e,a,i,s,o){this.pageNum=t,this.pageSize=e,this.sortBy=a,this.sortExp=i,this.searchCondition=s,null!=Object(n["a"])(o)&&this.appliedFilter.push(o),this.FetchData()},FetchData:function(t){var e=this.getRequestParams(this.pageNum,this.pageSize,this.sortBy,this.sortExp,this.isPaged,this.searchCondition),a=this;a.isLoading=!0,e.pageSize=t?a.TotalRecords:a.PageSize,e.pageNumber=a.PageNumber,e.langCode=a.langCode,e.searchCondition=a.searchCondition,a.PageNumber?e.pageNum=a.PageNumber:a.PageNumber=e.pageNum=1,e.sortBy=a.SortBy,e.sortExp=a.SortExp;var i="";if(a.isBlank(a.searchCondition)||(i+=a.searchCondition),a.isBlank(a.conditionForInstantSearch)||(i+=a.isBlank(a.searchCondition)?a.conditionForInstantSearch:" AND "+a.conditionForInstantSearch),""!=i){if(e.searchCondition=i,a.appliedFilter.length>0){var s=a.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));a.listheaderbuttons[s].isvisible=!0;var n=a.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));a.listheaderbuttons[n].iconClass="fa fa-filter text-success"}}else if(0==a.appliedFilter.length){var o=a.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));a.listheaderbuttons[o].isvisible=!1;var l=a.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));a.listheaderbuttons[l].iconClass="fa fa-filter"}t?(e.isPaged=0,c["a"].CampaignListing(e).then((function(t){a.isLoading=!1,""!=t.data?a.JSONToCSVConvertor(t.data,"Campaign-Detail",!0):a.ModelnoRecord=!0,a.isLoading=!1}))):c["a"].CampaignListing(e).then((function(t){a.isLoading=!1,null!=t.data?(a.Headers=t.data.schema,a.Headers.forEach((function(t){t.settings=null,"campaign_name"==t.COLUMN_NAME&&(t.settings={clickEvent:a.clickEventOfColumn,formatter:a.columnDataFormatter}),"status_id"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})})),t.data.data.length>0?(a.CampaignData=t.data.data,a.CampaignData.forEach((function(t){t.isCheckBoxDisabled=!1,t.additionalClass="","Closed"==t.status_id&&(t.isCheckBoxDisabled=!0,t.additionalClass="medium-bar"),t.rowDetailsUrl="",""==t.rowDetailsUrl&&(t.rowDetailsUrl="/CRM/ViewCampaignDetails/"+t.campaign_id+"/CRM/CRM_CAMPAIGNS")})),a.TotalRecords=t.data.data[0].total_records,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),a.CurrentPage=a.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteCampaign").addClass("disabled"),$("#Sendbulkmail").addClass("disabled"),a.noRecord=!1,a.GetDdlRecords_ViewList()):(a.noRecord=!0,a.CampaignData=[],a.TotalRecords=0)):(a.noRecord=!0,a.CampaignData=[],a.Headers=[],a.TotalRecords=0),setTimeout((function(){a.ResponsiveDataTable("tablelistingdata")}),500),a.isLoading=!1}))},CloneCampaign:function(t){var e=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e,i.CampaignId=t.campaign_id,i.reqType="Clone",i.ShowManageCampaignPopup=!0;case 4:case"end":return a.stop()}}),a)})))()},ArchiveCampaign:function(t){var e=this;e.confirmR(e.$t("ConfirmArchive",[e.$t("Archive")]),!0,e.$t("Campaign"),Object(r["a"])(Object(l["a"])().mark((function a(){var i,s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={ID:t,StatusId:e.StatusIds,IsFor:"CRM_CAMPAIGNS"},s=JSON.stringify(i),a.next=4,c["a"].CommonUpdateStatus(s).then(function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(a){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=a.data&&"Success"===a.data.status?(e.ShowAlert(e.$t("ArchiveSuccessfully"),"success",e.$t("Alert")),e.PrevStatus=e.StatusId,"undefined"!=typeof e.callbackfunction&&null!=e.callbackfunction&&e.callbackfunction()):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:e.FetchData(),vueObj.isLoading=!1;case 6:case"end":return a.stop()}}),a)}))))}},updated:function(){this.BindActionButtonEvent()}},Z=X,tt=Object(T["a"])(Z,i,s,!1,null,null,null);e["default"]=tt.exports},"593f":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".error-class{width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.default_templates .img-ico.ticket-attachments{overflow:hidden}",""]),t.exports=e},"5f92":function(t,e,a){var i=a("1d4a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("483f53f8",i,!0,{sourceMap:!1,shadowMode:!1})},d514:function(t,e,a){"use strict";a("258f")}}]);
//# sourceMappingURL=CRMCampaign.js.map