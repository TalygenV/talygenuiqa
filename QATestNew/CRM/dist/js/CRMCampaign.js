(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CRMCampaign"],{1538:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal d-block my-popups dialog"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.modalHeader)+" Listing")]),e("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"Add Skill",href:"javascript:;"},on:{click:function(a){return t.openCredentialPopup(t.modalHeader)}}},[e("i",{staticClass:"fa fa-plus"}),e("br"),e("span",[t._v("Add")])])]})),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(a){return t.$emit("Close")}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-7 float-left pr-1 pl-0"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"form-control search",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search by UserName",autocomplete:"off"},domProps:{value:t.searchInput},on:{input:function(a){a.target.composing||(t.searchInput=a.target.value)}}})])]),e("div",{staticClass:"col-5 float-left pl-0"},[e("div",{staticClass:"background-0 text-left form-check-inline"},[e("input",{attrs:{type:"hidden",id:"hdnSearch",value:""}}),e("a",{staticClass:"btn btn-success mr-1 px-4 hlsearch",attrs:{title:"",id:"Go",href:"javascript:;"},on:{click:t.searchByUsername}},[e("i",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:""},on:{click:t.refresh}},[e("i",{staticClass:"fa fa-refresh"})])])]),"SMTP"==t.modalHeader?e("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGN",RenderRowActionMethod:t.renderActions,IdentityColumn:"profile_id",HeaderText:t.$t("Campaign"),listType:["List"],ListData:t.CredentialList,HeaderData:t.Headers,TotalRecords:t.totalRecords,ListDataCallBackFunction:t.FetchRecord,showCheckBox:!1,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata}}):t._e(),"MailChimp"==t.modalHeader?e("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGN",RenderRowActionMethod:t.renderActions,IdentityColumn:"profile_id",HeaderText:t.$t("Campaign"),listType:["List"],ListData:t.CredentialList,HeaderData:t.MailChimpHeaders,TotalRecords:t.totalRecords,ListDataCallBackFunction:t.FetchRecord,showCheckBox:!1,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata}}):t._e(),"SendGrid"==t.modalHeader?e("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGN",RenderRowActionMethod:t.renderActions,IdentityColumn:"profile_id",HeaderText:t.$t("Campaign"),listType:["List"],ListData:t.CredentialList,HeaderData:t.SendGridHeaders,TotalRecords:t.totalRecords,ListDataCallBackFunction:t.FetchRecord,showCheckBox:!1,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata}}):t._e(),"Facebook"==t.modalHeader?e("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGN",RenderRowActionMethod:t.renderActions,IdentityColumn:"profile_id",HeaderText:t.$t("Campaign"),listType:["List"],ListData:t.CredentialList,HeaderData:t.FacebookHeaders,TotalRecords:t.totalRecords,ListDataCallBackFunction:t.FetchRecord,showCheckBox:!1,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(a){var i=a.data;return["key"==i.column.COLUMN_NAME?[e("a",{attrs:{href:"javascript:;",title:i.row[i.column.COLUMN_NAME]},on:{click:function(a){return t.openCredentialPopup("Facebook",i.row)}}},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])]:t._e()]}}],null,!1,2473675513)}):t._e(),"Instagram"==t.modalHeader?e("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGN",RenderRowActionMethod:t.renderActions,IdentityColumn:"profile_id",HeaderText:t.$t("Campaign"),listType:["List"],ListData:t.CredentialList,HeaderData:t.InstagramHeaders,TotalRecords:t.totalRecords,ListDataCallBackFunction:t.FetchRecord,showCheckBox:!1,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(a){var i=a.data;return["key"==i.column.COLUMN_NAME?[e("a",{attrs:{href:"javascript:;",title:i.row[i.column.COLUMN_NAME]},on:{click:function(a){return t.openCredentialPopup("Instagram",i.row)}}},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])]:t._e()]}}],null,!1,420914921)}):t._e(),"Twilio"==t.modalHeader?e("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGN",RenderRowActionMethod:t.renderActions,IdentityColumn:"profile_id",HeaderText:t.$t("Campaign"),listType:["List"],ListData:t.CredentialList,HeaderData:t.TwilioHeaders,TotalRecords:t.totalRecords,ListDataCallBackFunction:t.FetchRecord,showCheckBox:!1,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(a){var i=a.data;return["key"==i.column.COLUMN_NAME?[e("a",{attrs:{href:"javascript:;",title:i.row[i.column.COLUMN_NAME]},on:{click:function(a){return t.openCredentialPopup("Twilio",i.row)}}},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])]:t._e()]}}],null,!1,1332408049)}):t._e()],1)])]),t.showAddSmtpPopup?e("modaladdsmtpVue",{attrs:{ProfileId:t.ProfileId,SendThrough:t.modalHeader},on:{close:t.close}}):t._e(),t.showAddMailChimpOrSendGridPopup?e("modalSMSIntegrationVue",{attrs:{ProfileId:t.ProfileId,SendThrough:t.modalHeader},on:{close:t.close}}):t._e(),t.showAddFacebookPopup?e("modalFacebookIntegrationVue",{attrs:{ProfileId:t.ProfileId,SendThrough:t.modalHeader},on:{close:t.close}}):t._e(),t.showAddTwilioPopup?e("modalTwilioIntegrationVue",{attrs:{ProfileId:t.ProfileId,SendThrough:t.modalHeader},on:{close:t.close}}):t._e()],1)},s=[],n=e("5530"),o=(e("d3b7"),e("159b"),e("e9c4"),e("4de4"),e("caad"),e("2532"),e("498a"),e("99af"),e("9769")),l=e("c511"),r=e("c7a1"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal d-block my-popups dialog"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[e("h5",[t._v(t._s(t.$t("AddNewAccount")))])]})),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(a){return t.$emit("close")}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)])])])},d=[],u=e("c7eb"),p=e("1da1"),m=(e("a9e3"),{props:{SendThrough:{type:String,required:!0},ProfileId:{type:Number,required:!1}},data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("API Key"),name:"Account",value:"",placeholder:"",validationRules:{required:!0},visibility:!0},{astype:"TextField",label:this.$t("Secret Key"),name:"Token",value:"",placeholder:"",validationRules:{required:!0},visibility:!0},{astype:"TextField",label:this.$t("Configuration Key"),name:"user_name",value:"",placeholder:"",validationRules:{required:!0},visibility:!0},{astype:"TextField",label:this.$t("FacebookAuthCallBackUrl"),name:"URL",value:"",placeholder:"",validationRules:{required:!0},visibility:!0}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Save"}]}},created:function(){var t=this;return Object(p["a"])(Object(u["a"])().mark((function a(){var e;return Object(u["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=t,!(e.ProfileId>0)){a.next=4;break}return a.next=4,e.GetSMTPProfile(e.ProfileId);case 4:case"end":return a.stop()}}),a)})))()},methods:{GetSMTPProfile:function(t){var a=this;return Object(p["a"])(Object(u["a"])().mark((function e(){var i,s;return Object(u["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a,s="profileId=".concat(t),e.next=4,o["a"].GetEmailProfile(s).then((function(t){if(""!=t.data){var a=t.data[0];i.FormSchema[0].Data[0].value=a.key,i.FormSchema[0].Data[1].value=a.SecretKey,i.FormSchema[0].Data[2].value=a.user_name,i.FormSchema[0].Data[3].value=a.URL}}));case 4:case"end":return e.stop()}}),e)})))()},onSubmit:function(t){var a=this,e={profile_id:a.ProfileId,key:t.Account,SecretKey:t.Token,send_through:a.SendThrough,user_name:t.user_name,URL:t.URL},i=JSON.stringify(e);o["a"].SaveEmailSetting(i).then((function(t){"INSERTED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("AddedSuccess",[a.$t("AddNewAccount")]),"success",!0,a.$t("Alert")),a.$parent.FetchRecord(),a.$emit("close")):"UPDATED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("AddNewAccount")]),"success",!0,a.$t("Alert")),a.$parent.FetchRecord(),a.$emit("close")):a.ShowAlert(a.$t("AddedError",[a.$t("AddNewAccount")]),"danger",!0,a.$t("Alert"))}))}}}),h=m,C=e("2877"),f=Object(C["a"])(h,c,d,!1,null,null,null),g=f.exports,S=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal d-block my-popups dialog"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[e("h5",[t._v(t._s(t.$t("AddNewAccount")))])]})),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(a){return t.$emit("close")}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)])])])},_=[],v={props:{SendThrough:{type:String,required:!0},ProfileId:{type:Number,required:!1}},data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("API Key"),name:"Account",value:"",placeholder:"",validationRules:{required:!0},visibility:!0},{astype:"TextField",label:this.$t("Secret Key"),name:"Token",value:"",placeholder:"",validationRules:{required:!0},visibility:!0},{astype:"TextField",label:this.$t("TwilioPhoneNumber"),name:"from_email",value:"",placeholder:"",validationRules:{required:!0},visibility:!0},{astype:"TextField",label:this.$t("ProfileName"),name:"smtp_server",value:"",placeholder:"",validationRules:{required:!0},visibility:!0}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Save"}]}},created:function(){var t=this;return Object(p["a"])(Object(u["a"])().mark((function a(){var e;return Object(u["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=t,!(e.ProfileId>0)){a.next=4;break}return a.next=4,e.GetSMTPProfile(e.ProfileId);case 4:case"end":return a.stop()}}),a)})))()},methods:{GetSMTPProfile:function(t){var a=this;return Object(p["a"])(Object(u["a"])().mark((function e(){var i,s;return Object(u["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a,s="profileId=".concat(t),e.next=4,o["a"].GetEmailProfile(s).then((function(t){if(""!=t.data){var a=t.data[0];i.FormSchema[0].Data[0].value=a.key,i.FormSchema[0].Data[1].value=a.SecretKey,i.FormSchema[0].Data[2].value=a.from_email,i.FormSchema[0].Data[3].value=a.smtp_server}}));case 4:case"end":return e.stop()}}),e)})))()},onSubmit:function(t){var a=this,e={profile_id:a.ProfileId,key:t.Account,SecretKey:t.Token,send_through:a.SendThrough,from_email:t.from_email,smtp_server:t.smtp_server},i=JSON.stringify(e);o["a"].SaveEmailSetting(i).then((function(t){"INSERTED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("AddedSuccess",[a.$t("AddNewAccount")]),"success",!0,a.$t("Alert")),a.$parent.FetchRecord(),a.$emit("close")):"UPDATED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("AddNewAccount")]),"success",!0,a.$t("Alert")),a.$parent.FetchRecord(),a.$emit("close")):a.ShowAlert(a.$t("AddedError",[a.$t("AddNewAccount")]),"danger",!0,a.$t("Alert"))}))}}},b=v,A=Object(C["a"])(b,S,_,!1,null,null,null),D=A.exports,E={components:{modaladdsmtpVue:l["a"],modalSMSIntegrationVue:r["a"],modalFacebookIntegrationVue:g,modalTwilioIntegrationVue:D},props:{modalHeader:{type:String,required:!0},ConnectForm:{type:String,required:!0}},data:function(){return{PageSize:10,PageNumber:1,showAddSmtpPopup:!1,CredentialList:[],ProfileId:0,noRecords:!1,totalRecords:0,showAddMailChimpOrSendGridPopup:!1,showAddFacebookPopup:!1,showAddTwilioPopup:!1,Headers:[{COLUMN_NAME:"smtp_server",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"SMTP",DISPLAY_ORDER:1},{COLUMN_NAME:"user_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"User Name",DISPLAY_ORDER:2},{COLUMN_NAME:"password",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Password",DISPLAY_ORDER:3},{COLUMN_NAME:"from_email",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Email",DISPLAY_ORDER:3},{COLUMN_NAME:"smtp_port",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"SMTP Port",DISPLAY_ORDER:4},{COLUMN_NAME:"smtp_security",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"SMTP_Security",DISPLAY_ORDER:5}],MailChimpHeaders:[{COLUMN_NAME:"smtp_server",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Profile",DISPLAY_ORDER:1},{COLUMN_NAME:"key",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Key",DISPLAY_ORDER:2},{COLUMN_NAME:"SecretKey",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"SecretKey",DISPLAY_ORDER:3}],SendGridHeaders:[{COLUMN_NAME:"smtp_server",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Profile",DISPLAY_ORDER:1},{COLUMN_NAME:"key",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Api Key",DISPLAY_ORDER:2}],FacebookHeaders:[{COLUMN_NAME:"key",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"key",DISPLAY_ORDER:1},{COLUMN_NAME:"SecretKey",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"App Id",DISPLAY_ORDER:2},{COLUMN_NAME:"user_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Configuration Id",DISPLAY_ORDER:1},{COLUMN_NAME:"URL",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"CallBack Url",DISPLAY_ORDER:2}],InstagramHeaders:[{COLUMN_NAME:"key",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"key",DISPLAY_ORDER:1},{COLUMN_NAME:"SecretKey",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"App Id",DISPLAY_ORDER:2},{COLUMN_NAME:"user_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Configuration Id",DISPLAY_ORDER:1},{COLUMN_NAME:"URL",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"CallBack Url",DISPLAY_ORDER:2}],TwilioHeaders:[{COLUMN_NAME:"key",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"key",DISPLAY_ORDER:1},{COLUMN_NAME:"SecretKey",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Secret Key",DISPLAY_ORDER:2},{COLUMN_NAME:"from_email",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Twilio Phone Number",DISPLAY_ORDER:1},{COLUMN_NAME:"smtp_server",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"profile Name",DISPLAY_ORDER:2}],listActions:[{title:"Edit",href:"javascript:void(0)",callbackfunction:"Edit",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"Delete",additionalSpan:""},{title:"Connect",href:"javascript:void(0)",icon:"fa fa-plug",callbackfunction:"Connect",additionalSpan:""}]}},created:function(){var t=this;this.user_id=this.GetUserInfo.ID,this.companyId=this.GetUserInfo.CompanyId,t.FetchRecord()},methods:{renderActions:function(t){var a=this,e=[];return a.listActions.forEach((function(t){var i=Object(n["a"])({},t);switch(i.title){case"Edit":i.isVisible=!0;break;case"Delete":i.isVisible=!0;break;case"Connect":"Facebook"==a.modalHeader&&"Connect"==a.ConnectForm?i.isVisible=!0:i.isVisible=!1;break;default:i.isVisible=!0}e.push(i)})),e},FillProfileDropdown:function(){},actionButtonClick:function(t,a,e,i){var s=this;switch(t){case"Edit":this.openCredentialPopup(s.modalHeader,a);break;case"Delete":this.commonDeleteData(a);break;case"Connect":this.ConnectWithFacebook(a);break}},commonDeleteData:function(t){var a=this,e="";e=t.profile_id,0!=e&&a.confirmR(this.$t("ConfirmDelete"),!0,this.$t("Delete")+"  "+this.$t("Resource"),(function(){var t={ids:e,companyId:a.companyId,userId:a.user_id,moduleName:"CRM",refCode:"DELETE_FSM_TICKET_SOURCE"},i=JSON.stringify(t);o["a"].CommonCommonDelete(i).then((function(t){var e="";"Success"==t.data[0].Status?(a.FetchRecord(),e=a.ShowAlert(a.$t("DeletedSuccess",[a.$t("Record")]),"Success",!0,a.$t("Alert"))):e=a.ShowAlert(a.$t("DeletedError",[a.$t("Record")]),"failure",!0,a.$t("Alert")),setTimeout((function(){e.modal("hide")}),2e3)}))}))},refresh:function(){var t=this;t.searchInput="",t.FetchRecord()},leftCommonSearch:function(){},openCredentialPopup:function(t,a){var e=this;e.ProfileId=void 0!=a?a.profile_id:0,"MailChimp"==t||"SendGrid"==t?e.showAddMailChimpOrSendGridPopup=!0:"Facebook"==t||"Instagram"==t?e.showAddFacebookPopup=!0:"Twilio"==t?e.showAddTwilioPopup=!0:e.showAddSmtpPopup=!0},ConnectWithFacebook:function(t){window.location.href="https://graph.facebook.com/oauth/authorize?client_id="+t.key+"&config_id="+t.user_name+"&redirect_uri="+t.URL+"&scope=manage_pages,publish_pages&state=facebook"},searchByUsername:function(){var t=this,a=this;if("Facebook"==a.modalHeader||"Instagram"==a.modalHeader||"Twilio"==a.modalHeader){var e=this.CredentialList.filter((function(a){return a.key.includes(t.searchInput.trim())}));this.CredentialList=e,this.totalRecords=this.CredentialList.length}else{var i=this.CredentialList.filter((function(a){return a.smtp_server.includes(t.searchInput.trim())}));this.CredentialList=i,this.totalRecords=this.CredentialList.length}},close:function(){var t=this;t.showAddSmtpPopup=!1,t.showAddMailChimpOrSendGridPopup=!1,t.showAddFacebookPopup=!1,t.showAddTwilioPopup=!1,"Connect"==t.ConnectForm&&t.$parent.showListingPopup()},ClosemodalManageAdditionalSMTP:function(){var t=this;t.showAddMailChimpOrSendGridPopup=!1},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchRecord()},FetchRecord:function(){var t=this;t.CredentialList=[];var a="profileId=&sourceType=".concat(t.modalHeader,"&pageNumber=").concat(t.PageNumber,"&pageSize=").concat(this.PageSize);o["a"].GetEmailProfile(a).then((function(a){a.data.length>0?("Facebook"!=t.modalHeader&&"Instagram"!=t.modalHeader||t.FacebookHeaders.forEach((function(t){"key"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})})),t.CredentialList=a.data,t.totalRecords=t.CredentialList[0].TOTAL_RECORDS,t.noRecord=!1):(t.noRecord=!0,t.CredentialList=[],t.TotalRecords=0)}))}}},w=E,P=Object(C["a"])(w,i,s,!1,null,null,null);a["a"]=P.exports},5579:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{ref:"tgList",attrs:{IsShowAction:!0,showCheckBox:!0,ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGNS",ViewList:t.ViewList,IdentityColumn:"campaign_id",HeaderText:t.$t("Campaign"),ListData:t.CampaignData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,IsFilterApplied:!!t.searchCondition,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{ApplyView:t.OnApplyView,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata,CampaignTypeDDL:t.CampaignTypeDDL},scopedSlots:t._u([{key:"slotdata",fn:function(a){var i=a.data;return["status_id"==i.column.COLUMN_NAME?[t.isCRMShowStausDrop(i.row.status_id,"CRM_CAMPAIGNS")?e("listing-status",{ref:"updatestatus",attrs:{isfor:"CRM_CAMPAIGNS",dataid:i.row.campaign_id,"data-controller":"Crm",statuslist:t.StatusListForListing,item:i,"data-action":"index",dataselected:i.row.status_id,callbackfunction:t.FetchData,isselectedvaluestring:!0}}):t._e(),t.isCRMShowStausDrop(i.row.status_id,"CRM_CAMPAIGNS")?t._e():e("a",{staticClass:"inactive-disabled"},[e("span",{class:t.getStatusClass(i.row.status_id,"status_id")},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])])]:t._e(),"campaign_type"==i.column.COLUMN_NAME?[e("span",[e("span",{class:i.row.icon_class}),t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])]:t._e()]}}])}),t.showFilter?e("searchfilter",{attrs:{submodulecode:"CRM_CAMPAIGNS",modulename:"CRM",callbackfunction:t.FetchData},on:{close:function(a){t.showFilter=!1},FilterData:t.FilterData}},[e("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Search")))])]):t._e(),t.showAddEventModal?e("modalfollowupslist",{attrs:{srcId:t.souceID,modulename:"CRM",submodulecode:"CRM_CAMPAIGNS",userid:t.userid},on:{close:t.closeEventViewModal}}):t._e(),t.ShowManageView?e("viewlayout",{directives:[{name:"show",rawName:"v-show",value:t.ShowManageView,expression:"ShowManageView"}],attrs:{submodulecode:"CRM_CAMPAIGNS",modulename:"CRM",callbackfunction:t.FetchData,usertype:t.usertype},on:{close:function(a){t.ShowManageView=!1}}}):t._e(),t.ShowManageCampaignPopup?e("modalManageCampaign",{ref:"childRef",attrs:{reqForm:t.reqForm,campaignId:t.CampaignId,campaignType:t.CampaignType,reqType:t.reqType},on:{GetFBListing:t.GetFBListing,close:function(a){t.ShowManageCampaignPopup=!1}}}):t._e(),t.isShowManageSchedule?e("modalManageSchedule",{attrs:{campaignId:t.CampaignId,campaignName:t.CampaignName,campaignType:t.CampaignType,mailChimpTemplateId:t.MailChimpTemplateId},on:{close:function(a){t.isShowManageSchedule=!1}}}):t._e(),t.showAssignOwnerPopup?e("openAssignOwnerPopup",{attrs:{campaignId:t.CampaignId},on:{close:function(a){t.showAssignOwnerPopup=!1}}}):t._e(),t.ShowEmailStatisticsPopup?e("modalEmailStatistics",{attrs:{campaignId:t.CampaignId,EmailCampaignData:t.EmailCampaignData},on:{close:function(a){t.ShowEmailStatisticsPopup=!1}}}):t._e(),t.ShowManageSMSSchedule?e("modalManageSMSSchedule",{attrs:{campaignId:t.CampaignId,campaignType:t.CampaignType},on:{close:function(a){t.ShowManageSMSSchedule=!1}}}):t._e(),t.showListingPopup?e("GetIntegrartionsListing",{attrs:{ConnectForm:t.ConnectForm,modalHeader:t.modalHeader},on:{Close:t.ClosePopup}}):t._e()],1)},s=[],n=e("53ca"),o=e("5530"),l=e("c7eb"),r=e("1da1"),c=(e("d3b7"),e("159b"),e("a434"),e("e9c4"),e("c740"),e("25f0"),e("313d"),e("0eb6"),e("b7ef"),e("8bd4"),e("9769")),d=[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Reset",iconClass:"fa-filter text-danger",callbackfunction:"removeFilter",href:"",additionalClass:"",isdisabled:!1,isvisible:!1,checkPrivilege:!1},{title:"Filter",iconClass:"fa-filter",callbackfunction:"openFilterPopUp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add a Campaign",iconClass:"fa-plus",callbackfunction:"OpenManageCampaignPopup",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"addCampaign_a"},{title:"ExportToExcel",iconClass:"fa-file-excel-o",callbackfunction:"downloadExceldata",isdisabled:!1,isvisible:!0},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0}],u=[{fieldName:"Campaign Name",fieldType:"text",fieldIcon:"fa-envelope",fieldSearchConditionName:["CAMPAIGN_NAME"],isSearch:!1,value:"",listOptions:[]},{fieldName:"CampaignOwner",fieldType:"ddl-check",fieldIcon:"fa-user",fieldSearchConditionName:["CAMPAIGN_OWNER"],isSearch:!1,value:"",listOptions:[]},{fieldName:"CampaignType",fieldType:"ddl-check",fieldIcon:"fa-envelope",fieldSearchConditionName:["CAMPAIGN_TYPE"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["CAMP.STATUS_ID"],isSearch:!1,value:"",listOptions:[]}],p=[{title:"Edit",callbackfunction:"OpenManageCampaignPopup",href:"javascript:",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Clone",callbackfunction:"CloneCampaign",href:"javascript:",icon:"fa fa-clone text-dark action-icon",additionalSpan:""},{title:"Assign Campaign Owner",callbackfunction:"openAssignOwnerPopup",href:"javascript:",icon:"fa fa-regular fa-arrow-right text-dark action-icon",additionalSpan:""},{title:"Archive",callbackfunction:"Archive",href:"javascript:",icon:"fa fa-file-archive-o text-warning action-icon",additionalSpan:""},{title:"Statistics",callbackfunction:"OpenEmailStatisticsPopup",icon:"fa fa-bar-chart text-success action-icon",additionalSpan:""},{title:"Delete",callbackfunction:"Delete",href:"javascript:",icon:"fa fa-trash action-icon",additionalSpan:""}];function m(t,a,e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(Object(l["a"])().mark((function t(a,e,i){var s,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=a,n={},n["moduleName"]=e,n["type"]=i,t.next=6,c["a"].GetLeftSearchStatus(n).then((function(t){var a=t.data;if(null!=a){if("CAMPAIGN_OWNER_SEARCH"==i)return s.leftSearchFields[1].listOptions=a.DATA,s.LeadStatusList=a.DATA,s.LeadStatusList;"CRM_CAMPAIGN_TYPES"==i?s.leftSearchFields[2].listOptions=a.DATA:"LEAD_DEAL_STATUS"==i&&(s.leftSearchFields[3].listOptions=a.DATA)}}));case 6:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}var C={buttons:d,listActions:p,leftsearchSchema:u,bindleftCommonSearchdropdown:m},f=e("fc0b"),g=e("cdd5"),S=e("386b"),_=e("e29d"),v=e("93b3"),b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups  fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("AssignCampaignOwner")))])]),e("div",{staticClass:"modal-body"},[t.isLoaded?e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}):t._e()],1)])])])])},A=[],D=(e("a9e3"),e("b0c0"),{props:{campaignId:{type:Number,required:!0}},data:function(){return{isLoaded:!1,FormSchema:[{layoutType:"single",Data:[{astype:"CustomSelectField",label:this.$t("CampaignOwner"),name:"CampaignOwner",value:"",config:{options:[]},placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CloseAssignOwnerPopup}]}},created:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,a.next=3,e.GetCampaignOwners();case 3:e.isLoaded=!0;case 4:case"end":return a.stop()}}),a)})))()},methods:{onSubmit:function(t,a){var e=this,i={campaign_id:e.campaignId,campaign_owner_id:parseInt(t.CampaignOwner.value)},s=JSON.stringify(i);c["a"].AssignCampaignOwner(s).then((function(t){""!=t.data&&"SUCCESS"==t.data?(e.ShowAlert("Campaign Owner assigned successfully","success",!0,e.$t("Alert")),e.$parent.FetchData(),e.$emit("close")):e.ShowAlert(e.$t("Something_Wrong"),"failure",!0,e.$t("Alert"))}))},CloseAssignOwnerPopup:function(){var t=this;t.$emit("close")},GetCampaignOwners:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,i="id=&moduleName=CRM&type=CRM_USERS",a.next=4,c["a"].getDDLData(i+"&search=").then((function(t){if(""!=t.data){var a=t.data.DATA,i=[];null!=a&&(a.forEach((function(t){i.push({name:t.name,value:t.value})})),e.FormSchema[0].Data[0].config.options=i)}}));case 4:case"end":return a.stop()}}),a)})))()}}}),E=D,w=e("2877"),P=Object(w["a"])(E,b,A,!1,null,null,null),M=P.exports,L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("EmailStatistics")))])]),e("div",{staticClass:"w-100 float-left",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"listing col-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box border positionrelative float-left w-100"},[e("div",{staticClass:"default-tags"},[e("div",{staticClass:"defaultpic_control"},[e("a",{staticClass:"btn btn-view mr-2",attrs:{title:"",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Preview"},on:{click:t.PreviewTemplate}},[e("em",{staticClass:"fa fa-eye mr-2"}),t._v("Preview")]),e("div",{staticClass:"col-6",class:t.renderHtml,staticStyle:{width:"2000px"},attrs:{id:"textcontent"},domProps:{innerHTML:t._s(t.EmailCampaignData.template_content)}},[e("em",{staticClass:"fa fa-eye mr-2"}),t._v("Preview")])])]),e("div",{staticClass:"img-ico text-center p-4 ticket-attachments"},[e("img",{attrs:{src:t.thumbnailPath}})])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-8 col-xl-9"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Send Type: ")]),t._v(t._s(t.EmailCampaignData.campaign_type))])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Send by:")]),t._v(t._s(t.EmailCampaignData.created_by))])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Created On:")]),t._v(" "+t._s(t.$options.filters.formatDate(t.EmailCampaignData.created_at)))])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Attempted:")]),t._v(" "),e("em",{staticClass:"fa fa-users mr-2"}),t._v(t._s(t.Attempted)+" Contacts")])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Updated On:")]),t._v(" "+t._s(t.$options.filters.formatDate(t.EmailCampaignData.modified_at)))])])])])])])])]),e("div",{staticClass:"w-100 float-left"},[e("div",{staticClass:"card mb-3 probx"},[e("div",{staticClass:"card-header"},[e("h2",[t._v("Subject: "+t._s(t.EmailCampaignData.campaign_name))]),e("div",{staticClass:"cont_right"},[e("div",{staticClass:"bar"},[e("em",{staticClass:"fa fa-calendar mr-2"}),t._v(t._s(t.$options.filters.formatDateTime(t.EmailCampaignData.campaign_start_date)))])])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"listing col-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[e("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Attempted: "+t._s(t.Attempted))]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.Attempted)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),t._m(0)])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[e("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Send: "+t._s(t.Send))]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.Send)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),t._m(1)])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[e("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Skipped: "+t._s(t.Skipped))]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.Skipped)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),t._m(2)])])])])])])]),e("div",{staticClass:"card-body",staticStyle:{"text-align":"center"}},[e("button",{on:{click:t.OpenCampaignStatisticsPopup}},[t._v("Load more Statistics")])])])])],1),t.ShowCampaignStatisticsPopup?e("ViewCampaignStatistics",{attrs:{campaignId:t.campaignId,EmailCampaignData:t.EmailCampaignData},on:{close:function(a){t.ShowCampaignStatisticsPopup=!1}}}):t._e(),t.ShowTemplatePreview?e("TemplatePreview",{attrs:{htmlContent:t.htmlContent},on:{closepopup:function(a){t.ShowTemplatePreview=!1}}}):t._e()],1)},I=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"float-right icobase"},[e("i",{staticClass:"fa fa-file-text-o"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"float-right icobase"},[e("i",{staticClass:"fa fa-paper-plane-o"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"float-right icobase"},[e("i",{staticClass:"fa fa-history"})])}],N=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("CampaignStatistics")))])]),e("div",{staticClass:"modal-body"},[e("CampaignStatistics",{attrs:{CampaignId:t.campaignId,LeftViewData:t.LeftViewData,EmailCampaignData:t.EmailCampaignData,isRightContent:!1}})],1)])])],1)])},T=[],O=e("78c5"),k={components:{CampaignStatistics:O["a"]},props:{campaignId:{type:Number,required:!0},EmailCampaignData:{type:String,required:!0},LeftViewData:{type:String,required:!0}},data:function(){return{}},created:function(){},methods:{closepopup:function(){var t=this;t.$parent.CloseCampaignStatisticsPopup()}}},R=k,y=Object(w["a"])(R,N,T,!1,null,null,null),x=y.exports,B=e("e12b"),U=e("c0e9"),F=e.n(U),V={components:{ViewCampaignStatistics:x,TemplatePreview:B["a"]},props:{campaignId:{type:Number,required:!0},EmailCampaignData:{type:Object,required:!0}},data:function(){return{isLoading:!1,ShowTemplatePreview:!1,ShowCampaignStatisticsPopup:!1,Attempted:0,Send:0,Skipped:0,StatisticsData:[],isPercentage:!1,startDate:new Date,endDate:new Date,htmlContent:"",thumbnailPath:"",imagePath:"",renderHtml:""}},created:function(){var t=this;this.GetCampaignStatistics(),this.htmlContent=this.EmailCampaignData.template_content,setTimeout((function(){t.PreviewThumbnail()}),2e3)},methods:{PreviewThumbnail:function(){var t=this,a=document.querySelector("#textcontent");t.renderHtml="d-none",F()(a).then((function(a){t.thumbnailPath=a.toDataURL("image/png")}))},OpenCampaignStatisticsPopup:function(t){this.CampaignId=t.campaign_id,this.ShowCampaignStatisticsPopup=!0},CloseCampaignStatisticsPopup:function(){this.ShowCampaignStatisticsPopup=!1,this.ShowTemplatePreview=!1},closepopup:function(){var t=this;t.$parent.CloseEmailStatisticsPopup()},GetCampaignStatistics:function(){var t=this;t.isPercentage=!0;var a="campaign_id=".concat(t.campaignId,"&dateform=&dateto=");c["a"].GetCampaignStatistics(a).then((function(a){t.StatisticsData=[],null!=a.data&&(t.StatisticsData=a.data,t.Attempted=t.StatisticsData[0].ATTEMPTED,t.Send=t.StatisticsData[0].DELIVERED_COUNT,t.Skipped=t.StatisticsData[0].SKIPPED)}))},PreviewTemplate:function(){var t=this;t.ShowTemplatePreview=!0}}},G=V,H=Object(w["a"])(G,L,I,!1,null,null,null),Y=H.exports,j=e("cd11"),q=e("1538"),z={components:{searchfilter:f["a"],viewlayout:g["a"],modalfollowupslist:_["a"],modalManageCampaign:S["a"],modalManageSchedule:v["a"],openAssignOwnerPopup:M,modalEmailStatistics:Y,modalManageSMSSchedule:j["a"],GetIntegrartionsListing:q["a"]},data:function(){return{isLoading:!1,ViewList:[],ViewListId:"",leftSearchFields:C.leftsearchSchema,listheaderbuttons:C.buttons,listActions:C.listActions,CampaignData:null,StatusListForListing:[],Headers:null,TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,modalHeader:"",ConnectForm:"",showListingPopup:!1,Status:"",ModuleType:"",txtcampaign:"",selectedCampaignOwner:[],CampaignOwnerList:null,souceID:0,showAddEventModal:!1,campaignName:"",StatusIds:"",campaignOwner:"",campaignType:"",campaignDateFrom:"",campaignDateTo:"",langCode:"en",showAddEmailTemplate:!1,noRecord:!1,showFilter:!1,searchCondition:"",IsAnySearch:!1,ShowManageView:!1,ShowManageCampaignPopup:!1,userid:null,usertype:null,companyId:null,privilegeParams:null,LegendArray:[],appliedFilter:[],isShowManageSchedule:!1,CampaignId:0,MailChimpTemplateId:0,CampaignName:"",reqType:"Save",showAssignOwnerPopup:!1,ShowEmailStatisticsPopup:!1,ShowManageSMSSchedule:!1,CampaignType:"email",reqForm:""}},created:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var a,e;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,e=a.$route.params.reqForm,"AddPost"==e&&(a.ShowManageCampaignPopup=!0,a.reqForm="socialMedia"),this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,this.privilegeParams="controller=CRM&action=",a.getStatuslistForListing("CRM","en"),t.next=10,C.bindleftCommonSearchdropdown(a,"CRM","CAMPAIGN_OWNER_SEARCH");case 10:return t.next=12,C.bindleftCommonSearchdropdown(a,"CRM","CRM_CAMPAIGN_TYPES");case 12:return t.next=14,C.bindleftCommonSearchdropdown(a,"CRM","LEAD_DEAL_STATUS");case 14:a.FetchData(),a.GetDdlRecords_ViewList(),a.LegendArray=[{class:"bg-primary colorboxsquare",text:a.$t("CloseLeadLegend",["Campaign"])}];case 17:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),methods:{GetDdlRecords_ViewList:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var a,e;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,a.ViewList=[],e="moduleName=CRM&subModuleCode=CRM_CAMPAIGNS&viewId=0&pageSize=100&pageNum=1&sortBy=&sortExp=",t.next=5,CampaignDataServices.GetViewList(e).then((function(t){t.data&&"undefined"!=typeof t.data.DATA&&(a.ViewList=t.data.DATA);var e=0;a.ViewListId="0",null==a.ViewList||""==a.ViewList||a.ViewList.forEach((function(t){t.IS_SLECTED_USER_ID>0&&(e+=1,a.ViewListId=t.VIEW_ID)}));var i=0;e>0?a.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):null==a.ViewList||""==a.ViewList?a.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):a.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}),setTimeout((function(){a.ViewListId>0?a.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=a.ViewListId:a.$refs.tgList.$refs.tgListHeaderButtons.ViewListId="0"}),1e3)}));case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),DefaultView:function(){var t=this,a={ModuleName:"CRM",SubmoduleCode:"CRM_CAMPAIGNS"},e=JSON.stringify(a);CampaignDataServices.ClearView(e).then((function(a){null!=a.data&&("1"==a.data.code||"1"==a.data.Code)?(t.ShowAlert(t.$t("ClearSuccess",[t.$t("DefaultView")]),"success",!0,t.$t("Alert")),t.FetchData()):t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",!0,t.$t("Alert"))}))},OnApplyView:function(t){var a=this;if("0"==t)a.DefaultView();else{var e={ViewId:t,ModuleName:"CRM",SubmoduleCode:"CRM_CAMPAIGNS"},i=JSON.stringify(e);CampaignDataServices.ApplyView(i).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(a.ShowAlert(a.$t("ApplySuccess",[a.$t("View")]),"success",!0,a.$t("Alert")),a.$emit("RefreshManageView"),a.FetchData()):a.ShowAlert(a.$t("AddedError",[a.$t("View")]),"failure",!0,a.$t("Alert"))}))}},renderActions:function(t){var a=this,e=[];return a.listActions.forEach((function(a){var i=Object(o["a"])({},a);switch(i.title){case"View":i.isVisible=!0;break;case"Edit":case"FollowUps":i.isVisible="Closed"!=t.status_id;break;case"Statistics":"FACEBOOK"==t.campaign_type?i.isVisible=!1:i.isVisible=!0;break;default:i.isVisible=!0;break}e.push(i)})),e},clickEventOfColumn:function(t,a){"campaign_name"==a.COLUMN_NAME&&this.$router.push({path:"/CRM/ViewCampaignDetails/"+t.campaign_id+"/CRM/CRM_CAMPAIGNS"})},getStatuslistForListing:function(t,a){var e=this,i="langCode="+a+"&statusType="+t+"&hasglobal=true";c["a"].statusdropdown(i).then((function(t){if("Success"==t.data.status){var a=t.data.result;e.StatusListForListing=a.data,e.StatusIds=a.data[1].STATUS_ID}}))},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"downloadExceldata":this.FetchData(!0);break;case"openFilterPopUp":this.openFilterPopUp();break;case"ManageView":this.ManageView();break;case"OpenManageCampaignPopup":this.OpenManageCampaignPopup(0);break;case"ManageSMSSchedule":this.ManageSMSSchedule();break;case"commonDeleteData":this.commonDeleteData();break;case"removeFilter":var a=this;this.searchCondition="";var e=a.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));a.listheaderbuttons[e].isvisible=!1;var i=a.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));a.listheaderbuttons[i].iconClass="fa fa-filter";try{a.appliedFilter=[]}catch(s){}a.FetchData();break;case"setTourGuideSteps":this.setTourGuideSteps(0);break}},actionButtonClick:function(t,a,e,i){var s=this;switch(t){case"checkPrivilegeView":break;case"checkPrivilegeDetails":break;case"openNoteListPopUp":s.openNoteListPopUp(a,e);break;case"openAddNewEvent":s.openAddNewEvent(a.campaign_id,a);break;case"OpenManageCampaignPopup":s.OpenManageCampaignPopup(a.campaign_id,a);break;case"openAssignOwnerPopup":s.openAssignOwnerPopup(a.campaign_id);break;case"Delete":s.commonDeleteData(a.campaign_id);break;case"CloneCampaign":s.CloneCampaign(a);break;case"Archive":s.ArchiveCampaign(a.campaign_id);break;case"OpenEmailStatisticsPopup":s.OpenEmailStatisticsPopup(a);break}},OpenEmailStatisticsPopup:function(t){var a=this;c["a"].CheckPrivilege(a.privilegeParams+"ViewCampaignStatistics").then((function(e){e.data?(a.EmailCampaignData=t,a.CampaignId=t.campaign_id,a.ShowEmailStatisticsPopup=!0):a.ShowAlert(a.$t("NotAuthorizedSection"),"warning",!0,"Alert")}))},CloseEmailStatisticsPopup:function(){this.ShowEmailStatisticsPopup=!1},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition="",this.FetchData()},openFilterPopUp:function(t){this.cancelOrRefresh(),this.showFilter=!0},GetFBListing:function(){var t=this;t.modalHeader="Facebook",t.ConnectForm="Connect",t.showListingPopup=!0,setTimeout((function(){t.$refs.childRef.onClickCampaignType("socialMedia")}),150)},ClosePopup:function(){var t=this;t.showListingPopup=!1,setTimeout((function(){t.$refs.childRef.onClickCampaignType("socialMedia")}),100)},cancelOrRefresh:function(){this.clientemail="",this.selectedLeadOwner="",this.NameSearch="",this.CompanyName="",this.hdnOwnerId="",this.conditionForInstantSearch="",this.IsAnySearch=!1,this.FetchData()},ManageSMSSchedule:function(){this.ShowManageSMSSchedule=!0},closeManageSMSSchedule:function(){this.ShowManageSMSSchedule=!1},ManageSchedule:function(){this.isShowManageSchedule=!0},closeManageCampaign:function(){this.isShowManageSchedule=!1},commonDeleteData:function(t){var a=this;c["a"].CheckPrivilege(a.privilegeParams+"Delete").then((function(e){if(e.data){var i="";"undefined"!=typeof t?i=t.toString():$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=$(this).val()})),i.length>0?a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("Campaign"),(function(){var t={ids:i,moduleName:"CRM",subModuleCode:"CRM_CAMPAIGNS"},e=JSON.stringify(t);c["a"].CommonDeleteData(e).then((function(t){var e="";200==t.status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),e=a.ShowAlert(a.$t("DeletedSuccessfully",[a.$t("Campaign")]),"success",!0,a.$t("Alert")),a.PageNumber=parseInt(a.PageNumber)-1,a.PageNumber<=0&&(a.PageNumber=1),a.FetchData()):e=a.ShowAlert(a.$t("DeletedError",[a.$t("Campaign")]),"failure",!0,a.$t("Alert")),setTimeout((function(){e.modal("hide")}),2e3)}))})):a.ShowAlert(a.$t("Selectanyrecordtodelete"),"warning",!0,a.$t("Alert"))}else a.ShowAlert("You are not authorized","failure",!0,"Alert")}))},openAddNewEvent:function(t,a){var e=this;e.souceID=a.campaign_id,e.selectedItem=t,e.showAddEventModal=!e.showAddEventModal},closeEventViewModal:function(){this.showAddEventModal=!1},ManageView:function(){var t=this;this.ShowManageView=!0,setTimeout((function(){$("#modalManageView").modal("show"),setTimeout((function(){t.SetBootstraptoolTip()}),200)}),1e3)},OpenManageCampaignPopup:function(t,a){var e=this;if(a&&a.is_scheduled)return e.ShowAlert(e.$t("AlreadyScheduled"),"warning",!0,e.$t("Alert")),!1;if(a&&"FACEBOOK"==a.campaign_type){e=this;var i=btoa(t);this.$router.push({name:"AddSocialMediaPost",params:{id:i,reqForm:"Editcampaign"}})}else e.CampaignId=t,a&&(e.CampaignType=a.campaign_type.toLowerCase()),e.reqType=t>0?"Update":"Save",e.ShowManageCampaignPopup=!0},openAssignOwnerPopup:function(t){var a=this;c["a"].CheckPrivilege(a.privilegeParams+"AssignCampaignOwner").then((function(e){e.data?(a.CampaignId=t,a.showAssignOwnerPopup=!0):a.ShowAlert(a.$t("NotAuthorizedSection"),"warning",!0,"Alert")}))},CloseManageCampaignPopup:function(){this.ShowManageCampaignPopup=!1},sortdata:function(t){var a="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",a="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",a="sort tb_headerSortUp"):(this.SortExp="ASC",a="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",a)},getRequestParams:function(t,a,e,i,s,n){var o={};return t&&(o["pageNum"]=t),n&&(o["searchcondition"]=n),s&&(o["isPaged"]=s),e&&(o["sortBy"]=e),i&&(o["sortExp"]=i),a&&(o["pageSize"]=a),o},FilterData:function(t,a,e,i,s,o){this.pageNum=t,this.pageSize=a,this.sortBy=e,this.sortExp=i,this.searchCondition=s,null!=Object(n["a"])(o)&&this.appliedFilter.push(o),this.FetchData()},FetchDataOld:function(t){var a=this.getRequestParams(this.pageNum,this.pageSize,this.sortBy,this.sortExp,this.isPaged,this.searchCondition),e=this;e.isLoading=!0,a.pageSize=t?e.TotalRecords:e.PageSize,a.pageNumber=e.PageNumber,a.langCode=e.langCode,a.campaignType=e.campaignType,a.searchCondition=e.searchCondition,e.PageNumber?a.pageNum=e.PageNumber:e.PageNumber=a.pageNum=1,a.sortBy=e.SortBy,a.sortExp=e.SortExp;var i="";if(e.isBlank(e.searchCondition)||(i+=e.searchCondition),e.isBlank(e.conditionForInstantSearch)||(i+=e.isBlank(e.searchCondition)?e.conditionForInstantSearch:" AND "+e.conditionForInstantSearch),""!=i){if(a.searchCondition=i,e.appliedFilter.length>0){var s=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[s].isvisible=!0;var n=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[n].iconClass="fa fa-filter text-success"}}else if(0==e.appliedFilter.length){var o=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[o].isvisible=!1;var l=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[l].iconClass="fa fa-filter"}t?(a.isPaged=0,c["a"].CampaignListing(a).then((function(t){e.isLoading=!1,""!=t.data?e.JSONToCSVConvertor(t.data,"Campaign-Detail",!0):e.ModelnoRecord=!0,e.isLoading=!1}))):c["a"].CampaignListingV1(a).then((function(t){e.isLoading=!1,null!=t.data?(e.Headers=t.data.schema,e.Headers.forEach((function(t){t.settings=null,"campaign_name"==t.COLUMN_NAME&&(t.settings={clickEvent:e.clickEventOfColumn,formatter:e.columnDataFormatter}),"status_id"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"campaign_type"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})})),t.data.data.length>0?(e.CampaignData=t.data.data,e.CampaignData.forEach((function(t){t.isCheckBoxDisabled=!1,t.additionalClass="","Closed"==t.status_id&&(t.isCheckBoxDisabled=!0,t.additionalClass="medium-bar"),t.rowDetailsUrl="",""==t.rowDetailsUrl&&(t.rowDetailsUrl="/CRM/ViewCampaignDetails/"+t.campaign_id+"/CRM/CRM_CAMPAIGNS")})),e.TotalRecords=t.data.data[0].total_records,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteCampaign").addClass("disabled"),$("#Sendbulkmail").addClass("disabled"),e.noRecord=!1):(e.noRecord=!0,e.CampaignData=[],e.TotalRecords=0)):(e.noRecord=!0,e.CampaignData=[],e.Headers=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1}))},FetchData:function(t){var a=this.getRequestParams(this.pageNum,this.pageSize,this.sortBy,this.sortExp,this.isPaged,this.searchCondition),e=this;e.isLoading=!0,a.pageSize=t?e.TotalRecords:e.PageSize,a.pageNumber=e.PageNumber,a.langCode=e.langCode,a.campaignType=e.campaignType,a.searchCondition=e.searchCondition,e.PageNumber?a.pageNum=e.PageNumber:e.PageNumber=a.pageNum=1,a.sortBy=e.SortBy,a.sortExp=e.SortExp;var i="";if(e.isBlank(e.searchCondition)||(i+=e.searchCondition),e.isBlank(e.conditionForInstantSearch)||(i+=e.isBlank(e.searchCondition)?e.conditionForInstantSearch:" AND "+e.conditionForInstantSearch),""!=i){if(a.searchCondition=i,e.appliedFilter.length>0){var s=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[s].isvisible=!0;var n=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[n].iconClass="fa fa-filter text-success"}}else if(0==e.appliedFilter.length){var o=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[o].isvisible=!1;var l=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[l].iconClass="fa fa-filter"}t?(a.isPaged=0,c["a"].CampaignListingV1(a).then((function(t){e.isLoading=!1,""!=t.data?e.JSONToCSVConvertor(t.data,"Campaign-Detail",!0):e.ModelnoRecord=!0,e.isLoading=!1}))):c["a"].CampaignListingV1(a).then((function(t){e.isLoading=!1,null!=t.data?(e.Headers=t.data.schema,e.Headers.forEach((function(t){t.settings=null,"campaign_name"==t.COLUMN_NAME&&(t.settings={clickEvent:e.clickEventOfColumn,formatter:e.columnDataFormatter}),"status_id"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"campaign_type"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})})),t.data.data.length>0?(e.CampaignData=t.data.data,e.CampaignData.forEach((function(t){t.isCheckBoxDisabled=!1,t.additionalClass="","Closed"==t.status_id&&(t.isCheckBoxDisabled=!0,t.additionalClass="medium-bar"),t.rowDetailsUrl="",""==t.rowDetailsUrl&&(t.rowDetailsUrl="/CRM/ViewCampaignDetails/"+t.campaign_id+"/CRM/CRM_CAMPAIGNS")})),e.TotalRecords=t.data.data[0].total_records,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteCampaign").addClass("disabled"),$("#Sendbulkmail").addClass("disabled"),e.noRecord=!1,e.GetDdlRecords_ViewList()):(e.noRecord=!0,e.CampaignData=[],e.TotalRecords=0)):(e.noRecord=!0,e.CampaignData=[],e.Headers=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1}))},CloneCampaign:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=a,c["a"].CheckPrivilege(i.privilegeParams+"CloneCampaign").then((function(a){a.data?(i.CampaignId=t.campaign_id,i.reqType="Clone",i.ShowManageCampaignPopup=!0):i.ShowAlert(i.$t("NotAuthorizedSection"),"warning",!0,"Alert")}));case 2:case"end":return e.stop()}}),e)})))()},ArchiveCampaign:function(t){var a=this;c["a"].CheckPrivilege(a.privilegeParams+"ArchiveCampaign").then((function(e){e.data?a.confirmR(a.$t("ConfirmArchive",[a.$t("Archive")]),!0,a.$t("Campaign"),Object(r["a"])(Object(l["a"])().mark((function e(){var i,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={ID:t,StatusId:a.StatusIds,IsFor:"CRM_CAMPAIGNS"},s=JSON.stringify(i),e.next=4,c["a"].CommonUpdateStatus(s).then(function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(e){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=e.data&&"Success"===e.data.status?(a.ShowAlert(a.$t("ArchiveSuccessfully"),"success",a.$t("Alert")),a.PrevStatus=a.StatusId,"undefined"!=typeof a.callbackfunction&&null!=a.callbackfunction&&a.callbackfunction()):a.ShowAlert(a.$t("UnknownErrorOccur"),"failure",!0,a.$t("Alert"));case 1:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}());case 4:a.FetchData(),vueObj.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))):a.ShowAlert(a.$t("NotAuthorizedSection"),"warning",!0,"Alert")}))},CampaignTypeDDL:function(t){var a=this;a.campaignType=t.target.value,a.FetchData()}}},K=z,W=Object(w["a"])(K,i,s,!1,null,null,null);a["default"]=W.exports},"622d":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid"},[t._m(0),e("div",{staticClass:"border p-3 integration-container"},[e("div",{staticClass:"w-100 float-left"},[t._m(1),e("div",{staticClass:"listing col-12 p-0 mt-3"},[e("div",{staticClass:"row custom-box-width default_templates"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-3 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico d-flex px-3 py-2 ticket-attachments_small2"},[e("span",{staticClass:"tablelist_icos fb_icos"}),e("span",{staticClass:"font-weight-medium w-90",on:{click:function(a){return t.GetListing("Facebook")}}},[t._v("Connect with Facebook")]),t._v(" "),e("em",{staticClass:"fa fa-check-circle font-pic-size-28 ml-2 float-right"})])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-3 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico d-flex px-3 py-2 ticket-attachments_small2"},[t._v("  "),e("span",{staticClass:"tablelist_icos insta_icos"}),e("span",{staticClass:"font-weight-medium w-90",on:{click:function(a){return t.GetListing("Instagram")}}},[t._v("Connect with Instagram")]),t._v(" "),e("em",{staticClass:"fa fa-check-circle font-pic-size-28 ml-2 float-right"})])])])])])]),e("div",{staticClass:"w-100 float-left"},[t._m(2),e("div",{staticClass:"listing col-12 p-0 mt-3"},[e("div",{staticClass:"row custom-box-width default_templates"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-3 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico d-flex px-3 py-2 ticket-attachments_small2"},[t._v("  "),e("img",{staticStyle:{"max-height":"30px","min-height":"30px"},attrs:{src:"https://cdn-icons-png.freepik.com/256/14026/14026755.png",alt:"Facebook Icon"}}),e("span",{staticClass:"font-weight-medium w-90",on:{click:function(a){return t.GetListing("SMTP")}}},[t._v("Connect with Email")]),t._v(" "),e("em",{staticClass:"fa fa-check-circle font-pic-size-28 ml-2 float-right"})])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-3 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico d-flex px-3 py-2 ticket-attachments_small2"},[t._v("  "),e("img",{staticStyle:{"max-height":"30px","min-height":"30px"},attrs:{src:"https://cdn.icon-icons.com/icons2/2407/PNG/512/mailchimp_icon_146054.png",alt:"Facebook Icon"}}),e("span",{staticClass:"font-weight-medium w-90",on:{click:function(a){return t.GetListing("MailChimp")}}},[t._v("Connect with MailChimp")]),t._v(" "),e("em",{staticClass:"fa fa-check-circle font-pic-size-28 ml-2 float-right"})])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-3 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico d-flex px-3 py-2 ticket-attachments_small2"},[t._v("  "),e("img",{staticStyle:{"max-height":"30px","min-height":"30px"},attrs:{src:"https://cyclr.com/wp-content/uploads/2022/03/ext-597.png.webp",alt:"Facebook Icon"}}),e("span",{staticClass:"font-weight-medium w-90",on:{click:function(a){return t.GetListing("SendGrid")}}},[t._v("Connect with SendGrid")]),t._v(" "),e("em",{staticClass:"fa fa-check-circle font-pic-size-28 ml-2 float-right"})])])])])])]),e("div",{staticClass:"w-100 float-left"},[t._m(3),e("div",{staticClass:"listing col-12 p-0 mt-3"},[e("div",{staticClass:"row custom-box-width default_templates"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-3 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico d-flex px-3 py-2 ticket-attachments_small2"},[t._v("  "),e("span",{staticClass:"tablelist_icos insta_icos"}),e("span",{staticClass:"font-weight-medium w-90",on:{click:function(a){return t.GetListing("Twilio")}}},[t._v("Connect with Twilio")]),t._v(" "),e("em",{staticClass:"fa fa-check-circle font-pic-size-28 ml-2 float-right"})])])])])])])]),t.showListingPopup?e("GetIntegrartionsListing",{attrs:{modalHeader:t.modalHeader},on:{Close:t.Close}}):t._e()],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[t._v("Integration")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"w-100 float-left"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Social Media:")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"w-100 float-left"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Email:")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"w-100 float-left"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Communication:")])])])}],n=e("1538"),o={components:{GetIntegrartionsListing:n["a"]},data:function(){return{showListingPopup:!1,modalHeader:null}},methods:{GetListing:function(t){var a=this;a.modalHeader=t,a.showListingPopup=!0},Close:function(){var t=this;t.showListingPopup=!1}}},l=o,r=e("2877"),c=Object(r["a"])(l,i,s,!1,null,null,null);a["default"]=c.exports},"78c5":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{class:{"right-content":t.isRightContent}},[e("div",{staticClass:"card mb-3 probx"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"col-md-12 float-left p-0"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Campaign Name: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(t._s(t.CampaignName))])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.CampaignId,expression:"CampaignId"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.CampaignId=a.target.multiple?e:e[0]},t.GetAnotherCampaignData]}},[e("option",{attrs:{value:""}},[t._v(" "+t._s(t.$t("Select"))+" "+t._s(t.$t("Campaign"))+" ")]),t._l(t.CampaignData,(function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.name))])}))],2)])]),e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Campaign Owner: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" "+t._s(t.CampaignOwner)+" ")])])])]),e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Send Type: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" "+t._s(t.sendType)+" ")])])])]),e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Schedule Date: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(t._s(t.$options.filters.formatDate(t.ScheduleDate)))])])])]),e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Status: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" "+t._s(t.Status)+" ")])])])]),e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Send Through: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" "+t._s(t.ScheduleType)+" ")])])])])]),t._m(1),e("div",{staticClass:"pl-0 border-1"},[e("div",{staticClass:"form-check form-check-inline"},[e("label",{staticClass:"switch low"},[e("input",{staticClass:"form-check-input custom-control-input dynamic",attrs:{type:"checkbox"},on:{change:function(a){return t.setSlider(0)}}}),e("span",{staticClass:"slider round"})]),t._v("   "),e("label",{staticClass:"form-check-label font-weight-normal"},[t._v(t._s(t.$t("Showstatisticsinnumbers")))])]),e("v-date-picker",{staticClass:"timedate input-group col-md-3 float-right",attrs:{"is-range":""},on:{input:t.onDateChange},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,n=a.togglePopover;return[e("input",t._g({staticClass:"form-control",domProps:{value:i.start+" - "+i.end}},s)),e("div",{staticClass:"input-group-append",on:{click:n}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.startEndDate,callback:function(a){t.startEndDate=a},expression:"startEndDate"}})],1),t._v("   ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"listing col-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-12 stat_slides mb-2"},[e("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Successfully Delivery")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].DELIVERED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Opened")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].READ_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Clicked")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].CLICKED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Soft Bounced")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].SOFT_BOUNCED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Hard Bounced")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].HARD_BOUNCED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Spam")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].SPAM_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Unsubscribed")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].UNSUBSCRIBED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])])])])])])]),e("div",{staticClass:"col-md-12 float-left p-4 text-center"},[e("div",{attrs:{id:"chart"}},[e("VueApexCharts",{attrs:{type:"area",height:"350",options:t.chartOptions,series:t.series}})],1)]),e("div",{staticClass:"col-md-12 float-left p-0 mt-3"},[t._m(2),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 col-lg-12"},[e("div",{staticClass:"tab_container"},[e("div",{staticClass:"responsive-tabs-container accordion-xs accordion-sm"},[e("ul",{staticClass:"nav nav-tabs all-tabs responsive-tabs mt-2 responivecustomtab HideTab ui-tabs-nav ui-corner-all ui-helper-reset ui-helper-clearfix ui-widget-header",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab ui-tabs-active ui-state-active",attrs:{role:"tab",tabindex:"0","aria-controls":"tabs-1","aria-labelledby":"tab-Details","aria-selected":"true","aria-expanded":"true"}},[e("a",{staticClass:"nav-link active productCreateTab1 ui-tabs-anchor",attrs:{href:"#tabs-1","data-toggle":"tab",title:"",role:"presentation",id:"tab-Details","data-toggle-tooltip":"tooltip","data-original-title":"Create Product",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("DELIVERED")}}},[t._v("Delivered ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-2","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon productDeployTab2 ui-tabs-anchor",attrs:{href:"#tabs-2",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Deploy Product",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("READ")}}},[t._v("Opened ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-3","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_1 ui-tabs-anchor",attrs:{href:"#tabs-3",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Related Information",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("CLICKED")}}},[t._v("Clicked ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-4",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("Replied")}}},[t._v("Replied ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-5",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("HARD_BOUNCE")}}},[t._v("Hard Bounced ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-6",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("SOFT_BOUNCE")}}},[t._v("Soft Bounced ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-7",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("Complained")}}},[t._v("Complained ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-8",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("Unsubscribed")}}},[t._v("Unsubscribed ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-9",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("Error")}}},[t._v("Error ")])])])])])])]),e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"CRM",SubModuleCode:"",renderRowActionMethod:t.renderActions,showCheckBox:!0,SortExp:t.SortExp,IdentityColumn:"",HeaderText:t.$t(""),listType:["List"],ListDataCallBackFunction:t.FetchData,ListData:t.StatisticsHeaderData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecord,SearchFields:t.leftSearchFields,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata}})],1)])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 mb-2"},[e("span",[t._v(" Campaign Details ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12 float-left p-0 mt-3"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 mb-2"},[e("span",[t._v(" Summary ")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 mb-2"},[e("span",[t._v(" Details ")]),e("small",{staticClass:"float-right"},[e("a",{attrs:{checkprivilege:"yes","aria-hidden":"true",href:"#"}},[e("i",{staticClass:"fa fa-download pr-1",attrs:{title:"Add"}}),t._v(" Export ")])])])])}],n=e("c7eb"),o=e("1da1"),l=(e("a9e3"),e("99af"),e("d3b7"),e("b680"),e("1321")),r=e.n(l),c=e("9769"),d={components:{VueApexCharts:r.a},props:{CampaignId:{type:Number,required:!0},isRightContent:{type:Boolean,required:!0},LeftViewData:{type:String,required:!0}},data:function(){return{sendType:"",startEndDate:{start:new Date,end:new Date},CheckPercentageOrNumber:0,StatisticsHeaderData:[],StatisticsData:[{DELIVERED_COUNT:0,READ_COUNT:0,CLICKED_COUNT:0,SOFT_BOUNCED_COUNT:0,HARD_BOUNCED_COUNT:0}],series:[],chartOptions:{},CampaignData:[],isLoading:!1,listheaderbuttons:"",TotalRecord:0,SortExp:"",SortBy:"",PageNumber:1,TotalPages:0,CurrentPage:1,isPercentage:!0,PageSize:10,MailChimpId:"",MailChimpDataObj:[],CampaignName:"",CampaignOwner:"",Status:"",ScheduleType:"",ScheduleDate:null,EmailDelivertStatus:"DELIVERED",Headers:[{COLUMN_NAME:"FULL_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Full Name",DISPLAY_ORDER:1},{COLUMN_NAME:"EMAIL_TO",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Email",DISPLAY_ORDER:2},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3},{COLUMN_NAME:"CREATED_AT",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Last Updated",DISPLAY_ORDER:4}]}},created:function(){this.getCampaigns(),this.FetchData(),this.onDateChange(),this.getCampaignStatisticsDetail()},methods:{onDateChange:function(){var t=this,a=this;if(a.CheckPercentageOrNumber=0,a.dateform=new Date,a.dateto=new Date,void 0!=a.CampaignId)var e=a.CampaignId;else e=a.$route.params.id;var i="campaign_id=".concat(e,"&dateform=").concat(a.$options.filters.formatDate(a.startEndDate.start),"&dateto=").concat(a.$options.filters.formatDate(a.startEndDate.end));c["a"].GetCampaignStatistics(i).then((function(e){a.series=[],a.chartOptions=[];var i=a.GetDateDifference();a.series=[{name:"SUCCESSFULLY DELIVERY",data:[]},{name:"OPENED",data:[]},{name:"CLICKED",data:[]},{name:"SOFT BOUNCED",data:[]},{name:"HARD BOUNCED",data:[]},{name:"SPAM",data:[]},{name:"UNSUBSCRIBED",data:[]}],null!=e.data&&(a.StatisticsData=e.data,"mailchimp"==e.data[0].SCHEDULE_TYPE.toLowerCase()?(a.MailChimpId=e.data[0].MAIL_CHIMP_ID,t.getMailChimpData()):(a.series[0].data.push(a.StatisticsData[0].DELIVERED_COUNT),a.series[1].data.push(a.StatisticsData[0].READ_COUNT),a.series[2].data.push(a.StatisticsData[0].CLICKED_COUNT),a.series[3].data.push(a.StatisticsData[0].SOFT_BOUNCED_COUNT),a.series[4].data.push(a.StatisticsData[0].HARD_BOUNCED_COUNT),a.series[5].data.push(a.StatisticsData[0].SPAM_COUNT),a.series[6].data.push(a.StatisticsData[0].UNSUBSCRIBED_COUNT))),a.chartOptions={toolbar:{show:!1},xaxis:{categories:i,title:{text:""}},yaxis:{title:{text:""}},dataLabels:{enabled:!0},stroke:{curve:"smooth"}}}))},getCampaignStatisticsDetail:function(){var t=this,a="campaign_id=".concat(t.CampaignId);c["a"].CampaignStatisticsDetail(a).then((function(a){t.CampaignName=a.data[0].CampaignName,t.ScheduleDate=a.data[0].ScheduleDate,t.CampaignOwner=a.data[0].CampaignOwner,t.Status=a.data[0].StatusName,t.ScheduleType=a.data[0].CampaignTypeName,t.sendType=a.data[0].SendType}))},GetDateDifference:function(){var t=this;if(void 0!=t.startEndDate){var a=new Date(t.dateform.getTime()),e=[],i=[];while(a<=t.dateto)e.push(new Date(a)),a.setDate(a.getDate()+1);return e.forEach((function(a){i.push(t.$options.filters.formatDate(a))})),i}},getCampaigns:function(){var t=this,a="id=&moduleName=CRM&type=EMAIL_CAMPAIGNS";c["a"].getDDLData(a+"&search=").then((function(a){t.CampaignData=[],""!=a.data&&(t.CampaignData=a.data.DATA)}))},GetAnotherCampaignData:function(){var t=this;t.onDateChange(),t.getCampaignStatisticsDetail()},FetchData:function(){var t=this;t.isLoading=!0;var a="campaignId=".concat(t.CampaignId,"&dateform=&dateto=&sortBy=").concat(t.SortBy,"&sortExp=").concat(t.SortExp,"&pageSize=").concat(t.PageSize,"&pageNumber=").concat(t.PageNumber,"&status=&emailDeliveryStatus=").concat(t.EmailDelivertStatus);c["a"].GetEmailStatisticsDetails(a).then((function(a){t.StatisticsHeaderData=[],void 0!=a.data.data&&a.data.data.length>0?(t.StatisticsHeaderData=a.data.data,t.TotalRecord=a.data.data[0].TOTAL,t.TotalPages=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1):t.noRecord=!0})),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1},renderActions:function(){},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata:function(t){var a="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",a="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",a="sort tb_headerSortUp"):(this.SortExp="ASC",a="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",a)},onUserGuideChange:function(t){var a=this;a.EmailDelivertStatus=t,a.FetchData()},setSlider:function(){var t=Object(o["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=this,a.StatisticsData=[],1==a.CheckPercentageOrNumber?(a.StatisticsData.push(a.MailChimpDataObj),a.CheckPercentageOrNumber=0,a.isPercentage=!1):a.getMailChimpData();case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),getMailChimpData:function(){var t=Object(o["a"])(Object(n["a"])().mark((function t(a){var e,i,s;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.StatisticsData=[],i=e.GetDateDifference(),s="campaignId=".concat(e.MailChimpId,"&startDate=").concat(e.$options.filters.formatDate(e.startEndDate.start),"&endDate=").concat(e.$options.filters.formatDate(e.startEndDate.end)),t.next=6,c["a"].GetCampaignStats(s).then((function(t){var a=JSON.parse(t.data.mailChimpData);if(e.MailChimpDataObj=a,0==e.CheckPercentageOrNumber){var s=JSON.parse(t.data.mailchimpDataPercentage),n={DELIVERED_COUNT:s.SUCCESSFULL_DELIVERED_PERCENTAGE.toFixed(2),READ_COUNT:s.READ_PERCENTAGE.toFixed(2),CLICKED_COUNT:s.CLICKED_PERCENTAGE.toFixed(2),UNSUBSCRIBED_COUNT:s.UNSUBSCRIBED_PERCENTAGE.toFixed(2),HARD_BOUNCED_COUNT:s.HARD_BOUNCED_PERCENTAGE.toFixed(2),SOFT_BOUNCED_COUNT:s.SOFT_BOUNCED_PERCENTAGE.toFixed(2)};e.StatisticsData.push(n),e.isPercentage=!0,e.CheckPercentageOrNumber=1}else e.setSlider();e.series[1].data.push(a.READ_COUNT),e.series[0].data.push(a.DELIVERED_COUNT),e.series[2].data.push(a.CLICKED_COUNT),e.series[3].data.push(a.SOFT_BOUNCED_COUNT),e.series[4].data.push(a.HARD_BOUNCED_COUNT),e.series[5].data.push(a.CLICKED_COUNT),e.series[6].data.push(a.UNSUBSCRIBED_COUNT),e.chartOptions={toolbar:{show:!1},xaxis:{categories:i,title:{text:""}},yaxis:{title:{text:""}},dataLabels:{enabled:!0},stroke:{curve:"smooth"}}}));case 6:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}()}},u=d,p=e("2877"),m=Object(p["a"])(u,i,s,!1,null,null,null);a["a"]=m.exports}}]);
//# sourceMappingURL=CRMCampaign.js.map