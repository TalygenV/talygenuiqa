(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Accounts Details~CRMContactDetails~CRMDealDetails~CRMLeadDetails~Campaign Details~Details Product~In~8899e245"],{"1b4a":function(t,e,a){"use strict";a("200c")},"200c":function(t,e,a){var o=a("5166");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("6b7fc876",o,!0,{sourceMap:!1,shadowMode:!1})},"3e9a":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"inline"}},[a("span",{domProps:{innerHTML:t._s(t.returnShortNoteString())}}),t.isShowReadMoreButtton()?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openFullDateModal()}}},[t._v("   "+t._s(t.$t("readmore"))+" ...")]):t._e(),t.isShowFullData?a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.heading))]),a("button",{staticClass:"close",attrs:{type:"button",href:"javascript:;"},on:{click:function(e){t.isShowFullData=!1}}},[a("em",{staticClass:"fa fa-times"})])]),a("div",{staticClass:"modal-body crmnote-description"},["Notes"!=t.callFrom?a("div",{staticStyle:{"max-height":"500px","overflow-y":"auto"},domProps:{innerHTML:t._s(t.tempData)}}):t._e(),"Notes"==t.callFrom?a("ckeditor",{staticStyle:{height:"400px"},attrs:{id:"editor-a",editor:t.editor,config:t.editorConfig},on:{ready:t.onReady}}):t._e()],1)])])]):t._e()])},i=[],s=a("fb3d"),n=a.n(s),r={name:"crm-readmore",props:{data:{type:String,required:!0},heading:{type:String,required:!0},length:{type:String},callFrom:null},data:function(){return{isShowFullData:!1,tempData:"",editor:n.a}},methods:{onReady:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},openFullDateModal:function(){this.isShowFullData=!0},returnShortNoteString:function(){var t=document.implementation.createHTMLDocument().createElement("div");"Notes"==this.callFrom&&this.data.length,t.innerHTML=this.data;var e=t.innerText;return this.tempData=e,e.length<=this.length?this.data:e.substring(0,this.length)},isShowReadMoreButtton:function(){var t=document.implementation.createHTMLDocument().createElement("div");t.innerHTML=this.data;var e=t.innerText;return!(e.length<=this.length)}}},l=r,c=a("2877"),d=Object(c["a"])(l,o,i,!1,null,null,null);e["a"]=d.exports},5166:function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".ck-editor__editable[data-v-0532fa68]{min-height:200px!important;border:1px solid #c1c1c1}.validborder[data-v-0532fa68]{border:none!important}.validborder .ck-content[data-v-0532fa68]{border-color:#dc3545!important}",""]),t.exports=e},"84a0":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[t.isShowNoteDialogue?a("div",{class:{"feedback-ticket feedback-ticket-present-answersDiv mb-2":!0,"border p-3":!t.isShowNoteDialogue||"quickViewAndNoteJS"!=t.callfrom}},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5 mb-2"},[a("span",[t._v(" "+t._s(t.$t("AddNotes")))])])]),a("div",{staticClass:"feedback-ticket-content"},[a("Form",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.values,i=e.meta;return[a("div",{staticClass:"feedback-conversation-box",staticStyle:{padding:"none"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Visibility"))+" :")]),a("div",{staticClass:"pl-0 border-0"},[a("div",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.IsPrivate,expression:"IsPrivate"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"radio_Public",value:"0",name:"rdo_ForNote",checked:"checked"},domProps:{checked:t._q(t.IsPrivate,"0")},on:{change:function(e){t.IsPrivate="0"}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"radio_Public"}},[t._v(" "+t._s(t.$t("Public"))+" ")])])]),a("div",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.IsPrivate,expression:"IsPrivate"}],staticClass:"custom-control-input",attrs:{id:"radio_Private",type:"radio",value:"1",name:"rdo_ForNote"},domProps:{checked:t._q(t.IsPrivate,"1")},on:{change:function(e){t.IsPrivate="1"}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"radio_Private"}},[t._v(" "+t._s(t.$t("Private"))+" ")])])])])])])]),a("div",{staticClass:"conversation-content feedback-conversation-content"},[a("Field",{attrs:{name:"note",rules:{required:!0},label:"Note"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[a("ckeditor",{attrs:{editor:t.editor},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}),a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"note"}},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 mt-3 text-right"},[a("div",{staticClass:"form-group mb-0"},[a("div",{staticClass:"search-btm-btn"},[a("a",{staticClass:"btn btn-success save-btn mr-1",attrs:{href:"javascript:;",title:"Save"},on:{"~click":function(e){return t.saveNote(o,i)}}},[a("em",{staticClass:"fa fa-save pr-2 text-white"}),t._v(t._s(t.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;",title:"Cancel"},on:{click:function(e){return t.closeNoteDialogue()}}},[a("em",{staticClass:"fa fa-close pr-2 text-white"}),t._v(t._s(t.$t("Cancel")))])]),a("div",{staticStyle:{clear:"both"}})])])]}}],null,!1,2654907794)})],1)]):t._e(),t.isShowNoteDialogue&&"quickViewAndNoteJS"==t.callfrom?t._e():a("div",{staticClass:"pb-2 d-inline-block"},[a("span",{staticClass:"legend-Progress colorboxsquare"}),t._v(t._s(t.$t("Private"))+" "+t._s(t.$t("NOTE"))+" "),a("span",{staticClass:"legend-upcoming colorboxsquare ml-3"}),t._v(t._s(t.$t("Public"))+" "+t._s(t.$t("NOTE"))+" ")]),t.isShowNoteDialogue&&"quickViewAndNoteJS"==t.callfrom?t._e():a("div",{staticClass:"col-12 p-0"},[a("div",{staticClass:"container-fluid p-0"},[t.NoRecordForTab?a("div",{staticClass:"text-center text-danger p-4 border"},[t._v(t._s(t.NoRecordFoundText))]):t._e(),a("div",{staticStyle:{clear:"both"}}),"list"!=t.ListTypeForViewChange?a("div",{staticClass:"row ticket-card-container card-view bg-border p-0"},t._l(t.NoteData,(function(e,o){return a("div",{key:o,staticClass:"col-md-12 col-lg-6 col-xl-3 mb-3",staticStyle:{"min-width":"257px"}},[a("div",{class:{"card-box":!0,"blue-bg-light":!e.IS_PRIVATE,"green-bg-light":e.IS_PRIVATE}},[a("div",{staticClass:"card-heading d-flex align-items-center"},[a("span",{staticClass:"user-img-con mr-2"},[a("img",{attrs:{src:null!=e.PROFILE_PATH&&""!=e.PROFILE_PATH?e.PROFILE_PATH:"/Content/images/uc/uc_user_new.jpg",alt:""}})]),t._v(" "+t._s(e.notes_created_by)+" ")]),a("div",{staticClass:"card-detail-main",staticStyle:{"max-height":"150px"}},[a("div",{staticClass:"card-detail"},[a("em",{staticClass:"fa fa-address-card",attrs:{"aria-hidden":"true"}}),a("span",[t._v(t._s(e.crm_designation))])]),a("div",{staticStyle:{clear:"both"}}),a("crmreadmore",{attrs:{callFrom:"Notes",data:e.crm_notes,"v-html":e.crm_notes,heading:t.$t("NOTE"),length:"100"}})],1),a("div",{staticClass:"bottom-action"},[a("div",{staticClass:"card-date"},[a("em",{staticClass:"fa fa-calendar-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v("  "+t._s(t._f("formatDateTime")(e.note_date)))])]),t.userid==e.created_by&&e.crm_note_id==t.editDeleteButonFor?a("div",{staticClass:"card-action"},[t.userid==e.created_by&&e.crm_note_id==t.editDeleteButonFor?a("a",{staticClass:"round-icon-small btn-success-light",attrs:{href:"javascript:;"},on:{click:function(a){return t.editNote(e)}}},[a("em",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]):t._e(),t.userid==e.created_by&&e.crm_note_id==t.editDeleteButonFor?a("a",{staticClass:"round-icon-small btn-danger-light",attrs:{href:"javascript:;",id:"DeleteNote"},on:{click:function(a){return t.deleteNote(e.crm_note_id)}}},[a("em",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e()]):t._e()])])])})),0):t._e()]),"list"==t.ListTypeForViewChange?t._l(t.NoteData,(function(e,o){return a("div",{key:o,staticClass:"conversation-main"},[a("div",{staticClass:"conversation-time"},[a("span",[t._v(t._s(t.formatTime(e.note_date)))])]),t.NoRecordForTab?t._e():a("div",{staticClass:"conversation-box-con"},[a("div",{class:{"conversation-box":!0,"public-note":!e.IS_PRIVATE,"private-note":e.IS_PRIVATE}},[a("div",{staticClass:"name-circle light-grey"},[a("img",{staticClass:"img-circle avatar img-max-width",attrs:{src:null!=e.PROFILE_PATH&&""!=e.PROFILE_PATH?e.PROFILE_PATH:"/Content/images/DefaultImages/uc_user_new.jpg",alt:""}})]),a("div",{staticClass:"conversation-header"},[a("span",[a("span",{staticClass:"sender-name"},[t._v(t._s(e.notes_created_by))]),a("span",{staticClass:"sender-department"},[t._v("("),a("small",{staticClass:"text-danger font-14",attrs:{title:t._f("formatDateTime")(e.note_date)}},[t._v(t._s(t._f("formatDateTime")(e.note_date)))]),t._v(")")])]),a("span",{},[t.userid==e.created_by?a("a",{staticClass:"round-icon-small btn-danger-light float-right",attrs:{href:"javascript:;",id:"DeleteNote"},on:{click:function(a){return t.deleteNote(e.crm_note_id)}}},[a("em",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]):t._e(),t.userid==e.created_by?a("a",{staticClass:"round-icon-small btn-success-light float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.editNote(e)}}},[a("em",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]):t._e()])]),a("div",{staticClass:"conversation-content"},[a("p",{domProps:{innerHTML:t._s(e.crm_notes)}})])])])])})):t._e()],2)])},i=[],s=(a("a9e3"),a("ac1f"),a("1276"),a("5319"),a("498a"),a("4de4"),a("d3b7"),a("3ca3"),a("ddb0"),a("9861"),a("841c"),a("e9c4"),a("c1df")),n=a.n(s),r=a("3e9a"),l=a("9769"),c=a("fb3d"),d=a.n(c),u={components:{crmreadmore:r["a"],ClassicEditor:d.a},props:{notedata:{type:Array,required:!0},userid:{type:Number,required:!0},sourceid:null,modulename:{type:String,required:!0},submodulecode:{type:String,required:!0},callfrom:{type:String},curIndex:{type:Number},listtype:{type:String},showNotePopUp:{type:Boolean}},data:function(){return{NoteData:[],NoRecordForTab:!0,LeadStatus:this.$parent.LeadStatus,isShowNoteDialogue:!1,note:"",crmNoteId:null,editDeleteButonFor:0,isShowFulleNote:!1,FulleNoteToShow:"",IsPrivate:"0",TotalCount:0,ListTypeForViewChange:"list",NoRecordFoundText:this.$t("Loading"),editor:d.a,userTimeZone:null}},created:function(){this.userTimeZone=this.GetUserInfo.TimeZone.split(":"),String.prototype.format=function(){var t=arguments;return this.replace(/{([0-9]+)}/g,(function(e,a){return"undefined"==typeof t[a]?e:t[a]}))}},watch:{listtype:function(t){this.ListTypeForViewChange=t},notedata:function(t){var e=this;if(e.ListTypeForViewChange=""!=$.trim(e.listtype)?e.listtype:e.ListTypeForViewChange,e.TotalCount=t.length,e.NoteData=t,e.NoRecordForTab=!(null!=e.NoteData&&e.NoteData.length>0),e.NoRecordForTab&&(e.NoRecordFoundText=e.$t("NoRecordfound")),e.isShowNoteDialogue=e.showNotePopUp,e.crmNoteId=null,e.note="",null!=e.NoteData&&e.NoteData.length>0){var a=e.NoteData.filter((function(t){return t.created_by==e.userid}));a.length>0&&(e.editDeleteButonFor=a[0].crm_note_id)}}},methods:{onReady:function(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},formatTime:function(t){if(t)try{var e="h:mm A";e=String(e).replace("t","A").replace("t","");var a=new Date(n()(String(t)).year(),n()(String(t)).month(),n()(String(t)).date(),n()(String(t)).hours(),n()(String(t)).minutes());return n()(a,"h:mm A").format(String(e))}catch(o){return e=String(e).replace("t","a").replace("t",""),n()(String(t)).format(String("h:mm A").toUpperCase()+" "+String(e))}},openNoteDialogue:function(){"undefined"===typeof this.$parent.checkForAdditionalPermission||this.$parent.checkForAdditionalPermission("AddNote")?(this.isShowNoteDialogue=!0,this.IsPrivate="0",this.NoRecordForTab=!this.isShowNoteDialogue):alertR(Globalize.localize("additionalOwnerAuthorityWarning"),!0,this.$t("Alert"))},closeNoteDialogue:function(){var t=this;if(t.note="",t.IsPrivate="0","quickViewAndNoteJS"==t.callfrom){console.log(t.$parent),t.$parent.isShowNotePopup=!1;var e=new URLSearchParams(window.location.search),a=e.get("reqfrom");null==a&&(a=0);var o=parseInt(a)||0;o>0&&t.$parent.loadNoteData(t.sourceid)}else t.$parent.loadData("notes");$(".AddNote").removeClass("d-none"),t.isShowNoteDialogue=!1,t.NoRecordForTab=!(null!=t.NoteData&&t.NoteData.length>0),t.crmNoteId=null},saveNote:function(t,e){var a=this,o=new URLSearchParams(window.location.search),i=o.get("reqfrom");null==i&&(i=window.location.pathname.indexOf("Listing")>-1||window.location.pathname.indexOf("Index")>-1?1:0);var s=parseInt(i)||0;this.$refs.form.validate().then((function(t){if(t){var e={sourceId:a.sourceid,moduleName:a.modulename,subModuleCode:a.submodulecode,note:a.note,isPrivate:a.IsPrivate,crmNotesId:a.crmNoteId},o=JSON.stringify(e);l["a"].SaveNoteData(o).then((function(t){"Success"==t.data[0].Status&&("CRM_LEADS"==a.submodulecode&&s>0&&(a.$parent.leadInfo.note_count=a.TotalCount+1),"CRM_DEALS"==a.submodulecode&&s>0&&(a.$parent.DealInfo.NOTE_COUNT=a.TotalCount+1),a.closeNoteDialogue(),a.ShowAlert(a.$t("InterviewStageAdded",[a.$t("Note")]),"Success",!0,a.$t("Alert")),s>0?a.$parent.loadNoteData(a.sourceid):a.$parent.loadData("notes","savenote"),a.note="",a.isShowNoteDialogue=!1,$(".AddNote").removeClass("d-none"))}))}}))},editNote:function(t){$("#DeleteNote").addClass("disabled"),$(".AddNote").addClass("d-none");var e=this;e.isShowNoteDialogue=!0,e.note=t.crm_notes,e.IsPrivate=t.IS_PRIVATE?"1":"0",e.crmNoteId=t.crm_note_id},deleteNote:function(t){var e=this,a=new URLSearchParams(window.location.search),o=a.get("reqfrom");null==o&&(o=window.location.pathname.indexOf("Listing")>-1||window.location.pathname.indexOf("Index")>-1?1:0);var i=parseInt(o)||0;e.confirmR(this.$t("ConfirmDelete"),this.$t("Delete"),this.$t("Note"),(function(){var a={ids:t,moduleName:e.modulename,subModuleCode:e.submodulecode,refCode:"DELETE_VIEW_CRM_NOTE"},o=JSON.stringify(a);l["a"].CommonDelete(o).then((function(t){var a="";"Success"==t.data[0].Status?("CRM_LEADS"==e.submodulecode&&i>0&&(e.$parent.$parent.leadInfo.note_count=e.TotalCount-1),"CRM_DEALS"==e.submodulecode&&i>0&&(e.$parent.$parent.DealInfo.note_count=e.TotalCount-1),"quickViewAndNoteJS"==e.callfrom&&i>0?e.$parent.$parent.loadNoteData(e.sourceid):e.$parent.loadData("notes"),a=e.ShowAlert(e.$t("DeletedSuccess",[e.$t("NOTE")]),"success",!0,e.$t("Alert"))):a=e.ShowAlert(e.$t("DeletedError",[e.$t("NOTE")]),"failure",!0,e.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)}))}))},returnShortNoteString:function(t,e){var a=document.implementation.createHTMLDocument().createElement("div");return a.innerHTML=t,noteHtmlData=a.innerText,noteHtmlData.length<=e?t:noteHtmlData.substring(0,e)},isShowReadMoreButtton:function(t,e){var a=document.implementation.createHTMLDocument().createElement("div");return a.innerHTML=t,noteHtmlData=a.innerText,!(noteHtmlData.length<=e)},openFullNoteModal:function(t){this.FulleNoteToShow=t,this.isShowFulleNote=!0}}},m=u,v=(a("1b4a"),a("2877")),h=Object(v["a"])(m,o,i,!1,null,"0532fa68",null);e["a"]=h.exports},dd2a:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-tab"},[a("div",{staticClass:"w-100",attrs:{id:"accordion"}},[t._l(t.TimeLineData,(function(e,o){return a("div",{key:o,staticClass:"card"},[a("div",{staticClass:"card-header"},[a("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse",href:"#collapseOne"+o}},[a("div",{staticClass:"conversation-date heading-border"},[a("span",[a("em",{staticClass:"fa fa-angle-down rotate-icon pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(e.groupKey))])])])]),a("div",{class:{collapse:!0,show:0==o},attrs:{id:"collapseOne"+o}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},t._l(e.groupData,(function(e,o){return a("div",{key:o,staticClass:"col-md-12 mbspc"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-5 col-lg-5 col-md-12 col-sm-12 message-ellapse",attrs:{title:e.message+" "+t.$t("By")+" "+e.created_by_name}},[t._m(0,!0),a("span",{staticClass:"circle-oicon"},[a("em",{class:"fa "+e.icon_codes})]),t._v(" "+t._s(e.message)+" "+t._s(t.$t("By"))+" "+t._s(e.created_by_name)+" ")]),a("div",{staticClass:"col-xl-4  col-lg-4 col-md-12 col-sm-12"},[a("div",{staticClass:"cont_start"},[a("em",{staticClass:"fa fa-envelope-o"}),a("span",{staticClass:"blue-time"},[t._v(t._s(e.created_by_name))]),t._v(" ("+t._s(e.mothyear)+")")])]),a("div",{staticClass:"col-xl-3  col-lg-3 col-md-12 col-sm-12 text-right"},[a("p",[t._v(t._s(t._f("formatTime")(e.Complete_datetime)))])])])])})),0)])])])})),t.NoRecordForTab?a("div",{staticClass:"text-center text-danger p-2"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()],2)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"iconplus"},[a("em",{staticClass:"fa fa-check-circle"})])}],s={props:{timelinedata:{type:Array,required:!0}},data:function(){return{TimeLineData:[],NoRecordForTab:!0}},watch:{timelinedata:{handler:function(t){this.TimeLineData=t,this.NoRecordForTab=!(null!=this.TimeLineData&&this.TimeLineData.length>0)},deep:!0}},methods:{}},n=s,r=a("2877"),l=Object(r["a"])(n,o,i,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=Accounts Details~CRMContactDetails~CRMDealDetails~CRMLeadDetails~Campaign Details~Details Product~In~8899e245.js.map