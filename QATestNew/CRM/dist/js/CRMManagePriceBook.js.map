{"version":3,"sources":["webpack:///./src/views/CRM/PriceBook/Manage.vue?4263","webpack:///src/views/CRM/PriceBook/Manage.vue","webpack:///./src/views/CRM/PriceBook/Manage.vue?4d9e","webpack:///./src/views/CRM/PriceBook/Manage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","_v","_s","$t","ref","scopedSlots","_u","key","fn","valid","errors","GroupBy","dateformat","DependentOption","$route","params","subModuleCode","on","DependentDateObject","onchangeForNormalDDL","onSearch","setSelectedValue","staticStyle","discountType","_l","item","index","parseInt","priceInformation","rangeTo","touched","invalid","directives","name","rawName","value","expression","class","domProps","$event","target","composing","$set","changevalue","rangeFrom","discountFix","discount","deletePriceDetailRow","addNewForPriceDetails","_e","disabled","submited","SubmitData","onCancel","staticRenderFns","components","DynamicForm","data","LeadData","LeadOwner","Channel","IndustryType","Status","options","selected","selectoptions","isPriceInfo","onEditPriceInfo","vSelectValidate","pricebookid","useCurrent","showClear","showClose","allowInputToggle","minDate","userId","companyId","created","methods","searchSelectData","ShowSearchData","search","vm","objItem","selctedValue","PriceBookDataService","then","json","val","checkDate","$","element","priceDetails","thisvar","checkForFromRange","checkForPreviousRange","formatDate","GetLocalizedValue","chk","GetFieldPlaceHolder","isBlank","values","field_name","required","length","type","fieldValue","field_value","custom_field_id","validation","MakeArray","array","MakeNormalArray","MakeSelectArray","GetValidation","obj","FetchData","groupId","fieldItem","console","group_id","group_name","group_display_name","Data","setTimeout","frmFields","component"],"mappings":"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AIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,qCAAqC,MAAM,IAC53DmD,EAAkB,G,8JCbP,GACfC,YACAC,oBAEAC,KAJA,WAKA,OACAzD,aACAmC,SACAuB,cACAC,eACAhD,WACAiD,aACAC,kBACAC,YACAC,aACAC,YACAC,iBACAC,eACA3C,eACA4C,mBACAvC,oBACAuB,YACAiB,mBACAC,kCACAxD,kBACAyD,cACAC,aACAC,aACAC,oBACAC,aAEAC,YACAC,eACAhE,kBAGAiE,mBACA,gCACA,0CACA,4CACA,kBAEAC,SACA1D,uBACA,GACA,iCAGA2D,iCACA,0CAEAC,eATA,SASAC,EAAAC,EAAAC,EAAAC,GACA,wBACAA,KAEA,4EACAC,0CACAC,MAAA,YACA,SAQA,OAPA,OAGA,aACAC,UAEAJ,wBACA,qBAIA9D,iBA5BA,SA4BAI,EAAA+D,GAEA,IACA,iBACA/D,qEAGAA,UAGA,YAGAP,kCACA,mCACA,eAEAuE,EADA,8BACAA,wBAGAA,QAEA,yBACAnB,cACAC,aACAC,aACAC,oBACAC,WAEAgB,mCACAA,6BACA,+BACAC,oBAMA9C,0BACA,WACA,sBACA,mBACA,YACA,WACA,cACAqC,wDAGAA,2DAMAU,wBACA,OACAhD,aACAf,WACAiB,aAEA,+BAEAE,iCACA,2IACA,OACAJ,aACAf,WACAiB,aAEA,mCAEA,6EAGAC,iCACA,WACA,gCAEA,OADA,yFACA,EAEA8C,kGACAA,+BACA,8BACAA,8BAIAC,kBAnHA,SAmHA3D,GACA,6CACA,qFACAA,eAGA4D,sBAzHA,SAyHA5D,GACA,6CACAA,cAEAuD,4CACA,6CACA,6FACAvD,eACAA,aACAA,mBAIAQ,wBAEA,6CACAR,eAIAhB,qBA7IA,SA6IAM,GACA,IACA,6BACA,6CACA,qBAKA,yBAJA,yBACA,qBAKA,oBACA,yDAEA,yBACA,sBAIA,YAGAuE,WAnKA,SAmKA7D,GACA,KACA,6GAGA8D,gCACA,oBACA,uCACA,0BACA,GAEAC,qBACA,mBACA,EAEA,GAGA,mCACA,0BACA,GAEAA,qBACA,mBACA,EAEA,IAGAC,oCACA,WACA,2BAOA,OALAlE,EADA,YACAA,sBAGAA,qBAEA,GAEAmE,oBACA,2BAEAhD,WA9MA,SA8MAiD,GACA,WAsBAnB,0CAqBA,MACAA,eACAA,cACA,iBACA,KACA,KACAQ,wBACA,OACAY,kBACAC,uBACAC,gBACAC,wBAEA,gFAKA,GAJAC,8BACA,oBACAA,WAEA,uBACA,yCACA,yBAEAA,cAEA,uBACA,IACAA,mDACA,UAEA,uBACAA,YAEA,wBACAA,YAEA,uBACAA,eAEA,0BACAA,iBAEA,OACAJ,kBACAK,cACAC,mCAEAnD,UACAoD,aAEA,OACApD,OACA7B,oCACAiF,cAEA,oBACAxB,0CACAH,eACA,qBACA,gBACAA,mFAGAA,iFAEAA,gBAAAjD,uBAGAiD,+EAEAA,sBAKA4B,wBACA,SACA,uBACA,8BACA,cACA,2BACA,6BACA,OAAA7E,wBAAAE,0BACA4E,cAEA,CACA,GAAA9E,UAAAE,YACA4E,gBAMA,cACA,wBACA,GAAA9E,UAAAE,YACA4E,UAIA,UAEAC,4BACA,IACA,qBAEA,SACA,WAGAC,4BACA,SACA,sCACA,kGACA,OAAAhF,UAAAE,YACA4E,UAEA,UAEAG,0BAEA,SAsBA,OArBA,gBACAC,kBAEA,aACAA,mBAEA,6BACAA,eAEA,oBACAA,gFAEA,uBACAA,gBAEA,wCACAA,iBAEA,mBACAA,6BAEA,GAEA9D,oBACA,mBAAApB,uBAEAmF,qBAAA,WACA,OACAlC,eACA,mGACAG,wBACAC,MAAA,YAGA,GAFAJ,eACAA,uBACA,uCACA,6BACAQ,yCACA2B,aACA,oBACA5F,kCAEA,wBACAA,mCAEA,6BACAyD,qDAEA,sCACA,wBAEA,gBACA,uCACA,wBAwBA,GAtBA,iBACAQ,wBACA,uBACA,IACA4B,uBACA,SAAAC,4CAEA,yDACAD,qDACAA,gCACA,oDACAA,8BAGA,qDACAA,0CAEA,oBACAA,mDAIA,YACA,OACAE,WACAC,2BACAC,2CACAC,QAEAzC,sBAGAA,IACA,kDACAA,iBACAA,qCAEA0C,uBAAA1C,oDAAA,KAEA0C,uBAAA1C,wBAAA,KACA0C,uBAAA1C,2BAAA,KAEA,SACAA,gCACA,+CACA2C,sBAGA3C,0CACA2C,6BACAA,yBACAA,8BAEA3C,wBAAAmB,iBC3gB8W,I,YCO1WyB,EAAY,eACd,EACAvI,EACA+D,GACA,EACA,KACA,KACA,MAIa,aAAAwE,E","file":"js/CRMManagePriceBook.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"main-content\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{attrs:{\"id\":\"divMainLeadData\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(_vm._s(_vm.$t('ManagePriceBook')))]),_c('span',{staticClass:\"float-right\"})])])]),_c('div',{staticClass:\"border p-3\"},[_c('Form',{ref:\"form\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar valid = ref.valid;\nvar errors = ref.errors;\nreturn [_c('DynamicForm',{attrs:{\"schema\":_vm.GroupBy,\"dateformat\":_vm.dateformat,\"DependentOption\":_vm.DependentOption,\"subModuleCode\":_vm.$route.params.subModuleCode},on:{\"setDependentDate\":_vm.DependentDateObject,\"onchangeForNormalDDL\":_vm.onchangeForNormalDDL,\"onSearchDDL\":_vm.onSearch,\"setSelectedValue\":_vm.setSelectedValue}}),(_vm.isPriceInfo)?_c('div',{staticClass:\"listing p-3\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-bordered dt-responsive nowrap mt-0\",staticStyle:{\"width\":\"100%\",\"min-width\":\"650px!important\"},attrs:{\"id\":\"priceBookTable\",\"aria-describedby\":\"pricebooktable\"}},[_c('thead',{staticClass:\"thead-bg\"},[_c('tr',{staticClass:\"text-capitalize\"},[_c('th',{attrs:{\"scope\":\"col\"}},[_c('span',[_vm._v(_vm._s(_vm.$t('RangeFrom')))])]),_c('th',{attrs:{\"scope\":\"col\"}},[_c('span',[_vm._v(_vm._s(_vm.$t('RangeTo')))])]),_c('th',{attrs:{\"scope\":\"col\"}},[_c('span',[_vm._v(_vm._s(_vm.$t('Discount'))+\" \"+_vm._s((_vm.discountType == 2)?'(%)': '(Flat)'))])]),_c('th',{staticClass:\"text-center\",attrs:{\"scope\":\"col\"}},[_c('span',[_vm._v(_vm._s(_vm.$t('Action')))])])])]),_c('tbody',_vm._l((_vm.priceInformation),function(item,index){return _c('tr',{key:index},[_c('td',[_c('Field',{attrs:{\"name\":'rangeFrom'+index,\"rules\":{'required':true,'numeric':true,'min_value':((index>0)?(parseInt(_vm.priceInformation[index-1].rangeTo)+1):1)},\"label\":\"Range From\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar touched = ref.touched;\nvar invalid = ref.invalid;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.rangeFrom),expression:\"item.rangeFrom\"}],class:{ 'form-control': true, 'is-invalid': touched && invalid },attrs:{\"type\":\"text\",\"name\":'rangeFrom'+index,\"id\":'rangeFrom'+index},domProps:{\"value\":(item.rangeFrom)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(item, \"rangeFrom\", $event.target.value)},function($event){return _vm.changevalue(item)}]}}),_c('span',{staticClass:\"invalid-feedback d-block\",attrs:{\"name\":_vm.rangeFrom}},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('td',[_c('Field',{attrs:{\"name\":'rangeTo'+index,\"rules\":{'required':true,'numeric':true,'min_value':(parseInt(item.rangeFrom =='' ? 0: item.rangeFrom)+1)},\"label\":\"Range To\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar touched = ref.touched;\nvar invalid = ref.invalid;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.rangeTo),expression:\"item.rangeTo\"}],class:{ 'form-control': true, 'is-invalid': touched && invalid },attrs:{\"type\":\"text\",\"name\":'rangeTo'+index,\"id\":'rangeTo'+index},domProps:{\"value\":(item.rangeTo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"rangeTo\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback d-block\",attrs:{\"name\":_vm.rangeTo}},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('td',[_c('Field',{attrs:{\"name\":'discount'+index,\"rules\":{'required':true,'numeric':true,'max_value':100},\"label\":\"Discount\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar touched = ref.touched;\nvar invalid = ref.invalid;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.discount),expression:\"item.discount\"}],class:{ 'form-control': true, 'is-invalid': touched && invalid },attrs:{\"type\":\"text\",\"name\":'discount'+index,\"id\":'discount'+index},domProps:{\"value\":(item.discount)},on:{\"keyup\":function($event){return _vm.discountFix(index,item.discount)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"discount\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback d-block\",attrs:{\"name\":_vm.discount}},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('td',{staticClass:\"text-center single-action\"},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.deletePriceDetailRow(index)}}},[_c('em',{staticClass:\"fa fa-trash action-icon text-danger\"})])])])}),0)]),_c('div',{staticClass:\"col-lg-12 add-form-field text-right py-3\"},[_c('a',{staticClass:\"btn btn-success\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.addNewForPriceDetails()}}},[_c('em',{staticClass:\"fa fa-plus pr-2\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(_vm._s(_vm.$t('AddMore')))])])])]):_vm._e(),_c('div',{staticClass:\"row flex-row-reverse mt-2\"},[_c('div',{staticClass:\"col-lg-6 text-right\"},[_c('a',{staticClass:\"btn btn-success add_pricebbok_a\",class:{disabled: _vm.submited},attrs:{\"href\":\"javascript:;\",\"title\":\"Save\"},on:{\"click\":function($event){return _vm.SubmitData( valid,errors)}}},[_c('em',{staticClass:\"fa fa-save pr-2\"}),_vm._v(_vm._s(_vm.$t('Save'))+\" \")]),_vm._v(\"  \"),_c('a',{staticClass:\"btn btn-danger\",attrs:{\"href\":\"javascript:void(0)\",\"title\":\"Cancel\"},on:{\"click\":_vm.onCancel}},[_c('em',{staticClass:\"fa fa-close pr-2\"}),_vm._v(_vm._s(_vm.$t('Cancel'))+\" \")])]),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"py-2\"},[_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.$t('MandatoryString')))])])])])]}}])})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport PriceBookDataService from \"../../../services/DataService\";\r\nimport DynamicForm from \"../../../components/Common/DynamicForm.vue\";\r\nexport default {\r\n    components: {\r\n        DynamicForm,\r\n    },\r\n    data() {       \r\n        return {\r\n            isLoading:false,\r\n            value: \"\",\r\n            LeadData: null,\r\n            LeadOwner: null,\r\n            GroupBy: [],\r\n            Channel: null,\r\n            IndustryType: null,\r\n            Status: null,\r\n            options: null,\r\n            selected: false,\r\n            selectoptions: [],\r\n            isPriceInfo: false,\r\n            discountType: 0,\r\n            onEditPriceInfo: false,\r\n            priceInformation: [],\r\n            submited: false,\r\n            vSelectValidate: false,\r\n            pricebookid: this.$route.params.id,           \r\n            DependentOption: [{\r\n                useCurrent: false,\r\n                showClear: true,\r\n                showClose: true,\r\n                allowInputToggle: true,\r\n                minDate: false\r\n            }],\r\n            userId:null,\r\n            companyId:null,\r\n            dateformat:null\r\n        }\r\n    },\r\n    created: function () {\r\n        this.userId= this.GetUserInfo.ID;\r\n        this.companyId= this.GetUserInfo.CompanyId;\r\n        this.dateformat= this.GetUserInfo.DateFormat;\r\n        this.FetchData();\r\n    },\r\n    methods: {\r\n        onSearch: function onSearch(search, objItem) {\r\n            if(search)     {\r\n            this.searchSelectData(search, this, objItem);\r\n            }\r\n        },\r\n        searchSelectData: function (search, vm, objItem) {\r\n            this.ShowSearchData(search, vm, objItem,objItem.value.value);\r\n        },\r\n        ShowSearchData(search, vm, objItem,selctedValue) {\r\n            if (typeof (selctedValue) == 'undefined') {\r\n                    selctedValue = 0;\r\n                }\r\n            var url = \"id=&moduleName=\"+this.$route.params.moduleName+\"&type=\"+objItem.field_code;           \r\n            PriceBookDataService.getDDLData(url + \"&search=\" + escape(search))\r\n                .then(response => {\r\n                    var json = [];\r\n                    if(response.data==''){\r\n                       \r\n                    }\r\n                    if (response.data != '') {\r\n                        json = response.data;\r\n                    }                    \r\n                         objItem.select_options = json.DATA;\r\n                        return objItem.select_options;\r\n                    \r\n                });\r\n        },\r\n        setSelectedValue(item, val) {\r\n                var vm = this;\r\n                try {\r\n                    if (Array.isArray(val)) {\r\n                        item.value = (typeof val[0] === 'object' && val[0] !== null) ? val[0].value : val[0];\r\n                    }\r\n                    else {\r\n                        item.value = val;\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                }\r\n            },\r\n        DependentDateObject: function (item, date) {\r\n            if (item.name == 'effective_start_date') {\r\n                var checkDate = new Date();\r\n                if ((typeof date !== 'undefined') && date != '') {\r\n                    checkDate = new Date(Date.parse(date));\r\n                }\r\n                else {\r\n                    checkDate =item.value;\r\n                }\r\n                this.DependentOption[0] = {\r\n                    useCurrent: false,\r\n                    showClear: true,\r\n                    showClose: true,\r\n                    allowInputToggle: true,\r\n                    minDate: checkDate\r\n                }\r\n                $.each(this.GroupBy, function (filedIndex, fieldItem) {\r\n                    $.each(fieldItem.Data, function (index, element) {\r\n                        if (element.name == \"effective_end_date\") {\r\n                            element.value = '';\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        },\r\n        discountFix: function (index, item) {\r\n           var vm = this;\r\n            if (item.indexOf('.') >= 0) {\r\n                var parts = item.split('.');\r\n                if (parts.length > 1) {\r\n                    if (parts[1] != '') {\r\n                        if (parts[1].length > 1) {\r\n                            vm.priceInformation[index].discount = parseFloat(item).toFixed(2);\r\n                        }\r\n                        else {\r\n                            vm.priceInformation[index].discount = parseFloat(item).toFixed(1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        priceDetails: function () {\r\n            var dataObject = {\r\n                rangeFrom: '',\r\n                rangeTo: '',\r\n                discount: ''\r\n            };\r\n            this.priceInformation.push(dataObject);\r\n        },\r\n        addNewForPriceDetails: function () {\r\n            if (this.priceInformation[this.priceInformation.length - 1].rangeFrom != '' && this.priceInformation[this.priceInformation.length - 1].rangeTo != '') {\r\n                var dataObject = {\r\n                    rangeFrom: '',\r\n                    rangeTo: '',\r\n                    discount: ''\r\n                };\r\n                this.priceInformation.push(dataObject);\r\n            } else {\r\n                this.ShowAlert(this.$t(\"lastOneRowRequired\"),\"warning\", true, this.$t(\"Alert\"));\r\n            }\r\n        },\r\n        deletePriceDetailRow: function (index) {\r\n            var thisvar = this;\r\n            if (thisvar.priceInformation.length == 1) {\r\n                this.ShowAlert(this.$t(\"Atleastonerowismandatorytosave\"),\"warning\", true, this.$t(\"Alert\"));\r\n                return false;\r\n            }\r\n            thisvar.confirmR(this.$t(\"AssetGroup_ConfirmDelete\"), true, this.$t(\"Delete\",['Price Details']), function () {\r\n                thisvar.priceInformation.splice(index, 1);\r\n                if (thisvar.priceInformation.length <= 0) {\r\n                    thisvar.addNewForPriceDetails();\r\n                }\r\n            });\r\n        },\r\n        checkForFromRange(value) {\r\n            if (parseInt(value.rangeFrom) >= parseInt(value.rangeTo)) {\r\n                this.ShowAlert(this.$t(\"ToRangeValueShouldBeGreater\"),\"warning\",true, this.$t(\"Alert\"));\r\n                value.rangeTo = '';\r\n            }\r\n        },\r\n        checkForPreviousRange(value) {\r\n            if (parseInt(value.rangeFrom) >= parseInt(value.rangeTo)) {\r\n                value.rangeTo = '';\r\n            }\r\n            $.each(this.priceInformation, function (key, item) {\r\n                if (parseInt(value.rangeFrom) <= parseInt(item.rangeTo)) {\r\n                    this.ShowAlert(this.$t(\"rangeShouldBeGreaterThanPreviousOne\"),\"warning\",true, this.$t(\"Alert\"));\r\n                    value.rangeFrom = '';\r\n                    value.rangeTo = '';\r\n                    value.discount = '';\r\n                }\r\n            });\r\n        },\r\n        changevalue: function (value) {\r\n            \r\n            if (parseInt(value.rangeFrom) >= parseInt(value.rangeTo)) {\r\n                value.rangeTo = '';\r\n            }\r\n        },\r\n      \r\n        onchangeForNormalDDL(item) {\r\n            try {\r\n                if (item.name == 'price_book_model') {\r\n                    if (item.value != '' && item.value !== undefined && item.value != \"0\") {\r\n                        if (!this.onEditPriceInfo) {\r\n                            this.priceInformation = [];\r\n                            this.priceDetails();\r\n                        }\r\n                        else {\r\n                            this.onEditPriceInfo = false;\r\n                        }\r\n                        this.isPriceInfo = true;\r\n                        this.discountType = (item.value == null || item.value == \"\") ? 0 : item.value;\r\n                    } else {\r\n                        this.priceInformation = [];\r\n                        this.isPriceInfo = false;\r\n                    }\r\n                }\r\n            }\r\n            catch (ex) {\r\n            }\r\n        },\r\n        formatDate(value) {\r\n            if (value) {\r\n                return moment(String(value), \"YYYY-MM-DD\").format(String(Globalize.culture().calendar.patterns.d).toUpperCase())\r\n            }\r\n        },\r\n        GetLocalizedValue: function (fieldName, displayName) {\r\n            if (this.isBlank(displayName)) {\r\n                var chk = this.$t(String(fieldName).toUpperCase());\r\n                if (chk || /^\\s*$/.test(chk)) {\r\n                    return chk;\r\n                }\r\n                chk = this.$t(String(fieldName));\r\n                if (chk || /^\\s*$/.test(chk)) {\r\n                    return chk;\r\n                }\r\n                return fieldName;\r\n            }\r\n            else {\r\n                var chk = this.$t(String(displayName).toUpperCase());\r\n                if (chk || /^\\s*$/.test(chk)) {\r\n                    return chk;\r\n                }\r\n                chk = this.$t(String(displayName));\r\n                if (chk || /^\\s*$/.test(chk)) {\r\n                    return chk;\r\n                }\r\n                return displayName;\r\n            }\r\n        },\r\n        GetFieldPlaceHolder: function (str, displayName, isfor) {\r\n            var vm=this;\r\n            var name = vm.GetLocalizedValue(str, displayName);\r\n            if (isfor == \"select\") {\r\n                name = vm.$t('SelectField')+ name;\r\n            }\r\n            else {\r\n                name = vm.$t('EnterField')+ name;\r\n            }\r\n            return name;\r\n        },\r\n        isBlank: function (str) {\r\n            return (!str || /^\\s*$/.test(str));\r\n        },\r\n        SubmitData(values) {\r\n            var vm = this;\r\n            // this.LeadData.forEach((item) => {\r\n            //     if (item.astype != '' && item.form_field_visibility == 'YES') {\r\n            //         if (item.dt_code == \"select\" && item.value) {\r\n            //             try {\r\n            //                 values[item.name] = String((typeof item.value === 'object' && item.value !== null) ? item.value.value : item.value);\r\n            //                 vm.$refs.form.setFieldTouched(item.name, false);\r\n            //             } catch (ex) { console.log('error while get dropdown parse data') }\r\n            //         }\r\n            //         if (item.dt_code == 'date' && item.value) {\r\n            //             values[item.name] =vm.$options.filters.formatDate(item.value);\r\n            //             vm.$refs.form.setFieldTouched(item.name, false);\r\n            //         } else {\r\n            //             vm.$refs.form.setFieldTouched(item.name, true);\r\n            //         }\r\n            //     }\r\n            // })\r\n            // vm.priceInformation.forEach((item,index) => {\r\n            // vm.$refs.form.setFieldTouched('rangeFrom'+index, true);\r\n            // vm.$refs.form.setFieldTouched('rangeTo'+index, true);\r\n            // vm.$refs.form.setFieldTouched('discount'+index, true);\r\n            // })\r\n            vm.$refs.form.validate().then((result) => {               \r\n            // vm.priceInformation.forEach((item,index) => {\r\n            //     if(values['rangeFrom'+index]){\r\n            //         delete result.errors['rangeFrom'+index];\r\n            //         result.results['rangeFrom'+index].valid=true;\r\n            //         result.results['rangeFrom'+index].errors=[];\r\n            //         result.valid= Object.keys(result.errors).length === 0?true:result.valid;\r\n            // }\r\n            // if(values['rangeTo'+index]){\r\n            //         delete result.errors['rangeTo'+index];\r\n            //         result.results['rangeTo'+index].valid=true;\r\n            //         result.results['rangeTo'+index].errors=[];\r\n            //         result.valid= Object.keys(result.errors).length === 0?true:result.valid;\r\n            // }\r\n            // if(values['discount'+index]){\r\n            //         delete result.errors['discount'+index];\r\n            //         result.results['discount'+index].valid=true;\r\n            //         result.results['discount'+index].errors=[];\r\n            //         result.valid= Object.keys(result.errors).length === 0?true:result.valid;\r\n            // }                        \r\n            //         })\r\n                if (result) {                   \r\n                    vm.isLoading=true;            \r\n                    vm.submited = true;                     \r\n                    var fullJson = vm.LeadData;\r\n                    var data = [];\r\n                    var validation = [];\r\n                    $.each(fullJson, function (key, item) {\r\n                        var validationObject = {\r\n                            field_name: item.name,\r\n                            required: item.is_required,\r\n                            length: item.length,\r\n                            type: item.validation_type\r\n                        };\r\n                        var fieldValue = (item.name == \"price_book_id\" ? vm.pricebookid : ((typeof item.value === \"undefined\") ? '' : item.value));\r\n                        fieldValue = typeof fieldValue === \"undefined\" ? '' : fieldValue;\r\n                        if (item.dt_code == \"date\") {\r\n                            fieldValue = item.value;\r\n                        }\r\n                        if (item.dt_code == \"checkbox\") {\r\n                            var filtered = item.select_value.filter(function (el) {\r\n                                return (el != null && el != \"\");\r\n                            });\r\n                            fieldValue = filtered.join(',');\r\n                        }\r\n                        if (item.dt_code == \"select\") {\r\n                            try {\r\n                                fieldValue = (typeof fieldValue === 'object' && fieldValue !== null) ? fieldValue.value : fieldValue\r\n                            } catch (ex) { }\r\n                        }\r\n                        if (item.name == 'created_by') {\r\n                            fieldValue = vm.userId;\r\n                        }\r\n                        if (item.name == 'modified_by') {\r\n                            fieldValue = vm.userId;\r\n                        }\r\n                        if (item.name == 'company_id') {\r\n                            fieldValue = vm.companyId;\r\n                        }\r\n                        if (item.name == 'price_book_id') {\r\n                            fieldValue = vm.pricebookid;\r\n                        }\r\n                        var dataObject = {\r\n                            field_name: item.name,\r\n                            field_value: fieldValue,\r\n                            custom_field_id: item.custom_field_id\r\n                        };\r\n                        data.push(dataObject);\r\n                        validation.push(validationObject);\r\n                    });\r\n                    var postJSON = {\r\n                        data: data,\r\n                        priceInformation: vm.priceInformation,\r\n                        validation: validation\r\n                    };\r\n                    var objectPostString = JSON.stringify(postJSON);\r\n                    PriceBookDataService.PostPriceBook(objectPostString).then(response => {  \r\n                        vm.isLoading=false;                               \r\n                        if (response.data[0].Code == \"1\") {\r\n                            if (vm.pricebookid > 0) {                        \r\n                                vm.ShowAlert(vm.$t('UpdatedSuccess', [vm.$t('PriceBook')]), \"success\", true, vm.$t(\"Alert\")); \r\n                            }\r\n                            else {\r\n                                vm.ShowAlert(vm.$t('AddedSuccess', [vm.$t('PriceBook')]), \"success\", true, vm.$t(\"Alert\")); \r\n                            }\r\n                            vm.$router.push({ name: 'CRMPriceBook' });\r\n                        }\r\n                        else {\r\n                            vm.ShowAlert(vm.$t('AddedError', [vm.$t('PriceBook')]), \"failure\", true, vm.$t(\"Alert\"));                            \r\n                        }                               \r\n                        vm.submited = false;                        \r\n                    });\r\n                }\r\n            });\r\n        },\r\n        MakeArray: function (value, type) {\r\n            var array = [];\r\n            var arr = String(value).split(',');\r\n            if (type == \"radio\" || type == \"checkbox\") {\r\n                if (arr.length > 0) {\r\n                    for (var i = 0; i < arr.length; i++) {\r\n                        if (arr[i].split(\"|\").length > 1) {\r\n                            var person = { name: arr[i].split(\"|\")[0], value: arr[i].split(\"|\")[1] };\r\n                            array.push(person);\r\n                        }\r\n                        else {\r\n                            var person = { name: arr[i], value: arr[i] };\r\n                            array.push(person);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (arr.length > 0) {\r\n                    for (var i = 0; i < arr.length; i++) {\r\n                        var person = { name: arr[i], value: arr[i] };\r\n                        array.push(person);\r\n                    }\r\n                }\r\n            }\r\n            return array;\r\n        },\r\n        MakeNormalArray: function (value) {\r\n            try {\r\n                return JSON.parse(value);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        },\r\n        MakeSelectArray: function (objItem) {\r\n            var array = [];\r\n            var arr = String(objItem.select_options).split(',');\r\n            if (arr.length > 0 && objItem.picklist_options == 'Lookup' && objItem.form_field_visibility == \"YES\" && objItem.dt_code == \"select\") {\r\n                var person = { name: arr[0], value: arr[1] };\r\n                array.push(person);\r\n            }\r\n            return array\r\n        },\r\n        GetValidation: function (object) {\r\n        \r\n            var obj = {};\r\n            if (object.is_required) {\r\n                obj['required'] = true;\r\n            }\r\n            if (object.length > 0) {\r\n                obj['max'] = object.length;\r\n            }\r\n            if (object.validation_type == \"email\") {\r\n                obj['email'] = true;\r\n            }\r\n            if (object.dt_code == \"date\") {\r\n                obj['date_format'] = String(Globalize.culture().calendar.patterns.d).toUpperCase();\r\n            }\r\n            if (object.dt_code == \"decimal\") {\r\n                obj['decimal'] = 2;\r\n            }\r\n            if (object.dt_code == \"int\" || object.dt_code == \"bigint\") {\r\n                obj['numeric'] = true;\r\n            }\r\n            if (object.dt_code == \"url\") {\r\n                obj['url'] = 'require_protocol';\r\n            }\r\n            return obj;\r\n        },\r\n        onCancel: function () {\r\n            this.$router.push({ name: 'CRMPriceBook' });\r\n        },\r\n        FetchData: function () {\r\n            var vm = this;\r\n            vm.isLoading=true;\r\n            const params = `id=${vm.$route.params.id}&moduleName=CRM&subModuleCode=CRM_PRICE_BOOKS&langCode=en`;\r\n            PriceBookDataService.getFormLayout(params)\r\n                .then(response => {\r\n                    vm.isLoading=false;\r\n                    vm.LeadData = response.data.data;\r\n                    if (vm.LeadData != null && vm.LeadData.length > 0) {\r\n                        var groupId = this.LeadData[0].group_id;\r\n                        $.each(vm.LeadData, $.proxy(function (index, item) {\r\n                            groupId = item.group_id;\r\n                            if (item.dt_code == 'date') {\r\n                                item.value= item.value==''?null:item.value;\r\n                            }\r\n                            if (item.dt_code == 'checkbox') {\r\n                                item.select_value = item.value.split(',');\r\n                            }\r\n                            if (item.name == \"price_book_model\") {\r\n                                vm.discountType = (item.value == null || item.value == \"\") ? 0 : item.value;\r\n                            }\r\n                            var chkGroup = $.grep(vm.GroupBy, function (element, index) {\r\n                                return element.group_id == groupId;\r\n                            });\r\n                            if (chkGroup.length == 0) {\r\n                                var returnedData = $.grep(vm.LeadData, function (element, index) {\r\n                                    return element.group_id == groupId;\r\n                                });\r\n                                if (vm.pricebookid > 0) {\r\n                                    $.each(returnedData, function (filedIndex, fieldItem) {\r\n                                        if (fieldItem.dt_code == \"select\") {\r\n                                            try {\r\n                                                fieldItem.value = fieldItem.value.trim();\r\n                                            } catch (ex) { console.log(\"value is null while trimming\") }\r\n                                        }\r\n                                        if (fieldItem.dropdown_type == \"custom\" && fieldItem.picklist_options == \"Lookup\") {\r\n                                            fieldItem.select_options = vm.MakeNormalArray(fieldItem.select_options);\r\n                                            fieldItem.select_value = fieldItem.select_options;\r\n                                            if (fieldItem.select_options != null && fieldItem.select_options.length > 0) {\r\n                                                fieldItem.value = fieldItem.select_options[0];\r\n                                            }\r\n                                        }\r\n                                        else if (fieldItem.dt_code == \"decimal\" && fieldItem.form_field_visibility == \"YES\") {\r\n                                            fieldItem.value = parseFloat(fieldItem.value, 10).toFixed(2);\r\n                                        }\r\n                                        else if (fieldItem.dt_code == \"date\") {\r\n                                            fieldItem.value =vm.$options.filters.formatDate(fieldItem.value);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                if (returnedData.length > 0) {\r\n                                    var objGroup = {\r\n                                        group_id: groupId,\r\n                                        group_name: returnedData[0].group_name,\r\n                                        group_display_name: returnedData[0].group_display_name,\r\n                                        Data: returnedData\r\n                                    };\r\n                                    vm.GroupBy.push(objGroup);\r\n                                }\r\n                            }\r\n                        }, vm));\r\n                        if (response.data.otherData != '' && response.data.otherData !== undefined) {\r\n                            vm.isPriceInfo = true;\r\n                            vm.priceInformation = response.data.otherData;\r\n                        }\r\n                        setTimeout(function () { vm.DependentOption[0].minDate = new Date(Date.now()); }, 1000);\r\n                    }\r\n                    setTimeout(function(){vm.CheckBoxBootstrap()}, 500);\r\n                    setTimeout(function(){vm.RadioButtonBootstrap()}, 500);\r\n                    // setTimeout(function(){vm.ShowPopOver()}, 500);\r\n                    var frmFields = {}\r\n                    vm.LeadData.forEach((item) => {\r\n                        if (item.astype != '' && item.form_field_visibility == 'YES') {\r\n                            frmFields[item.name] = item.value;\r\n                        }\r\n                    })\r\n                    vm.priceInformation.forEach((item,index) => {\r\n                        frmFields['rangeFrom'+index]=item.rangeFrom;\r\n                        frmFields['rangeTo'+index]=item.rangeTo;\r\n                        frmFields['discount'+index]=item.discount;\r\n                    })\r\n                    vm.$refs.form.resetForm({ values: frmFields });\r\n                })\r\n        },       \r\n  \r\n    },\r\n}\r\n</script>\r\n<template>\r\n    \r\n    <section class=\"main-content\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n            <div id=\"divMainLeadData\" v-cloak>\r\n               <div class=\"row\">\r\n                    <div class=\"col-md-12 padding-t_8\">\r\n                        <div class=\"theme-primary partition-full\">\r\n                            <span class=\"p-name text-white\">{{$t('ManagePriceBook')}}</span>\r\n                            <span class=\"float-right\">\r\n                                <!-- <a href=\"javascript:;\" class=\"p-action-btn text-white\" title=\"PageTour\" @click=\"setTourGuideSteps(0)\">\r\n                                    <em class=\"fa fa-road\" aria-hidden=\"true\"></em>\r\n                                    <br />{{$t('PageTour')}}\r\n                                </a> -->\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"border p-3\">\r\n                    <Form v-slot=\"{  valid,errors}\" ref=\"form\">\r\n                        <DynamicForm :schema=\"GroupBy\" :dateformat=\"dateformat\" :DependentOption=\"DependentOption\"  \r\n                        v-on:setDependentDate=\"DependentDateObject\" :subModuleCode=\"$route.params.subModuleCode\" \r\n                        v-on:onchangeForNormalDDL=\"onchangeForNormalDDL\"  v-on:onSearchDDL=\"onSearch\"  v-on:setSelectedValue=\"setSelectedValue\"  />\r\n                        <div class=\"listing p-3\" v-if=\"isPriceInfo\">\r\n                            <div class=\"table-responsive\">\r\n                                <table id=\"priceBookTable\" class=\"table table-bordered dt-responsive nowrap mt-0\" style=\"width: 100%; min-width: 650px!important;\" aria-describedby=\"pricebooktable\">\r\n                                    <thead class=\"thead-bg\">\r\n                                        <tr class=\"text-capitalize\">\r\n                                             <th scope=\"col\"><span>{{$t('RangeFrom')}}</span></th>\r\n                                             <th scope=\"col\"><span>{{$t('RangeTo')}}</span></th>\r\n                                             <th scope=\"col\"><span>{{$t('Discount')}} {{(discountType == 2)?'(%)': '(Flat)' }}</span></th>\r\n                                             <th scope=\"col\" class=\"text-center\"><span>{{$t('Action')}}</span></th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr v-for=\"(item,index) in priceInformation\" :key=\"index\">\r\n                                            <td>\r\n                                                <Field :name=\"'rangeFrom'+index\" :rules=\"{'required':true,'numeric':true,'min_value':((index>0)?(parseInt(priceInformation[index-1].rangeTo)+1):1)}\" label=\"Range From\" v-slot=\"{errors,touched,invalid}\">\r\n                                                <input  type=\"text\" v-bind:class=\"{ 'form-control': true, 'is-invalid': touched && invalid }\" v-model=\"item.rangeFrom\" \r\n                                                       v-bind:name=\"'rangeFrom'+index\" :id=\"'rangeFrom'+index\" v-on:input=\"changevalue(item)\"   />\r\n                                                       <span   :name=\"rangeFrom\" class=\"invalid-feedback d-block\">{{errors[0]}}</span>                                \r\n                                               </Field>                                               \r\n                                            </td>\r\n                                            <td>\r\n                                                <Field :name=\"'rangeTo'+index\" :rules=\"{'required':true,'numeric':true,'min_value':(parseInt(item.rangeFrom =='' ? 0: item.rangeFrom)+1)}\" label=\"Range To\" v-slot=\"{errors,touched,invalid}\">\r\n                                                <input   type=\"text\" v-bind:class=\"{ 'form-control': true, 'is-invalid': touched && invalid }\" v-model=\"item.rangeTo\"  v-bind:name=\"'rangeTo'+index\" :id=\"'rangeTo'+index\"/>\r\n                                                <span   :name=\"rangeTo\" class=\"invalid-feedback d-block\">{{errors[0]}}</span>                                \r\n                                               </Field>\r\n                                            </td>\r\n                                            <td>\r\n                                                <Field :name=\"'discount'+index\" :rules=\"{'required':true,'numeric':true,'max_value':100}\" label=\"Discount\" v-slot=\"{errors,touched,invalid}\">\r\n                                                <input   type=\"text\" v-bind:class=\"{ 'form-control': true, 'is-invalid': touched && invalid }\" v-model=\"item.discount\" v-on:keyup=\"discountFix(index,item.discount)\" \r\n                                                v-bind:name=\"'discount'+index\" :id=\"'discount'+index\" />\r\n                                                <span   :name=\"discount\" class=\"invalid-feedback d-block\">{{errors[0]}}</span>                                \r\n                                               </Field>\r\n                                            </td>\r\n                                            <td class=\"text-center single-action\"><a href=\"javascript:;\" v-on:click=\"deletePriceDetailRow(index)\">\r\n                                                <em class=\"fa fa-trash action-icon text-danger\"></em></a></td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <div class=\"col-lg-12 add-form-field text-right py-3\">\r\n                                    <a href=\"javascript:;\" class=\"btn btn-success\" v-on:click=\"addNewForPriceDetails()\"><em class=\"fa fa-plus pr-2\" aria-hidden=\"true\"></em>{{$t('AddMore')}}</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row flex-row-reverse mt-2\">\r\n                            <div class=\"col-lg-6 text-right\">\r\n                                <a href=\"javascript:;\"\r\n                                    \r\n                                    v-bind:class=\"{disabled: submited}\" v-on:click=\"SubmitData( valid,errors)\"\r\n                                    class=\"btn btn-success add_pricebbok_a\" title=\"Save\">\r\n                                    <em class=\"fa fa-save pr-2\"></em>{{$t('Save')}}\r\n                                </a>&nbsp;\r\n                                <a href=\"javascript:void(0)\" class=\"btn btn-danger\" title=\"Cancel\" @click=\"onCancel\">\r\n                                    <em class=\"fa fa-close pr-2\"></em>{{$t('Cancel')}}\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"col-lg-6\">\r\n                                <div class=\"py-2\">\r\n                                     <small class=\"text-danger\">{{$t('MandatoryString')}}</small>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n  \r\n</template>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manage.vue?vue&type=template&id=86dd31a6&\"\nimport script from \"./Manage.vue?vue&type=script&lang=js&\"\nexport * from \"./Manage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}