(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CommunicationmodeList"],{"02c6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12 p-0 listing"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("TgList",{attrs:{IsShowAction:"false",ModuleName:"CRM",SubModuleCode:"CRM_COMMUNICATION_MODES",IdentityColumn:"modeTypeId",HeaderText:e.$t("CommunicationModes"),ListData:e.CommunicationModesData,HeaderData:e.Headers,HeaderButtons:e.listHeaderButtons,TotalRecords:e.TotalRecords,ListDataCallBackFunction:e.FetchData,SearchFields:e.leftSearchFields,IsFilterApplied:!!e.searchCondition,SortExp:e.SortExp,SortBy:e.SortBy,RenderRowActionMethod:e.renderActions},on:{LeftsearchButtonClick:e.SearchMode,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function(t){var s=t.data;return["status"==s.column.COLUMN_NAME?[e.isCRMShowStausDrop(s.row.status_id,"CRM_COMMUNICATION_MODES")?a("listing-status",{ref:"updatestatus",attrs:{isfor:"CRM_COMMUNICATION_MODES",dataid:s.row.modeTypeId,"data-controller":"Crm",statuslist:e.StatusListForListing,item:s.row,"data-action":"index",dataselected:s.row.status,callbackfunction:e.FetchData,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(s.row.status_id,"CRM_COMMUNICATION_MODES")?e._e():a("a",{staticClass:"inactive-disabled"},[a("span",{class:e.getStatusClass(s.row.status_id,"STATUS_ID")},[e._v(" "+e._s(s.row[s.column.COLUMN_NAME])+" ")])])]:e._e()]}}])})],1)},i=[],o=(a("ac1f"),a("841c"),a("d3b7"),a("159b"),a("c740"),a("1276"),a("9769")),n=[{title:"Add",iconClass:"fa-plus",href:"/CRM/ManageCommunicationModes/0/No",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{id:"Active",title:"Active",iconClass:"fa fa-check",callbackfunction:"BulkStatusUpdate(1001)",isdisabled:!0,isvisible:!0},{id:"Inactive",title:"Inactive",iconClass:"fa fa-close",callbackfunction:"BulkStatusUpdate(1002)",isdisabled:!0,isvisible:!0},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0}],c=[{id:"Search",iconClass:"fa fa-search",callbackfunction:"Search",isdisabled:!0,isvisible:!0},{id:"Refresh",iconClass:"fa fa-refresh",callbackfunction:"RefreshSearch",isdisabled:!0,isvisible:!0}],d=[{fieldName:"Name",fieldIcon:"fa fa-search",fieldType:"text",isSearch:!1,isvisible:!0,isdisabled:!1,value:"",callbackfunction:"SearchMode",fieldSearchConditionName:["Name"]}],r={buttons:n,Searchfieldbuttons:c,leftSearchSchema:d},l=a("2aeb"),u=a("1157"),h=a.n(u),m={components:{TgList:l["a"]},data:function(){return{CommunicationModesData:"",isLoading:!1,listHeaderButtons:r.buttons,listActions:r.listActions,userid:null,TotalRecords:null,usertype:null,PageNumber:1,PageSize:10,SortBy:"",searchCondition:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,noRecord:!1,leftSearchFields:r.leftSearchSchema,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_BG_COLOR:"#28a745",STATUS_COLOR:"#FFFFFF"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_BG_COLOR:"#bf4b4b",STATUS_COLOR:"#FFFFFF"}],Headers:[{COLUMN_NAME:"communicationTypeName",DATA_TYPE:"string",DT_CODE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:1,DISPLAY_NAME:"Name",settings:{clickEvent:this.clickEventOfColumn}},{COLUMN_NAME:"communicationTypeDescription",DATA_TYPE:"string",DT_CODE:"textarea",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:2,DISPLAY_NAME:"Description"},{COLUMN_NAME:"status",DATA_TYPE:"select",DT_CODE:"select",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:3,DISPLAY_NAME:"Status",settings:{isInSlot:!0}}]}},created:function(){this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType;var e=this;e.FetchData()},methods:{renderActions:function(){},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},getRequestParams:function(e,t,a,s,i){var o={};return e&&(o["search"]=e),t&&(o["pageSize"]=t),a&&(o["pageNum"]=a),s&&(o["sortBy"]=s),s&&(o["sortBy"]=s),o},clickEventOfColumn:function(e,t){"communicationTypeName"==t.COLUMN_NAME&&this.$router.push({path:"/CRM/ManageCommunicationModes/"+e.modeTypeId+"/yes"})},FetchData:function(){var e=this.getRequestParams(this.search,this.pageSize,this.pageNum,this.sortBy,this.sortExp),t=this;this.isLoading=!0,e.pageSize=t.PageSize,e.pageNum=t.PageNumber,e.search="",t.PageNumber?e.pageNum=t.PageNumber:t.PageNumber=e.pageNum=1,e.sortBy=t.SortBy,e.sortExp=t.SortExp,o["a"].GetCommunicationModesList(e).then((function(e){t.isLoading=!1,""!=e.data&&null!=e.data?e.data.result.length>0?(t.CommunicationModesData=e.data.result,t.CommunicationModesData.forEach((function(e){e.rowDetailsUrl="",""==e.rowDetailsUrl&&(e.rowDetailsUrl="/CRM/ManageCommunicationModes/"+e.modeTypeId+"/yes")})),t.TotalRecords=e.data.result[0].total,t.TotalPages=Math.ceil(e.data.result[0].total/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1):(t.noRecord=!0,t.CommunicationModesData=[],t.TotalRecords=0):(t.noRecord=!0,t.CommunicationModesData=[],t.Headers=[],t.TotalRecords=0),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1}))},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},sortdata:function(e){var t="sort tb_headerSortDown";this.SortBy=e,e===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",t="sort tb_headerSortUp"):(this.SortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),h()("#"+e+"  span:first-child").attr("class",t)},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"BulkStatusUpdate(1001)":this.BulkStatusUpdate(1001);break;case"BulkStatusUpdate(1002)":this.BulkStatusUpdate(1002);break}},commonDeleteData:function(e){var t=this,a="";h()(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=h()(this).val()}));var s="";a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("CommunicationModes"),(function(){s+=a+",",o["a"].CommunicationModesDelete("?ids="+s).then((function(e){var a="";"success"==e.data?(h()("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),h()(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),h()("[id^='ChangeOwnerId']").removeClass("enable").addClass("disabled"),h()("[id^='AdditionalOwnerId']").removeClass("enable").addClass("disabled"),h()("[id^='CloseLeadId']").removeClass("enable").addClass("disabled"),h()("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),a=t.ShowAlert(t.$t("DeletedSuccessfully",[t.$t("CommunicationModes")]),"success",!0,t.$t("Alert")),t.PageNumber=parseInt(t.PageNumber)-1,t.PageNumber<=0&&(t.PageNumber=1),t.FetchData()):a=t.ShowAlert(t.$t("DeletedError",[t.$t("CommunicationModes")]),"failure",!0,t.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete"),"warning",!0,t.$t("Alert"))},DrpdownUpdataStatus:function(e,t){var a=this,s="?id="+e+"&statusId="+t;o["a"].CommunicationModesUpdateStatus(s).then((function(e){"success"==e.data.status?(h()("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),h()(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),h()("[id^='ChangeOwnerId']").removeClass("enable").addClass("disabled"),h()("[id^='AdditionalOwnerId']").removeClass("enable").addClass("disabled"),h()("[id^='CloseLeadId']").removeClass("enable").addClass("disabled"),h()("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),a.FetchData(),alert(a.$t("DeletedSuccess"),a.$t("CommunicationModes"))):alert(a.$t("DeletedError"),a.$t("CommunicationModes"))}))},BulkStatusUpdate:function(e){var t=this,a="";h()(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=h()(this).val()}));var s="";a.length>0?t.confirmR(t.$t("StatusChange"),!0,t.$t("CommunicationModes"),(function(){s+=a+",";var i="?id="+s+"&statusId="+e;o["a"].CommunicationModesUpdateStatus(i).then((function(e){var a="";"success"==e.data.status?(h()("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),h()(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),h()("[id^='ChangeOwnerId']").removeClass("enable").addClass("disabled"),h()("[id^='AdditionalOwnerId']").removeClass("enable").addClass("disabled"),h()("[id^='CloseLeadId']").removeClass("enable").addClass("disabled"),h()("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),t.FetchData(),a=t.ShowAlert(t.$t("StatusChangeSuccess"))):a=t.ShowAlert(t.$t("StatusChangeError")),setTimeout((function(){a.modal("hide")}),2e3)}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete"),"warning",!0,t.$t("Alert"))},SearchMode:function(e){var t=""!=e.searchCondition?e.searchCondition.split("%")[1].split("%")[0]:e.searchCondition="",a=this.getRequestParams(this.search,this.pageSize,this.pageNum,this.sortBy,this.sortExp),s=this;this.isLoading=!0,a.pageSize=s.PageSize,a.pageNum=s.PageNumber,a.search=t,s.PageNumber?a.pageNum=s.PageNumber:s.PageNumber=a.pageNum=1,a.sortBy=s.SortBy,a.sortExp=s.SortExp,o["a"].GetCommunicationModesList(a).then((function(e){s.isLoading=!1,200==e.status?(s.CommunicationModesData=e.data.result,s.TotalRecords=e.data.result.length,s.TotalPages=Math.ceil(s.TotalRecords/s.PageSize),s.CurrentPage=s.PageNumber,s.noRecord=!1):(s.noRecord=!0,s.CommunicationModesData=[],s.TotalRecords=0),setTimeout((function(){s.ResponsiveDataTable("tablelistingdata")}),500)}))},RefreshSearch:function(e){this.FetchData()}}},C=m,S=a("2877"),p=Object(S["a"])(C,s,i,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=CommunicationmodeList.js.map