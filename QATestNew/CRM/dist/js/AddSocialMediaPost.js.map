{"version":3,"sources":["webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue?7ebb","webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue?b133","webpack:///./src/assets/common/CKEditorFileRendor.js","webpack:///./src/components/Common/Modal/modalScheduleAndApprovePost.vue?b4ec","webpack:///src/components/Common/Modal/modalScheduleAndApprovePost.vue","webpack:///./src/components/Common/Modal/modalScheduleAndApprovePost.vue?5363","webpack:///./src/components/Common/Modal/modalScheduleAndApprovePost.vue","webpack:///src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue","webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue?d6b4","webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue","webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue?9627","webpack:///./node_modules/core-js/modules/web.atob.js","webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue?be8a"],"names":["content","__esModule","default","module","i","locals","exports","add","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","on","$event","BackToList","ref","buttons","FormSchema","scopedSlots","_u","key","fn","data","editor","onReady","model","value","fieldInfo","callback","$$v","$set","expression","error","saveForm","SchedulePost","staticStyle","_e","_m","domProps","Data","_l","imgSrc","base64String","ScheduleData","reqFrom","isShowScheduleApproveModal","staticRenderFns","UploadAdapter","loader","Promise","resolve","reject","reader","window","FileReader","addEventListener","result","err","file","then","readAsDataURL","$emit","onSubmit","props","type","required","isLoaded","layoutType","astype","label","name","placeholder","config","format","minDate","onChange","validationRules","visibility","mode","options","class","text","onClick","created","vm","methods","FetchData","vueObj","timeString","currentDate","year","month","day","timeParts","hours","parseInt","minutes","seconds","convertedDate","formattedDate","Close","onChangeDate","selectedDate","item","x","GetCampaignApprovers","url","DataServices","Users","campDDLData","component","components","modalScheduleAndApprovePost","AllPages","editorConfig","extraPlugins","File","fileData","schedule","PostId","PageRouteId","approverData","isShowAdditionalBtns","scheduleDate","scheduleTime","approverId","approverNote","PageTitle","ContainerName","IsDraft","UserId","CompanyId","TagData","TagName","ModuleName","base64StringData","blobPath","SubModuleCode","showLabel","FieldIndex","maxSize","accept","fileType","iconClass","showSelectedFiles","showAddIcon","onAddButtonClick","multiple","DataService","response","ScheduleObjData","start_date","start_time","approver_id","note","attachmentName","attachmentPath","Posturl","fileObj","attachement_mime","fileName","userId","companyId","id","moduleName","subModuleCode","containerName","attachement_path","Editcampaign","divToRemove","mediaIcon","params","reqForm","isDraft","CustomFieldArray","ScheduleObj","approverObj","Content","tagValue","PageValue","obj","post_id","ref_page_id","campaign_owner_id","followup_content","category_id","tag_id","is_draft","schedule_date","schedule_time","approver","attachments","PostMessageAndTags","ref_Page_Title","draft_status","inputDate","inputTime","timeComponents","meridian","dateComponents","formattedDateString","differenceInMilliseconds","differenceInMinutes","Math","accountForPost","jsonObject","uploadAdapterPlugin","removeHTMLTags","GetPageList","GetCampaignOwners","CampaignOwnerData","GetTags","tagDDLData","GetCategories","Categories","catDDLData","GetBase64String","hideShowBtns","SaveSocialMediaPost","formData","JSON","Notificationobj","message","notificationFor","typeCode","referenceId","referenceId2","___CSS_LOADER_API_IMPORT___","push","$","getBuiltIn","uncurryThis","fails","toString","hasOwn","validateArgumentsLength","ctoi","disallowed","whitespaces","finalEq","$atob","fromCharCode","String","charAt","replace","exec","NO_SPACES_IGNORE","NO_ENCODING_CHECK","NO_ARG_RECEIVING_CHECK","WRONG_ARITY","length","global","enumerable","forced","atob","arguments","chr","bs","string","output","position","bc"],"mappings":"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CAT,qBACAC,0BACAC,gBACA5C,SACA6C,eACAC,QACAO,YAEAH,iBAAA,aACAC,eAEA,CACAT,mBACAC,yBACAC,eACA5C,SACA6C,eACAK,iBAAA,aACAC,kBAKA7D,SACA,CACAgD,cACAgB,wBACAC,oHAEA,CACAjB,cACAgB,uBACAC,8CACAC,uBAKAC,QApFA,WAoFA,6JACAC,EAAA,IACAA,6DAFA,gCAGA,cAHA,UAKAA,6BALA,uBAMAA,sCACAA,sCAPA,SAQAA,yBARA,OAUAA,cAVA,+CAYAC,SACAC,qBAAA,sKACAC,EAAA,KACA/B,EAAA+B,kBACAC,EAAAhC,aACAiC,EAAA,SACAC,EAAAD,gBACAE,EAAAF,aACAG,EAAAH,YACAI,EAAAL,aACAM,EAAAC,kBACAC,EAAAD,kBACAE,EAAAF,kBACAG,EAAA,sBACAC,EAAAD,aACAX,2CACAA,gCACAA,4CACAA,qCAjBA,sGAAAD,GAmBAxB,uBACA,WACAsB,mCACAA,mCACAA,gCACAA,iCACAA,8BACAA,kBAGAgB,MA9BA,WA+BA,WACAhB,kBAEAiB,aAlCA,SAkCAC,EAAAC,EAAAC,GACA,WACA,sBACApB,yCACAA,kCAGAqB,qBAzCA,WAyCA,mKACArB,EAAA,EACAsB,EAAA,6CAFA,SAGAC,kDACA,eACA,kBACA,KACA,UACAC,uBACAC,QACAvC,YACA5C,mBAGA0D,8CAdA,iDCnKmY,I,YCO/X0B,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCgGA,GACfC,YACAC,+BAEA1F,KAJA,WAKA,OACAC,2BACA0F,YACAzH,sCACA0H,cACAC,kBAEAC,UACAC,YACAC,YACAC,SACAC,cACA7E,gBACA8E,gBACA/E,kBACAgF,wBACA7E,8BACAD,WACA+E,kBACAC,kBACAC,aACAC,gBACAC,aACAC,mBACAC,WACAC,SACAC,YACAC,WACAC,WACAC,iBACAC,oBACAC,uDACAC,8BACAxH,YACA,CACAkD,oBACA5B,MACA,CACA6B,qBACAC,wBACAC,cACA5C,SACA6C,8BACAC,QACAO,YAEAH,iBAAA,cAEA,CACAR,qBACAC,qCACAC,2BACA5C,SACA6C,8BACAC,QACAO,YAEAH,iBAAA,gBAIA,CACAT,oBACA5B,MACA,CACA6B,mBACAC,yBACAC,eACA5C,SACA6C,eACAK,iBAAA,cAEA,CACAR,mBACAsE,aACArE,oCACAC,kBACA5C,SACA6C,eACAK,mBACA+D,aACAnE,QACAoE,UACAC,QACA,CACAC,eACAC,4BAEA,CACAD,gBACAC,4BAEA,CACAD,eACAC,4BAEA,CACAD,eACAC,6BAEA,CACAD,gBACAC,6BAEA,CACAD,eACAC,6BAEA,CACAD,eACAC,6BAEA,CACAD,eACAC,6BAEA,CACAD,eACAC,6BAEA,CACAD,eACAC,8BAIAC,qBACArE,8BACAsE,eACAC,oBACAC,cAGA,CACA/E,uBACAC,iCACAC,uBACA5C,SACA6C,eACAK,iBAAA,cAEA,CACAR,qBACAC,0BACAC,gBACA5C,SACA6C,qBACAC,QACAO,WAEAkE,gBAGArE,iBAAA,cAEA,CACAR,qBACAC,sBACAC,YACA5C,SACA6C,qBACAC,QACAO,YAEAH,iBAAA,iBAKA5D,SACA,CACAgD,cACAgB,6BACAC,qDACAvD,cACAwD,uBAEA,CACAlB,cACAgB,wBACAC,8DACAC,8BAKAC,QA/LA,WA+LA,6JACAC,EAAA,EACAA,wCACAA,oCACAA,4CACAA,0BACAA,oCACAA,iEACAA,0DARA,kCASA,iBATA,iDAWA,cAXA,yBAaAA,gBAbA,yBAcAA,sBAdA,yBAeAA,YAfA,yBAgBAA,kBAhBA,QAiBAA,qCAjBA,+CAmBAC,SACAC,qBAAA,uJACAC,EAAA,KACAA,uBACAmB,EAHA,aAGAnB,eAHA,SAIA6D,6CAAA,wJACAC,yBADA,sBAEAA,sBAFA,oBAGA7F,EAAA6F,eACA9D,4CACAA,kDACAA,wCACAA,iDACAA,4CACAA,uCAEA+D,EAAA,CACAC,wBACAC,wBACAC,0BACAC,aAEAnE,uBACA/B,yBAlBA,wBAmBA+B,uDACAoE,kCACAC,uEAEAC,EAvBA,eAuBArG,oBAvBA,UAwBA4F,4CACA7D,6BAzBA,QA2BAuE,EAAA,CACAC,oCACAC,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","file":"js/AddSocialMediaPost.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPost.vue?vue&type=style&index=0&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"528881b0\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"container-fluid mt-3 tab-style plaintabs\"},[_c('div',{staticClass:\"col-md-12 p-0 mt-2\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(_vm._s(_vm.$t('NewSocialPost')))]),_c('span',{staticClass:\"p-actions float-right\"},[_c('a',{staticClass:\"p-action-btn text-white\",attrs:{\"href\":\"javascript:;\",\"value\":\"cal\",\"id\":\"ShowCalender\",\"title\":\"\",\"data-toggle-tooltip\":\"tooltip\",\"data-original-title\":\"Back to List\"},on:{\"click\":function($event){return _vm.BackToList()}}},[_c('i',{staticClass:\"fa fa-angle-double-left pr-2\"}),_c('br'),_c('span',[_vm._v(\" Back to List\")])])])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 p-0 mt-2 float-left\"},[_c('div',{staticClass:\"col-sm-12 col-md-6 p-0 float-left position-relative\"},[_c('Form',{ref:\"AddPost\"},[_c('dynamic-form',{ref:\"AddPostForm\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},scopedSlots:_vm._u([{key:\"tgslot-Content\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('ckeditor',{attrs:{\"editor\":_vm.editor},on:{\"ready\":_vm.onReady},model:{value:(data.fieldInfo.value),callback:function ($$v) {_vm.$set(data.fieldInfo, \"value\", $$v)},expression:\"data.fieldInfo.value\"}}),_c('span',{staticClass:\"invalid-feedback d-block\",attrs:{\"name\":\"Content\"}},[_vm._v(_vm._s(data.error))])]}}])}),(_vm.isShowAdditionalBtns)?_c('div',{staticClass:\"col-12 float-left mt-3 modal-post\"},[_c('div',{staticClass:\"float-left border bg-white\"},[_c('a',{staticClass:\"float-left d-flex p-2 borderbottom w-100\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.saveForm('PostNow')}}},[_c('div',{staticClass:\"float-left d-block\"},[_c('em',{staticClass:\"fa fa-paper-plane text-info p-3 font-24\"})]),_c('div',{staticClass:\"float-left mt-2 ml-2\"},[_c('span',{staticClass:\"w-100 float-left font-weight-medium\"},[_vm._v(\"Post Now\")]),_c('span',{staticClass:\"w-100 float-left font-12 font-weight-medium\"},[_vm._v(\"Send out this post to the selected social channels/accounts.\")])])]),_c('a',{staticClass:\"float-left d-flex p-2 borderbottom w-100\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.SchedulePost('SchedulePost')}}},[_c('div',{staticClass:\"float-left d-block\"},[_c('em',{staticClass:\"fa fa-clock-o p-3 font-24\",staticStyle:{\"color\":\"#1dbdac\"}})]),_c('div',{staticClass:\"float-left mt-2 ml-2\"},[_c('span',{staticClass:\"w-100 float-left font-weight-medium\"},[_vm._v(\"Schedule Post\")]),_c('span',{staticClass:\"w-100 float-left font-12 font-weight-medium\"},[_vm._v(\"Schedule a post for a later date or time.\")])])]),_c('a',{staticClass:\"float-left d-flex p-2 borderbottom w-100\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.SchedulePost('SendForApproval')}}},[_c('div',{staticClass:\"float-left d-block\"},[_c('em',{staticClass:\"fa fa-check-circle text-success p-3 font-24\"})]),_c('div',{staticClass:\"float-left mt-2 ml-2\"},[_c('span',{staticClass:\"w-100 float-left font-weight-medium\"},[_vm._v(\"Send Post For Approval\")]),_c('span',{staticClass:\"w-100 float-left font-12 font-weight-medium\"},[_vm._v(\"Send for approval first with in your agency or organisation.\")])])]),_c('a',{staticClass:\"float-left d-flex p-2 w-100\",attrs:{\"href\":\"javascript:;\"}},[_c('div',{staticClass:\"float-left d-block\"},[_c('em',{staticClass:\"fa fa-trash text-danger p-3 font-24\"})]),_c('div',{staticClass:\"float-left mt-2 ml-2\"},[_c('span',{staticClass:\"w-100 float-left font-weight-medium\"},[_vm._v(\"Delete\")]),_c('span',{staticClass:\"w-100 float-left font-12 font-weight-medium\"},[_vm._v(\"Delete this post forever.\")])])])])]):_vm._e()],1)],1),_c('div',{staticClass:\"col-sm-12 col-md-6 p-0 float-left bg-light p-4\"},[_c('div',{staticClass:\"col-12 bg-white p-2\"},[_vm._m(0),_c('div',{staticClass:\"col-12 bg-light p-2 mt-2\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.FormSchema[1].Data[0].value)}}),_vm._l((_vm.fileData),function(imgSrc){return _c('img',{attrs:{\"src\":'data:image/gif;base64,' + imgSrc.base64String}})})],2)])])])]),(_vm.isShowScheduleApproveModal)?_c('modalScheduleAndApprovePost',{attrs:{\"ScheduleData\":_vm.ScheduleData,\"reqFrom\":_vm.reqFrom},on:{\"close\":function($event){_vm.isShowScheduleApproveModal = false}}}):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 bg-light p-2\"},[_c('span',[_vm._v(\"Preview in\")]),_c('span',{staticClass:\"tablelist_icos fb_icos\"})])}]\n\nexport { render, staticRenderFns }","export default class UploadAdapter\r\n{\r\n    constructor (loader)\r\n    {\r\n        // The file loader instance to use during the upload.\r\n        this.loader = loader;\r\n    }\r\n\r\n    // Starts the upload process.\r\n    upload ()\r\n    {\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const reader = new window.FileReader();\r\n\r\n            reader.addEventListener('load', () =>\r\n            {\r\n                resolve({'default': reader.result});\r\n            });\r\n\r\n            reader.addEventListener('error', err =>\r\n            {\r\n                reject(err);\r\n            });\r\n\r\n            reader.addEventListener('abort', () =>\r\n            {\r\n                reject();\r\n            });\r\n\r\n            this.loader.file.then(file =>\r\n            {\r\n                reader.readAsDataURL(file);\r\n            });\r\n        });\r\n    }\r\n\r\n    // Aborts the upload process.\r\n    abort ()\r\n    {\r\n         //\r\n    }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"modal my-popups  fade show\",staticStyle:{\"display\":\"block\"},attrs:{\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog mw-1100\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header mheader-user\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})]),_c('h4',{staticClass:\"modal-title\",attrs:{\"id\":\"myModalLabel\"}},[_vm._v(_vm._s(_vm.$t(_vm.reqFrom)))])]),_c('div',{staticClass:\"modal-body\"},[(_vm.isLoaded)?_c('dynamic-form',{attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.onSubmit}}):_vm._e(),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"py-2\"},[_c('span',{staticClass:\"mandatory\"},[_vm._v(\" \"+_vm._s(_vm.$t('MandatoryString'))+\" \")])])])],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section>\r\n        <div class=\"modal my-popups  fade show\" role=\"dialog\" style=\"display: block;\">\r\n            <div class=\"modal-dialog mw-1100\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header mheader-user\">\r\n                        <button type=\"button\" class=\"close\" @click=\"$emit('close')\"><i class=\"fa fa-times\"\r\n                                aria-hidden=\"true\"></i></button>\r\n                        <h4 id=\"myModalLabel\" class=\"modal-title\">{{ $t(reqFrom) }}</h4>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <dynamic-form v-if=\"isLoaded\" lang=\"en\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"onSubmit\" />\r\n                        <div class=\"col-lg-6\">\r\n                            <div class=\"py-2\">\r\n                                <span class=\"mandatory\"> {{$t('MandatoryString')}} </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataServices from \"../../../services/DataService\";\r\nexport default {\r\n    props:{\r\n        reqFrom:  {\r\n            type: String,\r\n            required: true\r\n        },\r\n        ScheduleData:  {\r\n            type: Object,\r\n            required: true\r\n        },\r\n    },\r\n    data(){\r\n        return{\r\n            isLoaded:false,\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"double\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"DateField\",\r\n                            label: \"Start Date (M/D/YYYY)\",\r\n                            name: \"StartDate\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                format: \"M/D/YYYY\",\r\n                                minDate:new Date(),\r\n                                onChange: this.onChangeDate\r\n                            },\r\n                            validationRules: {\"required\": true},\r\n                            visibility: true,\r\n                        },\r\n                        {\r\n                            astype: \"DateField\",\r\n                            label: this.$t('StartTime'),\r\n                            name: \"StartTime\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                mode: 'Time',\r\n                                minDate:new Date()\r\n                            },\r\n                            validationRules: {\"required\": true},\r\n                            visibility: true,\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Approver'),\r\n                            name: \"Approver\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                options: [],\r\n                            },\r\n                            validationRules: {\"required\": true},\r\n                            visibility: false,\r\n                        },\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('AddNote'),\r\n                            name: \"AddNote\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: { \"required\": false },\r\n                            visibility: false,\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success\",\r\n                    text: this.reqFrom=='SchedulePost' ? \"Schedule Post\" :'<i class=\"fa fa-clock-o pr-2\"></i>Schedule & Send For Approval'\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i>Cancel\",\r\n                    onClick: this.Close\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    async created(){\r\n        var vm = this;\r\n        if (vm.ScheduleData.length > 0 && vm.ScheduleData[0].start_date !=null) {\r\n            await this.FetchData();\r\n        }\r\n        if(vm.reqFrom=='SendForApproval'){\r\n            vm.FormSchema[0].Data[2].visibility=true;\r\n            vm.FormSchema[0].Data[3].visibility=true;\r\n            await vm.GetCampaignApprovers();\r\n        }\r\n        vm.isLoaded = true;\r\n    },\r\n    methods: {\r\n        FetchData: async function () {\r\n            var vueObj = this;\r\n            var result = vueObj.ScheduleData[0];\r\n            var timeString = result.start_time;\r\n            var currentDate = new Date();\r\n            var year = currentDate.getFullYear();\r\n            var month = currentDate.getMonth();\r\n            var day = currentDate.getDate();\r\n            var timeParts = timeString.split(':');\r\n            var hours = parseInt(timeParts[0], 10);\r\n            var minutes = parseInt(timeParts[1], 10);\r\n            var seconds = parseInt(timeParts[2], 10);\r\n            var convertedDate = new Date(year, month, day, hours, minutes, seconds);\r\n            var formattedDate = convertedDate.toString();\r\n            (vueObj.FormSchema)[0].Data[0].value = result.start_date;\r\n            (vueObj.FormSchema)[0].Data[1].value = formattedDate;\r\n            (vueObj.FormSchema)[0].Data[2].value = result.approver_id;\r\n            (vueObj.FormSchema)[0].Data[3].value = result.note;\r\n        },\r\n        onSubmit: function (formfields, values) {\r\n            var vm = this;\r\n            vm.$parent.scheduleDate = formfields.StartDate;\r\n            vm.$parent.scheduleTime =formfields.StartTime;\r\n            vm.$parent.approverId=formfields.Approver;\r\n            vm.$parent.approverNote=formfields.AddNote;\r\n            vm.$parent.saveForm(vm.reqFrom);\r\n            vm.$emit('close');\r\n\r\n        },\r\n        Close(){\r\n            var vm =this;\r\n            vm.$emit('close');\r\n        },\r\n        onChangeDate(selectedDate, item, x){\r\n            var vm = this;\r\n             if(item.name=='StartDate'){\r\n                vm.FormSchema[0].Data[0].config.minDate=selectedDate;\r\n                vm.FormSchema[0].Data[1].value=selectedDate;\r\n            }\r\n        },\r\n        async GetCampaignApprovers() {\r\n            var vm = this;\r\n            var url = \"id=&moduleName=CRM&type=CRM_APPROVER_USERS\";\r\n            await DataServices.getDDLData(url + \"&search=\").then(response => {\r\n                if (response.data != '') {\r\n                    var Users = response.data.DATA;\r\n                    var campDDLData = [];\r\n                    if (Users != null) {\r\n                        Users.forEach(x => {\r\n                            campDDLData.push({\r\n                                name: x.name,\r\n                                value: x.value\r\n                            })\r\n                        })\r\n                        vm.FormSchema[0].Data[2].config.options = Users;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalScheduleAndApprovePost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalScheduleAndApprovePost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modalScheduleAndApprovePost.vue?vue&type=template&id=2c91c176&\"\nimport script from \"./modalScheduleAndApprovePost.vue?vue&type=script&lang=js&\"\nexport * from \"./modalScheduleAndApprovePost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <section>\r\n        <div class=\"container-fluid mt-3 tab-style plaintabs\">\r\n\r\n\r\n\r\n            <div class=\"col-md-12 p-0 mt-2\">\r\n                <div class=\"theme-primary partition-full\">\r\n                    <span class=\"p-name text-white\">{{ $t('NewSocialPost') }}</span>\r\n                    <span class=\"p-actions float-right\">\r\n                        <a href=\"javascript:;\" value=\"cal\" id=\"ShowCalender\" v-on:click=\"BackToList()\"\r\n                            class=\"p-action-btn text-white\" title=\"\" data-toggle-tooltip=\"tooltip\"\r\n                            data-original-title=\"Back to List\"><i class=\"fa fa-angle-double-left pr-2\"></i><br /><span> Back\r\n                                to List</span></a>\r\n                    </span>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12 p-0 mt-2 float-left\">\r\n                    <div class=\"col-sm-12 col-md-6 p-0 float-left position-relative\">\r\n                        <Form ref=\"AddPost\">\r\n                            <dynamic-form ref=\"AddPostForm\" lang=\"en\" :buttons=\"buttons\" :schema=\"FormSchema\">\r\n                                <!-- v-on:OnSubmit=\"onSubmit\"-->\r\n                                <template v-slot:tgslot-Content=\"{ data }\">\r\n                                    <ckeditor :editor=\"editor\" @ready=\"onReady\" v-model=\"data.fieldInfo.value\"></ckeditor>\r\n                                    <!--:config=\"editorConfig\"-->\r\n                                    <span name=\"Content\" class=\"invalid-feedback d-block\">{{ data.error }}</span>\r\n                                </template>\r\n                            </dynamic-form>\r\n                            <div v-if=\"isShowAdditionalBtns\" class=\"col-12 float-left mt-3 modal-post\">\r\n                                <div class=\"float-left border bg-white\">\r\n\r\n                                    <a href=\"javascript:;\" v-on:click=\"saveForm('PostNow')\"\r\n                                        class=\"float-left d-flex p-2 borderbottom w-100\">\r\n                                        <div class=\"float-left d-block\">\r\n                                            <em class=\"fa fa-paper-plane text-info p-3 font-24\"></em>\r\n                                        </div>\r\n                                        <div class=\"float-left mt-2 ml-2\">\r\n                                            <span class=\"w-100 float-left font-weight-medium\">Post Now</span>\r\n                                            <span class=\"w-100 float-left font-12 font-weight-medium\">Send out this post to\r\n                                                the selected social channels/accounts.</span>\r\n                                        </div>\r\n                                    </a>\r\n\r\n                                    <a href=\"javascript:;\" v-on:click=\"SchedulePost('SchedulePost')\"\r\n                                        class=\"float-left d-flex p-2 borderbottom w-100\">\r\n                                        <div class=\"float-left d-block\">\r\n                                            <em class=\"fa fa-clock-o p-3 font-24\" style=\"color:#1dbdac\"></em>\r\n                                        </div>\r\n                                        <div class=\"float-left mt-2 ml-2\">\r\n                                            <span class=\"w-100 float-left font-weight-medium\">Schedule Post</span>\r\n                                            <span class=\"w-100 float-left font-12 font-weight-medium\">Schedule a post for a\r\n                                                later date or time.</span>\r\n                                        </div>\r\n                                    </a>\r\n\r\n                                    <a href=\"javascript:;\" v-on:click=\"SchedulePost('SendForApproval')\"\r\n                                        class=\"float-left d-flex p-2 borderbottom w-100\">\r\n                                        <div class=\"float-left d-block\">\r\n                                            <em class=\"fa fa-check-circle text-success p-3 font-24\"></em>\r\n                                        </div>\r\n                                        <div class=\"float-left mt-2 ml-2\">\r\n                                            <span class=\"w-100 float-left font-weight-medium\">Send Post For Approval</span>\r\n                                            <span class=\"w-100 float-left font-12 font-weight-medium\">Send for approval\r\n                                                first with in your agency or organisation.</span>\r\n                                        </div>\r\n                                    </a>\r\n\r\n                                    <a href=\"javascript:;\" class=\"float-left d-flex p-2 w-100\">\r\n                                        <div class=\"float-left d-block\">\r\n                                            <em class=\"fa fa-trash text-danger p-3 font-24\"></em>\r\n                                        </div>\r\n                                        <div class=\"float-left mt-2 ml-2\">\r\n                                            <span class=\"w-100 float-left font-weight-medium\">Delete</span>\r\n                                            <span class=\"w-100 float-left font-12 font-weight-medium\">Delete this post\r\n                                                forever.</span>\r\n                                        </div>\r\n                                    </a>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </Form>\r\n                    </div>\r\n\r\n                    <div class=\"col-sm-12 col-md-6 p-0 float-left bg-light p-4\">\r\n\r\n                            <div class=\"col-12 bg-white p-2\">\r\n                                <div class=\"col-12 bg-light p-2\">\r\n                                    <span>Preview in</span>\r\n                                    <span class=\"tablelist_icos fb_icos\"></span>\r\n                                </div>\r\n                                \r\n\r\n                                <div class=\"col-12 bg-light p-2 mt-2\">\r\n                                    <span v-html=\"FormSchema[1].Data[0].value\"></span>\r\n                                    <img v-for=\"imgSrc in fileData\"\r\n                                    v-bind:src=\"'data:image/gif;base64,' + imgSrc.base64String\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <modalScheduleAndApprovePost v-if=\"isShowScheduleApproveModal\" :ScheduleData=\"ScheduleData\" :reqFrom=\"reqFrom\"\r\n                @close=\"isShowScheduleApproveModal = false\"></modalScheduleAndApprovePost>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../../services/DataService';\r\nimport UploadAdapter from '../../../../assets/common/CKEditorFileRendor';\r\nimport modalScheduleAndApprovePost from '../../../../components/Common/Modal/modalScheduleAndApprovePost.vue';\r\nexport default {\r\n    components: {\r\n        modalScheduleAndApprovePost\r\n    },\r\n    data() {\r\n        return {\r\n            editor: this.CLASSIC_EDITOR,\r\n            AllPages: [],\r\n            content: \"<p>Some initial content</p>\",\r\n            editorConfig: {\r\n                extraPlugins: [uploader],\r\n            },\r\n            File: null,\r\n            fileData: [],\r\n            schedule: [],\r\n            PostId: 0,\r\n            PageRouteId: 0,\r\n            ScheduleData: [],\r\n            approverData: [],\r\n            base64String: null,\r\n            isShowAdditionalBtns: false,\r\n            isShowScheduleApproveModal: false,\r\n            reqFrom: '',\r\n            scheduleDate: null,\r\n            scheduleTime: null,\r\n            approverId: 0,\r\n            approverNote: '',\r\n            PageTitle: '',\r\n            ContainerName: null,\r\n            IsDraft: '',\r\n            UserId: 0,\r\n            CompanyId: 0,\r\n            TagData: [],\r\n            TagName: '',\r\n            ModuleName: 'CRM',\r\n            base64StringData: '',\r\n            blobPath: 'https://cogniterblob.blob.core.windows.net/',\r\n            SubModuleCode: 'CRM_POST_SENT',\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"double\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('PostTo'),\r\n                            name: \"PostTo\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('Select'),\r\n                            config: {\r\n                                options: []\r\n                            },\r\n                            validationRules: { \"required\": true }\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('AssignCampaignOwner'),\r\n                            name: 'AssignCampaignOwner',\r\n                            value: \"\",\r\n                            placeholder: this.$t('Select'),\r\n                            config: {\r\n                                options: []\r\n                            },\r\n                            validationRules: { \"required\": true }\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"SlotField\",\r\n                            label: this.$t('Content'),\r\n                            name: \"Content\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: { \"required\": true }\r\n                        },\r\n                        {\r\n                            astype: \"FileField\",\r\n                            showLabel: true,\r\n                            label: this.$t('Upload Imgae/Video'),\r\n                            name: \"Attachment\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: \"\",\r\n                            FieldIndex: 0,\r\n                            config: {\r\n                                maxSize: 1,\r\n                                accept: [\r\n                                    {\r\n                                        fileType: 'doc', // Document type\r\n                                        iconClass: 'fa-file-word-o' // Icon class for documents\r\n                                    },\r\n                                    {\r\n                                        fileType: 'docx', // Document type\r\n                                        iconClass: 'fa-file-word-o' // Icon class for documents\r\n                                    },\r\n                                    {\r\n                                        fileType: 'txt', // Text file type\r\n                                        iconClass: 'fa-file-text-o' // Icon class for text files\r\n                                    },\r\n                                    {\r\n                                        fileType: 'jpg', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'jpeg', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'png', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'gif', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'bmp', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'mp4', // Video types\r\n                                        iconClass: 'fa-file-video-o' // Icon class for videos\r\n                                    },\r\n                                    {\r\n                                        fileType: 'mov', // Video types\r\n                                        iconClass: 'fa-file-video-o' // Icon class for videos\r\n                                    },\r\n                                    // Add more image, document, text, and video types as needed\r\n                                ],\r\n                                showSelectedFiles: [],\r\n                                onChange: this.GetBase64String,\r\n                                showAddIcon: false,\r\n                                onAddButtonClick: \"\",\r\n                                multiple: false\r\n                            },\r\n                        },\r\n                        {\r\n                            astype: \"TextAreaField\",\r\n                            label: this.$t('FollowUpComment'),\r\n                            name: \"FollowUpComment\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: { \"required\": false }\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Category'),\r\n                            name: \"Category\",\r\n                            value: \"\",\r\n                            placeholder: \"Select\",\r\n                            config: {\r\n                                options: [],\r\n                                //onChange: this.onChangeProfile,\r\n                                showAddIcon: true,\r\n                                //onAddButtonClick: this.AddSMTPCredentials,\r\n                            },\r\n                            validationRules: { \"required\": false },\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Tags'),\r\n                            name: \"Tags\",\r\n                            value: \"\",\r\n                            placeholder: \"Select\",\r\n                            config: {\r\n                                options: [],\r\n                            },\r\n                            validationRules: { \"required\": false },\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success save\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Save for Later\",\r\n                    value: \"Draft\",\r\n                    onClick: this.saveForm\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-primary\",\r\n                    text: \"Post<i class='fa fa-angle-double-right pl-2 pr-2'></i>\",\r\n                    onClick: this.hideShowBtns\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    async created() {\r\n        var vm = this;\r\n        vm.FormSchema[1].Data[0].value = vm.content;\r\n        vm.CompanyId = vm.GetUserInfo.CompanyId;\r\n        vm.ContainerName = vm.GetUserInfo.ContainerName;\r\n        vm.UserId = vm.GetUserInfo.ID;\r\n        vm.PreviousId = this.$route.params.PrevId;\r\n        vm.PageRouteId = this.$route.params.id == 0 ? 0 : atob(this.$route.params.id);\r\n        if (vm.PageRouteId > 0 && this.$route.params.reqForm == 'Editcampaign') {\r\n            await this.Editcampaign();\r\n        } else {\r\n            await this.FetchData();\r\n        }\r\n        await vm.GetPageList();\r\n        await vm.GetCampaignOwners();\r\n        await vm.GetTags();\r\n        await vm.GetCategories();\r\n        vm.$refs.AddPostForm.UpdateKeyValue();\r\n    },\r\n    methods: {\r\n        FetchData: async function () {\r\n            var vueObj = this;\r\n            vueObj.PostId = vueObj.PageRouteId;\r\n            var url = `id=${vueObj.PageRouteId}`;\r\n            await DataService.GetSocialMediaPost(url).then(async function (response) {\r\n                if (response.data != null && response.data != \"\") {\r\n                    if (response.data.data.length > 0) {\r\n                        var result = response.data.data[0];\r\n                        (vueObj.FormSchema)[0].Data[0].value = result.ref_page_id;\r\n                        (vueObj.FormSchema)[0].Data[1].value = result.campaign_owner_id;\r\n                        (vueObj.FormSchema)[1].Data[0].value = result.content;\r\n                        (vueObj.FormSchema)[1].Data[2].value = result.followup_content;\r\n                        (vueObj.FormSchema)[1].Data[3].value = result.category_id;\r\n                        (vueObj.FormSchema)[1].Data[4].value = result.tag_id;\r\n\r\n                        var ScheduleObjData = {\r\n                            start_date: result.start_date,\r\n                            start_time: result.start_time,\r\n                            approver_id: result.approver_id,\r\n                            note: result.note,\r\n                        };\r\n                        vueObj.ScheduleData.push(ScheduleObjData);\r\n                        if (result.attachement_path != null) {\r\n                            vueObj.FormSchema[1].Data[1].config.showSelectedFiles.push({\r\n                                attachmentName: result.attachement_name,\r\n                                attachmentPath: vueObj.blobPath + '/' + vueObj.containerName + '/' + result.attachement_path,\r\n                            });\r\n                            var Posturl = `path=${result.attachement_path}`;\r\n                            await DataService.GetBase64String(Posturl).then(function (response) {\r\n                                vueObj.base64StringData = response.data;\r\n                            })\r\n                            var fileObj = {\r\n                                attachement_mime: result.attachement_mime,\r\n                                fileName: result.attachement_name,\r\n                                userId: vueObj.UserId,\r\n                                companyId: vueObj.CompanyId,\r\n                                id: 0,\r\n                                moduleName: vueObj.ModuleName,\r\n                                subModuleCode: vueObj.SubModuleCode,\r\n                                containerName: vueObj.ContainerName,\r\n                                base64String: vueObj.base64StringData,\r\n                                attachement_path: ''\r\n                            };\r\n                            vueObj.fileData.push(fileObj);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        Editcampaign: async function () {\r\n            var vueObj = this;\r\n            var url = `id=${vueObj.PageRouteId}`;\r\n            await DataService.GetCampaignData(url).then(async function (response) {\r\n                if (response.data != null && response.data != \"\") {\r\n                    if (response.data.data.length > 0) {\r\n                        var result = '';\r\n                        if (vueObj.PreviousId > 0) {\r\n                            result = response.data.data;\r\n                            response.data.data.forEach((item, index) => {\r\n                                if (item.MainId == vueObj.PreviousId) {\r\n                                    result = response.data.data[index];\r\n                                }\r\n                            })\r\n                        } else {\r\n                            result = response.data.data[response.data.data.length - 1];\r\n                        }\r\n                        vueObj.IsDraft = result.is_draft;\r\n                        if (result.is_draft == false) {\r\n                            vueObj.buttons[0].class += \" disabled\";\r\n                            vueObj.buttons[1].class += \" disabled\";\r\n                        }\r\n                        vueObj.PostId = result.PostId == null ? result.MainId : result.PostId;\r\n                        (vueObj.FormSchema)[0].Data[0].value = result.ref_page_id;\r\n                        (vueObj.FormSchema)[0].Data[1].value = result.campaign_owner_id;\r\n                        (vueObj.FormSchema)[1].Data[0].value = result.content;\r\n                        (vueObj.FormSchema)[1].Data[2].value = result.followup_content;\r\n                        (vueObj.FormSchema)[1].Data[3].value = result.category_id;\r\n                        (vueObj.FormSchema)[1].Data[4].value = result.tag_id;\r\n\r\n                        var ScheduleObjData = {\r\n                            start_date: result.start_date,\r\n                            start_time: result.start_time,\r\n                            approver_id: result.approver_id,\r\n                            note: result.note,\r\n                        };\r\n                        vueObj.ScheduleData.push(ScheduleObjData);\r\n                        if (result.attachement_path != null) {\r\n                            vueObj.FormSchema[1].Data[1].config.showSelectedFiles.push({\r\n                                attachmentName: result.attachement_name,\r\n                                attachmentPath: vueObj.blobPath + '/' + vueObj.containerName + '/' + result.attachement_path,\r\n                            });\r\n                            var Posturl = `path=${result.attachement_path}`;\r\n                            await DataService.GetBase64String(Posturl).then(function (response) {\r\n                                vueObj.base64StringData = response.data;\r\n                            })\r\n                            var fileObj = {\r\n                                attachement_mime: result.attachement_mime,\r\n                                fileName: result.attachement_name,\r\n                                userId: vueObj.UserId,\r\n                                companyId: vueObj.CompanyId,\r\n                                id: 0,\r\n                                moduleName: vueObj.ModuleName,\r\n                                subModuleCode: vueObj.SubModuleCode,\r\n                                containerName: vueObj.ContainerName,\r\n                                base64String: vueObj.base64StringData,\r\n                                attachement_path: ''\r\n                            };\r\n                            vueObj.fileData.push(fileObj);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        onReady(editor) {\r\n            editor.ui.getEditableElement().parentElement.insertBefore(\r\n                editor.ui.view.toolbar.element,\r\n                editor.ui.getEditableElement()\r\n            );\r\n            var divToRemove = document.querySelector('.ck-file-dialog-button');\r\n            divToRemove.remove(); //for image remove\r\n            let mediaIcon = document.getElementsByClassName('ck-dropdown')[2]\r\n            mediaIcon.remove();   // for video icon remove\r\n        },\r\n        BackToList: function () {\r\n            this.$router.push({ name: \"CRMCampaign\", params: { reqForm: 'AddPost' } });\r\n        },\r\n        saveForm(type) {\r\n            var vm = this;\r\n            if (typeof (type) == 'object') {\r\n                type = type.value;\r\n            }\r\n            let isDraft = false;\r\n            if (type == 'Draft') {\r\n                isDraft = true;\r\n            }\r\n            if (type == 'SchedulePost' && vm.IsDraft == false && vm.PostId != 0) {\r\n                vm.ShowAlert(vm.$t(\"AlreadyScheduled\"), 'failure', true, vm.$t('Alert'));\r\n                return false;\r\n            }\r\n            if (type == 'PostNow' && vm.IsDraft == false && vm.PostId != 0) {\r\n                vm.ShowAlert(vm.$t(\"AlreadyPostUploaded\"), 'failure', true, vm.$t('Alert'));\r\n                return false;\r\n            }\r\n            vm.$refs.AddPost.validate().then(async result => {\r\n                if (result) {\r\n                    var url = '';\r\n                    vm.schedule = [];\r\n                    vm.approverData = [];\r\n                    var CustomFieldArray = vm.$refs.AddPostForm.ConvertDynamicFormObjToCustomFieldObj(vm.FormSchema);\r\n                    if (type == \"SchedulePost\") {\r\n                        var ScheduleObj = {\r\n                            start_date: vm.scheduleDate ? vm.$options.filters.formatDate(vm.scheduleDate) : vm.scheduleDate,\r\n                            start_time: vm.scheduleTime ? vm.$options.filters.formatTime(vm.scheduleTime) : vm.scheduleTime,\r\n                        }\r\n                        vm.schedule.push(ScheduleObj);\r\n                    }\r\n                    if (type == \"SendForApproval\") {\r\n                        var approverObj = {\r\n                            start_date: vm.scheduleDate ? vm.$options.filters.formatDate(vm.scheduleDate) : vm.scheduleDate,\r\n                            start_time: vm.scheduleTime ? vm.$options.filters.formatTime(vm.scheduleTime) : vm.scheduleTime,\r\n                            approver_id: vm.approverId,\r\n                            note: vm.approverNote,\r\n                        }\r\n                        vm.approverData.push(approverObj);\r\n                    }\r\n                    var Content = vm.removeHTMLTags(CustomFieldArray.filter(x => x.field_name == 'Content')[0].field_value);\r\n                    var tagValue = CustomFieldArray.filter(x => x.field_name == 'Tags')[0].field_value;\r\n                    vm.TagData.forEach(function (item) {\r\n                        if (item.value == tagValue) {\r\n                            vm.TagName = item.name;\r\n                        }\r\n                    });\r\n                    var TagName = '';\r\n                    if (vm.TagName != '') {\r\n                        TagName = vm.TagName.replace(/\\s/g, '');\r\n                    }\r\n                    var PageValue = CustomFieldArray.filter(x => x.field_name == 'PostTo')[0].field_value;\r\n                    vm.AllPages.forEach(function (item) {\r\n                        if (item.PAGE_ID == PageValue) {\r\n                            vm.PageTitle = item.PAGE_NAME;\r\n                        }\r\n                    });\r\n                    var PageTitle = vm.PageTitle;\r\n                    var obj = {\r\n                        post_id: vm.PostId == null ? 0 : vm.PostId,\r\n                        ref_page_id: CustomFieldArray.filter(x => x.field_name == 'PostTo')[0].field_value,\r\n                        campaign_owner_id: CustomFieldArray.filter(x => x.field_name == 'AssignCampaignOwner')[0].field_value,\r\n                        content: Content,\r\n                        followup_content: CustomFieldArray.filter(x => x.field_name == 'FollowUpComment')[0].field_value,\r\n                        category_id: CustomFieldArray.filter(x => x.field_name == 'Category')[0].field_value,\r\n                        tag_id: CustomFieldArray.filter(x => x.field_name == 'Tags')[0].field_value,\r\n                        is_draft: isDraft,\r\n                        schedule_date: vm.scheduleDate ? vm.$options.filters.formatDate(vm.scheduleDate) : vm.scheduleDate,\r\n                        schedule_time: vm.scheduleTime ? vm.$options.filters.formatTime(vm.scheduleTime) : vm.scheduleTime,\r\n                        schedule: vm.schedule,\r\n                        approver: vm.approverData,\r\n                        attachments: vm.fileData,\r\n                        PostMessageAndTags: TagName == '' ? Content : Content + ' #' + TagName,\r\n                        ref_Page_Title: PageTitle,\r\n                        draft_status: vm.IsDraft\r\n                    }\r\n                    if (type == \"SchedulePost\") {\r\n                    var currentDate = new Date();\r\n                    const inputDate = obj.schedule_date;\r\n                    const inputTime = obj.schedule_time;\r\n                    var timeComponents = inputTime.split(\":\");\r\n                    var hours = parseInt(timeComponents[0]);\r\n                    var minutes = parseInt(timeComponents[1].split(\" \")[0]);\r\n                    var meridian = timeComponents[1].split(\" \")[1];\r\n                    if (meridian === \"PM\" && hours < 12) {\r\n                        hours += 12;\r\n                    } else if (meridian === \"AM\" && hours === 12) {\r\n                        hours = 0;\r\n                    }\r\n                    var dateComponents = inputDate.split(\"/\");\r\n                    var month = parseInt(dateComponents[0]) - 1; \r\n                    var day = parseInt(dateComponents[1]);\r\n                    var year = parseInt(dateComponents[2]);\r\n                    var convertedDate = new Date(year, month, day, hours, minutes);\r\n                    var formattedDateString = new Date(convertedDate)\r\n                    var differenceInMilliseconds = formattedDateString - currentDate;\r\n                        var differenceInMinutes = differenceInMilliseconds / (1000 * 60);\r\n                        if (Math.abs(differenceInMinutes) <20 && type==\"SchedulePost\") {\r\n                            vm.ShowAlert((vm.$t('MinimumScheduleTime')),\"warning\", true, vm.$t(\"Alert\"));\r\n                            return false;\r\n                        }\r\n                    }\r\n                    url = JSON.stringify(obj);\r\n                    let accountForPost = vm.AllPages.filter(x => x.PAGE_ID == obj.ref_page_id)[0].ACCOUNT_NAME;\r\n                    if (accountForPost && !isDraft && type != \"SendForApproval\") {\r\n                        if (accountForPost.toLowerCase() == 'facebook') {\r\n                            await DataService.UploadFacebookPost(url).then(function (response) {\r\n                                let jsonObject = JSON.parse(url);\r\n                                var FB_Post_id = response.data.post_id == undefined ? response.data.id : response.data.post_id;\r\n                                jsonObject.Fb_Post_id = FB_Post_id;\r\n                                url = JSON.stringify(jsonObject);\r\n\r\n                            })\r\n                        }else if(accountForPost.toLowerCase()=='instagram'){\r\n                            // await DataService.UploadInstagramPost(url).then(function(response){\r\n                            //     debugger;\r\n                            // })\r\n                        }\r\n                    }\r\n                    vm.scheduleDate = null;\r\n                    vm.scheduleTime = null;\r\n                    await vm.SaveSocialMediaPost(url, type);\r\n                }\r\n            })\r\n        },\r\n        uploadAdapterPlugin(editor) {\r\n            var vm = this;\r\n            editor.plugins.get('FileRepository').createUploadAdapter = (loader) => {\r\n                return loader.file.then((file) => {\r\n                    vm.File = file;\r\n                })\r\n\r\n            };\r\n        },\r\n        removeHTMLTags(text) {\r\n            return text.replace(/<[^>]*>/g, '');\r\n        },\r\n        async GetPageList() {\r\n            var vm = this;\r\n            var url = 'TYPE=CRM_SOCIAL&MODULE_NAME=CRM';\r\n            DataService.GetTriggerFieldValue(url).then(function (response) {\r\n                vm.AllPages = response.data;\r\n                if (vm.AllPages != null && vm.AllPages != undefined) {\r\n                    vm.FormSchema[0].Data[0].config.options = [];\r\n                    vm.AllPages.forEach(item => {\r\n                        vm.FormSchema[0].Data[0].config.options.push({\r\n                            name: item.NAME,\r\n                            value: item.PAGE_ID\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        async GetCampaignOwners() {\r\n            var vm = this;\r\n            var url = \"id=&moduleName=CRM&type=CRM_USERS\";\r\n            await DataService.getDDLData(url + \"&search=\").then(response => {\r\n                if (response.data != '') {\r\n                    var CampaignOwnerData = response.data.DATA;\r\n                    var campDDLData = [];\r\n                    if (CampaignOwnerData != null) {\r\n                        vm.FormSchema[0].Data[1].config.options = [];\r\n                        CampaignOwnerData.forEach(x => {\r\n                            campDDLData.push({\r\n                                name: x.name,\r\n                                value: x.value\r\n                            })\r\n                        })\r\n                        vm.FormSchema[0].Data[1].config.options = campDDLData;\r\n                        vm.FormSchema[0].Data[1].value = vm.UserId\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        async GetTags() {\r\n            var vm = this;\r\n            var url = \"id=&moduleName=CRM&type=CRM_TAGS\";\r\n            await DataService.getDDLData(url + \"&search=\").then(response => {\r\n                if (response.data != '') {\r\n                    vm.TagData = response.data.DATA;\r\n                    var tagDDLData = [];\r\n                    if (vm.TagData != null) {\r\n                        vm.FormSchema[1].Data[4].config.options = [];\r\n                        vm.TagData.forEach(x => {\r\n                            tagDDLData.push({\r\n                                name: x.name,\r\n                                value: x.value\r\n                            })\r\n                        })\r\n                        vm.FormSchema[1].Data[4].config.options = tagDDLData;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        async GetCategories() {\r\n            var vm = this;\r\n            var url = \"id=&moduleName=CRM&type=CRM_CAMPAIGN_CATEGORY\";\r\n            await DataService.getDDLData(url + \"&search=\").then(response => {\r\n                if (response.data != '') {\r\n                    var Categories = response.data.DATA;\r\n                    var catDDLData = [];\r\n                    if (Categories != null) {\r\n                        vm.FormSchema[1].Data[3].config.options = [];\r\n                        Categories.forEach(x => {\r\n                            catDDLData.push({\r\n                                name: x.name,\r\n                                value: x.value\r\n                            })\r\n                        })\r\n                        vm.FormSchema[1].Data[3].config.options = catDDLData;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        GetBase64String: function (evt) {\r\n            try {\r\n                var vm = this;\r\n                vm.fileData = [];\r\n                var files = evt.target.files; // FileList object\r\n                for (var i = 0; i < files.length; i++) {\r\n                    var f = files[i];\r\n                    var reader = new FileReader();\r\n                    // Closure to capture the file information.\r\n                    reader.onload = (function (theFile) {\r\n                        return function (e) {\r\n                            var binaryData = e.target.result;\r\n                            //Converting Binary Data to base 64\r\n                            var base64StringEncoded = window.btoa(binaryData);\r\n                            vm.base64String = base64StringEncoded;\r\n                            //showing file converted to base64\r\n\r\n                            var fileName = f.name;\r\n                            vm.fileName = fileName;\r\n                            var n = fileName.lastIndexOf(\".\");\r\n                            var extensionName = fileName.substring(n + 1, fileName.length);\r\n\r\n                            vm.fileExt += \".\" + extensionName;\r\n                            var attachemnetMime = '{\"ContentType\":\"' + f.type + '\",\"Size\":\"' + f.size + '\",\"Extension\":\"' + extensionName + '\"}';\r\n                            var fileSize = f.size;\r\n                            vm.fileSize = fileSize;\r\n                            var fileObj = {\r\n                                attachement_mime: attachemnetMime,\r\n                                fileName: fileName,\r\n                                userId: vm.UserId,\r\n                                companyId: vm.CompanyId,\r\n                                id: 0,\r\n                                moduleName: vm.ModuleName,\r\n                                subModuleCode: vm.SubModuleCode,\r\n                                containerName: vm.ContainerName,\r\n                                base64String: base64StringEncoded,\r\n                                attachement_path: ''\r\n                            };\r\n\r\n                            vm.fileData.push(fileObj);\r\n                        };\r\n                    })(f);\r\n                    // Read in the image file as a data URL.\r\n                    reader.readAsBinaryString(f);\r\n                }\r\n            }\r\n            catch (ex) {\r\n            }\r\n        },\r\n        hideShowBtns() {\r\n            var vm = this;\r\n            vm.isShowAdditionalBtns = vm.isShowAdditionalBtns ? false : true;\r\n        },\r\n        async SaveSocialMediaPost(url, type) {\r\n            var vm = this;\r\n            await DataService.SaveSocialPost(url).then(async function (response) {\r\n                if (response.data.MAIN_ID > 0) {\r\n                    if (vm.fileData.length > 0) {\r\n                        vm.fileData.forEach(x => {\r\n                            x.id = response.data.MAIN_ID;\r\n                        })\r\n                    }\r\n                    var formData = JSON.stringify(vm.fileData);\r\n                    await DataService.UploadFile(formData).then(function (response) {\r\n                    })\r\n                    if (type == 'PostNow') {\r\n                        vm.ShowAlert(vm.$t([vm.$t('PostUploaded')]), \"success\", true, vm.$t(\"Alert\"));\r\n                    } else if (type == 'SchedulePost') {\r\n                        vm.ShowAlert(vm.$t([vm.$t('PostScheduled')]), \"success\", true, vm.$t(\"Alert\"));\r\n                    } else if (type == 'SendForApproval') {\r\n                        vm.ShowAlert(vm.$t([vm.$t('PostSentApproval')]), \"success\", true, vm.$t(\"Alert\"));\r\n                    } else if (type == 'Draft') {\r\n                        vm.ShowAlert(vm.$t([vm.$t('PostSaveAsDraft')]), \"success\", true, vm.$t(\"Alert\"));\r\n                    }\r\n                    var Notificationobj = {\r\n                        message: \"Test^\" + vm.GetUserInfo.Name,\r\n                        notificationFor: vm.approverId,\r\n                        typeCode: \"CRM_APPROVAL_RAISED_BY\",\r\n                        referenceId: 0,\r\n                        referenceId2: 0\r\n                    }\r\n                    await DataService.InsertNotification(JSON.stringify(Notificationobj)).then(function (response) {\r\n                        //for Insert the notification \r\n                    })\r\n                    vm.$router.push({ name: \"CRMCampaign\", params: { reqForm: 'AddPost' } });\r\n                }\r\n            })\r\n        },\r\n        SchedulePost(reqFrom) {\r\n            var vm = this;\r\n            vm.reqFrom = reqFrom;\r\n            vm.isShowScheduleApproveModal = true;\r\n        }\r\n    }\r\n}\r\nexport const uploader = function (editor) {\r\n    editor.plugins.get('FileRepository').createUploadAdapter = (loader) =>\r\n        new UploadAdapter(loader);\r\n};\r\n\r\n</script>\r\n<style>.modal-post {\r\n    position: absolute;\r\n    bottom: 39px;\r\n    z-index: 1;\r\n    right: 0;\r\n    max-width: 450px;\r\n    padding: 0;\r\n}</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddPost.vue?vue&type=template&id=7bba116a&\"\nimport script from \"./AddPost.vue?vue&type=script&lang=js&\"\nexport * from \"./AddPost.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddPost.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".modal-post{position:absolute;bottom:39px;z-index:1;right:0;max-width:450px;padding:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar toString = require('../internals/to-string');\nvar hasOwn = require('../internals/has-own-property');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\nvar ctoi = require('../internals/base64-map').ctoi;\n\nvar disallowed = /[^\\d+/a-z]/i;\nvar whitespaces = /[\\t\\n\\f\\r ]+/g;\nvar finalEq = /[=]+$/;\n\nvar $atob = getBuiltIn('atob');\nvar fromCharCode = String.fromCharCode;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar exec = uncurryThis(disallowed.exec);\n\nvar NO_SPACES_IGNORE = fails(function () {\n  return $atob(' ') !== '';\n});\n\nvar NO_ENCODING_CHECK = !fails(function () {\n  $atob('a');\n});\n\nvar NO_ARG_RECEIVING_CHECK = !NO_SPACES_IGNORE && !NO_ENCODING_CHECK && !fails(function () {\n  $atob();\n});\n\nvar WRONG_ARITY = !NO_SPACES_IGNORE && !NO_ENCODING_CHECK && $atob.length !== 1;\n\n// `atob` method\n// https://html.spec.whatwg.org/multipage/webappapis.html#dom-atob\n$({ global: true, enumerable: true, forced: NO_SPACES_IGNORE || NO_ENCODING_CHECK || NO_ARG_RECEIVING_CHECK || WRONG_ARITY }, {\n  atob: function atob(data) {\n    validateArgumentsLength(arguments.length, 1);\n    if (NO_ARG_RECEIVING_CHECK || WRONG_ARITY) return $atob(data);\n    var string = replace(toString(data), whitespaces, '');\n    var output = '';\n    var position = 0;\n    var bc = 0;\n    var chr, bs;\n    if (string.length % 4 == 0) {\n      string = replace(string, finalEq, '');\n    }\n    if (string.length % 4 == 1 || exec(disallowed, string)) {\n      throw new (getBuiltIn('DOMException'))('The string is not correctly encoded', 'InvalidCharacterError');\n    }\n    while (chr = charAt(string, position++)) {\n      if (hasOwn(ctoi, chr)) {\n        bs = bc % 4 ? bs * 64 + ctoi[chr] : ctoi[chr];\n        if (bc++ % 4) output += fromCharCode(255 & bs >> (-2 * bc & 6));\n      }\n    } return output;\n  }\n});\n","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPost.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}