(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db82ceba"],{"0be2":function(e,t,a){var i=a("a9c2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("0a0932cc",i,!0,{sourceMap:!1,shadowMode:!1})},2445:function(e,t,a){var i=a("375d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("2e60c2b4",i,!0,{sourceMap:!1,shadowMode:!1})},"375d":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".makepopleft#mainDivProp .dropdown-menu{inset:unset!important;transform:unset!important;right:0!important}",""]),e.exports=t},7255:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{isVisible:e.isLoading}}),t("div",{staticClass:"col-md-12 p-0 my-3"},[t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("ManageLayoutTitle"))+": "+e._s(e.ModuleName)+" >> "+e._s(e.$t(e.SubModuleName)))]),t("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"",id:"backtolist","data-original-title":e.$t("BacktoList")},on:{click:function(t){return e.Backtolist(t)}}},[t("em",{staticClass:"fa fa-angle-double-left pr-2"}),t("br"),e._v(e._s(e.$t("BacktoList"))+" ")])]),e._m(0)])]),"Preview"!=e.PreviewMode?t("div",{staticClass:"left-menu-tab"},[t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("SystemFields")))])])]),t("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card pt-2"},[t("div",{staticClass:"row mx-0"},[t("div",{staticClass:"col-md-8 px-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchLayout,expression:"searchLayout"}],staticClass:"form-control",attrs:{type:"text",name:"Search",placeholder:"Search System layout"},domProps:{value:e.searchLayout},on:{input:function(t){t.target.composing||(e.searchLayout=t.target.value)}}})]),t("div",{staticClass:"col-md-4 px-1"},[t("a",{staticClass:"btn btn-success mr-2",attrs:{id:"Search",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to search"},on:{click:e.filteredSystemField}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger",attrs:{id:"ResetFilters",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset"},on:{click:e.RefreshSystemFieldList}},[t("em",{staticClass:"fa fa-refresh"})])])]),t("div",{staticClass:"collapse show",attrs:{id:"collapseOne12",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body p-2"},[t("draggable",{staticClass:"list-group ulparted pb-0",attrs:{element:"ul","item-key":"custom_field_id",group:"my-groupForFields",id:"StopDragfield",move:e.checkMove},on:{start:function(t){e.drag=!0},end:function(t){return e.endDrag(t,"System_Layout")}},scopedSlots:e._u([e._l(e.FiledListLeft,(function(a,i){return{key:"item",fn:function({element:a}){return[1==a.is_system_generated?t("div",{key:i,staticClass:"list-group-item left-fields p-2 mb-2",attrs:{groupid:a.group_id,id:a.type,title:a.name}},[t("label",{staticClass:"w-100 font-16 py-2 bg-white border px-3"},[e._v(e._s(e.$t(null!=a.display_name?a.display_name:a.name)))]),t("em",{staticClass:"fa fa-arrows",attrs:{"aria-hidden":"true"}})]):e._e()]}}}))],null,!0),model:{value:e.FiledListLeft,callback:function(t){e.FiledListLeft=t},expression:"FiledListLeft"}})],1)])])])]),t("div",{staticClass:"col-md-12 p-0 mt-2"},[t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("CustomFields")))])])]),t("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist",disabled:!e.enabled,"aria-multiselectable":"true"}},[t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card pt-2"},[t("div",{staticClass:"row mx-0"},[t("div",{staticClass:"col-md-8 px-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchCustomLayout,expression:"searchCustomLayout"}],staticClass:"form-control",attrs:{type:"text",name:"Search",placeholder:"Search Custom layout"},domProps:{value:e.searchCustomLayout},on:{input:function(t){t.target.composing||(e.searchCustomLayout=t.target.value)}}})]),t("div",{staticClass:"col-md-4 px-1"},[t("a",{staticClass:"btn btn-success mr-2",attrs:{id:"Searchingh",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to search"},on:{click:e.filteredCustomField}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger",attrs:{id:"ResetFilters",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset"},on:{click:e.RefreshCustomFieldList}},[t("em",{staticClass:"fa fa-refresh"})])])]),t("div",{staticClass:"collapse show",attrs:{id:"collapseOne12",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body p-2"},[t("draggable",{staticClass:"list-group ulparted pb-0",attrs:{element:"ul",id:"customID",move:e.checkMove,"item-key":"custom_field_id",group:"my-groupForFields"},on:{start:function(t){e.drag=!0},end:function(t){return e.endDrag(t,"Custom_Layout")}},model:{value:e.CustomFieldListLeft,callback:function(t){e.CustomFieldListLeft=t},expression:"CustomFieldListLeft"}},[e._l(e.CustomFieldListLeft,(function(a,i){return[0==a.is_system_generated?t("div",{key:i,staticClass:"list-group-item left-fields p-2 mb-2",attrs:{groupid:a.group_id,id:a.type,title:a.name}},[t("label",{staticClass:"w-100 font-16 py-2 bg-white border px-3"},[e._v(e._s(e.$t(null!=a.display_name?a.display_name:a.name)))]),t("em",{staticClass:"fa fa-arrows",attrs:{"aria-hidden":"true"}})]):e._e()]}))],2)],1)]),t("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.OpenAddCustomFieldPopup()}}},[e._v("Add Custom Field")])])])])]):e._e(),t("div",{class:{"right-content":!0,disabled:"Preview"==e.PreviewMode}},[t("div",{staticClass:"listing"},[e._m(1),t("form",[t("div",{staticClass:"listing"},[t("draggable",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0",attrs:{list:e.LayoutList,"item-key":"group_id",group:"my-groupForFields1"},on:{start:function(t){e.drag=!0}},model:{value:e.LayoutList,callback:function(t){e.LayoutList=t},expression:"LayoutList"}},e._l(e.LayoutList,(function(a,i){return t("div",{key:i,class:{"collapse show float-left border":!0,"mt-2":e.parentIndex>0}},[t("div",{staticClass:"mcf-head float-left border-bottom"},[t("em",{staticClass:"fa fa-th-large float-left mt-3 mr-2 text-secondary",attrs:{"aria-hidden":"true"}}),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:a.group_display_name,expression:"items.group_display_name",modifiers:{trim:!0}}],class:{"form-control form-control-sm":!0,"is-invalid":e.isGroupNameBlank==a.group_name||e.duplcateGroupNameExists==a.group_display_name},attrs:{type:"text"},domProps:{value:a.group_display_name},on:{input:function(t){t.target.composing||e.$set(a,"group_display_name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t("div",{staticClass:"field-action mt-2",attrs:{id:"MainDivForLayout"}},[t("div",{staticClass:"dropdown"},[t("a",{staticClass:"action-icon",attrs:{id:"dropdownMenuButton",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t("em",{staticClass:"fa fa-cog text-dark",staticStyle:{"font-size":"20px"}})]),t("div",{staticClass:"dropdown-menu dropdown-menu-dark",attrs:{"aria-labelledby":"dropdownMenuButton2"}},[t("div",{staticClass:"modal-header ui-draggable-handle px-2 py-2"},[t("span",{staticClass:"text-center"},[e._v("Select layout")])]),e._l(e.LayoutTypeList,(function(i){return t("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"}},[t("label",{staticClass:"form-check-inline menu_widjet"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.LayoutType,expression:"items.LayoutType"}],staticClass:"chkitems",attrs:{type:"radio"},domProps:{value:i.value,checked:e._q(a.LayoutType,i.value)},on:{change:function(t){return e.$set(a,"LayoutType",i.value)}}}),t("span",{staticClass:"label-text mx-1"},[e._v(e._s(e.$t(i.name)))])])])})),a.group_id<=0||1==a.FieldData.length&&"no"==a.FieldData[0].is_include_in_post_jon||0==a.group_is_system_generated?t("a",{staticClass:"dropdown-item border-top py-2 pl-2 bg-light",attrs:{href:"javascript:;"},on:{click:function(t){return e.RemoveLayout(a,a.group_id)}}},[t("em",{staticClass:"fa fa-trash text-danger",staticStyle:{"font-size":"20px"}}),t("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v("Removelayout")])]):e._e()],2)])])]),t("draggable",e._b({staticClass:"col-12 float-left p-0",staticStyle:{"min-height":"100px"},attrs:{list:a.FieldData,"item-key":"custom_field_id",group:"my-groupForFields",move:e.checkMove,groupid:a.group_id,groupName:a.group_display_name,systemgenerated:a.group_is_system_generated,fieldLength:a.FieldData.length},on:{end:function(t){return e.onDragAdd(t)},start:function(t){e.drag=!0}}},"draggable",e.$attrs,!1),e._l(a.FieldData,(function(i,s){return t("div",{directives:[{name:"show",rawName:"v-show",value:"yes"==i.is_include_in_post_jon,expression:"element.is_include_in_post_jon == 'yes'"}],key:s,class:{"col-sm-12 col-md-12 float-left p-2":!0,"col-lg-12 col-xl-12":"single"==a.LayoutType,"col-lg-6 col-xl-6":"double"==a.LayoutType,"col-lg-4 col-xl-4":"triple"==a.LayoutType,"col-lg-3 col-xl-3":"four"==a.LayoutType},attrs:{id:"FieldId"+i.custom_field_id,fielddata:i,systemgenerated:0==a.group_is_system_generated?0:1,fieldLength:a.length}},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("button",{staticClass:"close bg-transparent",attrs:{type:"button"},on:{click:function(t){return e.closeCustomField(i,a.FieldData)}}},[t("em",{staticClass:"fa fa-times text-dark",attrs:{"aria-hidden":"true"}})])]),t("div",{class:{"pickflowbase ml-cutomf-bg float-left p-2 w-100":!0,"field-required":1==i.is_required,"box-warning":0==i.is_system_generated,"border-danger":e.duplicateNameExists==i.name||e.picklistOptionBlankItems.includes(i.name)}},[t("div",{staticClass:"labeltext text-left p-0 float-left"},[1==i.is_system_generated?t("label",{class:{"form-control form-control-sm":!0,disabled:i.is_system_generated>0},attrs:{disabled:i.is_system_generated>0}},[e._v(e._s(e.$t(null!=i.display_name?i.display_name:i.name)))]):e._e(),0==i.is_system_generated?t("input",{directives:[{name:"model",rawName:"v-model",value:i.display_name,expression:"element.display_name"}],class:{"form-control form-control-sm":!0,disabled:i.is_system_generated>0},attrs:{type:"text",disabled:!0},domProps:{value:i.display_name},on:{keyup:function(t){return e.ChangeFieldName(i)},input:function(t){t.target.composing||e.$set(i,"display_name",t.target.value)}}}):e._e(),t("label",{staticClass:"d-none"},[e._v(e._s(i.name))])]),t("div",{staticClass:"dropdown float-right pt-1 mr-3",attrs:{id:"mainDivProp"}},[t("div",{staticClass:"dropdown"},[t("a",{staticClass:"action-icon",attrs:{id:"dropdownMenuButton",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t("em",{staticClass:"fa fa-ellipsis-h text-secondary"})]),t("div",{staticClass:"dropdown-menu dropdown-menu-dark",attrs:{"aria-labelledby":"dropdownMenuButton2"}},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e.closepopupMenuhide?t("div",{staticClass:"dropdown-menu panelfix_dots rounded border bg-white",attrs:{id:"FieldProId"+i.custom_field_id,"aria-labelledby":"dropdownMenuLink"}},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.closepopupMenu(i.custom_field_id)}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"}},[t("label",{staticClass:"form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.is_required,expression:"element.is_required"}],attrs:{type:"checkbox",disabled:i.is_system_generated>0&&1==i.system_is_required},domProps:{value:!0,checked:Array.isArray(i.is_required)?e._i(i.is_required,!0)>-1:i.is_required},on:{change:function(t){var a=i.is_required,s=t.target,l=!!s.checked;if(Array.isArray(a)){var o=!0,r=e._i(a,o);s.checked?r<0&&e.$set(i,"is_required",a.concat([o])):r>-1&&e.$set(i,"is_required",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(i,"is_required",l)}}}),t("span",{staticClass:"label-text text-secondary mx-1",staticStyle:{"font-size":"14px"}},[e._v("Mark As Required")])])]),t("a",{key:e.childIndex,staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;",BindData:e.EditProperty},on:{click:function(t){return e.EditProperties(i,e.parentIndex,e.childIndex,t)}}},[t("em",{staticClass:"fa fa-eye text-primary",staticStyle:{"font-size":"20px"}}),t("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v(e._s(1==i.system_is_required&&1==i.is_system_generated?"ViewProperties":"EditProperties"))])]),t("div",{staticClass:"dropdown-divider m-0"}),0==i.system_is_required?t("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;",custom_field_id:i.custom_field_id,is_required:i.is_required,is_updated:i.is_updated},on:{click:function(t){return e.closeCustomField(i,a.FieldData)}}},[t("em",{staticClass:"fa fa-trash text-danger",staticStyle:{"font-size":"20px"}}),t("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v("RemoveField")])]):e._e()]):e._e()]),t("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"}},[t("label",{staticClass:"form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.is_required,expression:"element.is_required"}],attrs:{type:"checkbox",disabled:i.is_system_generated>0&&1==i.system_is_required},domProps:{value:!0,checked:Array.isArray(i.is_required)?e._i(i.is_required,!0)>-1:i.is_required},on:{change:function(t){var a=i.is_required,s=t.target,l=!!s.checked;if(Array.isArray(a)){var o=!0,r=e._i(a,o);s.checked?r<0&&e.$set(i,"is_required",a.concat([o])):r>-1&&e.$set(i,"is_required",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(i,"is_required",l)}}}),t("span",{staticClass:"label-text text-secondary mx-1",staticStyle:{"font-size":"14px"}},[e._v("MarkAsRequired")])])]),t("a",{key:e.childIndex,staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.EditProperties(i,e.parentIndex,e.childIndex,t)}}},[t("em",{staticClass:"fa fa-eye pr-1 text-primary",staticStyle:{"font-size":"16px"}}),t("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v(e._s(1==i.system_is_required&&1==i.is_system_generated?"ViewProperties":"EditProperties"))])]),t("div",{staticClass:"dropdown-divider m-0"}),0==i.system_is_required?t("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;",custom_field_id:i.custom_field_id,is_required:i.is_required,is_updated:i.is_updated},on:{click:function(t){return e.closeCustomField(i,a.FieldData)}}},[t("em",{staticClass:"fa fa-trash pr-1 text-danger",staticStyle:{"font-size":"16px"}}),t("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v("RemoveField")])]):e._e()])])]),"radio"==i.dt_code?t("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-dot-circle-o",staticStyle:{"font-size":"18px"}})]):e._e(),"select"==i.dt_code?t("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa fa-list",staticStyle:{"font-size":"20px"}}),t("select",{staticClass:"form-control form-control-sm d-none",staticStyle:{width:"50px"}},[t("option",[e._v("Select")])])]):e._e(),"date"==i.dt_code?t("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-calendar-o",staticStyle:{"font-size":"20px"}})]):e._e(),"int"==i.dt_code||"bigint"==i.dt_code||"decimal"==i.dt_code?t("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-sort-numeric-asc",staticStyle:{"font-size":"20px"}})]):e._e()])])})),0)],1)})),0)],1),t("div",{staticClass:"col-lg-12 p-0 text-right mt-3 float-left"},[t("a",{staticClass:"btn btn-primary mr-2",attrs:{href:"javascript:;",title:"NewGroup"},on:{click:function(t){return e.AddNewGroup()}}},[t("em",{staticClass:"fa fa-users pr-2"}),e._v("NewGroup")]),t("a",{class:{"btn btn-success mr-2":!0,disabled:1==e.submitButtom},attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SubmitData()}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v("Save")]),t("RouterLink",{staticClass:"btn btn-danger formbtn widthhalf",attrs:{to:"/CustomLayoutListing",title:"Cancel"}},[t("i",{staticClass:"fa fa-close pr-2"}),e._v("Cancel")])],1)])])]),e.showCustomfieldPopup?t("OpenAddCustomFieldPopup",{attrs:{LanguageArrayData:e.LanguageArray,Sub_ModuleId:e.Sub_ModuleId,ModuleId:e.ModuleId}}):e._e(),e.showFieldPropPopup?t("CustomFieldPropertyPopup",{attrs:{divManageLayoutProp:e.divManageLayoutProp,LanguageArray:e.LanguageArray,iSLayoutControl:e.iSLayoutControl,Field:e.Field,AddCustomFields:e.AddCustomFields,oldFieldPropertyData:e.oldFieldPropertyData,FieldName:e.FieldName,IsSystemGeneratedField:e.IsSystemGeneratedField,EditProperty:e.EditProperty},on:{closepopup:e.closepopup}}):e._e()],1)},s=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"expand-list right-slide-arrow"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[t("em",{staticClass:"icon-solid arrow-solid-left c",staticStyle:{"font-size":"9pt"}})])])}],l=(a("14d9"),a("b76a")),o=a.n(l),r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.CloseCustomFieldsPopup()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title py-3",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("AddCustomFields"))+" ")])]),t("div",{staticClass:"container-fluid padding-t_10"},[t("div",{staticClass:"left-menu-tab"},[e._m(0),t("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card"},[t("div",{staticClass:"collapse show",attrs:{id:"collapseOne13",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body p-2"},[t("draggable",{staticClass:"draggable-list",attrs:{group:{name:"fieldList",pull:e.pullFunction,put:!1},list:e.systemFieldList,"item-key":"Data_type_id"},on:{start:function(t){e.drag=!0},end:function(t){return e.AllowOneElementdrop()}},scopedSlots:e._u([{key:"item",fn:function({element:a}){return[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-md-12"},[t("div",{class:{"user-defined-fields":!0,"fa fa-navicon":"MultiLine"==a.display_name,"fa fa fa-ellipsis-h":"SingleLine"==a.display_name,"fa fa-list":"Selectlist"==a.display_name,"fa fa-sort-numeric-asc":"Integer"==a.display_name,"fa  fa-list-ol":"LongInteger"==a.display_name,"fa fa fa-circle":"Decimal"==a.display_name,"fa fa-calendar-o":"Date"==a.display_name,"fa fa-check-square-o":"Checkbox"==a.display_name,"fa fa-dot-circle-o":"Radio"==a.display_name,"fa fa-at":"Url"==a.display_name,"fa fa-phone":"Phone"==a.display_name,"fa fa-envelope":"Email"==a.display_name}},[t("label",{staticClass:"pl-2 font-16 fontpoppins"},[e._v(e._s(e.$t(a.display_name)))])])])])]}}]),model:{value:e.systemFieldList,callback:function(t){e.systemFieldList=t},expression:"systemFieldList"}})],1)])])])])]),t("div",{staticClass:"right-content"},[t("div",{staticClass:"col-lg-12 mb-0 float-left p-0"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("Detail"))+" ")])])])]),t("br"),t("br"),t("div",{staticClass:"dashed_bod_drag text-center mt-2 py-1"},[0==e.dropfields.length?t("h3",[e._v("Drop here ")]):e._e(),t("draggable",{staticClass:"draggable-list",staticStyle:{"min-height":"50px"},attrs:{list:e.dropfieldlist,id:"dragList",disabled:e.disabled,group:"fieldList"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},scopedSlots:e._u([{key:"item",fn:function({element:a}){return[t("div",{staticClass:"list-item parent-element"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("input",{staticClass:"w-90 py-1 px-2 bg-white",attrs:{type:"text",disabled:"",placeholder:e.FieldPropertyData.length>0?e.FieldPropertyData[0].Name:a.display_name}}),t("div",{staticClass:"dropdown float-right pt-1 mr-2 makepopleft",attrs:{id:"mainDivProp"}},[t("div",{staticClass:"dropdown"},[t("a",{staticClass:"action-icon",attrs:{id:"dropdownMenuButton",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t("i",{staticClass:"fa fa-ellipsis-h text-secondary"})]),t("div",{staticClass:"dropdown-menu dropdown-menu-dark",attrs:{"aria-labelledby":"dropdownMenuButton2"}},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"}),t("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.OpenPropertyPopup(a.Data_type_id,a.display_name)}}},[t("em",{staticClass:"fa fa-eye text-primary float-left my-0 ml-1",staticStyle:{"font-size":"16px"}}),t("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v("View Property")])]),t("div",{staticClass:"dropdown-divider m-0"}),t("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.RemoveField(a.Data_type_id)}}},[t("em",{staticClass:"fa fa-trash text-danger float-left my-0 ml-1",staticStyle:{"font-size":"16px"}}),t("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v("RemoveField")])])])])])])])])]}}]),model:{value:e.dropfields,callback:function(t){e.dropfields=t},expression:"dropfields"}})],1),t("span",{staticClass:"invalid-feedback d-block"},[e._v(e._s(e.errorMessage)+" ")])]),t("div",{staticClass:"col-lg-12 p-0 text-right my-3 float-left"},[t("a",{class:{"btn btn-success mr-2":!0},attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SubmitData()}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v("Submit")]),t("button",{staticClass:"btn btn-danger formbtn widthhalf",attrs:{title:"Cancel"},on:{click:e.CloseCustomFieldsPopup}},[t("em",{staticClass:"fa fa-close pr-2"}),e._v("Cancel")])])])])])])]),e.showFieldPropPopup?t("CustomFieldPropertyPopup",{attrs:{oldFieldPropertyData:e.oldFieldPropertyData,divManageLayoutProp:e.divManageLayoutProp,iSLayoutControl:e.iSLayoutControl,DataTypeId:e.DataTypeId,FieldName:e.FieldName,LanguageArray:e.LanguageArray}}):e._e()],1)},d=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v("User Defined Fields:")])])])])}],n=a("9769"),u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.closePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title py-3",attrs:{name:"header"}},[e._v(" "+e._s(e.FieldName)+" "+e._s(e.$t("Properties"))+" ")])]),t("div",{staticClass:"modal-body"},[t("Form",{ref:"Expenseform",attrs:{id:"ddd"},scopedSlots:e._u([{key:"default",fn:function({values:a,meta:i}){return[t("DynamicForm",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{"on-submit":e.onSubmit,"on-invalid-submit":e.onSubmit}}),1==e.IsSystemGeneratedField?t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-2 text-danger float-left"},[t("div",{staticClass:"alert alert-danger mb-0",attrs:{role:"alert"}},[e._v(" "+e._s(e.$t("SystemGeneratedFieldMessage"))+" ")])]):e._e()]}}])})],1)])])])])},c=[],p=a("240d"),m={components:{DynamicForm:p["DynamicForm"]},props:{DataTypeId:{type:Number,required:!0},FieldName:{type:String,required:!0},LanguageArray:{type:Array,required:!0},oldFieldPropertyData:{type:Array,required:!0},AddCustomFields:{type:Boolean,required:!0},bindEditedDataProperty:{type:Array,required:!0},IsSystemGeneratedField:{type:Boolean,required:!0},EditProperty:{}},data(){return{lenghtOfLanguageDiv:null,Lblname:"",myObj:[],IsRequired:null,displayName:"",ddlLanguage:"",LengthVal:"",DecimalVal:"",txtDescription:"",dummyArray:[],SelectedData:[],langSelectedData:[],displayNameTextData:[],diplayNameWithCulture:[],langCulture:[],languageCultureArray:[],displayNameData:"",FormSchema:[{layoutType:"four",Data:[{astype:"TextField",label:"Questions",name:"Question",value:this.FieldName,placeholder:"",disabled:!1,validationRules:{required:!0}},{astype:"TextField",label:"Pick List Option",name:"PickListOption",value:"",visibility:!1,placeholder:"",validationRules:{required:!0}},{astype:"NumericField",label:"Length",name:"Length",value:"",placeholder:"",visibility:!0,validationRules:{required:!0}},{astype:"NumericField",label:"Decimal Places",name:"DecimalPlaces",value:"",placeholder:"",visibility:!1,validationRules:{required:!0}},{astype:"CheckBoxField",label:"Mark as Required",name:"MarkasRequired",value:"",placeholder:"",visibility:!0,config:{options:[{value:"1",name:""}]}},{astype:"TextAreaField",label:"Description",name:"Description",value:"",placeholder:"",visibility:!0,validationRules:"",config:{rows:3}}]},{layoutType:"double",Data:[{astype:"SelectField",label:"Language",name:"Language",value:"",placeholder:"",chkIndex:0,visibility:!1,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName",value:"",placeholder:"",chktxtIndex:0,visibility:!1,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onAddButtonClick:this.AddMultiLanguage}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}]}},created:function(){var e=this;e.ShowHideFields(),e.BindLangDDL(),0==e.oldFieldPropertyData.length&&"FromManage"!=e.AddCustomFields||e.EditBindFornData()},methods:{EditBindFornData(){var e=this;if("FromManage"==e.AddCustomFields){e.EditProperty;e.FormSchema[0].Data[0].value=e.EditProperty.display_name,e.FormSchema[0].Data[1].value="undefind"!=e.EditProperty.picklist_options?e.EditProperty.picklist_options:"",e.FormSchema[0].Data[2].value=e.EditProperty.length,e.FormSchema[0].Data[3].value="undefind"!=e.EditProperty.decimal_places?e.EditProperty.decimal_places:"",e.FormSchema[0].Data[4].value=1==e.EditProperty.is_required?"1":"",e.FormSchema[0].Data[5].value=e.oldFieldPropertyData.Description,e.EditProperty.cultureDetails=e.MakeNormalArray(e.EditProperty.cultureDetails);var t={};if(e.EditProperty.cultureDetails.forEach(a=>{t={},t.value=a.lang_id,e.languageCultureArray.push(t),t={},t.value=a.localization_value,e.languageCultureArray.push(t)}),0!=e.EditProperty.cultureDetails.length){var a=e.languageCultureArray.length/2,i=1;e.languageCultureArray.forEach((t,s)=>{i<a&&(e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.BindLangDDL(e.Lblname),i++)}),e.languageCultureArray.forEach((t,a)=>{e.FormSchema[1].Data[a].value=t.value})}}else{if(e.FormSchema[0].Data[0].value=e.oldFieldPropertyData[0].Name,e.FormSchema[0].Data[1].value="undefind"!=e.oldFieldPropertyData[0].PickListOption?e.oldFieldPropertyData[0].PickListOption:"",e.FormSchema[0].Data[2].value=e.oldFieldPropertyData[0].Length,e.FormSchema[0].Data[3].value="undefind"!=e.oldFieldPropertyData[0].DecimalPlaces?e.oldFieldPropertyData[0].DecimalPlaces:"",0!=e.oldFieldPropertyData[0].IsRequired?e.FormSchema[0].Data[4].value="1":e.FormSchema[0].Data[4].value="",e.FormSchema[0].Data[5].value=e.oldFieldPropertyData[0].Description,0!=e.oldFieldPropertyData.length){a=e.oldFieldPropertyData[0].LanguageDivLength.length/2,i=1;e.oldFieldPropertyData[0].LanguageDivLength.forEach((t,s)=>{i<a&&(e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.FormSchema[1].Data.forEach(t=>{e.Lblname=t.name}),e.BindLangDDL(e.Lblname),i++)})}e.oldFieldPropertyData[0].LanguageDivLength.forEach((t,a)=>{e.FormSchema[1].Data[a].value=t.value})}},MakeNormalArray(e){try{return JSON.parse(e)}catch(t){return e}},ShowHideFields(){var e=this;1==e.IsSystemGeneratedField?(e.FormSchema[0].Data[1].visibility=!1,e.FormSchema[0].Data[0].disabled=!0,e.FormSchema[0].Data[2].visibility=!1,e.FormSchema[0].Data[3].visibility=!1,e.FormSchema[0].Data[5].visibility=!1,e.FormSchema[1].Data[0].visibility=!1,e.FormSchema[1].Data[1].visibility=!1):(e.FormSchema[1].Data[0].visibility=!0,e.FormSchema[1].Data[1].visibility=!0,"Decimal"==e.FieldName&&(e.FormSchema[0].Data[3].visibility=!0),"Select List"!=e.FieldName&&"Checkbox"!=e.FieldName||(e.FormSchema[0].Data[1].visibility=!0),"Date"==e.FieldName&&(e.FormSchema[0].Data[1].visibility=!1,e.FormSchema[0].Data[3].visibility=!1))},BindLangDDL(e){var t=this;void 0==e?t.LanguageArray.forEach((e,a)=>{t.FormSchema[1].Data[0].config.options.push({value:e.lang_id,name:e.lang_name})}):t.LanguageArray.forEach((a,i)=>{"undefined"!=typeof e&&null!=e&&t.FormSchema[1].Data.forEach((e,i)=>{i%2==0&&t.FormSchema[1].Data[i].config.options.push({value:a.lang_id,name:a.lang_name})})})},closePopup(){var e=this;"FromManage"==e.AddCustomFields?e.$emit("closepopup"):e.$parent.closePropPopup()},AddMultiLanguage(){var e=this;e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.FormSchema[1].Data.forEach(t=>{e.Lblname=t.name}),e.BindLangDDL(e.Lblname)},RemoveFile:function(e,t){var a=this,i=a.FormSchema[1].Data.findIndex(e=>e.chktxtIndex===t.chktxtIndex),s=i-1;i>-1&&a.FormSchema[1].Data.splice(i,1),s>-1&&a.FormSchema[1].Data.splice(s,1)},onSubmit(e){var t=this,a=e.controlledValues;t.lenghtOfLanguageDiv=t.FormSchema[1].Data;var i={};t.lenghtOfLanguageDiv.forEach((e,a)=>{"SelectField"==e.astype&&(i.localization_id=0,i.custom_field_id=0,i.user_guide="",i.lang_id=e.value),"TextField"==e.astype&&(i.localization_value=e.value,t.langCulture.push(i),i={})});var s="";if(t.FormSchema[1].Data.length>0){t.FormSchema[1].Data.forEach((e,t)=>{s+=t%2!=0?e.value+"^":e.value+","});var l=s.length-1;t.displayNameData=s.slice(0,l)}if(void 0!=t.EditProperty)t.EditProperty.cultureDetails=t.langCulture,0!=t.FormSchema[0].Data[4].value.length?t.EditProperty.is_required=void 0!=t.FormSchema[0].Data[4].value[0]:t.EditProperty.is_required="",t.EditProperty.display_name=a.Question,void 0!=a.PickListOption&&(t.EditProperty.picklist_options=a.PickListOption),void 0!=a.Length&&(t.EditProperty.length=a.Length),t.EditProperty.group_id>0&&(t.EditProperty.is_updated=1),t.$parent.closePropPopup();else{let e={};e={id:t.DataTypeId,Name:a.Question,IsRequired:0!=t.FormSchema[0].Data[4].value.length?t.FormSchema[0].Data[4].value[1]:"",LanguageName:t.displayNameData,displayName:a.Question,Length:a.Length,DecimalPlaces:a.DecimalPlaces,Description:a.Description,PickListOption:a.PickListOption,LanguageDivLength:t.lenghtOfLanguageDiv},t.myObj.push(e),null!=t.myObj.length&&t.$parent.closePropPopup(t.myObj)}}}},y=m,f=a("2877"),g=Object(f["a"])(y,u,c,!1,null,null,null),h=g.exports,_={props:{LanguageArrayData:{type:Array,required:!0},Sub_ModuleId:{type:String,required:!0},ModuleId:{type:String,required:!0}},components:{draggable:o.a,DataService:n["a"],CustomFieldPropertyPopup:h},data(){return{drag:!1,dropfieldslist:[],dropfields:"",systemFieldsModel:"",OldIdForProp:"",systemFieldList:[],showFieldPropPopup:!1,FieldName:"",DataTypeId:"",iSLayoutControl:!1,divManageLayoutProp:!1,LanguageArray:[],FieldPropertyData:[],oldFieldPropertyData:[],finalJsonData:[],controlOnStart:!0,bindEditedDataProperty:[],disabled:!1,errorMessage:""}},created:function(){var e=this;e.GetCustomFieldDataTypes()},methods:{AllowOneElementdrop(){var e=this;0===e.dropfields.length&&(e.disabled=!1),e.dropfields.length>=1?e.disabled=!0:e.disabled=!1},clone({name:e}){return{name:e}},pullFunction(){return!this.controlOnStart||"clone"},closeAddCustomFieldPopup(){var e=this;e.$parent.closeAddCustomField()},RemoveField:function(e){var t=this;t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Report"),(function(){var a=t.dropfields.findIndex(t=>t.Data_type_id===e);t.dropfields.splice(a,1),t.FieldPropertyData=[],""==t.dropfields&&(t.disabled=!1)}))},SubmitData(){var e=this;if(0!=e.FieldPropertyData.length){e.FieldPropertyData.forEach(t=>{let a={CUSTOM_FIELD_ID:0,MODULE_ID:e.ModuleId,SUB_MODULE_ID:e.Sub_ModuleId,NAME:t.Name,DISPLAY_NAME:t.displayName,DESCRIPTION:t.Description,PICKLIST_OPTION:t.PickListOption,TYPE_ID:t.id,LENGTH:t.Length,IS_REQUIRED:"undefined"==t.IsRequired?0:1,STATUSID:1001,DECIMAL_PLACES:t.DecimalPlaces,LOC_VALUE:t.LanguageName,FORM_FIELD_VISIBILITY:"YES",LIST_FIELD_VISIBILITY:"YES"};e.finalJsonData.push(a)});var t="jsonString="+JSON.stringify(e.finalJsonData);n["a"].SaveUpdateCustomField(t).then((function(t){"OK"==t.statusText&&(e.ShowAlert(e.$t("CustomFieldSuccess",[e.$t("Field")]),"success",!0,e.$t("Alert")),e.CloseCustomFieldsPopup())}))}else e.errorMessage="Property is not set for this custom field."},closePropPopup(e){var t=this;null!=e&&(t.FieldPropertyData=e),t.showFieldPropPopup=!1},OpenPropertyPopup(e,t){var a=this;a.dropfields.findIndex(t=>t.Data_type_id===e);a.bindEditedDataProperty=null,a.DataTypeId=e,a.FieldName=t,a.iSLayoutControl=!0,a.divManageLayoutProp=!1,a.LanguageArray=a.LanguageArrayData,a.oldFieldPropertyData=a.FieldPropertyData,a.showFieldPropPopup=!0},CloseCustomFieldsPopup(){var e=this;e.$parent.CloseAddCustomFieldPoup()},GetCustomFieldDataTypes(){var e=this;n["a"].GetCustomFieldDataType().then((function(t){null!=JSON.parse(t.data)&&(e.systemFieldList=JSON.parse(t.data).data)}))}}},v=_,C=(a("86e4"),Object(f["a"])(v,r,d,!1,null,null,null)),F=C.exports,D={poprs:{CustomlayoutId:{type:Number,required:!0}},components:{draggable:o.a,OpenAddCustomFieldPopup:F,CustomFieldPropertyPopup:h},data(){return{LayoutDetailsData:[],FiledList:[],FiledListLeft:[],CustomFieldListLeft:[],otherData:"",langCode:"en",moduleName:"",subModuleCode:"",CustomLayout_Id:"",id:"",FieldData:null,LayoutList:[],LayoutTypeList:[{name:"DoubleColumn",value:"double"},{name:"TripleColumn",value:"triple"},{name:"FourColumn",value:"four"}],FieldActionList:[{name:"Mark as required",value:!0},{name:"Edit Properties",value:"editprop"},{name:"Remove Field",value:"remove"}],showModal:!1,EditProperty:null,nonDisplayField:[],addGroupId:1,duplicateNameExists:"",duplcateGroupNameExists:"",isGroupNameBlank:"",LanguageArray:[],LanguageArrayData:[],submitButtom:!1,picklistOptionBlankItems:[],drag:!1,showCustomfieldPopup:!1,FieldLayoutData:[],OldIdForProp:"",OldLayoutIconVal:"",showFieldPropPopup:!1,FieldName:"",Field:"",iSLayoutControl:!1,divManageLayoutProp:!1,enabled:!0,RemovefieldsPopup:"",AddCustomFields:"",ModuleId:"",Sub_ModuleId:"",oldFieldPropertyData:[],searchLayout:"",searchCustomLayout:"",jsonFilteredData:[],CustomFieldjsonData:[],LayoutFilterData:[],FieldPropertyData:[],IsSystemGeneratedField:"",ModuleName:"",SubModuleName:"",isLoading:!1,PreviewMode:"",disabled:!1}},created:function(){var e=this;e.CustomLayout_Id=e.$route.params.CustomlayoutId,e.PreviewMode=e.$route.params.PreviewMode,e.FetchLayoutData(e.CustomLayout_Id)},methods:{filteredSystemField:function(){var e=this;if(""!=e.searchLayout){let t=e.jsonFilteredData.filter(t=>t.display_name.toLowerCase().includes(e.searchLayout));e.FiledListLeft=t}else e.RefreshSystemFieldList()},filteredCustomField:function(){var e=this;if(""!=e.searchCustomLayout){let t=e.CustomFieldjsonData.filter(t=>t.display_name.toLowerCase().includes(e.searchCustomLayout));e.CustomFieldListLeft=t}else e.RefreshCustomFieldList()},RefreshSystemFieldList:function(){var e=this;e.searchLayout="",e.FiledListLeft=e.jsonFilteredData},RefreshCustomFieldList:function(){var e=this;e.searchCustomLayout="",e.CustomFieldListLeft=e.CustomFieldjsonData},RemoveLayout:function(e,t){var a=this,i=a.LayoutList;a.confirmR(a.$t("ConfirmDeleteGroup"),!0,a.$t("Remove")+"  "+a.$t("CustomFiled"),(function(){var e=$.grep(i,(function(e,a){return e.group_id!=t}));a.LayoutList=e}))},closepopup:function(){this.showFieldPropPopup=!1},CloseRemovefieldsPopup:function(){this.RemovefieldsPopup=!1},closeCustomField:function(e,t){var a=this;a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("CustomFiled"),(function(){var i=t.findIndex(t=>t.custom_field_id===e.custom_field_id);a.FiledListLeft.push({...e}),a.jsonFilteredData.push({...e}),a.CustomFieldListLeft.push({...e}),a.CustomFieldjsonData.push({...e}),t.splice(i,1)}))},Backtolist:function(){var e=this;e.$router.push({name:"CustomLayoutListing"})},EditProperties(e,t,a,i){var s=this;s.AddCustomFields="FromManage",s.Field=e,s.IsSystemGeneratedField=e.is_system_generated,s.iSLayoutControl=!1,s.divManageLayoutProp=!0,s.FieldName=e.display_name,s.oldFieldPropertyData=s.FieldPropertyData,s.LanguageArray=s.LanguageArray,s.EditProperty=e,s.showFieldPropPopup=!0},OpenAddCustomFieldPopup(){var e=this;e.ModuleId=e.LayoutDetailsData.module_id,e.Sub_ModuleId=e.LayoutDetailsData.sub_module_id,e.LanguageArrayData=e.LanguageArray,e.showCustomfieldPopup=!0},CloseAddCustomFieldPoup(){var e=this;e.showCustomfieldPopup=!1,e.FetchLayoutData()},onDragAdd(e){if(console.log("onDragAdd"),"StopDragfield"==e.to.id&&this.jsonFilteredData.push(e.item.__draggable_context.element),null==e.clone.id&&"new"==e.clone.id&&void 0!=typeof e.target.getAttribute("groupid")&&null!=e.target.getAttribute("groupid"))return!1;this.updateEvenemt(e);var t=e.item._underlying_vm_;if(console.log("element2222",t),e.item.innerText,void 0!==t){var a=e.newIndex;t.custom_field_id>0&&(t.group_id=e.to.__vueParentComponent.attrs.groupid,t.is_updated=1),t.CUSTOM_LAYOUT_ID=this.CustomlayoutId,this.spliceList(a,0,t);var i={element:t,newIndex:a};this.emitChanges({added:i})}},emitChanges(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))},updateEvenemt:function(e){console.log("updateEvenemt"),this.updateProperty(e,"newIndex"),this.updateProperty(e,"oldIndex")},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=0)},spliceList(){},FetchLayoutData(){var e=this;e.isLoading=!0;var t=`id=&moduleName=&subModuleCode=&otherData=${e.otherData}&langCode=${e.langCode}&CustomLayoutId=${e.CustomLayout_Id}&usefor='data'`;n["a"].ManageFormLayout(t).then((function(t){if(void 0!=t.data.data){e.FieldData=t.data.data,e.LayoutDetailsData=t.data.LAYOUTDETAILS[0],e.LanguageArray=t.data.languages,e.nonDisplayField=e.FieldData.filter(e=>"NO"==e.form_field_visibility);var a=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&null!=e.display_order);e.FiledListLeft=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&null==e.display_order&&1==e.is_system_generated),e.CustomFieldListLeft=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&null==e.display_order&&0==e.is_system_generated),e.jsonFilteredData=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&null==e.display_order&&1==e.is_system_generated),e.CustomFieldjsonData=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&null==e.display_order&&0==e.is_system_generated),e.FiledList=a,e.FieldData=a;var i=a[0],s=e.FiledList.findIndex((function(e,t){return"-1"==e.group_id})),l=e.FiledList;if(l.fieldData=i,l.fieldData.is_required=!1,e.ModuleName=e.FieldData[0].Module_name,e.SubModuleName=e.FieldData[0].sub_module_code,e.FiledList[s]=l,null!=e.FieldData&&e.FieldData.length>0){var o=e.FieldData[0].group_id;$.each(e.FieldData,$.proxy((function(t,a){o=a.group_id,a.cultureDetails=e.MakeNormalArray(a.cultureDetails);var i=e.LayoutList.filter(e=>e.group_id==o);if(0==i.length){var s=e.FieldData.filter(e=>e.group_id==o);if(s.length>0){var l={group_id:o,group_name:s[0].group_name,LayoutType:s[0].layout_type,group_display_name:e.GetLocalizedValue(s[0].group_name,s[0].group_display_name),group_is_system_generated:s[0].group_is_system_generated,FieldData:s};e.LayoutList.push(l)}}}),e))}}e.isLoading=!1}))},MakeNormalArray(e){try{return JSON.parse(e)}catch(t){return e}},AddNewGroup:function(){var e=this.FieldData[0].group_id,t=$.grep(this.FieldData,(function(t,a){return t.group_id==e})),a=t[0];a=Object.assign({},a,{}),a.is_include_in_post_jon="no",a.name="X"+this.addGroupId,a.display_name="X"+this.addGroupId;var i=[];i.push(a);var s={group_id:-this.addGroupId,group_name:"NewGroup "+this.addGroupId,group_display_name:"NewGroup "+this.addGroupId,group_is_system_generated:!1,LayoutType:"double",FieldData:i};this.LayoutList.push(s),this.addGroupId+=1},GetFieldType:function(e,t){return"email"==t?t:e},GetLocalizedValue:function(e,t){if(this.isBlank(t)){var a=String(e).toUpperCase();return a||1==/^\s*$/.test(a)?a:(a=String(e),a||1==/^\s*$/.test(a)?a:e)}a=String(t).toUpperCase();return a||1==/^\s*$/.test(a)?a:(a=String(t),a||1==/^\s*$/.test(a)?a:t)},checkMove:function(e){return!(!e.draggedContext.element.is_system_generated||"StopDragfield"!=e.to.id)||(""==e.related.id?""!=e.dragged.id&&!e.draggedContext.element.is_system_generated&&"customID"==e.to.id||""==e.to.id:e.related.id=="FieldId"+e.relatedContext.element.custom_field_id||void 0)},endDrag:function(e,t){this.drag=!0;let a=e.item.__draggable_context.element;var i;"System_Layout"==t&&(this.jsonFilteredData.forEach((e,t)=>{e.custom_field_id==a.custom_field_id&&(i=t)}),this.jsonFilteredData.splice(i,1));"Custom_Layout"==t&&(this.CustomFieldjsonData.forEach((e,t)=>{e.custom_field_id==a.custom_field_id&&(i=t)}),this.CustomFieldjsonData.splice(i,1));return"StopDragfield"==e.item.id&&!e.relatedContext.element.is_system_generated||"customID"!=e.to.id&&void e.preventDefault()},SubmitData:function(){this.submitButtom=!0;var e=this;e.isLoading=!0;var t=this.LayoutList,a=[],i=[],s=[];this.picklistOptionBlankItems=[],this.duplcateGroupNameExists="",this.duplicateNameExists="",this.isGroupNameBlank="",$.each(this.LayoutList,(function(t,a){1==s.includes(a.group_display_name)?e.duplcateGroupNameExists=a.group_display_name:s.push(a.group_display_name),""==a.group_display_name&&(e.isGroupNameBlank=a.group_name),$.each(a.FieldData,(function(t,a){"select"!=a.dt_code&&"radio"!=a.dt_code&&"checkbox"!=a.dt_code||""!=$.trim(a.picklist_options)||e.picklistOptionBlankItems.push(a.name),1==i.includes(a.name)?e.duplicateNameExists=a.name:i.push(a.name)}))})),$.each(t,(function(e,t){var i=t.FieldData,s=0;void 0!=typeof i&&null!=i&&i.forEach((e,t)=>{null==e.custom_layout_id?(e.is_inserted=1,e.is_updated=0):(e.is_inserted=0,e.is_updated=1)});var l=$.grep(i,(function(e,t){return e.display_order=t+1,"yes"==e.is_include_in_post_jon})),o={group_id:t.group_id,group_name:t.group_name,group_display_name:t.group_display_name,layout_type:t.LayoutType,is_inserted:t.group_id<=0?1:0,is_updated:s,display_order:e+1,FieldData:l};a.push(o)}));var l={moduleName:e.FieldData[0].Module_name,subModuleCode:e.FieldData[0].sub_module_code,CUSTOM_LAYOUT_ID:e.CustomLayout_Id,data:a};if(""==this.duplicateNameExists&&""==this.duplcateGroupNameExists&&""==this.isGroupNameBlank&&0==this.picklistOptionBlankItems.length){var o=JSON.stringify(l);n["a"].ManageLayoutPage(o).then((function(t){"Success"==t.data[0].Status?e.ShowAlert(e.$t("CustomLayoutSuccess",[e.$t("Lauout")]),"success",!0,e.$t("Alert")):"Failure"==t.data[0].Status&&e.ShowAlert(e.$t("CustomLayoutError",[e.$t("Lauout")]),"faliure",!0,e.$t("Alert"))})),this.submitButtom=!1,e.isLoading=!1}else e.isLoading=!1,this.submitButtom=!1,alert("CorrectHighlightedErrors")},closePropPopup(e){var t=this;null!=e&&(t.FieldPropertyData=e),t.showFieldPropPopup=!1}}},b=D,L=(a("ce4e"),Object(f["a"])(b,i,s,!1,null,null,null));t["default"]=L.exports},"86e4":function(e,t,a){"use strict";a("2445")},a9c2:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"div#collapseOne12{height:30vh;overflow-y:scroll;overflow-x:hidden}",""]),e.exports=t},ce4e:function(e,t,a){"use strict";a("0be2")}}]);
//# sourceMappingURL=chunk-db82ceba.js.map