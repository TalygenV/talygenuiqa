(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1607fb6c"],{"1c8e":function(e,a,t){var i=t("dfdc");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var l=t("499e").default;l("071ce25e",i,!0,{sourceMap:!1,shadowMode:!1})},"1d8b":function(e,a,t){"use strict";var i=function(){var e=this,a=e._self._c;return a("div",[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle py-0"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return e.CloseCustomFieldsPopup()}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title py-3",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("AddCustomFields"))+" ")])]),a("div",{staticClass:"container-fluid padding-t_10"},[a("div",{staticClass:"left-menu-tab"},[e._m(0),a("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card"},[a("div",{staticClass:"collapse show",attrs:{id:"collapseOne13",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[a("div",{staticClass:"card-body p-2"},[a("draggable",{staticClass:"draggable-list",attrs:{list:e.systemFieldList,"item-key":"Data_type_id",group:"fieldList",tag:"ul"},on:{start:function(a){e.drag=!0},end:function(a){return e.AllowOneElementdrop()}},model:{value:e.systemFieldList,callback:function(a){e.systemFieldList=a},expression:"systemFieldList"}},[e._l(e.systemFieldList,(function(t){return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12"},[a("div",{class:{"user-defined-fields":!0,"fa fa-navicon":"MultiLine"==t.display_name,"fa fa fa-ellipsis-h":"SingleLine"==t.display_name,"fa fa-list":"Selectlist"==t.display_name,"fa fa-sort-numeric-asc":"Integer"==t.display_name,"fa  fa-list-ol":"LongInteger"==t.display_name,"fa fa fa-circle":"Decimal"==t.display_name,"fa fa-calendar-o":"Date"==t.display_name,"fa fa-check-square-o":"Checkbox"==t.display_name,"fa fa-dot-circle-o":"Radio"==t.display_name,"fa fa-at":"Url"==t.display_name,"fa fa-phone":"Phone"==t.display_name,"fa fa-envelope":"Email"==t.display_name}},[a("label",{staticClass:"pl-2 font-16 fontpoppins"},[e._v(e._s(e.$t(t.display_name)))])])])])]}))],2)],1)])])])])]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"col-lg-12 mb-0 float-left p-0"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("Detail"))+" ")])])])]),a("br"),a("br"),a("div",{staticClass:"dashed_bod_drag text-center mt-2 py-1"},[0==e.disabled?a("h3",[e._v("Drop here ")]):e._e(),a("draggable",{staticClass:"draggable-list",staticStyle:{"min-height":"50px"},attrs:{list:e.dropfieldslist,id:"dragList",disabled:e.disabled,group:"fieldList",tag:"ul","item-key":"Data_type_id"},on:{start:function(a){e.drag=!0},end:function(a){e.drag=!0}},model:{value:e.dropfields,callback:function(a){e.dropfields=a},expression:"dropfields"}},[e._l(e.dropfieldslist,(function(t){return[a("div",{staticClass:"list-item parent-element"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 d-flex"},[a("input",{staticClass:"w-60 py-1 px-2 bg-white",attrs:{type:"text",placeholder:e.FieldPropertyData.length>0?e.FieldPropertyData[0].Name:t.Data_type_name,disabled:""}}),a("div",{staticClass:"field-action mt-2 parentdiv",attrs:{id:"MainDivForLayout"}},[a("div",{staticClass:"dropdown"},[a("a",{staticClass:"action-icon",attrs:{id:"dropdownMenuButton",href:"#"},on:{click:function(a){return e.openpopupfordraggedfield(a)}}},[a("em",{staticClass:"fa fa-ellipsis-h text-secondary"})]),a("div",[a("div",{staticClass:"verticle-action"},[a("span",{staticClass:"action-list-box small filter-list-box"},[a("span",{staticClass:"list-actions text-left border-0 p-0",attrs:{id:"action-list"}},[a("span",{staticClass:"dropdown-menu dropdown-menu-dark filter-list-box d-block",staticStyle:{left:"15px"}},[a("em",{staticClass:"fa fa-times",staticStyle:{position:"absolute",right:"-6px",top:"-12px","z-index":"1"},attrs:{"aria-hidden":"true"},on:{click:e.closepopupfordraggedfield}}),a("div",{staticClass:"modal-header ui-draggable-handle py-0"}),a("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"},on:{click:function(a){return e.OpenPropertyPopup(t.Data_type_id,t.Data_type_name)}}},[a("em",{staticClass:"fa fa-eye text-primary float-left my-0 ml-1",staticStyle:{"font-size":"16px"}}),a("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("ViewProperties")))])]),a("div",{staticClass:"dropdown-divider m-0"}),a("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"},on:{click:function(a){return e.RemoveField(t.Data_type_id)}}},[a("em",{staticClass:"fa fa-trash text-danger float-left my-0 ml-1",staticStyle:{"font-size":"16px"}}),a("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("RemoveField")))])])])])])])])])])])])])]}))],2)],1),a("span",{staticClass:"invalid-feedback d-block"},[e._v(e._s(e.errorMessage)+" ")])]),a("div",{staticClass:"col-lg-12 p-0 text-right my-3 float-left"},[a("a",{class:{"btn btn-success mr-2":!0},attrs:{href:"javascript:;",title:"Save"},on:{click:function(a){return e.SubmitData()}}},[a("em",{staticClass:"fa fa-save pr-2"}),e._v("Submit")]),a("button",{staticClass:"btn btn-danger formbtn widthhalf",attrs:{title:"Cancel"},on:{click:e.CloseCustomFieldsPopup}},[a("em",{staticClass:"fa fa-close pr-2"}),e._v("Cancel")])])])])])])]),e.showFieldPropPopup?a("CustomFieldPropertyPopup",{attrs:{oldFieldPropertyData:e.oldFieldPropertyData,divManageLayoutProp:e.divManageLayoutProp,iSLayoutControl:e.iSLayoutControl,DataTypeId:e.DataTypeId,FieldName:e.FieldName,LanguageArray:e.LanguageArray,datetypelable:e.datetypelable}}):e._e()],1)},l=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"theme-primary partition"},[a("span",{staticClass:"p-name text-white"},[e._v("User Defined Fields:")])])])])}],s=(t("14d9"),t("b76a")),d=t.n(s),n=t("9769"),o=t("e4fa"),r={props:{LanguageArrayData:{type:Array,required:!0},Sub_ModuleId:{type:String,required:!0},ModuleId:{type:String,required:!0}},components:{draggable:d.a,DataService:n["a"],CustomFieldPropertyPopup:o["a"]},data(){return{drag:!1,dropfieldslist:[],dropfields:[],systemFieldsModel:"",OldIdForProp:"",systemFieldList:[],showFieldPropPopup:!1,FieldName:"",DataTypeId:"",iSLayoutControl:!1,divManageLayoutProp:!1,LanguageArray:[],FieldPropertyData:[],oldFieldPropertyData:[],finalJsonData:[],controlOnStart:!0,bindEditedDataProperty:[],disabled:!1,errorMessage:"",datetypelable:!1}},created:function(){var e=this;e.GetCustomFieldDataTypes()},methods:{CloseCustomFieldsPopup(){this.$parent.hidePopup()},openpopupfordraggedfield(e){$(".filter-list-box").width("0px").css("overflow","hidden"),$(e.target).closest(".parentdiv").find(".filter-list-box").css("overflow","visible")},closepopupfordraggedfield:function(){$(".filter-list-box").width("0px").css("overflow","hidden")},endDrag(e,a){},AllowOneElementdrop(){var e=this;null==e.dropfields&&(e.disabled=!1),null!=e.dropfields?e.disabled=!0:e.disabled=!1},clone({name:e}){return{name:e}},pullFunction(){return!this.controlOnStart||"clone"},closeAddCustomFieldPopup(){var e=this;e.$parent.closeAddCustomField()},RemoveField:function(e){var a=this;a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("Report"),(function(){var t=a.dropfieldslist.findIndex(a=>a.Data_type_id===e);t>-1&&(a.systemFieldList.push(a.dropfieldslist[t]),a.dropfieldslist.splice(t,1),a.FieldPropertyData=[],""==a.dropfields&&(a.disabled=!1))}))},SubmitData(){var e=this;if(e.closepopupfordraggedfield(),0!=e.FieldPropertyData.length){e.FieldPropertyData.forEach(a=>{let t={CUSTOM_FIELD_ID:0,MODULE_ID:e.ModuleId,SUB_MODULE_ID:e.Sub_ModuleId,NAME:a.Name,DISPLAY_NAME:a.displayName,DESCRIPTION:a.Description,PICKLIST_OPTION:a.PickListOption,TYPE_ID:a.id,LENGTH:a.Length,IS_REQUIRED:"undefined"==a.IsRequired?0:1,STATUSID:1001,DECIMAL_PLACES:a.DecimalPlaces,LOC_VALUE:a.LanguageName,FORM_FIELD_VISIBILITY:"YES",LIST_FIELD_VISIBILITY:"YES"};e.finalJsonData.push(t)});var a="jsonString="+JSON.stringify(e.finalJsonData);n["a"].SaveUpdateCustomField(a).then((function(a){var t=JSON.parse(a.data);1==t.STATUS_CODE?(e.ShowAlert(e.$t("CustomFieldSuccess",[e.$t("Field")]),"success",!0,e.$t("Alert")),e.$emit("GetCustomNewField",e.finalJsonData),e.CloseCustomFieldsPopup()):3==t.STATUS_CODE?e.ShowAlert(e.$t("CustomFieldExists"),"danger",!0,e.$t("Alert")):(e.ShowAlert(e.$t("CustomFieldUpdate"),"success",!0,e.$t("Alert")),e.$emit("GetCustomNewField",e.finalJsonData),e.CloseCustomFieldsPopup())}))}else e.errorMessage="Property is not set for this custom field."},closePropPopup(e){var a=this;null!=e&&(a.FieldPropertyData=e),a.showFieldPropPopup=!1},OpenPropertyPopup(e,a){var t=this;if("Date"==a&&(t.datetypelable=!0),t.FieldPropertyData.length>0){var i=t.dropfieldslist.findIndex(a=>a.Data_type_id===e);i>-1&&t.bindEditedDataProperty.push(t.dropfieldslist[i])}t.DataTypeId=e,t.FieldName=a,t.iSLayoutControl=!0,t.divManageLayoutProp=!1,t.LanguageArray=t.LanguageArrayData,t.oldFieldPropertyData=t.FieldPropertyData,t.showFieldPropPopup=!0},GetCustomFieldDataTypes(){var e=this;n["a"].GetCustomFieldDataType().then((function(a){null!=JSON.parse(a.data)&&(e.systemFieldList=JSON.parse(a.data).data)}))}}},c=r,p=(t("368b"),t("2877")),u=Object(p["a"])(c,i,l,!1,null,null,null);a["a"]=u.exports},"213b":function(e,a,t){"use strict";var i=function(){var e=this,a=e._self._c;return a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle py-0"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.closePopup}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title py-3",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("CustomFieldDependency"))+" "+e._s(e.SelectedCustomFieldName)+" ")])]),a("div",{staticClass:"listing py-3 px-3"},[a("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([null!=e.DependencyData?{key:"tgslot-ProductTypeCode",fn:function({data:t}){return[a("div",{staticClass:"col-lg-12 p-0 workdiary_sanp_row border p-3"},[a("div",{staticClass:"timeline-panel row"},[a("div",{staticClass:"col-md-6"},[a("ul",{staticClass:"list-group"},e._l(e.GetMultiSelectValue,(function(t,i){return a("li",{key:i,staticClass:"list-group-item",class:{sel:e.selectedItem&&e.selectedItem.name===t.name},on:{click:function(a){return e.showWhenSelectItem(t)}}},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("div",{staticClass:"col-md-6 border-left pl-5"},[a("div",{staticClass:"scroldv"},[a("ul",{staticClass:"list-group",attrs:{id:"rightList"}},e._l(e.DependencyData,(function(t){return a("li",{staticClass:"list-group-item"},[a("label",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{staticClass:"chkItems custom-control-input",attrs:{id:t.value,type:"checkbox",value:"53053"},on:{change:function(a){return e.checkedSelected(t)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:t.value}},[e._v(e._s(t.name))]),a("input",{attrs:{type:"hidden"},domProps:{value:t.value}})])])])})),0)])])])])]}}:null],null,!0)})],1)])])])])},l=[],s=(t("14d9"),t("240d")),d=t("9769"),n={components:{DynamicForm:s["DynamicForm"]},props:{CustomFieldId:{type:Number,required:!0},DependencyData:{type:Array,required:!0}},data(){return{dependentId:null,selectedItem:null,dependentOnDdlId:"",type:"dependonddl",CustomData:[],dependentListArray:[],CustomArray:[],SelectedCustomFieldName:null,GetMultiSelectValue:[],GetEditDependencyData:[],showWhenListSelectedItem:"",TagsSelectedArray:[],FormSchema:[{layoutType:"Single",Data:[{astype:"SelectField",label:this.$t("DependOn"),name:"DependOn",value:"",config:{options:[],onChange:this.GetCustomFieldDDL},validationRules:"required"}]},{layoutType:"Single",Data:[{astype:"MultiSelectField",label:this.$t("ShowWhen"),name:"ShowWhen",value:"",mode:"tag",placeholder:"",config:{options:[],onChange:this.GetMultiValues,onRemove:this.removeRecord},validationRules:"required"}]},{layoutType:"Single",Data:[{astype:"SlotField",label:"",name:"ProductTypeCode",value:"",placeholder:"",config:{options:[]}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}]}},created:function(){var e=this;e.SelectedCustomFieldName=e.$parent.customFieldName,e.GetCustomFieldDependent(),e.editDependency()},methods:{GetCustomFieldDependent(){var e=this,a=[],t="customFieldId="+e.CustomFieldId;d["a"].GetCustomFieldDependentListing(t).then(t=>{a=JSON.parse(t.data),null!=a.data&&a.data.forEach(a=>{e.FormSchema[0].Data[0].config.options.push({value:a.custom_field_id,name:a.name})})})},async GetCustomFieldDDL(e,a,t){var i=this,l=[];i.dependentOnDdlId=t||e.target.value,i.FormSchema[1].Data[0].config.options=[];var s=`customFieldId=${i.dependentOnDdlId}&Type=${i.type}`;await d["a"].GetCustomFieldShowWhenDDL(s).then(a=>{l=JSON.parse(a.data),null!=l&&l.forEach(e=>{i.FormSchema[1].Data[0].config.options.push({value:e.value,name:e.name})}),""!=e&&e.target.value==i.dependentId&&i.editDependency(),i.TagsSelectedArray=[],i.GetMultiSelectValue=[],i.FormSchema[1].Data[0].value=[],$("#rightList input:checkbox").each((function(e,a){$(a).prop("checked",!1)}))})},closePopup(){var e=this;e.$parent.isShowDependencyFieldPopup=!1},showWhenSelectItem(e){var a=this;if(a.selectedItem=e,$("#rightList :checked").each((function(e,a){$(a).prop("checked",!1)})),a.dependentListArray.length>0)for(var t=0;t<a.dependentListArray.length;t++)e.value==a.dependentListArray[t].value&&a.dependentListArray[t].dependent.forEach(e=>{$("#rightList input:checkbox").each((function(a,t){$(t).siblings('input[type="hidden"]').val()==e&&$(t).prop("checked",!0)}))});if(a.showWhenListSelectedItem=e.value,0==a.dependentListArray.filter(a=>a.value==e.value).length){var i={value:e.value,dependent:[]};a.dependentListArray.push(i)}if(JSON.parse(a.GetEditDependencyData.value_mapping).length>0)for(t=0;t<a.dependentListArray.length;t++)e.value==a.dependentListArray[t].value&&JSON.parse(a.GetEditDependencyData.value_mapping).forEach(a=>{a.value==e.value&&a.dependent.forEach(e=>{$("#rightList input:checkbox").each((function(a,t){$(t).siblings('input[type="hidden"]').val()==e&&$(t).prop("checked",!0)}))})});if(a.dependentListArray.length>0)for(t=0;t<a.dependentListArray.length;t++)a.dependentListArray[t].value==e.value&&(a.dependentListArray[t].dependent=[],$("#rightList :checked").each((function(e,i){a.dependentListArray[t].dependent.push($(i).siblings('input[type="hidden"]').val())})))},checkedSelected(e){var a=this;if(a.dependentListArray.length>0)for(var t=0;t<a.dependentListArray.length;t++)a.dependentListArray[t].value==a.showWhenListSelectedItem&&(a.dependentListArray[t].dependent=[],$("#rightList :checked").each((function(e,i){a.dependentListArray[t].dependent.push($(i).siblings('input[type="hidden"]').val())})))},removeRecord(e,a,t){var i=this;let l=i.GetMultiSelectValue.findIndex(a=>a.value===e.value);-1!=l&&i.GetMultiSelectValue.splice(l,1)},GetMultiValues(){var e=this,a=e.FormSchema[1].Data[0].config.options.filter(e=>e.name==event.target.textContent)[0];a.isSel=!1,e.GetMultiSelectValue.push(a)},onSubmit(e,a){var t=this,i=e.DependOn,l=[],s=(JSON.stringify(Array.prototype.map.call(e.ShowWhen,(function(e){l.push(e.value)}))),{depend_on:e.DependOn,value:l}),n=`customFieldDependencyId=&customFieldId=${t.$parent.CustomFieldId}&dependentOn=${i}&showWhen=${JSON.stringify(s)}&valueMapping=${JSON.stringify(t.dependentListArray)}`;d["a"].ManageCustomFieldDependency(n).then(e=>{"1"==e.data?(t.ShowAlert(t.$t("DependentSuccess"),"Success",!0,t.$t("Alert")),t.closePopup()):"2"==e.data&&(t.ShowAlert(t.$t("UpdatedSuccessfully"),"Success",!0,t.$t("Alert")),t.closePopup())})},async editDependency(){var e=this;e.GetEditDependencyData=[];var a=[];e.TagsSelectedArray=[],e.GetMultiSelectValue=[],e.FormSchema[1].Data[0].value=[];var t=`customFieldId=${e.$parent.CustomFieldId}&dependentOnId=`;if(await d["a"].GetCustomFieldId(t).then(t=>{a=JSON.parse(t.data),a.data.length>0&&(e.GetEditDependencyData=a.data[0])}),e.dependentId=a.data[0].dependent_on,null!=e.dependentId||void 0!=e.dependentId||""!=e.dependentId){e.FormSchema[0].Data[0].value=e.dependentId,await e.GetCustomFieldDDL("","",e.dependentId);const a=JSON.parse(e.GetEditDependencyData.show_when).value,t=e.FormSchema[1].Data[0].config.options.filter(e=>a.includes(e.value));return e.GetMultiSelectValue=t,e.TagsSelectedArray=t.map(e=>({label:e.name,value:e.value})),void(e.FormSchema[1].Data[0].value=e.TagsSelectedArray)}}}},o=n,r=(t("5cdb"),t("2877")),c=Object(r["a"])(o,i,l,!1,null,"7dd3fba6",null);a["a"]=c.exports},"368b":function(e,a,t){"use strict";t("1c8e")},"468b":function(e,a,t){var i=t("24fb");a=i(!1),a.push([e.i,".scroldv[data-v-7dd3fba6]{max-height:490px;overflow-y:scroll}.sel[data-v-7dd3fba6]{background-color:#41b883;color:#fff}.timeline-panel li[data-v-7dd3fba6]{max-width:95%;min-width:95%;margin-bottom:0}.custom-checkbox .custom-control-label[data-v-7dd3fba6]{margin-top:5px;margin-left:0;padding-top:3px;padding-left:5px}",""]),e.exports=a},"578d":function(e,a,t){var i=t("468b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var l=t("499e").default;l("66d856cc",i,!0,{sourceMap:!1,shadowMode:!1})},"5cdb":function(e,a,t){"use strict";t("578d")},dfdc:function(e,a,t){var i=t("24fb");a=i(!1),a.push([e.i,".makepopleft#mainDivProp .dropdown-menu{inset:unset!important;transform:unset!important;right:0!important}",""]),e.exports=a},e4fa:function(e,a,t){"use strict";var i=function(){var e=this,a=e._self._c;return a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle py-0"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.closePopup}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title py-3",attrs:{name:"header"}},[e._v(" "+e._s(e.FieldName)+" "+e._s(e.$t("Properties"))+" ")])]),a("div",{staticClass:"listing py-3 px-3"},[a("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)])])])])},l=[],s=(t("14d9"),t("240d")),d={components:{DynamicForm:s["DynamicForm"]},props:{DataTypeId:{type:Number,required:!0},FieldName:{type:String,required:!0},LanguageArray:{type:Array,required:!0},oldFieldPropertyData:{type:Array,required:!0},AddCustomFields:{type:String,required:!0},IsSystemGeneratedField:{type:Boolean,required:!0},EditProperty:{type:Object,required:!0},datetypelable:{type:Boolean,required:!0}},data(){return{lenghtOfLanguageDiv:null,Lblname:"",myObj:[],IsRequired:null,displayName:"",ddlLanguage:"",LengthVal:"",DecimalVal:"",txtDescription:"",dummyArray:[],SelectedData:[],langSelectedData:[],displayNameTextData:[],diplayNameWithCulture:[],langCulture:[],languageCultureArray:[],displayNameData:"",FormSchema:[{layoutType:"four",Data:[{astype:"TextField",label:"Label",name:"Label",value:this.FieldName,placeholder:"",disabled:!1,validationRules:{required:!0}},{astype:"TextField",label:"Pick List Option",name:"PickListOption",value:"",visibility:!1,placeholder:"Enter comma seprated value ",validationRules:{required:!0}},{astype:"NumericField",label:"Length",name:"Length",value:"",placeholder:"Enter Length",visibility:!0,validationRules:{required:!0}},{astype:"NumericField",label:"Decimal Places",name:"DecimalPlaces",value:"",placeholder:"",visibility:!1,validationRules:{required:!0}},{astype:"CheckBoxField",label:"Mark as Required",name:"MarkasRequired",value:"",placeholder:"",visibility:!0,config:{options:[{value:"1",name:""}]}},{astype:"TextAreaField",label:"Description",name:"Description",value:"",placeholder:"Enter Description",visibility:!0,validationRules:"",config:{rows:3}}]},{layoutType:"double",Data:[{astype:"SelectField",label:"Language",name:"Language",value:"",placeholder:"",chkIndex:0,visibility:!1,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName",value:"",placeholder:"Enter Display Name",chktxtIndex:0,visibility:!1,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onAddButtonClick:this.AddMultiLanguage}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}]}},created:function(){var e=this;e.ShowHideFields(),e.BindLangDDL(),0==e.oldFieldPropertyData.length&&"FromManage"!=e.AddCustomFields||e.EditBindFornData(),1==e.datetypelable&&(e.FormSchema[0].Data[2].visibility=!1)},methods:{EditBindFornData(){var e=this;if("FromManage"==e.AddCustomFields){e.FormSchema[0].Data[0].value=e.EditProperty.display_name,e.FormSchema[0].Data[1].value="undefind"!=e.EditProperty.picklist_options?e.EditProperty.picklist_options:"",e.FormSchema[0].Data[2].value=e.EditProperty.length,e.FormSchema[0].Data[3].value="undefind"!=e.EditProperty.decimal_places?e.EditProperty.decimal_places:"",e.FormSchema[0].Data[4].value=1==e.EditProperty.is_required?"1":"",e.FormSchema[0].Data[5].value=e.oldFieldPropertyData.Description,e.EditProperty.cultureDetails=e.MakeNormalArray(e.EditProperty.cultureDetails);var a={};if(e.EditProperty.cultureDetails.forEach(t=>{a={},a.value=t.lang_id,e.languageCultureArray.push(a),a={},a.value=t.localization_value,e.languageCultureArray.push(a)}),0!=e.EditProperty.cultureDetails.length){var t=e.languageCultureArray.length/2,i=1;e.languageCultureArray.forEach((a,l)=>{i<t&&(e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.BindLangDDL(e.Lblname),i++)}),e.languageCultureArray.forEach((a,t)=>{e.FormSchema[1].Data[t].value=a.value})}}else{if(e.FormSchema[0].Data[0].value=e.oldFieldPropertyData[0].Name,e.FormSchema[0].Data[1].value="undefind"!=e.oldFieldPropertyData[0].PickListOption?e.oldFieldPropertyData[0].PickListOption:"",e.FormSchema[0].Data[2].value=e.oldFieldPropertyData[0].Length,e.FormSchema[0].Data[3].value="undefind"!=e.oldFieldPropertyData[0].DecimalPlaces?e.oldFieldPropertyData[0].DecimalPlaces:"",0!=e.oldFieldPropertyData[0].IsRequired?e.FormSchema[0].Data[4].value="1":e.FormSchema[0].Data[4].value="",e.FormSchema[0].Data[5].value=e.oldFieldPropertyData[0].Description,0!=e.oldFieldPropertyData.length){t=e.oldFieldPropertyData[0].LanguageDivLength.length/2,i=1;e.oldFieldPropertyData[0].LanguageDivLength.forEach((a,l)=>{i<t&&(e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.FormSchema[1].Data.forEach(a=>{e.Lblname=a.name}),e.BindLangDDL(e.Lblname),i++)})}e.oldFieldPropertyData[0].LanguageDivLength.forEach((a,t)=>{e.FormSchema[1].Data[t].value=a.value})}},MakeNormalArray(e){try{return JSON.parse(e)}catch(a){return e}},ShowHideFields(){var e=this;1==e.IsSystemGeneratedField?(e.FormSchema[0].Data[1].visibility=!1,e.FormSchema[0].Data[0].disabled=!0,e.FormSchema[0].Data[2].visibility=!1,e.FormSchema[0].Data[3].visibility=!1,e.FormSchema[0].Data[5].visibility=!1,e.FormSchema[1].Data[0].visibility=!1,e.FormSchema[1].Data[1].visibility=!1):(e.FormSchema[1].Data[0].visibility=!0,e.FormSchema[1].Data[1].visibility=!0,"Decimal"==e.FieldName&&(e.FormSchema[0].Data[3].visibility=!0),"Select List"!=e.FieldName&&"Checkbox"!=e.FieldName||(e.FormSchema[0].Data[1].visibility=!0),"Date"==e.FieldName&&(e.FormSchema[0].Data[1].visibility=!1,e.FormSchema[0].Data[3].visibility=!1))},BindLangDDL(e){var a=this;void 0==e?a.LanguageArray.forEach((e,t)=>{a.FormSchema[1].Data[0].config.options.push({value:e.lang_id,name:e.lang_name})}):a.LanguageArray.forEach((t,i)=>{"undefined"!=typeof e&&null!=e&&a.FormSchema[1].Data.forEach((e,i)=>{i%2==0&&a.FormSchema[1].Data[i].config.options.push({value:t.lang_id,name:t.lang_name})})})},closePopup(){var e=this;"FromManage"==e.AddCustomFields?e.$emit("closepopup"):e.$parent.closePropPopup()},AddMultiLanguage(){var e=this;e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.FormSchema[1].Data.forEach(a=>{e.Lblname=a.name}),e.BindLangDDL(e.Lblname)},RemoveFile:function(e,a){var t=this,i=t.FormSchema[1].Data.findIndex(e=>e.chktxtIndex===a.chktxtIndex),l=i-1;i>-1&&t.FormSchema[1].Data.splice(i,1),l>-1&&t.FormSchema[1].Data.splice(l,1)},onSubmit(e,a){var t=this;t.lenghtOfLanguageDiv=t.FormSchema[1].Data;var i={};t.lenghtOfLanguageDiv.forEach((e,a)=>{"SelectField"==e.astype&&(i.localization_id=0,i.custom_field_id=0,i.user_guide="",i.lang_id=e.value),"TextField"==e.astype&&(i.localization_value=e.value,t.langCulture.push(i),i={})});var l="";if(t.FormSchema[1].Data.length>0){t.FormSchema[1].Data.forEach((e,a)=>{l+=a%2!=0?e.value+"^":e.value+","});var s=l.length-1;t.displayNameData=l.slice(0,s)}if(void 0!=t.EditProperty)t.EditProperty.cultureDetails=t.langCulture,0!=t.FormSchema[0].Data[4].value.length?t.EditProperty.is_required=void 0!=t.FormSchema[0].Data[4].value[0]:t.EditProperty.is_required="",void 0!=e.PickListOption&&(t.EditProperty.picklist_options=e.PickListOption),void 0!=e.Length&&(t.EditProperty.length=e.Length),t.EditProperty.group_id>0&&(t.EditProperty.is_updated=1);else{let a={};a={id:t.DataTypeId,Name:e.Label,IsRequired:0!=t.FormSchema[0].Data[4].value.length?t.FormSchema[0].Data[4].value[1]:"",LanguageName:t.displayNameData,displayName:e.Label,Length:e.Length,DecimalPlaces:e.DecimalPlaces,Description:e.Description,PickListOption:e.PickListOption,LanguageDivLength:t.lenghtOfLanguageDiv},t.myObj.push(a),null!=t.myObj.length&&t.$parent.closePropPopup(t.myObj)}if(t.EditProperty){var d=t.EditProperty;t.$parent.updateproperties(d,e)}}}},n=d,o=t("2877"),r=Object(o["a"])(n,i,l,!1,null,null,null);a["a"]=r.exports}}]);
//# sourceMappingURL=chunk-1607fb6c.js.map