(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cd19d71"],{"5d31":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"div#collapseOne12{height:30vh;overflow-y:scroll;overflow-x:hidden}.verticle-action.rt25.rt502{right:30px;top:-28px}",""]),t.exports=e},"5e31":function(t,e,a){"use strict";a("ca17")},7255:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{isVisible:t.isLoading}}),e("div",{staticClass:"col-md-12 p-0 my-3"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("ManageLayoutTitle"))+": "+t._s(t.ModuleName)+" >> "+t._s(t.$t(t.SubModuleName)))]),e("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"",id:"backtolist","data-original-title":t.$t("BacktoList")},on:{click:function(e){return t.Backtolist(e)}}},[e("em",{staticClass:"fa fa-angle-double-left pr-2"}),e("br"),t._v(t._s(t.$t("BacktoList"))+" ")])]),t._m(0)])]),"Preview"!=t.PreviewMode?e("div",{staticClass:"left-menu-tab"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("SystemFields")))])])]),e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card pt-2"},[e("div",{staticClass:"row mx-0"},[e("div",{staticClass:"col-md-8 px-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchLayout,expression:"searchLayout"}],staticClass:"form-control",attrs:{type:"text",name:"Search",placeholder:"Search System layout"},domProps:{value:t.searchLayout},on:{input:function(e){e.target.composing||(t.searchLayout=e.target.value)}}})]),e("div",{staticClass:"col-md-4 px-1"},[e("a",{staticClass:"btn btn-success mr-2",attrs:{id:"Search",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to search"},on:{click:t.filteredSystemField}},[e("em",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger",attrs:{id:"ResetFilters",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset"},on:{click:t.RefreshSystemFieldList}},[e("em",{staticClass:"fa fa-refresh"})])])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseOne12",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[e("div",{staticClass:"card-body p-2"},[e("draggable",{staticClass:"list-group ulparted pb-0",attrs:{element:"ul","item-key":"custom_field_id",group:"my-groupForFields",id:"StopDragfield",move:t.checkMove},on:{start:function(e){t.drag=!0},end:function(e){return t.endDrag(e,"System_Layout")}},model:{value:t.FiledListLeft,callback:function(e){t.FiledListLeft=e},expression:"FiledListLeft"}},t._l(t.FiledListLeft,(function(a,i){return 1==a.is_system_generated?e("div",{key:i,staticClass:"list-group-item left-fields p-2 mb-2",attrs:{groupid:a.group_id,id:a.type,title:a.name}},[e("label",{staticClass:"w-100 font-16 py-2 bg-white border px-3"},[t._v(t._s(t.$t(null!=a.display_name?a.display_name:a.name)))]),e("em",{staticClass:"fa fa-arrows",attrs:{"aria-hidden":"true"}})]):t._e()})),0)],1)])])])]),e("div",{staticClass:"col-md-12 p-0 mt-2"},[e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("CustomFields")))])])]),e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist",disabled:!t.enabled,"aria-multiselectable":"true"}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card pt-2"},[e("div",{staticClass:"row mx-0"},[e("div",{staticClass:"col-md-8 px-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCustomLayout,expression:"searchCustomLayout"}],staticClass:"form-control",attrs:{type:"text",name:"Search",placeholder:"Search Custom layout"},domProps:{value:t.searchCustomLayout},on:{input:function(e){e.target.composing||(t.searchCustomLayout=e.target.value)}}})]),e("div",{staticClass:"col-md-4 px-1"},[e("a",{staticClass:"btn btn-success mr-2",attrs:{id:"Searchingh",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to search"},on:{click:t.filteredCustomField}},[e("em",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger",attrs:{id:"ResetFilters",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset"},on:{click:t.RefreshCustomFieldList}},[e("em",{staticClass:"fa fa-refresh"})])])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseOne12",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[e("div",{staticClass:"card-body p-2"},[e("draggable",{staticClass:"list-group ulparted pb-0",attrs:{element:"ul",id:"customID",move:t.checkMove,"item-key":"custom_field_id",group:"my-groupForFields"},on:{start:function(e){t.drag=!0},end:function(e){return t.endDrag(e,"Custom_Layout")}},model:{value:t.CustomFieldListLeft,callback:function(e){t.CustomFieldListLeft=e},expression:"CustomFieldListLeft"}},[t._l(t.CustomFieldListLeft,(function(a,i){return[0==a.is_system_generated?e("div",{key:i,staticClass:"list-group-item left-fields p-2 mb-2",attrs:{groupid:a.group_id,id:a.type,title:a.name}},[e("label",{staticClass:"w-100 font-16 py-2 bg-white border px-3"},[t._v(t._s(t.$t(null!=a.display_name?a.display_name:a.name)))]),e("em",{staticClass:"fa fa-arrows",attrs:{"aria-hidden":"true"}})]):t._e()]}))],2)],1)]),e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.OpenAddCustomFieldPopup()}}},[t._v(t._s(t.$t("AddCustomField")))])])])])]):t._e(),e("div",{class:{"right-content":!0,disabled:"Preview"==t.PreviewMode}},[e("div",{staticClass:"listing"},[t._m(1),e("form",[e("div",{staticClass:"listing"},[e("draggable",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0",attrs:{list:t.LayoutList,"item-key":"group_id",group:"my-groupForFields1"},on:{start:function(e){t.drag=!0}},model:{value:t.LayoutList,callback:function(e){t.LayoutList=e},expression:"LayoutList"}},t._l(t.LayoutList,(function(a,i){return e("div",{key:i,staticClass:"collapse show float-left border mt-2"},[e("div",{staticClass:"mcf-head float-left border-bottom"},[e("em",{staticClass:"fa fa-th-large float-left mt-3 mr-2 text-secondary",attrs:{"aria-hidden":"true"}}),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:a.group_display_name,expression:"items.group_display_name",modifiers:{trim:!0}}],class:{"form-control form-control-sm":!0,"is-invalid":t.isGroupNameBlank==a.group_name||t.duplcateGroupNameExists==a.group_display_name},attrs:{type:"text"},domProps:{value:a.group_display_name},on:{input:function(e){e.target.composing||t.$set(a,"group_display_name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),e("div",{staticClass:"field-action mt-2 parentdiv",attrs:{id:"MainDivForLayout"}},[e("div",{staticClass:"dropdown"},[e("a",{attrs:{"aria-hidden":"true"},on:{click:function(e){return t.openmainDropdown(e)}}},[e("em",{staticClass:"fa fa-cog action_icon_cv"})]),e("div",[e("div",{staticClass:"verticle-action rt25 rt502"},[e("span",{staticClass:"action-list-box small filter-list-box"},[e("span",{staticClass:"list-actions text-left p-0 datarep ml-3",staticStyle:{width:"220px"},attrs:{id:"action-list"}},[e("div",{staticClass:"modal-header ui-draggable-handle px-2 py-2"},[e("span",{staticClass:"text-center font-16"},[t._v("Select layout")]),e("a",{staticClass:"bg-transparent text-end",attrs:{type:"button"}},[e("em",{staticClass:"fa fa-times text-dark",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.closemainDropdown(e)}}})])]),t._l(t.LayoutTypeList,(function(i){return e("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"}},[e("label",{staticClass:"form-check-inline menu_widjet"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.LayoutType,expression:"items.LayoutType"}],staticClass:"chkitems",attrs:{type:"radio"},domProps:{value:i.value,checked:t._q(a.LayoutType,i.value)},on:{change:function(e){return t.$set(a,"LayoutType",i.value)}}}),e("span",{staticClass:"label-text mx-1"},[t._v(t._s(t.$t(i.name)))])])])})),a.group_id<=0||1==a.FieldData.length&&"no"==a.FieldData[0].is_include_in_post_jon||0==a.group_is_system_generated?e("a",{staticClass:"dropdown-item border-top py-2 pl-2 bg-light",attrs:{href:"javascript:;"},on:{click:function(e){return t.RemoveLayout(a,a.group_id)}}},[e("em",{staticClass:"fa fa-trash text-danger",staticStyle:{"font-size":"20px"}}),e("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("RemoveGroup")))])]):t._e()],2)])])])])])]),e("draggable",t._b({staticClass:"col-12 float-left p-0",staticStyle:{"min-height":"100px"},attrs:{list:a.FieldData,"item-key":"custom_field_id",group:"my-groupForFields",move:t.checkMove,groupid:a.group_id,groupName:a.group_display_name,systemgenerated:a.group_is_system_generated,fieldLength:a.FieldData.length},on:{end:function(e){return t.onDragAdd(e)},start:function(e){t.drag=!0}}},"draggable",t.$attrs,!1),t._l(a.FieldData,(function(i,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:"yes"==i.is_include_in_post_jon,expression:"element.is_include_in_post_jon == 'yes'"}],key:s,class:{"col-sm-12 col-md-12 float-left p-2":!0,"col-lg-12 col-xl-12":"single"==a.LayoutType,"col-lg-6 col-xl-6":"double"==a.LayoutType,"col-lg-4 col-xl-4":"triple"==a.LayoutType,"col-lg-3 col-xl-3":"four"==a.LayoutType},attrs:{id:"FieldId"+i.custom_field_id,fielddata:i,systemgenerated:0==a.group_is_system_generated?0:1,fieldLength:a.length}},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("button",{staticClass:"close bg-transparent",attrs:{type:"button"},on:{click:function(e){return t.closeCustomField(i,a.FieldData)}}},[e("em",{staticClass:"fa fa-times text-dark",attrs:{"aria-hidden":"true"}})])]),e("div",{class:{"pickflowbase ml-cutomf-bg float-left p-2 w-100":!0,"field-required":1==i.is_required,"box-warning":0==i.is_system_generated,"border-danger":t.duplicateNameExists==i.name||t.picklistOptionBlankItems.includes(i.name)}},[e("div",{staticClass:"labeltext text-left p-0 float-left"},[1==i.is_system_generated?e("label",{class:{"form-control form-control-sm":!0,disabled:i.is_system_generated>0},attrs:{disabled:i.is_system_generated>0}},[t._v(t._s(t.$t(null!=i.display_name?i.display_name:i.name)))]):t._e(),0==i.is_system_generated?e("input",{directives:[{name:"model",rawName:"v-model",value:i.display_name,expression:"element.display_name"}],class:{"form-control form-control-sm":!0,disabled:i.is_system_generated>0},attrs:{type:"text",disabled:!0},domProps:{value:i.display_name},on:{keyup:function(e){return t.ChangeFieldName(i)},input:function(e){e.target.composing||t.$set(i,"display_name",e.target.value)}}}):t._e(),e("label",{staticClass:"d-none"},[t._v(t._s(i.name))])]),e("div",{staticClass:"dropdown float-right pt-1 mr-3 parentdiv1",attrs:{id:"mainDivProp"}},[e("div",{staticClass:"dropdown"},[e("a",{attrs:{"aria-hidden":"true"},on:{click:function(e){return t.openSystemgenrateddropdown(e)}}},[e("em",{staticClass:"fa fa-cog action_icon_cv"})]),e("div",[e("div",{staticClass:"verticle-action1 rt25 rt502"},[e("span",{staticClass:"action-list-box small filter-list-box"},[e("span",{staticClass:"list-actions text-left p-0 datarep ml-3 border-0",staticStyle:{width:"220px","box-shadow":"none"},attrs:{id:"action-list"}},[e("div",{staticClass:"modal-header ui-draggable-handle py-0 border-0"},[e("div",{staticClass:"dropdown-menu panelfix_dots rounded border bg-white d-block",attrs:{id:"FieldProId"+i.custom_field_id,"aria-labelledby":"dropdownMenuLink"}},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("button",{staticClass:"close",attrs:{type:"button"}},[e("em",{staticClass:"fa fa-times",staticStyle:{top:"-14px",left:"-6px"},attrs:{"aria-hidden":"true"},on:{click:t.popupcloseforsystemfields}})])]),e("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"}},[e("label",{staticClass:"form-check-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.is_required,expression:"element.is_required"}],attrs:{type:"checkbox",disabled:i.is_system_generated>0&&1==i.system_is_required},domProps:{value:!0,checked:Array.isArray(i.is_required)?t._i(i.is_required,!0)>-1:i.is_required},on:{change:function(e){var a=i.is_required,s=e.target,o=!!s.checked;if(Array.isArray(a)){var l=!0,d=t._i(a,l);s.checked?d<0&&t.$set(i,"is_required",a.concat([l])):d>-1&&t.$set(i,"is_required",a.slice(0,d).concat(a.slice(d+1)))}else t.$set(i,"is_required",o)}}}),e("span",{staticClass:"label-text text-secondary mx-1",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("MarkAsRequired")))])])]),e("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;",BindData:t.EditProperty},on:{click:function(e){return t.EditProperties(i)}}},[e("em",{staticClass:"fa fa-eye text-primary mx-1",staticStyle:{"font-size":"20px"}}),e("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[t._v(t._s(1==i.system_is_required&&1==i.is_system_generated?"View Properties":"Edit Properties"))])]),e("div",{staticClass:"dropdown-divider m-0"}),0==i.system_is_required?e("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;",custom_field_id:i.custom_field_id,is_required:i.is_required,is_updated:i.is_updated},on:{click:function(e){return t.closeCustomField(i,a.FieldData)}}},[e("em",{staticClass:"fa fa-trash text-danger mx-1",staticStyle:{"font-size":"20px"}}),e("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("RemoveField")))])]):t._e(),e("div",{staticClass:"dropdown-divider m-0"}),e("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;",custom_field_id:i.custom_field_id,is_required:i.is_required,is_updated:i.is_updated},on:{click:function(e){return t.Dependancypopupopen(i)}}},[e("em",{staticClass:"fa fa-brands fa-stack-overflow mx-1",staticStyle:{"font-size":"20px"}}),e("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("Dependancy")))])])])])])])])])])]),"radio"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-dot-circle-o",staticStyle:{"font-size":"18px"}})]):t._e(),"select"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa fa-list",staticStyle:{"font-size":"20px"}}),e("select",{staticClass:"form-control form-control-sm d-none",staticStyle:{width:"50px"}},[e("option",[t._v("Select")])])]):t._e(),"date"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-calendar-o",staticStyle:{"font-size":"20px"}})]):t._e(),"int"==i.dt_code||"bigint"==i.dt_code||"decimal"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-sort-numeric-asc",staticStyle:{"font-size":"20px"}})]):t._e(),"text"==i.dt_code&&"email"!=i.validation_type?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-navicon",staticStyle:{"font-size":"20px"}})]):t._e(),"string"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa fa-ellipsis-h",staticStyle:{"font-size":"20px"}})]):t._e(),"phone"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-phone",staticStyle:{"font-size":"20px"}})]):t._e(),"email"==i.validation_type?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-envelope",staticStyle:{"font-size":"20px"}})]):t._e()])])})),0)],1)})),0)],1),e("div",{staticClass:"col-lg-12 p-0 text-right mt-3 float-left"},[e("a",{staticClass:"btn btn-primary mr-2",attrs:{href:"javascript:;",title:"NewGroup"},on:{click:function(e){return t.AddNewGroup()}}},[e("em",{staticClass:"fa fa-users pr-2"}),t._v("NewGroup")]),e("a",{class:{"btn btn-success mr-2":!0,disabled:1==t.submitButtom},attrs:{href:"javascript:;",title:"Save"},on:{click:function(e){return t.SubmitData()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Save")]),e("button",{staticClass:"btn btn-primary delete-btn my-sm-0",attrs:{title:t.$t("Cancel")},on:{click:t.Cancel}},[e("em",{staticClass:"fa fa-times pl-2 pr-2"}),t._v(" "+t._s(t.$t("Cancel"))+" ")])])])])]),t.showCustomfieldPopup?e("OpenAddCustomFieldPopup",{attrs:{LanguageArrayData:t.LanguageArray,Sub_ModuleId:t.Sub_ModuleId,ModuleId:t.ModuleId},on:{GetCustomNewField:t.GetCustomNewField,hidePopup:t.hidePopup}}):t._e(),t.showFieldPropPopup?e("CustomFieldPropertyPopup",{attrs:{divManageLayoutProp:t.divManageLayoutProp,DataTypeId:t.DataTypeId,LanguageArray:t.LanguageArray,iSLayoutControl:t.iSLayoutControl,Field:t.Field,AddCustomFields:t.AddCustomFields,oldFieldPropertyData:t.oldFieldPropertyData,FieldName:t.FieldName,IsSystemGeneratedField:t.IsSystemGeneratedField,EditProperty:t.EditProperty},on:{closepopup:t.closepopup}}):t._e(),t.isShowDependencyFieldPopup?e("Dependancypopup",{attrs:{DependencyData:t.DependencyData,CustomFieldId:t.CustomFieldId}}):t._e()],1)},s=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"expand-list right-slide-arrow"},[e("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[e("em",{staticClass:"icon-solid arrow-solid-left c",staticStyle:{"font-size":"9pt"}})])])}],o=(a("14d9"),a("b76a")),l=a.n(o),d=a("1d8b"),r=a("e4fa"),n=a("213b"),u=a("9769"),c={poprs:{CustomlayoutId:{type:Number,required:!0},FieldPropertyData:{type:Array,required:!0},AddCustomFields:{type:String,required:!0}},components:{draggable:l.a,OpenAddCustomFieldPopup:d["a"],CustomFieldPropertyPopup:r["a"],Dependancypopup:n["a"]},data(){return{LayoutDetailsData:[],FiledList:[],FiledListLeft:[],CustomFieldListLeft:[],otherData:"",langCode:"en",moduleName:"",subModuleCode:"",CustomLayout_Id:"",id:"",FieldData:null,LayoutList:[],LayoutTypeList:[{name:"SingleColumn",value:"single"},{name:"DoubleColumn",value:"double"},{name:"TripleColumn",value:"triple"},{name:"FourColumn",value:"four"}],FieldActionList:[{name:"Mark as required",value:!0},{name:"Edit Properties",value:"editprop"},{name:"Remove Field",value:"remove"}],showModal:!1,EditProperty:null,nonDisplayField:[],addGroupId:1,duplicateNameExists:"",duplcateGroupNameExists:"",isGroupNameBlank:"",LanguageArray:[],LanguageArrayData:[],submitButtom:!1,picklistOptionBlankItems:[],drag:!1,showCustomfieldPopup:!1,FieldLayoutData:[],OldIdForProp:"",OldLayoutIconVal:"",showFieldPropPopup:!1,FieldName:"",Field:"",iSLayoutControl:!1,divManageLayoutProp:!1,enabled:!0,RemovefieldsPopup:"",AddCustomFields:"",ModuleId:"",Sub_ModuleId:"",oldFieldPropertyData:[],searchLayout:"",searchCustomLayout:"",jsonFilteredData:[],CustomFieldjsonData:[],LayoutFilterData:[],FieldPropertyData:[],IsSystemGeneratedField:"",ModuleName:"",SubModuleName:"",isLoading:!1,PreviewMode:"",disabled:!1,DataTypeId:"",editpropertydata:[],isShowDependencyFieldPopup:!1,DependencyData:[],CustomFieldId:null,customFieldName:null,labeltype:""}},created:function(){var t=this;t.CustomLayout_Id=t.$route.params.CustomlayoutId,t.PreviewMode=t.$route.params.PreviewMode,t.FetchData(t.CustomLayout_Id)},methods:{async Dependancypopupopen(t){var e=this;return e.customFieldName=t.name,null!=t.custom_field_id||void 0!=t.custom_field_id?(e.CustomFieldId=t.custom_field_id,await e.MappingLookupList(),e.isShowDependencyFieldPopup=!0):e.isShowDependencyFieldPopup=!1},async MappingLookupList(){var t=this;let e=[];var a="customFieldId="+t.CustomFieldId;await u["a"].GetCustomFieldShowWhenDDL(a).then(a=>{e=JSON.parse(a.data),t.DependencyData=e})},hidePopup(){this.showCustomfieldPopup=!1},openmainDropdown:function(t){$(".filter-list-box").width("0px").css("overflow","hidden"),$(t.target).closest(".parentdiv").find(".filter-list-box").css("overflow","visible")},closemainDropdown:function(t){$(".filter-list-box").width("0px").css("overflow","hidden")},openSystemgenrateddropdown:function(t){$(".filter-list-box").width("0px").css("overflow","hidden"),$(t.target).closest(".parentdiv1").find(".filter-list-box").css("overflow","visible")},popupcloseforsystemfields:function(){$(".filter-list-box").width("0px").css("overflow","hidden")},filteredSystemField:function(){var t=this;if(""!=t.searchLayout){let e=t.jsonFilteredData.filter(e=>e.display_name.toLowerCase().includes(t.searchLayout));t.FiledListLeft=e}else t.RefreshSystemFieldList()},filteredCustomField:function(){var t=this;if(""!=t.searchCustomLayout){let e=t.CustomFieldjsonData.filter(e=>e.display_name.toLowerCase().includes(t.searchCustomLayout));t.CustomFieldListLeft=e}else t.RefreshCustomFieldList()},RefreshSystemFieldList:function(){var t=this;t.searchLayout="",t.FiledListLeft=t.jsonFilteredData},RefreshCustomFieldList:function(){var t=this;t.searchCustomLayout="",t.CustomFieldListLeft=t.CustomFieldjsonData},RemoveLayout:function(t,e){var a=this,i=a.LayoutList;a.confirmR(a.$t("ConfirmDeleteGroup"),!0,a.$t("Remove")+"  "+a.$t("CustomFiled"),(function(){var t=$.grep(i,(function(t,a){return t.group_id!=e}));a.LayoutList=t}))},closepopup:function(){this.showFieldPropPopup=!1},CloseRemovefieldsPopup:function(){this.RemovefieldsPopup=!1},closeCustomField:function(t,e){var a=this;a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("CustomFiled"),(function(){var i=e.findIndex(e=>e.custom_field_id===t.custom_field_id);a.FiledListLeft.push({...t}),a.jsonFilteredData.push({...t}),a.CustomFieldListLeft.push({...t}),a.CustomFieldjsonData.push({...t}),e.splice(i,1)}))},Backtolist:function(){var t=this;t.$router.push({name:"CustomLayoutListing"})},EditProperties(t){var e=this;e.AddCustomFields="FromManage",e.Field=t,e.IsSystemGeneratedField=t.is_system_generated,e.iSLayoutControl=!1,e.divManageLayoutProp=!0,e.FieldName=t.display_name,e.oldFieldPropertyData=e.FieldPropertyData,e.LanguageArray=e.LanguageArray,e.EditProperty=t,e.DataTypeId=t.data_type_id,e.showFieldPropPopup=!0},OpenAddCustomFieldPopup(){var t=this;t.ModuleId=t.LayoutDetailsData.module_id,t.Sub_ModuleId=t.LayoutDetailsData.sub_module_id,t.LanguageArrayData=t.LanguageArray,t.showCustomfieldPopup=!0},onDragAdd(t){if("StopDragfield"==t.to.id&&this.jsonFilteredData.push(t.from.__vue__.$attrs.groupid),null==t.clone.id&&"new"==t.clone.id&&void 0!=typeof t.target.getAttribute("groupid")&&null!=t.target.getAttribute("groupid"))return!1;this.updateEvenemt(t);var e=t.item._underlying_vm_;if(console.log("element2222",e),void 0!==e){var a=t.newIndex;e.custom_field_id>0&&(e.group_id=t.from.__vue__.$attrs.groupid,e.is_updated=1),e.CUSTOM_LAYOUT_ID=this.CustomlayoutId,this.spliceList(a,0,e);var i={element:e,newIndex:a};this.emitChanges({added:i})}},emitChanges(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},updateEvenemt:function(t){console.log("updateEvenemt"),this.updateProperty(t,"newIndex"),this.updateProperty(t,"oldIndex")},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=0)},spliceList(){},FetchData(){var t=this;t.isLoading=!0;var e=`id=&moduleName=&subModuleCode=&otherData=${t.otherData}&langCode=${t.langCode}&CustomLayoutId=${t.CustomLayout_Id}&usefor='data'`;u["a"].ManageFormLayout(e).then((function(e){if(void 0!=e.data.data){t.FieldData=e.data.data,t.LayoutDetailsData=e.data.LAYOUTDETAILS[0],t.LanguageArray=e.data.languages,t.nonDisplayField=t.FieldData.filter(t=>"NO"==t.form_field_visibility);var a=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null!=t.display_order);t.FiledListLeft=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null==t.display_order&&1==t.is_system_generated),t.CustomFieldListLeft=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null==t.display_order&&0==t.is_system_generated),t.jsonFilteredData=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null==t.display_order&&1==t.is_system_generated),t.CustomFieldjsonData=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null==t.display_order&&0==t.is_system_generated),t.FieldData=a;var i=a[0],s=t.FiledList;if(s.fieldData=i,s.fieldData.is_required=!1,t.ModuleName=t.FieldData[0].Module_name,t.SubModuleName=t.FieldData[0].sub_module_code,null!=t.FieldData&&t.FieldData.length>0){var o=t.FieldData[0].group_id;$.each(t.FieldData,$.proxy((function(e,a){o=a.group_id,a.cultureDetails=t.MakeNormalArray(a.cultureDetails);var i=t.LayoutList.filter(t=>t.group_id==o);if(0==i.length){var s=t.FieldData.filter(t=>t.group_id==o);if(s.length>0){var l={group_id:o,group_name:s[0].group_name,LayoutType:s[0].layout_type,group_display_name:t.GetLocalizedValue(s[0].group_name,s[0].group_display_name),group_is_system_generated:s[0].group_is_system_generated,FieldData:s};t.LayoutList.push(l)}}}),t))}}t.isLoading=!1}))},MakeNormalArray(t){try{return JSON.parse(t)}catch(e){return t}},AddNewGroup:function(){var t=this.FieldData[0].group_id,e=$.grep(this.FieldData,(function(e,a){return e.group_id==t})),a=e[0];a=Object.assign({},a,{}),a.is_include_in_post_jon="no",a.name="X"+this.addGroupId,a.display_name="X"+this.addGroupId;var i=[];i.push(a);var s={group_id:-this.addGroupId,group_name:"NewGroup "+this.addGroupId,group_display_name:"NewGroup "+this.addGroupId,group_is_system_generated:!1,LayoutType:"double",FieldData:i};this.LayoutList.push(s),this.addGroupId+=1},GetFieldType:function(t,e){return"email"==e?e:t},GetLocalizedValue:function(t,e){if(this.isBlank(e)){var a=String(t).toUpperCase();return a||1==/^\s*$/.test(a)?a:(a=String(t),a||1==/^\s*$/.test(a)?a:t)}a=String(e).toUpperCase();return a||1==/^\s*$/.test(a)?a:(a=String(e),a||1==/^\s*$/.test(a)?a:e)},checkMove:function(t){return!(!t.draggedContext.element.is_system_generated||"StopDragfield"!=t.to.id)||(""==t.related.id?""!=t.dragged.id&&!t.draggedContext.element.is_system_generated&&"customID"==t.to.id||""==t.to.id:t.related.id=="FieldId"+t.relatedContext.element.custom_field_id||void 0)},endDrag:function(t,e){this.drag=!0;let a=t.item._underlying_vm_;var i;"System_Layout"==e&&(this.jsonFilteredData.forEach((t,e)=>{t.custom_field_id==a.custom_field_id&&(i=e)}),this.jsonFilteredData.splice(i,1));"Custom_Layout"==e&&(this.CustomFieldjsonData.forEach((t,e)=>{t.custom_field_id==a.custom_field_id&&(i=e)}),this.CustomFieldjsonData.splice(i,1));return"StopDragfield"==t.item.id&&!t.item._underlying_vm_.element.is_system_generated||"customID"!=t.to.id&&(t.preventDefault(),void(this.labeltype=e))},updateproperties(t,e){var a=this;a.editpropertydata=[];var i=[];if(i.push(t),0!=i.length){i.forEach(t=>{let i={CUSTOM_FIELD_ID:t.custom_field_id,MODULE_ID:t.module_id,SUB_MODULE_ID:t.sub_module_id,NAME:e.Label,DISPLAY_NAME:e.Label,DESCRIPTION:e.Description,PICKLIST_OPTION:e.PickListOption,TYPE_ID:t.data_type_id,LENGTH:e.Length,IS_REQUIRED:e.MarkasRequired[0],STATUSID:1001,DECIMAL_PLACES:e.DecimalPlaces,LOC_VALUE:e.Language,FORM_FIELD_VISIBILITY:"YES",LIST_FIELD_VISIBILITY:"YES"};a.editpropertydata.push(i)});var s="jsonString="+JSON.stringify(a.editpropertydata);u["a"].SaveUpdateCustomField(s).then((function(t){var e=JSON.parse(t.data);1==e.STATUS_CODE?(a.ShowAlert(a.$t("CustomFieldSuccess",[a.$t("Field")]),"success",!0,a.$t("Alert")),a.GetCustomNewField(a.editpropertydata,a.labeltype),a.hidePopup()):3==e.STATUS_CODE?a.ShowAlert(a.$t("CustomFieldExists"),"danger",!0,a.$t("Alert")):(a.ShowAlert(a.$t("CustomFieldUpdate"),"success",!0,a.$t("Alert")),a.GetCustomNewField(a.editpropertydata,a.labeltype),a.hidePopup())}))}},SubmitData:function(){this.submitButtom=!0;var t=this;t.isLoading=!0;var e=this.LayoutList,a=[],i=[],s=[];this.picklistOptionBlankItems=[],this.duplcateGroupNameExists="",this.duplicateNameExists="",this.isGroupNameBlank="",$.each(this.LayoutList,(function(e,a){1==s.includes(a.group_display_name)?t.duplcateGroupNameExists=a.group_display_name:s.push(a.group_display_name),""==a.group_display_name&&(t.isGroupNameBlank=a.group_name),$.each(a.FieldData,(function(e,a){"select"!=a.dt_code&&"radio"!=a.dt_code&&"checkbox"!=a.dt_code||""!=$.trim(a.picklist_options)||t.picklistOptionBlankItems.push(a.name),1==i.includes(a.name)?t.duplicateNameExists=a.name:i.push(a.name)}))})),$.each(e,(function(t,e){var i=e.FieldData,s=0;void 0!=typeof i&&null!=i&&i.forEach((t,e)=>{null==t.custom_layout_id?(t.is_inserted=1,t.is_updated=0):(t.is_inserted=0,t.is_updated=1)});var o=$.grep(i,(function(t,e){return t.display_order=e+1,"yes"==t.is_include_in_post_jon})),l={group_id:e.group_id,group_name:e.group_name,group_display_name:e.group_display_name,layout_type:e.LayoutType,is_inserted:e.group_id<=0?1:0,is_updated:s,display_order:t+1,FieldData:o};a.push(l)}));var o={moduleName:t.FieldData[0].Module_name,subModuleCode:t.FieldData[0].sub_module_code,CUSTOM_LAYOUT_ID:t.CustomLayout_Id,data:a};if(""==this.duplicateNameExists&&""==this.duplcateGroupNameExists&&""==this.isGroupNameBlank&&0==this.picklistOptionBlankItems.length){var l=JSON.stringify(o);u["a"].ManageLayoutPage(l).then((function(e){"Success"==e.data[0].Status?(t.ShowAlert(t.$t("CustomLayoutSuccess",[t.$t("Lauout")]),"success",!0,t.$t("Alert")),t.$router.push({name:"CustomLayoutListing"})):"Failure"==e.data[0].Status&&t.ShowAlert(t.$t("CustomLayoutError",[t.$t("Lauout")]),"faliure",!0,t.$t("Alert"))})),this.submitButtom=!1,t.isLoading=!1}else t.isLoading=!1,this.submitButtom=!1,alert("CorrectHighlightedErrors")},Cancel(){var t=this;t.$router.push({name:"CustomLayoutListing"})},closePropPopup(t){var e=this;null!=t&&(e.FieldPropertyData=t),e.showFieldPropPopup=!1},GetCustomNewField(t,e){var a=this;if("Custom_Layout"==e||""==e){var i=a.LayoutList[0].FieldData.find(e=>e.custom_field_id===t[0].CUSTOM_FIELD_ID);void 0!=i&&(i.display_name=t[0].DISPLAY_NAME),a.closePropPopup(a.CustomFieldListLeft)}else a.CustomFieldListLeft.push(t[0]),a.closePropPopup(a.CustomFieldListLeft),a.FetchData()}}},p=c,m=(a("5e31"),a("2877")),_=Object(m["a"])(p,i,s,!1,null,null,null);e["default"]=_.exports},ca17:function(t,e,a){var i=a("5d31");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("65dc426f",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-5cd19d71.js.map