(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27761064"],{"1e37":function(t,e,a){"use strict";a("3aa6")},"3aa6":function(t,e,a){var i=a("7170");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("2fdc5220",i,!0,{sourceMap:!1,shadowMode:!1})},6497:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".makepopleft#mainDivProp .dropdown-menu{inset:unset!important;transform:unset!important;right:0!important}",""]),t.exports=e},7170:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"div#collapseOne12{height:30vh;overflow-y:scroll;overflow-x:hidden}.verticle-action.rt25.rt502{right:30px;top:-28px}",""]),t.exports=e},7255:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{isVisible:t.isLoading}}),e("div",{staticClass:"col-md-12 p-0 my-3"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("ManageLayoutTitle"))+": "+t._s(t.ModuleName)+" >> "+t._s(t.$t(t.SubModuleName)))]),e("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"",id:"backtolist","data-original-title":t.$t("BacktoList")},on:{click:function(e){return t.Backtolist(e)}}},[e("em",{staticClass:"fa fa-angle-double-left pr-2"}),e("br"),t._v(t._s(t.$t("BacktoList"))+" ")])]),t._m(0)])]),"Preview"!=t.PreviewMode?e("div",{staticClass:"left-menu-tab"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("SystemFields")))])])]),e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card pt-2"},[e("div",{staticClass:"row mx-0"},[e("div",{staticClass:"col-md-8 px-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchLayout,expression:"searchLayout"}],staticClass:"form-control",attrs:{type:"text",name:"Search",placeholder:"Search System layout"},domProps:{value:t.searchLayout},on:{input:function(e){e.target.composing||(t.searchLayout=e.target.value)}}})]),e("div",{staticClass:"col-md-4 px-1"},[e("a",{staticClass:"btn btn-success mr-2",attrs:{id:"Search",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to search"},on:{click:t.filteredSystemField}},[e("em",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger",attrs:{id:"ResetFilters",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset"},on:{click:t.RefreshSystemFieldList}},[e("em",{staticClass:"fa fa-refresh"})])])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseOne12",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[e("div",{staticClass:"card-body p-2"},[e("draggable",{staticClass:"list-group ulparted pb-0",attrs:{element:"ul","item-key":"custom_field_id",group:"my-groupForFields",id:"StopDragfield",move:t.checkMove},on:{start:function(e){t.drag=!0},end:function(e){return t.endDrag(e,"System_Layout")}},model:{value:t.FiledListLeft,callback:function(e){t.FiledListLeft=e},expression:"FiledListLeft"}},t._l(t.FiledListLeft,(function(a,i){return 1==a.is_system_generated?e("div",{key:i,staticClass:"list-group-item left-fields p-2 mb-2",attrs:{groupid:a.group_id,id:a.type,title:a.name}},[e("label",{staticClass:"w-100 font-16 py-2 bg-white border px-3"},[t._v(t._s(t.$t(null!=a.display_name?a.display_name:a.name)))]),e("em",{staticClass:"fa fa-arrows",attrs:{"aria-hidden":"true"}})]):t._e()})),0)],1)])])])]),e("div",{staticClass:"col-md-12 p-0 mt-2"},[e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("CustomFields")))])])]),e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist",disabled:!t.enabled,"aria-multiselectable":"true"}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card pt-2"},[e("div",{staticClass:"row mx-0"},[e("div",{staticClass:"col-md-8 px-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCustomLayout,expression:"searchCustomLayout"}],staticClass:"form-control",attrs:{type:"text",name:"Search",placeholder:"Search Custom layout"},domProps:{value:t.searchCustomLayout},on:{input:function(e){e.target.composing||(t.searchCustomLayout=e.target.value)}}})]),e("div",{staticClass:"col-md-4 px-1"},[e("a",{staticClass:"btn btn-success mr-2",attrs:{id:"Searchingh",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to search"},on:{click:t.filteredCustomField}},[e("em",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger",attrs:{id:"ResetFilters",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset"},on:{click:t.RefreshCustomFieldList}},[e("em",{staticClass:"fa fa-refresh"})])])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseOne12",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[e("div",{staticClass:"card-body p-2"},[e("draggable",{staticClass:"list-group ulparted pb-0",attrs:{element:"ul",id:"customID",move:t.checkMove,"item-key":"custom_field_id",group:"my-groupForFields"},on:{start:function(e){t.drag=!0},end:function(e){return t.endDrag(e,"Custom_Layout")}},model:{value:t.CustomFieldListLeft,callback:function(e){t.CustomFieldListLeft=e},expression:"CustomFieldListLeft"}},[t._l(t.CustomFieldListLeft,(function(a,i){return[0==a.is_system_generated?e("div",{key:i,staticClass:"list-group-item left-fields p-2 mb-2",attrs:{groupid:a.group_id,id:a.type,title:a.name}},[e("label",{staticClass:"w-100 font-16 py-2 bg-white border px-3"},[t._v(t._s(t.$t(null!=a.display_name?a.display_name:a.name)))]),e("em",{staticClass:"fa fa-arrows",attrs:{"aria-hidden":"true"}})]):t._e()]}))],2)],1)]),e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.OpenAddCustomFieldPopup()}}},[t._v("Add Custom Field")])])])])]):t._e(),e("div",{class:{"right-content":!0,disabled:"Preview"==t.PreviewMode}},[e("div",{staticClass:"listing"},[t._m(1),e("form",[e("div",{staticClass:"listing"},[e("draggable",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0",attrs:{list:t.LayoutList,"item-key":"group_id",group:"my-groupForFields1"},on:{start:function(e){t.drag=!0}},model:{value:t.LayoutList,callback:function(e){t.LayoutList=e},expression:"LayoutList"}},t._l(t.LayoutList,(function(a,i){return e("div",{key:i,staticClass:"collapse show float-left border mt-2"},[e("div",{staticClass:"mcf-head float-left border-bottom"},[e("em",{staticClass:"fa fa-th-large float-left mt-3 mr-2 text-secondary",attrs:{"aria-hidden":"true"}}),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:a.group_display_name,expression:"items.group_display_name",modifiers:{trim:!0}}],class:{"form-control form-control-sm":!0,"is-invalid":t.isGroupNameBlank==a.group_name||t.duplcateGroupNameExists==a.group_display_name},attrs:{type:"text"},domProps:{value:a.group_display_name},on:{input:function(e){e.target.composing||t.$set(a,"group_display_name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),e("div",{staticClass:"field-action mt-2 parentdiv",attrs:{id:"MainDivForLayout"}},[e("div",{staticClass:"dropdown"},[e("a",{attrs:{"aria-hidden":"true"},on:{click:function(e){return t.openmainDropdown(e)}}},[e("em",{staticClass:"fa fa-cog action_icon_cv"})]),e("div",[e("div",{staticClass:"verticle-action rt25 rt502"},[e("span",{staticClass:"action-list-box small filter-list-box"},[e("span",{staticClass:"list-actions text-left p-0 datarep ml-3",staticStyle:{width:"220px"},attrs:{id:"action-list"}},[e("div",{staticClass:"modal-header ui-draggable-handle px-2 py-2"},[e("span",{staticClass:"text-center font-16"},[t._v("Select layout")]),e("a",{staticClass:"bg-transparent text-end",attrs:{type:"button"}},[e("em",{staticClass:"fa fa-times text-dark",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.closemainDropdown(e)}}})])]),t._l(t.LayoutTypeList,(function(i){return e("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"}},[e("label",{staticClass:"form-check-inline menu_widjet"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.LayoutType,expression:"items.LayoutType"}],staticClass:"chkitems",attrs:{type:"radio"},domProps:{value:i.value,checked:t._q(a.LayoutType,i.value)},on:{change:function(e){return t.$set(a,"LayoutType",i.value)}}}),e("span",{staticClass:"label-text mx-1"},[t._v(t._s(t.$t(i.name)))])])])})),a.group_id<=0||1==a.FieldData.length&&"no"==a.FieldData[0].is_include_in_post_jon||0==a.group_is_system_generated?e("a",{staticClass:"dropdown-item border-top py-2 pl-2 bg-light",attrs:{href:"javascript:;"},on:{click:function(e){return t.RemoveLayout(a,a.group_id)}}},[e("em",{staticClass:"fa fa-trash text-danger",staticStyle:{"font-size":"20px"}}),e("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[t._v("Removelayout")])]):t._e()],2)])])])])])]),e("draggable",t._b({staticClass:"col-12 float-left p-0",staticStyle:{"min-height":"100px"},attrs:{list:a.FieldData,"item-key":"custom_field_id",group:"my-groupForFields",move:t.checkMove,groupid:a.group_id,groupName:a.group_display_name,systemgenerated:a.group_is_system_generated,fieldLength:a.FieldData.length},on:{end:function(e){return t.onDragAdd(e)},start:function(e){t.drag=!0}}},"draggable",t.$attrs,!1),t._l(a.FieldData,(function(i,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:"yes"==i.is_include_in_post_jon,expression:"element.is_include_in_post_jon == 'yes'"}],key:s,class:{"col-sm-12 col-md-12 float-left p-2":!0,"col-lg-12 col-xl-12":"single"==a.LayoutType,"col-lg-6 col-xl-6":"double"==a.LayoutType,"col-lg-4 col-xl-4":"triple"==a.LayoutType,"col-lg-3 col-xl-3":"four"==a.LayoutType},attrs:{id:"FieldId"+i.custom_field_id,fielddata:i,systemgenerated:0==a.group_is_system_generated?0:1,fieldLength:a.length}},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("button",{staticClass:"close bg-transparent",attrs:{type:"button"},on:{click:function(e){return t.closeCustomField(i,a.FieldData)}}},[e("em",{staticClass:"fa fa-times text-dark",attrs:{"aria-hidden":"true"}})])]),e("div",{class:{"pickflowbase ml-cutomf-bg float-left p-2 w-100":!0,"field-required":1==i.is_required,"box-warning":0==i.is_system_generated,"border-danger":t.duplicateNameExists==i.name||t.picklistOptionBlankItems.includes(i.name)}},[e("div",{staticClass:"labeltext text-left p-0 float-left"},[1==i.is_system_generated?e("label",{class:{"form-control form-control-sm":!0,disabled:i.is_system_generated>0},attrs:{disabled:i.is_system_generated>0}},[t._v(t._s(t.$t(null!=i.display_name?i.display_name:i.name)))]):t._e(),0==i.is_system_generated?e("input",{directives:[{name:"model",rawName:"v-model",value:i.display_name,expression:"element.display_name"}],class:{"form-control form-control-sm":!0,disabled:i.is_system_generated>0},attrs:{type:"text",disabled:!0},domProps:{value:i.display_name},on:{keyup:function(e){return t.ChangeFieldName(i)},input:function(e){e.target.composing||t.$set(i,"display_name",e.target.value)}}}):t._e(),e("label",{staticClass:"d-none"},[t._v(t._s(i.name))])]),e("div",{staticClass:"dropdown float-right pt-1 mr-3 parentdiv1",attrs:{id:"mainDivProp"}},[e("div",{staticClass:"dropdown"},[e("a",{attrs:{"aria-hidden":"true"},on:{click:function(e){return t.openSystemgenrateddropdown(e)}}},[e("em",{staticClass:"fa fa-cog action_icon_cv"})]),e("div",[e("div",{staticClass:"verticle-action1 rt25 rt502"},[e("span",{staticClass:"action-list-box1 small filter-list-box1"},[e("span",{staticClass:"list-actions1 text-left p-0 datarep ml-3",staticStyle:{width:"220px"},attrs:{id:"action-list1"}},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("div",{staticClass:"dropdown-menu panelfix_dots rounded border bg-white",attrs:{id:"FieldProId"+i.custom_field_id,"aria-labelledby":"dropdownMenuLink"}},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("button",{staticClass:"close",attrs:{type:"button"}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"}},[e("label",{staticClass:"form-check-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.is_required,expression:"element.is_required"}],attrs:{type:"checkbox",disabled:i.is_system_generated>0&&1==i.system_is_required},domProps:{value:!0,checked:Array.isArray(i.is_required)?t._i(i.is_required,!0)>-1:i.is_required},on:{change:function(e){var a=i.is_required,s=e.target,l=!!s.checked;if(Array.isArray(a)){var o=!0,r=t._i(a,o);s.checked?r<0&&t.$set(i,"is_required",a.concat([o])):r>-1&&t.$set(i,"is_required",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(i,"is_required",l)}}}),e("span",{staticClass:"label-text text-secondary mx-1",staticStyle:{"font-size":"14px"}},[t._v("Mark As Required")])])]),e("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;",BindData:t.EditProperty},on:{click:function(e){return t.EditProperties(i)}}},[e("em",{staticClass:"fa fa-eye text-primary",staticStyle:{"font-size":"20px"}}),e("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[t._v(t._s(1==i.system_is_required&&1==i.is_system_generated?"ViewProperties":"EditProperties"))])]),e("div",{staticClass:"dropdown-divider m-0"}),0==i.system_is_required?e("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;",custom_field_id:i.custom_field_id,is_required:i.is_required,is_updated:i.is_updated},on:{click:function(e){return t.closeCustomField(i,a.FieldData)}}},[e("em",{staticClass:"fa fa-trash text-danger",staticStyle:{"font-size":"20px"}}),e("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[t._v("RemoveField")])]):t._e()])])])])])])])]),"radio"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-dot-circle-o",staticStyle:{"font-size":"18px"}})]):t._e(),"select"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa fa-list",staticStyle:{"font-size":"20px"}}),e("select",{staticClass:"form-control form-control-sm d-none",staticStyle:{width:"50px"}},[e("option",[t._v("Select")])])]):t._e(),"date"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-calendar-o",staticStyle:{"font-size":"20px"}})]):t._e(),"int"==i.dt_code||"bigint"==i.dt_code||"decimal"==i.dt_code?e("div",{staticClass:"fieldtext float-right mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:t.GetFieldType(i.dt_code,i.validation_type)}},[e("em",{staticClass:"fa fa-sort-numeric-asc",staticStyle:{"font-size":"20px"}})]):t._e()])])})),0)],1)})),0)],1),e("div",{staticClass:"col-lg-12 p-0 text-right mt-3 float-left"},[e("a",{staticClass:"btn btn-primary mr-2",attrs:{href:"javascript:;",title:"NewGroup"},on:{click:function(e){return t.AddNewGroup()}}},[e("em",{staticClass:"fa fa-users pr-2"}),t._v("NewGroup")]),e("a",{class:{"btn btn-success mr-2":!0,disabled:1==t.submitButtom},attrs:{href:"javascript:;",title:"Save"},on:{click:function(e){return t.SubmitData()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Save")]),e("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:"Cancel"}},[e("em",{staticClass:"fa fa-close pr-2",on:{click:t.Cancel}}),t._v("Cancel")])])])])]),t.showCustomfieldPopup?e("OpenAddCustomFieldPopup",{attrs:{LanguageArrayData:t.LanguageArray,Sub_ModuleId:t.Sub_ModuleId,ModuleId:t.ModuleId}}):t._e(),t.showFieldPropPopup?e("CustomFieldPropertyPopup",{attrs:{divManageLayoutProp:t.divManageLayoutProp,LanguageArray:t.LanguageArray,iSLayoutControl:t.iSLayoutControl,Field:t.Field,AddCustomFields:t.AddCustomFields,oldFieldPropertyData:t.oldFieldPropertyData,FieldName:t.FieldName,IsSystemGeneratedField:t.IsSystemGeneratedField,EditProperty:t.EditProperty},on:{closepopup:t.closepopup}}):t._e()],1)},s=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"expand-list right-slide-arrow"},[e("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[e("em",{staticClass:"icon-solid arrow-solid-left c",staticStyle:{"font-size":"9pt"}})])])}],l=(a("14d9"),a("b76a")),o=a.n(l),r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.CloseCustomFieldsPopup()}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title py-3",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("AddCustomFields"))+" ")])]),e("div",{staticClass:"container-fluid padding-t_10"},[e("div",{staticClass:"left-menu-tab"},[t._m(0),e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card"},[e("div",{staticClass:"collapse show",attrs:{id:"collapseOne13",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[e("div",{staticClass:"card-body p-2"},[e("draggable",{staticClass:"draggable-list",attrs:{list:t.systemFieldList,"item-key":"Data_type_id",group:"fieldList",tag:"ul"},on:{start:function(e){t.drag=!0},end:function(e){return t.AllowOneElementdrop()}},model:{value:t.systemFieldList,callback:function(e){t.systemFieldList=e},expression:"systemFieldList"}},[t._l(t.systemFieldList,(function(a){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12"},[e("div",{class:{"user-defined-fields":!0,"fa fa-navicon":"MultiLine"==a.display_name,"fa fa fa-ellipsis-h":"SingleLine"==a.display_name,"fa fa-list":"Selectlist"==a.display_name,"fa fa-sort-numeric-asc":"Integer"==a.display_name,"fa  fa-list-ol":"LongInteger"==a.display_name,"fa fa fa-circle":"Decimal"==a.display_name,"fa fa-calendar-o":"Date"==a.display_name,"fa fa-check-square-o":"Checkbox"==a.display_name,"fa fa-dot-circle-o":"Radio"==a.display_name,"fa fa-at":"Url"==a.display_name,"fa fa-phone":"Phone"==a.display_name,"fa fa-envelope":"Email"==a.display_name}},[e("label",{staticClass:"pl-2 font-16 fontpoppins"},[t._v(t._s(t.$t(a.display_name)))])])])])]}))],2)],1)])])])])]),e("div",{staticClass:"right-content"},[e("div",{staticClass:"col-lg-12 mb-0 float-left p-0"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",{staticClass:"spngropuname"},[t._v(" "+t._s(t.$t("Detail"))+" ")])])])]),e("br"),e("br"),e("div",{staticClass:"dashed_bod_drag text-center mt-2 py-1"},[0==t.dropfields.length?e("h3",[t._v("Drop here ")]):t._e(),e("draggable",{staticClass:"draggable-list",staticStyle:{"min-height":"50px"},attrs:{list:t.dropfieldslist,id:"dragList",disabled:t.disabled,group:"fieldList",tag:"ul","item-key":"Data_type_id"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!0}},model:{value:t.dropfields,callback:function(e){t.dropfields=e},expression:"dropfields"}},[t._l(t.dropfieldslist,(function(a){return[e("div",{staticClass:"list-item parent-element"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("input",{staticClass:"w-90 py-1 px-2 bg-white",attrs:{type:"text",placeholder:t.FieldPropertyData.length>0?t.FieldPropertyData[0].Name:a.display_name}}),e("div",{staticClass:"dropdown float-right pt-1 mr-2 makepopleft",attrs:{id:"mainDivProp"}},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"action-icon",attrs:{id:"dropdownMenuButton",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},on:{click:function(e){return t.OpenPropertyPopup(a.Data_type_id,a.display_name)}}},[e("i",{staticClass:"fa fa-ellipsis-h text-secondary"})]),e("div",{staticClass:"dropdown-menu dropdown-menu-dark",attrs:{"aria-labelledby":"dropdownMenuButton2"}},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"}),e("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-eye text-primary float-left my-0 ml-1",staticStyle:{"font-size":"16px"}}),e("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[t._v("View Property")])]),e("div",{staticClass:"dropdown-divider m-0"}),e("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(e){return t.RemoveField(a.Data_type_id)}}},[e("em",{staticClass:"fa fa-trash text-danger float-left my-0 ml-1",staticStyle:{"font-size":"16px"}}),e("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[t._v("RemoveField")])])])])])])])])]}))],2)],1),e("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errorMessage)+" ")])]),e("div",{staticClass:"col-lg-12 p-0 text-right my-3 float-left"},[e("a",{class:{"btn btn-success mr-2":!0},attrs:{href:"javascript:;",title:"Save"},on:{click:function(e){return t.SubmitData()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Submit")]),e("button",{staticClass:"btn btn-danger formbtn widthhalf",attrs:{title:"Cancel"},on:{click:t.CloseCustomFieldsPopup}},[e("em",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])])])])])])]),t.showFieldPropPopup?e("CustomFieldPropertyPopup",{attrs:{oldFieldPropertyData:t.oldFieldPropertyData,divManageLayoutProp:t.divManageLayoutProp,iSLayoutControl:t.iSLayoutControl,DataTypeId:t.DataTypeId,FieldName:t.FieldName,LanguageArray:t.LanguageArray}}):t._e()],1)},d=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v("User Defined Fields:")])])])])}],n=a("9769"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title py-3",attrs:{name:"header"}},[t._v(" "+t._s(t.FieldName)+" "+t._s(t.$t("Properties"))+" ")])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"Expenseform",attrs:{id:"ddd"},scopedSlots:t._u([{key:"default",fn:function({values:a,meta:i}){return[e("DynamicForm",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{"on-submit":t.onSubmit,"on-invalid-submit":t.onSubmit}}),1==t.IsSystemGeneratedField?e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-2 text-danger float-left"},[e("div",{staticClass:"alert alert-danger mb-0",attrs:{role:"alert"}},[t._v(" "+t._s(t.$t("SystemGeneratedFieldMessage"))+" ")])]):t._e()]}}])})],1)])])])])},c=[],p=a("240d"),m={components:{DynamicForm:p["DynamicForm"]},props:{DataTypeId:{type:Number,required:!0},FieldName:{type:String,required:!0},LanguageArray:{type:Array,required:!0},oldFieldPropertyData:{type:Array,required:!0},AddCustomFields:{type:Boolean,required:!0},bindEditedDataProperty:{type:Array,required:!0},IsSystemGeneratedField:{type:Boolean,required:!0},EditProperty:{}},data(){return{lenghtOfLanguageDiv:null,Lblname:"",myObj:[],IsRequired:null,displayName:"",ddlLanguage:"",LengthVal:"",DecimalVal:"",txtDescription:"",dummyArray:[],SelectedData:[],langSelectedData:[],displayNameTextData:[],diplayNameWithCulture:[],langCulture:[],languageCultureArray:[],displayNameData:"",FormSchema:[{layoutType:"four",Data:[{astype:"TextField",label:"Questions",name:"Question",value:this.FieldName,placeholder:"",disabled:!1,validationRules:{required:!0}},{astype:"TextField",label:"Pick List Option",name:"PickListOption",value:"",visibility:!1,placeholder:"",validationRules:{required:!0}},{astype:"NumericField",label:"Length",name:"Length",value:"",placeholder:"",visibility:!0,validationRules:{required:!0}},{astype:"NumericField",label:"Decimal Places",name:"DecimalPlaces",value:"",placeholder:"",visibility:!1,validationRules:{required:!0}},{astype:"CheckBoxField",label:"Mark as Required",name:"MarkasRequired",value:"",placeholder:"",visibility:!0,config:{options:[{value:"1",name:""}]}},{astype:"TextAreaField",label:"Description",name:"Description",value:"",placeholder:"",visibility:!0,validationRules:"",config:{rows:3}}]},{layoutType:"double",Data:[{astype:"SelectField",label:"Language",name:"Language",value:"",placeholder:"",chkIndex:0,visibility:!1,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName",value:"",placeholder:"",chktxtIndex:0,visibility:!1,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onAddButtonClick:this.AddMultiLanguage}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}]}},created:function(){var t=this;t.ShowHideFields(),t.BindLangDDL(),0==t.oldFieldPropertyData.length&&"FromManage"!=t.AddCustomFields||t.EditBindFornData()},methods:{EditBindFornData(){var t=this;if("FromManage"==t.AddCustomFields){t.EditProperty;t.FormSchema[0].Data[0].value=t.EditProperty.display_name,t.FormSchema[0].Data[1].value="undefind"!=t.EditProperty.picklist_options?t.EditProperty.picklist_options:"",t.FormSchema[0].Data[2].value=t.EditProperty.length,t.FormSchema[0].Data[3].value="undefind"!=t.EditProperty.decimal_places?t.EditProperty.decimal_places:"",t.FormSchema[0].Data[4].value=1==t.EditProperty.is_required?"1":"",t.FormSchema[0].Data[5].value=t.oldFieldPropertyData.Description,t.EditProperty.cultureDetails=t.MakeNormalArray(t.EditProperty.cultureDetails);var e={};if(t.EditProperty.cultureDetails.forEach(a=>{e={},e.value=a.lang_id,t.languageCultureArray.push(e),e={},e.value=a.localization_value,t.languageCultureArray.push(e)}),0!=t.EditProperty.cultureDetails.length){var a=t.languageCultureArray.length/2,i=1;t.languageCultureArray.forEach((e,s)=>{i<a&&(t.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+t.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:t.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+t.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:t.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:t.RemoveFile,addIcon:"fa fa-trash"}}),t.BindLangDDL(t.Lblname),i++)}),t.languageCultureArray.forEach((e,a)=>{t.FormSchema[1].Data[a].value=e.value})}}else{if(t.FormSchema[0].Data[0].value=t.oldFieldPropertyData[0].Name,t.FormSchema[0].Data[1].value="undefind"!=t.oldFieldPropertyData[0].PickListOption?t.oldFieldPropertyData[0].PickListOption:"",t.FormSchema[0].Data[2].value=t.oldFieldPropertyData[0].Length,t.FormSchema[0].Data[3].value="undefind"!=t.oldFieldPropertyData[0].DecimalPlaces?t.oldFieldPropertyData[0].DecimalPlaces:"",0!=t.oldFieldPropertyData[0].IsRequired?t.FormSchema[0].Data[4].value="1":t.FormSchema[0].Data[4].value="",t.FormSchema[0].Data[5].value=t.oldFieldPropertyData[0].Description,0!=t.oldFieldPropertyData.length){a=t.oldFieldPropertyData[0].LanguageDivLength.length/2,i=1;t.oldFieldPropertyData[0].LanguageDivLength.forEach((e,s)=>{i<a&&(t.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+t.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:t.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+t.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:t.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:t.RemoveFile,addIcon:"fa fa-trash"}}),t.FormSchema[1].Data.forEach(e=>{t.Lblname=e.name}),t.BindLangDDL(t.Lblname),i++)})}t.oldFieldPropertyData[0].LanguageDivLength.forEach((e,a)=>{t.FormSchema[1].Data[a].value=e.value})}},MakeNormalArray(t){try{return JSON.parse(t)}catch(e){return t}},ShowHideFields(){var t=this;1==t.IsSystemGeneratedField?(t.FormSchema[0].Data[1].visibility=!1,t.FormSchema[0].Data[0].disabled=!0,t.FormSchema[0].Data[2].visibility=!1,t.FormSchema[0].Data[3].visibility=!1,t.FormSchema[0].Data[5].visibility=!1,t.FormSchema[1].Data[0].visibility=!1,t.FormSchema[1].Data[1].visibility=!1):(t.FormSchema[1].Data[0].visibility=!0,t.FormSchema[1].Data[1].visibility=!0,"Decimal"==t.FieldName&&(t.FormSchema[0].Data[3].visibility=!0),"Select List"!=t.FieldName&&"Checkbox"!=t.FieldName||(t.FormSchema[0].Data[1].visibility=!0),"Date"==t.FieldName&&(t.FormSchema[0].Data[1].visibility=!1,t.FormSchema[0].Data[3].visibility=!1))},BindLangDDL(t){var e=this;void 0==t?e.LanguageArray.forEach((t,a)=>{e.FormSchema[1].Data[0].config.options.push({value:t.lang_id,name:t.lang_name})}):e.LanguageArray.forEach((a,i)=>{"undefined"!=typeof t&&null!=t&&e.FormSchema[1].Data.forEach((t,i)=>{i%2==0&&e.FormSchema[1].Data[i].config.options.push({value:a.lang_id,name:a.lang_name})})})},closePopup(){var t=this;"FromManage"==t.AddCustomFields?t.$emit("closepopup"):t.$parent.closePropPopup()},AddMultiLanguage(){var t=this;t.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+t.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:t.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+t.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:t.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:t.RemoveFile,addIcon:"fa fa-trash"}}),t.FormSchema[1].Data.forEach(e=>{t.Lblname=e.name}),t.BindLangDDL(t.Lblname)},RemoveFile:function(t,e){var a=this,i=a.FormSchema[1].Data.findIndex(t=>t.chktxtIndex===e.chktxtIndex),s=i-1;i>-1&&a.FormSchema[1].Data.splice(i,1),s>-1&&a.FormSchema[1].Data.splice(s,1)},onSubmit(t){var e=this,a=t.controlledValues;e.lenghtOfLanguageDiv=e.FormSchema[1].Data;var i={};e.lenghtOfLanguageDiv.forEach((t,a)=>{"SelectField"==t.astype&&(i.localization_id=0,i.custom_field_id=0,i.user_guide="",i.lang_id=t.value),"TextField"==t.astype&&(i.localization_value=t.value,e.langCulture.push(i),i={})});var s="";if(e.FormSchema[1].Data.length>0){e.FormSchema[1].Data.forEach((t,e)=>{s+=e%2!=0?t.value+"^":t.value+","});var l=s.length-1;e.displayNameData=s.slice(0,l)}if(void 0!=e.EditProperty)e.EditProperty.cultureDetails=e.langCulture,0!=e.FormSchema[0].Data[4].value.length?e.EditProperty.is_required=void 0!=e.FormSchema[0].Data[4].value[0]:e.EditProperty.is_required="",e.EditProperty.display_name=a.Question,void 0!=a.PickListOption&&(e.EditProperty.picklist_options=a.PickListOption),void 0!=a.Length&&(e.EditProperty.length=a.Length),e.EditProperty.group_id>0&&(e.EditProperty.is_updated=1),e.$parent.closePropPopup();else{let t={};t={id:e.DataTypeId,Name:a.Question,IsRequired:0!=e.FormSchema[0].Data[4].value.length?e.FormSchema[0].Data[4].value[1]:"",LanguageName:e.displayNameData,displayName:a.Question,Length:a.Length,DecimalPlaces:a.DecimalPlaces,Description:a.Description,PickListOption:a.PickListOption,LanguageDivLength:e.lenghtOfLanguageDiv},e.myObj.push(t),null!=e.myObj.length&&e.$parent.closePropPopup(e.myObj)}}}},y=m,f=a("2877"),g=Object(f["a"])(y,u,c,!1,null,null,null),h=g.exports,v={props:{LanguageArrayData:{type:Array,required:!0},Sub_ModuleId:{type:String,required:!0},ModuleId:{type:String,required:!0}},components:{draggable:o.a,DataService:n["a"],CustomFieldPropertyPopup:h},data(){return{drag:!1,dropfieldslist:[],dropfields:[],systemFieldsModel:"",OldIdForProp:"",systemFieldList:[],showFieldPropPopup:!1,FieldName:"",DataTypeId:"",iSLayoutControl:!1,divManageLayoutProp:!1,LanguageArray:[],FieldPropertyData:[],oldFieldPropertyData:[],finalJsonData:[],controlOnStart:!0,bindEditedDataProperty:[],disabled:!1,errorMessage:""}},created:function(){var t=this;t.GetCustomFieldDataTypes()},methods:{endDrag(t,e){},AllowOneElementdrop(){var t=this;0===t.dropfields.length&&(t.disabled=!1),t.dropfields.length>=1?t.disabled=!0:t.disabled=!1},clone({name:t}){return{name:t}},pullFunction(){return!this.controlOnStart||"clone"},closeAddCustomFieldPopup(){var t=this;t.$parent.closeAddCustomField()},RemoveField:function(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Report"),(function(){var a=e.dropfields.findIndex(e=>e.Data_type_id===t);e.dropfields.splice(a,1),e.FieldPropertyData=[],""==e.dropfields&&(e.disabled=!1)}))},SubmitData(){var t=this;if(0!=t.FieldPropertyData.length){t.FieldPropertyData.forEach(e=>{let a={CUSTOM_FIELD_ID:0,MODULE_ID:t.ModuleId,SUB_MODULE_ID:t.Sub_ModuleId,NAME:e.Name,DISPLAY_NAME:e.displayName,DESCRIPTION:e.Description,PICKLIST_OPTION:e.PickListOption,TYPE_ID:e.id,LENGTH:e.Length,IS_REQUIRED:"undefined"==e.IsRequired?0:1,STATUSID:1001,DECIMAL_PLACES:e.DecimalPlaces,LOC_VALUE:e.LanguageName,FORM_FIELD_VISIBILITY:"YES",LIST_FIELD_VISIBILITY:"YES"};t.finalJsonData.push(a)});var e="jsonString="+JSON.stringify(t.finalJsonData);n["a"].SaveUpdateCustomField(e).then((function(e){"OK"==e.statusText&&(t.ShowAlert(t.$t("CustomFieldSuccess",[t.$t("Field")]),"success",!0,t.$t("Alert")),t.CloseCustomFieldsPopup())}))}else t.errorMessage="Property is not set for this custom field."},closePropPopup(t){var e=this;null!=t&&(e.FieldPropertyData=t),e.showFieldPropPopup=!1},OpenPropertyPopup(t,e){var a=this,i=a.dropfields.findIndex(e=>e.Data_type_id===t);a.FieldPropertyData.length>0&&a.bindEditedDataProperty.push(a.FieldPropertyData[i]),a.bindEditedDataProperty=null,a.DataTypeId=t,a.FieldName=e,a.iSLayoutControl=!0,a.divManageLayoutProp=!1,a.LanguageArray=a.LanguageArrayData,a.oldFieldPropertyData=a.FieldPropertyData,a.showFieldPropPopup=!0},CloseCustomFieldsPopup(){var t=this;t.$parent.CloseAddCustomFieldPoup()},GetCustomFieldDataTypes(){var t=this;n["a"].GetCustomFieldDataType().then((function(e){null!=JSON.parse(e.data)&&(t.systemFieldList=JSON.parse(e.data).data)}))}}},_=v,C=(a("c832"),Object(f["a"])(_,r,d,!1,null,null,null)),F=C.exports,D={poprs:{CustomlayoutId:{type:Number,required:!0}},components:{draggable:o.a,OpenAddCustomFieldPopup:F,CustomFieldPropertyPopup:h},data(){return{LayoutDetailsData:[],FiledList:[],FiledListLeft:[],CustomFieldListLeft:[],otherData:"",langCode:"en",moduleName:"",subModuleCode:"",CustomLayout_Id:"",id:"",FieldData:null,LayoutList:[],LayoutTypeList:[{name:"DoubleColumn",value:"double"},{name:"TripleColumn",value:"triple"},{name:"FourColumn",value:"four"}],FieldActionList:[{name:"Mark as required",value:!0},{name:"Edit Properties",value:"editprop"},{name:"Remove Field",value:"remove"}],showModal:!1,EditProperty:null,nonDisplayField:[],addGroupId:1,duplicateNameExists:"",duplcateGroupNameExists:"",isGroupNameBlank:"",LanguageArray:[],LanguageArrayData:[],submitButtom:!1,picklistOptionBlankItems:[],drag:!1,showCustomfieldPopup:!1,FieldLayoutData:[],OldIdForProp:"",OldLayoutIconVal:"",showFieldPropPopup:!1,FieldName:"",Field:"",iSLayoutControl:!1,divManageLayoutProp:!1,enabled:!0,RemovefieldsPopup:"",AddCustomFields:"",ModuleId:"",Sub_ModuleId:"",oldFieldPropertyData:[],searchLayout:"",searchCustomLayout:"",jsonFilteredData:[],CustomFieldjsonData:[],LayoutFilterData:[],FieldPropertyData:[],IsSystemGeneratedField:"",ModuleName:"",SubModuleName:"",isLoading:!1,PreviewMode:"",disabled:!1}},created:function(){var t=this;t.CustomLayout_Id=t.$route.params.CustomlayoutId,t.PreviewMode=t.$route.params.PreviewMode,t.FetchLayoutData(t.CustomLayout_Id)},methods:{openmainDropdown:function(t){$(".filter-list-box").width("0px").css("overflow","hidden"),$(t.target).closest(".parentdiv").find(".filter-list-box").css("overflow","visible")},closemainDropdown:function(t){$(".filter-list-box").width("0px").css("overflow","hidden")},openSystemgenrateddropdown:function(t){$(".filter-list-box1").width("0px").css("overflow","hidden"),$(t.target).closest(".parentdiv1").find(".filter-list-box1").css("overflow","visible")},filteredSystemField:function(){var t=this;if(""!=t.searchLayout){let e=t.jsonFilteredData.filter(e=>e.display_name.toLowerCase().includes(t.searchLayout));t.FiledListLeft=e}else t.RefreshSystemFieldList()},filteredCustomField:function(){var t=this;if(""!=t.searchCustomLayout){let e=t.CustomFieldjsonData.filter(e=>e.display_name.toLowerCase().includes(t.searchCustomLayout));t.CustomFieldListLeft=e}else t.RefreshCustomFieldList()},RefreshSystemFieldList:function(){var t=this;t.searchLayout="",t.FiledListLeft=t.jsonFilteredData},RefreshCustomFieldList:function(){var t=this;t.searchCustomLayout="",t.CustomFieldListLeft=t.CustomFieldjsonData},RemoveLayout:function(t,e){var a=this,i=a.LayoutList;a.confirmR(a.$t("ConfirmDeleteGroup"),!0,a.$t("Remove")+"  "+a.$t("CustomFiled"),(function(){var t=$.grep(i,(function(t,a){return t.group_id!=e}));a.LayoutList=t}))},closepopup:function(){this.showFieldPropPopup=!1},CloseRemovefieldsPopup:function(){this.RemovefieldsPopup=!1},closeCustomField:function(t,e){var a=this;a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("CustomFiled"),(function(){var i=e.findIndex(e=>e.custom_field_id===t.custom_field_id);a.FiledListLeft.push({...t}),a.jsonFilteredData.push({...t}),a.CustomFieldListLeft.push({...t}),a.CustomFieldjsonData.push({...t}),e.splice(i,1)}))},Backtolist:function(){var t=this;t.$router.push({name:"CustomLayoutListing"})},EditProperties(t){var e=this;e.AddCustomFields="FromManage",e.Field=t,e.IsSystemGeneratedField=t.is_system_generated,e.iSLayoutControl=!1,e.divManageLayoutProp=!0,e.FieldName=t.display_name,e.oldFieldPropertyData=e.FieldPropertyData,e.LanguageArray=e.LanguageArray,e.EditProperty=t,e.showFieldPropPopup=!0},OpenAddCustomFieldPopup(){var t=this;t.ModuleId=t.LayoutDetailsData.module_id,t.Sub_ModuleId=t.LayoutDetailsData.sub_module_id,t.LanguageArrayData=t.LanguageArray,t.showCustomfieldPopup=!0},CloseAddCustomFieldPoup(){var t=this;t.showCustomfieldPopup=!1,t.FetchLayoutData()},onDragAdd(t){if(console.log("onDragAdd"),"StopDragfield"==t.to.id&&this.jsonFilteredData.push(t.item.__draggable_context.element),null==t.clone.id&&"new"==t.clone.id&&void 0!=typeof t.target.getAttribute("groupid")&&null!=t.target.getAttribute("groupid"))return!1;this.updateEvenemt(t);var e=t.item._underlying_vm_;if(console.log("element2222",e),t.item.innerText,void 0!==e){var a=t.newIndex;e.custom_field_id>0&&(e.group_id=t.to.__vueParentComponent.attrs.groupid,e.is_updated=1),e.CUSTOM_LAYOUT_ID=this.CustomlayoutId,this.spliceList(a,0,e);var i={element:e,newIndex:a};this.emitChanges({added:i})}},emitChanges(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},updateEvenemt:function(t){console.log("updateEvenemt"),this.updateProperty(t,"newIndex"),this.updateProperty(t,"oldIndex")},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=0)},spliceList(){},FetchLayoutData(){var t=this;t.isLoading=!0;var e=`id=&moduleName=&subModuleCode=&otherData=${t.otherData}&langCode=${t.langCode}&CustomLayoutId=${t.CustomLayout_Id}&usefor='data'`;n["a"].ManageFormLayout(e).then((function(e){if(void 0!=e.data.data){t.FieldData=e.data.data,t.LayoutDetailsData=e.data.LAYOUTDETAILS[0],t.LanguageArray=e.data.languages,t.nonDisplayField=t.FieldData.filter(t=>"NO"==t.form_field_visibility);var a=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null!=t.display_order);t.FiledListLeft=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null==t.display_order&&1==t.is_system_generated),t.CustomFieldListLeft=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null==t.display_order&&0==t.is_system_generated),t.jsonFilteredData=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null==t.display_order&&1==t.is_system_generated),t.CustomFieldjsonData=t.FieldData.filter(t=>"YES"==t.form_field_visibility&&null==t.display_order&&0==t.is_system_generated),t.FiledList=a,t.FieldData=a;var i=a[0],s=t.FiledList.findIndex((function(t,e){return"-1"==t.group_id})),l=t.FiledList;if(l.fieldData=i,l.fieldData.is_required=!1,t.ModuleName=t.FieldData[0].Module_name,t.SubModuleName=t.FieldData[0].sub_module_code,t.FiledList[s]=l,null!=t.FieldData&&t.FieldData.length>0){var o=t.FieldData[0].group_id;$.each(t.FieldData,$.proxy((function(e,a){o=a.group_id,a.cultureDetails=t.MakeNormalArray(a.cultureDetails);var i=t.LayoutList.filter(t=>t.group_id==o);if(0==i.length){var s=t.FieldData.filter(t=>t.group_id==o);if(s.length>0){var l={group_id:o,group_name:s[0].group_name,LayoutType:s[0].layout_type,group_display_name:t.GetLocalizedValue(s[0].group_name,s[0].group_display_name),group_is_system_generated:s[0].group_is_system_generated,FieldData:s};t.LayoutList.push(l)}}}),t))}}t.isLoading=!1}))},MakeNormalArray(t){try{return JSON.parse(t)}catch(e){return t}},AddNewGroup:function(){var t=this.FieldData[0].group_id,e=$.grep(this.FieldData,(function(e,a){return e.group_id==t})),a=e[0];a=Object.assign({},a,{}),a.is_include_in_post_jon="no",a.name="X"+this.addGroupId,a.display_name="X"+this.addGroupId;var i=[];i.push(a);var s={group_id:-this.addGroupId,group_name:"NewGroup "+this.addGroupId,group_display_name:"NewGroup "+this.addGroupId,group_is_system_generated:!1,LayoutType:"double",FieldData:i};this.LayoutList.push(s),this.addGroupId+=1},GetFieldType:function(t,e){return"email"==e?e:t},GetLocalizedValue:function(t,e){if(this.isBlank(e)){var a=String(t).toUpperCase();return a||1==/^\s*$/.test(a)?a:(a=String(t),a||1==/^\s*$/.test(a)?a:t)}a=String(e).toUpperCase();return a||1==/^\s*$/.test(a)?a:(a=String(e),a||1==/^\s*$/.test(a)?a:e)},checkMove:function(t){return!(!t.draggedContext.element.is_system_generated||"StopDragfield"!=t.to.id)||(""==t.related.id?""!=t.dragged.id&&!t.draggedContext.element.is_system_generated&&"customID"==t.to.id||""==t.to.id:t.related.id=="FieldId"+t.relatedContext.element.custom_field_id||void 0)},endDrag:function(t,e){this.drag=!0;let a=t.item.__draggable_context.element;var i;"System_Layout"==e&&(this.jsonFilteredData.forEach((t,e)=>{t.custom_field_id==a.custom_field_id&&(i=e)}),this.jsonFilteredData.splice(i,1));"Custom_Layout"==e&&(this.CustomFieldjsonData.forEach((t,e)=>{t.custom_field_id==a.custom_field_id&&(i=e)}),this.CustomFieldjsonData.splice(i,1));return"StopDragfield"==t.item.id&&!t.relatedContext.element.is_system_generated||"customID"!=t.to.id&&void t.preventDefault()},SubmitData:function(){this.submitButtom=!0;var t=this;t.isLoading=!0;var e=this.LayoutList,a=[],i=[],s=[];this.picklistOptionBlankItems=[],this.duplcateGroupNameExists="",this.duplicateNameExists="",this.isGroupNameBlank="",$.each(this.LayoutList,(function(e,a){1==s.includes(a.group_display_name)?t.duplcateGroupNameExists=a.group_display_name:s.push(a.group_display_name),""==a.group_display_name&&(t.isGroupNameBlank=a.group_name),$.each(a.FieldData,(function(e,a){"select"!=a.dt_code&&"radio"!=a.dt_code&&"checkbox"!=a.dt_code||""!=$.trim(a.picklist_options)||t.picklistOptionBlankItems.push(a.name),1==i.includes(a.name)?t.duplicateNameExists=a.name:i.push(a.name)}))})),$.each(e,(function(t,e){var i=e.FieldData,s=0;void 0!=typeof i&&null!=i&&i.forEach((t,e)=>{null==t.custom_layout_id?(t.is_inserted=1,t.is_updated=0):(t.is_inserted=0,t.is_updated=1)});var l=$.grep(i,(function(t,e){return t.display_order=e+1,"yes"==t.is_include_in_post_jon})),o={group_id:e.group_id,group_name:e.group_name,group_display_name:e.group_display_name,layout_type:e.LayoutType,is_inserted:e.group_id<=0?1:0,is_updated:s,display_order:t+1,FieldData:l};a.push(o)}));var l={moduleName:t.FieldData[0].Module_name,subModuleCode:t.FieldData[0].sub_module_code,CUSTOM_LAYOUT_ID:t.CustomLayout_Id,data:a};if(""==this.duplicateNameExists&&""==this.duplcateGroupNameExists&&""==this.isGroupNameBlank&&0==this.picklistOptionBlankItems.length){var o=JSON.stringify(l);n["a"].ManageLayoutPage(o).then((function(e){"Success"==e.data[0].Status?(t.ShowAlert(t.$t("CustomLayoutSuccess",[t.$t("Lauout")]),"success",!0,t.$t("Alert")),t.$router.push({name:"CustomLayoutListing"})):"Failure"==e.data[0].Status&&t.ShowAlert(t.$t("CustomLayoutError",[t.$t("Lauout")]),"faliure",!0,t.$t("Alert"))})),this.submitButtom=!1,t.isLoading=!1}else t.isLoading=!1,this.submitButtom=!1,alert("CorrectHighlightedErrors")},Cancel(){var t=this;t.$router.push({name:"CustomLayoutListing"})},closePropPopup(t){var e=this;null!=t&&(e.FieldPropertyData=t),e.showFieldPropPopup=!1}}},b=D,L=(a("1e37"),Object(f["a"])(b,i,s,!1,null,null,null));e["default"]=L.exports},b12b:function(t,e,a){var i=a("6497");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("0978e8b2",i,!0,{sourceMap:!1,shadowMode:!1})},c832:function(t,e,a){"use strict";a("b12b")}}]);
//# sourceMappingURL=chunk-27761064.js.map