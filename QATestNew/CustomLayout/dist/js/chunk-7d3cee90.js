(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d3cee90"],{"2f5e":function(e,t,a){var i=a("6418");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("1aaf5bf6",i,!0,{sourceMap:!1,shadowMode:!1})},6418:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".right-content .sortable-chosen.sortable-ghost{float:left!important;width:25%!important}div#collapseOne12{height:30vh;overflow-y:scroll;overflow-x:hidden}.verticle-action.rt25.rt502{right:30px;top:-28px}",""]),e.exports=t},7255:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{isVisible:e.isLoading}}),t("div",{staticClass:"col-md-12 p-0 my-3"},[t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("ManageLayoutTitle"))+": "+e._s(e.ModuleName)+" >> "+e._s(e.$t(e.SubModuleName)))]),t("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"",id:"backtolist","data-original-title":e.$t("BacktoList")},on:{click:function(t){return e.Backtolist(t)}}},[t("em",{staticClass:"fa fa-angle-double-left pr-2"}),t("br"),e._v(e._s(e.$t("BacktoList"))+" ")]),"Detail"!=e.PreviewMode?t("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"",id:"ResetCustomFields","data-original-title":e.$t("RemoveNonmendatorRemoveGroupyField")},on:{click:function(t){return e.RemoveNonMedatorytCustomFields(t)}}},[t("em",{staticClass:"fa fa-trash pr-2"}),t("br"),e._v(e._s(e.$t("RemoveNonmendatorRemoveGroupyField"))+" ")]):e._e()]),e._m(0)])]),"Detail"!=e.PreviewMode?t("div",{staticClass:"left-menu-tab"},[t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("SystemFields")))])])]),t("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card pt-2"},[t("div",{staticClass:"row mx-0"},[t("div",{staticClass:"col-md-8 px-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchLayout,expression:"searchLayout"}],staticClass:"form-control",attrs:{type:"text",name:"Search",placeholder:"Search System layout"},domProps:{value:e.searchLayout},on:{input:function(t){t.target.composing||(e.searchLayout=t.target.value)}}})]),t("div",{staticClass:"col-md-4 px-1"},[t("a",{staticClass:"btn btn-success mr-2",attrs:{id:"Search",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to search"},on:{click:e.filteredSystemField}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger",attrs:{id:"ResetFilters",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset"},on:{click:e.RefreshSystemFieldList}},[t("em",{staticClass:"fa fa-refresh"})])])]),t("div",{staticClass:"collapse show",attrs:{id:"collapseOne12",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body p-2"},[t("draggable",{staticClass:"list-group ulparted pb-0 systemfieldlist",attrs:{element:"ul","item-key":"custom_field_id",group:"my-groupForFields",id:"StopDragfield",move:e.checkMove},on:{start:function(t){e.start},end:function(t){return e.endDrag(t,"System_Layout")}},model:{value:e.FiledListLeft,callback:function(t){e.FiledListLeft=t},expression:"FiledListLeft"}},e._l(e.FiledListLeft,(function(a,i){return 1==a.is_system_generated?t("div",{key:i,staticClass:"list-group-item left-fields p-2 mb-2",attrs:{groupid:a.group_id,id:a.type,title:a.name}},[t("label",{staticClass:"w-100 font-16 py-2 bg-white border px-3"},[e._v(e._s(e.$t(null!=a.display_name?a.display_name:a.name)))]),t("em",{staticClass:"fa fa-arrows",attrs:{"aria-hidden":"true"}})]):e._e()})),0)],1)])])])]),t("div",{staticClass:"col-md-12 p-0 mt-2"},[t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("CustomFields")))])])]),t("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist",disabled:!e.enabled,"aria-multiselectable":"true"}},[t("div",{staticClass:"card-panel"},[t("div",{staticClass:"card pt-2"},[t("div",{staticClass:"row mx-0"},[t("div",{staticClass:"col-md-8 px-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchCustomLayout,expression:"searchCustomLayout"}],staticClass:"form-control",attrs:{type:"text",name:"Search",placeholder:"Search Custom layout"},domProps:{value:e.searchCustomLayout},on:{input:function(t){t.target.composing||(e.searchCustomLayout=t.target.value)}}})]),t("div",{staticClass:"col-md-4 px-1"},[t("a",{staticClass:"btn btn-success mr-2",attrs:{id:"Searchingh",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to search"},on:{click:e.filteredCustomField}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger",attrs:{id:"ResetFilters",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset"},on:{click:e.RefreshCustomFieldList}},[t("em",{staticClass:"fa fa-refresh"})])])]),t("div",{staticClass:"collapse show",attrs:{id:"collapseOne12",role:"tabpanel","aria-labelledby":"headingOne12","data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body p-2"},[t("draggable",{staticClass:"list-group ulparted pb-0 customfieldlist",attrs:{element:"ul",id:"customID",move:e.checkMove,"item-key":"custom_field_id",group:"my-groupForFields"},on:{start:function(t){e.drag=!0},end:function(t){return e.endDrag(t,"Custom_Layout")}},model:{value:e.CustomFieldListLeft,callback:function(t){e.CustomFieldListLeft=t},expression:"CustomFieldListLeft"}},[e._l(e.CustomFieldListLeft,(function(a,i){return[0==a.is_system_generated?t("div",{key:i,staticClass:"list-group-item left-fields p-2 mb-2",attrs:{groupid:a.group_id,id:a.type,title:a.name}},[t("label",{staticClass:"w-100 font-16 py-2 bg-white border px-3"},[e._v(e._s(e.$t(null!=a.display_name?a.display_name:a.name)))]),t("em",{staticClass:"fa fa-arrows",attrs:{"aria-hidden":"true"}})]):e._e()]}))],2)],1)]),t("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.OpenAddCustomFieldPopup()}}},[e._v(e._s(e.$t("AddCustomField")))])])])])]):e._e(),t("div",{class:{"right-content":!0,disabled:"Detail"==e.PreviewMode}},[t("div",{staticClass:"field-action mt-2 parentgroupdiv",attrs:{id:"MainDivForLayout"}},[t("div",{staticClass:"dropdown"},[t("a",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.openGroupsetting(t)}}},[t("em",{staticClass:"fa fa-cog action_icon_cv float-right",attrs:{title:"Group Layout Setting"}})]),t("div",[t("div",{staticClass:"verticle-action rt25 rt502"},[t("span",{staticClass:"action-list-box small group-list-box"},[t("span",{staticClass:"list-actions text-left p-0 datarep ml-3",staticStyle:{width:"220px"},attrs:{id:"action-list"}},[t("div",{staticClass:"modal-header ui-draggable-handle px-2 py-2"},[t("span",{staticClass:"text-center font-16"},[e._v("Select Group layout")]),t("a",{staticClass:"bg-transparent text-end",attrs:{type:"button"}},[t("em",{staticClass:"fa fa-times text-dark",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.closeGroupDropdown(t)}}})])]),e._l(e.GroupTypeList,(function(a){return t("a",{key:e.value,staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"}},[t("label",{staticClass:"form-check-inline menu_widjet"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.GrouplayoutType,expression:"GrouplayoutType"}],staticClass:"chkitems",attrs:{type:"radio"},domProps:{value:a.value,checked:e._q(e.GrouplayoutType,a.value)},on:{click:function(t){return e.selectGrouplayout(a)},change:function(t){e.GrouplayoutType=a.value}}}),t("span",{staticClass:"label-text mx-1"},[e._v(e._s(e.$t(a.name)))])])])}))],2)])])])])]),t("div",{staticClass:"listing"},[e._m(1),t("form",[t("div",{staticClass:"row"},e._l(e.LayoutList,(function(a,i){return t("div",{key:i,class:{"col-lg-12 col-md-12 col-sm-12":"single"==e.GrouplayoutType,"col-lg-6 col-md-6 col-sm-12":"double"==e.GrouplayoutType}},[t("draggable",{attrs:{list:e.LayoutList,"item-key":"group_id",group:"my-groupForFields1"},on:{start:function(t){e.drag=!0}},model:{value:e.LayoutList,callback:function(t){e.LayoutList=t},expression:"LayoutList"}},[t("div",{staticClass:"collapse show float-left border mt-2"},[t("div",{staticClass:"mcf-head float-left border-bottom"},[t("em",{staticClass:"fa fa-th-large float-left mt-3 mr-2 text-secondary",attrs:{"aria-hidden":"true"}}),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:a.group_display_name,expression:"items.group_display_name",modifiers:{trim:!0}}],class:{"form-control form-control-sm":!0,"is-invalid":e.isGroupNameBlank==a.group_name||e.duplcateGroupNameExists==a.group_display_name},attrs:{type:"text"},domProps:{value:a.group_display_name},on:{input:function(t){t.target.composing||e.$set(a,"group_display_name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t("div",{staticClass:"field-action mt-2 parentdiv",attrs:{id:"MainDivForLayout"}},[t("div",{staticClass:"dropdown"},[t("a",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.openmainDropdown(t)}}},[t("em",{staticClass:"fa fa-cog action_icon_cv",attrs:{title:"Fields Layout Setting"}})]),t("div",[t("div",{staticClass:"verticle-action rt25 rt502"},[t("span",{staticClass:"action-list-box small filter-list-box"},[t("span",{staticClass:"list-actions text-left p-0 datarep ml-3",staticStyle:{width:"220px"},attrs:{id:"action-list"}},[t("div",{staticClass:"modal-header ui-draggable-handle px-2 py-2"},[t("span",{staticClass:"text-center font-16"},[e._v("Select layout")]),t("a",{staticClass:"bg-transparent text-end",attrs:{type:"button"}},[t("em",{staticClass:"fa fa-times text-dark",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.closemainDropdown(t)}}})])]),e._l(e.LayoutTypeList,(function(i){return t("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"}},[t("label",{staticClass:"form-check-inline menu_widjet"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.LayoutType,expression:"items.LayoutType"}],staticClass:"chkitems",attrs:{type:"radio"},domProps:{value:i.value,checked:e._q(a.LayoutType,i.value)},on:{click:function(t){return e.selectFieldslayout()},change:function(t){return e.$set(a,"LayoutType",i.value)}}}),t("span",{staticClass:"label-text mx-1"},[e._v(e._s(e.$t(i.name)))])])])})),t("a",{staticClass:"dropdown-item border-top py-2 pl-2 bg-light",attrs:{href:"javascript:;"},on:{click:function(t){return e.RemoveLayout(a,a.group_id,e.element)}}},[t("em",{staticClass:"fa fa-trash text-danger",staticStyle:{"font-size":"20px"}}),t("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("RemoveGroup")))])])],2)])])])])])]),t("draggable",e._b({staticClass:"col-12 float-left p-0 groupfileds",staticStyle:{"min-height":"100px"},attrs:{list:a.FieldData,"item-key":"custom_field_id",group:"my-groupForFields",move:e.checkMove,groupid:a.group_id,groupName:a.group_display_name,systemgenerated:a.group_is_system_generated,fieldLength:a.FieldData.length},on:{end:function(t){return e.onDragAdd(t)},start:function(t){e.drag=!0}}},"draggable",e.$attrs,!1),e._l(a.FieldData,(function(i,s){return t("div",{directives:[{name:"show",rawName:"v-show",value:"yes"==i.is_include_in_post_jon,expression:"element.is_include_in_post_jon == 'yes'"}],key:s,class:{"col-sm-12 col-md-12 float-left p-2":!0,"col-lg-12 col-xl-12":"single"==a.LayoutType,"col-lg-6 col-xl-6":"double"==a.LayoutType,"col-lg-4 col-xl-4":"triple"==a.LayoutType,"col-lg-3 col-xl-3":"four"==a.LayoutType},attrs:{id:"FieldId"+i.custom_field_id,fielddata:i,systemgenerated:0==a.group_is_system_generated?0:1,fieldLength:a.length}},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[0==i.system_is_required&&1==i.is_system_generated||!1===i.is_system_generated?t("button",{staticClass:"close bg-transparent",attrs:{type:"button"},on:{click:function(t){return e.closeCustomField(i,a.FieldData)}}},[t("em",{staticClass:"fa fa-times text-dark",attrs:{"aria-hidden":"true"}})]):e._e()]),t("div",{class:{"pickflowbase ml-cutomf-bg float-left pb-3 pl-2 pr-2 pt-2 w-100":!0,"field-required":1==i.is_required,"box-warning":0==i.is_system_generated,"border-danger":e.duplicateNameExists==i.name||e.picklistOptionBlankItems.includes(i.name)}},["radio"==i.dt_code?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-dot-circle-o",staticStyle:{"font-size":"18px"}})]):e._e(),"select"==i.dt_code?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa fa-list",staticStyle:{"font-size":"20px"}}),t("select",{staticClass:"form-control form-control-sm d-none",staticStyle:{width:"50px"}},[t("option",[e._v("Select")])])]):e._e(),"date"==i.dt_code?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-calendar-o",staticStyle:{"font-size":"20px"}})]):e._e(),"int"==i.dt_code||"bigint"==i.dt_code||"decimal"==i.dt_code?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-sort-numeric-asc",staticStyle:{"font-size":"20px"}})]):e._e(),"text"==i.dt_code&&"email"!=i.validation_type?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-navicon",staticStyle:{"font-size":"20px"}})]):e._e(),"string"==i.dt_code?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa fa-ellipsis-h",staticStyle:{"font-size":"20px"}})]):e._e(),"phone"==i.dt_code?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-phone",staticStyle:{"font-size":"20px"}})]):e._e(),"email"==i.validation_type?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-envelope",staticStyle:{"font-size":"20px"}})]):e._e(),"file"==i.dt_code?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-file-o",staticStyle:{"font-size":"20px"}})]):e._e(),"editor"==i.dt_code?t("div",{staticClass:"fieldtext float-left ml-1 mt-2 mr-3",staticStyle:{"text-transform":"capitalize"},attrs:{title:e.GetFieldType(i.dt_code,i.validation_type)}},[t("em",{staticClass:"fa fa-font",staticStyle:{"font-size":"20px"}})]):e._e(),t("div",{staticClass:"labeltext text-left p-0 float-left"},[1==i.is_system_generated?t("label",{class:{"form-control form-control-sm":!0,disabled:i.is_system_generated>0},attrs:{disabled:i.is_system_generated>0}},[e._v(e._s(e.$t(null!=i.display_name?i.display_name:i.name)))]):e._e(),0==i.is_system_generated?t("input",{directives:[{name:"model",rawName:"v-model",value:i.display_name,expression:"element.display_name"}],class:{"form-control form-control-sm":!0,disabled:i.is_system_generated>0},attrs:{type:"text",disabled:!0},domProps:{value:i.display_name},on:{keyup:function(t){return e.ChangeFieldName(i)},input:function(t){t.target.composing||e.$set(i,"display_name",t.target.value)}}}):e._e(),i.has_dependent_field>0?t("span",{staticStyle:{color:"#cf7400ee","font-size":"9px","font-weight":"500",position:"absolute",display:"block"}},[e._v(e._s(e.returnDepedentFieldName(i)))]):e._e(),t("label",{staticClass:"d-none"},[e._v(e._s(i.name))])]),t("div",{staticClass:"dropdown float-right pt-1 mr-4 parentdiv1",attrs:{id:"mainDivProp"}},[t("div",{staticClass:"dropdown"},[t("a",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.openSystemgenrateddropdown(t)}}},[t("em",{staticClass:"fa fa-cog action_icon_cv"})]),t("div",[t("div",{staticClass:"verticle-action1 rt25 rt502"},[t("span",{staticClass:"action-list-box small filter-list-box"},[t("span",{staticClass:"list-actions text-left p-0 datarep ml-3 border-0",staticStyle:{width:"220px","box-shadow":"none"},attrs:{id:"action-list"}},[t("div",{staticClass:"modal-header ui-draggable-handle py-0 border-0"},[t("div",{staticClass:"dropdown-menu panelfix_dots rounded border bg-white d-block",attrs:{id:"FieldProId"+i.custom_field_id,"aria-labelledby":"dropdownMenuLink"}},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("button",{staticClass:"close",attrs:{type:"button"}},[t("em",{staticClass:"fa fa-times",staticStyle:{top:"-14px",left:"-6px"},attrs:{"aria-hidden":"true"},on:{click:e.popupcloseforsystemfields}})])]),t("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"}},[t("label",{staticClass:"form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:i.is_required,expression:"element.is_required"}],attrs:{type:"checkbox",disabled:1==i.is_system_generated&&1==i.is_required},domProps:{value:!0,checked:Array.isArray(i.is_required)?e._i(i.is_required,!0)>-1:i.is_required},on:{click:function(t){return e.checkvalue(i.system_is_required)},change:function(t){var a=i.is_required,s=t.target,l=!!s.checked;if(Array.isArray(a)){var o=!0,r=e._i(a,o);s.checked?r<0&&e.$set(i,"is_required",a.concat([o])):r>-1&&e.$set(i,"is_required",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(i,"is_required",l)}}}),t("span",{staticClass:"label-text text-secondary mx-1",staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("MarkAsRequired")))])])]),t("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"},on:{click:function(t){return e.EditProperties(i)}}},[t("em",{staticClass:"fa fa-eye text-primary mx-1",staticStyle:{"font-size":"20px"}}),t("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v(e._s(1==i.system_is_required&&1==i.is_system_generated?"View Properties":"Edit Properties"))])]),t("div",{staticClass:"dropdown-divider m-0"}),0==i.system_is_required&&0==i.is_required?t("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;",custom_field_id:i.custom_field_id,is_required:i.is_required,is_updated:i.is_updated},on:{click:function(t){return e.closeCustomField(i,a.FieldData)}}},[t("em",{staticClass:"fa fa-trash text-danger mx-1",staticStyle:{"font-size":"20px"}}),t("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("RemoveField")))])]):e._e(),t("div",{staticClass:"dropdown-divider m-0"}),t("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;",custom_field_id:i.custom_field_id,is_required:i.is_required,is_updated:i.is_updated},on:{click:function(t){return e.Dependancypopupopen(i)}}},[t("em",{staticClass:"fa fa-brands fa-cubes text-warning",staticStyle:{"font-size":"20px"}}),t("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("Dependancy")))])]),t("div",{staticClass:"dropdown-divider m-0"}),i.has_dependent_field>0?t("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;",custom_field_id:i.custom_field_id,is_required:i.is_required,is_updated:i.is_updated},on:{click:function(t){return e.DeleteDependency(i)}}},[t("em",{staticClass:"fa fa-trash-o mx-1",staticStyle:{"font-size":"20px"}}),t("span",{staticClass:"ml-1 text-dark",staticStyle:{"font-size":"14px"}},[e._v(e._s(e.$t("DeleteDependancy")))])]):e._e()])])])])])])])])])])})),0)],1)])],1)})),0),"Detail"!=e.PreviewMode?t("div",{staticClass:"col-lg-12 p-0 text-right mt-3 float-left"},[t("a",{staticClass:"btn btn-primary mr-2",attrs:{href:"javascript:;",title:"NewGroup"},on:{click:function(t){return e.AddNewGroup()}}},[t("em",{staticClass:"fa fa-users pr-2"}),e._v("NewGroup")]),t("a",{class:{"btn btn-success mr-2":!0,disabled:1==e.submitButtom},attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SubmitData()}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v("Save")]),t("a",{staticClass:"btn btn-primary delete-btn my-sm-0",attrs:{href:"javascript:;",title:e.$t("Cancel")},on:{click:function(t){return e.Cancel()}}},[t("em",{staticClass:"fa fa-times pl-2 pr-2"}),e._v(" "+e._s(e.$t("Cancel"))+" ")])]):e._e()])])]),e.showCustomfieldPopup?t("OpenAddCustomFieldPopup",{attrs:{LanguageArrayData:e.LanguageArray,SubModuleId:e.SubModuleId,ModuleId:e.ModuleId},on:{GetCustomNewField:e.GetCustomNewField,hidePopup:e.hidePopup}}):e._e(),e.showFieldPropPopup?t("CustomFieldPropertyPopup",{attrs:{divManageLayoutProp:e.divManageLayoutProp,DataTypeId:e.DataTypeId,systemfields:e.systemfields,LanguageArray:e.LanguageArray,iSLayoutControl:e.iSLayoutControl,Field:e.Field,AddCustomFields:e.AddCustomFields,oldFieldPropertyData:e.oldFieldPropertyData,IsSystemGeneratedField:e.IsSystemGeneratedField,EditProperty:e.EditProperty},on:{closepopup:e.closepopup}}):e._e(),e.isShowDependencyFieldPopup?t("Dependancypopup",{attrs:{DependencyData:e.DependencyData,LayoutList:e.LayoutList,Dependencyvalues:e.Dependencyvalues,CustomFieldId:e.CustomFieldId,CustomLayout_Id:e.CustomLayout_Id,customFieldName:e.customFieldName,displayname:e.displayname}}):e._e()],1)},s=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"expand-list right-slide-arrow"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[t("em",{staticClass:"icon-solid arrow-solid-left c",staticStyle:{"font-size":"9pt"}})])])}],l=(a("14d9"),a("b76a")),o=a.n(l),r=a("1d8b"),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.closePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title py-3",attrs:{name:"header"}},[e._v(" "+e._s(e.FieldName)+" "+e._s(e.$t("Properties"))+" ")])]),t("div",{staticClass:"listing py-3 px-3"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),e.IsSystemGeneratedField?t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-2 text-danger float-left"},[e._m(0)]):e._e()],1)])])])])},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"alert alert-danger mb-0",attrs:{role:"alert"}},[e._v(" You cannot "),t("b",[e._v("Edit")]),e._v(" system generated fields. ")])}],u=a("240d"),c={components:{DynamicForm:u["DynamicForm"]},props:{DataTypeId:{type:Number,required:!0},FieldName:{type:String,required:!0},LanguageArray:{type:Array,required:!0},oldFieldPropertyData:{type:Array,required:!0},AddCustomFields:{type:String,required:!0},IsSystemGeneratedField:{type:Boolean,required:!0},EditProperty:{type:Object,required:!0}},data(){return{lenghtOfLanguageDiv:null,Lblname:"",myObj:[],IsRequired:null,displayName:"",ddlLanguage:"",LengthVal:"",DecimalVal:"",txtDescription:"",dummyArray:[],SelectedData:[],langSelectedData:[],displayNameTextData:[],diplayNameWithCulture:[],langCulture:[],languageCultureArray:[],displayNameData:"",FormSchema:[{layoutType:"four",Data:[{astype:"TextField",label:"Label",name:"Label",value:this.FieldName,placeholder:"",disabled:!1,validationRules:{required:!0}},{astype:"TextField",label:"Pick List Option",name:"PickListOption",value:"",visibility:!1,placeholder:"Enter comma seprated value ",validationRules:{required:!0}},{astype:"NumericField",label:"Length",name:"Length",value:"",placeholder:"Enter Length",visibility:!0,validationRules:{required:!0}},{astype:"NumericField",label:"Decimal Places",name:"DecimalPlaces",value:"",placeholder:"",visibility:!1,validationRules:{required:!0}},{astype:"CheckBoxField",label:"Mark as Required",name:"MarkasRequired",value:"",placeholder:"",visibility:!0,config:{options:[{value:"1",name:""}]}},{astype:"TextAreaField",label:"Description",name:"Description",value:"",placeholder:"Enter Description",visibility:!0,validationRules:"",config:{rows:3}}]},{layoutType:"double",Data:[{astype:"SelectField",label:"Language",name:"Language",value:"",placeholder:"",chkIndex:0,visibility:!1,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName",value:"",placeholder:"Enter Display Name",chktxtIndex:0,visibility:!1,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onAddButtonClick:this.AddMultiLanguage}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}]}},created:function(){var e=this;e.ShowHideFields(),e.BindLangDDL(),0==e.oldFieldPropertyData.length&&"FromManage"!=e.AddCustomFields||e.EditBindFornData(),1==e.IsSystemGeneratedField&&(e.buttons[0].class="btn btn-success disabled")},methods:{EditBindFornData(){var e=this;if("FromManage"==e.AddCustomFields){e.FormSchema[1].Data[1].value=e.EditProperty.display_name,e.FormSchema[0].Data[0].value=e.EditProperty.label,e.FormSchema[0].Data[1].visibility=""!=e.EditProperty.picklist_options&&!e.EditProperty.is_system_generated,e.FormSchema[0].Data[1].value=""!=e.EditProperty.picklist_options?e.EditProperty.picklist_options:"",e.FormSchema[0].Data[2].value=""!=e.EditProperty.length?e.EditProperty.length:e.FormSchema[0].Data[2].visibility=!1,e.FormSchema[0].Data[3].visibility=0!=e.EditProperty.decimal_places&&!e.EditProperty.is_system_generated,e.FormSchema[0].Data[3].value=0!=e.EditProperty.decimal_places?e.EditProperty.decimal_places:"",e.FormSchema[0].Data[4].value=1==e.EditProperty.is_required?"1":"",e.FormSchema[0].Data[5].value=e.EditProperty.description,e.EditProperty.cultureDetails=e.MakeNormalArray(e.EditProperty.cultureDetails);var t={};if(e.EditProperty.cultureDetails.forEach(a=>{t={},t.value=a.lang_id,e.languageCultureArray.push(t),t={},t.value=a.localization_value,e.languageCultureArray.push(t)}),0!=e.EditProperty.cultureDetails.length){var a=e.languageCultureArray.length/2,i=1;e.languageCultureArray.forEach((t,s)=>{i<a&&(e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.BindLangDDL(e.Lblname),i++)}),e.languageCultureArray.forEach((t,a)=>{e.FormSchema[1].Data[a].value=t.value})}}else{if(e.FormSchema[0].Data[0].value=e.oldFieldPropertyData[0].Name,e.FormSchema[0].Data[1].value="undefind"!=e.oldFieldPropertyData[0].PickListOption?e.oldFieldPropertyData[0].PickListOption:"",e.FormSchema[0].Data[2].value=e.oldFieldPropertyData[0].Length,e.FormSchema[0].Data[3].value="undefind"!=e.oldFieldPropertyData[0].DecimalPlaces?e.oldFieldPropertyData[0].DecimalPlaces:"",0!=e.oldFieldPropertyData[0].IsRequired?e.FormSchema[0].Data[4].value="1":e.FormSchema[0].Data[4].value="",e.FormSchema[0].Data[5].value=e.oldFieldPropertyData[0].Description,0!=e.oldFieldPropertyData.length){a=e.oldFieldPropertyData[0].LanguageDivLength.length/2,i=1;e.oldFieldPropertyData[0].LanguageDivLength.forEach((t,s)=>{i<a&&(e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.FormSchema[1].Data.forEach(t=>{e.Lblname=t.name}),e.BindLangDDL(e.Lblname),i++)})}e.oldFieldPropertyData[0].LanguageDivLength.forEach((t,a)=>{e.FormSchema[1].Data[a].value=t.value})}},MakeNormalArray(e){try{return JSON.parse(e)}catch(t){return e}},ShowHideFields(){var e=this;1==e.IsSystemGeneratedField?(e.FormSchema[0].Data[1].visibility=!1,e.FormSchema[0].Data[0].disabled=!0,e.FormSchema[0].Data[4].disabled=!0,e.FormSchema[0].Data[2].visibility=!1,e.FormSchema[0].Data[3].visibility=!1,e.FormSchema[0].Data[5].visibility=!1,e.FormSchema[1].Data[0].visibility=!1,e.FormSchema[1].Data[1].visibility=!1):(e.FormSchema[1].Data[0].visibility=!0,e.FormSchema[1].Data[1].visibility=!0,"Decimal"==e.FieldName&&(e.FormSchema[0].Data[3].visibility=!0),"Select List"!=e.FieldName&&"Checkbox"!=e.FieldName||(e.FormSchema[0].Data[1].visibility=!0),"Date"==e.FieldName&&(e.FormSchema[0].Data[1].visibility=!1,e.FormSchema[0].Data[3].visibility=!1))},BindLangDDL(e){var t=this;void 0==e?t.LanguageArray.forEach((e,a)=>{t.FormSchema[1].Data[0].config.options.push({value:e.lang_id,name:e.lang_name})}):t.LanguageArray.forEach((a,i)=>{"undefined"!=typeof e&&null!=e&&t.FormSchema[1].Data.forEach((e,i)=>{i%2==0&&t.FormSchema[1].Data[i].config.options.push({value:a.lang_id,name:a.lang_name})})})},closePopup(){var e=this;"FromManage"==e.AddCustomFields?e.$emit("closepopup"):e.$parent.closePropPopup(),e.$parent.popupcloseforsystemfields()},AddMultiLanguage(){var e=this;e.FormSchema[1].Data.push({astype:"SelectField",label:"Language",name:"Language"+e.FormSchema[1].Data.length,value:"",placeholder:"",chkIndex:e.FormSchema[1].Data.length,config:{options:[]},validationRules:"required"},{astype:"TextField",label:"Display Name",name:"DisplayName"+e.FormSchema[1].Data.length,value:"",placeholder:"",chktxtIndex:e.FormSchema[1].Data.length,validationRules:{required:!0,max:250},config:{showAddIcon:!0,onaddIconBackground:"bg-danger",onAddButtonClick:e.RemoveFile,addIcon:"fa fa-trash"}}),e.FormSchema[1].Data.forEach(t=>{e.Lblname=t.name}),e.BindLangDDL(e.Lblname)},RemoveFile:function(e,t){var a=this,i=a.FormSchema[1].Data.findIndex(e=>e.chktxtIndex===t.chktxtIndex),s=i-1;i>-1&&a.FormSchema[1].Data.splice(i,1),s>-1&&a.FormSchema[1].Data.splice(s,1)},onSubmit(e,t){var a=this;a.lenghtOfLanguageDiv=a.FormSchema[1].Data;var i={};a.lenghtOfLanguageDiv.forEach((e,t)=>{"SelectField"==e.astype&&(i.localization_id=0,i.custom_field_id=0,i.user_guide="",i.lang_id=e.value),"TextField"==e.astype&&(i.localization_value=e.value,a.langCulture.push(i),i={})});var s="";if(a.FormSchema[1].Data.length>0){a.FormSchema[1].Data.forEach((e,t)=>{s+=t%2!=0?e.value+"^":e.value+","});var l=s.length-1;a.displayNameData=s.slice(0,l)}if(void 0!=a.EditProperty){a.EditProperty.cultureDetails=a.langCulture,0!=a.FormSchema[0].Data[4].value.length?a.EditProperty.is_required=void 0!=a.FormSchema[0].Data[4].value[0]:a.EditProperty.is_required="",void 0!=e.PickListOption&&(a.EditProperty.picklist_options=e.PickListOption),void 0!=e.Length&&(a.EditProperty.length=e.Length),a.EditProperty.group_id>0&&(a.EditProperty.is_updated=1),a.editpropertydata=[];var o=[];o.push(a.EditProperty),0!=o.length&&o.forEach(t=>{let i={CUSTOM_FIELD_ID:t.custom_field_id,MODULE_ID:t.module_id,SUB_MODULE_ID:t.sub_module_id,NAME:e.Label,DISPLAY_NAME:e.DisplayName,DESCRIPTION:e.Description,PICKLIST_OPTION:e.PickListOption,TYPE_ID:t.data_type_id,LENGTH:0==e.Length?1e3:e.Length,IS_REQUIRED:void 0==e.MarkasRequired[0]?0:e.MarkasRequired[0],STATUSID:1001,DECIMAL_PLACES:e.DecimalPlaces,LOC_VALUE:a.displayNameData,FORM_FIELD_VISIBILITY:"YES",LIST_FIELD_VISIBILITY:"YES"};a.editpropertydata.push(i),a.$parent.updateproperties(a.editpropertydata),a.closePopup()})}a.$parent.popupcloseforsystemfields()}}},p=c,m=a("2877"),y=Object(m["a"])(p,d,n,!1,null,null,null),_=y.exports,f=a("213b"),g=a("9769"),h={poprs:{CustomlayoutId:{type:Number,required:!0},AddCustomFields:{type:String,required:!0}},components:{draggable:o.a,OpenAddCustomFieldPopup:r["a"],CustomFieldPropertyPopup:_,Dependancypopup:f["a"]},data(){return{LayoutDetailsData:[],FiledList:[],FiledListLeft:[],CustomFieldListLeft:[],otherData:"",langCode:"en",moduleName:"",subModuleCode:"",CustomLayout_Id:"",id:"",FieldData:null,LayoutList:[],GroupTypeList:[{name:"Single Group Layout",value:"single"},{name:"Multiple Group Layout",value:"double"}],LayoutTypeList:[{name:"SingleColumn",value:"single"},{name:"DoubleColumn",value:"double"},{name:"TripleColumn",value:"triple"},{name:"FourColumn",value:"four"}],FieldActionList:[{name:"Mark as required",value:!0},{name:"Edit Properties",value:"editprop"},{name:"Remove Field",value:"remove"}],showModal:!1,EditProperty:null,nonDisplayField:[],addGroupId:1,duplicateNameExists:"",duplcateGroupNameExists:"",isGroupNameBlank:"",LanguageArray:[],LanguageArrayData:[],submitButtom:!1,picklistOptionBlankItems:[],drag:!1,showCustomfieldPopup:!1,FieldLayoutData:[],OldIdForProp:"",OldLayoutIconVal:"",showFieldPropPopup:!1,FieldName:"",iSLayoutControl:!1,divManageLayoutProp:!1,enabled:!0,RemovefieldsPopup:"",AddCustomFields:"",ModuleId:"",SubModuleId:"",oldFieldPropertyData:[],searchLayout:"",searchCustomLayout:"",jsonFilteredData:[],CustomFieldjsonData:[],LayoutFilterData:[],IsSystemGeneratedField:"",ModuleName:"",SubModuleName:"",isLoading:!1,PreviewMode:"",disabled:!1,DataTypeId:"",editpropertydata:[],isShowDependencyFieldPopup:!1,DependencyData:[],Dependencyvalues:[],CustomFieldId:null,customFieldName:null,labeltype:"",systemfields:"",dependancaydata:[],CustomLayoutId:null,displayname:"",dependentvalue:"",hasdependent:!1,groupvaluenull:!1,disableDraggable:!1,duplicatefieldname:!1,getallfields:[],duplicateFieldExists:[],GrouplayoutType:"single"}},created:function(){var e=this;e.CustomLayout_Id=e.$route.params.CustomlayoutId,e.PreviewMode=e.$route.params.PreviewMode,e.FetchData(e.CustomLayout_Id)},methods:{selectFieldslayout(){this.closemainDropdown()},selectGrouplayout(e){var t=this;t.GrouplayoutType="","Single Group Layout"===e.name?(t.GrouplayoutType="single","single"==t.GrouplayoutType&&2==t.LayoutTypeList.length&&(t.LayoutTypeList.push({name:"TripleColumn",value:"triple"},{name:"FourColumn",value:"four"}),t.LayoutList.forEach(e=>{e.LayoutType="four"}))):(t.LayoutList.forEach(e=>{e.LayoutType="double"}),t.GrouplayoutType="double","double"==t.GrouplayoutType&&t.LayoutTypeList.splice(-2)),t.closeGroupDropdown()},RemoveNonMedatorytCustomFields(e){var t=this;t.confirmR(t.$t("ConfirmRemovenonmandatoryfield"),"faliure",!0,(function(){t.LayoutList.forEach(e=>{let a=e.FieldData.filter((function(e){return!1===e.is_required&&!1===e.system_is_required&&!0===e.is_system_generated}));a.forEach((function(a){!0===a.is_system_generated&&!1===a.is_required&&t.FiledListLeft.push(a),e.FieldData.splice(e.FieldData.indexOf(a),1)}));let i=e.FieldData.filter((function(e){return!1===e.is_required&&!1===e.system_is_required&&!1===e.is_system_generated}));i.forEach((function(a){!1===a.is_system_generated&&!1===a.is_required&&t.CustomFieldListLeft.push(a),e.FieldData.splice(e.FieldData.indexOf(a),1)}))})}))},returnDepedentFieldName:function(e){let t=this,a="";return t.LayoutList.forEach(i=>{i.FieldData.forEach((function(i){i.custom_field_id==e.has_dependent_field&&(a=t.$t(null!=i.display_name?i.display_name:i.name))}))}),a?"Dependent on: "+a:a},Dependancypopupopen(e){var t=this;t.DependencyData=[],t.Dependencyvalues=[],t.CustomFieldId=e.custom_field_id,t.CustomLayoutId=e.custom_layout_id,t.displayname=e.display_name,t.LayoutList.forEach((e,a)=>{t.LayoutList[a].FieldData.forEach(e=>{t.DependencyData.push(e)})}),t.DependencyData.forEach((a,i)=>{a.custom_field_id===e.custom_field_id&&(t.DependencyData.splice(i,1),t.isShowDependencyFieldPopup=!0)}),e.select_options&&("Lookup"!=e.picklist_options?t.Dependencyvalues=t.MakeArray(e.select_options,e.dt_code):t.Dependencyvalues=JSON.parse(e.select_options))},hidePopup(){this.showCustomfieldPopup=!1},openGroupsetting:function(e){$(".group-list-box").width("0px").css("overflow","hidden"),$(e.target).closest(".parentgroupdiv").find(".group-list-box").css("overflow","visible")},closeGroupDropdown:function(e){$(".group-list-box").width("0px").css("overflow","hidden")},openmainDropdown:function(e){$(".filter-list-box").width("0px").css("overflow","hidden"),$(e.target).closest(".parentdiv").find(".filter-list-box").css("overflow","visible")},closemainDropdown:function(e){$(".filter-list-box").width("0px").css("overflow","hidden")},openSystemgenrateddropdown:function(e){$(".filter-list-box").width("0px").css("overflow","hidden"),$(e.target).closest(".parentdiv1").find(".filter-list-box").css("overflow","visible")},popupcloseforsystemfields:function(){$(".filter-list-box").width("0px").css("overflow","hidden")},filteredSystemField:function(){var e=this;if(""!=e.searchLayout){let t=e.FiledListLeft.filter(t=>t.display_name.toLowerCase().includes(e.searchLayout.toLowerCase()));e.FiledListLeft=t}else e.RefreshSystemFieldList()},filteredCustomField:function(){var e=this;if(""!=e.searchCustomLayout){let t=e.CustomFieldListLeft.filter(t=>t.display_name.toLowerCase().includes(e.searchCustomLayout.toLowerCase()));e.CustomFieldListLeft=t}else e.RefreshCustomFieldList()},RefreshSystemFieldList:function(){var e=this;e.searchLayout="",e.FiledListLeft=e.jsonFilteredData},RefreshCustomFieldList:function(){var e=this;e.searchCustomLayout="",e.CustomFieldListLeft=e.CustomFieldjsonData},RemoveLayout:function(e,t,a){var i=this,s=i.LayoutList,l=e.FieldData.filter(e=>!0===e.is_system_generated);l.length>0&&t>0?i.ShowAlert(i.$t("PresentSystemField"),"warning",!0,i.$t("Alert")):i.confirmR(i.$t("ConfirmDeleteGroup"),!0,i.$t("Remove")+"  "+i.$t("CustomFiled"),(function(){e.FieldData.forEach(e=>{i.CustomFieldListLeft.push({...e})});var a=$.grep(s,(function(e,a){return e.group_id!=t}));i.LayoutList=a})),i.submitButtom=!1,i.closemainDropdown()},closepopup:function(){this.showFieldPropPopup=!1},CloseRemovefieldsPopup:function(){this.RemovefieldsPopup=!1},closeCustomField:function(e,t){var a=this;if(1==e.is_required)return a.ShowAlert(a.$t("CustomFiledmendatory"),"warning",!0,a.$t("Alert")),!1;var i=[],s=[],l="",o="";a.LayoutList.forEach(t=>{t.FieldData.forEach(t=>{e.custom_field_id===t.has_dependent_field&&(l=t.custom_field_id,o=t.custom_layout_id),0!=t.has_dependent_field&&i.push(t.has_dependent_field)})}),a.LayoutList.forEach(t=>{t.FieldData.forEach(t=>{if(t.has_dependent_field==e.custom_field_id){var i=t.display_name?t.display_name:a.$t(t.name);s.push(i)}})});var r=i.filter(t=>t===e.custom_field_id);null!=r&&""!=r?a.confirmR(a.$t("ConfirmDeleteValue",!0,[s]),!0,a.$t("Comfirm"),(function(){var i=`customFieldId=${l}&customFieldLayoutId=${o}`;g["a"].DependencyRemove(i).then((function(t){1==t.data?(a.SetDependField(e.custom_field_id),a.ShowAlert(a.$t("DependancyRemoves",[a.$t("Lauout")]),"success",!0,a.$t("Alert")),a.popupcloseforsystemfields()):a.ShowAlert(a.$t("NoDependancy"),"faliure",!0,a.$t("Alert"))}));var s=t.findIndex(t=>t.custom_field_id===e.custom_field_id);a.FiledListLeft.push({...e}),a.jsonFilteredData.push({...e}),a.CustomFieldListLeft.push({...e}),a.CustomFieldjsonData.push({...e}),t.splice(s,1)})):a.confirmR(a.$t("ConfirmRemoveField"),"faliure",!0,(function(){var i=t.findIndex(t=>t.custom_field_id===e.custom_field_id);a.FiledListLeft.push({...e}),a.jsonFilteredData.push({...e}),a.CustomFieldListLeft.push({...e}),a.CustomFieldjsonData.push({...e}),t.splice(i,1)}))},Backtolist:function(){var e=this;e.$router.push({name:"CustomLayoutListing"})},EditProperties(e){var t=this;t.systemfields=e.is_system_generated,t.AddCustomFields="FromManage",t.Field=e,t.IsSystemGeneratedField=e.is_system_generated,t.iSLayoutControl=!1,t.divManageLayoutProp=!0,t.FieldName=e.display_name,t.oldFieldPropertyData=e,t.LanguageArray=t.LanguageArray,t.EditProperty=e,t.DataTypeId=e.data_type_id,t.showFieldPropPopup=!0},OpenAddCustomFieldPopup(){var e=this;e.ModuleId=e.LayoutDetailsData.module_id,e.SubModuleId=e.LayoutDetailsData.sub_module_id,e.LanguageArrayData=e.LanguageArray,e.showCustomfieldPopup=!0},onDragAdd(e){var t=this;if(t.submitButtom=!1,t.groupvaluenull=!1,!1===e.item._underlying_vm_.is_system_generated&&!1===e.item._underlying_vm_.system_is_required&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass){if("StopDragfield"==e.to.id)return t.ShowAlert(t.$t("CustomFileddraggto"),"warning",!0,t.$t("Alert")),!1}else if(!0===e.item._underlying_vm_.is_system_generated&&!0===e.item._underlying_vm_.system_is_required&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass){if(""==e.to.id)return t.ShowAlert(t.$t("CustomFiledmendatory"),"warning",!0,t.$t("Alert")),!1}else if(!0===e.item._underlying_vm_.is_system_generated&&!1===e.item._underlying_vm_.system_is_required&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass){if(""==e.to.id)return t.ShowAlert(t.$t("SystemFileddraggto"),"warning",!0,t.$t("Alert")),!1}else{if(!1===e.item._underlying_vm_.system_is_required&&!0===e.item._underlying_vm_.is_system_generated&&""==e.to.id)return!0;if(!0===e.item._underlying_vm_.system_is_required&&!0===e.item._underlying_vm_.is_system_generated&&""==e.to.id&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass)return t.ShowAlert(t.$t("CustomFiledmendatory"),"warning",!0,t.$t("Alert")),!1;if(!1===e.item._underlying_vm_.system_is_required&&!1===e.item._underlying_vm_.is_system_generated&&""!=e.to.id)return!0;if(!0===e.item._underlying_vm_.system_is_required&&!1===e.item._underlying_vm_.is_system_generated&&""!=e.to.id&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass)return t.ShowAlert(t.$t("CustomFiledmendatory"),"warning",!0,t.$t("Alert")),!1;"StopDragfield"==e.to.id&&t.jsonFilteredData.push(e.from.__vue__.$attrs.groupid)}if(null==e.clone.id&&"new"==e.clone.id&&void 0!=typeof e.target.getAttribute("groupid")&&null!=e.target.getAttribute("groupid"))return!1;t.updateEvenemt(e);var a=e.item._underlying_vm_;if(console.log("element2222",a),void 0!==a){var i=e.newIndex;a.custom_field_id>0&&(a.group_id=e.from.__vue__.$attrs.groupid,a.is_updated=1),a.CUSTOM_LAYOUT_ID=t.CustomlayoutId,t.spliceList(i,0,a);var s={element:a,newIndex:i};t.emitChanges({added:s})}},emitChanges(e){var t=this;t.$nextTick((function(){t.$emit("change",e)}))},updateEvenemt:function(e){console.log("updateEvenemt"),this.updateProperty(e,"newIndex"),this.updateProperty(e,"oldIndex")},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=0)},spliceList(){},FetchData(){var e=this;e.isLoading=!0;var t=`id=&moduleName=&subModuleCode=&otherData=${e.otherData}&langCode=${e.langCode}&CustomLayoutId=${e.CustomLayout_Id}&usefor='data'`;g["a"].ManageFormLayout(t).then((function(t){if(void 0!=t.data.data){e.FieldData=t.data.data,e.ModuleName=e.FieldData[0].Module_name,e.SubModuleName=e.FieldData[0].sub_module_code,e.LayoutDetailsData=t.data.LAYOUTDETAILS[0],e.LanguageArray=t.data.languages,e.nonDisplayField=e.FieldData.filter(e=>"NO"==e.form_field_visibility);var a=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&null!=e.custom_layout_id);e.FiledListLeft=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&1==e.is_system_generated&&null==e.custom_layout_id),e.CustomFieldListLeft=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&0==e.is_system_generated&&null==e.custom_layout_id),e.jsonFilteredData=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&1==e.is_system_generated&&null==e.custom_layout_id),e.CustomFieldjsonData=e.FieldData.filter(e=>"YES"==e.form_field_visibility&&0==e.is_system_generated&&null==e.custom_layout_id),a.length>0&&(e.FieldData=a);var i=a[0],s=e.FiledList;if(s.fieldData=i,null!=e.FieldData&&e.FieldData.length>0){var l=e.FieldData[0].group_id;$.each(e.FieldData,$.proxy((function(t,a){l=a.group_id,a.cultureDetails=e.MakeNormalArray(a.cultureDetails);var i=e.LayoutList.filter(e=>e.group_id==l);if(0==i.length){var s=e.FieldData.filter(e=>e.group_id==l);if(s.length>0){var o={group_id:l,group_name:s[0].group_name,LayoutType:s[0].layout_type,GrouplayoutType:s[0].group_layout_type,group_display_name:e.GetLocalizedValue(s[0].group_name,s[0].group_display_name),group_is_system_generated:s[0].group_is_system_generated,FieldData:s};e.LayoutList.push(o)}}}),e))}e.LayoutList.length>0&&(e.GrouplayoutType=e.LayoutList[0].GrouplayoutType,"double"==e.GrouplayoutType&&(e.LayoutTypeList.splice(-2),e.LayoutList.forEach(e=>{e.LayoutType="double"})))}e.isLoading=!1}))},MakeNormalArray(e){try{return JSON.parse(e)}catch(t){return e}},AddNewGroup:function(){var e=this;if(0!=e.FieldData.length){var t=e.FieldData[0].group_id,a=$.grep(e.FieldData,(function(e,a){return e.group_id==t})),i=a[0];i=Object.assign({},i,{}),i.is_include_in_post_jon="no",i.name="X"+e.addGroupId,i.display_name="X"+e.addGroupId;var s=[];s.push(i);var l={group_id:-e.addGroupId,group_name:"NewGroup "+e.addGroupId,group_display_name:"NewGroup "+e.addGroupId,group_is_system_generated:!1,LayoutType:"double",FieldData:s};e.LayoutList.push(l),e.addGroupId+=1,e.groupvaluenull=!0}},GetFieldType:function(e,t){return"email"==t?t:e},GetLocalizedValue:function(e,t){if(this.isBlank(t)){var a=String(e).toUpperCase();return a||1==/^\s*$/.test(a)?a:(a=String(e),a||1==/^\s*$/.test(a)?a:e)}a=String(t).toUpperCase();return a||1==/^\s*$/.test(a)?a:(a=String(t),a||1==/^\s*$/.test(a)?a:t)},checkvalue(e,t){var a=this;a.LayoutList.forEach(a=>{a.FieldData.forEach(a=>{a.custom_field_id===t.custom_field_id&&(a.is_required=e)})})},checkMove:function(e){return this.groupvaluenull=!1,1==e.draggedContext.element.is_system_generated&&0==e.draggedContext.element.is_required&&""==e.to.id||(0==e.draggedContext.element.is_system_generated&&0==e.draggedContext.element.is_required&&"list-group ulparted pb-0 customfieldlist"==e.from._prevClass&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass?(this.ShowAlert(this.$t("CustomFileddraggto"),"warning",!0,this.$t("Alert")),!1):1==e.draggedContext.element.is_system_generated&&0==e.draggedContext.element.is_required&&""!=e.to.id&&"list-group ulparted pb-0 customfieldlist"==e.to._prevClass&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass?(this.ShowAlert(this.$t("SystemFileddraggto"),"warning",!0,this.$t("Alert")),!1):1==e.draggedContext.element.is_system_generated&&1==e.draggedContext.element.is_required&&""!=e.to.id&&"list-group ulparted pb-0 customfieldlist"!=e.to._prevClass&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass||1==e.draggedContext.element.is_system_generated&&1==e.draggedContext.element.system_is_required&&""!=e.to.id&&"list-group ulparted pb-0 customfieldlist"!=e.related._prevClass&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass?(this.ShowAlert(this.$t("IsSystemFields"),"warning",!0,this.$t("Alert")),!1):1==e.draggedContext.element.is_system_generated&&""==e.to.id&&"list-group ulparted pb-0 systemfieldlist"!=e.related._prevClass||(1==e.draggedContext.element.is_system_generated&&1==e.draggedContext.element.system_is_required&&""==e.to.id&&"list-group ulparted pb-0 systemfieldlist"!=e.related._prevClass&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass?(this.ShowAlert(this.$t("IsSystemFields"),"warning",!0,this.$t("Alert")),!1):0==e.draggedContext.element.is_system_generated&&0==e.draggedContext.element.system_is_required||"list-group ulparted pb-0 customfieldlist"==e.related._prevClass&&"StopDragfield"==e.to.id||(0==e.draggedContext.element.is_system_generated&&1==e.draggedContext.element.system_is_required&&"list-group ulparted pb-0 customfieldlist"==e.related._prevClass&&"StopDragfield"==e.to.id&&"col-12 float-left p-0 groupfileds"!=e.to._prevClass?(this.ShowAlert(this.$t("CustomFiledmendatory"),"warning",!0,this.$t("Alert")),!1):0==e.draggedContext.element.is_system_generated&&"list-group ulparted pb-0 systemfieldlist"==e.related._prevClass?(this.ShowAlert(this.$t("CustomFileddraggto"),"warning",!0,this.$t("Alert")),sucess,!1):void 0)))},endDrag:function(e,t){var a=this;a.drag=!0,a.groupvaluenull=!1;let i=e.item._underlying_vm_;var s;"System_Layout"==t&&(a.jsonFilteredData.forEach((e,t)=>{e.custom_field_id==i.custom_field_id&&(s=t)}),a.jsonFilteredData.splice(s,1),a.submitButtom=!1);"Custom_Layout"==t&&(a.CustomFieldjsonData.forEach((e,t)=>{e.custom_field_id==i.custom_field_id&&(s=t)}),a.CustomFieldjsonData.splice(s,1),a.submitButtom=!1);return"StopDragfield"==e.item.id&&!e.item._underlying_vm_.element.is_system_generated||"customID"!=e.to.id&&(e.preventDefault(),void(a.labeltype=t))},updateproperties(e){var t=this,a="jsonString="+JSON.stringify(e);g["a"].SaveUpdateCustomField(a).then((function(a){if(null!=a.data){var i=JSON.parse(a.data);1==i.STATUS_CODE?(t.ShowAlert(t.$t("CustomFieldSuccess",[t.$t("Field")]),"success",!0,t.$t("Alert")),t.GetCustomNewField(e,"Custom_Layout"),t.hidePopup()):3==i.STATUS_CODE?t.ShowAlert(t.$t("CustomFieldExists"),"danger",!0,t.$t("Alert")):2==i.STATUS_CODE&&(t.ShowAlert(t.$t("CustomFieldUpdate"),"success",!0,t.$t("Alert")),t.GetCustomNewField(e,"Custom_Layout_update"))}else t.ShowAlert(t.$t("CustomLayoutError"),"danger",!0,t.$t("Alert"))}))},SubmitData:function(){var e=this;e.isLoading=!0;var t=e.LayoutList,a=[],i=[],s=[];if(e.picklistOptionBlankItems=[],e.duplcateGroupNameExists="",e.duplicateNameExists="",e.duplicateFieldExists=[],e.isGroupNameBlank="",e.LayoutList.forEach(t=>{let a=new Set;t.FieldData.forEach(t=>{a.has(t.display_name)?e.duplicateFieldExists.push(t.display_name):a.add(t.display_name)}),t.FieldData.length>1?e.groupvaluenull=!1:t.FieldData.length>0?t.FieldData.forEach(t=>{void 0==t.CUSTOM_LAYOUT_ID&&t.group_name.includes("NewGroup")?e.groupvaluenull=!1:t.name.includes("X")&&(e.groupvaluenull=!0)}):e.groupvaluenull=!0}),0==e.groupvaluenull){if($.each(e.LayoutList,(function(t,a){1==s.includes(a.group_display_name)?e.duplcateGroupNameExists=a.group_display_name:s.push(a.group_display_name),""==a.group_display_name&&(e.isGroupNameBlank=a.group_name),$.each(a.FieldData,(function(t,a){"select"!=a.dt_code&&"radio"!=a.dt_code&&"checkbox"!=a.dt_code||""!=$.trim(a.picklist_options)||e.picklistOptionBlankItems.push(a.name),1==i.includes(a.name)?e.duplicateNameExists=a.name:i.push(a.name)}))})),$.each(t,(function(t,i){var s=i.FieldData,l=0;void 0!=typeof s&&null!=s&&s.forEach((e,t)=>{null==e.custom_layout_id?(e.is_inserted=1,e.is_updated=0):(e.is_inserted=0,e.is_updated=1)});var o=$.grep(s,(function(e,t){return e.display_order=t+1,"yes"==e.is_include_in_post_jon})),r={group_id:i.group_id,group_name:i.group_name,group_display_name:i.group_display_name,layout_type:i.LayoutType,is_inserted:i.group_id<=0?1:0,is_updated:l,display_order:t+1,FieldData:o,group_layout_type:e.GrouplayoutType};a.push(r)})),0!=e.FieldData.length)var l={moduleName:e.FieldData[0].Module_name,subModuleCode:e.FieldData[0].sub_module_code,CUSTOM_LAYOUT_ID:e.CustomLayout_Id,data:a};if(""==e.duplicateNameExists&&""==e.duplcateGroupNameExists&&""==e.isGroupNameBlank&&0==e.picklistOptionBlankItems.length&&""==e.duplicateFieldExists){var o=JSON.stringify(l);g["a"].ManageLayoutPage(o).then((function(t){"Success"==t.data[0].Status?(e.ShowAlert(e.$t("CustomLayoutSuccess",[e.$t("Lauout")]),"success",!0,e.$t("Alert")),e.$router.push({name:"CustomLayoutListing"})):"Failure"==t.data[0].Status&&e.ShowAlert(e.$t("Mendatorycustomfield"),"faliure",!0,e.$t("Alert"))})),this.submitButtom=!1,e.isLoading=!1}else""!=e.duplcateGroupNameExists?e.ShowAlert(e.duplcateGroupNameExists+e.$t("duplcateGroupNameExists"),"warning",!0,e.$t("Alert")):""!=e.isGroupNameBlank?e.ShowAlert(e.$t("GroupNameExists")+e.isGroupNameBlank+e.$t("Groupnameremove"),"warning",!0,e.$t("Alert")):""!=e.duplicateFieldExists&&e.ShowAlert(e.duplicateFieldExists+e.$t("Duplicatefieldsname"),"warning",!0,e.$t("Alert")),e.isLoading=!1,e.submitButtom=!1}else e.isLoading=!1,e.ShowAlert(e.$t("Misscustomfield"),"warning",!0,e.$t("Alert"))},Cancel(){var e=this;e.$router.push({name:"CustomLayoutListing"})},closePropPopup(e){var t=this;t.CustomFieldListLeft.push(e),t.showFieldPropPopup=!1,t.FetchData()},GetCustomNewField(e,t){var a=this;"Custom_Layout"==t||""==t?(a.LayoutList.forEach((t,i)=>{var s=a.LayoutList[i].FieldData.find(t=>t.custom_field_id===e[0].CUSTOM_FIELD_ID);void 0!=s&&(s.display_name=e[0].DISPLAY_NAME)}),a.closePropPopup(e[0])):"Custom_Layout_update"==t?(a.LayoutList.forEach((t,i)=>{var s=a.LayoutList[i].FieldData.find(t=>t.custom_field_id===e[0].CUSTOM_FIELD_ID);void 0!=s&&(s.display_name=e[0].DISPLAY_NAME)}),a.showFieldPropPopup=!1):a.closePropPopup(e[0])},DeleteDependency(e){var t=this;t.confirmR(t.$t("ConfirmDeleteDependancy"),"faliure",!0,(function(){var a=`customFieldId=${e.custom_field_id}&customFieldLayoutId=${e.custom_layout_id}`;g["a"].DependencyRemove(a).then((function(a){1==a.data?(t.SetDependField(e.custom_field_id),t.ShowAlert(t.$t("DependancyRemoves",[t.$t("Lauout")]),"success",!0,t.$t("Alert")),t.popupcloseforsystemfields()):t.ShowAlert(t.$t("NoDependancy"),"faliure",!0,t.$t("Alert"))}))}))},SetDependField(e){var t=this;t.LayoutList.forEach(t=>{t.FieldData.forEach(t=>{t.custom_field_id==e&&(t.has_dependent_field=0)})})}}},v=h,C=(a("b8d5"),Object(m["a"])(v,i,s,!1,null,null,null));t["default"]=C.exports},b8d5:function(e,t,a){"use strict";a("2f5e")}}]);
//# sourceMappingURL=chunk-7d3cee90.js.map