(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fb62043"],{"445f":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",[e("StorageBar",{attrs:{type:"Doc"}}),e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[e("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)])]),e("tbody",[t._l(t.UserData,(function(a,n){return e("tr",{key:n},[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{Id:a.USER_ID,type:"checkbox"},domProps:{value:a.USER_ID},on:{change:function(e){return t.onChange()}}})]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.USER_NAME)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.DESIGNATION_NAME)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.DEPARTMENT_NAME)+" ")])]),e("td",[e("a",{staticClass:"inactive-disabled"},["1001"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-success",attrs:{title:"Active"}},[t._v(" Active")]):t._e(),"1084"==a.STATUS_ID?e("span",{staticClass:"sent bg-secondary btn d-inline-block w-80 text-center text-truncate text-white",attrs:{title:"Approved"}},[t._v(" Approved")]):t._e(),"Rejected"==a.STATUS_ID?e("span",{staticClass:"stop btn d-inline-block w-80 text-center text-truncate btn-danger",attrs:{title:"Rejected"}},[t._v(" Rejected")]):t._e(),"1003"==a.STATUS_ID?e("span",{staticClass:"stop px-2 bg-primary btn d-inline-block w-80 text-center text-truncate",attrs:{title:"Deleted"}},[t._v(" Deleted")]):t._e(),"1002"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-danger",attrs:{title:"Inactive"}},[t._v("Inactive")]):t._e(),"1005"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-secondary",attrs:{title:"Pending"}},[t._v(" Pending")]):t._e(),"ActivationAwaited"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-warning",attrs:{title:"ActivationAwaited"}},[t._v(" ActivationAwaited")]):t._e()])]),e("td",[e("span",{staticClass:"text-right text-overflow-dynamic-container"},[t._v(" "+t._s(a.USED_STORAGE)+" ")])]),e("td",["1002"!=a.STATUS_ID?e("span",{staticClass:"text-overflow-dynamic-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.ALLOWED_STORAGE,expression:"item.ALLOWED_STORAGE"}],staticClass:"maxAllowedStorage form-control text-right",attrs:{type:"text",id:"idMaxStorage"+a.USER_ID,step:"0.01",maxlength:"13",disabled:"disabled"},domProps:{value:a.ALLOWED_STORAGE},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||t.$set(a,"ALLOWED_STORAGE",e.target.value)}}})]):t._e(),"1002"==a.STATUS_ID?e("span",{staticClass:"text-overflow-dynamic-container"},[e("input",{staticClass:"maxAllowedStorage form-control text-right disabled",attrs:{type:"text","asp-for":"item.MaxStorage",id:"idMaxStorage"+a.USER_ID,step:"0.01",maxlength:"13",value:"0"}})]):t._e()]),e("td",{staticClass:"text-center single-action"},[t.hideEditIcon?e("a",{staticClass:"aEdit",attrs:{title:"Edit",id:"idEdit"+a.USER_ID},on:{click:function(e){return t.editAllowedStorage(a.USER_ID)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})]):t._e(),e("div",{staticStyle:{display:"none"},attrs:{id:"divAction"+a.USER_ID}},[e("a",{staticClass:"aCancel mr-2",attrs:{id:"idCancel_"+a.USER_ID,value:a.USER_ID,title:"Cancel",href:"javascript:;"},on:{click:function(e){return t.CancelAction(a.USER_ID,a.ALLOWED_STORAGE)}}},[e("i",{staticClass:"fa fa-times-circle text-danger action-icon"})]),e("a",{staticClass:"aSave",attrs:{title:"Save",value:a.USER_ID,id:"idSave_"+a.USER_ID,href:"javascript:;"},on:{click:function(e){return t.SaveData(a.USER_ID,a.ALLOWED_STORAGE,a.CONSUMED_STROAGE)}}},[e("i",{staticClass:"fa fa-save text-primary action-icon"})])])])])})),0==t.NoRecordLength?e("tr",[e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record Found")])]):t._e(),t.NoRecordLength>0?e("tr",[e("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"2"}},[t._v("Total")]),e("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"4"}},[t._v(t._s(t.totalConsumedStorage)+" MB ")]),e("td",{staticClass:"text-right fr font-weight-bold"},[t._v(t._s(t.totalAllowedStorage)+" MB")])]):t._e()],2)])])]),e("div",{staticClass:"col-lg-12 text-right mt-3 float-right p-0"},[e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[t._v("Previous")]),e("button",{staticClass:"btn btn-success",attrs:{title:"Save"},on:{click:function(e){return t.SaveButton()}}},[e("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" Save")])])],1)},i=[function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("User Name")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Designation")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Department")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Status")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Consumed Storage (MB)")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Allocated Storage (MB)")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[e("span",[t._v("Action")])])}],r=(a("14d9"),a("4555")),s=a("9769"),o=a("162b"),l={components:{Pager:r["a"],StorageBar:o["a"]},data(){return{isLoading:!1,UserData:[],DepartmentData:[],designationData:[],userStorageDetailSummary:[],pageNo:1,searchCondition:null,sortExp:null,sortBy:null,pageSize:10,totalRecords:"",dropDivShow:!1,showByNameDiv:!1,showByConsumedDiv:!1,divDesignationShow:!1,hideEditIcon:!0,isAllocatedSpaceOpen:!1,UserStorageValue:null,UserId:null,saveStorage:null,StorageValue:null,jsonobj:[],JSONSearchData:[],departmentList:null,designationList:null,txtSearchUserName:"",txtConsumedStorage:"",userFilterData:[],CheckIfExistDepartment:[],jsonFilteredData:[],label:!1,totalConsumedStorage:0,totalAllowedStorage:0,NoRecordLength:0,isDeptSearchOn:!1,isDesgSearchOn:!1,arrayDepartmentChecks:[],departmentSelectedArray:[],designationSelectedArray:[],arrayDesignationChecks:[],CheckIfExistDesignation:[],CheckIfExist:[],txtDepartmentName:[],tempArray:[],txtSearchDeptValue:"",containerSize:null,docStorageMaxLimit:null,AllowedClientStorage:null,AllowedUserStorage:null,total:null,consumed:null,allocated:null,jsonObjData:[]}},created(){var t=this;t.FetchData(),t.GetDDLDesignationData(),t.GetDDLDepartmentData(),t.GetStoragedata()},computed:{AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AllowedStorage(){var t=this.AllowedClientStorage+this.AllowedUserStorage;return t}},methods:{inittable:function(){var t=this;const e=document.getElementById("tblFileList"),a=e.querySelectorAll("th");[].forEach.call(a,(function(e){const a=document.createElement("div");a.classList.add("resizer"),e.appendChild(a),t.createResizableColumn(e,a)}))},createResizableColumn:function(t,e){let a=0,n=0;const i=function(e){a=e.clientX;const i=window.getComputedStyle(t);n=parseInt(i.width,10),document.addEventListener("mousemove",r),document.addEventListener("mouseup",s)},r=function(e){const i=e.clientX-a;t.style.width=n+i+"px",t.style.minWidth=n+i+"px",t.style.maxWidth=n+i+"px"},s=function(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s)};e.addEventListener("mousedown",i)},validate:function(){var t=this,e=(t.AllowedClientStorage,t.AllowedUserStorage),a=t.AvailableSpace,n=t.totalAllowedStorage,i=e+a;return!(i<n)||(t.ShowAlert(t.$t("You cannot assign space more than available space"),"failure",!0,t.$t("Alert")),!1)},PreviousButton:function(){var t=this;t.$parent.ShowNextTab(3)},searchDept:function(){var t=this;""!=t.txtSearchDeptValue&&(t.DepartmentData=t.DepartmentData.filter(e=>e.name.toLowerCase().includes(t.txtSearchDeptValue)))},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},ClearFilter:function(t,e,a){},enableDepartmentSearch:function(){var t=this;$(".DepartmentchkItems:checked").length>0?(t.isDeptSearchOn=!0,t.departmentSelectedArray=[],$(".DepartmentchkItems:checked").each((function(){var e=$(this).val();t.arrayDepartmentChecks=t.DepartmentData.filter(t=>t.value==e),t.departmentSelectedArray=t.departmentSelectedArray.concat(t.arrayDepartmentChecks)}))):t.isDeptSearchOn=!1},enableDesignationSearch:function(){var t=this;$(".DesignationchkItems:checked").length>0?(t.isDesgSearchOn=!0,t.designationSelectedArray=[],$(".DesignationchkItems:checked").each((function(){var e=$(this).val();t.arrayDesignationChecks=t.designationData.filter(t=>t.value==e),t.designationSelectedArray=t.designationSelectedArray.concat(t.arrayDesignationChecks)}))):t.isDesgSearchOn=!1},SkipButton:function(){var t=this;t.$parent.ShowNextTab(5)},SaveButton:function(){var t=this;t.jsonObjData=[];new FormData;if(0!=$("#tblFileList tr").length){var e=`pageNo=${t.pageNo}&pageSize=${t.pageSize}&sortBy=&sortExp=&userTypeIds=1,2,3`;s["a"].GetUserStorageDetail(e).then((function(e){t.UserData=JSON.parse(e.data).USERSTORAGEDETAILLIST,null!=t.UserData&&t.UserData.forEach((e,a)=>{let n={DataId:e.USER_ID,DataValue:e.ALLOWED_STORAGE};t.jsonObjData.push(n)});let a=[{refCode:"UserSetting",moduleName:"DocStorage"}];var n="configData",i="conditionData",r="[{"+JSON.stringify(n)+":"+JSON.stringify(t.jsonObjData)+", "+JSON.stringify(i)+":"+JSON.stringify(a)+"}]";1==t.validate()?s["a"].ManageDocUserStorageSettingData(JSON.stringify(r)).then(e=>{0==e.data?t.$parent.ShowNextTab(5):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))}):t.ShowAlert(t.$t("You cannot assign space more than available space"),"failure",!0,t.$t("Alert"))}))}else t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))},disableDepartmentButton:function(){var t=this;t.isDeptSearchOn=!1},disableDisgnationButton:function(){var t=this;t.isDesgSearchOn=!1},SearchUserStorage:function(){var t=this;t.userFilterData=[],$(".DepartmentchkItems:checked").each((function(){var e=$(this).val();t.CheckIfExistDepartment=t.UserData.filter(t=>t.DEPARTMENT_ID==e),t.JSONSearchData=Array.from(t.CheckIfExistDepartment),t.userFilterData=t.userFilterData.concat(t.JSONSearchData),t.departmentSelectedArray.length>0?t.dropDivShow=!0:t.dropDivShow=!1})),$(".DesignationchkItems:checked").each((function(){0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData);var e=$(this).val();t.CheckIfExistDesignation=t.UserData.filter(t=>t.DESIGNATION_ID==e),t.JSONSearchData=Array.from(t.CheckIfExistDesignation),t.userFilterData=t.userFilterData.concat(t.JSONSearchData),t.designationSelectedArray.length>0?t.divDesignationShow=!0:t.divDesignationShow=!1})),""!=t.txtSearchUserName&&(0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData),t.CheckIfExist=t.UserData.filter(e=>e.USER_NAME.toLowerCase().includes(t.txtSearchUserName)),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)),""!=t.txtConsumedStorage&&(0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData),t.CheckIfExist=t.jsonFilteredData.filter((function(e){return e.CONSUMED_STROAGE==t.txtConsumedStorage})),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)),t.UserData=t.userFilterData,t.getTotalStorageData()},ResetButton:function(){var t=this;t.FetchData(),t.GetDDLDesignationData(),t.GetDDLDepartmentData(),t.dropDivShow=!1,t.divDesignationShow=!1,t.showByNameDiv=!1,t.showByConsumedDiv=!1,$(".DepartmentchkItems").prop("checked",!1),$(".DesignationchkItems").prop("checked",!1),t.txtSearchUserName="",t.txtConsumedStorage="",t.toggleExpandCollapseButton(t.label=!0),t.userFilterData=[],t.designationSelectedArray=[],t.departmentSelectedArray=[]},toggleExpandCollapseButton:function(){var t=this;0==t.label?(t.dropDivShow=!0,t.divDesignationShow=!0,t.showByNameDiv=!0,t.showByConsumedDiv=!0,t.label=!0):(t.dropDivShow=!1,t.divDesignationShow=!1,t.showByNameDiv=!1,t.showByConsumedDiv=!1,t.label=!1,t.isDeptSearchOn=!1,t.isDesgSearchOn=!1),t.txtSearchUserName="",t.txtConsumedStorage=""},getTotalStorageData:function(){var t=this;t.totalAllowedStorage=0,t.totalConsumedStorage=0,t.UserData.forEach(e=>{"1002"!=e.STATUS_ID&&(t.totalAllowedStorage+=e.ALLOWED_STORAGE,t.totalConsumedStorage+=e.CONSUMED_STROAGE)})},AllocatedSpacePopup:function(){var t=this,e="",a="";$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){a=$(this).closest("tr").find(".maxAllowedStorage").val(),e=$(this).val();let n={Id:e,value:a};t.jsonobj.push(n)})),t.isAllocatedSpaceOpen=!0},closeAllocatedSpace:function(){var t=this;t.isAllocatedSpaceOpen=!1},GetStoragedata:function(){var t=this;t=this;s["a"].GetStorageReport().then((function(e){t.total=e.data[0].CONTAINER_LIMIT,t.consumed=e.data[0].CONTAINER_SIZE,t.allocated=e.data[0].DOC_STORAGE_MAXLIMIT}));var e="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";s["a"].GetUserStorageDetail(e).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedClientStorage=0,a.forEach(e=>{t.AllowedClientStorage+=e.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";s["a"].GetUserStorageDetail(a).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedUserStorage=0,a.forEach(e=>{t.AllowedUserStorage+=e.ALLOWED_STORAGE})}))},SaveData:function(t,e,a){var n=this;n.isLoading=!0,n.jsonObjData=[],n.UserId=t,n.UserStorageValue=e;let i={DataId:n.UserId,DataValue:n.UserStorageValue};n.jsonObjData.push(i);let r=[{refCode:"UserSetting",moduleName:"DocStorage"}];var o="configData",l="conditionData",c="[{"+JSON.stringify(o)+":"+JSON.stringify(n.jsonObjData)+", "+JSON.stringify(l)+":"+JSON.stringify(r)+"}]";if(e>n.total)return n.ShowAlert(n.$t("Allocate Storage cannot be more than total Storage"),"failure",!0,n.$t("Alert")),n.isLoading=!1,!1;e<a?n.ShowAlert(n.$t("Allocate Storage cannot be less than consumed Storage"),"failure",!0,n.$t("Alert")):isNaN(e)?n.ShowAlert(n.$t("Allocate Storage must be numeric."),"failure",!0,n.$t("Alert")):s["a"].ManageDocUserStorageSettingData(JSON.stringify(c)).then(e=>{0==e.data?(this.ShowAlert("Storage Configuration Data Updated Successfully"),$("#idMaxStorage"+t).attr("disabled","disabled"),$("#divAction"+t).hide(),$("#idEdit"+t).show(),n.FetchData(),n.GetDDLDesignationData(),n.GetDDLDepartmentData(),n.$parent.GetStorageSetupStatusDetail()):n.ShowAlert(n.$t("UnknownErrorOccur"),"failure",!0,n.$t("Alert"))}),n.isLoading=!1},CancelAction:function(t){var e=this;$("#idMaxStorage"+t).attr("disabled","disabled"),$("#idEdit"+t).show(),$("#divAction"+t).hide(),e.FetchData(),e.GetDDLDesignationData(),e.GetDDLDepartmentData()},editAllowedStorage:function(t){$("#idMaxStorage"+t).removeAttr("disabled"),$("#idEdit"+t).hide(),$("#divAction"+t).show()},PagerData:function(t,e,a,n){var i=this;i.pageNo=t,i.pageSize=n,i.FetchData(i.pageNo,e,a,i.pageSize)},pagerMethod:function(t){"Prev"==t.target.innerHTML?this.pageNo=this.pageNo-1:"Next"==t.target.innerHTML?this.pageNo=parseInt(this.pageNo)+1:this.pageNo=t.target.innerHTML,"First"==this.pageNo&&(this.pageNo="1"),"Last"==this.pageNo&&(this.pageNo=this.TotalPages),parseInt(this.pageNo)>0?this.PagerData(this.pageNo,"","",this.pageSize):this.pageNo=1},pageSizecommon:function(t){var e=this;e.pageNo=1,e.pageSize=t.target.value,e.PagerData(e.pageNo,"","",e.pageSize)},onChange:function(){var t=$(".chkItems:checked").not("[id^='chkAll']").length;t>0?$("#btnStorageSpace").removeClass("disabled"):$("#btnStorageSpace").addClass("disabled")},GetDDLDepartmentData:function(){var t=this;var e="moduleName=DocStorage&type=DEPARTMENT";s["a"].GetDDLDatas(e).then(e=>{t.DepartmentData=e.data.DATA})},GetDDLDesignationData:function(){var t=this;var e="moduleName=DocStorage&type=HR_DESIG";s["a"].GetDDLDatas(e).then(e=>{t.designationData=e.data.DATA})},FetchData:function(){var t=this;t.isLoading=!0;var e=`pageNo=${t.pageNo}&pageSize=${t.pageSize}&sortBy=&sortExp=&userTypeIds=1,2,3`;s["a"].GetUserStorageDetail(e).then((function(e){t.UserData=JSON.parse(e.data).USERSTORAGEDETAILLIST,t.totalRecords=t.UserData[0].totalRecords,t.userStorageDetailSummary=JSON.parse(e.data).USERSTORAGEDETAILSUMMARY,t.getTotalStorageData(),t.isLoading=!1,null==t.UserData?t.NoRecordLength=0:t.NoRecordLength=t.UserData.length})),setTimeout((function(){t.ResponsiveDataTable("tblFileList")}),500),setTimeout((function(){t.inittable()}),1500),$("#btnStorageSpace").addClass("disabled")}}},c=l,d=(a("951b"),a("2877")),S=Object(d["a"])(c,n,i,!1,null,"3e5e551d",null);e["a"]=S.exports},"5f47":function(t,e,a){var n=a("e70b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("499e").default;i("09cbd283",n,!0,{sourceMap:!1,shadowMode:!1})},"951b":function(t,e,a){"use strict";a("5f47")},e70b:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".table th[data-v-3e5e551d]{position:relative}.resizer[data-v-3e5e551d]{position:absolute;top:0;right:0;width:5px;cursor:col-resize;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}",""]),t.exports=e}}]);
//# sourceMappingURL=chunk-3fb62043.js.map