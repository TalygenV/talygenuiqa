(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d71b3d9"],{"162b":function(t,e,a){"use strict";var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[e("div",[e("b-progress",{attrs:{height:"1.5rem",value:"All"==t.type?t.consumed:t.AllowedStorage,max:"All"==t.type?t.total:t.allocated}})],1),e("div",{staticClass:"level_info my-2 d-block float-left w-100",staticStyle:{height:"auto"}},[e("div",{staticClass:"d-flex bd-highlight"},["Doc"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[e("b",{attrs:{id:"divClientStorage pr-1"}},[e("span"),t._v(" "),e("span",{staticClass:"clr-1"},[t._v(" "+t._s(t.AllowedClientStoragePercentage)+"% ("+t._s(t.formatBytes(t.AllowedClientStorage))+")")])]),t._v(" "),e("span",[t._v("Allocated to Client")])]):t._e(),"Doc"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[e("b",{attrs:{id:"divConsumendStorage pr-1"}},[e("span"),t._v(" "),e("span",{staticClass:"clr-2"},[t._v(" "+t._s(t.AllowedUserStoragePercentage)+"% ("+t._s(t.formatBytes(t.AllowedUserStorage))+")")])]),t._v(" "),e("span",[t._v("Allocated to User")])]):t._e(),"All"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[t._m(0),e("span",{staticClass:"clr-1 pr-1"},[t._v(t._s(t.ConsumedPercentage)+"% ("+t._s(t.formatBytes(t.consumed))+") ")]),e("span",[t._v("Storage Consumed")])]):t._e(),e("div",{staticClass:"p-2 bd-highlight font-12"},[t._m(1),e("span",{staticClass:"clr-3 pr-1"},[t._v(t._s(t.AvailablePercentage)+"% ("+t._s(t.formatBytes(t.AvailableSpace))+") ")]),e("span",[t._v("Available Storage")])]),e("div",{staticClass:"ml-auto p-2 bd-highlight font-12"},[t._m(2),e("span",{staticClass:"font-weight-bold pr-1"},[t._v(t._s(t.formatBytes("All"==t.type?t.total:t.allocated))+" ")]),t._v(" "),e("span",[t._v("Total Storage")])])])])])},s=[function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])},function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])},function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])}],r=a("9769"),i={props:{type:{type:String,required:!0}},data(){return{total:null,consumed:null,allocated:null,AllowedClientStorage:null,AllowedUserStorage:null}},created:function(){var t=this;t.GetStoragedata()},computed:{ConsumedPercentage:{get:function(){return parseFloat(100*this.consumed/this.total).toFixed(0)},set:function(t){}},AllocatedPercentage(){return parseFloat(100*this.allocated/this.total).toFixed(0)},AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AvailablePercentage(){if("All"==this.type){var t=this.total>=this.consumed?this.total-this.consumed:0;return parseFloat(100*t/this.total).toFixed(0)}t=this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0;return parseFloat(100*t/this.allocated).toFixed(0)},AllowedStorage(){var t=this.AllowedClientStorage+this.AllowedUserStorage;return t},AllowedStoragePercentage(){var t=parseFloat(100*(this.AllowedClientStorage+this.AllowedUserStorage)/this.allocated).toFixed(0);return t},AllowedClientStoragePercentage(){var t=parseFloat(100*this.AllowedClientStorage/this.allocated).toFixed(0);return t},AllowedUserStoragePercentage(){var t=parseFloat(100*this.AllowedUserStorage/this.allocated).toFixed(0);return t}},watch:{consumed:function(t){this.ConsumedPercentage=parseFloat(100*this.consumed/this.total).toFixed(0)}},methods:{GetStoragedata:function(){var t=this;if(r["a"].GetStorageReport().then((function(e){t.total=null==e.data[0].CONTAINER_LIMIT||null==e.data[0].CONTAINER_LIMIT?0:e.data[0].CONTAINER_LIMIT,t.consumed=null==e.data[0].CONTAINER_SIZE||void 0==e.data[0].CONTAINER_SIZE?0:e.data[0].CONTAINER_SIZE,t.allocated=null==e.data[0].DOC_STORAGE_MAXLIMIT||void 0==e.data[0].DOC_STORAGE_MAXLIMIT?o:e.data[0].DOC_STORAGE_MAXLIMIT})),"Doc"==t.type){var e="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";r["a"].GetUserStorageDetail(e).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedClientStorage=0,a.forEach(e=>{null==e.ALLOWED_STORAGE||void 0==e.ALLOWED_STORAGE?(e.ALLOWED_STORAGE=0,t.AllowedClientStorage+=e.ALLOWED_STORAGE):t.AllowedClientStorage+=e.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";r["a"].GetUserStorageDetail(a).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedUserStorage=0,a.forEach(e=>{"1002"!=e.STATUS_ID&&(null==e.ALLOWED_STORAGE||void 0==e.ALLOWED_STORAGE?(e.ALLOWED_STORAGE=0,t.AllowedUserStorage+=e.ALLOWED_STORAGE):t.AllowedUserStorage+=e.ALLOWED_STORAGE)})}))}t.total=isNaN(t.total)?0:t.total,t.consumed=isNaN(t.consumed)?0:t.consumed,t.allocated=isNaN(t.allocated)?0:t.allocated,t.AllowedClientStorage=isNaN(t.AllowedClientStorage)?0:t.AllowedClientStorage,t.AllowedUserStorage=isNaN(t.AllowedUserStorage)?0:t.AllowedUserStorage},formatBytes:function(t,e=!1,a=2){if(!+t)return"0 Bytes";const l=1024,s=a<0?0:a,r=["MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(t)/Math.log(l));return e?parseFloat((t/Math.pow(l,o)).toFixed(s)):`${parseFloat((t/Math.pow(l,o)).toFixed(s))} ${r[o]}`}}},n=i,c=a("2877"),d=Object(c["a"])(n,l,s,!1,null,null,null);e["a"]=d.exports},4555:function(t,e,a){"use strict";var l=function(){var t=this,e=t._self._c;return t.TotalPages>0?e("div",{staticClass:"nu-paging"},[e("nav",{attrs:{"aria-label":"Page navigation example col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"}},[e("ul",{staticClass:"pagination row"},[e("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left choose-page"},[e("span",{staticClass:"mr-2"},[t._v("Show")]),e("span",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.PageSize,expression:"PageSize"}],staticClass:"form-control form-control-sm",attrs:{id:"pageSize",name:"pageSize"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.PageSize=e.target.multiple?a:a[0]},t.SetPageSize]}},t._l(t.PageSizeOption,(function(a,l){return e("option",{key:l,domProps:{value:a}},[t._v(t._s(a))])})),0)]),e("span",{staticClass:"ml-2"},[t._v(t._s(t.$t("PagingText",[(t.CurrentPage-1)*t.PageSize+1,t.PageSize*t.CurrentPage>t.TotalRecords?t.TotalRecords:t.PageSize*t.CurrentPage,t.TotalRecords])))])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[t.TotalPages>1?e("ul",{staticClass:"paging-count"},[e("li",{staticClass:"page-item"},[1!=t.CurrentPage?e("a",{staticClass:"page-link first",attrs:{title:t.firstText,href:"javascript:;",val:"1"},on:{click:function(e){return t.SetCurrentPage(1)}}},[t._v(t._s(t.firstText))]):t._e(),1==t.CurrentPage?e("a",{staticClass:"page-link first disabled",attrs:{title:t.firstText,val:"1"}},[t._v(t._s(t.firstText))]):t._e()]),e("li",{staticClass:"page-item"},[1!=t.CurrentPage?e("a",{staticClass:"page-link previous",attrs:{title:t.prevText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage-1)}}},[t._v(t._s(t.prevText))]):t._e(),1==t.CurrentPage?e("a",{staticClass:"page-link previous disabled",attrs:{title:t.prevText}},[t._v(t._s(t.prevText))]):t._e()]),t._l(t.TotalPages,(function(a,l){return[a>=t.GroupStart&&a<=t.GroupEnd?e("li",{key:l,staticClass:"page-item"},[l+1==t.CurrentPage?e("a",{staticClass:"page-link active",attrs:{href:"javascript:;"}},[t._v(t._s(l+1))]):t._e(),l+1!=t.CurrentPage?e("a",{staticClass:"page-link",attrs:{href:"javascript:;",val:l},on:{click:function(e){return t.SetCurrentPage(l+1)}}},[t._v(t._s(l+1))]):t._e()]):t._e()]})),e("li",{staticClass:"page-item"},[t.CurrentPage<t.TotalPages?e("a",{staticClass:"page-link next",attrs:{title:t.nextText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage+1)}}},[t._v(t._s(t.nextText))]):t._e(),t.CurrentPage>=t.TotalPages?e("a",{staticClass:"page-link disabled next",attrs:{title:t.nextText}},[t._v(t._s(t.nextText))]):t._e()]),e("li",{staticClass:"page-item"},[t.CurrentPage!=t.TotalPages?e("a",{staticClass:"page-link next",attrs:{title:t.lastText,href:"javascript:;",val:t.TotalPages},on:{click:function(e){return t.SetCurrentPage(t.TotalPages)}}},[t._v(t._s(t.lastText))]):t._e(),t.CurrentPage==t.TotalPages?e("a",{staticClass:"page-link next disabled",attrs:{title:t.lastText,val:t.TotalPages}},[t._v(t._s(t.lastText))]):t._e()])],2):t._e()])])])]):t._e()},s=[],r=(a("14d9"),{props:{numberofrecords:{type:Number,required:!0},prevText:{type:String,required:!0},nextText:{type:String,required:!0},firstText:{type:String,required:!0},lastText:{type:String,required:!0},callbackfunction:{type:Function},CurrentPageNumber:{type:Number}},data:function(){return{TotalRecords:0,PageNumber:1,PageSize:10,PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,LastPage:!1}},watch:{numberofrecords:function(t){this.CurrentPage>this.PageNumber&&(this.CurrentPage=this.PageNumber),this.TotalRecords=t,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3)},CurrentPageNumber:function(t){var e=this;e.CurrentPage=t,1==t&&e.SetCurrentPage(t)}},created:function(){this.GetPageSizeOption()},methods:{GetData:function(){this.$emit("SetCurrentPage",{PageNumber:this.PageNumber,PageSize:this.PageSize}),"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction&&this.callbackfunction()},SetPageSize:function(t){this.PageSize=t.target.value,this.PageNumber=1,this.CurrentPage=this.PageNumber,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetData()},SetCurrentPage:function(t){this.PageNumber=t,this.CurrentPage=t,this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3),this.GetData()},GetPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t}}}),o=r,i=a("2877"),n=Object(i["a"])(o,l,s,!1,null,null,null);e["a"]=n.exports},c857:function(t,e,a){"use strict";var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-open my-popups",staticStyle:{"z-index":"9999998"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block",attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",staticStyle:{width:"35%"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",attrs:{name:"header"}},[t._v("Allocate Space")]),e("button",{staticClass:"close",on:{click:t.ClosePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({valid:a,errors:l}){return[e("section",{staticClass:"main-content",attrs:{id:"divMainContent"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Allocate Space (MB): "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{attrs:{rules:{required:!0},name:"Allocate Space"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.allocatedSpaceValue,expression:"allocatedSpaceValue"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{id:"allocateSpace",type:"text",maxlength:"200"},domProps:{value:t.allocatedSpaceValue},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||(t.allocatedSpaceValue=e.target.value)}}}),e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"allocateSpace",id:"allocateSpace"}},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-lg-25"},[e("div",[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])])]}}])}),e("div",{staticClass:"text-right pr-0 pb-0"},[e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",attrs:{title:"Save"},on:{click:function(e){return t.SaveData()}}},[e("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" Save ")])])],1)])])])],1)},s=[],r=(a("14d9"),a("9769")),o={data:function(){return{isLoading:!1,allocatedSpaceValue:0,isAllocatedSpaceOpen:!1,UserStorageValue:null,jsonObjData:[],SumOfAllowedStorage:null,AllocatedStorage:null,AvailableSpace:null}},props:{jsonobj:{type:Array},avaliablestorage:{type:Number}},created(){var t=this;void 0!=t.jsonobj[0]&&(t.jsonobj.length>1?t.allocatedSpaceValue=0:t.allocatedSpaceValue=t.jsonobj[0].value),t.$parent.$refs.Client&&(t.SumOfAllowedStorage=t.$parent.$refs.Client.totalAllowedStorage,t.AllocatedStorage=t.$parent.$refs.Client.AllowedClientStorage,t.AvailableSpace=t.$parent.$refs.Client.AvailableSpace),t.$parent.$refs.User&&(t.SumOfAllowedStorage=t.$parent.$refs.User.totalAllowedStorage,t.AllocatedStorage=t.$parent.$refs.User.AllowedClientStorage,t.AvailableSpace=t.$parent.$refs.User.AvailableSpace)},methods:{SaveData:function(){var t=this;t.isLoading=!0;var e=0;t.UserStorageValue=null,t.jsonObjData=[];let a={};if(isNaN(t.allocatedSpaceValue))t.ShowAlert(t.$t("Allocate Storage must be numeric."),"failure",!0,t.$t("Alert")),t.isLoading=!1;else{t.UserStorageValue=t.allocatedSpaceValue;for(var l=t.jsonobj.length,s=0;s<t.jsonobj.length;s++)e+=parseInt(t.jsonobj[s].value);t.SumOfAllowedStorage=t.SumOfAllowedStorage-e,t.SumOfAllowedStorage=t.SumOfAllowedStorage+parseInt(t.UserStorageValue)*l;t.AllocatedStorage,t.AvailableSpace;if(null!=t.jsonobj)t.jsonobj.forEach((e,a)=>{let l={DataId:e.Id,DataValue:t.UserStorageValue};t.jsonObjData.push(l)}),a=[{refCode:"UserSetting",moduleName:"DocStorage"}];else{let e={DataId:t.UserId,DataValue:t.UserStorageValue};t.jsonObjData.push(e)}var o="configData",i="conditionData",n="[{"+JSON.stringify(o)+":"+JSON.stringify(t.jsonObjData)+", "+JSON.stringify(i)+":"+JSON.stringify(a)+"}]";if(t.avaliablestorage<t.SumOfAllowedStorage)t.$parent.closeAllocatedSpace(),t.ShowAlert(t.$t("You cannot assign storage more than available storage"),"failure",!0,t.$t("Alert"));else{JSON.stringify(t.jsonObjData);t.$refs.form.validate().then(e=>{0!=e&&r["a"].ManageDocUserStorageSettingData(JSON.stringify(n)).then(e=>{0==e.data?(this.ShowAlert("Allocated Space Updated Successfully"),$(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.$parent.FetchData(),t.$parent.FetchClientData(),t.$parent.closeAllocatedSpace(),t.$emit("FetchData"),t.jsonObjData=[]):(t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert")),$(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"))})}),t.isLoading=!1}}},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},ClosePopup:function(){var t=this;t.isLoading=!0,t.$emit("closeAllocatedSpace"),t.$parent.closeAllocatedSpace(),t.$parent.FetchDatas(),t.$parent.GetDDLDepartmentData(),t.$parent.GetDDLDesignationData(),t.isLoading=!1}}},i=o,n=a("2877"),c=Object(n["a"])(i,l,s,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-7d71b3d9.js.map