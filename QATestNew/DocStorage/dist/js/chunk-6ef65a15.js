(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ef65a15"],{"0c7f":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[e._v(" "+e._s(e.ModalLabelForlsListing)+" ")]),t("div",["Groups"==e.refCode?t("a",{staticClass:"p-action-btn text-white",attrs:{id:"aAddFolder",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add"},on:{click:e.OpenAddGroupPopup}},[t("em",{staticClass:"fa fa-plus text-white"}),e._v(" "),t("br"),e._v("Add Group ")]):e._e(),t("a",{staticClass:"p-action-btn text-white disabled",attrs:{href:"javascript:;",id:"aDeleteAll",title:"Delete"},on:{click:e.CommonDelete}},[t("em",{staticClass:"fa fa-trash"}),e._v(" "),t("br"),e._v("Delete ")])]),t("button",{staticClass:"close",on:{click:e.ClosePopupGroups}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"listing py-3 px-3"},[t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(t){return e.onChange()}}})]),e._m(0),e._m(1),"Users"!=e.refCode?t("th",[t("span",[e._v("Shared Member")])]):e._e(),e._m(2)])]),t("tbody",[e._l(e.GroupListingData,(function(a){return t("tr",{key:a},[t("td",{staticClass:"text-center"},[t("input",{staticClass:"chkItems",attrs:{Id:a.Id,type:"checkbox"},domProps:{value:a.Id},on:{change:function(t){return e.onChange()}}})]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.Name)+" ")])]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.Permission)+" ")])]),"Users"!=e.refCode?t("td",[null!=a.SharedMembers?t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.SharedMembers)+" "),a.SharedMembers.length>2?t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.loadMore(a.Id)}}},[e._v("more..")]):e._e()]):e._e()]):e._e(),t("td",{staticClass:"single-action text-center"},[t("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Edit",typefor:"Edit",value:a.Id,title:"Edit"},on:{click:function(t){return e.EditGroupData(a.Id)}}},[t("em",{staticClass:"fa fa-pencil text-success action-icon"})]),t("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Delete",typefor:"Delete",value:a.Id,title:"Delete"},on:{click:function(t){return e.CommonDelete(a.Id)}}},[t("em",{staticClass:"fa fa-trash text-success action-icon"})])])])})),t("tr",[0==e.NoRecordLength?t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v(e._s(e.$t("NoRecordfound")))]):e._e()])],2)])])])])])])],1),e.ShowModalSharePopup?t("ModalShareDocument",{attrs:{docCode:e.docCode,folderId:e.folderId,GroupData:e.GroupData,StorageUniqueCode:e.StorageUniqueCode,idFile:e.FileId,generateJSONData:e.generateJSONData},on:{BindGroupsData:e.BindGroupsData,ClosePopup:e.ClosePopup}}):e._e(),e.showSharedUserList?t("SharedUserList",{attrs:{folderId:e.folderId,RecordId:e.RecordId,FileId:e.FileId,refCode:e.refCode}}):e._e()],1)},o=[function(){var e=this,t=e._self._c;return t("th",[t("span",[e._v("Name")])])},function(){var e=this,t=e._self._c;return t("th",[t("span",[e._v("Permissions")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[t("span",[e._v("Action")])])}],s=a("b48e"),l=a("9769"),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[e._v(" Shared Members List ")]),t("div",[t("a",{staticClass:"p-action-btn text-white disabled",attrs:{href:"javascript:;",id:"iconDeleteAll",title:"Delete"},on:{click:e.UsersDelete}},[t("em",{staticClass:"fa fa-trash"}),e._v(" "),t("br"),e._v("Delete ")])]),t("button",{staticClass:"close",on:{click:e.ClosePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"listing py-3 px-3"},[t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblUserList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(t){return e.onChange()}}})]),e._m(0),e._m(1)])]),t("tbody",[e._l(e.SharedData,(function(a){return t("tr",{key:a},[t("td",{staticClass:"text-center"},[t("input",{staticClass:"chkItems",attrs:{GroupId:a.UserId,type:"checkbox"},domProps:{value:a.UserId},on:{change:function(t){return e.onChange()}}})]),e.IsShowColumn?t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.UserName)+" ")])]):e._e(),t("td",{staticClass:"single-action text-center"},[t("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Delete",typefor:"Delete",value:a.UserId,title:"Delete"},on:{click:function(t){return e.UsersDelete(a.UserId)}}},[t("em",{staticClass:"fa fa-trash text-success action-icon"})])])])})),t("tr",[0==e.SharedData.length?t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v(e._s(e.$t("NoRecordfound")))]):e._e()])],2)])])])])])])],1)},n=[function(){var e=this,t=e._self._c;return t("th",[t("span",[e._v("Shared Member List")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[t("span",[e._v("Action")])])}],d={props:{RecordId:{type:String,required:!0},FileId:{type:String,required:!0},refCode:{type:String,required:!0}},components:{},data(){return{isLoading:!1,IsShowColumn:!0,SharedData:[],ListData:[]}},created:function(){this.BindSharedList()},methods:{ClosePopup:function(){this.$parent.ClosePopup(),this.$parent.FetchData()},BindSharedList:function(){var e=this;e.isLoading=!0;var t=`sourceId=${e.FileId}&parentId=${e.RecordId}&refCode=${e.refCode}`;l["a"].GetUserSharedListing(t).then((function(t){null!=t.data&&(e.ListData=JSON.parse(t.data),e.SharedData=e.ListData.DocParentUserListing),e.ListData=JSON.parse(t.data),e.SharedData=e.ListData.DocParentUserListing,e.isLoading=!1})),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1},onChange:function(){var e=$(".chkItems:checked").not("[id^='chkAll']").length;e>0?$("#iconDeleteAll").removeClass("disabled"):$("#iconDeleteAll").addClass("disabled")},UsersDelete:function(e){var t=this,a="";$("#tblUserList .chkItems:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()}));var i="";a.length>0||null!=e?t.confirmR(t.$t("ConfirmDeleteRecord"),!0,t.$t("Delete")+"  "+t.$t("Members"),(function(){t.isLoading=!0,e>0?i=e:i+=a+",";var o=`parentIds=${t.RecordId}&sharedUserIds=${i}&sourceId=${t.FileId}&refCode=Shared_Doc_Storage`;l["a"].DeleteParentsUsersSharedFilesFoldersBySource(o).then((function(e){1==e.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),t.BindSharedList(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Users")]),"success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Users")]),"Failure",!0,t.$t("Alert"))})),t.isLoading=!1})):t.ShowAlert(t.$t("Selectanyrecordtodelete")),t.isLoading=!1}}},c=d,p=a("2877"),h=Object(p["a"])(c,r,n,!1,null,null,null),u=h.exports,f={props:{ModalLabelForlsListing:{type:String,required:!0},refCode:{type:String,require:!0},FileId:{type:String,require:!0},docCode:{type:String,require:!0},StorageUniqueCode:{type:String,required:!0},folderId:{type:String,required:!0},generateJSONData:{type:Array,required:!1}},components:{ModalShareDocument:s["a"],SharedUserList:u},data(){return{isLoading:!1,loggeduserid:null,companyId:null,ShowGruopListing:!1,ShowModalAddGroup:!1,GroupListing:[],GroupListingData:[],GroupData:[],showSharedUserList:!1,ShowModalSharePopup:!1,GroupInfoData:[],NoRecordLength:null,UserListingShow:!1}},created:function(){this.loggeduserid=this.GetUserInfo.ID,this.companyId=this.GetUserInfo.CompanyId;var e=this;e.FetchData()},methods:{loadMore:function(e){var t=this;this.RecordId=e;t.refCode,t.FileId;this.showSharedUserList=!0},CommonDelete:function(e){var t=this,a="",i=this.folderId;$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()}));var o="";a.length>0||null!=e?(t.isLoading=!0,t.confirmR(t.$t("ConfirmDeleteRecord"),!0,t.$t("Delete")+"  "+t.$t("Groups"),(function(){e>0?o=e:o+=a+",";var s="";s="Users"==t.refCode?`parentIds=&sharedUserIds=${o}&sourceId=${t.FileId}&refCode=Shared_Doc_Storage&parentFolderId=${i}`:`parentIds=${o}&sharedUserIds=&sourceId=${t.FileId}&refCode=Shared_Doc_Storage&parentFolderId=${i}`,l["a"].DeleteParentsUsersSharedFilesFoldersBySource(s).then((function(e){"OK"==e.statusText||200==e.status?1==e.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("SharedParent")]),"success",!0,t.$t("Alert")),t.FetchData()):-1==e.data&&(t.ShowAlert(t.$t("DeletedError",[t.$t("SharedParent")]),"Failure",!0,t.$t("Alert")),t.isLoading=!1):t.ShowAlert(t.$t("DeletedError",[t.$t("SharedParent")]),"Failure",!0,t.$t("Alert"))}))})),t.isLoading=!1):(t.ShowAlert(t.$t("Selectanyrecordtodelete")),t.isLoading=!1)},ClosePopupGroups:function(){this.$parent.CloseGroupListingPopup()},ClosePopup:function(){this.showSharedUserList=!1,this.ShowModalSharePopup=!1},EditGroupData:function(e){var t=this;t.AddEditText="Edit";var a=`parentid=${e}&CompanyId=${t.companyId}&refCode=${this.refCode}&sourceId=${this.FileId}`;l["a"].GetSharedDocStorageParentUserInfo(a).then((function(e){t.GroupInfoData=JSON.parse(e.data),t.GroupData=t.GroupInfoData.DocStorageSharedUserListing,t.ShowModalSharePopup=!0}))},onChange:function(){var e=$(".chkItems:checked").not("[id^='chkAll']").length;e>0?$("#aDeleteAll").removeClass("disabled"):$("#aDeleteAll").addClass("disabled")},FetchData:function(){var e=this;e.isLoading=!0,e.GroupListingData=[];var t=`CompanyId=${this.companyId}&UserId=${this.loggeduserid}&refCode=${this.refCode}&sourceId=${this.FileId}`;l["a"].GetUserGroupListing(t).then((function(t){e.GroupListingData=t.data.DocStorageSharedUserListing,null==e.GroupListingData&&(e.NoRecordLength=0),e.isLoading=!1})),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)},OpenAddGroupPopup:function(){this.ShowModalSharePopup=!0},ClosePopupShared:function(){var e=this;e.ShowModalSharePopup=!1}}},m=f,g=Object(p["a"])(m,i,o,!1,null,null,null);t["a"]=g.exports},"0caf":function(e,t,a){var i=a("683c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("e64714ee",i,!0,{sourceMap:!1,shadowMode:!1})},"13d5":function(e,t,a){"use strict";var i=a("23e7"),o=a("d58f").left,s=a("a640"),l=a("2d00"),r=a("605d"),n=!r&&l>79&&l<83,d=n||!s("reduce");i({target:"Array",proto:!0,forced:d},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},"1e38":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{attrs:{id:"divMainFormData"}},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("LeftMenu",{attrs:{refCodes:"AdditionalStorage",userid:e.loggeduserid,SharedFolder:e.SharedFolderParent,RecentPinnedFolderArray:e.RecentFolderArray,organizationSpace:e.organizationSpace,pinnedFolderArray:e.pinnedFolderArray,folderTreeList:e.folderTreeList,additionalOrganizationSpace:e.additionalOrganizationSpace,sharedChildFolder:e.sharedChildFolder,UserList:e.SharedUserList,FolderArray:e.FindalFolderArray},on:{StorageDocumentListing:e.StorageDocumentListing,FilesListing:e.FilesListing}}),t("section",{staticClass:"main-content",attrs:{id:"main-content"}},[t("section",{staticClass:"main-content"},[t("div",{staticClass:"right-content hr_jobpost",attrs:{id:"rightMenuRecycle"}},[t("div",{staticClass:"col-md-12 p-0 mb-2"},[t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("span",{staticClass:"p-name text-white",attrs:{title:e.FileName}},[e._v(e._s(e.FileName))]),t("span",{staticClass:"p-actions float-right"},[t("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"Back to List",id:"backtolist","data-original-title":e.$t("BacktoList")},on:{click:e.BackToList}},[t("em",{staticClass:"fa fa-angle-double-left pr-2"}),t("br"),e._v(e._s(e.$t("BacktoList"))+" ")]),t("a",{staticClass:"p-action-btn text-white float-right",class:"NU"==e.userType&&e.loggedUserName!=e.createdBy&&"o"!=e.permission||"PM"==e.userType&&e.loggedUserName!=e.createdBy&&"o"!=e.permission||"r"==e.permission||"w"==e.permission?"disabled":"",attrs:{title:"Delete"},on:{click:e.CommonDelete}},[t("em",{staticClass:"fa fa-trash"}),t("br"),e._v(e._s(e.$t("Delete")))]),e.loggedUserName==e.createdBy||"o"==e.permission||"w"==e.permission||"CA"==e.userType?t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission?"disabled":"",attrs:{title:"Update New Version"},on:{click:function(t){return e.UpdateNewVersion()}}},[t("em",{staticClass:"fa fa-file-text-o"}),t("br"),e._v("Update New Version"),t("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"imgupload"},on:{change:function(t){return e.handleFilesUpload(t)}}})]):e._e(),e.fileOldVersionCount>=2?t("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"Old Version"},on:{click:e.ShowOldVersionPopUp}},[t("em",{staticClass:"fa fa-clock-o",attrs:{"aria-hidden":"true"}}),t("br"),e._v(e._s(e.$t("OldVersion")))]):e._e(),t("a",{staticClass:"p-action-btn text-white float-right",class:1==e.IsGlobal||"r"==e.permission||"w"==e.permission?"disabled":"",attrs:{title:"Share"},on:{click:e.SharePopup}},[t("em",{staticClass:"fa fa-share-alt"}),t("br"),e._v("Share")]),t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission||"w"==e.permission||1==e.isGenerateLink?"disabled":"",attrs:{title:"Generate Public Link"},on:{click:e.GeneratePublickLink}},[t("em",{staticClass:"fa fa-link",class:"r"==e.permission||1==e.isGenerateLink?"disabled":""}),t("br"),e._v(e._s(e.$t("Generate Public Link")))]),t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission?"disabled":"",attrs:{title:"Copy"},on:{click:function(t){return e.CopyFileFolder(e.FileJsonData.Id,e.FileJsonData.IsDocCode)}}},[t("em",{staticClass:"fa fa-files-o",attrs:{"aria-hidden":"true"}}),t("br"),e._v("Copy")]),t("a",{staticClass:"p-action-btn text-white float-right",class:"NU"==e.userType&&e.loggedUserName!=e.createdBy||"PM"==e.userType&&e.loggedUserName!=e.createdBy&&"o"!=e.permission||"NU"==e.userType&&"r"==e.permission&&"w"==e.permission&&"o"!=e.permission||"r"==e.permission||"w"==e.permission?"disabled":"",attrs:{title:"Move",id:e.FileId},on:{click:e.MoveFolderFiles}},[t("em",{staticClass:"fa fa-arrows"}),t("br"),e._v("Move ")]),0==e.IsGlobal?t("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"Download"},on:{click:function(t){return e.DownloadFiles(e.FileId,e.FileName)}}},[t("em",{staticClass:"fa fa-download"}),t("br"),e._v(e._s(e.$t("Download"))+" ")]):e._e(),"yes"==e.IsAllowDownload&&1==e.IsGlobal?t("a",{staticClass:"p-action-btn text-white float-right",attrs:{title:"Download"},on:{click:function(t){return e.DownloadFiles(e.FileId,e.FileName)}}},[t("em",{staticClass:"fa fa-download"}),t("br"),e._v(e._s(e.$t("Download"))+" ")]):e._e()]),e._m(0)])]),t("div",{staticClass:"tab-pane mb-0"},[t("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[t("div",{staticClass:"expand-list"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"},on:{click:e.ExpandCollapseList}},[t("em",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])]),t("div",{staticClass:"tab-pane p-0 pb-2 border-0 active",attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[t("div",{staticClass:"listing"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"card mb-3 probx"},[e._m(1),e._l(e.FileJsonData,(function(a){return t("div",{staticClass:"card-body"},[t("div",{staticClass:"panel1 row"},[t("div",{staticClass:"col-12 p-0"},[t("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible"},[t("div",{staticClass:"box border positionrelative float-left w-100"},[t("div",{staticClass:"default-tags"},[t("div",{staticClass:"defaultpic_control"},["pdf"==e.extension||"txt"==e.extension||"mp4"==e.extension||"mp3"==e.extension||"jpg"==e.extension||"jpeg"==e.extension||"png"==e.extension||"xlsx"==e.extension||"pptx"==e.extension||"docx"==e.extension||"xls"==e.extension?t("a",{staticClass:"text-primary round-icons mr-2",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"View"},on:{click:function(t){return e.openLightbox(e.extension)}}},[t("em",{staticClass:"fa fa-eye"})]):e._e(),t("a",{staticClass:"text-info round-icons mr-2",attrs:{title:"",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Download"},on:{click:function(t){return e.DownloadFiles(a.storage_file_id,a.storage_file_name)}}},[t("em",{staticClass:"fa fa-download"})])])]),t("div",{staticClass:"img-ico text-center p-2"},[t("em",{class:e.GetClass(e.extension)}),t("img",{staticClass:"mw-100",staticStyle:{"max-width":"140px","max-height":"140px"},attrs:{src:e.GetClass(e.extension),alt:""}})])]),"pdf"!=e.extension?t("VueEasyLightbox",{attrs:{visible:e.visibleRef,imgs:e.imgpath},on:{hide:e.onHide}}):e._e(),1!=e.videoPlayerShow||"docx"!=e.extension&&"doc"!=e.extension&&"xls"!=e.extension&&"xlsx"!=e.extension&&"pptx"!=e.extension?e._e():t("div",{staticClass:"text-center overlay"},[t("iframe",{attrs:{height:"800px",width:"50%",src:"https://view.officeapps.live.com/op/embed.aspx?src="+e.imgpath,frameborder:"0"}}),t("button",{staticClass:"close",staticStyle:{top:"0px","font-size":"20px",position:"absolute",right:"20px",opacity:"unset","background-color":"#c13a3a"},attrs:{type:"button"},on:{click:e.closeFrame}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("em",{staticClass:"fa fa-times"})]),1==e.videoPlayerShow&&"mp4"==e.extension?t("div",{staticClass:"text-center overlay"},[t("div",{staticClass:"position-relative"},[t("video",{attrs:{width:"320",height:"320",autoplay:"",controls:"",id:"backgroundvid"}},[t("source",{attrs:{src:e.imgpath,type:"video/mp4"}})]),t("em",{staticClass:"fa fa-times vidsclosebtn",attrs:{id:"video"},on:{click:e.closeFrame}})])]):e._e(),1!=e.videoPlayerShow||"txt"!=e.extension&&"pdf"!=e.extension?e._e():t("div",{staticClass:"text-center overlay"},[t("iframe",{staticStyle:{"background-color":"white"},attrs:{height:"800px",width:"50%",src:e.imgpath,frameborder:"0"}}),t("button",{staticClass:"close",staticStyle:{top:"0px","font-size":"20px",position:"absolute",right:"20px",opacity:"unset","background-color":"#c13a3a"},attrs:{type:"button"},on:{click:e.closeFrame}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("em",{staticClass:"fa fa-times",on:{click:e.closeFrame}})]),1==e.videoPlayerShow&&"mp3"==e.extension?t("div",{staticClass:"text-center overlay",staticStyle:{"text-align":"center"}},[t("audio",{attrs:{controls:""}},[t("source",{attrs:{src:e.imgpath,type:"audio/mpeg"}})]),t("button",{staticClass:"close",staticStyle:{top:"0px","font-size":"20px",position:"absolute",right:"20px",opacity:"unset","background-color":"#c13a3a"},attrs:{type:"button"},on:{click:e.closeFrame}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]):e._e()],1),t("div",{staticClass:"row col-sm-12 col-md-6 col-lg-8 col-xl-9"},[t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v("File Name: ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(a.storage_file_name))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v("Created By: ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(a.created_by))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v("File Size: ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(e.convertmbtoKb(a.storage_file_size)))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v("Created On: ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(e.$options.filters.formatDate(e.CreatedOn)))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v("Copy Link: ")]),1==a.IsGenerateLink?t("span",{staticClass:"answer rightlabeltext"},[t("a",{staticStyle:{color:"#55a9e1"},attrs:{href:"#"},on:{click:function(t){return e.CopyLink(e.copylinkUrl)}}},[e._v("Click to Copy "),t("em",{staticClass:"fa fa-clone",staticStyle:{color:"#0095ff"}})])]):0==a.IsGenerateLink?t("span",{staticClass:"answer rightlabeltext disabled"},[t("a",{staticClass:"text-danger",staticStyle:{color:"#55a9e1"},attrs:{href:"#"}},[e._v("Not Availabe ")])]):e._e()]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.tool,expression:"tool"}],staticClass:"tooltiptext"},[e._v(e._s(e.text))])])]),null!=a.ExpiredDate?t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v("Expired Date: ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(e.$options.filters.formatDate(a.ExpiredDate)))])])])]):e._e(),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v("File Type: ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(a.storage_file_ext))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group",attrs:{"data-v-f8df6780":""}},[t("label",{attrs:{"data-v-f8df6780":""}},[t("b",{attrs:{"data-v-f8df6780":""}},[e._v("Shared With: ")]),e.projectFileSharedCount>0?t("a",{staticClass:"mr-3 ml-2",attrs:{href:"javascript:void(0)",title:"Project"},on:{click:function(t){return e.showSharedDetilsModel(a.storage_file_id,a.StorageUniqueCode)}}},[e._m(2,!0)]):e._e(),e.fileUserSharedCount>0?t("a",{staticClass:"mr-3",attrs:{href:"#",title:"Users"},on:{click:function(t){return e.ShowUsersListing(a.storage_file_id,a.StorageUniqueCode)}}},[e._m(3,!0)]):e._e(),e.fileGroupSharedDocument>0?t("a",{staticClass:"mr-3",attrs:{href:"#",title:"Group"},on:{click:function(t){return e.OpenGroupListing(a.storage_file_id,a.StorageUniqueCode)}}},[e._m(4,!0)]):e._e(),e.fileSharedDepartmentCount>0?t("a",{staticClass:"mr-3",attrs:{href:"#",title:"Department"},on:{click:function(t){return e.ShowDepartmentListing(a.storage_file_id,a.StorageUniqueCode)}}},[e._m(5,!0)]):e._e()])])])])])])])}))],2),t("div",{staticClass:"card mb-3 probx"},[e._m(6),t("div",{staticClass:"card-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 mbspc",attrs:{id:"divconversationbox"}},[t("doctimeline",{attrs:{fileTimelineData:e.fileTimelineData}})],1)])])])])])])])])])])])])],1),1==e.sharemodal?t("ModalSharePopup",{attrs:{idFile:e.idFile,folderId:e.folderId,docCode:e.docCode,StorageUniqueCode:e.StorageUniqueCode,generateJSONData:e.generateJSONData,Name:e.Name},on:{StorageDocumentListing:e.StorageDocumentListing}}):e._e(),e.ShowGruopListing?t("ModelGroupListing",{attrs:{docCode:e.docCode,folderId:e.folderId,StorageUniqueCode:e.StorageUniqueCode,ModalLabelForlsListing:e.ModalLabelForlsListing,FileId:e.FileId,generateJSONData:e.generateJSONData,refCode:e.refCode},on:{ModalGroupListing:e.ModalGroupListing,CloseAddGroupPopup:e.CloseAddGroupPopup,CloseGroupListingPopup:e.CloseGroupListingPopup}}):e._e(),1==e.showmovefolderpopup?t("ModalMoveFolderFiles",{attrs:{AdditionalStorageId:e.AdditionalStorageId,dynamicLeftMenu:e.dynamicLeftMenu,FolderArray:e.FindalFolderArray,defaultData:1==e.mySpaceOrOrganization?e.organizationSpace:e.FindalFolderArray,mySpaceOrOrganization:e.mySpaceOrOrganization,organizationSpace:""!=e.AddtionalStorageFileId?e.additionalOrganizationSpace:e.organizationSpace,checkActionType:e.checkActionType,checkType:e.checkType},on:{Folderlisting:e.Folderlisting,MoveFoldersFiles:e.MoveFoldersFiles,CloneFoldersFiles:e.CloneFoldersFiles,closemovefilefolderpopup:e.closemovefilefolderpopup,CopyFileFolder:e.CopyFileFolder,FolderIdmove:e.FolderIdmove}}):e._e(),1==e.showFilesOldVersion?t("FilesListOldVersion",{attrs:{filesOldVersionListing:e.filesOldVersionListing},on:{closeOldVersionPopUp:e.closeOldVersionPopUp}}):e._e(),e.ShowModalAddGroup?t("ModalAddGroup",{on:{ModalAddGroups:e.ModalAddGroups,CloseAddGroupPopup:e.CloseAddGroupPopup}}):e._e(),e.copyFileInfo?t("copy-confirmation",{attrs:{copyFileInfo:e.copyFileInfo},on:{SaveCopyFile:e.SaveCopyFile}}):e._e()],1)},o=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-header"},[t("h2",[e._v("Details")]),t("div",{staticClass:"cont_right"},[t("div",{staticClass:"bar"})])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"icon-1 single-action",attrs:{"data-toggle":"popoveruserguide","data-content":"Project"}},[t("em",{staticClass:"fa fa-folder-open text-info"})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"icon-1 single-action"},[t("em",{staticClass:"fa fa-user text-info"})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"icon-1 single-action"},[t("em",{staticClass:"fa fa-users text-info"})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"icon-1 single-action"},[t("em",{staticClass:"fa fa-vcard-o text-info"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-header"},[t("h2",[e._v("File History")])])}],s=(a("5494"),a("14d9"),a("13d5"),a("b7ef"),a("bc3a")),l=a.n(s),r=a("110b"),n=a("9769"),d=a("4f4b"),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal d-block my-popups dialog"},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[e._t("header",(function(){return[t("h5",{staticClass:"modal-title"},[e._v(e._s(e.$t("Group Listing"))+" ")])]})),t("button",{staticClass:"close",attrs:{type:"button",href:"javascript:;"},on:{click:function(t){return e.$emit("close")}}},[t("em",{staticClass:"fa fa-times"})])],2),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"form_content"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 form-panel p-0"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divshowProductList"}},[t("div",{staticClass:"listing mt-2"},["Department"==e.isShared?t("div",{staticClass:"table-responsive tableborder popuptablescroll_365",staticStyle:{"max-height":"550px!important","overflow-x":"auto"}},[e.noRecord?e._e():t("table",{staticClass:"table-sorting table table-bordered m-0"},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v(e._s(e.$t("Department Name"))+" ")])]),t("th",[t("span",[e._v(e._s(e.$t("Department Member"))+" ")])])])]),e._m(0)]),e.noRecord?t("div",{staticClass:"text-center text-danger",staticStyle:{padding:"20px"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()]):e._e(),"Users"==e.isShared?t("div",{staticClass:"table-responsive tableborder popuptablescroll_365",staticStyle:{"max-height":"550px!important","overflow-x":"auto"}},[e.noRecord?e._e():t("table",{staticClass:"table-sorting table table-bordered m-0"},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v(e._s(e.$t("User Name"))+" ")])]),t("th",[t("span",[e._v(e._s(e.$t("Department Member"))+" ")])])])]),e._m(1)]),e.noRecord?t("div",{staticClass:"text-center text-danger",staticStyle:{padding:"20px"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()]):e._e(),"Projects"==e.isShared?t("div",{staticClass:"table-responsive tableborder popuptablescroll_365",staticStyle:{"max-height":"550px!important","overflow-x":"auto"}},[e.noRecord?e._e():t("table",{staticClass:"table-sorting table table-bordered m-0"},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v(e._s(e.$t("User Name"))+" ")])]),t("th",[t("span",[e._v(e._s(e.$t("Department Member"))+" ")])])])]),e._m(2)]),e.noRecord?t("div",{staticClass:"text-center text-danger",staticStyle:{padding:"20px"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()]):e._e(),"Group"==e.isShared?t("div",{staticClass:"table-responsive tableborder popuptablescroll_365",staticStyle:{"max-height":"550px!important","overflow-x":"auto"}},[e.noRecord?e._e():t("table",{staticClass:"table-sorting table table-bordered m-0"},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v(e._s(e.$t("User Name"))+" ")])]),t("th",[t("span",[e._v(e._s(e.$t("Department Member"))+" ")])])])]),e._m(3)]),e.noRecord?t("div",{staticClass:"text-center text-danger",staticStyle:{padding:"20px"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()]):e._e()])])])])])])])])},p=[function(){var e=this,t=e._self._c;return t("tbody",[t("tr",[t("td",[e._v("Department Name")]),t("td",[e._v("Department Members")])])])},function(){var e=this,t=e._self._c;return t("tbody",[t("tr",[t("td",[e._v("User Name")]),t("td",[e._v("Department Members")])])])},function(){var e=this,t=e._self._c;return t("tbody",[t("tr",[t("td",[e._v("User Name")]),t("td",[e._v("Department Members")])])])},function(){var e=this,t=e._self._c;return t("tbody",[t("tr",[t("td",[e._v("User Name")]),t("td",[e._v("Department Members")])])])}],h={props:{isShared:{type:String,required:!0}},created(){alert(this.isShared)},method:{}},u=h,f=a("2877"),m=Object(f["a"])(u,c,p,!1,null,null,null),g=m.exports,v=a("0c7f"),C=a("b48e"),_=a("53c8"),F=a("c00f"),S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle"},[t("h4",{staticClass:"modal-title",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("OldVersion"))+" ")]),t("button",{staticClass:"close",on:{click:e.ClosePopupOldVersion}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"listing py-3 px-3"},[t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v(e._s(e.$t("FileName")))])]),e._m(0),e._m(1),e._m(2)])]),t("tbody",[e._l(e.filesOldVersionListing,(function(a){return t("tr",{key:a},[t("td",[t("span",{staticClass:"text-center"},[e._v(" "+e._s(a.FILE_NAME)+" ")])]),t("td",[t("span",{staticClass:"text-center"},[e._v(" "+e._s(a.FILE_VERSION)+" ")])]),t("td",[t("span",{staticClass:"text-center"},[e._v(" "+e._s(a.POSTED_BY)+" ")])]),t("td",{staticClass:"text-center single-action"},[t("em",{staticClass:"fa fa-download text-info action-icon",staticStyle:{cursor:"pointer"},attrs:{"aria-hidden":"true"},on:{click:function(t){return e.DownloadFiles(a.FILE_VERSION_ID,a.FILE_NAME)}}})])])})),t("tr",[0==e.filesOldVersionListing.length?t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v(e._s(e.$t("NoRecordFound"))+"}")]):e._e()])],2)])])])])])])])},b=[function(){var e=this,t=e._self._c;return t("th",[t("span",[e._v("Version")])])},function(){var e=this,t=e._self._c;return t("th",[t("span",[e._v("Uploaded By")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[t("span",[e._v("Action")])])}],D={components:{ListMenu:r["a"]},props:{filesOldVersionListing:{type:Array,required:!0}},data(){return{fileId:"",fileName:""}},methods:{ClosePopupOldVersion:function(){var e=this;e.$emit("closeOldVersionPopUp")},DownloadFiles:function(e,t){var a=this,i=1;a.DownloadFile(e,t,i)},DownloadFile:function(e,t,a){var i=`fileId=${e}&IsVersion=${a}`;n["a"].DownloadFile(i).then(e=>{var a=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",t.toString()),document.body.appendChild(i),i.click()})}}},I=D,y=Object(f["a"])(I,S,b,!1,null,null,null),x=y.exports,L=a("825ae"),w=a("53ec");const A=Object({NODE_ENV:"production",VUE_APP_API_URL:"https://qatestnewapi.talygen.com/api/crm",VUE_APP_COMMON_API:"https://qatestnewapi.talygen.com/api",VUE_APP_CURRENT_SITE_ROOT_URL:"https://crm.talygen.com",VUE_APP_DEFAULT_APP_URL:"http://qatest.talygen.com",VUE_APP_DOCSTORAGE_API:"https://qatestfilemedia.talygen.com/api",VUE_APP_FULL_MENU_APP_REDIRECTION:"true",VUE_APP_ManageClientStorage:"https://qatest.talygen.com/UserStorage/ManageClient",VUE_APP_ManageTags:"https://qatest.talygen.com/Tag/Index?reqhFrom=10",VUE_APP_ManageUserStorage:"https://qatest.talygen.com/UserStorage/Manage",VUE_APP_Storage:"https://qatest.talygen.com/Storage/index?reqhFrom=10",BASE_URL:"/"}).VITE_DOCSTORAGE_API;var k={components:{LeftMenu:r["a"],doctimeline:d["a"],ModalSharedDetails:g,ModelGroupListing:v["a"],ModalMoveFolderFiles:F["a"],ModalSharePopup:C["a"],ModalAddGroup:_["a"],VueEasyLightbox:L["a"],FilesListOldVersion:x,CopyConfirmation:w["a"]},data(){return{isLoading:!1,loggeduserid:null,SharedFolderParent:[],FindalFolderArray:[],folderTreeList:[],sharedFolder:[],abc:[],FileJsonData:[],SharedType:"",images:"",CreatedOn:"",ishow:!1,isShared:"",FileName:"",visibleRef:!1,ShowGruopListing:!1,showmovefolderpopup:!1,folderFileId:null,ModalLabelForlsListing:"",refCode:"",FileId:"",docCode:null,fileTimelineData:[],sharemodal:!1,ShowModalAddGroup:!1,url:"",fileType:"",showFilesOldVersion:!1,filesOldVersionListing:[],files:"",folderId:"",StorageUniqueCode:"",recentFolderList:[],pinnedFolderList:[],RecentFolderArray:[],pinnedFolderArray:[],organizationSpace:[],tool:!1,text:"Copied!",permission:null,checkActionType:"",fileOldVersionCount:null,isGenerateLink:null,uploadUrl:"https://qatestfilemedia.talygen.com/api/UploadStream",token:null,extension:null,generateJSONData:[],iconClass:"",sharedparentfolder:[],sharedChildFolder:[],commonParentName:"",refCode:"",addClass:"",copyFileInfo:null,imgpath:null,copylinkUrl:"",thumbnail:null,IsGlobal:0,videoPlayerShow:!1,SharedUserList:[],userType:null,mySpaceOrOrganization:null,loggedUserName:null,createdBy:null,IsAllowDownload:"yes",additionalOrganizationSpace:[],fileSharedDepartmentCount:0,fileGroupSharedDocument:0,projectFileSharedCount:0,fileUserSharedCount:0,AdditionalFolderIdExist:void 0,AddtionalStorageFileId:"",checkType:"",AdditionalStorageId:0,CopyAdditionalStorageId:0,checkMoveType:"",CheckDefault:"",dynamicLeftMenu:[]}},created:function(){var e=window.location.pathname;this.loggeduserid=this.GetUserInfo.ID,this.loggedUserName=this.GetUserInfo.Name,this.userType=this.GetUserInfo.UserType,this.token=this.GetUserInfo.Token,this.docCode=this.$route.params.docCode,this.permission=this.$route.params.Permission,this.extension=this.$route.params.fileType,this.refCode=this.$route.params.RefCode,this.addClass=this.$route.params.RouteClass,this.FileId=e.split("/")[2],this.GetFullTree(),e.split("/")[2],e.split("/")[3]&&this.GetStorageFileSummary(e.split("/")[2]),this.images=this.$route.params.Path,this.folderId=e.split("/")[4],this.commonParentName=this.$route.params.CommonParentName,this.GetClass(this.extension),this.GetSharedFolder(),this.GetConfigType()},mounted(){this.ShowPopOver()},updated:function(){var e=this;e.FileId=e.$route.params.FileId,setTimeout((function(){e.setHeaderForSelectedTab()}),500),$("#ancActivityExpandAllCollapseAll").click((function(){"0"==$(this).attr("show")?($(this).attr("show","1"),$("#divconversationbox").find("#accordion").find(".collapse").collapse("hide")):($(this).attr("show","0"),$("#divconversationbox").find("#accordion").find(".collapse").collapse("show"))}))},mounted:function(){$("#FolderFullTree").treeview(),$("body").on("click","#FolderFullTree .folderlink",(function(){$("#FolderFullTree .folderlink").removeClass("selectedfolder"),$(this).addClass("selectedfolder")})),$("#FolderFullTree3").treeview(),$("body").on("click","#FolderFullTree3 .folderlink",(function(){$("#FolderFullTree3 .folderlink").removeClass("selectedfolder"),$(this).addClass("selectedfolder")}))},methods:{DownloadFiles:function(e,t){var a=this,i=0;a.DownloadFile(e,t,i),a.GetStorageFileSummary(e)},DownloadFile:function(e,t,a){var i=this;i.isLoading=!0;var o=`fileId=${e}&IsVersion=${a}`;if(null!=i.AddtionalStorageFileId&&""!=i.AddtionalStorageFileId){var s=`fileId=${i.AddtionalStorageFileId}&additionalStorageId=${i.AdditionalStorageId}`;n["a"].DownloadAdditionalStorageFile(s).then(e=>{var a=document.createElement("a");a.href=e.data,a.download=t,document.body.appendChild(a),a.click()})}else n["a"].DownloadFile(o).then(e=>{var a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",t.toString()),document.body.appendChild(o),o.click(),i.isLoading=!1})},StorageDocumentListing:function(e,t,a,i,o,s,l,r,n,d,c,p,h){var u=this;u.$emit("StorageDocumentListing",e,t,a,i,o,s,l,r,n,d,c,p,h)},SharePopup:function(){var e=this;e.generateJSONData=[],e.sharemodal=!0,e.idFile=e.FileJsonData[0].storage_file_id,e.docCode=e.$route.params.docCode,e.StorageUniqueCode=e.FileJsonData[0].StorageUniqueCode;var t={Name:e.FileJsonData[0].storage_file_name};e.generateJSONData.push(t)},closemovefilefolderpopup:function(){var e=this;e.showmovefolderpopup=!1},closePopupGroupListing:function(){this.sharemodal=!1},convertmbtoKb:function(e){var t;if(e>=1)t=e.toFixed(2)+" MB";else{var a=1024*e;t=a<1?a.toFixed(2)+" Bytes":a.toFixed(2)+" KB"}return t},UpdateNewVersion:function(){$("#imgupload").trigger("click")},closepopup:function(){this.sharemodal=!1},submitFiles(){let e=this;e.isLoading=!0;let t=new FormData;null!=e.folderId&&e.folderId,t.append("fileId",e.FileId),t.append("folderId",e.folderId),t.append("moduleName","DocStorage"),t.append("subModuleName",""),t.append("isGlobal",e.IsGlobal),t.append("file",this.files),l.a.post(this.uploadUrl,t,{headers:{Authorization:"Bearer "+this.token}}).then(t=>{"Success"==t.data&&(e.ShowAlert("File new version has been upload successfully","success",!0),e.isLoading=!1,e.GetStorageFileSummary(e.FileId)),console.info(t.data)}).catch(t=>{console.error(t),e.isLoading=!1})},handleFilesUpload(e){var t=this;t.files=e.target.files[0],t.submitFiles()},GetSharedFolder:function(){var e=this;n["a"].GetSharedFolderTree().then(t=>{e.sharedparentfolder=t.data.SharedFolderData,e.sharedparentfolder.forEach((t,a)=>{if(t.SHARED_USER_ID==e.loggeduserid){var i=e.sharedChildFolder.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(0==i.length&&null==t.FOLDER_PARENT_ID){let a=t.FOLDER_ID,i=e.getsharedChildFolder(a,t,e.folderTreeList);e.sharedChildFolder.push(i)}}})})},ModalAddGroup:function(){this.ShowModalAddGroup=!0},CloseAddGroupPopup:function(){this.ShowModalAddGroup=!1},FolderIdmove:function(e,t,a,i,o){var s=this;s.folderId=e,s.AdditionalFolderIdExist=o},openLightbox:function(e){var t=this;"mp4"==e||"mp3"==e||"docx"==e||"doc"==e||"xls"==e||"xlsx"==e||"pptx"==e||"txt"==e||"pdf"==e?t.videoPlayerShow=!0:t.visibleRef=!0},closeFrame:function(){var e=this;e.videoPlayerShow=!1},onHide:function(){var e=this;e.visibleRef=!1},CopyFileFolder:function(e,t){var a=this;a.confirmR(a.$t("Are you sure you want to Copy these file(s)."),!0,a.$t("Copy")+"  "+a.$t("File"),(function(){a.checkActionType="Copy",a.showmovefolderpopup=!0,a.folderFileId=e,a.doccode=t}))},ShowOldVersionPopUp:function(){var e=this;e.showFilesOldVersion=!0,n["a"].GetAllFileVersionExcludeLatest(e.FileId).then(t=>{e.filesOldVersionListing=JSON.parse(t.data).oldFileVersionData,setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),setTimeout((function(){e.CheckBoxBootstrap()}),100)})},closeOldVersionPopUp:function(){var e=this;e.showFilesOldVersion=!1},MoveFoldersFiles:function(e){var t=this;t.checkMoveType=e;var a=`fileid=${t.AddtionalStorageFileId}&destinationid=${void 0==t.AdditionalFolderIdExist?"root":t.AdditionalFolderIdExist}&filecopyname=${t.FileName}&updatetype=move&additionalStorageId=${t.AdditionalStorageId}`;if(parseInt(e)!=parseInt(t.AdditionalStorageId)||void 0!=t.AdditionalFolderIdExist&&""!=t.AddtionalStorageFileId||"Default"==e){if(""!=e&&(parseInt(e)!=parseInt(t.AddtionalStorageFileId)||"Default"==e)){var i=`filePath=${this.imgpath}&additionalFileId=${t.AddtionalStorageFileId}&fileName=${t.FileName}&fileId=${t.FileId}&additionalTypeId=${e}&deleteAdditionalStorageId=${t.AdditionalStorageId}&destAdditionalFolderId=${void 0==t.AdditionalFolderIdExist?"":t.AdditionalFolderIdExist}`;n["a"].MoveFileFolderAdditionalToDefault(i).then(e=>{}).catch(e=>{console.log(e)}),t.AdditionalStorageId="Default"==e?null:e}}else""!=e&&parseInt(e)!=parseInt(t.AdditionalStorageId)||n["a"].CopyMoveFileToOneDrive(a).then(e=>{}).catch(e=>{console.log(e)});let o={SourceId:t.FileId,RefCode:"1",AdditionaStorageId:t.AdditionalStorageId,AdditionalSourceId:t.AddtionalStorageFileId};var s=JSON.stringify(o);a=`jsonData=${s}&destFolderid=${""==t.folderId?0:t.folderId}`;n["a"].MoveFileFolder(a).then(e=>{1==e.data?(t.ShowAlert(t.$t("MoveFolderFileSucces"),"success",!0,t.$t("Alert")),t.GetStorageFileSummary(t.FileId),t.$emit("StorageDocumentListing")):-2==e.data?t.ShowAlert(t.$t("AlreadyExitsInFolder"),"warning",!0,t.$t("Alert")):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))})},CloneFoldersFiles:function(e){var t=this;t.CopyAdditionalStorageId=t.AdditionalStorageId==e?"":e,t.CheckDefault="Default"==e?e:"";var a=`fileIds=${t.FileId}&destFolderId=${t.folderId}&opr=Copy&doccode=1&additionalStorageId=${"Default"==e?0:parseInt(e)}&IsGlobal=${t.mySpaceOrOrganization}`;n["a"].StartCopyMoveOpr(a).then(e=>{console.log(e),t.copyFileInfo=e.data.fileList})},SaveCopyFile(e){var t=this;if(void 0==t.AdditionalFolderIdExist&&0!=e[0].destFolderId||""==t.AddtionalStorageFileId||"Default"==t.CheckDefault){var a=`filePath=${this.imgpath}&additionalFileId=${t.AddtionalStorageFileId}&fileName=${t.FileName}&fileId=${t.FileId}&additionalTypeId=${t.CheckDefault}&deleteAdditionalStorageId=${t.AdditionalStorageId}&destAdditionalFolderId=${t.AdditionalFolderIdExist}&ActionType=Copy&destFolderId=${e[0].destFolderId}`;n["a"].MoveFileFolderAdditionalToDefault(a).then(a=>{t.copyFileInfo=[],setTimeout(()=>{e[0].status=a.data,t.copyFileInfo=e},100)}).catch(e=>{console.log(e)})}else{e[0].destOneDriveId=t.AdditionalFolderIdExist,e[0].oneDriveFileId=t.AddtionalStorageFileId,e[0].destAdditionalStorageId=t.CopyAdditionalStorageId,e[0].doccode=1;var i=JSON.stringify(e),o=`${i}&additionalStorageId=${t.AdditionalStorageId}`;n["a"].CloneFilesInFolder(o).then((function(e){t.AdditionalFolderIdExist=void 0,console.log(e),t.copyFileInfo=null,setTimeout(()=>{t.copyFileInfo=e.data},100)}))}},MoveFolderFiles:function(){this.folderId=0,this.showmovefolderpopup=!0,this.checkActionType="Move"},OpenGroupListing:function(e,t){var a=this;a.ModalLabelForlsListing=a.$t("GroupListing"),a.refCode="UserGroups",a.FileId=e,a.StorageUniqueCode=t,a.ShowGruopListing=!0},CloseGroupListingPopup:function(){this.ShowGruopListing=!1},ShowUsersListing:function(e,t){var a=this;a.ModalLabelForlsListing=a.$t("UserListing"),a.refCode="Users",a.FileId=e,a.StorageUniqueCode=t,a.ShowGruopListing=!0},ShowDepartmentListing:function(e,t){var a=this;a.ModalLabelForlsListing=a.$t("DepartmentListing"),a.refCode="Department",this.FileId=e,a.StorageUniqueCode=t,a.ShowGruopListing=!0},closeSharedDetailsModel(){this.ishow=!1},GetStorageFileSummary(e){this.isLoading=!0;var t=`StorageFileId=${e}&refCode=`;n["a"].GetStorageFileSummary(t).then(e=>{var t=JSON.parse(e.data);this.fileOldVersionCount=t.FileJsonData[0].fileOldVersionCount,this.fileSharedDepartmentCount=t.CountJsonData[0].Counts,this.fileGroupSharedDocument=t.CountJsonData[1].Counts,this.projectFileSharedCount=t.CountJsonData[2].Counts,this.fileUserSharedCount=t.CountJsonData[3].Counts,this.AddtionalStorageFileId=t.FileJsonData[0].AdditionalStorageFileId,this.AdditionalStorageId=t.FileJsonData[0].AdditionalStorageId,this.checkType=""!=this.AddtionalStorageFileId?"Additionals":"List",this.mySpaceOrOrganization=JSON.parse(e.data).FileJsonData[0].IsGlobal,this.imgpath=JSON.parse(e.data).FileJsonData[0].storage_file_path.replace("/wwwroot",""),this.thumbnail=JSON.parse(e.data).FileJsonData[0].file_thumb_path.replace("/wwwroot",""),this.isGenerateLink=t.FileJsonData[0].IsGenerateLink,this.FileJsonData=[],this.FileJsonData=t.FileJsonData,this.IsGlobal=JSON.parse(e.data).FileJsonData[0].IsGlobal,this.folderId=JSON.parse(e.data).FileJsonData[0].ParentFolderId;t.fileSummaryJsonData.reduce((e,t)=>{var a;const{ActionDate:i}=t;return e[i]=null!==(a=e[i])&&void 0!==a?a:[],e[i].push(t),this.fileTimelineData.push(e),e},{});this.fileTimelineData=t.fileSummaryJsonData,this.CreatedOn=this.FileJsonData[0].created_at,this.createdBy=this.FileJsonData[0].created_by,this.fileType=this.FileJsonData[0].storage_file_ext,this.extension=this.fileType.replace(".",""),this.GetClass(this.extension),this.FileName=this.FileJsonData[0].storage_file_name,this.SharedType=t.FileSharedJsonData[0].SharedType,this.isLoading=!1})},showTool(){this.tool=!0,setTimeout(()=>this.tool=!1,1e3)},CopyLink(e){var t=this,a=window.location.pathname.split("/")[2],i=btoa(a),o=window.location.origin+"/DownloadPublicFile?FileId="+i;t.UniqueUrl=A+e,navigator.clipboard.writeText(o),t.showTool()},GeneratePublickLink:function(){var e=this;e.isLoading=!0;let t={SourceId:e.FileId,RefCode:1};e.generateJSONData.push(t);var a="docJsonData="+JSON.stringify(e.generateJSONData);n["a"].GenerateDocPublicLink(a).then(t=>{e.ShowAlert("Generate link has been successfully generated"),e.GetFullTree(),e.GetStorageFileSummary(e.FileId),e.isLoading=!1})},GetRecentlyAddPinnedFolder:function(){var e=this;n["a"].GetRecentlyAndPinnedFolderTreeData().then(t=>{e.recentFolderList=JSON.parse(t.data).RecentFolderList,e.pinnedFolderList=JSON.parse(t.data).PinnedFolderList,e.recentFolderList.forEach((t,a)=>{if(t.OWNER_USER_ID==e.loggeduserid){var i=e.RecentFolderArray.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(0==i.length&&null==t.FOLDER_PARENT_ID){let a=t.FOLDER_ID,i=e.getsharedChildFolder(a,t,e.folderTreeList);e.RecentFolderArray.push(i)}}}),e.pinnedFolderList.forEach((t,a)=>{if(t.OWNER_USER_ID==e.loggeduserid){var i=e.pinnedFolderArray.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(0==i.length&&null==t.FOLDER_PARENT_ID){let a=t.FOLDER_ID,i=e.getsharedChildFolder(a,t,e.folderTreeList);e.pinnedFolderArray.push(i)}}})})},GetOrganizationSpace:function(){var e=this;e.additionalOrganizationSpace=[],n["a"].GetOrganizationFolderTreeData().then(t=>{t.data.folderTreeList.forEach((t,a)=>{e.organizationSpace.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(null==t.FOLDER_PARENT_ID&&(t.additional_storage_id<=0||null==t.additional_storage_id)){let a=t.FOLDER_ID,i=e.getsharedChildFolder(a,t,e.folderTreeList);e.organizationSpace.push(i)}if(parseInt(t.additional_storage_id)==parseInt(e.AdditionalStorageId)){if(null==t.FOLDER_PARENT_ID){let a=t.FOLDER_ID,i=e.getsharedChildFolder(a,t,e.folderTreeList);e.additionalOrganizationSpace.push(i)}-1==t.IsGlobal&&e.AdditionalStorageId==t.additional_storage_id&&e.dynamicLeftMenu.push(t)}})})},getsharedChildFolder:function(e,t,a){let i=this,o=t;var s=a.filter((function(t){return t.FOLDER_PARENT_ID==e}));let l=[];return s.forEach((e,t)=>{let o=e.FOLDER_ID;var s=l.filter((function(t){return t.FOLDER_ID==e.FOLDER_PARENT_ID}));if(0==s.length){var r=a.filter((function(e){return e.FOLDER_PARENT_ID==o}));if(null!=r&&r.length>0){let t=i.getsharedChildFolder(o,e,a);l.push(t)}else l.push(e)}}),o.chidFolder=l,o},showSharedDetilsModel(e,t){var a=this;a.ModalLabelForlsListing=a.$t("ProjectListing"),a.refCode="Project",a.FileId=e,a.StorageUniqueCode=t,a.ShowGruopListing=!0,a.isShow=!1},FilesListing(e){var t=this;t.folderId=e,n["a"].FileList(e).then(e=>{t.FilesListingData=e.data.FileList,t.folderSummary=e.data.folderSummary,t.SharedWith=e.data.folderSummary,setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),setTimeout((function(){t.CheckBoxBootstrap()}),100)})},getChildFolder:function(e,t,a){let i=this,o=t;var s=a.filter((function(t){return t.FOLDER_PARENT_ID==e}));let l=[];return s.forEach((e,t)=>{let o=e.FOLDER_ID;var s=l.filter((function(t){return t.FOLDER_ID==e.FOLDER_ID}));if(0==s.length){var r=a.filter((function(e){return e.FOLDER_PARENT_ID==o}));if(null!=r&&r.length>0){let t=i.getChildFolder(o,e,a);l.push(t)}else l.push(e)}}),o.chidFolder=l,o},GetFullTree(){var e=this;n["a"].FolderFullTreeView().then(t=>{t.data.folderTreeList.forEach((a,i)=>{if(a.OWNER_USER_ID==this.loggeduserid&&0==a.IsGlobal&&null==a.additional_storage_id){var o=e.FindalFolderArray.filter((function(e){return e.FOLDER_ID==a.FOLDER_ID}));if(0==o.length&&null==a.FOLDER_PARENT_ID){let i=a.FOLDER_ID,o=e.getChildFolder(i,a,t.data.folderTreeList);e.FindalFolderArray.push(o),e.GetRecentlyAddPinnedFolder()}}}),e.folderTreeList=t.data.folderTreeList,e.GetOrganizationSpace()})},CommonDelete:function(e,t){var a=this;a.confirmR(a.$t("ConfirmDeleteRecord"),!0,a.$t("Delete")+"  "+a.$t("Groups"),(function(){a.isLoading=!0;let e={};e["ids"]=a.FileId,e["refCode"]="Doc_File",e["companyId"]=a.loggedcompanyid,e["userId"]=a.loggeduserid,e["moduleName"]="DocStorage",n["a"].CommonDelete(e).then((function(e){"Success"==e.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),a.$emit("StorageDocumentListing"),a.ShowAlert([a.$t("Folder")],"success",!0,a.$t("Alert")),a.$router.push({name:"DashBoard"})):a.ShowAlert(a.$t("DeletedError",[a.$t("Folder")]),"success",!0,a.$t("Alert"))}))})),a.isLoading=!1},ExpandCollapseList(){var e=document.getElementById("leftmenutree");e.classList.toggle("left-menu-tab-collapsed");var t=document.getElementById("rightMenuRecycle");t.classList.toggle("right-content-expand")},GetClass:function(e){var t=this;return t.iconClass="pdf"==e||"xlsx"==e||"docx"==e||"jpg"==e||"jpeg"==e||"png"==e?t.thumbnail:"txt"==e?"fa fa-file-text-o mt-4":"xls"==e?"fa fa-file-excel-o mt-4":"mp3"==e?"fa fa-file-audio-o mt-4":"mp4"==e?"fa fa-file-video-o mt-4":"fa fa-file-o mt-4",t.iconClass},Folderlisting:function(e,t,a){var i=this;i.folderId=0,i.folderId="root"==a?0:e,i.AdditionalFolderIdExist=t},BackToList:function(){this.$router.push({path:"/File/DashBoard",query:{FolderId:"null"==this.folderId?"0":this.folderId,ParentName:this.commonParentName,RefCode:""==this.AddtionalStorageFileId?this.$route.params.RefCode:"AdditionalStorage",AddClass:"a"+this.folderId,View:this.$route.params.View,AdditionalStorageId:"Default"==this.checkMoveType?null:this.AdditionalStorageId}})},GetConfigType:function(){var e=this,t="moduleName=DocStorage&keyValue=AllowFilesDownloadfromOrganizationSpace";n["a"].GetConfigDataValue(t).then(t=>{var a=JSON.parse(t.data.ConfigValue);e.AllowDownloadOrganizSpaceCoreConfigId=a.filter(e=>"AllowFilesDownloadfromOrganizationSpace"===e.CONFIG_DATA_KEY)[0].core_config_id,e.IsAllowDownload=a.filter(e=>"AllowFilesDownloadfromOrganizationSpace"===e.CONFIG_DATA_KEY)[0].CONFIG_DATA_VALUE})}}},O=k,U=(a("460e"),a("e45c"),Object(f["a"])(O,i,o,!1,null,null,null));t["default"]=U.exports},"2f53":function(e,t,a){var i=a("c470");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("9dca0c70",i,!0,{sourceMap:!1,shadowMode:!1})},"460e":function(e,t,a){"use strict";a("2f53")},"4f4b":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"activity-tab"},[t("div",{staticClass:"w-100",attrs:{id:"accordion"}},[e._l(e.fileTimelineData,(function(a,i){return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header",on:{click:function(t){return e.ShowAccordion(i)}}},[t("a",{class:{"card-link":e.ShowHide=="collapseOne"+i,"card-link collapsed":e.ShowHide!="collapseOne"+i},attrs:{"data-bs-toggle":"collapse",href:"#collapseOne"+i}},[t("div",{staticClass:"conversation-date heading-border"},[t("span",[t("em",{staticClass:"fa fa-angle-down rotate-icon pr-1",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(a.MothKey))])])])]),e.ShowHide=="collapseOne"+i?t("transition",{attrs:{name:"modal"}},[t("div",{attrs:{id:"collapseOne"+i}},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[e._l(a.FileSummary,(function(a){return[t("div",{staticClass:"col-md-12 mbspc"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xl-5 col-lg-5 col-md-12 col-sm-12 message-ellapse",attrs:{title:a.ActionKey}},[t("span",{staticClass:"iconplus"},[t("em",{staticClass:"fa fa-check-circle"})]),t("span",{staticClass:"circle-oicon"},[t("em",{staticClass:"fa fa-users"})]),e._v(" "+e._s(a.ActionKey)+" ")]),t("div",{staticClass:"col-xl-4 col-lg-4 col-md-12 col-sm-12"},[t("div",{staticClass:"cont_start"},[t("span",{staticClass:"blue-time"},[e._v(e._s(a.ActionBy))])])]),t("div",{staticClass:"col-xl-3 col-lg-3 col-md-12 col-sm-12 text-right"},[t("p",[e._v(e._s(a.CreatedTime))])])])])]}))],2)])])]):e._e()],1)})),0==e.fileTimelineData.length?t("div",{staticClass:"text-center text-danger p-2"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()],2)])},o=[],s={props:{fileTimelineData:{type:Array,required:!0}},data:function(){return{TimeLineData:[],NoRecordForTab:!0,fgh:"",ShowHide:null}},created:function(){var e=this;e.gettime()},watch:{fileTimelineData:{handler(e){this.TimeLineData=e,this.NoRecordForTab=!(null!=this.TimeLineData&&this.TimeLineData.length>0)},deep:!0}},methods:{gettime:function(){this.fileTimelineData.forEach((e,t)=>{this.fgh=e.ActionDate})},ShowAccordion:function(e){var t=this;t.ShowHide!="collapseOne"+e||null==t.ShowHide?t.ShowHide="collapseOne"+e:t.ShowHide=""}}},l=s,r=a("2877"),n=Object(r["a"])(l,i,o,!1,null,null,null);t["a"]=n.exports},"605d":function(e,t,a){(function(t){var i=a("c6b6");e.exports="undefined"!=typeof t&&"process"==i(t)}).call(this,a("4362"))},"683c":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".img{height:160px;width:200px}.vidsclosebtn{top:40px;color:#2c2c2c;right:-30px;cursor:pointer;position:absolute;width:30px;height:30px;left:unset;background:#e7e7e7;border-radius:100%;line-height:29px}.img-ico em.fa-file-o{font-size:90px;color:#25a5ff!important}",""]),e.exports=t},a640:function(e,t,a){"use strict";var i=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&i((function(){a.call(null,t||function(){return 1},1)}))}},c470:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".img-ico i.fa-file-pdf-o{font-size:40px;color:#c12025}",""]),e.exports=t},d58f:function(e,t,a){var i=a("59ed"),o=a("7b0b"),s=a("44ad"),l=a("07fa"),r=TypeError,n=function(e){return function(t,a,n,d){i(a);var c=o(t),p=s(c),h=l(c),u=e?h-1:0,f=e?-1:1;if(n<2)while(1){if(u in p){d=p[u],u+=f;break}if(u+=f,e?u<0:h<=u)throw r("Reduce of empty array with no initial value")}for(;e?u>=0:h>u;u+=f)u in p&&(d=a(d,p[u],u,c));return d}};e.exports={left:n(!1),right:n(!0)}},e45c:function(e,t,a){"use strict";a("0caf")}}]);
//# sourceMappingURL=chunk-6ef65a15.js.map