(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-696ce461"],{"21e9":function(t,a,s){"use strict";var e=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",[t.open?a("div",{staticClass:"overlay",attrs:{id:"notifymessage"}},[a("div",{staticClass:"alert alert-dismissible fade show msg mw-90",class:t.typeClass,attrs:{role:"alert"}},[a("span",[t._v(t._s(t.message))]),a("button",{staticClass:"close p-1",staticStyle:{background:"none !important"},attrs:{type:"button",id:"closenotifymessage"},on:{click:function(a){t.$emit("close"),t.close()}}},[t._m(0)])])]):t._e()])},i=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-times text-secondary"})])}],o=s("ed09"),n=Object(o["b"])({components:{},props:{message:{type:String},type:{type:String},open:{type:Boolean}},data(){return{typeClass:""}},created(){this.changeClassName()},methods:{changeClassName(){(this.type="error")?this.typeClass="alert-danger":(this.type="warning")?this.typeClass="alert-warning":this.typeClass="alert-success"},close(){this.open=!1,this.$emit("close")}}}),r=n,l=s("2877"),d=Object(l["a"])(r,e,i,!1,null,null,null);a["a"]=d.exports},"8ac5":function(t,a,s){"use strict";s("d3fc")},"8fb5":function(t,a,s){var e=s("24fb");a=e(!1),a.push([t.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),t.exports=a},d17d:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!0,showCheckBox:!0,ModuleName:"Timer",SubModuleCode:"Timer",IdentityColumn:"TagId",ListData:t.TimerTagList,HeaderData:t.Headers,HeaderButtons:t.Buttons,TotalRecords:t.TotalRecords,IsSearchFieldsOnTop:!1,SearchPosition:"top",SearchFields:t.topsearchField,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.GetTimerTagListing,IsFilterApplied:!!t.searchCondition,LegendArray:[],NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick},scopedSlots:t._u([{key:"slotdata",fn:function({data:s}){return["StatusId"==s.column.COLUMN_NAME?[t.isCRMShowStausDrop(s.row.StatusId,"Timer")?a("listingstatus",{ref:"updatestatus",attrs:{isfor:"Timer",dataid:s.row.TagId,"data-controller":"Timer",statuslist:t.StatusListForListing,item:s,"data-action":"index",module:"Timer",subModule:"Timer",dataselected:"1001"==s.row.StatusId?"Active":"Inactive",callbackfunction:t.GetTimerTagListing,isselectedvaluestring:!0}}):t._e()]:t._e()]}}])}),t.showAddPopup?a("modalmanagetags",{ref:"EditManageTag",attrs:{EditTagsData:t.EditTagsData}}):t._e()],1)},i=[],o=(s("14d9"),s("9769")),n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"cstm-drop-btn"},[t.isShowLoader?a("button",{staticClass:"btn btn-dark w-100",staticStyle:{padding:"2px 10px 2px 2px"},attrs:{type:"button",disabled:""}},[a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),t._v(" Loading...")]):t._e(),t.isShowLoader?t._e():a("select",{directives:[{name:"model",rawName:"v-model",value:t.StatusId,expression:"StatusId"}],staticClass:"w-100",class:{ddlchangestatus:t.IsReponsive},style:{backgroundColor:t.StatusBgColor,color:t.StatusColor},attrs:{id:"crmlistingStatus_span",disabled:t.StatusCode==t.StatusId,oldstatus:t.PrevStatus,checkPrivilege:"yes","data-id":t.IsReponsive?t.dataid:null,"data-status":t.IsReponsive?t.StatusId:null},on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.StatusId=a.target.multiple?s:s[0]},function(a){return t.ChangeStatus(t.dataid,a)}]}},t._l(t.StatusList,(function(s,e){return a("option",{key:e,domProps:{value:s.STATUS_ID}},[t._v(" "+t._s(s.STATUS)+" ")])})),0)])},r=[],l={name:"listing-status",props:{dataid:{type:Number,required:!0},dataselected:{type:String,required:!0},dataController:{type:String,required:!0},dataAction:{type:String,required:!0},isfor:{type:String,required:!0},module:{type:String,required:!0},subModule:{type:String,required:!0},callbackfunction:{type:Function},statuslist:{type:Array,required:!0},isselectedvaluestring:{type:Boolean},parentid:{type:Number},haschild:{type:Boolean},hasglobal:{type:Boolean,required:!1}},data:function(){return{StatusId:this.dataselected,StatusCode:"",PrevStatus:this.dataselected,IsReponsive:!1,StatusList:this.statuslist,item:this.item,StatusColor:"#ffffff",StatusBgColor:"#525f65",isShowLoader:!0}},created:function(){var t=this;1!=t.hasglobal&&"true"!=t.hasglobal||(t.StatusList=this.GetStatusList()),$.each(t.statuslist,(function(a,s){"Closed"==t.statuslist[a].STATUS&&(t.StatusCode=t.statuslist[a].STATUS_ID)}));try{this.isShowLoader=!(this.statuslist.length>0)}catch(e){this.isShowLoader=!1}var a=this;if(1==this.isselectedvaluestring){var s=this.StatusList.filter((function(t){return t.STATUS==a.dataselected}));s.length>0?(this.StatusId=s[0].STATUS_ID,this.PrevStatus=s[0].STATUS_ID,this.GetColor()):(this.StatusId="",this.PrevStatus="")}else this.StatusId=this.dataselected,this.PrevStatus=this.dataselected,this.GetColor();this.GetColor()},mounted:function(){var t=this;$("body").on("change",".ddlchangestatus",(function(a){a.stopImmediatePropagation(),t.ChangeStatus($(this).attr("data-id"),a,a.target.value)}))},watch:{dataselected:function(t){if(1==this.isselectedvaluestring){var a=this.StatusList.filter((function(a){return a.STATUS==t}));a.length>0?(this.StatusId=a[0].STATUS_ID,this.PrevStatus=a[0].STATUS_ID,this.GetColor()):(this.StatusId="",this.PrevStatus="")}else this.StatusId=t,this.PrevStatus=t,this.GetColor();this.GetColor()},statuslist:function(t){this.isShowLoader=!1,this.StatusList=t;var a=this;if(1==a.isselectedvaluestring){var s=a.StatusList.filter((function(t){return t.STATUS==a.dataselected}));s.length>0?(a.StatusId=s[0].STATUS_ID,a.PrevStatus=s[0].STATUS_ID,a.GetColor()):(a.StatusId="",a.PrevStatus="",this.GetColor())}else this.StatusId=t,a.PrevStatus=t,this.GetColor()}},methods:{GetColor:function(){var t=this;if(null!=t.StatusList&&t.StatusList.length>0){var a=$.grep(t.StatusList,(function(a,s){return a.STATUS_ID==t.StatusId}));null!=a&&a.length>0&&(t.StatusColor=a[0].STATUS_COLOR,t.StatusBgColor=a[0].STATUS_BG_COLOR,null==t.StatusColor||""==t.StatusColor?(t.StatusColor="#ffffff",t.StatusBgColor="#525f65"):t.StatusId=a[0].STATUS_ID)}},GetStatusList:function(){var t=[],a={STATUS_ID:1001,STATUS:this.$t("Active"),STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"};return t.push(a),a={STATUS_ID:1002,STATUS:this.$t("Inactive"),STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"},t.push(a),t},ChangeStatus:function(t,a,s){var e=a.target.selectedOptions[0].text,i=this;"Closed"==e&&i.dataController+"/"+i.isfor=="Crm/CRM_LEADS"?i.dataController:(i.dataController,i.dataAction),i.PrevStatus!=$(a.target).attr("oldstatus")&&(i.PrevStatus=$(a.target).attr("oldstatus"));var n=this.$t("ConfirmUpdateStatusRecord"),r=i.isfor;"TASKLISTING"==i.isfor&&(n=i.$t("ConfirmUpdateTaskStatus"),n=1==i.haschild?this.$t("ConfirmUpdateTaskStatus"):0==i.haschild&&Number(i.parentid)>0?this.$t("ConfirmUpdateChildTaskStatus"):this.$t("ConfirmUpdateStatusRecord"));var l=!1,d=0;$.each(i.statuslist,(function(t,a){"REFPEN"==a.STATUS_CODE?d=a.STATUS_ID:"PNPGRS"==a.STATUS_CODE&&(InprogressStatusId=a.STATUS_ID)})),(Number(i.parentid)>0&&"1002"==i.PrevStatus&&"1001"==i.StatusId||Number(i.parentid)>0&&"1002"!=i.PrevStatus&&1001==i.StatusId||Number(i.parentid)>0&&i.StatusId==Number(d)||Number(i.parentid)>0&&i.StatusId==Number(InprogressStatusId))&&(l=!0),l&&(r="TASKCHILDLISTING"),"TASKLISTING"==i.isfor&&(n=l?this.$t("ConfirmUpdateChildTaskStatus"):this.$t("ConfirmUpdateTaskStatus")),i.confirmR(n,!0,this.$t("UpdateCommonStatus"),(function(a){s&&(i.StatusId=s);var e={ID:t,StatusId:i.StatusId,IsFor:r,Module:i.module,Submodule:i.subModule},n=JSON.stringify(e);o["a"].CommonUpdateStatus(n).then((function(t){null!=t.data&&"Success"===t.data.status?(i.ShowAlert(i.$t("RecordUpdatedSuccessfully"),"success",i.$t("Alert")),i.PrevStatus=i.StatusId,"undefined"!=typeof i.callbackfunction&&null!=i.callbackfunction&&i.callbackfunction()):i.ShowAlert(i.$t("UnknownErrorOccur"),"failure",!0,i.$t("Alert"))}),(function(t){console.log(t,"check response")}))}),(function(t){i.StatusId=i.PrevStatus}))}}},d=l,u=s("2877"),c=Object(u["a"])(d,n,r,!1,null,null,null),g=c.exports,S=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle"},[a("h4",{staticClass:"modal-title",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("Add"))+" ")]),a("button",{staticClass:"close",on:{click:t.ClosePopup}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("section",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"border p-3"},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){return[a("form",{ref:"form",on:{submit:function(a){return a.preventDefault(),s(t.submit)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{rules:"required",name:"Tag name"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[a("label",{attrs:{for:"TagName"}},[t._v(t._s(t.$t("TagName")))]),t._v(":"),a("span",{staticClass:"mandatory"},[t._v("*")]),a("span",{staticClass:"field-validation-valid invalid-feedback",attrs:{"data-valmsg-for":"TagName","data-valmsg-replace":"true"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tagsData.tagName,expression:"tagsData.tagName"}],staticClass:"form-control",class:s[0]?"is-invalid":"",attrs:{type:"text",maxlength:"100"},domProps:{value:t.tagsData.tagName},on:{change:t.validate,input:function(a){a.target.composing||t.$set(t.tagsData,"tagName",a.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"TagName"}},[t._v(t._s(t.$t("status_id")))]),t._v(":"),a("span",{staticClass:"mandatory"}),a("span",{staticClass:"field-validation-valid invalid-feedback",attrs:{"data-valmsg-for":"TagName","data-valmsg-replace":"true"}}),a("multiselect",{staticClass:"form-group singleselectlook",attrs:{placeholder:t.$t("SelectStatus"),options:t.tagsOption,label:"name","track-by":"id","show-labels":!1,id:"exampleFormControlSelect1"},model:{value:t.tagsData.Status,callback:function(a){t.$set(t.tagsData,"Status",a)},expression:"tagsData.Status"}},[a("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v(t._s(t.$t("No_Record_Found")))])])],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("TagDescription"))+":")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tagsData.tagDescription,expression:"tagsData.tagDescription"}],staticClass:"form-control",attrs:{name:"tagDescription",placeholder:t.$t("PleaseEnterDescription"),maxlength:"2000"},domProps:{value:t.tagsData.tagDescription},on:{input:function(a){a.target.composing||t.$set(t.tagsData,"tagDescription",a.target.value)}}})])])]),a("div",{staticClass:"row flex-row-reverse w-100"},[a("div",{staticClass:"col-lg-6 text-right p-0"},[a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),a("button",{staticClass:"btn btn-danger",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:function(a){return t.$emit("close",!1)}}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])]),a("div",{staticClass:"col-lg-6 p-0"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])]}}])})],1)])])]),a("Alert",{attrs:{type:t.store.getAlertMessage.type,message:t.store.getAlertMessage.message,open:t.store.getAlertMessage.open},on:{close:function(a){t.store.$state.getMessageAlert.open=!1}}})],1)])])])},p=[],h=s("ed09"),f=s("7bb1"),m=s("8e5f"),v=s.n(m),T=s("ce29"),C=s("21e9");Object(f["c"])("required",{validate(t){return console.log(t),t.match(/^\s*$/)&&(t=""),{required:!0,valid:-1===["",null,void 0].indexOf(t)}},message:"The {_field_} must be required",computesRequired:!0});var b=Object(h["b"])({name:"Tags",components:{Multiselect:v.a,ValidationProvider:f["b"],ValidationObserver:f["a"],Alert:C["a"]},props:{EditTagsData:{type:Array}},data(){return{tagsOption:[{name:"Active",id:"1001"},{name:"Inactive",id:"1002"}],tagsData:{tagName:"",Status:{name:"Active",id:"1001"},tagDescription:""}}},created(){var t=this;null!=t.EditTagsData.TagId&&t.EditManageTags(t.EditTagsData)},methods:{ClosePopup(){var t=this;t.$parent.CloseTags()},async submit(){console.log("tags1",this.tagsData.Status),this.tagsData.Status=this.tagsData.Status?this.tagsData.Status.id:"",console.log("tags",this.tagsData.Status),await this.store.tagsSave(this.tagsData),"added Successfully"==this.store.getTagSaveRes&&this.$emit("close",!1),this.tagsData.Status={name:"Active",id:"1001"},this.ClosePopup()},validate(){this.tagsData.tagName.match(/^\s*$/)&&(this.tagsData.tagName="")},EditManageTags(t){var a=this,s=a.tagsOption.find(a=>a.id==t.StatusId);void 0!=s&&(a.tagsData={tagName:t.TagName,Status:s,tagDescription:t.TagDes})}},setup(){const t=Object(T["a"])();return{store:t}}}),_=b,A=(s("8ac5"),Object(u["a"])(_,S,p,!1,null,null,null)),I=A.exports,D={components:{listingstatus:g,modalmanagetags:I},data(){return{isLoading:!1,TimerTagList:[],PageNumber:1,PageSize:10,TotalRecords:0,TotalPages:0,showAddPopup:!1,EditTagsData:[],searchCondition:"",noRecord:!0,Headers:[{COLUMN_NAME:"TagName",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TagName"),DISPLAY_ORDER:1},{COLUMN_NAME:"TagDesc",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TagDescription"),DISPLAY_ORDER:1},{COLUMN_NAME:"StatusId",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:1}],topsearchField:[{fieldName:"Search",fieldType:"text",fieldSearchConditionName:["TagName"],isSearch:!0,value:"",listOptions:[]}],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],Buttons:[{title:"Add",iconClass:"fa-plus",callbackfunction:"AddScreenPopup",additionalClass:"",isdisabled:!1,isvisible:!0},{id:"ActiveMultiple",title:"Active",iconClass:"fa-check",callbackfunction:"ActiveMultipleListing",additionalClass:"",isdisabled:!0,isvisible:!0},{id:"InactiveMultiple",title:"Inactive",iconClass:"fa-close",callbackfunction:"InactiveMultipleListing",additionalClass:"",isdisabled:!0,isvisible:!0},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0}],listActions:[{title:"Edit",href:"javascript:void(0)",callbackfunction:"EditTags",icon:"fa action-icon fa fa-pencil",additionalSpan:""}]}},created:function(){this.GetTimerTagListing(),ths.getStatuslistForListing("Timer","en")},methods:{renderActions:function(){var t=this;let a=[];return t.listActions.forEach(t=>{let s={...t};switch(s.title){case"Edit":s.isVisible=!0;break;default:s.isVisible=!0;break}a.push(s)}),a},actionButtonClick:function(t,a,s,e){var i=this;switch(t){case"EditTags":i.EditTags(a);break}},async GetTimerTagListing(){var t=this;t.isLoading=!0;var a=`PageNumber=${t.PageNumber}&PageSize=${t.PageSize}&searchCondition=${t.searchCondition}`;await o["a"].GetTagListing(a).then(a=>{a.data.length>0?(t.Headers.forEach(t=>{"StatusId"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),t.TimerTagList=a.data,t.TotalRecords=a.data[0].Total_Record,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.noRecord=!1):(t.TimerTagList=[],t.TotalRecords=0,t.TotalPages=0,t.noRecord=!0),t.isLoading=!1}).catch(t=>{console.log(t)})},TruncateStr:function(t,a){var s=""+t;if(null!=s)return s.length<=a?t:s.substring(0,a)+"..."},pagerMethod:async function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,await this.GetTimerTagListing()},EditTags(t){var a=this;a.showAddPopup=!0,a.EditTagsData=t},getStatuslistForListing:function(t,a){var s=this,e="langCode="+a+"&statusType="+t+"&hasglobal=true";o["a"].statusdropdown(e).then((function(t){if("Success"==t.data.status){var a=t.data.result;s.StatusListForListing=a.data}}))},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"ActiveMultipleListing":this.UpdateStatus("Active");break;case"InactiveMultipleListing":this.UpdateStatus("Inactive");break;case"AddScreenPopup":this.showAddPopup=!0;break}},CloseTags(){var t=this;t.EditTagsData=[],t.showAddPopup=!1},leftCommonSearch:async function(t){this.PageNumber=t.PageNumber,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition="",await this.GetTimerTagListing()}}},L=D,y=Object(u["a"])(L,e,i,!1,null,null,null);a["default"]=y.exports},d3fc:function(t,a,s){var e=s("8fb5");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=s("499e").default;i("b75091cc",e,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-696ce461.js.map