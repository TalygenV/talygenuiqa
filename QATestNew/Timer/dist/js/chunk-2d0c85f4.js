(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c85f4"],{5531:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e._self._c;e._self._setupProxy;return a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"p-0"},[a("dynamic-form",{ref:"dynamicForm",staticClass:"daterangecontrolHS",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.SaveHolidayBank},scopedSlots:e._u([{key:"tgslot-AvailableClientsLang",fn:function({data:t}){return[e.showContractDiv?a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[a("div",{staticClass:"col-lg-12 float-left",staticStyle:{display:"block"},attrs:{id:"divContract"}},[a("input",{attrs:{id:"hdnSelectedContractsEdit",type:"hidden",value:""}}),a("div",{staticClass:"col-12 p-0 d-flex flex-wrap mb-2"},[a("div",{staticClass:"mover-panel-box",attrs:{id:"divAvailableColumnsAll"}},[a("div",{staticClass:"row m-0"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v("Available Clients Lang")])])]),a("div",{staticClass:"pt-2 d-inline-block w-100"},[a("div",{staticClass:"col-12 p-0 mt-0"},[a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pr-1 pl-0"},[a("input",{staticClass:"form-control",attrs:{id:"txtAvailableColumnsInSetup",maxlength:"50",type:"text",placeholder:"Search",autocomplete:"off"}})]),a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pl-0"},[a("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[a("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"ancSearchAvailableColumnsInSetup",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger px-4",attrs:{href:"javascript:;",title:"",id:"ancClearAvailableColumnsInSetup","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[a("i",{staticClass:"fa fa-refresh"})])])])])]),a("div",{staticClass:"w-100 mt-2",staticStyle:{display:"none"}},[a("div",{staticClass:"input-group d-flex mt-1"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",id:"chk_62"}}),a("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_62"}})]),e._v("Select All ")])]),a("div",{staticClass:"w-100 table-responsive mt-1 listingcontrol",staticStyle:{height:"360px"},attrs:{id:"columns"}},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"norecords list-group-item",staticStyle:{display:"block"},attrs:{id:"norecordAvailable"}},[a("div",{staticClass:"text-danger text-center no-record"},[e._v("No record(s) found")])])])])])]),a("div",{staticClass:"mover-controls ancArrowdata"},[a("button",{attrs:{type:"button",id:"aMoveAllColumnArrow","data-toggle-tooltip":"tooltip",title:"","data-original-title":"Move All Right"}},[a("i",{staticClass:"fa fa-angle-double-down fa-2x d-md-none",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-angle-double-right fa-2x d-none d-md-block",attrs:{"aria-hidden":"true"}})]),a("button",{attrs:{type:"button",id:"aColumnArrow","data-toggle-tooltip":"tooltip",title:"","data-original-title":"Move Right"}},[a("i",{staticClass:"fa fa-angle-down fa-2x d-md-none",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-angle-right fa-2x d-none d-md-block",attrs:{"aria-hidden":"true"}})]),a("button",{attrs:{type:"button",id:"aColumnRemoveArrow","data-toggle-tooltip":"tooltip",title:"","data-original-title":"Move Left"}},[a("i",{staticClass:"fa fa-angle-up fa-2x d-md-none",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-angle-left fa-2x d-none d-md-block",attrs:{"aria-hidden":"true"}})]),a("button",{attrs:{type:"button",id:"aMoveAllColumnRemoveArrow","data-toggle-tooltip":"tooltip",title:"","data-original-title":"Move All Left"}},[a("i",{staticClass:"fa fa-angle-double-up fa-2x d-md-none",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-angle-double-left fa-2x d-none d-md-block",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"mover-panel-box",attrs:{id:"divAvailableColumnsAll"}},[a("div",{staticClass:"row m-0"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v("Selected Clients Lang")])])]),a("div",{staticClass:"pt-2 d-inline-block w-100"},[a("div",{staticClass:"col-12 p-0 mt-0"},[a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pr-1 pl-0"},[a("input",{staticClass:"form-control",attrs:{id:"txtSelectedColumnsInSetup",maxlength:"50",type:"text",placeholder:"Search",autocomplete:"off"}})]),a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pl-0"},[a("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[a("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"ancSearchSelectedColumnsInSetup",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger px-4",attrs:{href:"javascript:;",title:"",id:"ancClearSelectedColumnsInSetup","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[a("i",{staticClass:"fa fa-refresh"})])])])])]),a("div",{staticClass:"w-100 table-responsive mt-2 listingcontrol"},[a("ul",{staticClass:"list-group",staticStyle:{height:"360px","overflow-y":"auto"},attrs:{id:"visiblecolumn"}},[a("li",{staticClass:"norecords list-group-item ui-sortable-handle",attrs:{id:"norecordVisibleColumn"}},[a("div",{staticClass:"text-danger text-center no-record"},[e._v("No record(s) found")])])])]),a("div",{staticClass:"w-100 float-left"},[a("span",{staticClass:"invalid-feedback",staticStyle:{display:"none"},attrs:{id:"spnselectedContracts"}},[e._v("Client is required")])])])])])])]):e._e()]}},{key:"tgslot-AvailableHolidayListing",fn:function({data:t}){return[a("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!0,ModuleName:"Company",SubModuleCode:"CompanyHoliday",IdentityColumn:"Bank_Holiday_Id",HeaderText:e.$t("CompanyHoliday"),ListData:e.CompanyHolidayListData,HeaderData:e.holidayColumnNames,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,IsSearchFieldsOnTop:!1,SearchPosition:"top",SearchFields:e.SearchHolidayFields,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchData,IsFilterApplied:!!e.searchCondition,LegendArray:[],sourcetype:"",NorecordfoundText:e.$t("NoRecordfound")},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:t}){return["IsRecurring"==t.column.COLUMN_NAME?[a("div",{staticClass:"form-group mb-0"},[a("label",{staticClass:"switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.IsRecurring,expression:"data.row.IsRecurring"},{name:"disabled",rawName:"v-disabled",value:e.disabled,expression:"disabled"}],staticClass:"form-check-input custom-control-input dynamic",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.row.IsRecurring)?e._i(t.row.IsRecurring,null)>-1:t.row.IsRecurring},on:{change:[function(a){var l=t.row.IsRecurring,i=a.target,o=!!i.checked;if(Array.isArray(l)){var s=null,n=e._i(l,s);i.checked?n<0&&e.$set(t.row,"IsRecurring",l.concat([s])):n>-1&&e.$set(t.row,"IsRecurring",l.slice(0,n).concat(l.slice(n+1)))}else e.$set(t.row,"IsRecurring",o)},function(a){return e.checkForAutoCreateEnable(t.row,"IsRecurring")}]}}),a("span",{staticClass:"slider round",staticStyle:{cursor:"default"}},[a("span",{staticClass:"slider-yes"},[e._v(e._s(e.$t("Yes")))]),a("span",{staticClass:"slider-no"},[e._v(e._s(e.$t("No")))])])])])]:e._e(),"Bank_Holiday_Type"==t.column.COLUMN_NAME?[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.IsFixedDate,expression:"data.row.IsFixedDate"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"radiofixed"+t.row.Bank_Holiday_Id,name:"radioholidaytype"+t.row.Bank_Holiday_Id},domProps:{value:1,checked:e._q(t.row.IsFixedDate,1)},on:{change:[function(a){return e.$set(t.row,"IsFixedDate",1)},function(a){return e.checkForAutoCreateEnable(t.row,"IsFixedDate")}]}}),a("label",{staticClass:"custom-control-label",class:{disabled:t.row.Old_Holiday_id>0&&null!=t.row.Old_Holiday_id},attrs:{for:"radiofixed"+t.row.Bank_Holiday_Id}},[e._v("Fixed")])]),a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.IsFixedDate,expression:"data.row.IsFixedDate"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"radioObserved"+t.row.Bank_Holiday_Id,name:"radioholidaytype"+t.row.Bank_Holiday_Id},domProps:{value:0,checked:e._q(t.row.IsFixedDate,0)},on:{change:[function(a){return e.$set(t.row,"IsFixedDate",0)},function(a){return e.checkForAutoCreateEnable(t.row,"IsFixedDate")}]}}),a("label",{staticClass:"custom-control-label",class:{disabled:t.row.Old_Holiday_id>0&&null!=t.row.Old_Holiday_id},attrs:{for:"radioObserved"+t.row.Bank_Holiday_Id}},[e._v("Observed")])])]:e._e()]}}],null,!0)})]}}])})],1)])},i=[],o=(t("14d9"),t("ed09")),s=t("7bb1"),n=(t("b9b9"),t("9769")),d=t("2b0e"),c={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},modelValue:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(e,a){const t=function(e,a,t){const{value:l,modelValue:i,falseValue:o,trueValue:s,disabled:n}=Object(d["toRefs"])(e),c=i&&void 0!==i.value?i:l,r=Object(d["computed"])(()=>c.value===s.value),u=e=>{a.emit("input",e),a.emit("update:modelValue",e),a.emit("change",e)},p=()=>{u(s.value)},h=()=>{u(o.value)};return-1!==[null,void 0,!1,0,"0","off"].indexOf(c.value)&&-1===[o.value,s.value].indexOf(c.value)&&h(),-1!==[!0,1,"1","on"].indexOf(c.value)&&-1===[o.value,s.value].indexOf(c.value)&&p(),{externalValue:c,checked:r,update:u,check:p,uncheck:h,handleInput:e=>{u(e.target.checked?s.value:o.value)},handleClick:()=>{n.value||(r.value?h():p())}}}(e,a),l=function(e,a,t){const{trueValue:l,falseValue:i,onLabel:o,offLabel:s}=Object(d["toRefs"])(e),n=t.checked,c=t.update;return{label:Object(d["computed"])(()=>{let e=n.value?o.value:s.value;return e||(e="&nbsp;"),e}),toggle:()=>{c(n.value?i.value:l.value)},on:()=>{c(l.value)},off:()=>{c(i.value)}}}(e,0,{checked:t.checked,update:t.update}),i=function(e,a,t){const l=Object(d["toRefs"])(e),i=l.disabled,o=t.checked,s=Object(d["computed"])(()=>({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label",...l.classes.value}));return{classList:Object(d["computed"])(()=>({container:s.value.container,toggle:[s.value.toggle,i.value?o.value?s.value.toggleOnDisabled:s.value.toggleOffDisabled:o.value?s.value.toggleOn:s.value.toggleOff],handle:[s.value.handle,i.value?o.value?s.value.handleOnDisabled:s.value.handleOffDisabled:o.value?s.value.handleOn:s.value.handleOff],label:s.value.label}))}}(e,0,{checked:t.checked}),o=function(e,a,t){const{disabled:l}=Object(d["toRefs"])(e),i=t.check,o=t.uncheck,s=t.checked;return{handleSpace:()=>{l.value||(s.value?o():i())}}}(e,0,{check:t.check,uncheck:t.uncheck,checked:t.checked});return{...t,...i,...l,...o}}};const r=["tabindex","aria-checked","aria-describedby","aria-labelledby"],u=["id","name","value","checked","disabled"],p=["innerHTML"],h=["checked"];c.render=function(e,a,t,l,i,o){return Object(d["openBlock"])(),Object(d["createElementBlock"])("div",Object(d["mergeProps"])({class:e.classList.container,tabindex:t.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":t.describedby,"aria-labelledby":t.labelledby,role:"switch"},t.aria,{onKeypress:a[1]||(a[1]=Object(d["withKeys"])(Object(d["withModifiers"])((...a)=>e.handleSpace&&e.handleSpace(...a),["prevent"]),["space"]))}),[Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{type:"checkbox",id:t.id,name:t.name,value:t.trueValue,checked:e.checked,disabled:t.disabled},null,8,u),[[d["vShow"],!1]]),Object(d["createElementVNode"])("div",{class:Object(d["normalizeClass"])(e.classList.toggle),onClick:a[0]||(a[0]=(...a)=>e.handleClick&&e.handleClick(...a))},[Object(d["createElementVNode"])("span",{class:Object(d["normalizeClass"])(e.classList.handle)},null,2),Object(d["renderSlot"])(e.$slots,"label",{checked:e.checked,classList:e.classList},()=>[Object(d["createElementVNode"])("span",{class:Object(d["normalizeClass"])(e.classList.label),innerHTML:e.label},null,10,p)]),t.required?(Object(d["openBlock"])(),Object(d["createElementBlock"])("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,h)):Object(d["createCommentVNode"])("v-if",!0)],2)],16,r)},c.__file="src/Toggle.vue";t("c1df");Object(s["c"])("required",{validate(e){return console.log("checkk"),{required:!0,valid:-1===["",null,void 0].indexOf(e)}},message:"The {_field_} is required"});var b=Object(o["b"])({components:{ValidationObserver:s["a"],ValidationProvider:s["b"],Toggle:c},data(){return{CompanyHolidayListData:[],GetSaveHolidayData:[],showContractDiv:!1,buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0,onClick:this.SaveHolidayBank},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],FormSchema:[{layoutType:"triple",Data:[{astype:"SelectField",label:this.$t("HBLocation"),name:"Select Location",value:"",placeholder:"",config:{options:[],showAddIcon:!1},validationRules:"required",disabled:!1},{astype:"CheckBoxField",label:"",name:"HolidayList",value:"",placeholder:"",config:{options:[{name:"Company",value:"Company"},{name:"Client",value:"Client"}],showAddIcon:!1,onChange:this.GetCheckBoxValue},validationRules:""},{astype:"RadioField",label:this.$t("SelectYear"),name:"SelectYear",value:"2024",placeholder:"",visibility:!0,config:{options:[{value:2023,name:"Preview Year (2023)"},{value:2024,name:"Current Year (2024)"},{value:2025,name:"Next Year (2025)"}],showAddIcon:!1,onChange:this.GetRadioValue},validationRules:""}]},{layoutType:"single",Data:[{astype:"SlotField",label:"",name:"AvailableClientsLang",value:"",placeholder:"",config:{options:[],showAddIcon:!1},validationRules:""}]},{layoutType:"single",Data:[{astype:"SlotField",label:"",name:"AvailableHolidayListing",value:"",placeholder:"",config:{options:[],showAddIcon:!1},validationRules:""}]}],SearchHolidayFields:[{fieldName:"Search",fieldType:"text",fieldIcon:"fa-file",fieldSearchConditionName:["Bank_Holiday_Name"],isSearch:!0,value:"",listOptions:[]}],holidayColumnNames:[{COLUMN_NAME:"Bank_Holiday_Name",DATA_TYPE:"Text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Holiday Name",DISPLAY_ORDER:1},{COLUMN_NAME:"Bank_Holiday_Desc",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Holiday Description",DISPLAY_ORDER:2},{COLUMN_NAME:"IsRecurring",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Recurring",DISPLAY_ORDER:3},{COLUMN_NAME:"Bank_Holiday_Type",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Holiday Type",DISPLAY_ORDER:4}]}},created:async function(){await this.FetchData(),await this.GetLocationDDL()},methods:{checkForAutoCreateEnable(e){var a=this,t=a.GetSaveHolidayData.find(a=>a.holidaybank_id===e.Bank_Holiday_Id);void 0!=t?(t.IsRecurring=0==e.IsRecurring?0:1,t.IsFixedDate=e.IsFixedDate):a.GetSaveHolidayData.push({client_id:"",locations:a.FormSchema[0].Data[0].value,holidaybank_id:e.Bank_Holiday_Id,country_id:e.Bank_Holiday_Country_Id,IsRecurring:0==e.IsRecurring?0:1,IsFixedDate:e.IsFixedDate})},async GetLocationDDL(){var e=this,a="RequestFrom=COMPANY_PARENT_LOCATION";await n["a"].CompanyHolidayMultipleLocation(a).then((function(a){""!=a.data.result&&null!=a.data.result&&a.data.result.length>0&&(a.data.result.forEach(a=>{e.FormSchema[0].Data[0].config.options.push({value:a.COMPANY_LOCATION_ID,name:a.LOCATION_NAME})}),e.$refs.dynamicForm.UpdateKeyValue())}))},async FetchData(){var e=this;e.isLoading=!0;var a=`moduleName=${e.moduleName}&subModuleCode=${e.subModule}`;await n["a"].HolidayBankListing(a).then((function(a){console.log(a),""!=a.data&&null!=a.data&&a.data.result.length>0&&(console.log(a.data.result),e.holidayColumnNames.forEach(e=>{"Bank_Holiday_Type"!=e.COLUMN_NAME&&"IsRecurring"!=e.COLUMN_NAME||(e.settings={isInSlot:!0})}),e.CompanyHolidayListData=a.data.result)}))},async SaveHolidayBank(){var e=this,a="year="+e.FormSchema[0].Data[2].value,t={MainData:e.GetSaveHolidayData};n["a"].AddHolidayInBank(a,t).then((function(e){console.log(e);var a=e.data.result;null!=a&&("Success"==a.status&&"1"==a.code&&this.ShowAlert(this.$t("SavedSuccessfully"),"success",!1,this.$t("Alert")),"Failure"==a.status&&"0"==a.code&&this.ShowAlert(this.$t("ErrorWhileSavingRecords"),"danger",!1,this.$t("Alert")))}))},closePopup(){this.$emit("close")},GetCheckBoxValue(){var e=this;"Client"==e.FormSchema[0].Data[1].value?e.showContractDiv=!0:e.showContractDiv=!1}}}),v=b,m=t("2877"),f=Object(m["a"])(v,l,i,!1,null,null,null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0c85f4.js.map