(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28f5b73d"],{"13d5":function(t,e,a){"use strict";var s=a("23e7"),i=a("d58f").left,o=a("a640"),l=a("2d00"),r=a("605d"),n=!r&&l>79&&l<83,d=n||!o("reduce");s({target:"Array",proto:!0,forced:d},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},"605d":function(t,e,a){"use strict";var s=a("da84"),i=a("c6b6");t.exports="process"===i(s.process)},"6aae":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!0,listType:[t.DetailListType],ModuleName:"Approval",SubModuleCode:"Approval",IdentityColumn:"TIMESHEET_ID",HeaderText:t.$t("TimesheetApprovals"),ListData:t.TimesheetApprovalList,HeaderData:t.Headers,widgets:t.widgets,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["COMMENTSCOUNT"==a.column.COLUMN_NAME?[e("a",{attrs:{"data-toggle":"modal","data-target":"#tsacomment","data-toggle-tooltip":"tooltip","data-original-title":"Comments(0)"},on:{click:function(e){return t.AddCommentPopUp(a.row)}}},[e("i",{staticClass:"fa fa-comment-o text-dark action-icon"}),e("span",{staticClass:"noti-circle noti-blue text-center"},[t._v(t._s(a.row.COMMENTSCOUNT))])])]:t._e(),"View"==a.column.COLUMN_NAME?[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.GeneralTimesheetPopup(a.row)}}},[e("em",{staticClass:"fa fa-eye text-info action-icon"})])]:t._e(),"STATUS_CODE"==a.column.COLUMN_NAME?[e("span",[t._v(t._s("TRACK_ENTRY_REJECTED"==a.row.STATUS_CODE?"Rejected":"TRACK_ENTRY_ADD_MANUAL_PENDING"==a.row.STATUS_CODE?"Pending":"TRACK_ENTRY_APPROVED"==a.row.STATUS_CODE?"Approved":"")+" ")])]:t._e()]}}])}),t.openModal?e("AddComment",{attrs:{SingleUserData:t.SingleUserData,UserData:t.UserData,headerValue:t.headerValue}}):t._e(),t.isshowgeneralModal?e("modalGeneralTimesheet",{attrs:{SingleUserData:t.SingleUserData,Timesheetdata:t.Timesheetdata}}):t._e()],1)},i=[],o=(a("14d9"),a("9769"));let l=[{title:"Approve",iconClass:"fa fa-check",callbackfunction:"Approve",additionalClass:"",isdisabled:!0,isvisible:!0,id:"AddNewGroup",checkPrivilege:!1,isEnabledOnSelectedRow:!0},{title:"Reject",iconClass:"fa fa-close",callbackfunction:"Reject",additionalClass:"",isdisabled:!0,isvisible:!0,id:"AddNewGroup",checkPrivilege:!1,isEnabledOnSelectedRow:!0},{title:"View History",iconClass:"fa fa-history",callbackfunction:"ViewHistory",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],r=[{fieldName:"From Date",fieldType:"date",fieldIcon:"fa fa-calendar",paramName:"dtFrom",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"To Date",fieldType:"date",fieldIcon:"fa fa-calendar",paramName:"dtTo",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"User",fieldType:"radio",fieldIcon:"fa fa-users",paramName:"SearchuserId",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}];function n(t,e){var a=t;"CA"==e&&o["a"].GetUsersByCompanyId().then(t=>{t.data.forEach(t=>{let e={name:t.username,value:t.user_id};a.leftSearchFields[2].listOptions.push(e)})}).catch(t=>{console.log(t)})}var d={buttons:l,leftsearchSchema:r,bindleftCommonSearchdropdown:n},c=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle py-2"},[""!=t.UserData?e("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("Comments"))+" for "+t._s(this.UserData[0].USER_NAME)+" "+t._s(t.$t("TimesheetApprovals"))+" ")]):e("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("Comments"))+" ")]),e("button",{staticClass:"close",on:{click:t.closePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t._m(0),e("div",{staticClass:"listing py-3 px-3"},[e("dynamic-form",{ref:"PostCommentForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])])])},m=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"heading-border mb-3"},[e("h5",{staticClass:"h5"},[e("span",{staticClass:"py-2"},[t._v("Post Comment")])])])}],u={props:{SingleUserData:{required:!1},UserData:{required:!1},headerValue:{type:String}},data(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Title"),name:"Title",value:"",placeholder:"",config:{},validationRules:{required:!0,max:250}},{astype:"RadioField",label:this.$t("Visibilty"),name:"Visibilty",value:1,placeholder:"",visibility:!0,validationRules:{required:!1},config:{options:[{value:1,name:"Public"},{value:0,name:"Private"}]}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"description",value:"",mode:"tag",placeholder:"",config:{options:[]},validationRules:{required:!0}}]}],buttons:[{type:"Cancel",class:"btn btn-danger aSkip",text:"Skip <i class='fa fa-forward pl-2'></i>",isVisible:!1,name:"Approve",onClick:this.onSubmit},{type:"Cancel",class:"btn btn-danger aSkip",text:"Skip <i class='fa fa-forward pl-2'></i>",isVisible:!1,name:"Reject",onClick:this.onSubmit},{type:"submit",name:"AddComment",class:"btn btn-success",text:"<i class='fa fa-send pr-2'></i>Post New Comment",isVisible:!1},{type:"submit",name:"Approve",class:"btn btn-success",text:"<i class='fa fa-send pr-2'></i>Post New Comment",isVisible:!1},{type:"submit",name:"Reject",class:"btn btn-success",text:"<i class='fa fa-send pr-2'></i>Post New Comment",isVisible:!1}],trackId:0,isLoading:!1}},created:function(){this.SingleUserData;"Approve"==this.headerValue?(this.buttons[0].isVisible=!0,this.buttons[1].isVisible=!1,this.buttons[3].isVisible=!0,this.buttons[2].isVisible=!1,this.buttons[4].isVisible=!1):"Reject"==this.headerValue?(this.buttons[0].isVisible=!1,this.buttons[1].isVisible=!0,this.buttons[3].isVisible=!1,this.buttons[2].isVisible=!1,this.buttons[4].isVisible=!0):(this.buttons[2].isVisible=!0,this.buttons[0].isVisible=!1,this.buttons[1].isVisible=!1,this.buttons[3].isVisible=!1,this.buttons[4].isVisible=!1);this.headerValue},methods:{closePopup(){var t=this;t.$parent.CloseComment()},onSubmit:function(t,e){var a=this;if("AddComment"==e){var s=`weekDaterange=${a.SingleUserData.TIMESHEET_ID}&title=${t.Title}&description=${t.description}&access=${t.Visibilty}&statusCode=`;o["a"].AddTimesheetComment(s).then(t=>{0==t.data&&a.ShowAlert("Comment SuccessFully added ","success",!0,a.$t("Alert"))})}else"Approve"==t.name||"Approve"==e?a.confirmR(a.$t("TimesheetApproved"),!0,a.$t("Delete")+"  "+a.$t("Group_Item"),(function(){var e=`ids=${a.UserData[0].TIMESHEET_ID}&statusCode=EXP_APPROVED&Resourcemsg=&approvalTypeId=4&commentTitle=${void 0==t.Title?"":t.Title}&commentDesc=${void 0==t.description?"":t.description}&commentAccess=${void 0==t.Visibilty?0:t.Visibilty}\n                &isForciable=0&isOverridable=0&reimburseBy=`;o["a"].AddApproverStatus(e).then(t=>{"success"==t.data.status&&a.ShowAlert("Approved SuccessFully added ","success",!0,a.$t("Alert"))})})):"Reject"!=t.name&&"Reject"!=e||a.confirmR(a.$t("Timesheetreject"),!0,a.$t("Delete")+"  "+a.$t("Group_Item"),(function(){var e=`ids=${a.UserData[0].TIMESHEET_ID}&statusCode=EXP_REJECTED&Resourcemsg=&approvalTypeId=4&commentTitle=${void 0==t.Title?"":t.Title}&commentDesc=${void 0==t.description?"":t.description}&commentAccess=${void 0==t.Visibilty?0:t.Visibilty}\n                    &isForciable=0&isOverridable=0&reimburseBy=`;o["a"].AddApproverStatus(e).then(t=>{"success"==t.data.status&&a.ShowAlert("SuccessFully Reject","success",!0,a.$t("Alert"))})}));a.closePopup()}}},h=u,p=a("2877"),f=Object(p["a"])(h,c,m,!1,null,null,null),v=f.exports,C=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("GeneralTimesheet"))+" ")]),e("button",{staticClass:"close",on:{click:t.ClosePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 searchpanel tablehead search float-left"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 Search-panel float-left py-2 p-0"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"row mt-0"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-5 col-xl-5 float-left pr-1 pl-0 mb-1"},[e("div",{staticClass:"col-12 input-group timesheetdatepicker bg-white border-0 p-0"},[e("div",{staticClass:"form-control"},[e("label",[t._v("Date Range: "+t._s(t.formattedstartDate)+" - "+t._s(t.formattedEndDate)+" ")]),t._v("Â "),e("a",{staticClass:"pr-2 text-dark",staticStyle:{cursor:"default"},attrs:{id:"aDateLable"}})])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left pr-1 pl-0 mb-1"},[e("div",{staticClass:"form-group dpddown"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.modeluser,expression:"modeluser"}],staticClass:"form-control",attrs:{id:"ddlUser",name:"ddlUser"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.modeluser=e.target.multiple?a:a[0]}}},[e("option",[t._v("Select User")]),t._l(t.DataRec,(function(a){return e("option",{attrs:{selected:""},domProps:{value:a.value}},[t._v(t._s(a.name))])}))],2)])]),t._m(0)])])]),e("div",{staticClass:"listing"},[e("div",{staticClass:"col-10 mb-2 float-left p-0"},[e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"lg-orange colorboxsquare"}),t._v(t._s(t.$t("PausedResumedTrackEntries"))+" ")]),e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"legends-purple colorboxsquare"}),t._v(" "+t._s(t.$t("LeaveHoliday"))+" ")]),e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"lg-flaggedentry colorboxsquare"}),t._v(t._s(t.$t("UnPaidLeaveRecords"))+" ")])])])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 timesheettable",attrs:{id:"tableData"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"remove_td align-middle text-center",staticStyle:{"max-width":"30px","min-width":"30px",width:"30px"}},[e("div",{staticClass:"form-check form-check-inline p-0"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.allCheck,expression:"allCheck"}],class:{"chkItems custom-control-input":!0},staticStyle:{display:"none"},attrs:{disabled:!t.sendForApprovalButton,type:"checkbox",name:"DeleteInputs",id:"allCheck"},domProps:{value:"all",checked:Array.isArray(t.allCheck)?t._i(t.allCheck,"all")>-1:t.allCheck},on:{change:[function(e){var a=t.allCheck,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o="all",l=t._i(a,o);s.checked?l<0&&(t.allCheck=a.concat([o])):l>-1&&(t.allCheck=a.slice(0,l).concat(a.slice(l+1)))}else t.allCheck=i},t.allCheckBox]}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"allCheck"}})])])]),e("th",{staticClass:"remove_td align-middle d-none"}),e("th",{staticStyle:{"min-width":"200px"}},[t._v(t._s(t.$t("ProjectName")))]),e("th",{staticClass:"remove_td align-middle d-none"}),e("th",{staticClass:"align-middle d-none"},[t._v(t._s(t.$t("TaskName")))]),t._l(t.HeaderList,(function(a,s){return e("th",{key:s,staticClass:"text-center"},[t._v(" "+t._s(a)+" ")])})),e("th",{staticClass:"text-center",attrs:{id:"RowTotal"}},[t._v(t._s(t.$t("Total")))]),e("th",{staticClass:"remove_td"},[t._v(t._s(t.$t("Action")))])],2)]),e("tbody",[t._l(t.TimesheetList,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"remove_td tabchild text-center"},[e("div",{staticClass:"form-check form-check-inline p-0"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.listCheckbox,expression:"listCheckbox"}],staticClass:"list-checkBox",class:{"chkItems custom-control-input":!0},staticStyle:{display:"none"},attrs:{disabled:!t.sendForApprovalButton,type:"checkbox",name:"DeleteInputs",id:"chk_"+s},domProps:{value:s,checked:Array.isArray(t.listCheckbox)?t._i(t.listCheckbox,s)>-1:t.listCheckbox},on:{change:[function(e){var a=t.listCheckbox,i=e.target,o=!!i.checked;if(Array.isArray(a)){var l=s,r=t._i(a,l);i.checked?r<0&&(t.listCheckbox=a.concat([l])):r>-1&&(t.listCheckbox=a.slice(0,r).concat(a.slice(r+1)))}else t.listCheckbox=o},t.selectedValues]}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_"+s}})])])]),e("td",{staticClass:"remove_td align-middle d-none"}),e("td",{staticClass:"its_projectnamebase"},[e("span",{staticClass:"float-left w-100"},[e("span",{staticClass:"font-14 font-weight-medium float-left text-align-left d-flex w-100 its_projectname"},[t._v(" "+t._s(a["ProjectName"])+": "),e("span",{staticClass:"text-dark d-block its_taskname ml-1 font-weight-normal"},[t._v(t._s(a["TaskDetail"]))])]),e("span",{staticClass:"text-dark d-flex font-14 its_taskdesc float-left w-100"},[t.indexEdit!=s+1?e("span",{staticClass:"text-truncate w-90 mr-3 font-weight-400",on:{click:function(e){!a.TaskDescription&&t.Edit(s+1)}}},[t._v(t._s(a.TaskDescription)+" "),a.TaskDescription?t._e():e("input",{attrs:{placeholder:t.$t("NoDescription")}})]):t._e(),t.indexEdit===s+1?e("span",{staticClass:"w-90 mr-3 font-weight-400"},[e("input",{attrs:{type:"text",placeholder:t.$t("NoDescription")},domProps:{value:a["TaskDescription"]},on:{change:function(e){return t.editChange(a,s+1,e)},blur:function(e){return t.Edit(s+1)},input:function(e){return t.checkDescription(e)}}})]):t._e()]),t.sendForApprovalButton?e("a",{staticClass:"float-right text-secondary",on:{click:function(e){return t.Edit(s+1)}}},[t.indexEdit==s+1?e("em",{staticClass:"fa fa-check text-success",attrs:{title:t.$t("Edit")}}):e("em",{staticClass:"fa fa-pencil",attrs:{title:t.$t("Edit")}})]):t._e()])]),e("td",{staticClass:"remove_td align-middle d-none"}),e("td",{staticClass:"align-middle d-none"},[t._v(t._s(a["TaskDetail"]))]),t._l(t.HeaderList,(function(s,i){return e("td",{key:i,staticClass:"align-middle",class:{"table-danger":null!=a["IsValid"]&&1!=a["IsValid"]&&a["IsValid"].Date==s,"legend_leaves ":s},attrs:{title:null!=a["IsValid"]&&1!=a["IsValid"]&&a["IsValid"].Date==s?a["IsValid"].Status:""}},[e("input",{directives:[{name:"model",rawName:"v-model",value:a[s],expression:"dataItem[item]"}],staticClass:"form-control text-center",attrs:{placeholder:"00:00",type:"text"},domProps:{value:a[s]},on:{change:function(e){return t.validateTimeInput(a,s,i)},focus:function(e){return t.setOldValue(s,e)},input:function(e){e.target.composing||t.$set(a,s,e.target.value)}}}),e("div",{staticClass:"d-none"},[t._v(t._s(a[s])+" ")])])})),e("td",{staticClass:"align-middle text-center totalvalue"},[t._v(t._s(t.rowSum(a)))]),e("td",{staticClass:"remove_td single-action text-center"},[e("a",[e("i",{staticClass:"fa fa-times text-danger",on:{click:function(e){return t.SingleDeleteData(s)}}})])])],2)})),t._l(t.BreakList,(function(a,s){return e("tr",{key:s,staticClass:"its_fixedrow"},[e("td",{staticClass:"remove_td align-middle"}),e("td",{staticClass:"align-middle d-none"}),e("td",{staticClass:"align-middle font-weight-medium"},[t._v(t._s(a["ProjectName"]))]),e("td",{staticClass:"remove_td align-middle d-none"}),e("td",{staticClass:"remove_td align-middle d-none"}),t._v(t._s(t.HeaderList)+" "),t._l(t.HeaderList,(function(s,i){return e("td",{key:i,staticClass:"align-middle",class:{"table-danger":null!=a["IsValid"]&&1!=a["IsValid"]&&a["IsValid"].Date==s},attrs:{title:null!=a["IsValid"]&&1!=a["IsValid"]&&a["IsValid"].Date==s?a["IsValid"].Status:""}},[e("input",{directives:[{name:"model",rawName:"v-model",value:a[s],expression:"dataItem[item]"}],staticClass:"form-control text-center",attrs:{placeholder:"",maxlength:"5",value:"00:00",type:"text"},domProps:{value:a[s]},on:{keyup:t.timeMask,change:function(e){return t.validateTimeInput(a,s,i)},focus:function(e){return t.setOldValue(s,e)},input:function(e){e.target.composing||t.$set(a,s,e.target.value)}}}),e("div",{staticClass:"d-none"},[t._v(t._s(a[s]))])])})),e("td",{staticClass:"align-middle text-center totalvalue"},[t._v(t._s(t.rowSum(a)))]),e("td",{staticClass:"remove_td single-action text-center"},[e("i",{staticClass:"fa fa-times text-danger d-none",on:{click:function(e){return t.SingleDeleteData(s)}}})])],2)}))],2),0==t.TimesheetList.length&&0==t.BreakList.length?e("tbody",[e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"11"}},[t._v(t._s(t.$t("NoRecordfound")))])])]):t._e(),t.TimesheetList.length>0||t.BreakList.length>0?e("tfoot",[e("div",{staticStyle:{display:"contents",float:"left",width:"100%"}},[e("tr",{staticClass:"its_fixedrow2"},[e("td",{staticClass:"remove_td align-middle d-none"}),e("td",{staticClass:"align-middle"}),e("td",[t._v(t._s(t.$t("Total"))+":")]),e("td",{staticClass:"remove_td align-middle d-none"}),e("td",{staticClass:"remove_td align-middle d-none"}),t._l(t.totalData,(function(a,s){return e("td",{key:s,staticClass:"text-center"},[t._v(t._s(a.value))])})),e("td",{staticClass:"text-center"},[t._v(t._s(t.SumOfFooterRows))]),e("td",{staticClass:"remove_td"})],2)])]):t._e()])])]),t._m(1),e("div",{staticClass:"listing py-3 px-3"},[e("dynamic-form",{ref:"PostCommentForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])])])},b=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 col-md-4 col-lg-3 col-xl-3 float-left pr-1 pl-0 mb-1"},[e("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"heading-border mb-3"},[e("h5",{staticClass:"h5"},[e("span",{staticClass:"py-2"},[t._v("Post Comment")])])])}];a("13d5");var T={props:{Timesheetdata:{type:Array,required:!0},SingleUserData:{type:Array,required:!0}},data(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Title"),name:"Title",value:"",placeholder:"",config:{},validationRules:{required:!0,max:250}},{astype:"RadioField",label:this.$t("Visibilty"),name:"Visibilty",value:1,placeholder:"",visibility:!0,validationRules:{required:!1},config:{options:[{value:1,name:"Public"},{value:0,name:"Private"}]}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"description",value:"",mode:"tag",placeholder:"",config:{options:[]},validationRules:{required:!0}}]}],buttons:[{type:"submit",name:"AddComment",class:"btn btn-success",text:"<i class='fa fa-send pr-2'></i>Post New Comment",isVisible:!0}],UserData:[],modeluser:null,objData:{},DataRec:[],UserIdd:null,formattedStartDate:null,formattedEndDate:null,computedTimesheetList:[],BreakList:[],LeaveList:[],HeaderList:[],oldInputValue:[]}},computed:{computedTimesheetList(){return this.TimesheetList},computedBreakList(){return this.BreakList},computedLeaveList(){return this.LeaveList},filteredDeletedArray(){return this.deletedArray},rowSums(){return this.TimesheetList.map(t=>this.rowSum(t))},footerSums(){return this.totalData.map(t=>this.footerSums(t))}},created(){var t=this;t.formatDate(),t.FetchData(),t.DataRec=[{value:this.GetUserInfo.ID,name:this.GetUserInfo.Name}],t.modeluser=this.DataRec[0].value,t.UserData},methods:{FetchData:async function(){this.indexEdit="";var t=this;t.isLoading=!0;var e=`companyId=${t.GetUserInfo.CompanyId}&userId=${t.GetUserInfo.ID}&dateFrom=${t.formattedstartDate}&dateTo=${t.formattedEndDate}`;o["a"].ListTimesheetForWeek(e).then(e=>{if(null!=e.data&&""!=e.data&&e.data.length>0){let a=e.data[0];t.isLoading=!1,t.HeaderList=a,t.TimesheetList=e.data.filter(t=>"TimeTrack"==t.Type),t.BreakList=e.data.filter(t=>"Break"==t.Type),t.LeaveList=e.data.filter(t=>"Leave"==t.Type),t.TimesheetList.map((t,e)=>(this.$set(t,"RowNumber",e+1),t.OldTaskDescription=t.TaskDescription,t))}})},onSubmit:function(t){var e=this,a=`weekDaterange=${e.SingleUserData.TIMESHEET_NAME}&title=${t.Title}&description=${t.description}&access=${t.Visibilty}&statusCode=`;o["a"].AddTimesheetComment(a).then(t=>{0==t.data&&e.ShowAlert("Comment SuccessFully added ","success",!0,e.$t("Alert"))})},rowSum(t){var e=0;return Object.values(t).filter(t=>"ProjectId"!==t&&"ProjectName"!==t&&"TaskDetail"!==t&&"TaskId"!=t&&"RowTotal"!==t).reduce((t,a)=>{const s=/^([01]\d|2[0-3]):([0-5]\d)$/.test(a);if(s){let[t,s]=null!=a?a.split(":"):"00:00".split(":");e+=3600*parseInt(t)+60*parseInt(s)}let i=Math.floor(e/3600),o=Math.floor(e%3600/60);return t=String(i).padStart(2,"0")+":"+String(o).padStart(2,"0"),t},0)},setOldValue(t,e){let a=this.oldInputValue.find(e=>e.index===t);a||this.oldInputValue.push({value:e.target.value,index:t})},formatDate(){const t=new Date(this.Timesheetdata.START_TIME),e=new Date(this.Timesheetdata.TRACK_STOP_DATE),a={month:"2-digit",day:"2-digit",year:"2-digit"};this.formattedstartDate=t.toLocaleDateString("en-US",a),this.formattedEndDate=e.toLocaleDateString("en-US",a)},GetListData(){var t=this,e=`companyId=${t.GetUserInfo.CompanyId}&userId=${t.modeluser}&dateFrom=${fDate}&dateTo=${tDate}`;t.buttonShowHide(),o["a"].ListTimesheetForWeekNew(e).then(e=>{if(null!=e.data&&""!=e.data&&e.data.length>0){let a=Object.keys(e.data[0]).filter(t=>"Type"!==t&&"ProjectId"!==t&&"ProjectName"!==t&&"TaskId"!==t&&"TaskDetail"!==t&&"TaskDescription"!=t);t.isLoading=!1,this.HeaderList=a,t.TotalRecords=e.data.length,t.TimesheetList=e.data.filter(t=>"TimeTrack"==t.Type),t.BreakList=e.data.filter(t=>"Break"==t.Type),t.LeaveList=e.data.filter(t=>"Leave"==t.Type),t.TimesheetList.map((t,e)=>(this.$set(t,"RowNumber",e+1),t.OldTaskDescription=t.TaskDescription,t)),console.log("With Row Number",t.TimesheetList);t.SumRowColTotalList(),t.checkHolidayDate()}else t.noRecord=!0,t.isLoading=!1,t.TimesheetList=[]})},ClosePopup(){var t=this;t.$parent.GeneralTimesheetClosePopup()}}},_=T,g=Object(p["a"])(_,C,b,!1,null,null,null),A=g.exports,S={components:{AddComment:v,modalGeneralTimesheet:A},data(){return{isshowgeneralModal:!1,widgets:[],openModal:!1,isLoading:!1,leftSearchFields:d.leftsearchSchema,listActions:d.listActions,listheaderbuttons:d.buttons,LegendArray:[],TimesheetApprovalList:[],Headers:[{COLUMN_NAME:"USER_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("UserName"),DISPLAY_ORDER:1},{COLUMN_NAME:"TIMESHEET_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("TimesheetPeriod"),DISPLAY_ORDER:2},{COLUMN_NAME:"TRACK_HOURS",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("TrackedHour"),DISPLAY_ORDER:3},{COLUMN_NAME:"BREAK_DURATION",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("BreakHour"),DISPLAY_ORDER:4},{COLUMN_NAME:"TRACK_HOURS",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("FinalTrackedHour"),DISPLAY_ORDER:5},{COLUMN_NAME:"",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("PerDiem"),DISPLAY_ORDER:6},{COLUMN_NAME:"BONUS_AMOUNT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("BonusAmount"),DISPLAY_ORDER:7},{COLUMN_NAME:"STATUS_CODE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:8,settings:{isInSlot:!0}},{COLUMN_NAME:"COMMENTSCOUNT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Comment"),DISPLAY_ORDER:9,settings:{isInSlot:!0}},{COLUMN_NAME:"View",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("View"),DISPLAY_ORDER:10,settings:{isInSlot:!0}}],noRecord:!0,SortBy:"",SortExp:"",GroupData:[],TotalRecords:0,CurrentPage:1,TotalPages:0,SearchuserId:"",userType:"CA",DateTime:"",showData:"",statusCode:"",sortExp:"",sortBy:"",pageSize:10,pageNumber:1,projectId:"",DetailListType:"List",weekDateRange:"",UserData:[],Timesheetdata:[],DataRec:{},SingleUserData:"",headerValue:""}},created(){var t=this;d.bindleftCommonSearchdropdown(this,"CA","USERS"),t.FetchData(),t.LegendArray=[{class:"legend-pending colorboxsquare",text:"Auditable Records"},{class:"legends_profile colorboxsquare",text:"Unpaid Leave Records "},{text:"| The total break hours are shown only if the break is non-billable."}]},methods:{pagerMethod:function(t){this.pageSize=t.PageSize,this.pageNumber=t.PageNumber,this.FetchData()},async FetchData(){var t=this;t.isLoading=!0;var e=`userType=${t.userType}&DateTime=${t.DateTime}&showData=${t.showData}&statusCode=${t.statusCode}&sortBy=${t.sortBy}&sortExp=${t.sortExp}&pageSize=${t.pageSize}&pageNum=${t.pageNumber}&projectId=${t.projectId}&${t.searchCondition}`;await o["a"].TimesheetApprovalList(e).then(e=>{e.data.length>0?(t.TimesheetApprovalList=e.data,t.TimesheetApprovalList.forEach(e=>{var a=t.TimesheetApprovalList.find(t=>t.TRACK_HOURS===e.TRACK_HOURS);a.TRACK_HOURS=t.secondsToTime(e.TRACK_HOURS);var s=t.TimesheetApprovalList.find(t=>t.BREAK_DURATION===e.BREAK_DURATION);s.BREAK_DURATION=t.secondsToTime(e.BREAK_DURATION)}),t.isLoading=!1,t.TotalRecords=e.data[0].TotalRecords,t.TotalPages=Math.ceil(t.TotalRecords/t.pageSize),t.CurrentPage=t.pageNumber,t.noRecord=!1,$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked")):t.TimesheetApprovalList=[],t.isLoading=!1})},ViewHistory(){this.$router.push({name:"ApprovalHistory"})},commonHeaderButtonClick(t){switch(t.callbackfunction){case"Approve":this.AddCommentPopUp(this._data,"Approve");break;case"Reject":this.AddCommentPopUp(this._data,"Reject");break;case"ViewHistory":this.ViewHistory();break}},AddCommentPopUp(t,e){var a="",s=this;s.SingleUserData=t,void 0!=t.TimesheetApprovalList?($(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val(),s.DataRec=t.TimesheetApprovalList.find(t=>t.TIMESHEET_ID==a)})),s.UserData.push(s.DataRec)):this.UserData=[],this.headerValue=e,this.openModal=!0},CloseComment(){this.UserData=[],this.openModal=!1},GeneralTimesheetPopup(t){this.Timesheetdata=t,this.isshowgeneralModal=!0},GeneralTimesheetClosePopup(){this.isshowgeneralModal=!1},actionButtonClick(t,e){},renderActions(t){},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchConditionJson:this.searchCondition="",this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},secondsToTime(t){var e=Math.floor(t/3600),a=t%3600,s=Math.floor(a/60),i=a%60,o=(Math.ceil(i),e+":"+s);return o}}},D=S,k=Object(p["a"])(D,s,i,!1,null,null,null);e["default"]=k.exports},a640:function(t,e,a){"use strict";var s=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&s((function(){a.call(null,e||function(){return 1},1)}))}},d58f:function(t,e,a){"use strict";var s=a("59ed"),i=a("7b0b"),o=a("44ad"),l=a("07fa"),r=TypeError,n=function(t){return function(e,a,n,d){s(a);var c=i(e),m=o(c),u=l(c),h=t?u-1:0,p=t?-1:1;if(n<2)while(1){if(h in m){d=m[h],h+=p;break}if(h+=p,t?h<0:u<=h)throw new r("Reduce of empty array with no initial value")}for(;t?h>=0:u>h;h+=p)h in m&&(d=a(d,m[h],h,c));return d}};t.exports={left:n(!1),right:n(!0)}}}]);
//# sourceMappingURL=chunk-28f5b73d.js.map