(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4269"],{"04e4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"theme-primary partition p-actions-expand overflow-visible"},[t._l(t.dynamicArray,(function(a,i){return t.isHiding?[0==i?e("span",{staticClass:"p-actions float-right mydbsize"},[e("a",{staticClass:"p-action-btn text-white",attrs:{id:"aFillTimeEntry",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to fill time entry."},on:{click:function(e){return t.createMultiRows(a.modeluserid.length-1)}}},[e("i",{staticClass:"fa fa-clock-o pr-2"}),e("br"),e("span",[t._v(t._s(t.$t("FillTimeEntry")))])])]):t._e()]:t._e()}))],2),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-2"},[e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"legends_profile colorboxsquare"}),t._v(" "+t._s(t.$t("OverlapEntry"))+" ")]),e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"legends_high colorboxsquare"}),t._v(" "+t._s(t.$t("FutureEntry"))+" ")]),e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"legends_low colorboxsquare"}),t._v(t._s(t.$t("SavedSuccessfully"))+" ")]),e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"legends_medium colorboxsquare"}),t._v(t._s(t.$t("ExceedOneDayLimit"))+" ")])]),e("div",{staticClass:"table-responsive",staticStyle:{"min-height":"400px"},attrs:{id:"bulkentryMulti"}},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{"min-width":"1200px"},attrs:{id:"tblbulkentry"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticStyle:{"min-width":"230px"}},[e("span",[t._v(t._s(t.$t("Project")))])]),e("th",{staticStyle:{"min-width":"350px"}},[e("span",[t._v(t._s(t.$t("Task")))])]),e("th",{staticStyle:{"min-width":"290px"}},[e("span",[t._v(t._s(t.$t("User")))])]),e("th",{staticStyle:{"min-width":"300px"}},[e("span",[t._v(t._s(t.$t("DESCRIPTION")))])]),e("th",{staticStyle:{"min-width":"150px"}},[e("span",[t._v(" "+t._s(t.$t("IsBillable")))])]),e("th",{staticStyle:{"min-width":"200px"}},[e("span",[t._v(t._s(t.$t("Date")))])]),e("th",{staticClass:"d-none",staticStyle:{"min-width":"180px"}},[e("span",[t._v(t._s(t.$t("Shift")))])]),e("th",{staticStyle:{"min-width":"200px"}},[e("span",[t._v(t._s(t.$t("TotalHours")))])]),e("th",{staticClass:"text-center d-none",staticStyle:{"min-width":"200px"}},[e("span",[t._v(t._s(t.$t("StartTime")))])]),e("th",{staticClass:"text-center d-none",staticStyle:{"min-width":"200px"}},[e("span",[t._v(t._s(t.$t("StopTime")))])]),e("th",{staticClass:"text-center",staticStyle:{"min-width":"92px"}},[e("span",[t._v(t._s(t.$t("Actions")))])])])]),e("tbody",[t._l(t.dynamicArray,(function(a,i){return e("tr",{key:i,staticClass:"visible",attrs:{id:"trdata"+i,crtrwid:"1001"}},[e("td",{staticClass:"align-middle"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.modelprojectid,expression:"item.modelprojectid"}],staticClass:"form-control",staticStyle:{"white-space":"nowrap","padding-right":"20px"},attrs:{name:"ddlProjectsBulk",id:"ddlProjectsBulk"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"modelprojectid",e.target.multiple?i:i[0])},function(e){t.ddlProjectschange(a.modelprojectid),t.getUserByProjectIdAndTaskId(a.modelprojectid,0)}]}},[e("option",{attrs:{value:""}},[t._v("$t('NoProject')")]),t._l(t.projects,(function(a){return e("option",{domProps:{value:a.projectId}},[t._v(t._s(a.projectName))])}))],2)]),e("td",{staticClass:"align-middle",staticStyle:{overflow:"visible !important"}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"w-100 float-left",attrs:{id:"ddlTaskUnassignedN"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.modeltaskid,expression:"item.modeltaskid"}],staticClass:"form-control",attrs:{id:"ddlTaskN"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"modeltaskid",e.target.multiple?i:i[0])}}},[e("option",{attrs:{value:""}},[t._v("$t('UnassignedTask') ")]),t._l(t.TaskData,(function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.text)+" ")])}))],2)]),e("div",{staticClass:"w-100 timersc_ddl tt-select-task",staticStyle:{display:"none"},attrs:{id:"ddlTaskSelectTaskN"}},[e("div",{staticClass:"ht212_hs",attrs:{id:"ddlTask",name:"ddlTask"},on:{change:function(e){return t.getUserByProjectIdAndTaskId(t.modelprojectid,t.modeltaskid)}}}),e("input",{attrs:{type:"hidden",name:"Tasks",id:"hdnddltask",value:""}}),e("input",{attrs:{type:"hidden",name:"isbillable",id:"hdnisbillable",value:""}})])])]),e("td",{staticClass:"align-middle",staticStyle:{overflow:"visible !important"}},[e("multiselect",{directives:[{name:"validate",rawName:"v-validate",value:t.required,expression:"required"}],attrs:{searchable:!0,options:t.options,multiple:!0,placeholder:"Select",label:"name","track-by":"value"},model:{value:a.modeluserid,callback:function(e){t.$set(a,"modeluserid",e)},expression:"item.modeluserid"}},[e("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v(t._s(t.$t("No_Record_Found")))])])],1),e("td",{staticClass:"align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.modeldescription,expression:"item.modeldescription"}],staticClass:"form-control",attrs:{id:"taskDescription",maxlength:"1000",name:"name",type:"text",onkeypress:"javascript:return NoSpecialCharac(event,this);",autocomplete:"off"},domProps:{value:a.modeldescription},on:{input:function(e){e.target.composing||t.$set(a,"modeldescription",e.target.value)}}}),e("span",{staticClass:"text-danger",attrs:{id:"taskDescriptionError"}})]),e("td",{staticClass:"align-middle"},[e("div",[e("label",{staticClass:"switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.modelisbillable,expression:"item.modelisbillable"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic clschkBillable",class:{toggled:t.isToggled},attrs:{"data-change-id":"no",type:"checkbox",id:"chkBillable",onclick:"javascript:checkbillable(this);",tabindex:"5"},domProps:{checked:Array.isArray(a.modelisbillable)?t._i(a.modelisbillable,null)>-1:a.modelisbillable},on:{click:function(e){t.isToggled=!t.isToggled},change:function(e){var i=a.modelisbillable,s=e.target,l=!!s.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);s.checked?r<0&&t.$set(a,"modelisbillable",i.concat([o])):r>-1&&t.$set(a,"modelisbillable",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a,"modelisbillable",l)}}}),t._m(0,!0)])])]),e("td",{staticClass:"align-middle"},[e("v-date-picker",{staticClass:"timedate input-group",attrs:{name:t.fromDate,"minute-increment":5,maxDate:new Date},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:i,togglePopover:s}){return[e("input",t._g({staticClass:"form-control",attrs:{placeholder:"M/D/YYYY"},domProps:{value:a}},i)),e("div",{staticClass:"input-group-append",on:{click:s}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.modeldate,callback:function(e){t.$set(a,"modeldate",e)},expression:"item.modeldate"}})],1),e("td",{staticClass:"align-middle d-none"},[e("select",{staticClass:"form-control",attrs:{id:"ddlShift",onchange:"javascript:ddlShiftChange(this);",name:"Users"}},[e("option",{attrs:{value:"0"}},[t._v(t._s(t.$t("SelectShift")))]),e("option",{attrs:{value:"1"}},[t._v(t._s(t.$t("FullDay")))]),e("option",{attrs:{value:"2"}},[t._v(t._s(t.$t("HalfDay")))])])]),e("td",{staticClass:"align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.modeltotalhours,expression:"modeltotalhours"}],staticClass:"form-control",attrs:{id:"TotalTimeText",placeholder:"00:00",onblur:"javascript:TotalTimeChange(this);",onclick:"javascript:BlankText(this);",onkeypress:"javascript:onlynumeric(event,this);",onpaste:"javascript:onlynumeric(event,this);",maxlength:"5"},domProps:{value:t.modeltotalhours},on:{input:function(e){e.target.composing||(t.modeltotalhours=e.target.value)}}}),e("span",{staticClass:"text-danger",attrs:{id:"totalTimeTextError"}})]),t._m(1,!0),t._m(2,!0),e("td",{staticClass:"text-center align-middle single-action"},[t.isShowing?e("a",{staticClass:"p-1",attrs:{title:"",href:"javascript:;",id:"aEntryClone","data-toggle-tooltip":"tooltip","data-original-title":"Clone"},on:{click:function(e){return t.copyArray(a)}}},[e("i",{staticClass:"fa fa-copy action-icon"})]):t._e(),e("a",{staticClass:"p-1",attrs:{title:"",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Clear all "},on:{click:function(e){return t.resetArray(i)}}},[e("i",{staticClass:"fa fa-undo text-danger action-icon"})]),e("a",{staticClass:"p-1",attrs:{title:"",href:"javascript:;",id:"aEntryDelete","data-toggle-tooltip":"tooltip","data-original-title":"Delete"},on:{click:function(e){return t.deleteItem(i)}}},[e("i",{staticClass:"fa fa-times-circle text-danger action-icon"})])])])})),t._m(3)],2)])])]),t.isShowing?e("div",{staticClass:"row flex-row-reverse mt-2 visible",attrs:{id:"divaddnew"}},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-primary formbtn p-1",attrs:{id:"aAddnewLine",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to add new row."},on:{click:function(e){return t.addRowArray()}}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("Add")))]),e("a",{staticClass:"btn btn-success formbtn widthhalf text-white p-1",attrs:{id:"btnSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to save record"},on:{click:function(e){return t.SubmitBulkTimeEntry()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),e("a",{staticClass:"btn btn-danger formbtn widthhalf p-1",attrs:{id:"btnReset",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to reset screen"},on:{click:function(e){return t.resetRowArray()}}},[e("i",{staticClass:"fa fa-refresh pr-2"}),t._v(t._s(t.$t("Reset")))])])]):t._e()])},s=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"slider round off"},[e("span",{staticClass:"slider-yes"},[t._v("$t('Yes')")]),e("span",{staticClass:"slider-no"},[t._v("$t('No')")])])},function(){var t=this,e=t._self._c;return e("td",{staticClass:"align-middle d-none"},[e("div",{staticClass:"Starttime",attrs:{id:"divStarttime"}},[e("input",{staticClass:"form-control btn-time text-center",attrs:{type:"text",id:"txtStartTime",disabled:"disabled",placeholder:"H:MM TT",onblur:"javascript:ChangeStartTime(this);",autocomplete:"off"}})]),e("div",{staticStyle:{display:"none"},attrs:{id:"divStarttime24 d-none"}},[e("input",{staticClass:"form-control btn-info text-center",attrs:{name:"",type:"text",placeholder:"HH:MM:SS",id:"txtStartTime24",onblur:"javascript:AddTimeBlur(this);",onfocus:"javascript:onFocus(this);",autocomplete:"off"}})])])},function(){var t=this,e=t._self._c;return e("td",{staticClass:"align-middle d-none"},[e("div",{staticClass:"Starttime",attrs:{id:"divStoptime"}},[e("input",{staticClass:"form-control btn-time text-center",attrs:{type:"text",id:"txtStopTime",placeholder:"H:MM TT",disabled:"disabled",autocomplete:"off"}}),e("span",{staticClass:"text-danger",attrs:{id:"stoptimeError"}})]),e("div",{staticStyle:{display:"none"},attrs:{id:"divStoptime24"}},[e("input",{staticClass:"form-control btn-info text-center",attrs:{name:"input",type:"text",placeholder:"HH:MM:SS",id:"txtStopTime24",onblur:"AddTimeBlur(this);",onfocus:"onFocus(this);",autocomplete:"off"}})])])},function(){var t=this,e=t._self._c;return e("tr",{staticClass:"overflowhidden innerwhitebase d-none",staticStyle:{display:"table-row"},attrs:{id:"overlapdiv"}},[e("td",{staticClass:"bulkgroupbg widthauto",attrs:{colspan:"11"}},[t._v(" Loading..... "),e("input",{attrs:{type:"hidden",id:"hdnUserType",value:"CA"}})])])}],l=(a("14d9"),a("9769")),o=a("8e5f"),r=a.n(o),d={components:{Multiselect:r.a},data(){return{isLoading:!1,projects:[],modelprojectid:null,TaskData:[],value:[],UserList:[],isShowing:!1,isHiding:!0,options:[],multiselectArray:[],dynamicArray:[{modelprojectid:"",modeltaskid:"",modeluserid:"",modeldescription:"",modelisbillable:"",modeldate:new Date,modeltotalhours:"",count:1}],isToggled:!1}},created(){this.getProjects(),this.getUserByProjectIdAndTaskId(0,0)},methods:{async getProjects(){var t=this;t.isLoading=!0,await l["a"].GetTimerProjectsByUserID().then((function(e){t.projects=e.data.res}))},async ddlProjectschange(t){var e=this;e.isLoading=!0;var a=`projectId=${t}&userId=0&isFor=bulktimeentry`;console.log(a),await l["a"].LoadTask(a).then((function(t){console.log(t),e.TaskData=t.data}))},async getUserByProjectIdAndTaskId(t,e){var a=this;a.isLoading=!0;var i=`projectId=${t}&taskId=${e}`;await l["a"].getUserByProjectIdAndTaskId(i).then((function(t){var e=t.data;e.forEach((t,e)=>{var i={value:t.id,name:t.strUserName};a.options.push(i)})}))},createMultiRows(t){if(t>=0){var e=this,a=[];e.dynamicArray[0].modeluserid.forEach((t,e)=>{e>0&&a.push(t)}),e.dynamicArray[0].modeluserid.splice(1);for(let i=0;i<t;i++)e.dynamicArray.push({modelprojectid:e.dynamicArray[i].modelprojectid,modeltaskid:e.dynamicArray[i].modeltaskid,modeluserid:a[i],modeldescription:e.dynamicArray[i].modeldescription,modelisbillable:e.dynamicArray[i].modelisbillable,modeldate:e.dynamicArray[i].modeldate,modeltotalhours:"",count:1});e.isShowing=!0,e.isHiding=!1}},copyArray(t){var e=this,a={modelprojectid:t.modelprojectid,modeltaskid:t.modeltaskid,modeluserid:t.modeluserid,modeldescription:t.modeldescription,modelisbillable:t.modelisbillable,modeldate:t.modeldate,modeltotalhours:t.modeltotalhours,count:1};e.dynamicArray.push(a)},addRowArray(){var t=this,e={modelprojectid:"",modeltaskid:"",modeluserid:"",modeldescription:"",modelisbillable:"",modeldate:new Date,modeltotalhours:"",count:1};t.dynamicArray.push(e)},resetRowArray(){var t=this;t.dynamicArray=[];var e={modelprojectid:"",modeltaskid:"",modeluserid:"",modeldescription:"",modelisbillable:"",modeldate:new Date,modeltotalhours:"",count:1};t.dynamicArray.push(e),t.isShowing=!1,t.isHiding=!0},resetArray(t){var e=this;e.dynamicArray.forEach((a,i)=>{t==i&&(e.dynamicArray[t].modelprojectid="",e.dynamicArray[t].modeltaskid="",e.dynamicArray[t].modeluserid="",e.dynamicArray[t].modeldescription="",e.dynamicArray[t].modelisbillable="",e.dynamicArray[t].modeldate="",e.dynamicArray[t].modeltotalhours="")})},deleteItem(t){var e=this;1==e.dynamicArray.length?e.ShowAlert(e.$t("DeletedErrorBulkEntry",[e.$t("val")]),"failure",!0,e.$t("Alert")):e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("ApplicationId"),(function(){e.dynamicArray.splice(t,1)}))},async SubmitBulkTimeEntry(){var t=[],e=this;e.dynamicArray.forEach((e,a)=>{var i=0;i=0==a?e.modeluserid[0].value:e.modeluserid.value;var s={project_id:e.modelprojectid,bulk_track_id:e.count,task_id:e.modeltaskid,user_id:i,track_description:e.modeldescription,track_start_date:e.modeldate,is_billable:e.modelisbillable,starttimeseconds:"",track_hours:e.modeltotalhours};t.push(s)});var a=JSON.stringify(t);await l["a"].SubmitBulkTimeEntry(a).then(t=>{"SUCCESS"==t.data.result.MSG?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Status")]),"success",!0,e.$t("Alert")),e.Close()):(e.ShowAlert(vm.$t("ErrorWhileSavingRecords",[e.$t("Status")]),"failure",!0,e.$t("Alert")),e.Close())})}}},n=d,c=a("2877"),m=Object(c["a"])(n,i,s,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0a4269.js.map