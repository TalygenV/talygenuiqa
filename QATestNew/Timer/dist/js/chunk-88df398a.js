(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88df398a"],{"0a63":function(e,t,a){"use strict";a("3293")},3293:function(e,t,a){var i=a("6ab0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("6d8165f0",i,!0,{sourceMap:!1,shadowMode:!1})},"6ab0":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.custom-low-bar>td:first-child:after{width:3px;content:"";height:calc(100% - 6px);background:#c7d321;display:block;position:absolute;left:0;top:3px}',""]),e.exports=t},b048:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("tg-list",{attrs:{IsShowAction:!0,showCheckBox:!0,listType:["List","Card"],ModuleName:"Timer",SubModuleCode:"Timer",IdentityColumn:"ApplicationId",HeaderText:"Used Application",ListData:e.shortListed,HeaderData:e.Headers,widgets:e.widgets,callbackfunction:e.FetchData,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchData,LegendArray:e.LegendArray,SortExp:e.sortExp,SortBy:e.sortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["ProductivityForDepartment"==a.column.COLUMN_NAME?[t("div",[a.row.IsDisabled?t("em",{staticClass:"fa fa-eye text-primary",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.ShowProductivityDepartment(a)}}}):e._e(),a.row.IsDisabled?e._e():t("em",{staticClass:"fa fa-eye text-secondary",attrs:{"aria-hidden":"true"}})])]:e._e(),"ApplicationName"==a.column.COLUMN_NAME?[t("div",{staticClass:"pin pr-2 d-inline-block"},["Pin"==a.row.PinStatus?t("em",{staticClass:"fa fa-thumb-tack",staticStyle:{cursor:"pointer"},attrs:{"aria-hidden":"true"},on:{click:function(t){return e.UnPinData(a.row)}}}):e._e()]),t("div",{class:a.row.icon_class?"appicon "+a.row.icon_class:"appicon default"}),t("a",{attrs:{href:"",title:a.row.application_display_name}},[e._v(" "+e._s(e.TruncateStr(a.row.application_display_name,20))+" ")])]:e._e()]}},{key:"customcard",fn:function({data:a}){return[t("div",{staticClass:"card-box",style:{"border-color":a.row.color_code}},[t("div",{staticClass:"card-number"},[t("div",{class:{"custom-control custom-checkbox":!0,disabled:a.row.IsDisabled}},[t("input",{staticClass:"chkitems custom-control-input",staticStyle:{display:"none"},attrs:{id:"chkAll_"+a.row.ApplicationId,type:"checkbox"},domProps:{value:a.row.ApplicationId}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chkAll_"+a.row.ApplicationId}})]),t("div",{class:a.row.icon_class?"appicon "+a.row.icon_class:"appicon default"}),e._v(" "+e._s(a.row.application_display_name)+" ")]),t("div",{staticClass:"card-detail-main filterscrollForCardView"},[t("div",{staticClass:"card-detail",attrs:{"data-isfsm":"locating"}},[t("em",{staticClass:"fa fa-newspaper-o"}),t("span",[e._v("Category - "+e._s(null==a.row.category_name?"N/A":a.row.category_name))]),t("span")]),t("div",{staticClass:"card-detail"},[t("em",{staticClass:"fa fa-pie-chart"}),t("span",[e._v("Productivity For Department -")]),a.row.IsDisabled?t("span",{on:{click:function(t){return e.ShowProductivityDepartment(a)}}},[t("em",{class:1==e.checkIsdesabled?"fa fa-eye text-primary":"fa fa-eye text-primary disabled"}),e._v(" View ")]):e._e(),a.row.IsDisabled?e._e():t("span",[t("em",{class:"fa fa-eye text-secondary disabled"}),e._v(" View ")])]),t("div",{staticClass:"card-detail"},[t("em",{staticClass:"fa fa-clock-o"}),t("span",[e._v("Usage Time - "+e._s(a.row.TimeDuration)+" ")])])])])]}}])}),e.IsProductivityDepartment?t("ProductivityForDepartment",{attrs:{AssignDpt:e.AssignDpt}}):e._e(),e.IsAssignDepartment?t("AssignDepartment",{attrs:{selectedRecordValues:e.selectedRecordValues,AssignDpt:e.AssignDpt}}):e._e()],1)},s=[],r=(a("14d9"),a("9769"));let o=[{title:"Assign Department",iconClass:"fa fa-server",callbackfunction:"AssignDepartmentClick",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,isEnabledOnSelectedRow:!0},{title:"View History",iconClass:"fa fa-history",callbackfunction:"ViewHistory",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Delete",iconClass:"fa fa-trash",callbackfunction:"DeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,isEnabledOnSelectedRow:!0}],n=[{fieldName:"Application Type",fieldType:"radio",fieldIcon:"fa fa-users",paramName:"userIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"User",fieldType:"ddl-check",fieldIcon:"fa fa-user",paramName:"userIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Application",fieldType:"ddl-check",fieldIcon:"fa fa-suitcase",paramName:"applicationIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Department",fieldType:"ddl-check",fieldIcon:"fa fa-suitcase",paramName:"departmentIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Project",fieldType:"ddl-check",fieldIcon:"fa fa-suitcase",paramName:"projectIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Category",fieldType:"ddl-check",fieldIcon:"fa fa-suitcase",paramName:"categoryIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"From Date",fieldType:"date",fieldIcon:"fa fa-calendar",paramName:"fromDate",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"To Date",fieldType:"date",fieldIcon:"fa fa-calendar",paramName:"to_date",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}],l=[{title:"Pin",icon:"fa fa-thumb-tack",callbackfunction:"PinData",additionalSpan:"",isVisible:!0},{title:"Edit",callbackfunction:"Editdata",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isVisible:!0},{title:"Delete",icon:"fa fa-trash",callbackfunction:"DeleteData",additionalSpan:"",isVisible:!0},{}];function c(e,t,a){var i=e;if("USERS"==a){var s=`id=&modulename=${t}&type=${a}&search=&refId=`;r["a"].GetDDLData(s).then((function(e){let t={};e.data.DATA.forEach(e=>{t={name:e.name,value:""+e.value},i.leftSearchFields[1].listOptions.push(t)})}))}var o="pageSize=1000&sortBy=ApplicationName&sortExp=ASC";if("Application"==a&&r["a"].GetScreenShotListing(o).then(e=>{var t=e.data;null!=t&&t.forEach((function(e,t){i.leftSearchFields[2].listOptions.push({name:e.application_display_name,value:e.ApplicationId})}))}),"DEPARTMENT"==a){s=`id=&modulename=${t}&type=${a}&search=&refId=`;r["a"].GetDDLData(s).then((function(e){let t={};e.data.DATA.forEach(e=>{t={name:e.name,value:e.value},i.leftSearchFields[3].listOptions.push(t)})}))}if("PROJECT"==a){s=`id=&modulename=${t}&type=${a}&search=&refId=`;r["a"].GetDDLData(s).then((function(e){let t={};e.data.DATA.forEach(e=>{t={name:e.name,value:e.value},i.leftSearchFields[4].listOptions.push(t)})}))}if("Category"==a){o="pageSize=500&sortBy=category_name&sortExp=ASC";r["a"].GetCategoryListing(o).then((function(e){JSON.parse(e.data).data.forEach(e=>{let t={name:e.category_name,value:""+e.category_id};i.leftSearchFields[5].listOptions.push(t)})}))}if("Application Type"==a){var n=[{name:"All",value:null},{name:"Apps ",value:0},{name:"Websites",value:1}];n.forEach(e=>{i.leftSearchFields[0].listOptions.push({name:e.name,value:""+e.value}),i.leftSearchFields[0].value=null})}}var d={buttons:o,listActions:l,leftsearchSchema:n,bindleftCommonSearchdropdown:c},p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("ProductivityForDepartment"))+" ")]),t("button",{staticClass:"close",on:{click:e.closePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"listing py-3 px-3"},[t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[e._m(0),t("tbody",[e._l(e.tagArrObj,(function(a){return t("tr",{key:a.department_name},[t("td",[t("span",{staticClass:"text-overflow-dynamic-container-text-center"},[e._v(" "+e._s(a.product_name_productive)+" ")])]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.product_name_unproductive)+" ")])]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.product_name_neutral)+" ")])])])})),t("tr")],2)])])])])])])])},u=[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v("Productive")])]),t("th",{staticClass:"nonresize"},[t("span",[e._v("Unproductive")])]),t("th",{staticClass:"nonresize",attrs:{"data-width":"5%"}},[t("span",[e._v("Neutral")])])])])}],m={props:{AssignDpt:{type:Array,required:!0}},data(){return{NoRecordLength:0,TagsSelectedArray:[],tagArrObj:[]}},created:function(){this.FetchData(this.AssignDpt)},methods:{FetchData:function(e){var t=this,a="applicationId="+e;r["a"].GetAssignDepartmentByApplicationId(a).then(e=>{t.TagsSelectedArray=e.data;var a=[],i=t.TagsSelectedArray.filter(e=>"Productive"==e.productive_type);a.push(i.length);var s=t.TagsSelectedArray.filter(e=>"UnProductive"==e.productive_type);a.push(s.length);var r=t.TagsSelectedArray.filter(e=>"Neutral"==e.productive_type);a.push(r.length);var o=a.sort((function(e,t){return e>t?1:e<t?-1:0})).slice(-1);for(l=0;l<o;l++){var n={product_name_productive:"",product_name_unproductive:"",product_name_neutral:""};t.tagArrObj.push(n)}for(var l=0;l<i.length;l++)t.tagArrObj[l].product_name_productive=i[l].department_name;for(l=0;l<s.length;l++)t.tagArrObj[l].product_name_unproductive=s[l].department_name;for(l=0;l<r.length;l++){n={};t.tagArrObj[l].product_name_neutral=r[l].department_name}})},closePopup(){var e=this;e.$parent.CloseProductivity()}}},h=m,v=a("2877"),f=Object(v["a"])(h,p,u,!1,null,null,null),D=f.exports,g=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("AssignDepartment"))+" ")]),t("button",{staticClass:"close",on:{click:e.closePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"listing py-3 px-3"},[e.DataLoaded?t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}):e._e()],1)])])])])],1)},y=[],_={props:{selectedRecordValues:{type:Array,required:!0},AssignDpt:{type:Array,required:!0}},data(){return{FormSchema:[{layoutType:"triple",Data:[{astype:"CustomSelectField",label:this.$t("AppWebsite"),name:"AppWebsite",value:"",mode:"tag",placeholder:"",config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Category"),name:"category_id",value:"",placeholder:"",config:{options:[]}},{astype:"NumericField",label:this.$t("MaxDuration"),name:"max_duration",value:"",placeholder:""}]},{layoutType:"triple",Data:[{astype:"MultiSelectField",label:this.$t("Productive"),name:"Productive",value:"",mode:"tag",placeholder:"",config:{options:[],onChange:this.onChangeDepartment,onRemove:this.removeRecord},validationRules:{required:!0}},{astype:"MultiSelectField",label:this.$t("UnProductive"),name:"UnProductive",value:"",mode:"tag",placeholder:"",config:{options:[],onChange:this.onChangeDepartment,onRemove:this.removeRecord},validationRules:{required:!0}},{astype:"MultiSelectField",label:this.$t("Neutral"),name:"Neutral",value:"",mode:"tag",placeholder:"",config:{options:[],onChange:this.onChangeDepartment,onRemove:this.removeRecord},validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],DataLoaded:0,TagsSelectedArray:[],departmentList:[],newDepartmentlist:[],ListData:[],TagsSelectedArray1:[],tagsData:[],TagsSelectedArray2:[],TagsSelectedArray3:[],MultiArray:[],obj:"",isLoading:!1}},created:function(){this.GetDepartmentName(),this.pushList(),this.GetCategoryList(),this.FetchData(this.AssignDpt),this.DataLoaded=1},methods:{FetchData:function(e){var t=this;t.isLoading=!0;var a=void 0==e||void 0==e.ApplicationId?0:e.ApplicationId,i="applicationId="+a;r["a"].GetAssignDepartmentByApplicationId(i).then(a=>{if(void 0!=e&&void 0!=e.ApplicationId){var i={name:e.category_name,value:e.category_id};t.FormSchema[0].Data[1].value=i.value;var s=e.max_duration;t.FormSchema[0].Data[2].value=s;var r={label:e.application_display_name,value:e.ApplicationId};t.FormSchema[0].Data[0].value=r}t.tagsData=a.data,t.tagsData.forEach((e,a)=>{t.newDepartmentlist.forEach((a,i)=>{"Productive"==e.productive_type?e.department_id==a.value&&(t.newDepartmentlist[i].label=e.department_name,t.newDepartmentlist[i].value=e.department_id,t.newDepartmentlist[i].productive_type="Productive"):"UnProductive"==e.productive_type?e.department_id==a.value&&(t.newDepartmentlist[i].label=e.department_name,t.newDepartmentlist[i].value=e.department_id,t.newDepartmentlist[i].productive_type="UnProductive"):"Neutral"==e.productive_type&&e.department_id==a.value&&(t.newDepartmentlist[i].label=e.department_name,t.newDepartmentlist[i].value=e.department_id,t.newDepartmentlist[i].productive_type="Neutral")})}),this.FormSchema[1].Data[0].config.options=this.newDepartmentlist.filter(e=>null==e.productive_type||"Productive"==e.productive_type),this.FormSchema[1].Data[1].config.options=this.newDepartmentlist.filter(e=>null==e.productive_type||"UnProductive"==e.productive_type),this.FormSchema[1].Data[2].config.options=this.newDepartmentlist.filter(e=>null==e.productive_type||"Neutral"==e.productive_type),this.FormSchema[1].Data[0].value=this.newDepartmentlist.filter(e=>"Productive"==e.productive_type),this.FormSchema[1].Data[1].value=this.newDepartmentlist.filter(e=>"UnProductive"==e.productive_type),this.FormSchema[1].Data[2].value=this.newDepartmentlist.filter(e=>"Neutral"==e.productive_type),this.validateForm(),t.isLoading=!1})},onChangeDepartment(e,t){if("Productive"==t.name){let e=this.newDepartmentlist.map(e=>e.name).indexOf(event.target.textContent);this.newDepartmentlist[e].productive_type="Productive"}if("UnProductive"==t.name){let e=this.newDepartmentlist.map(e=>e.name).indexOf(event.target.textContent);this.newDepartmentlist[e].productive_type="UnProductive"}if("Neutral"==t.name){let e=this.newDepartmentlist.map(e=>e.name).indexOf(event.target.textContent);this.newDepartmentlist[e].productive_type="Neutral"}this.FormSchema[1].Data[0].config.options=this.newDepartmentlist.filter(e=>null==e.productive_type||"Productive"==e.productive_type),this.FormSchema[1].Data[1].config.options=this.newDepartmentlist.filter(e=>null==e.productive_type||"UnProductive"==e.productive_type),this.FormSchema[1].Data[2].config.options=this.newDepartmentlist.filter(e=>null==e.productive_type||"Neutral"==e.productive_type),this.validateForm()},removeRecord(e,t,a){var i=this;let s=i.newDepartmentlist.map(e=>e.value).indexOf(e.value);"Productive"==a.name&&(i.newDepartmentlist[s].productive_type=null),"UnProductive"==a.name&&(i.newDepartmentlist[s].productive_type=null),"Neutral"==a.name&&(i.newDepartmentlist[s].productive_type=null),i.FormSchema[1].Data[0].config.options=i.newDepartmentlist.filter(e=>null==e.productive_type||"Productive"==e.productive_type),i.FormSchema[1].Data[1].config.options=i.newDepartmentlist.filter(e=>null==e.productive_type||"UnProductive"==e.productive_type),i.FormSchema[1].Data[2].config.options=i.newDepartmentlist.filter(e=>null==e.productive_type||"Neutral"==e.productive_type),this.validateForm()},validateForm(){var e=this;e.newDepartmentlist.filter(e=>"Productive"==e.productive_type).length>0&&(this.FormSchema[1].Data[1].validationRules.required=!1,this.FormSchema[1].Data[2].validationRules.required=!1),e.newDepartmentlist.filter(e=>"UnProductive"==e.productive_type).length>0&&(this.FormSchema[1].Data[0].validationRules.required=!1,this.FormSchema[1].Data[2].validationRules.required=!1),e.newDepartmentlist.filter(e=>"Neutral"==e.productive_type).length>0&&(this.FormSchema[1].Data[0].validationRules.required=!1,this.FormSchema[1].Data[1].validationRules.required=!1),0==e.newDepartmentlist.filter(e=>"Productive"==e.productive_type).length&&0==e.newDepartmentlist.filter(e=>"UnProductive"==e.productive_type).length&&0==e.newDepartmentlist.filter(e=>"Neutral"==e.productive_type).length&&(this.FormSchema[1].Data[0].validationRules.required=!0,this.FormSchema[1].Data[1].validationRules.required=!0,this.FormSchema[1].Data[2].validationRules.required=!0)},async onSubmit(e,t){var a=this;if(a.isLoading=!0,null!=a.AssignDpt)var i=a.AssignDpt.ApplicationId;else i=0;var s=new FormData;e.Productive.forEach(e=>{let t={department_id:e.value,productive_type:"Productive"};a.MultiArray.push(t)}),e.UnProductive.forEach(e=>{let t={department_id:e.value,productive_type:"UnProductive"};a.MultiArray.push(t)}),e.Neutral.forEach(e=>{let t={department_id:e.value,productive_type:"Neutral"};a.MultiArray.push(t)});var o={};o=(e.category_id,{DepartmentAssignId:0,AppId:void 0==i?0:i,CategoryId:e.category_id,MaxDration:void 0==e.max_duration?0:e.max_duration,Websites:Array.prototype.map.call(e.AppWebsite,(function(e){return e.value})).join(","),Productivity:a.MultiArray}),s.append("postString",JSON.stringify(o)),await r["a"].SaveAssignDepartment(o).then(e=>{a.isLoading=!1,1==e.data.status?(a.ShowAlert(a.$t("Departmentsuccessfullyassigned"),"success",!1,a.$t("Alert")),a.$parent.FetchData(),a.closePopup()):2==e.data.status?(a.ShowAlert(a.$t("Departmentsuccessfullyupdated"),"success",!0,a.$t("Alert")),a.$parent.FetchData(),a.closePopup()):a.ShowAlert(a.$t("Failure"),"error",!0,a.$t("Alert"))})},async GetCategoryList(){var e=this;e.isLoading=!0;var t="pageSize=500&sortBy=category_name&sortExp=ASC";await r["a"].GetCategoryListing(t).then((function(t){JSON.parse(t.data).data.forEach(t=>{e.obj={name:t.category_name,value:t.category_id},e.FormSchema[0].Data[1].config.options.push(e.obj)}),e.isLoading=!1}))},async GetDepartmentName(){var e=this;e.isLoading=!0;await r["a"].GetDepartmentList().then(t=>{e.departmentList=t.data,e.departmentList.forEach(t=>{e.newDepartmentlist.push({name:t.text,value:t.value,productive_type:null})}),e.FormSchema[1].Data[0].config.options=e.newDepartmentlist.filter(e=>null==e.productive_type||"Productive"==e.productive_type),e.FormSchema[1].Data[1].config.options=e.newDepartmentlist.filter(e=>null==e.productive_type||"UnProductive"==e.productive_type),e.FormSchema[1].Data[2].config.options=e.newDepartmentlist.filter(e=>null==e.productive_type||"Neutral"==e.productive_type),e.isLoading=!1}).catch(e=>{console.error(e)})},closePopup(){var e=this;e.TagsSelectedArray=[],e.selectedRecordValues=[],e.$parent.CloseAssignDepartmentClick()},pushList(){var e=this;e.isLoading=!0;e.selectedRecordValues.forEach(t=>{e.TagsSelectedArray.push({label:t.application_display_name,value:t.ApplicationId}),e.FormSchema[0].Data[0].config.options.push({name:t.application_display_name,value:t.ApplicationId})}),e.FormSchema[0].Data[0].value=e.TagsSelectedArray,void 0==e.AssignDpt&&(e.selectedRecordValues.length>0?""==e.selectedRecordValues[0].category_id?e.FormSchema[0].Data[1].value="":e.FormSchema[0].Data[1].value=e.selectedRecordValues[0].category_id:""==e.selectedRecordValues[0].category_id?e.FormSchema[0].Data[1].value="":e.FormSchema[0].Data[1].value=e.selectedRecordValues.category_id),e.isLoading=!1}}},A=_,S=Object(v["a"])(A,g,y,!1,null,null,null),b=S.exports,C={components:{ProductivityForDepartment:D,AssignDepartment:b},data(){return{leftSearchFields:d.leftsearchSchema,listActions:d.listActions,shortListed:[],Headers:[{COLUMN_NAME:"ApplicationName",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ApplicationWebsite"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"category_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Category"),DISPLAY_ORDER:2},{COLUMN_NAME:"TimeDuration",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("UsageTime"),DISPLAY_ORDER:3},{COLUMN_NAME:"ProductivityForDepartment",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductivityForDepartment"),DISPLAY_ORDER:3,settings:{isInSlot:!0}}],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,sortBy:"",sortExp:"ASC",pageSize:10,pageNum:1,applicationCode:"",legendProgress:[{class:"",backgroundColor:"#17a2b8",name:"Draft"},{class:"legend-Progress",backgroundColor:"",name:"Approved"},{class:"legend-pending",backgroundColor:"",name:"Pending"},{class:"",backgroundColor:"#fe6847",name:"SendForCorrection"},{class:"",backgroundColor:"#ee1313",name:"Rejected"}],LegendArray:[],PageSizeOption:null,listheaderbuttons:d.buttons,UsedApplicationData:[],isLoading:!1,IsProductivityDepartment:!1,IsAssignDepartment:!1,isCategoryVisible:!1,DetailListType:"List",selectedRecordValues:[],checkIsdesabled:!1,colorCode:"",datepicker:!1,fromDate:"",ToDate:"",widgets:[],PinJson:[],UnPinJson:[]}},created(){d.bindleftCommonSearchdropdown(this,"Timer","From Date"),d.bindleftCommonSearchdropdown(this,"Timer","To Date"),d.bindleftCommonSearchdropdown(this,"Timer","Application Type"),d.bindleftCommonSearchdropdown(this,"Timer","USERS"),d.bindleftCommonSearchdropdown(this,"Timer","Application"),d.bindleftCommonSearchdropdown(this,"Timer","DEPARTMENT"),d.bindleftCommonSearchdropdown(this,"Timer","PROJECT"),d.bindleftCommonSearchdropdown(this,"Timer","Category"),this.FetchData()},methods:{async onDateChange(e){var t=this;t.fromDate=new Date(e),t.fromDate=t.ConvertDateFormat(t.fromDate),t.ToDate=t.fromDate+" 23:59:00",await t.GetAllAPiMethods()},AssignDepartmentClick(){var e=this;e.shortListed.length>0&&($(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.selectedRecordValues.push(e.shortListed.find(e=>e.ApplicationId==this.value))})),e.IsAssignDepartment=!0)},EditAssignDepartmentClick:function(e){var t=this;t.AssignDpt=e,t.IsAssignDepartment=!0},CloseAssignDepartmentClick(){var e=this;e.selectedRecordValues=[],e.AssignDpt=[],e.IsAssignDepartment=!1},ShowProductivityDepartment(e){var t=this;t.AssignDpt=e.row.ApplicationId,t.IsProductivityDepartment=!0},CloseProductivity(){var e=this;e.IsProductivityDepartment=!1},async FetchData(){var e=this;e.isLoading=!0;var t=`pageSize=${e.pageSize}&pageNum=${e.pageNum}&sortBy=${e.sortBy}&sortExp=${e.sortExp}&is_website=&from_date=&to_date=&${e.searchCondition}`;await r["a"].GetScreenShotListing(t).then(t=>{e.shortListed=t.data,e.shortListed.length>0?(e.shortListed.forEach(t=>{t.additionalClass="",t.color_code&&(e.colorCode=t.color_code,t.additionalClass="custom-low-bar"),t.isCheckBoxDisabled=!1,1==t.IsDisabled&&(t.isCheckBoxDisabled=!0,e.checkIsdesabled=!0)}),e.isLoading=!1,e.TotalRecords=t.data[0].TotalRecords,e.TotalPages=Math.ceil(e.TotalRecords/e.pageSize),e.listheaderbuttons[1].isdisabled=!0,e.listheaderbuttons[3].isdisabled=!0,e.CurrentPage=e.pageNum,e.noRecord=!1,e.isLoading=!1):(e.shortListed=[],e.noRecord=!0,e.isLoading=!1)}),setTimeout((function(){e.CheckBoxBootstrap()}),100)},DeleteData:function(){var e=this,t="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){t.length>0&&(t+=","),t+=$(this).val()})),t.length>0&&e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("ApplicationId"),(function(){let a=`ids=${t}&tableName=TALYGEN_screenshot_detail&primaryKey=track_application_id`;r["a"].Delete(a).then(t=>{t.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),e.ShowAlert(e.$t("DeletedSuccessfully"),"Success",!0,e.$t("Alert"))):e.ShowAlert(e.$t("DeletedError",[e.$t("val")]),"failure",!0,e.$t("Alert")),e.FetchData()})}))},SingleDeleteData:function(e){var t=this;t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("ApplicationId"),(function(){let a=`ids=${e.ApplicationId}&tableName=TALYGEN_screenshot_detail&primaryKey=track_application_id`;r["a"].Delete(a).then(e=>{"DeletedSuccess"==e.data?(t.ShowAlert(t.$t("DeletedSuccessfully"),"Success",!0,t.$t("Alert")),t.$router.push({name:"UsedApplicationListing"}),t.FetchData()):t.ShowAlert(t.$t("DeletedError",[t.$t("val")]),"failure",!0,t.$t("Alert"))})}))},actionButtonClick(e,t){var a=this;switch(e){case"Editdata":a.EditAssignDepartmentClick(t);break;case"DeleteData":a.SingleDeleteData(t);break;case"PinData":a.PinData(t);break}},PinData(e){var t=this;t.isLoading=!0;let a={Id:e.ApplicationId,ModuleName:"Timer_UsedApplication",ActionType:"Pin"};t.PinJson.push(a);let i=JSON.stringify(a);r["a"].ManagePin_UpPin(i).then(e=>{"Success"==e.data.status?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),t.ShowAlert(t.$t("PinSuccess"),"success",!0,t.$t("Alert")),t.FetchData(),t.isLoading=!1):(t.ShowAlert(t.$t("PinUpinError","sdgf"),"warning",!0,t.$t("Alert")),t.isLoading=!1)})},UnPinData(e){var t=this;t.isLoading=!0;let a={Id:e.ApplicationId,ModuleName:"Timer_UsedApplication",ActionType:"UnPin"};t.PinJson.push(a);let i=JSON.stringify(a);r["a"].ManagePin_UpPin(i).then(e=>{"Success"==e.data.status?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),t.ShowAlert(t.$t("UnPinSuccess"),"success",!0,t.$t("Alert")),t.FetchData(),t.isLoading=!1):(t.ShowAlert(t.$t("PinUpinError","sdgf"),"warning",!0,t.$t("Alert")),t.isLoading=!1)})},renderActions(e){var t=this;let a=[];return t.listActions.forEach(t=>{let i={...t};switch(i.title){case"Pin":"Pin"==e.PinStatus?(i.IsDisabled=!1,i.callbackfunction="",i.icon="fa fa-thumb-tack disabled"):(i.callbackfunction="PinData",i.icon="fa fa-thumb-tack");break;case"Edit":i.isVisible=!0,e.IsDisabled?(i.callbackfunction="Editdata",i.icon="fa fa-pencil text-success action-icon"):(i.callbackfunction="",i.icon="fa fa-pencil disabled text-success action-icon");break;case"Delete":i.isVisible=!0;break;default:i.isVisible=!0;break}a.push(i)}),a},pagerMethod:function(e){this.pageSize=e.PageSize,this.pageNum=e.PageNumber,this.FetchData()},commonHeaderButtonClick(e){switch(e.callbackfunction){case"CardView":this.CardViewListing();break;case"AssignDepartmentClick":this.AssignDepartmentClick();break;case"Editdata":this.Editdata();break;case"DeleteData":this.DeleteData();break;case"ViewHistory":this.ViewHistory();break}},ViewHistory:function(){this.$router.push({name:"HistoryListing"})},CardViewListing(){var e=this;e.DetailListType="Card"},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchConditionJson:this.searchCondition="",this.FetchData()},sortdata:function(e){var t="sort tb_headerSortDown";this.sortBy=e,e===this.sortBy&&(""==this.sortExp?(this.sortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.sortExp?(this.sortExp="DESC",t="sort tb_headerSortUp"):(this.sortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)}}},w=C,P=(a("0a63"),Object(v["a"])(w,i,s,!1,null,null,null));t["default"]=P.exports}}]);
//# sourceMappingURL=chunk-88df398a.js.map