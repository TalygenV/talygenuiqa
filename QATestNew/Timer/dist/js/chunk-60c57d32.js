(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60c57d32","chunk-0db48d68"],{"229d":function(t,a,e){var i=e("b4f3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("322fd29e",i,!0,{sourceMap:!1,shadowMode:!1})},5856:function(t,a,e){"use strict";e("229d")},"5b79":function(t,a,e){var i=e("616b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("6aeb2a40",i,!0,{sourceMap:!1,shadowMode:!1})},"616b":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".current-color-list{display:inline-block;width:17px!important;height:9px!important;background-color:#000;cursor:pointer}.application_dtls .modal-dialog{max-width:250px;position:absolute;left:33%;top:100px}.iconsWrapper .appicon{transform:scale(.7);margin-right:0}.iconsWrapper a{color:#333;font-size:10px}",""]),t.exports=a},"62cf":function(t,a,e){var i=e("ef9d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("57c3cb2a",i,!0,{sourceMap:!1,shadowMode:!1})},6898:function(t,a,e){var i=e("a352");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("6e145ded",i,!0,{sourceMap:!1,shadowMode:!1})},"73cc":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("section",{staticClass:"main-content",attrs:{id:"main-content"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("section",{staticClass:"page-action"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 padding-t_8"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("ImportCategory")))]),a("span",{staticClass:"p-actions float-right"},[a("a",{staticClass:"p-action-btn text-white",attrs:{title:"BacktoList"},on:{click:t.BackTolist}},[a("em",{staticClass:"fa fa-angle-double-left pr-2"}),a("br"),a("span",[t._v(t._s(t.$t("BacktoList")))])])])])])])]),a("div",{staticClass:"user-guide-custom d-none"},[t._v(" "+t._s(t.$t("User_Guide_Import Category"))+" ")]),a("div",{staticClass:"border p-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("DownloadImportCategory"))+":")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"form-control"},[a("i",{staticClass:"fa fa-file-excel-o pr-1 text-success"}),t._v(t._s(t.$t("Import Category"))+".xls ")]),t._m(0)])])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("UploadFile"))+":"),a("span",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"custom-file Import Category"},[a("input",{staticStyle:{position:"absolute",clip:"rect(0px, 0px, 0px, 0px)"},attrs:{type:"file",name:"FileSrc",id:"flAvatar",multiple:"true",tabindex:"-1"},on:{change:function(a){return t.setFile(a)}}}),a("div",{staticClass:"bootstrap-filestyle input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.attachmentName,expression:"attachmentName"}],staticClass:"form-control disabled",attrs:{type:"text",disabled:""},domProps:{value:t.attachmentName},on:{input:function(a){a.target.composing||(t.attachmentName=a.target.value)}}}),a("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"}},[a("span",{staticClass:"group-span-filestyle input-group-btn input-group-text bg-white",attrs:{tabindex:"0"}},[a("label",{staticClass:"mb-0 font-weight-normal",attrs:{title:"Click here to select a file.",for:"flAvatar"}},[t._v(t._s(t.$t("FileControlText")))])]),a("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[a("a",{staticClass:"round-icon-small btn-danger-light",attrs:{href:"javascript:;",title:"Clear"},on:{click:t.Clear}},[a("i",{staticClass:"fa fa-undo"})])])])])])])])])]),a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-info formbtn mr-1",attrs:{href:"javascript:void(0);",title:t.$t("ImportCategoryExcelFile")},on:{click:function(a){return t.UploadImportCategoryFile()}}},[a("i",{staticClass:"fa fa-download pr-2"}),t._v(t._s(t.$t("Import Category")))]),a("a",{staticClass:"btn btn-danger formbtn my-2",attrs:{title:"","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(a){return t.onCancel()}}},[a("i",{staticClass:"fa fa-close mr-2"}),t._v("Cancel")])])])]),0!=t.CategoryTypedata?a("div",{staticClass:"table-responsive mb-3 table-fix-header"},[a("Form",{ref:"formm"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblExpList"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticStyle:{width:"156px","min-width":"120px","max-width":"156px"},attrs:{id:"th-PRODUCTTYPE"}},[a("span",{staticClass:"d-inline-block"},[t._v("Category"),a("span",{staticClass:"d-inline-block"})])]),a("th",{staticStyle:{width:"156px","min-width":"120px","max-width":"156px"},attrs:{id:"th-PRODUCTTYPE"}},[a("span",{staticClass:"d-inline-block"},[t._v("Application/Website"),a("span",{staticClass:"d-inline-block"})])]),a("th",{staticStyle:{width:"156px","min-width":"120px","max-width":"156px"},attrs:{id:"th-PRODUCTTYPE"}},[a("span",{staticClass:"d-inline-block"},[t._v("Color Code"),a("span",{staticClass:"d-inline-block"})])]),a("th",{staticStyle:{width:"156px","min-width":"120px","max-width":"156px"},attrs:{id:"th-PRODUCTTYPE"}},[a("span",{staticClass:"d-inline-block"},[t._v("Category Code"),a("span",{staticClass:"d-inline-block"})])])])]),t._l(t.CategoryTypedata,(function(e,i){return a("tbody",{key:i},["0"!=t.CategoryTypedata.length?a("tr",[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.CategoryName,expression:"item.CategoryName"}],staticClass:"enlarged-textarea",attrs:{type:"text"},domProps:{value:e.CategoryName},on:{input:function(a){a.target.composing||t.$set(e,"CategoryName",a.target.value)}}})]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.ApplicationWebsite,expression:"item.ApplicationWebsite"}],staticClass:"enlarged-textarea",domProps:{value:e.ApplicationWebsite},on:{input:function(a){a.target.composing||t.$set(e,"ApplicationWebsite",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.Colocode,expression:"item.Colocode"}],staticStyle:{width:"90%"},attrs:{type:"text",disabled:!0},domProps:{value:e.Colocode},on:{input:function(a){a.target.composing||t.$set(e,"Colocode",a.target.value)}}}),a("div",{staticClass:"colorpick",staticStyle:{position:"absolute",top:"12px",right:"0","z-index":"1"}},[a("ColourPicker",{attrs:{color:e.colour,"no-input":"",value:e.colour,picker:"compact"},on:{input:function(a){return t.pickerColorChange(a,e)}},model:{value:e.colour,callback:function(a){t.$set(e,"colour",a)},expression:"item.colour"}})],1)]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.Categorycode,expression:"item.Categorycode"}],attrs:{type:"text"},domProps:{value:e.Categorycode},on:{input:function(a){a.target.composing||t.$set(e,"Categorycode",a.target.value)}}})])]):t._e()])}))],2),"0"==t.CategoryTypedata.length?a("div",{staticClass:"text-danger text-center no-record",attrs:{colspan:"10"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()]),a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("div",{staticClass:"search-btm-btn"},[a("a",{staticClass:"btn btn-success formbtn widthhalf",attrs:{id:"aSubmit",href:"javascript:;",tooltip:"Submit",title:"Submit"},on:{click:function(a){return t.SubmitData()}}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v("Submit")]),t._v(" Â "),a("a",{staticClass:"btn btn-danger formbtn my-2",attrs:{id:"aCancel",href:"javascript:;",tooltip:"Cancel",title:"Cancel"},on:{click:t.onCancel}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])])])])],1):t._e()],1)},s=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"input-group-append downloadImport Category"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon2"}},[a("a",{attrs:{href:"https://cogniterblob.blob.core.windows.net/global/SampleFiles/category/sample-file-import-category.xls",download:""}},[a("i",{staticClass:"fa fa-download text-primary"})])])])}],o=(e("14d9"),e("2b0e")),l=function(){var t=this;t._self._c;return t._m(0)},r=[function(){var t=this,a=t._self._c;return a("section",[a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"col-lg-12 float-left px-0"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"ui-resizable",staticStyle:{width:"156px","min-width":"156px","max-width":"156px"}},[a("span",{staticClass:"d-inline-block",staticStyle:{"min-width":"138px"}},[t._v("CategoryName"),a("span",{staticClass:"d-inline-block"},[a("span",{staticClass:"text-danger"},[t._v("*")])])]),a("div",{staticClass:"sizer"}),a("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),a("th",{staticClass:"ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"}},[a("span",{staticClass:"d-inline-block",staticStyle:{"min-width":"67px"}},[t._v("Color"),a("span",{staticClass:"d-inline-block"},[a("span",{staticClass:"text-danger"},[t._v("*")])])]),a("div",{staticClass:"sizer"}),a("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),a("th",{staticClass:"ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"}},[a("span",{staticClass:"d-inline-block",staticStyle:{"min-width":"67px"}},[t._v("ApplicationName"),a("span",{staticClass:"d-inline-block"},[a("span",{staticClass:"text-danger"},[t._v("*")])])]),a("div",{staticClass:"sizer"}),a("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})])])])])]),a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("div",{staticClass:"search-btm-btn"},[a("a",{staticClass:"btn btn-success formbtn widthhalf",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Import from excel file"}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v("Submit")]),t._v(" Â  ")])])])])])])}],n={components:{},data(){return{}},async created(){},methods:{}},c=n,d=e("2877"),p=Object(d["a"])(c,l,r,!1,null,null,null),u=p.exports,h=e("9769"),g=e("fc8b"),m=e.n(g),C={components:{ImportProduct:u,ColourPicker:m.a},data:function(){return{item:{Colocode:""},isLoading:!1,attachmentName:"",filepath:"",CategoryTypedata:[],applicationuser:[],ExcelListData:[],colour:""}},methods:{pickerColorChange(t,a){a.Colocode=t},setFile:function(t){this.attachmentName=t.target.files[0].name,this.file=t.target.files[0],this.excelFileName=t.target.files[0].name},Clear:function(){this.attachmentName=""},BackTolist:function(){var t=this;t.$router.push({name:"CategoryListing"})},onCancel:function(){var t=this;t.$router.push({name:"CategoryListing"})},UploadImportCategoryFile(){var t=this;if(t.$emit("ImportProduct"),""!=$("#flAvatar").val()){var a=$("#flAvatar").val().split("\\").pop(),e=".xls,.xlsx",i=a.replace(/^.*\./,"");e.includes(i)?t.confirmR(t.$t("bulkImportConfirmationMsg"),!0,t.$t("Delete")+"  "+t.$t("REPORT_ID"),(function(){const a=new FormData;a.append("file",t.file),t.isLoading=!0,h["a"].ImportCategorySamplePost(a).then((function(a){t.isLoading=!1;var e=a.data;0==e.Status?(t.filepath=e.Msg,t.ShowImportProduct=""!=t.filepath,t.ImportProductType()):t.ShowAlert(e.Msg,"warning",!0,t.$t("Alert"))})),t.isLoading=!1})):t.ShowAlert(t.$t("InvalidSampleFileUploadMsg",[a,e]),"warning",!0,t.$t("Alert"))}else t.ShowAlert(t.$t("PleaseUploadExcelFile"),"warning",!0,t.$t("Alert"))},ImportProductType:function(){var t=this;t.isLoading=!0;var a=`filepath=${t.filepath}&typeName='ProductType'`;h["a"].BulkUploadCategoryType(a).then(a=>{if(null!=a.data){t.CategoryTypedata=a.data,t.CategoryTypedata.forEach(t=>{t.colour="",null!=t.Colocode&&(t.colour=t.Colocode)});var e=[];for(let a=0;a<t.CategoryTypedata.length;a++)e.push(t.CategoryTypedata[a].ApplicationWebsite);t.applicationuser=e,console.log("ddsfguy",t.applicationuser),t.isLoading=!1}else t.ShowAlert(t.$t("InValidFileUpload"),"warning",t.$t("Alert"))}),t.isLoading=!1},SubmitData(){var t=this;t.isLoading=!0;const a=Object(o["ref"])([]);for(const i of t.CategoryTypedata){const t={CategoryName:i.CategoryName,ApplicationWebsite:i.ApplicationWebsite,Categorycode:i.Categorycode,Description:"",Colocode:i.Colocode,CompanyID:i.CompanyID,UserID:i.UserID,batchid:i.batchid};a.value.push(t)}var e=JSON.stringify(a.value);h["a"].CategoryTypeBulkUploadPost(e).then(a=>{if(1==a.data.status){var e=a.data.msg;t.ShowAlert(t.$t(e),"success",t.$t("Alert"))}else if(0==a.data.status){var i=a.data.category,s=a.data.apllication,o=t.$t("Category Name: ")+i+t.$t("Application Name: ")+s;t.ShowAlert(o+" - "+a.data.msg,t.$t("Alert"))}}),t.isLoading=!1}}},f=C,b=(e("d7db"),Object(d["a"])(f,i,s,!1,null,null,null));a["default"]=b.exports},"9ae1":function(t,a,e){"use strict";e("62cf")},a352:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".enlarged-textarea{width:500px;height:50px}.colorpick{position:absolute;right:19px;top:46%;width:auto!important;height:28px;z-index:1}",""]),t.exports=a},ab95:function(t,a,e){"use strict";e("5b79")},b4f3:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".color-picker-container .dropdown{border:1px solid #abb5bf!important}#color-picker-arrow{bottom:9px!important;right:11px!important}.multiselect__tags{min-height:36px!important;padding:8px 40px 0 8px!important}",""]),t.exports=a},bd4f:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!0,showCheckBox:!0,listType:[t.DetailListType],ModuleName:"Timer",SubModuleCode:"Timer",IdentityColumn:"category_id",HeaderText:"Category",ListData:t.CategorytList,HeaderData:t.Headers,widgets:t.widgets,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,SortExp:t.sortExp,SortBy:t.sortBy,IsFilterApplied:!!t.searchCondition,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:e}){return["status_name"==e.column.COLUMN_NAME?[a("a",{staticClass:"inactive-disabled"},[a("span",{class:{"btn d-inline-block text-center text-truncate btn-success":"Active"==e.row.status_name,"btn d-inline-block text-center text-truncate btn-danger":"Deleted"==e.row.status_name}},[t._v(" "+t._s(e.row[e.column.COLUMN_NAME])+" ")])])]:t._e(),"category_name"==e.column.COLUMN_NAME?[a("span",{staticClass:"current-color-list",style:{backgroundColor:e.row.color_code}}),t._v(" "+t._s(e.row.category_name)+" ")]:t._e(),"applicationWithIcon"==e.column.COLUMN_NAME?[a("div",{staticClass:"d-flex iconsWrapper align-items-center",attrs:{title:""}},[a("span",{attrs:{id:"RemoveSpan",title:""}}),a("div",{staticClass:"d-flex iconsWrapper align-items-center",attrs:{title:""}},[t._l(e.row.applicationFirstThree,(function(e,i){return a("div",{key:i,staticClass:"mr-2"},[a("span",{class:e.icon_class?"appicon "+e.icon_class:"appicon default",attrs:{title:e.application_display_name}}),a("em",{attrs:{title:e.application_display_name}},[t._v(" "+t._s(t.TruncateStr(e.application_display_name,20))+" ")])])})),1==e.row.isVisible?a("span",[a("em",{staticClass:"fa fa-user-o text-dark",attrs:{"aria-hidden":"true","data-toggle":"modal","data-target":"#myModal"+e.row.ROWNUMBER,title:"View More"}})]):a("span",{attrs:{title:""}})],2)]),a("div",{staticClass:"application_dtls position-relative",attrs:{title:"View More"}},[a("div",{staticClass:"modal",attrs:{id:"myModal"+e.row.ROWNUMBER}},[a("div",{staticClass:"modal-dialog",staticStyle:{"max-width":"auto"},attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header p-2 bg-grey",attrs:{title:""}},[a("h6",{staticClass:"modal-title"},[t._v("Apps/Websites")])]),a("div",{staticClass:"modal-body px-2 py-0",staticStyle:{"max-height":"300px","overflow-y":"auto"},attrs:{title:""}},[a("table",{staticClass:"w-100"},[a("tbody",{attrs:{title:""}},t._l(e.row.applicationWithIcon,(function(e,i){return a("tr",{key:i,staticClass:"d-flex iconsWrapper align-items-center"},[a("td",{class:e.icon_class?"appicon "+e.icon_class:"appicon default",attrs:{title:e.application_display_name}}),a("td",{attrs:{title:e.application_display_name}},[t._v(t._s(e.application_display_name))])])})),0)])])])])])])]:t._e()]}}])}),t.IsAssignCategory?a("ManageCategory",{attrs:{CategorytList:t.CategorytList,AssignCat:t.AssignCat}}):t._e()],1)},s=[],o=(e("14d9"),e("9769"));let l=[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Import",iconClass:"fa fa-download",callbackfunction:"ViewImport",additionalClass:"",isdisabled:!1,id:"ImportCategoryID",isvisible:!0,checkPrivilege:!0},{title:"Add New",iconClass:"fa fa-plus",callbackfunction:"AssignCategoryClick",additionalClass:"",isdisabled:!1,id:"AddCategoryID",isvisible:!0,checkPrivilege:!1},{title:"Delete",iconClass:"fa fa-trash",callbackfunction:"DeleteData",additionalClass:"",isdisabled:!0,id:"DeleteCategoryID",isvisible:!0,checkPrivilege:!1,isEnabledOnSelectedRow:!0}],r=[{fieldName:"User",fieldType:"ddl-check",fieldIcon:"fa fa-user",paramName:"user_id",fieldSearchConditionName:["TU.user_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Category",fieldType:"ddl-check",fieldIcon:"fa fa-suitcase",paramName:"category_id",fieldSearchConditionName:["CAT.category_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Department",fieldType:"ddl-check",fieldIcon:"fa fa-suitcase",paramName:"department_id",fieldSearchConditionName:["TU.department_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Project",fieldType:"ddl-check",fieldIcon:"fa fa-suitcase",paramName:"project_id",fieldSearchConditionName:["CAT.category_id"],isSearch:!1,value:"",listOptions:[]}],n=[{title:"Edit",callbackfunction:"Editdata",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isVisible:!0},{title:"Delete",icon:"fa fa-trash",callbackfunction:"DeleteData",additionalSpan:"",isVisible:!0}];function c(t,a,e){var i=t;if("USERS"==e){var s=`id=&modulename=${a}&type=${e}&search=&refId=`;o["a"].GetDDLData(s).then((function(t){let a={};t.data.DATA.forEach(t=>{a={name:t.name,value:t.value},i.leftSearchFields[0].listOptions.push(a)})}))}if("Category"==e){var l="pageSize=500&sortBy=category_name&sortExp=ASC";o["a"].GetCategoryListing(l).then((function(t){i.leftSearchFields[1].listOptions=[],JSON.parse(t.data).data.forEach(t=>{let a={name:t.category_name,value:""+t.category_id};i.leftSearchFields[1].listOptions.push(a)})}))}if("DEPARTMENT"==e){s=`id=&modulename=${a}&type=${e}&search=&refId=`;o["a"].GetDDLData(s).then((function(t){let a={};t.data.DATA.forEach(t=>{a={name:t.name,value:t.value},i.leftSearchFields[2].listOptions.push(a)})}))}if("PROJECT"==e){s=`id=&modulename=${a}&type=${e}&search=&refId=`;o["a"].GetDDLData(s).then((function(t){let a={};t.data.DATA.forEach(t=>{a={name:t.name,value:t.value},i.leftSearchFields[3].listOptions.push(a)})}))}}var d={buttons:l,listActions:n,leftsearchSchema:r,bindleftCommonSearchdropdown:c},p=e("73cc"),u=function(){var t=this,a=t._self._c;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle"},[a("h4",{staticClass:"modal-title pt-1",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("Add"))+" ")]),a("button",{staticClass:"close",on:{click:t.closePopup}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"listing py-3 px-3"},[t.DataLoaded?a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}):t._e()],1)])])])])],1)},h=[],g={props:{AssignCat:{type:Array,required:!0},CategorytList:{type:Array}},data(){return{isLoading:!1,color_code:"",dropdown:[],dropdownArray:[],colour:"",applicationList:[],NewArray:[],FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("Title"),name:"title",value:"",placeholder:"",validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"ColorField",label:this.$t("Selectcolor"),name:"color_code",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}}]},{layoutType:"single",Data:[{astype:"MultiSelectField",label:this.$t("AppWebsite"),name:"app_ids",value:"",mode:"tag",placeholder:"",config:{options:[]}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],DataLoaded:0}},created:async function(){void 0!=this.AssignCat?(this.GetDdlApplicationNotAssigned(this.AssignCat.category_id),await this.EditData(this.AssignCat)):this.GetDdlApplicationNotAssigned(),this.DataLoaded=1},methods:{async GetDdlApplicationNotAssigned(t){var a=this;a.isLoading=!0;var e="";e=void 0==t?0:t;var i="category_id="+e;await o["a"].GetDropdownlistApplicationNotAssigned(i).then(t=>{t.data.data&&t.data.data.forEach(t=>{let e={name:t.ApplicationName,value:t.ApplicationId};a.FormSchema[2].Data[0].config.options.push(e)}),a.isLoading=!1}).catch(t=>{console.error(t)})},EditData(t){var a=this;a.isLoading=!0;var e=[],i="";i=void 0==t.category_id?0:t.category_id;var s="categoryId="+i;o["a"].GetCategoryById(s).then(t=>{var i=JSON.parse(t.data);setTimeout(()=>{a.color_code="";let t={};a.color_code=i.data[0].color_code,a.FormSchema[0].Data[0].value=i.data[0].category_name,a.FormSchema[1].Data[0].value=i.data[0].color_code,i.data[0].applications_list.forEach(i=>{e.push({value:i.application_id,label:i.application_display_name}),t={name:i.application_display_name,value:i.application_id},a.FormSchema[2].Data[0].config.options.push(t)}),a.FormSchema[2].Data[0].value=e,a.isLoading=!1},400)})},async onSubmit(t,a){var e=this,i="";if(t.app_ids.forEach(t=>{i+=t.value+","}),null!=e.AssignCat||void 0!=e.AssignCat)var s=e.AssignCat.category_id;else s=0;var l={category_id:void 0==s?0:s,title:t.title,color_code:t.color_code,app_ids:i.length>0?i.substring(0,i.length-1):""};e.isLoading=!0;var r=new FormData;r.append("postString",JSON.stringify(l)),await o["a"].ManageCategory(l).then(t=>{e.isLoading=!1,1==t.data.status?e.ShowAlert(e.$t("Categoryiscreated"),"success",!1,e.$t("Alert")):2==t.data.status?e.ShowAlert(e.$t("CategoryupdatedSuccessfully"),"success",!0,e.$t("Alert")):3==t.data.status&&e.ShowAlert(e.$t("CategoryAlreadyExists"),"success",!0,e.$t("Alert")),e.$parent.FetchData(),e.closePopup()})},closePopup(){var t=this;t.$parent.CloseCategoryClick()}}},m=g,C=(e("5856"),e("9ae1"),e("2877")),f=Object(C["a"])(m,u,h,!1,null,"79463b24",null),b=f.exports,y={components:{ManageCategory:b,ImportCategory:p["default"]},data(){return{searchCondition:"",CategorytList:[],leftSearchFields:d.leftsearchSchema,listActions:d.listActions,widgets:[],Headers:[{COLUMN_NAME:"category_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Category"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"applicationWithIcon",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ApplicationWebsite"),DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"user_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Createdby"),DISPLAY_ORDER:3},{COLUMN_NAME:"last_updated",DATA_TYPE:"datetime",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Lastupdated"),DISPLAY_ORDER:4},{COLUMN_NAME:"status_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:5,settings:{isInSlot:!0}}],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,sortBy:"",sortExp:"",pageSize:10,pageNum:1,legendProgress:[{class:"",backgroundColor:"#17a2b8",name:"Draft"},{class:"legend-Progress",backgroundColor:"",name:"Approved"},{class:"legend-pending",backgroundColor:"",name:"Pending"},{class:"",backgroundColor:"#fe6847",name:"SendForCorrection"},{class:"",backgroundColor:"#ee1313",name:"Rejected"}],LegendArray:[{class:"legend-pending colorboxsquare",text:this.$t("SampleData")}],PageSizeOption:null,listheaderbuttons:d.buttons,isLoading:!1,DetailListType:"List",IsAssignCategory:!1,usericon:!1,user_ids:"",category_ids:"",department_ids:"",project_ids:""}},created(){this.FetchData(),d.bindleftCommonSearchdropdown(this,"Timer","USERS"),d.bindleftCommonSearchdropdown(this,"Timer","Category"),d.bindleftCommonSearchdropdown(this,"Timer","DEPARTMENT"),d.bindleftCommonSearchdropdown(this,"Timer","PROJECT")},updated(){$('span[title="[object Object],[object Object],[object Object],[object Object],[object Object]"]').attr("title","")},methods:{AssignCategoryClick(){var t=this;t.IsAssignCategory=!0},CloseCategoryClick(){var t=this;t.AssignCat=[],t.IsAssignCategory=!1},EditAssignCategoryClick:function(t){var a=this;a.AssignCat=t,a.IsAssignCategory=!0},async FetchData(){var t=this;t.isLoading=!0;var a=`${t.searchCondition}&pageSize=${t.pageSize}&pageNum=${t.pageNum}&sortBy=${t.sortBy}&sortExp=${t.sortExp}&user_id=${t.user_ids}&category_id=${t.category_ids}&department_id=${t.department_ids}&project_id=${t.project_ids}`;await o["a"].GetCategoryListing(a).then(a=>{t.CategorytList=JSON.parse(a.data).data,t.isLoading=!1,t.CategorytList.length>0?(t.TotalRecords=t.CategorytList[0].TotalRecords,t.TotalPages=Math.ceil(t.TotalRecords/t.pageSize),t.CurrentPage=t.pageNum,t.noRecord=!1,t.isLoading=!1,t.CategorytList.forEach(t=>{null==t.applicationWithIcon?t.isVisible=!1:t.applicationWithIcon.length>3?t.isVisible=!0:t.isVisible=!1,t.isCheckBoxDisabled=!1,t.IsUsed>0&&(t.isCheckBoxDisabled=!0)}),t.CategorytList.forEach(t=>{t.additionalClass="",t.isCheckBoxDisabled=!1,1==t.is_sample_data&&(t.additionalClass="sample-bar warning-bar",t.isCheckBoxDisabled=!0)})):(t.CategorytList=[],t.noRecord=!0,t.isLoading=!1)})},DeleteData:function(){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0&&t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("category_id"),(function(){let e=`ids=${a}&tableName=TALYGEN_category&primaryKey=category_id`;o["a"].Delete(e).then(a=>{a.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),t.ShowAlert(t.$t("DeletedSuccessfully"),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("val")]),"failure",!0,t.$t("Alert")),t.FetchData()})}))},SingleDeleteData:function(t){var a=this;a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("category_id"),(function(){let e=`ids=${t.category_id}&tableName=TALYGEN_category&primaryKey=category_id`;o["a"].Delete(e).then(t=>{"DeletedSuccess"==t.data?(a.ShowAlert(a.$t("DeletedSuccessfully"),"Success",!0,a.$t("Alert")),a.$router.push({name:"CategoryListing"}),a.FetchData()):a.ShowAlert(a.$t("DeletedError",[a.$t("val")]),"failure",!0,a.$t("Alert"))})}))},actionButtonClick(t,a){var e=this;switch(t){case"Editdata":this.EditAssignCategoryClick(a);break;case"DeleteData":e.SingleDeleteData(a);break}},renderActions(t){var a=this;let e=[];return a.listActions.forEach(a=>{let i={...a};switch(i.title){case"Edit":i.isVisible=!0;break;case"Delete":i.isVisible=!0,t.IsUsed>0?(i.callbackfunction="",i.icon="fa fa-trash disabled"):(i.callbackfunction="DeleteData",i.icon="fa fa-trash"),i.isdisabled=t.IsUsed>0;break;default:i.isVisible=!0;break}e.push(i)}),e},pagerMethod:function(t){this.pageSize=t.PageSize,this.pageNum=t.PageNumber,this.FetchData()},commonHeaderButtonClick(t){switch(t.callbackfunction){case"AssignCategoryClick":this.AssignCategoryClick();break;case"setTourGuideSteps":this.setTourGuideSteps(0);break;case"Editdata":this.Editdata();break;case"DeleteData":this.DeleteData();break;case"ViewImport":this.ViewImport();break}},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchConditionJson:this.searchCondition="",""==t.searchCondition&&d.bindleftCommonSearchdropdown(this,"Timer","Category"),this.FetchData()},sortdata:function(t){var a="sort tb_headerSortDown";this.sortBy=t,t===this.sortBy&&(""==this.sortExp?(this.sortExp="ASC",a="sort tb_headerSortDown"):"ASC"==this.sortExp?(this.sortExp="DESC",a="sort tb_headerSortUp"):(this.sortExp="ASC",a="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",a)},ViewImport:function(){this.$router.push({name:"ImportCategory"})}}},v=y,_=(e("ab95"),Object(C["a"])(v,i,s,!1,null,null,null));a["default"]=_.exports},d7db:function(t,a,e){"use strict";e("6898")},ef9d:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".colorpick[data-v-79463b24]{position:absolute;right:19px;top:46%;width:auto!important;height:28px;z-index:1}.current-color[data-v-79463b24]{height:30px}.color-box-inside[data-v-79463b24]{left:-2px;top:-1px;width:35px}",""]),t.exports=a}}]);
//# sourceMappingURL=chunk-60c57d32.js.map