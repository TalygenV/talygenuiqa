(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1204d26a","chunk-2d20f5a7"],{b2ef:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t._self._c;return a("section",[a("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!1,listType:[t.DetailListType],ModuleName:"Timer",SubModuleCode:"WrokingDay",IdentityColumn:"worK_DAY_ID",HeaderText:t.$t("WorkingNonWorkingDay"),ListData:t.list,HeaderData:t.Headers,widgets:t.widgets,callbackfunction:t.ListWorkDay,HeaderButtons:t.buttons,TotalRecords:t.TotalRecords,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.ListWorkDay,LegendArray:t.LegendArray,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:e}){return["Edit"==e.column.COLUMN_NAME?[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.OpenAddworkingDay(e.row.worK_DAY_ID)}}},[a("em",{staticClass:"fa fa-pencil text-success action-icon"})])]:t._e(),"Delete"==e.column.COLUMN_NAME?[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.Delete(e.row.worK_DAY_ID)}}},[a("em",{staticClass:"fa fa-trash text-danger action-icon"})])]:t._e()]}}])})],1)},i=[],s=(e("14d9"),e("9769")),n=e("c1df"),r=e.n(n),l={data(){return{list:{},leftsearchSchema:[],SortBy:"",SortExp:"",TotalRecords:0,Headers:[{COLUMN_NAME:"worK_DATE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Date"),DISPLAY_ORDER:1},{COLUMN_NAME:"iS_WORKING",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:2},{COLUMN_NAME:"locatioN_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Location"),DISPLAY_ORDER:3},{COLUMN_NAME:"Edit",DATA_TYPE:"",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Edit"),DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"Delete",DATA_TYPE:"",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Delete"),DISPLAY_ORDER:5,settings:{isInSlot:!0}}],buttons:[{title:this.$t("AddWorkingDay"),iconClass:"fa fa-plus",callbackfunction:"AddworkingDay",additionalClass:"",isdisabled:!1,isvisible:!0,id:"AddWorkingDay",checkPrivilege:!1,isEnabledOnSelectedRow:!1}],widgets:[],LegendArray:[],DetailListType:"List",CurrentPage:1,TotalPages:0,pageSize:10,pageNumber:1}},created:async function(){await this.ListWorkDay()},methods:{actionButtonClick(t,a){},renderActions(t){},Fetchdata:async function(){var t=this;await s["a"].WorkingDay().then(a=>{t.list=a.data,console.log("list",t.list)})},ListWorkDay:async function(){var t=this,a=`sortBy=${t.sortBy}&sortExp=${t.sortExp}&pageSize=${t.pageSize}&pageNum=${t.pageNumber}`;await s["a"].ListWorkDay(a).then(a=>{t.list=a.data,console.log("list",t.list),t.list.forEach(a=>{console.log("row",a),a.iS_WORKING=1==a.iS_WORKING?t.$t("WorkingDay"):t.$t("companyholidays"),a.worK_DATE=t.formatOnlyDate(a.worK_DATE)}),t.TotalRecords=t.list[0].totaL_REC,t.TotalPages=Math.ceil(t.TotalRecords/t.pageSize),t.CurrentPage=t.pageNumber})},formatOnlyDate:function(t){if(t)return r()(t).format("MM/DD/YYYY")},pagerMethod:function(t){this.pageSize=t.PageSize,this.pageNumber=t.PageNumber,this.ListWorkDay()},commonHeaderButtonClick(t){switch(t.callbackfunction){case"AddworkingDay":this.OpenAddworkingDay(0);break}},OpenAddworkingDay:function(t){var a=this;a.isBlank(t)?a.$router.push({name:"AddWorkingDay",params:{id:0}}):a.$router.push({name:"AddWorkingDay",params:{id:t}})},Delete:async function(t){var a="id="+t;await s["a"].DeleteWoringDay(a).then(t=>{console.log("response",t),(t.data=1)&&(this.ShowAlert(vm.$t("RecordsDeleteSuccessfully"),"success",!0,vm.$t("Alert")),this.ListWorkDay())})},sortdata:function(t){var a="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",a="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",a="sort tb_headerSortUp"):(this.SortExp="ASC",a="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",a)},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchConditionJson:this.searchCondition="",this.ListWorkDay()}}},c=l,d=e("2877"),u=Object(d["a"])(c,o,i,!1,null,null,null);a["default"]=u.exports},e5dc:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t._self._c;return a("section",[a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),a("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])],1)},i=[],s=(e("14d9"),e("9769")),n=(e("b2ef"),e("c1df")),r=e.n(n),l={data(){return{isLoading:!1,DataLoaded:0,ApprovalChainId:0,groupList:[],TagsSelectedArray:[],location:[],Userlist:[],FormSchema:[{layoutType:"double",Data:[{astype:"DateField",label:this.$t("Date"),name:"ImplementDate",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Location"),name:"Location",value:1001,placeholder:"",validationRules:{required:!0},config:{options:[],onChange:this.GetUsers}},{astype:"RadioField",label:this.$t("Status"),name:"Status",value:0,placeholder:"",visibility:!0,validationRules:{required:!1},config:{options:[{value:1,name:"User"},{value:0,name:"Company Holidays"}]}},{astype:"MultiSelectField",label:this.$t("Users"),name:"Users",value:"",mode:"tag",placeholder:"",validationRules:{required:!0},config:{options:[]}},{astype:"TextAreaField",label:this.$t("Comments"),name:"comment",value:"",placeholder:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancel}]}},created:async function(){var t=this;if(t.GetCompanyLocation(),console.log("vm.$route.params.id",t.$route.params.id),t.isBlank(t.$route.params.id)||"0"==t.$route.params.id)"0"==t.$route.params.id||t.$router.push({name:"add",params:{id:0}}),t.Manage(0);else{let a=decodeURIComponent(t.$route.params.id);await t.Manage(a)}},methods:{GetCompanyLocation:async function(){await s["a"].GetCompanyLocation().then(t=>{this.location=t.data,null!=this.location&&this.location.map(t=>{this.FormSchema[0].Data[1].config.options.push({name:t.LOCATION_NAME,value:t.COMPANY_LOCATION_ID})})})},GetUsers:async function(){var t=this.FormSchema[0].Data[1].value,a=`locationId=${t}&moduleName=WORKDAY`;await s["a"].GetUserListByLocationId(a).then(t=>{this.Userlist=t.data,null!=this.Userlist&&this.Userlist.map(t=>{this.FormSchema[0].Data[3].config.options.push({name:t.userName,value:t.userId})})})},Manage:async function(t){var a=this,e="id="+t;await s["a"].WorkingDay(e).then(async t=>{a.FormSchema[0].Data[0].value=t.data.workDate,a.FormSchema[0].Data[1].value=t.data.companyLocationId,await a.GetUsers();var e=[],o=t.data.users.split(",");a.FormSchema[0].Data[4].value=t.data.comment,o.forEach(t=>{var o=a.FormSchema[0].Data[3].config.options.find(a=>a.value==t);void 0!=o&&e.push({label:o.name,value:o.value})}),a.FormSchema[0].Data[3].value=e})},onSubmit:async function(t){var a="";t.Users.forEach(t=>{a+=t.value+","});var e={CompanyLocationId:t.Location,WorkDate:r()(new Date(t.ImplementDate),"DD/MM/YYYY").format("YYYY-MM-DD"),IsWorking:t.Status,Comment:t.comment,Users:a};await s["a"].Manage(e).then(t=>{})},onCancel:async function(){this.$router.push({name:"WorkingDay"})}}},c=l,d=e("2877"),u=Object(d["a"])(c,o,i,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-1204d26a.js.map