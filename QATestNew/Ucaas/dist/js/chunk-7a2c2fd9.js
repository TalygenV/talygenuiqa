(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a2c2fd9"],{"06f1":function(t,e,a){t.exports=a.p+"img/logo-white.png"},"1bf1":function(t,e,a){"use strict";a("3844")},3844:function(t,e,a){var s=a("987f");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("511b022d",s,!0,{sourceMap:!1,shadowMode:!1})},"59da":function(t,e,a){t.exports=a.p+"img/logo-dark.png"},6675:function(t,e,a){"use strict";var s=a("e6b0"),i=a.n(s);e["default"]=i.a},"6bd8":function(t,e,a){"use strict";a("6d92")},"6d92":function(t,e,a){var s=a("a380");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("3081d814",s,!0,{sourceMap:!1,shadowMode:!1})},"71f0":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".new-profile-wrapper{display:flex;flex-direction:column;align-items:center;background-color:#f0f0f0;padding:10px}.new-profile-img{position:relative;width:100%;max-width:640px;padding-top:56.25%;background-color:#000;border-radius:8px;overflow:hidden}.new-local-video{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:8px}.blinkingcommon2{animation:blinker 1s linear infinite;background-color:#3db0b4}@keyframes blinker{50%{opacity:0}}",""]),t.exports=e},"77f3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",[e("header",{staticClass:"header d-flex align-items-center",attrs:{id:"header"}},[t._m(0),e("nav",{staticClass:"header-nav ms-auto"},[e("ul",{staticClass:"d-flex align-items-center"},[e("li",{staticClass:"nav-item"},[e("div",{staticClass:"search-bar"},[e("div",{staticClass:"search-form d-flex align-items-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtGlobalSearch,expression:"txtGlobalSearch"}],attrs:{type:"text",placeholder:" Global Search",title:"Enter search keyword"},domProps:{value:t.txtGlobalSearch},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.SearchTextGlobally.apply(null,arguments))},input:function(e){e.target.composing||(t.txtGlobalSearch=e.target.value)}}}),e("button",{attrs:{title:"Search"},on:{click:t.SearchTextGlobally}},[e("i",{staticClass:"ri-search-line"})])])])]),t._m(1),e("li",{staticClass:"nav-item btn-group dropup profile-user-dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("img",{staticClass:"profile-img profile-user rounded-circle",attrs:{src:""!=t.store.getUserInformation.Avatar?t.store.getBlobUserUrl+t.store.getUserInformation.Avatar:t.defaultImg,alt:"profile"}}),e("span",{staticClass:"user-status"})]),t._m(2)])])])]),e("div",{staticClass:"layout-wrapper d-lg-flex"},[e("loader",{attrs:{"is-visible":t.isLoading}}),t.isShowGlobalSearch?e("div",{staticStyle:{height:"618px",width:"24%",display:"block"},attrs:{id:"div_globalSearchData"}},[0==t.GlobalSearchListData.length?e("div",{staticClass:"text-center text-danger border p-2 no-record",attrs:{id:"contacts-panel-error"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e(),e("ul",{staticStyle:{"padding-left":"0px","list-style-type":"none","margin-bottom":"0px"}},[t._l(t.GlobalSearchListData,(function(a){return[e("li",{staticClass:"global_searchHeading"},[t._v(t._s(a.brandname))]),t._l(a.items,(function(a,s){return e("li",{key:s,staticClass:"li_globalSearch"},[e("i",{class:{"fa fa-comments d-block green":"CHAT"==a.MODULE_TYPE,"fa fa-users d-block lightyellow":"GROUP"==a.MODULE_TYPE}}),e("a",{staticStyle:{color:"#959fa9"},attrs:{href:"javascript:;"},on:{click:function(e){return t.openChatFromGlobalSearch(a)}}},[e("div",{staticStyle:{"font-size":"10pt",color:"#FFFFFF"}},[t._v(t._s(a.HEADER_NAME))]),e("div",{staticClass:"text-truncate",staticStyle:{"margin-left":"12px","font-size":"13px"}},[e("span",[t._v(t._s(a.OTHER_DATA)+" ")]),e("span",{staticClass:"highlight",domProps:{innerHTML:t._s(t.truncateMessage(a.SHORT_DESC))}})])])])}))]}))],2)]):t._e(),e("div",{staticClass:"side-menu flex-lg-column ms-lg-0"},[e("div",{staticClass:"flex-lg-column"},[e("ul",{staticClass:"nav nav-pills side-menu-nav justify-content-center",attrs:{role:"tablist"}},[e("li",{staticClass:"nav-item",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Chats"}},[e("a",{ref:"pillsChatTab",staticClass:"nav-link lightgrey-bg",class:{"nav-link  blink_message":t.lgId==t.blinkUserId,active:t.isShowChatTab},attrs:{id:"pills-chat-tab","data-bs-toggle":"pill",role:"tab"},on:{click:function(e){return t.ChatTabClick()}}},[e("i",{staticClass:"far fa-comments"}),t.totalUnreadCount>0?e("span",{staticClass:"badge badge-danger-info rounded-pill"},[t._v(t._s(t.totalUnreadCount))]):t._e()])]),e("li",{staticClass:"nav-item",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Profile"}},[e("a",{staticClass:"nav-link lightgrey-bg",class:{active:t.isCall},attrs:{id:"pills-user-tab","data-bs-toggle":"pill",role:"tab"},on:{click:function(e){return t.CallsTabClick()}}},[e("i",{staticClass:"fa fa-phone-alt"}),e("span",{staticClass:"badge badge-danger-info rounded-pill"},[t._v("02")])])]),e("li",{staticClass:"nav-item",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Contacts"}},[e("a",{staticClass:"nav-link lightgrey-bg",class:{active:t.isContact},attrs:{id:"pills-contacts-tab","data-bs-toggle":"pill",role:"tab"},on:{click:function(e){return t.ContactsTabClick()}}},[e("i",{staticClass:"far fa-address-book"})])]),t._m(3),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link lightgrey-bg",attrs:{id:"btn-switcht","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"right",title:"Dark / Light Mode"},on:{click:t.themeChange}},[e("i",{staticClass:"ri-sun-line theme-mode-icon"})])])])])]),e("div",{staticClass:"chat-leftsidebar ms-lg-0"},[e("div",{staticClass:"tab-content",staticStyle:{height:"100%"}},[t.isShowChatTab?e("LeftChatTab",{ref:"leftChatTab",attrs:{store:t.store}}):t._e(),t.isContact?e("ContactLeftTab",{ref:"leftContactTab",attrs:{store:t.store}}):t._e()],1)]),t.isShowChatTab?e("ChatTabVue",{ref:"chatTab",attrs:{groupNameDisplay:t.groupNameDisplay,RecieverId:t.RecieverId,GroupAliasName:t.GroupAliasName,Groupdata:t.Groupdata,chatUserInfo:t.chatUserInfo,fileInProgress:t.fileInProgress,progressValue:t.progressValue,store:t.store,ChatUserListData:t.ChatUserListData,isCreateGroup:t.isCreateGroup,userGroupId:t.userGroupId,searchByGlobal:t.searchByGlobal},on:{VoiceCallClickToUser:t.VoiceCallClickToUser}}):t._e(),t.contactDetailShow?e("ContactDetail",{attrs:{chatRoom:t.roomDetails,store:t.store}}):t._e(),t.isMeassgeBoard?e("MessageBoard",{attrs:{ProjectTablist:t.ProjectTablist,ProjectiId:t.ProjectiId}}):t._e(),t.isCall?e("Call",{attrs:{store:t.store,phoneNumber:t.phoneNumber}}):t._e(),t.isContact?e("Contacts",{ref:"childComponentRef",attrs:{store:t.store,sideBarFilter:t.sideBarContactFiletr,gridOrlistViiew:t.gridOrlistViiew}}):t._e(),t.isMeeting?e("Meeting",{attrs:{store:t.store}}):t._e(),t.deviceSetupActive?e("DeviceSetup",{attrs:{store:t.store,selectedFilter:t.selectFilter}}):t._e(),t.store.getIncomingAndOutGoingCall&&"in-progress"!=t.callSatus?e("div",{attrs:{id:"ForCallingSystem"}},[e("div",{staticClass:"vca_mainwrapper ui-draggable ui-draggable-handle",staticStyle:{position:"fixed",right:"0",bottom:"60px","/* display":"none","*/z-index":"9"},attrs:{id:"ForIvRCall"}},[e("div",{staticClass:"vca_callerinfobase"},[t._m(4),e("div",{staticClass:"vca_callername",attrs:{id:"lbl_forPhoneNumber"}},[t._v(" "+t._s(t.store.getIncomingCallData?t.store.getIncomingCallData.parameters.From:t.dailNumber))]),e("div",{staticClass:"vca_calling",attrs:{id:"lbl_CallTime"}},[t._v("Calling...")]),e("div",{staticClass:"vca_btnsbasemain"},[t._m(5),t._m(6),t.store.getIncomingCallData?e("div",{staticClass:"vca_btnsbase",attrs:{id:"div_forCallPickOrReject"}},[t.store.getIncomingCallData&&t.store.getIncomingCallStatus?e("a",{staticClass:"pickcall",staticStyle:{"/* display":"none"},attrs:{target:"_blank",id:"btn_PickCall",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Transfer"},on:{click:function(e){return t.incomingCallPick(t.store.getIncomingCallData)}}},[e("i",{staticClass:"fa fa-phone",staticStyle:{color:"#FFF","font-size":"34px"}})]):t._e(),t.store.getIncomingCallData&&t.store.getIncomingCallStatus?e("a",{staticClass:"dropcall",attrs:{id:"btn_rejectCall"},on:{click:function(e){return t.rejectCall(t.store.getIncomingCallData)}}},[e("i",{staticClass:"fa fa-phone text-white",staticStyle:{rotate:"-227deg","font-size":"34px"},attrs:{"aria-hidden":"true"}})]):t._e(),e("div",{staticStyle:{clear:"both"}})]):e("div",{staticClass:"vca_btnsbase text-center",staticStyle:{"min-height":"30px"},attrs:{id:"div_forCallPickOrReject"}},[e("a",{staticClass:"dropcall alone",staticStyle:{float:"none"},attrs:{id:"btn_rejectCall"},on:{click:function(e){t.store.getIncomingCallData?t.hangup(t.store.getIncomingCallData):t.hangup(t.store.getOutGoingcallData)}}},[e("i",{staticClass:"fa fa-phone text-white",staticStyle:{rotate:"-227deg"},attrs:{"aria-hidden":"true"}})])])])])])]):t._e(),t.videoCallShow?e("div",{staticClass:"user-videocall-sidebar"},[e("div",{staticClass:"px-3 px-lg-3 pt-3 pt-lg-3"},[e("div",{staticClass:"video-headerinfo d-flex align-items-center justify-content-between"},[e("div",{staticClass:"video-headerinfoleft"},[e("h5",{staticClass:"mb-0 font-size-18"},[t._v(t._s(t.incomingVideoCallinfo.fromName))]),e("p",[t._v(t._s(t.secondsToHms(t.videoCallCounting)))])])])]),e("div",{staticClass:"me-3 ms-3 video-callbx"},[e("div",{staticClass:"videocall-user"},[e("i",{staticClass:"me-1"}),t._v(" "+t._s(t.incomingVideoCallinfo.fromName)+" ")]),e("div",{staticClass:"profileuser"},[t.videoSwapped?e("video",{ref:"localVideo",staticClass:"local-video new-local-video",attrs:{autoplay:"",muted:""},domProps:{muted:!0}}):e("video",{ref:"remoteVideo",staticClass:"remote-video",attrs:{autoplay:""}})]),e("div",{staticClass:"myprofile_wrapper new-profile-wrapper"},[e("div",{staticClass:"myprofile-img new-profile-img"},[t.videoSwapped?e("video",{ref:"remoteVideo",staticClass:"remote-video",attrs:{autoplay:""}}):e("video",{ref:"localVideo",staticClass:"local-video new-local-video",attrs:{autoplay:"",muted:""},domProps:{muted:!0}})])])]),e("div",{staticClass:"me-3 ms-3 video-control-options controls"},[e("ul",{staticClass:"mt-3"},[e("li",{on:{click:function(e){return t.muteOrUnmute()}}},[e("a",{staticClass:"bg-darkgreen text-white",attrs:{href:"#"}},[e("i",{staticClass:"fas",class:t.muteUnmute})])]),t._m(7),e("li",{on:{click:function(e){return t.toggleAudioAndVideo()}}},[t._m(8)]),e("li",{on:{click:t.swapVideos}},[t._m(9)]),e("li",{on:{click:function(e){return t.toggleFullscreen(t.$refs.remoteVideo)}}},[t._m(10)]),e("li",{on:{click:function(e){return t.disconnectVideo()}}},[t._m(11)])])])]):t._e(),t.audioCallPopupShow?e("div",{staticClass:"draggable"},[e("div",{staticClass:"draggable-block"},[e("div",{staticClass:"video-headerinfo d-flex align-items-center justify-content-between"},[t._m(12),e("div",{staticClass:"videoadjust"},[t._m(13),t._m(14),e("a",{attrs:{href:"#"},on:{click:function(e){return t.disconnectVideo()}}},[e("i",{staticClass:"fas fa-times"})])])]),e("div",{staticClass:"video-callbx"},[e("div",{staticClass:"profileuser"}),e("div",{staticClass:"myprofile_wrapper"},[e("audio",{ref:"localAudio",staticStyle:{display:"none"},attrs:{autoplay:"",controls:"",muted:""}}),t._m(15)])]),e("div",{staticClass:"video-control-options d-flex justify-content-between align-items-center"},[e("audio",{ref:"remoteAudio",staticStyle:{display:"none"},attrs:{controls:"",autoplay:""}}),e("div",{staticClass:"videotimebx text-white"},[t._v("10:33")]),e("div",{staticClass:"controlbx"},[t._m(16),e("a",{staticClass:"btn btn-danger rounded-circle text-white",attrs:{href:"#"},on:{click:function(e){return t.disconnectVideo()}}},[e("i",{staticClass:"fas fa-phone-alt"})])])])])]):t._e()],1),t.inComingCallingPopup||t.incomingaudiocallpopup?e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"d-flex p-0 align-items-center"},[e("div",{staticClass:"avatar-md me-2"},[e("img",{staticClass:"img-thumbnail rounded-circle",attrs:{src:t.incomingVideoCallinfo.fromUserPath?t.incomingVideoCallinfo.fromUserPath:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",alt:""}})]),e("div",{staticClass:"avatar-info me-auto"},[e("h5",{staticClass:"text-truncate mb-1"},[t._v(t._s(t.incomingVideoCallinfo.fromName))]),e("p",{staticClass:"mb-0"},[e("i",{staticClass:"fas fa-phone-alt"}),t._v(" "+t._s(t.$t("incomingCallTypeCall",["audio"==t.incomingVideoCallinfo.calltype?"Audio":"Video"])))])]),e("div",{staticClass:"mt-0"},[e("ul",{staticClass:"list-inline mb-1"},[e("li",{staticClass:"list-inline-item ms-0"},[e("button",{staticClass:"btn btn-danger callend avatar-sm rounded-circle",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(e){return t.disconnectVideo()}}},[t._m(17)])]),e("li",{staticClass:"list-inline-item"},[e("button",{staticClass:"btn btn-success avatar-sm rounded-circle",attrs:{type:"button"},on:{click:function(e){return t.VideoCallPickupMethod()}}},[t._m(18)])])])])])])])]):t._e(),e("loader",{attrs:{isVisible:t.store.getLoadingStatus}})],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("a",{staticClass:"logo d-flex align-items-center lighttheme-logo",attrs:{href:"#"}},[e("img",{attrs:{src:a("59da"),alt:"logo-dark"}})]),e("a",{staticClass:"logo d-flex align-items-center darktheme-logo d-none",attrs:{href:"#"}},[e("img",{attrs:{src:a("06f1"),alt:"logo-dark"}})])])},function(){var t=this,e=t._self._c;return e("li",{staticClass:"nav-item ms-2",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"top","aria-label":"Settings","data-bs-original-title":"Settings",role:"presentation"}},[e("a",{staticClass:"nav-link",attrs:{id:"pills-setting-tab","data-bs-toggle":"pill",href:"#pills-setting",role:"tab","aria-selected":"false",tabindex:"-1"}},[e("i",{staticClass:"fas fa-cog"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown-menu"},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Profile "),e("i",{staticClass:"ri-profile-line float-end text-muted"})]),e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Setting "),e("i",{staticClass:"ri-settings-3-line float-end text-muted"})]),e("div",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item",attrs:{href:"auth-login.html"}},[t._v("Log out "),e("i",{staticClass:"ri-logout-circle-r-line float-end text-muted"})])])},function(){var t=this,e=t._self._c;return e("li",{staticClass:"nav-item",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Settings"}},[e("a",{staticClass:"nav-link lightgrey-bg",attrs:{id:"pills-setting-tab","data-bs-toggle":"pill",role:"tab"}},[e("i",{staticClass:"fas fa-cogs"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"vca_callerdp"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",loading:"lazy",alt:"Image"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_whenCallEnded",staticStyle:{display:"none"}},[e("div",{staticClass:"vca_callingForCallEnd"},[t._v("Call Ended")]),e("div",{staticClass:"textAreaForComment"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Caller Name:")]),e("input",{staticClass:"form-control",attrs:{type:"text",id:"txt_nameForCall",autocomplete:"off"}}),e("label",{staticStyle:{color:"red",display:"none"},attrs:{id:"txtnameRequired"}},[t._v("Caller Name is required")])]),e("div",{staticClass:"form-group"},[e("label",[t._v("Comment:")]),e("textarea",{staticClass:"form-control",attrs:{id:"txt_commentForCall"}}),e("label",{staticStyle:{color:"red",display:"none"},attrs:{id:"txtCommentRequired"}},[t._v("Comment is required")])]),e("div",{staticClass:"form-group"},[e("label",[t._v("Call Relevant to:")]),e("select",{staticClass:"form-control",attrs:{id:"ddl_modules"}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Type:")]),e("select",{staticClass:"form-control",attrs:{id:"ddl_modulesTypes"}},[e("option",{attrs:{value:""}},[t._v("Select")])]),e("label",{staticStyle:{color:"red",display:"none"},attrs:{id:"ddlSecondRequired"}},[t._v("Type is required")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"none"},attrs:{id:"div_whenCallTransfer"}},[e("div",{staticClass:"textAreaForComment"},[e("div",{staticClass:"input-group",staticStyle:{"margin-bottom":"10px"}},[e("select",{staticClass:"form-control",attrs:{id:"ddl_forExtension"}},[e("option",{attrs:{value:""}},[t._v("Select Extension")])]),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-default",attrs:{id:"btn_CallTransfer",type:"button"}},[t._v("Transfer")])])])])])},function(){var t=this,e=t._self._c;return e("li",[e("a",{staticClass:"bg-darkgreen text-white",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-comment-dots"})])])},function(){var t=this,e=t._self._c;return e("a",[e("i",{staticClass:"fas fa-video-slash"})])},function(){var t=this,e=t._self._c;return e("a",[e("i",{staticClass:"fas fa-exchange-alt"})])},function(){var t=this,e=t._self._c;return e("a",[e("i",{staticClass:"fas fa-expand"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"bg-red text-white",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-phone-alt"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-headerinfoleft"},[e("h5",{staticClass:"mb-0 font-size-14"},[t._v("Alex Moss audio Call")])])},function(){var t=this,e=t._self._c;return e("a",{attrs:{href:"#"}},[e("i",{staticClass:"fas fa-minus"})])},function(){var t=this,e=t._self._c;return e("a",{attrs:{href:"#"}},[e("i",{staticClass:"far fa-square"})])},function(){var t=this,e=t._self._c;return e("h5",{staticClass:"mb-0 font-size-14"},[e("i",{staticClass:"fas fa-microphone-slash mute"}),t._v(" You")])},function(){var t=this,e=t._self._c;return e("a",{attrs:{href:"#"}},[e("i",{staticClass:"fas fa-microphone"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"avatar-title bg-transparent font-size-20"},[e("i",{staticClass:"ri-phone-fill"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"avatar-title bg-transparent font-size-20"},[e("i",{staticClass:"ri-phone-fill"})])}],r=(a("14d9"),a("5b81"),a("88e6"),a("70cc"),a("eb03"),a("22e5"),a("c01e"),a("fa76"),a("8306"),a("9769")),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-chat w-100 overflow-hidden"},[t.isForwardToUser?e("ForwardPopup"):t._e(),e("div",{staticClass:"w-100 overflow-hidden position-relative"},[e("div",{staticClass:"px-4 pt-3 pb-3 border-bottom user-chat-topbar"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-sm-4 col-8"},[t.isDataNotNull?e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"d-block d-lg-none me-2 ms-0",on:{click:function(e){return t.removeClass()}}},[t._m(0)]),e("div",{staticClass:"me-3 ms-0 user-profile-show"},[e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:""==t.chatHistoryDetails.groupDetail.AVATAR?t.defaultImg:t.chatHistoryDetails.groupDetail.AVATAR,alt:""}})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"font-size-16 mb-0 text-truncate",on:{click:function(e){return t.$parent.detailpopup({data:t.chatHistoryDetails.groupDetail,show:!0})}}},[e("a",{staticClass:"text-reset user-profile-show"},[t._v(t._s(t.chatHistoryDetails.groupName))])]),t.chatHistoryDetails.groupDetail.IS_GROUP?e("p",{staticClass:"mb-0"},[e("i",{staticClass:"fas fa-user me-1"}),t._v(" "+t._s(t.getMembers(t.chatHistoryDetails.groupDetail)+" Members"))]):t._e()])]):t._e()]),e("div",{staticClass:"col-sm-8 col-4"},[e("ul",{staticClass:"list-inline user-chat-nav text-end mb-0"},[e("li",{staticClass:"list-inline-item d-none d-lg-inline-block me-2 ms-0",on:{click:function(e){return t.videoCreate("audio")}}},[t._m(1)]),e("li",{staticClass:"list-inline-item d-none d-lg-inline-block me-2 ms-0",on:{click:function(e){return t.videoCreate("video")}}},[t._m(2)]),e("li",{staticClass:"list-inline-item"},[e("div",{staticClass:"dropdown"},[e("button",{ref:"globalCahtPopup",staticClass:"btn nav-btn dropdown-toggle darkbg",attrs:{type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(e){t.globalAction=!t.globalAction}}},[e("i",{staticClass:"fas fa-ellipsis-v"})]),t.globalAction?e("div",{directives:[{name:"closable",rawName:"v-closable",value:{exclude:["globalCahtPopup"],handler:"globalPopupOpen"},expression:"{ exclude: ['globalCahtPopup'], handler: 'globalPopupOpen' }"}],staticClass:"dropdown-menu dropdown-menu-end d-block",staticStyle:{float:"left"}},[t._m(3),e("a",{staticClass:"dropdown-item d-block d-lg-none",attrs:{"data-bs-toggle":"modal","data-bs-target":"#audiocallModal"},on:{click:function(e){return t.videoCreate("audio")}}},[t._v("Audio "),e("i",{staticClass:"ri-phone-line float-end text-muted"})]),e("a",{staticClass:"dropdown-item d-block d-lg-none",attrs:{"data-bs-toggle":"modal","data-bs-target":"#videocallModal"},on:{click:function(e){return t.videoCreate()}}},[t._v("Video "),e("i",{staticClass:"ri-vidicon-line float-end text-muted"})]),e("a",{staticClass:"dropdown-item",on:{click:function(e){return t.$parent.detailpopup({data:t.chatHistoryDetails.groupDetail,show:!0})}}},[t._v("Contact Info")]),e("a",{staticClass:"dropdown-item",on:{click:t.ShowSearchMessageArea}},[t._v("Search")]),e("a",{staticClass:"dropdown-item"},[t._v("Select message")]),e("a",{staticClass:"dropdown-item",attrs:{title:"Clear Chat"},on:{click:function(e){return t.$parent.UsrDeleteHistory(t.chatHistoryDetails.groupDetail,"History")}}},[t._v(t._s(t.$t("ClearChat"))+" ")])]):t._e()])])])])])]),e("div",{staticClass:"chat-conversation p-3 p-lg-4",class:{"chatimg-reply":t.replyOnData.length>0&&t.replyOnData[0].MESSAGE.includes("src"),"chat-reply":t.replyOnData.length>0},attrs:{"data-simplebar":"init"}},[e("ul",{staticClass:"list-unstyled mb-0",attrs:{id:"scrollableDiv"}},[t._l(t.filterSameUser(t.chatHistoryDetails.resultSet),(function(a){return[e("li",{staticClass:"chat_date"},[e("span",[t._v(t._s(t.getPreviousDay(a.date)))])]),t._l(a.data,(function(a,s){return e("li",{key:a.CHATLOG_ID,class:{right:a.FROM_USER_ID==t.store.GetSenderDetail.id,left:a.FROM_USER_ID!=t.store.GetSenderDetail.id}},[e("div",{staticClass:"conversation-list"},[a.FROM_USER_ID!=t.store.GetSenderDetail.id&&t.chatHistoryDetails.groupDetail.IS_GROUP?e("div",{staticClass:"chat-avatar"},[e("img",{attrs:{src:a.AVATAR==t.blobUserUrl||""==a.AVATAR||null==a.AVATAR?t.defaultImg:a.AVATAR,alt:""}})]):t._e(),e("div",{staticClass:"user-chat-content hover-on-reaction"},[e("div",{staticClass:"ctext-wrap",class:{filesattachment:1==a.ATTACHMENT&&t.isImageAndVideoFiles(a.FILEEXTENSION)||"string"===typeof a.MESSAGE&&a.MESSAGE.includes("src")}},[e("div",{staticClass:"ctext-wrap-content",class:{blink_message:a.CHATLOG_ID==t.blinkRepliedText&&a.FROM_USER_ID!=t.store.GetSenderDetail.id,blink_message_blue:a.CHATLOG_ID==t.blinkRepliedText&&a.FROM_USER_ID==t.store.GetSenderDetail.id},attrs:{id:"chatLog_"+a.CHATLOG_ID}},[a.FROM_USER_ID!=t.store.getUserInformation.ID&&1==a.IS_GROUP?e("div",{staticClass:"conversation-name yellow-txt"},[t._v(" "+t._s(a.USER_NAME))]):t._e(),null!=a.CHAT_LOG_REF_ID&&0!=a.CHAT_LOG_REF_ID?e("div",{staticClass:"copymessage mb-1",domProps:{innerHTML:t._s(a.PARENT_MESSAGE)},on:{click:function(e){return t.ShowTransitionOnReply(a,"fromReplied")}}}):t._e(),e("div",{class:{"d-flex justify-content-between flex-wrap align-items-end":1!=a.ATTACHMENT&&!a.MESSAGE.includes("src"),attachment:"application"==a.MESSAGE}},[e("div",{attrs:{id:"reaction_icon"}},t._l(a.reactedUser,(function(a){return e("div",{staticClass:"mb-0"},[e("h4",{domProps:{innerHTML:t._s(a.ReactionType)}})])})),0),t.Isrecenttab&&t.reactionToUser.MESSAGE_TOKEN==a.MESSAGE_TOKEN?e("div",{staticClass:"recent-emojis"},[e("p",{ref:"selector",refInFor:!0},[[t._v("😜😜😜😜😜")],t._v(" "),e("span",{ref:"recentEmojiPicker",refInFor:!0,on:{click:function(e){return t.OpenEmojiSelector()}}},[t._v("+")])],2),e("div")]):t._e(),"attachment"!=a.MESSAGE&&1!=a.ATTACHMENT?[e("div",{staticClass:"mb-0 chat-message",domProps:{innerHTML:t._s(a.MESSAGE)}})]:1==a.ATTACHMENT?["voice"==a.MESSAGE||"audio"==a.MESSAGE?[a.FILEPATH?e("audio",{attrs:{src:a.FILEPATH,controls:""}}):t._e()]:"attachment"==a.MESSAGE?[t.isImage(a.FILEEXTENSION)?e("img",{attrs:{src:a.FILEPATH,loading:"lazy",alt:"image"},on:{click:function(e){return t.openLightbox(a.FILEPATH,a.FILEEXTENSION,a.STORAGE_FILE_NAME,a)}}}):t._e()]:"application"==a.MESSAGE?[t.isDocument(a.FILEEXTENSION)?e("i",{class:t.documentIcon(a.FILEEXTENSION),on:{click:function(e){return t.openLightbox(a.FILEPATH,a.FILEEXTENSION,a.STORAGE_FILE_NAME,a)}}}):t._e(),t._v(" "),e("span",{staticClass:"ms-1"},[t._v(t._s(a.STORAGE_FILE_NAME))])]:"video"==a.MESSAGE?[a.FILEPATH?e("video",{attrs:{width:"100%",src:a.FILEPATH,controls:""}}):t._e()]:t._e()]:t._e(),e("p",{staticClass:"chat-time mb-0"},[e("span",{staticClass:"align-middle mt-2"},[t._v(" "+t._s("Now"==t.DateDifference(a.CREATED_AT)?t.DateDifference(a.CREATED_AT):t.getTime(a.CREATED_AT))+" ")]),a.FROM_USER_ID==t.store.GetSenderDetail.id?e("span",{staticClass:"read mt-2"},[e("i",{staticClass:"ri-check-double-line font-size-15"})]):t._e()])],2)]),e("div",{staticClass:"dropdown align-self-center ms-5 hover-out-reaction"},[e("a",{staticClass:"fav",on:{click:function(e){return t.reactEmoji(a,null)}}},[e("svg",{ref:"reactionEmoji",refInFor:!0,attrs:{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"m12.67 20.74-.67.61-1.45-1.32c-5.15-4.67-8.55-7.76-8.55-11.53 0-3.09 2.42-5.5 5.5-5.5 1.74 0 3.41.81 4.5 2.08 1.09-1.27 2.76-2.08 4.5-2.08 3.08 0 5.5 2.41 5.5 5.5 0 1.43-.5 2.76-1.38 4.11-.62-.3-1.31-.5-2.03-.57.91-1.24 1.41-2.39 1.41-3.54 0-2-1.5-3.5-3.5-3.5-1.54 0-3.04 1-3.57 2.36h-1.86c-.53-1.36-2.03-2.36-3.57-2.36-2 0-3.5 1.5-3.5 3.5 0 2.89 3.14 5.74 7.89 10.05l.11.1.04-.04c.08.76.3 1.48.63 2.13m4.33-6.74v3h-3v2h3v3h2v-3h3v-2h-3v-3z"}})])]),e("a",{staticClass:"ms-2 reply",on:{click:function(e){return t.ReplyMessageToUser(a)}}},[e("svg",{attrs:{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"m28.88 30a1 1 0 0 1 -.88-.5 15.19 15.19 0 0 0 -13-7.5v6a1 1 0 0 1 -.62.92 1 1 0 0 1 -1.09-.21l-12-12a1 1 0 0 1 0-1.42l12-12a1 1 0 0 1 1.09-.21 1 1 0 0 1 .62.92v6.11a17.19 17.19 0 0 1 15 17 16.34 16.34 0 0 1 -.13 2 1 1 0 0 1 -.79.86zm-14.38-10a17.62 17.62 0 0 1 13.5 6 15.31 15.31 0 0 0 -14.09-14 1 1 0 0 1 -.91-1v-4.59l-9.59 9.59 9.59 9.59v-4.59a1 1 0 0 1 1-1h.54z"}}),e("path",{attrs:{d:"m0 0h32v32h-32z",fill:"none"}})])]),e("a",{staticClass:"dropdown-toggle ms-2",attrs:{role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(e){return t.actionMessagePopupOpen(a)}}},[e("i",{ref:"actionMessageButton",refInFor:!0,staticClass:"ri-more-fill"})]),t.actionMessagePopupShow==a.CHATLOG_ID?e("div",{directives:[{name:"closable",rawName:"v-closable",value:{exclude:["actionMessageButton"],handler:"actionMessagePopup"},expression:"{ exclude: ['actionMessageButton'], handler: 'actionMessagePopup' }"}],staticClass:"dropdown-menu d-block"},[e("button",{staticClass:"dropdown-item",on:{click:function(e){return t.copyToClipboard(a)}}},[t._v("Copy "),e("i",{staticClass:"ri-file-copy-line float-end text-muted"})]),e("button",{staticClass:"dropdown-item",on:{click:function(e){return t.ForwardMessageTo(a)}}},[t._v("Forward "),e("i",{staticClass:"ri-chat-forward-line float-end text-muted"})]),e("button",{staticClass:"dropdown-item",on:{click:function(e){return t.DeleteMessage(a,s)}}},[t._v("Delete "),e("i",{staticClass:"ri-delete-bin-line float-end text-muted"})])]):t._e()])])])])])}))]})),e("li")],2)]),t.isShowTyping?e("div",{attrs:{id:"isShowTyping"}},[e("div",{staticClass:"conversation-list"},[1==t.isChatOnGroup?e("div",{staticClass:"chat-avatar"},[t._l(t.isTyping,(function(a,s){return[e("img",{attrs:{src:null==a?t.defaultImg:a}})]}))],2):t._e(),t._m(4)])]):t._e(),t.gifShow?e("div",{staticClass:"gif-emoji"},t._l(t.GifImageData,(function(a,s){return e("div",{key:s,staticClass:"imgGif"},[e("img",{staticClass:"gifdata",attrs:{"data-isgif":"1",id:"gif0",src:a.media[0].gif.url,alt:""},on:{click:function(e){return t.SetGifToSendArea(a)}}}),e("a",{staticClass:"gif_cross d-none",on:{click:function(e){return t.RemoveGifToSend()}}},[e("i",{staticClass:"fa fa-close text-danger"})])])})),0):t._e(),e("div",{staticClass:"emoji-section",class:{chreply:t.replyOnData.length>0}},[e("div",{directives:[{name:"closable",rawName:"v-closable",value:{exclude:["emojiPicker","reactionEmoji","selector","recentEmojiPicker"],handler:"emojiClose"},expression:"{ exclude: ['emojiPicker','reactionEmoji','selector','recentEmojiPicker'], handler: 'emojiClose' }"}],staticClass:"emoji-picker-popup",attrs:{id:"app"}},[t.IsreactOnMessage?e("VEmojiPicker",{on:{select:t.selectEmoji}}):t._e()],1),e("div",{staticClass:"chat-input-section p-3 p-lg-3"},[t._l(t.replyOnData,(function(a,s){return t.isReplytoMessage?e("p",{key:s,staticClass:"copymessage"},[e("span",{domProps:{innerHTML:t._s(t.truncateMessage(a.MESSAGE))}}),e("i",{staticClass:"ri-close-circle-fill",on:{click:t.ReplyCross}})]):t._e()})),e("div",{staticClass:"row g-0"},[0==t.isRecording?e("div",{staticClass:"col-auto"},[e("button",{ref:"emojiPicker",staticClass:"btn btn-link text-decoration-none font-size-19 btn-lg waves-effect",attrs:{type:"button"},on:{click:function(e){return t.reactEmoji("","")}}},[e("i",{staticClass:"fas fa-laugh"})])]):t._e(),0==t.isRecording?e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtMessage,expression:"txtMessage"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Enter Message..."},domProps:{value:t.txtMessage},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.sendMessage(t.chatHistoryDetails))},keyup:function(e){return t.checkIsTyping(e)},input:function(e){e.target.composing||(t.txtMessage=e.target.value)}}})]):t._e(),t.isRecording?e("div",{staticClass:"col"},[e("span",{staticClass:"d-block mt-2"},[e("i",{staticClass:"text-danger fas fa-microphone icon-beat-fade me-1"}),t._v(" "+t._s(t.secondsToHms(t.recordingTime)))])]):t._e(),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"chat-input-links ms-md-2 me-md-0"},[e("ul",{staticClass:"list-inline mb-0"},[0==t.isRecording?e("li",{staticClass:"list-inline-item"},[e("button",{staticClass:"btn btn-link text-decoration-none font-size-19 btn-lg waves-effect icon-gif",attrs:{type:"button"},on:{click:t.GetGifImages}},[e("Span",[t._v("GIF")])],1)]):t._e(),e("li",{staticClass:"list-inline-item",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"top"}},[0==t.isRecording?e("button",{staticClass:"btn btn-link text-decoration-none font-size-19 btn-lg waves-effect",attrs:{type:"button"},on:{click:t.startRecording}},[e("svg",{attrs:{width:"24",height:"24","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("rect",{attrs:{x:"9",y:"2",width:"6",height:"12",rx:"3",stroke:"currentColor","stroke-width":"1.5"}}),e("path",{attrs:{d:"M5 10V11C5 14.866 8.13401 18 12 18V18V18C15.866 18 19 14.866 19 11V10",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M12 18V22M12 22H9M12 22H15",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}})])]):t._e(),t.isRecording?e("button",{staticClass:"btn btn-link text-danger text-decoration-none font-size-19 btn-lg waves-effect",attrs:{type:"button"},on:{click:function(e){return t.stopRecording(!0)}}},[e("i",{staticClass:"fas fa-trash"})]):t._e()]),0==t.isRecording?e("li",{staticClass:"list-inline-item",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"top"}},[e("button",{staticClass:"btn btn-link text-decoration-none font-size-19 btn-lg waves-effect",attrs:{type:"button"},on:{click:t.openFileInput}},[e("svg",{attrs:{width:"24",height:"24","stroke-width":"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M21.4383 11.6622L12.2483 20.8522C11.1225 21.9781 9.59552 22.6106 8.00334 22.6106C6.41115 22.6106 4.88418 21.9781 3.75834 20.8522C2.63249 19.7264 2 18.1994 2 16.6072C2 15.015 2.63249 13.4881 3.75834 12.3622L12.9483 3.17222C13.6989 2.42166 14.7169 2 15.7783 2C16.8398 2 17.8578 2.42166 18.6083 3.17222C19.3589 3.92279 19.7806 4.94077 19.7806 6.00222C19.7806 7.06368 19.3589 8.08166 18.6083 8.83222L9.40834 18.0222C9.03306 18.3975 8.52406 18.6083 7.99334 18.6083C7.46261 18.6083 6.95362 18.3975 6.57834 18.0222C6.20306 17.6469 5.99222 17.138 5.99222 16.6072C5.99222 16.0765 6.20306 15.5675 6.57834 15.1922L15.0683 6.71222",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}})])]),e("input",{staticStyle:{display:"none"},attrs:{id:"up",type:"file"},on:{change:function(e){return t.setFile(e)}}})]):t._e(),e("li",{staticClass:"list-inline-item"},[e("button",{staticClass:"btn btn-primary font-size-16 btn-lg chat-send waves-effect waves-light",attrs:{type:"submit"},on:{click:function(e){t.isRecording?t.stopRecording(!1):t.sendMessage(t.chatHistoryDetails)}}},[e("svg",{attrs:{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"m2.72112607 2.05149449 15.35446653 7.565969c.247703.12205658.3495596.42180601.227503.66950901-.048698.0988284-.1286747.1788051-.227503.2275031l-15.3541508 7.5658134c-.24770306.1220566-.54745246.0202-.66950904-.227503-.0533719-.1083136-.06574404-.2322825-.03483109-.3490077l1.52125123-5.7446792c.05030971-.1899839.20725125-.3328751.40110728-.3651979l6.88094892-1.1473027c.0842946-.0140491.1539978-.0697032.1874987-.1453514l.018-.0601474c.0194561-.11673645-.0453599-.22804672-.1500414-.27176154l-.0554573-.01593664-6.91980045-1.15330008c-.1939323-.03232205-.35092201-.17529727-.401185-.36537116l-1.48266862-5.60684181c-.07063055-.26695681.08852333-.54062543.35548014-.61125598.11669248-.03087411.24061464-.01849152.3488909.034862z",fill:"#fff"}})])])])])])])])],2)]),t.isGroupMessageSearch?e("div",{staticClass:"search-message-sidebar"},[e("div",{staticClass:"px-3 px-lg-3 pt-3 pt-lg-3"},[e("div",{staticClass:"user-chat-nav d-flex justify-content-between align-items-center"},[e("h5",{staticClass:"mb-0"},[t._v("Search Message")]),e("button",{staticClass:"btn nav-btn",attrs:{type:"button",id:"search-message-hide"}},[e("i",{staticClass:"ri-close-line",on:{click:t.closeSearchPop}})])])]),e("div",{staticClass:"text-center p-2"},[e("div",{staticClass:"search-box chat-search-box"},[e("div",{staticClass:"input-group mb-3 rounded-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchMessageTxt,expression:"searchMessageTxt"}],staticClass:"form-control bg-light",attrs:{type:"text",placeholder:"Search","aria-label":"Search messages or users","aria-describedby":"basic-addon1"},domProps:{value:t.searchMessageTxt},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.SearchGroupMessage.apply(null,arguments))},input:function(e){e.target.composing||(t.searchMessageTxt=e.target.value)}}}),e("span",{staticClass:"input-group-text text-muted bg-light pe-3 ps-3 border-0",attrs:{id:"basic-addon1"}},[e("i",{staticClass:"ri-close-line",on:{click:function(e){return t.clearSearchedText()}}})])])])]),e("div",{staticClass:"p-3 user-profile-desc pt-0",attrs:{"data-simplebar":"init"}},[e("div",{staticClass:"simplebar-wrapper",staticStyle:{margin:"0px -16px -16px"}},[t._m(5),e("div",{staticClass:"simplebar-mask"},[e("div",{staticClass:"simplebar-offset",staticStyle:{right:"0px",bottom:"0px"}},[e("div",{staticClass:"simplebar-content-wrapper",staticStyle:{height:"100%","padding-right":"0px","padding-bottom":"0px",overflow:"hidden"}},[e("div",{staticClass:"simplebar-content",staticStyle:{padding:"0px 16px 16px"}},[0==t.searchedMessageList.length?e("span",{staticStyle:{color:"red"}},[t._v("No record found")]):t._e(),t._l(t.searchedMessageList,(function(a,s){return e("div",{key:s,staticClass:"text-muted border-bottom pb-2 sm-desc"},[e("h5",{staticClass:"font-size-13 mb-1 text-truncate d-flex justify-content-between"},[e("span",[t._v(t._s(t.getPreviousDay(a.created_at))+" at, "+t._s(t.getTime(a.created_at)))])]),e("p",{staticClass:"mb-1 font-size-14"},[t._m(6,!0),e("span",{domProps:{innerHTML:t._s(t.highlightMessage(a.message,t.searchMessageTxt))}})])])}))],2)])])]),e("div",{staticClass:"simplebar-placeholder",staticStyle:{width:"auto",height:"146px"}})]),t._m(7),t._m(8)])]):t._e()]),e("VueEasyLightbox",{staticClass:"image-preview",attrs:{visible:t.visible,imgs:t.imgs},on:{hide:t.handleHide},scopedSlots:t._u([{key:"toolbar",fn:function({toolbarMethods:a}){return[e("button",{on:{click:function(e){return t.downloadImage(t.imageLightBoxData)}}},[t._v(t._s(t.$t("DownloadFile")))]),e("button",{on:{click:a.zoomIn}},[t._v("Zoom In")]),e("button",{on:{click:a.zoomOut}},[t._v("Zoom Out")]),e("button",{on:{click:a.rotateLeft}},[t._v("Rotate Left")]),e("button",{on:{click:a.rotateRight}},[t._v("Rotate Right")])]}}])})],1)},l=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"user-chat-remove text-muted font-size-16 p-2",attrs:{href:"javascript: void(0);"}},[e("i",{staticClass:"ri-arrow-left-s-line"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn nav-btn greenbg",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#audiocallModal"}},[e("i",{staticClass:"fas fa-phone-alt"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn nav-btn bluebg",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#videocallModal"}},[e("i",{staticClass:"fas fa-video"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"dropdown-item d-block d-lg-none user-profile-show"},[t._v("View profile "),e("i",{staticClass:"ri-user-2-line float-end text-muted"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-chat-content"},[e("div",{staticClass:"ctext-wrap"},[e("div",{staticClass:"ctext-wrap-content"},[e("p",{staticClass:"mb-0"},[t._v(" typing "),e("span",{staticClass:"animate-typing ps-1"},[e("span",{staticClass:"dot"}),e("span",{staticClass:"dot"}),e("span",{staticClass:"dot"})])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"simplebar-height-auto-observer-wrapper"},[e("div",{staticClass:"simplebar-height-auto-observer"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"read"},[e("i",{staticClass:"ri-check-double-line font-size-15"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"simplebar-track simplebar-horizontal",staticStyle:{visibility:"hidden"}},[e("div",{staticClass:"simplebar-scrollbar",staticStyle:{transform:"translate3d(0px, 0px, 0px)",display:"none"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"simplebar-track simplebar-vertical",staticStyle:{visibility:"hidden"}},[e("div",{staticClass:"simplebar-scrollbar",staticStyle:{transform:"translate3d(0px, 0px, 0px)",display:"none"}})])}],n=(a("13d5"),a("88a7"),a("271a"),a("5494"),a("c1df")),c=a.n(n),d=a("669f"),u=a.n(d),m=a("be92"),p=a("b0ac"),h=a("3939");const g=Object(m["c"])({id:"communication",state:()=>({leftSideFilters:[],contactList:[],hearderContactNameFilter:[],loading:!1,contactDetails:"",responseSubmitContactInfo:"",callTabsInformationState:[],crmDetailRecordState:[],timerStart:0,timerInterval:"",addCommentForCallRes:"",countryState:[],recentCallState:[],callToken:"",deviceSetup:"",incomingAndOutGoingCall:!1,incomingCallData:"",incomingCall:!1,outGoingcallData:"",callEnded:!1,moduleDropdownState:[],subModuleDropdownState:[],incomingcallNumber:"",addUpdateGroupResState:"",groupListState:[],userByGroupIdState:[],deleteGroupResState:"",twilioListaState:[],globalSearch:"",twilioAccountDetails:"",blobUserUrl:"",userInfo:"",RecentChatuser:[]}),getters:{getRecentChatUser:t=>t.RecentChatuser,getLeftSideFilter:t=>t.leftSideFilters,getContactList:t=>t.contactList,getHearderContactNameFilter:t=>t.hearderContactNameFilter,getUserInformation:t=>{const{user:e}=Object(p["b"])();if(e){let t=e.profile;return{ID:t.id,Token:e.access_token,CompanyId:t.companyId,ame:t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"],Name:t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"],UserType:t["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"],TimeFormat:t.timeFormat,Email:t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"],Avatar:t.avatar,ContainerName:t.containerName,CompanyLogo:t.companylogo,Currency:t.Currency,Gender:t.gender,PageSize:t.PageSize,IsWithCC:t.IsWithCC,DoNotShowDirtyCheck:t.DoNotShowDirtyCheck,IsClientCA:t.IsClientCA,CompanyStatusCode:t.companyStatusCode,LoginStatus:t.loginStatus,TimeZoneStatus:t.TimeZoneStatus,IsInTrial:t.IsInTrial,IsDefault:t.isdefault,TimeZone:t.timezone,MenuType:t.menutype,MenuTypeCode:t.menutype,Theme:t.theme,OrgComapanyId:t.OrgComapanyId,CompanyName:t.companyName,EnableMyDashboard:t.EnableMyDashboard,FlagNotificationCheck:t.FlagNotificationCheck,IsVendor:t.IsVendor,IsInitialSetup:t.initialSetup,DateFormat:t.dateFormat,IsContextMenuClosed:!0}}return null},GetSenderDetail:()=>{const{user:t}=Object(p["b"])();if(t){let e=t.profile,a={companyId:e.companyId,id:e.id,emaiId:e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"],name:e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"],imgPath:e.Avatar,type:"web"};return a}return null},getLoadingStatus:t=>t.loading,getContactDetails:t=>t.contactDetails,getResponseSubmitContactInfo:t=>t.responseSubmitContactInfo,getCallTabsInformation:t=>t.callTabsInformationState,getCrmDetailRecord:t=>t.crmDetailRecordState,getAddCommentForCallRes:t=>t.addCommentForCallRes,getcountry:t=>t.countryState,getRecentCall:t=>{let e=[];if(t.recentCallState.length>0){const a=t.recentCallState.reduce((t,e)=>{const a=e.CREATED_AT.split("T")[0];return t[a]||(t[a]=[]),t[a].push(e),t},{});e=Object.keys(a).map(t=>({date:t,calls:a[t]}))}return e},getIncomingAndOutGoingCall:t=>t.incomingAndOutGoingCall,getIncomingCallData:t=>t.incomingCallData,getIncomingCallStatus:t=>t.incomingCall,getOutGoingcallData:t=>t.outGoingcallData,getCallEnded:t=>t.callEnded,getModuleDropdown:t=>t.moduleDropdownState,getSubModuleDropdown:t=>t.subModuleDropdownState,getAddUpdateGroupRes:t=>t.addUpdateGroupResState,getGroupList:t=>t.groupListState,getUserByGroupId:t=>t.userByGroupIdState,getDeleteGroupRes:t=>t.deleteGroupResState,getTwilioList:t=>t.twilioListaState,getGlobalSearch:t=>t.globalSearch,getTwilioAccountDetails:t=>t.twilioAccountDetails,getBlobUserUrl:t=>t.blobUserUrl},actions:{async intitializeDevice(){this.deviceSetup=new h["a"](this.callToken,{logLevel:1,codecPreferences:["opus","pcmu"]}),this.addDeviceListeners(this.deviceSetup),this.deviceSetup.register()},async addDeviceListeners(t){await t.on("registered",(function(){console.log("this.Device Ready to make and receive calls!")})),await t.on("error",(function(t){console.log("this.Device Error:",t)})),t.on("incoming",this.handleIncomingCall),this.deviceSetup.audio.isOutputSelectionSupported},async makeOutgoingCall(t){this.deviceSetup&&(this.outGoingcallData=await this.deviceSetup.connect({params:t}),this.incomingAndOutGoingCall=!0)},handleIncomingCall(t){this.incomingAndOutGoingCall=!0,this.incomingCall=!0,this.incomingCallData=t,this.incomingcallNumber=this.incomingCallData.parameters.From},hangup(){this.incomingAndOutGoingCall=!1,this.outGoingcallData||this.incomingCallData?this.incomingCallData?this.incomingCallData.disconnect():this.outGoingcallData.disconnect():this.deviceSetup&&this.deviceSetup.disconnect(),this.callEnded=!0,this.clearInterval(),this.outGoingcallData="",this.incomingCallData=""},async leftSideFilter(){this.loading=!0;const{data:t}=await r["a"].GetDepartmentsAndLocations("type=user");t&&t.Locations.map(t=>(t.department_name=t.user_city,t)),t&&(this.leftSideFilters=[{type:"Department",data:t.Departments},{type:"Location",data:t.Locations}]),this.loading=!1},async getContact(t){this.loading=!0,this.hearderContactNameFilter=[];const{data:e}=await r["a"].CompanyContact(t);this.contactList=JSON.parse(e);let a=this.contactList.findIndex(t=>t.USER_ID==this.getUserInformation.ID);-1!=a&&this.contactList.splice(a,1),this.loading=!1},async groupList(t){this.loading=!0;const{data:e}=await r["a"].GetAllGroups(t);console.log("data",e),this.groupListState=e,this.loading=!1},async userByGroupId(t){console.log("groupList",t),this.loading=!0;const{data:e}=await r["a"].GetUserByGroupId(t);console.log("data",e),this.userByGroupIdState=e,this.loading=!1},async addOrUpdateGroup(t){this.loading=!0;const{data:e}=await r["a"].updateRoom(t);this.addUpdateGroupResState=e,this.loading=!1},async deleteGroup(t){this.loading=!0;const{data:e}=await r["a"].DeleteGroup(t);this.deleteGroupResState=e,this.loading=!1},async NexoCall(t){this.loading=!0;const{data:e}=await r["a"].NexoCall(t);console.log("data",e),this.loading=!1},async VonageCall(t){this.loading=!0;const{data:e}=await r["a"].VonageCall(t);console.log("data",e),this.loading=!1},async contactInformation(t){this.loading=!0;const{data:e}=await r["a"].GetUserDetailByPhone(t);let a=e?e[0].Value:"";this.contactDetails=JSON.parse(a).JsonData[0],this.loading=!1},async addContactInformation(t){this.loading=!0;const{data:e}=await r["a"].SaveUnifiedContact(t);this.responseSubmitContactInfo=e[0],this.loading=!1},async addCommentForCall(t){this.loading=!0;const{data:e}=await r["a"].SaveCallMapping(t);console.log("testttt",e),this.addCommentForCallRes=e[0],this.loading=!1},async countryGet(){this.loading=!0;var t="id=&moduleName=&type=country&search=&refId=";const{data:e}=await r["a"].GetDDLData(t);this.countryState=e?e.DATA:"",this.loading=!1},async callTabsInformation(t){if("crm"!=t.tab){this.loading=!0;let e="";"Ticket"==t.tab?e="GetUnifiedTicketingListing":"project"==t.tab&&(e="GetUnifiedProjectListing");const{data:a}=await r["a"].GetUnifiedTicketingListing(t.params,e);let s=a?a[0].Value:"";this.callTabsInformationState=s?JSON.parse(s).DATA:[],this.loading=!1}},async crmDetailRecord(t){this.loading=!0;let e="",a="";"Leads"==t.tab?e="GetUnifiedLeadDetail":"CRM_DEALS"==t.tab?e="GetUnifiedDealDetail":"Quote"==t.tab?(e="GetUnifiedOrderListing",a="QO"):"PurchaseOrderWithoutRef"==t.tab?(e="GetUnifiedOrderListing",a="PO"):"CRM_SALES_ORDERS"==t.tab?(e="GetUnifiedOrderListing",a="SO"):"Invoices"==t.tab&&(e="GetUnifiedOrderListing",a="INV");const{data:s}=await r["a"].GetUnifiedOrderListing(t.params+"&type_code="+a,e);let i=s?s[0].Value:"";this.crmDetailRecordState=i?JSON.parse(i).DATA:[],this.loading=!1},async callTimerStart(){clearInterval(this.timerInterval),this.timerInterval=setInterval(()=>{this.timerStart++},1e3)},async recentCalls(t){this.loading=!0;const{data:e}=await r["a"].getRecentcalls(t);this.recentCallState=e&&e[0].Value?JSON.parse(e[0].Value):[],this.loading=!1},clearInterval(){clearInterval(this.timerInterval)},async moduleDrowdown(t){this.loading=!0;const{data:e}=await r["a"].DropDownForAddComment(t);this.moduleDropdownState=e.data,this.loading=!1},async subModuleDrowdown(t){this.loading=!0;const{data:e}=await r["a"].DropDownForSubmodule(t);let a=e?e[0].Value:"";this.subModuleDropdownState=a?JSON.parse(a).DATA:[],this.loading=!1},async twilioList(t){this.loading=!0;const{data:e}=await r["a"].TwilioList(t);this.twilioListaState=e?JSON.parse(e[0].value):[],console.log("this.twilioListaState",this.twilioListaState),this.loading=!1},async GetTwilioUserConfigDetail(t){const{data:e}=await r["a"].GetTwilioUserConfigDetail(t);let a=e?JSON.parse(e[0].value):"";this.twilioAccountDetails=a?a.DATA[0]:""},async GetBlobUrl(t){const{data:e}=await r["a"].GetBlobUrl();console.log("this.userInfo",this.getUserInformation.ContainerName),this.blobUserUrl=e[0].CONFIG_DATA_VALUE+this.getUserInformation.ContainerName+"/Upload/UserProfileImage/"}}});a("542c");var f=a("825ae"),v=a("79b5"),C=a("b9b9"),_=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"modal d-block forwardmodal",attrs:{id:"forwarcontactModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content p-0"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[1==t.isNewContact?e("i",{staticClass:"fas fa-arrow-left pe-2",on:{click:t.backToRecentChat}}):t._e(),t._v(t._s(t.isNewContact?" Forward to new contact":"Forward To")+" ")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.ForwardClose}})]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"d-flex p-0 align-items-center mb-3"},[e("div",{staticClass:"search-box chat-search-box w-100"},[e("div",{staticClass:"input-group mb-0 rounded-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearchForward,expression:"txtSearchForward"}],staticClass:"form-control bg-light",attrs:{type:"text",placeholder:t.searchPlaceholder,"aria-label":"Search messages or users","aria-describedby":"basic-addon1"},domProps:{value:t.txtSearchForward},on:{keyup:function(e){return t.SearchUsears(e)},input:function(e){e.target.composing||(t.txtSearchForward=e.target.value)}}}),t._m(0)])]),0==t.isNewContact?e("div",{staticClass:"adduser"},[e("a",{attrs:{href:"#","data-bs-toggle":"modal","data-bs-target":"#forwarcontactModal"},on:{click:t.contactPreview}},[e("i",{staticClass:"fas fa-user-plus"})])]):t._e()]),e("h6",[t._v(" "+t._s(t.isNewContact?"Contacts":"Recent Chats"))]),e("div",{staticClass:"recentchats"},[e("ul",[1==t.isNewContact?t._l(t.filterRecentUser(t.ForwardUsersList),(function(a,s){return e("li",{key:s},[e("div",{staticClass:"d-flex p-0 align-items-center"},[e("div",{staticClass:"avatar-md me-2"},[e("img",{staticClass:"img-thumbnail rounded-circle",attrs:{src:a.USER_IMAGE?a.USER_IMAGE:t.defaultImg,alt:""}})]),e("h5",{staticClass:"text-truncate mb-0 me-auto"},[t._v(t._s(a.CONTACTNAME))]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.forwardCheckBox,expression:"forwardCheckBox"}],staticClass:"form-check-input",attrs:{type:"checkbox",disabled:t.forwardCheckBox.length>=10&&!t.forwardCheckBox.includes(a.USER_ID),id:"privacy-lastseenSwitch"},domProps:{value:a.USER_ID,checked:Array.isArray(t.forwardCheckBox)?t._i(t.forwardCheckBox,a.USER_ID)>-1:t.forwardCheckBox},on:{change:[function(e){var s=t.forwardCheckBox,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=a.USER_ID,l=t._i(s,o);i.checked?l<0&&(t.forwardCheckBox=s.concat([o])):l>-1&&(t.forwardCheckBox=s.slice(0,l).concat(s.slice(l+1)))}else t.forwardCheckBox=r},t.handleCheckboxChange]}}),e("label",{staticClass:"form-check-label",attrs:{for:"privacy-lastseenSwitch"}})])])])})):t._e(),0==t.isNewContact?t._l(t.recentChatUserList,(function(a,s){return e("li",{key:s},[e("div",{staticClass:"d-flex p-0 align-items-center"},[e("div",{staticClass:"avatar-md me-2"},[e("img",{staticClass:"img-thumbnail rounded-circle",attrs:{src:a.AVATAR?a.AVATAR:t.defaultImg,alt:""}})]),e("h5",{staticClass:"text-truncate mb-0 me-auto"},[t._v(t._s(a.GROUP_NAME))]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.forwardCheckBox,expression:"forwardCheckBox"}],staticClass:"form-check-input",attrs:{type:"checkbox",disabled:t.forwardCheckBox.length>=10&&!t.forwardCheckBox.includes(a.GROUP_ID),id:"privacy-lastseenSwitch"},domProps:{value:a.GROUP_ID,checked:Array.isArray(t.forwardCheckBox)?t._i(t.forwardCheckBox,a.GROUP_ID)>-1:t.forwardCheckBox},on:{change:[function(e){var s=t.forwardCheckBox,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=a.GROUP_ID,l=t._i(s,o);i.checked?l<0&&(t.forwardCheckBox=s.concat([o])):l>-1&&(t.forwardCheckBox=s.slice(0,l).concat(s.slice(l+1)))}else t.forwardCheckBox=r},t.handleCheckboxChange]}}),e("label",{staticClass:"form-check-label",attrs:{for:"privacy-lastseenSwitch"}})])])])})):t._e()],2)])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"d-flex align-items-center w-100"},[e("button",{staticClass:"btn btn-primary font-size-16 btn-lg chat-send waves-effect waves-light",class:{disabled:0==t.forwardCheckBox.length},attrs:{type:"submit"},on:{click:function(e){return t.ForwardToUser(t.forwardCheckBox)}}},[e("svg",{attrs:{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"m2.72112607 2.05149449 15.35446653 7.565969c.247703.12205658.3495596.42180601.227503.66950901-.048698.0988284-.1286747.1788051-.227503.2275031l-15.3541508 7.5658134c-.24770306.1220566-.54745246.0202-.66950904-.227503-.0533719-.1083136-.06574404-.2322825-.03483109-.3490077l1.52125123-5.7446792c.05030971-.1899839.20725125-.3328751.40110728-.3651979l6.88094892-1.1473027c.0842946-.0140491.1539978-.0697032.1874987-.1453514l.018-.0601474c.0194561-.11673645-.0453599-.22804672-.1500414-.27176154l-.0554573-.01593664-6.91980045-1.15330008c-.1939323-.03232205-.35092201-.17529727-.401185-.36537116l-1.48266862-5.60684181c-.07063055-.26695681.08852333-.54062543.35548014-.61125598.11669248-.03087411.24061464-.01849152.3488909.034862z",fill:"#fff"}})])])])])])])])])},b=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"input-group-text text-muted bg-light pe-3 ps-3 border-0",attrs:{id:"basic-addon1"}},[e("i",{staticClass:"ri-search-line search-icon font-size-18"})])}],S={data(){return{defaultImg:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",selectUserIds:[],txtSearchForward:"",isNewContact:!1,recentChatUserList:[],forwardCheckBox:[],ForwardUsersList:[]}},computed:{searchPlaceholder(){return this.isNewContact?"Search by name, email, and number":"Search by name and email"}},created:async function(){this.tmpFilter=this.store.getContactList,this.recentChatUserList=this.store.getRecentChatUser,this.searchFilterRecentChatUser=this.recentChatUserList},methods:{handleCheckboxChange(t){if(10==this.forwardCheckBox.length)return this.ShowAlert(this.$t("ForwardUserLimit"),"warning",!0,this.$t("Alert")),!1},filterRecentUser:function(){var t=this;return t.recentChatUserList.forEach(e=>{var a=t.ForwardUsersList.findIndex(t=>t.USER_ID==e.RECEIVER_ID);-1!=a&&t.ForwardUsersList.splice(a,1)}),t.ForwardUsersList},SearchUsears:function(t){var e=this;let a="",s="",i=e.txtSearchForward.toLowerCase();t&&"Backspace"!=t.key?(e.ForwardUsersList=[],a=e.tmpFilter.filter(t=>t.CONTACTNAME&&t.CONTACTNAME.toLowerCase().includes(i)||t.EMAIL_ID&&t.EMAIL_ID.toLowerCase().includes(i)||t.USER_PHONE&&t.USER_PHONE.toLowerCase().includes(i)),e.ForwardUsersList=a,e.recentChatUserList=[],s=e.searchFilterRecentChatUser.filter(t=>t.GROUP_NAME&&t.GROUP_NAME.toLowerCase().includes(i)||t.EMAIL_ID&&t.EMAIL_ID.toLowerCase().includes(i)),e.recentChatUserList=s):t&&"Backspace"==t.key?(e.ForwardUsersList=[],a=e.tmpFilter.filter(t=>t.CONTACTNAME&&t.CONTACTNAME.toLowerCase().includes(i)||t.EMAIL_ID&&t.EMAIL_ID.toLowerCase().includes(i)||t.USER_PHONE&&t.USER_PHONE.toLowerCase().includes(i)),e.ForwardUsersList=a,e.recentChatUserList=[],s=e.searchFilterRecentChatUser.filter(t=>t.GROUP_NAME&&t.GROUP_NAME.toLowerCase().includes(i)||t.GROUP_NAME&&t.GROUP_NAME.toLowerCase().includes(i)),e.recentChatUserList=s):(e.ForwardUsersList=e.tmpFilter,e.recentChatUserList=this.store.getRecentChatUser)},contactPreview:function(){this.txtSearchForward="",this.ForwardUsersList=this.tmpFilter,this.recentChatUserList=this.searchFilterRecentChatUser,this.isNewContact=!0},backToRecentChat:function(){this.txtSearchForward="",this.ForwardUsersList=this.tmpFilter,this.recentChatUserList=this.searchFilterRecentChatUser,this.isNewContact=!1},isSelected(t){if(void 0!=this.selectedUserIds)return this.selectedUserIds.includes(t)},ForwardToUser:function(t){this.$parent.messageForward(t)},ForwardClose:function(){this.$parent.forwardCancel()}},setup(){const t=g();return{store:t}}},y=S,w=a("2877"),I=Object(w["a"])(y,_,b,!1,null,null,null),x=I.exports;const A=a("bc3a").default;document;var T={props:{chatUserInfo:{required:!0},Groupdata:{required:!0},groupId:{type:String},groupNameDisplay:{type:String},store:{type:Object},GroupAliasName:{type:String},ChatUserListData:{required:!0},userGroupId:{type:String},RecieverId:{type:String},searchByGlobal:{type:String},isCreateGroup:{type:Boolean},fileInProgress:{type:Boolean},progressValue:{type:Number}},components:{"emoji-picker":u.a,VueEasyLightbox:f["a"],VEmojiPicker:v["a"],ForwardPopup:x},data(){return{name:"Demo",txtMessage:"",visiblePop:!1,moment:c.a,type:"web",mobileType:"",isReplytoMessage:!1,replyOnData:[],isForwardToUser:!1,defaultImg:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",input:"",search:"",isShowCloseSearchIcon:!1,txtSearchForward:"",selectUserIds:[],chaTIdForForward:"",isChatActive:!0,isFileActive:!1,GifImageData:[],isShowGifPanel:!1,gifSource:"",isDataLoaded:!0,isSearchTxt:!0,txtSearchMessage:"",cssArea:"",isGif:!0,GroupUsersData:[],isShowGroupUsers:!1,GroupData:[],sortExp:"",sortBy:"",city:"",UsersListDataForGroups:[],blinkText:null,indexArr:[],scrollCount:0,blobUrl:"",containerName:"",imgPath:"",blobUserUrl:"",pageNum:1,pageSize:"",departmentId:"",Loaddatashow:!0,lastRow:0,isShearchForMsg:!0,searchGIFbyTxt:!1,ChatFileList:[],blinkRepliedText:null,isTyping:"",typing:!1,timeout:void 0,user:null,isShowTyping:!1,isTypingImage:"https://talygenv.github.io/Vue-UI-Content/images/UC/typingo.gif",allchatPersons:[],groupShow:!1,Grouptitle:"",selectedMembers:[],activeGroup:"",updategroup:!1,MemberList:[],enabled:!0,isChatOnGroup:!1,isTypingGroupId:"",isDataGifLoaded:!1,isGrouped:!1,selectedLayout:"Default",lastRecordNumber:50,imgs:"",visible:!1,index:0,IsreactOnMessage:!1,isRecording:!1,mediaRecorder:null,audioChunks:[],audioUrl:null,uploadUrl:"https://qatestfilemedia.talygen.com/api/UploadStreamNew",headphonesConnected:!1,isMessageEdit:!1,MessagePlaceholder:"",chatMessageToken:"",showMessageInfo:!1,EditMessagInfoListData:[],reactionToUser:[],ReactionID:"",recordingTimer:null,recordingTime:0,intervalId:null,chatHistoryDetails:[],actionMessagePopupShow:"",sender:this.store.GetSenderDetail,copySuccessMessage:"",globalAction:!1,isDataNotNull:!1,isProfilePreview:!1,AttachmentFileDetail:[],token:"",uploadUrl:"https://qatestfilemedia.talygen.com/api/UploadStreamNew",gifShow:!1,ImageItemToDownload:"",imageLightBoxData:"",audioBlob:null,recordingSendOrDelete:!1,Isrecenttab:!1,IsSelected:!1,recentEmojis:JSON.parse(localStorage.getItem("recentEmojis"))||[],isGroupMessageSearch:!1,searchMessageTxt:"",searchedMessageList:[]}},computed:{groupShowProps:function(){return this.isCreateGroup},fileInProgressShow:function(){return this.fileInProgress},progressValueShow:function(){return this.progressValue},todayDate:function(){return(new Date).toISOString().split("T")[0]}},watch:{"store.$state.globalSearch":{immediate:!0,handler(){""!=this.store.$state.globalSearch?(this.enabled=!1,this.HighlightOnReplyItem(this.store.$state.globalSearch)):this.enabled=!0}}},mounted(){const t=document.querySelector("#div_chatDetails");null!=t&&t.addEventListener("scroll",e=>{console.warn("e",e),1==t.scrollTop&&(this.Loaddatashow=!0)})},beforeDestroy(){},created:async function(){var t;let e=this;e.MessagePlaceholder="Your Message",e.GetUserInfo=e.GetUserInfo?e.GetUserInfo:e.store.getUserInformation,e.containerName=null===(t=e.GetUserInfo)||void 0===t?void 0:t.ContainerName,e.messageSetting(),await e.store.GetBlobUrl(),e.type="web",e.mobileType&&(e.type="mobile");let a={companyId:e.store2.GetUserInfo.CompanyId,id:e.store2.GetUserInfo.ID,emaiId:e.store2.GetUserInfo.Email,name:e.store2.GetUserInfo.Name,imgPath:e.store.getBlobUserUrl+e.store2.GetUserInfo.Avatar,type:e.type,userId:this.store2.GetUserInfo.ID};e.selectedMembers=[],e.selectedMembers.push({USER_ID:e.GetUserInfo.ID,CONTACTNAME:e.GetUserInfo.Name}),e.sender=a,e.isDataLoaded=!1},sockets:{geMessageSearcgDataOut:function(t){this.searchedMessageList=t},historyMessage:function(t){this.historyMessageDetails(t)},newMessageAttachment:async function(t){var e=this,a=new Date;t.roomId==e.chatHistoryDetails.groupDetail.GROUP_ID&&t.userId==e.sender.id&&e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.text,GROUP_ID:t.roomId,FROM_USER_ID:t.from,CREATED_AT:a,MESSAGE_TOKEN:t.token,AVATAR:t.fromUserImg,IS_READ:0,USER_NAME:t.name,FILEPATH:t.url,STORAGE_FILE_NAME:t.file,STORAGE_FILE_SIZE:t.size,ATTACHMENT:1,FILEEXTENSION:"attachment"==t.text?".jpg":"voice"==t.text?".wav":"application"==t.text?".pdf":"audio"==t.text?".mp3":".mp4",reactedUser:null,PARENT_MESSAGE:t.parent_msg,CHAT_LOG_REF_ID:t.parentId,PARENT_DETAIL:t.msg_detail}),e.scrollBottom()},newMessage:function(t){var e=this,a=new Date;if(""==t.chatMessageToken||void 0==t.chatMessageToken)t.parentId?e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.text,GROUP_ID:t.room,FROM_USER_ID:e.store2.GetUserInfo.ID,CREATED_AT:a,MESSAGE_TOKEN:t.msg_token,AVATAR:t.sImg,IS_READ:0,USER_NAME:t.from,PARENT_MESSAGE:t.parent_msg,CHAT_LOG_REF_ID:t.parentId,PARENT_DETAIL:t.msg_detail,reactedUser:null}):e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.text,GROUP_ID:t.room,FROM_USER_ID:e.store2.GetUserInfo.ID,CREATED_AT:a,MESSAGE_TOKEN:t.msg_token,AVATAR:t.sImg,IS_READ:0,USER_NAME:t.from,reactedUser:null});else{var s=e.chatHistoryDetails.resultSet.findIndex(e=>e.MESSAGE_TOKEN==t.chatMessageToken);-1!==s&&(e.$set(e.chatHistoryDetails.resultSet[s],"MESSAGE",t.text),e.$set(e.chatHistoryDetails.resultSet[s],"CREATED_AT",a))}setTimeout(()=>{e.$socket.emit("get All Chat Persons",e.sender)},500),e.isDataLoaded=!1,e.scrollBottom()},broadcastContact:async function(t){var e=this,a=new Date;if(""==t.chatMessageToken||void 0==t.chatMessageToken)t.room>0&&t.userId==e.sender.id&&t.room==e.chatHistoryDetails.groupDetail.GROUP_ID&&e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.msg,GROUP_ID:t.room,FROM_USER_ID:t.fromUserId,CREATED_AT:a,MESSAGE_TOKEN:t.msg_token,AVATAR:""==t.fromUserImg||null==t.fromUserImg?e.defaultImg:e.store.getBlobUserUrl+t.fromUserImg,IS_READ:0,FILEPATH:t.url,IS_FORWARD:t.is_forward,REF_FORWARD_ID:t.REF_FORWARD_ID,USER_NAME:t.fromUser,PARENT_MESSAGE:""==t.parentTxt?"":t.parentTxt,CHAT_LOG_REF_ID:t.parentId,PARENT_DETAIL:t.msg_detail,STORAGE_FILE_NAME:t.file,STORAGE_FILE_SIZE:t.size,ATTACHMENT:t.is_attachment,FILEEXTENSION:t.FILEEXTENSION,reactedUser:null});else{var s=e.chatHistoryDetails.resultSet.findIndex(e=>e.MESSAGE_TOKEN==t.chatMessageToken);t.userId==e.sender.id&&t.room==e.chatHistoryDetails.groupDetail.GROUP_ID&&(e.$set(e.chatHistoryDetails.resultSet[s],"MESSAGE",t.msg),e.$set(e.chatHistoryDetails.resultSet[s],"CREATED_AT",a))}setTimeout(()=>{e.$socket.emit("get All Chat Persons",e.sender)},500),setTimeout(()=>{let t={companyId:e.sender.companyId,userId:e.sender.id,emaiId:e.sender.emaiId,name:e.sender.name,imgPath:e.store.getBlobUserUrl+e.sender.imgPath,type:e.type};e.$socket.emit("user total",t)},500),e.isDataLoaded=!1},newMessageForward:function(t){var e=this,a=new Date;t.room==e.chatHistoryDetails.groupDetail.GROUP_ID&&t.to_user==e.sender.id&&(e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.text,GROUP_ID:t.room,FROM_USER_ID:e.store2.GetUserInfo.ID,CREATED_AT:a,MESSAGE_TOKEN:t.msg_token,AVATAR:t.sImg==e.store.getBlobUserUrl?e.defaultImg:t.sImg,IS_READ:0,FILEPATH:t.url,IS_FORWARD:t.is_forward,REF_FORWARD_ID:t.REF_FORWARD_ID,USER_NAME:t.from,PARENT_MESSAGE:"",CHAT_LOG_REF_ID:null,PARENT_DETAIL:"",ATTACHMENT:t.is_attachment,STORAGE_FILE_NAME:t.file,FILEEXTENSION:t.FILEEXTENSION,reactedUser:null}),e.chatHistoryDetails.room=t.room),setTimeout(()=>{e.$socket.emit("get All Chat Persons",e.sender)},500),e.scrollBottom(),e.isDataLoaded=!1},display:function(t){var e=this;if(1==t.typing){if(0==t.IsGroup)e.isChatOnGroup=t.IsGroup,t.Group==e.chatHistoryDetails.groupDetail.GROUP_ID&&(e.isTypingGroupId=e.chatHistoryDetails.groupDetail.GROUP_ID,null!=e.chatHistoryDetails.groupDetail&&t.user!=e.sender.id?(e.isTyping=e.chatHistoryDetails.groupDetail.GROUP_NAME+" typing",e.isShowTyping=!0,setTimeout((function(){e.isTyping="",e.isTypingGroupId="",e.isShowTyping=!1}),6e3)):(e.isTyping="",e.isTypingGroupId="",e.isShowTyping=!1));else if(1==t.IsGroup&&(e.isChatOnGroup=t.IsGroup,t.user!=e.sender.id)){this.ChatUserListData.find(e=>e.GROUP_ID==t.Group);e.isTypingGroupId=e.chatHistoryDetails.groupDetail.GROUP_ID;var a=this.store.getRecentChatUser.find(e=>e.USER_ID==t.user);e.allchatPersons.push(a.USER_IMAGE);var s=[...new Set(e.allchatPersons)];e.isTyping=s,e.isShowTyping=!0,setTimeout((function(){e.isTyping="",e.allchatPersons=[],e.isTypingGroupId="",e.isShowTyping=!1}),6e3)}}else t.user==e.sender.id&&(e.txtMessage=""),e.isTyping="",e.gifSource="",e.isTypingGroupId="",e.cssArea="block",e.isShowTyping=!1},GroupUpdated:async function(t){var e=this;e.ShowAlert(t,"success",!0,e.$t("Alert")),e.$parent.closeGroup(),e.groupId="";let a={id:e.store.getUserInformation.ID,emaiId:"",companyId:e.store.getUserInformation.CompanyId};e.$socket.emit("GetAllMyGroup",a,(function(){}))},UpdateEmojiReactions:async function(t){var e=this;const a=e.chatHistoryDetails.resultSet.findIndex((function(e){return e.MESSAGE_TOKEN==t.message_token}));if(-1!==a){let s=JSON.parse(e.chatHistoryDetails.resultSet[a].reactedUser);if(void 0!=s&&null!=s)if(s.DATA&&s.DATA.length>0){const e=s.DATA.findIndex((function(e){return Number(e.ReactionId)==Number(t.ReactionId)}));-1!==e?s.DATA[e].ReactionType=t.ReactionType:s.DATA.push(t);const a=s.DATA.reduce((t,e)=>{const a=t.find(t=>t.ReactionId===e.ReactionId);return a||t.push(e),t},[]);s.DATA=a}else s.DATA=[t];else s={DATA:[t]};e.chatHistoryDetails.resultSet[a].reactedUser=JSON.stringify(s)}},EditedMessageListInfo:function(t){var e=this;t.recordset.length>0?t.recordset[0].FROM_USER_ID==e.sender.id&&(e.showMessageInfo=!0,e.EditMessagInfoListData=t.recordset):(e.showMessageInfo=!0,e.EditMessagInfoListData=0)}},directives:{focus:{inserted(t){t.focus()}}},updated(){},methods:{clearSearchedText:function(){this.searchMessageTxt="",this.searchedMessageList=[]},closeSearchPop:function(){this.isGroupMessageSearch=!1},highlightMessage(t,e){if(!e)return t;const a=new RegExp(`(${e})`,"gi");return t.replace(a,"<b>$1</b>")},ShowSearchMessageArea:function(){this.isGroupMessageSearch=!0},SearchGroupMessage:function(){var t=this,e={};""!=t.searchMessageTxt.trim()&&(e.companyId=t.sender.companyId,e.id=t.sender.id,e.searchKeyword=t.searchMessageTxt,e.groupId=t.chatHistoryDetails.groupDetail.GROUP_ID,t.$socket.emit("search group message list",e,(function(){})))},getMembers:function(t){let e=t.GROUP_NAME_ALIAS.split("_");return e.length},isImageAndVideoFiles(t){return[".jpg",".png",".mp4",".3gp"].includes(t)},isImage(t){return[".jpg",".png"].includes(t)},isDocument(t){return[".pdf",".xls",".doc"].includes(t)},documentIcon(t){return{".pdf":"fa fa-file-pdf-o",".xls":"fas fa-file-excel",".doc":"fas fa-file-word"}[t]},openFileInput:function(){document.getElementById("up").click()},setFile:function(t){var e=this;e.AttachmentFileDetail.push(t.target.files[0]),e.SendAttachment()},SendAttachment:async function(){this.token=this.GetUserInfo?this.GetUserInfo.Token:"";var t=this;let e="",a="";if(t.replyOnData.length>0&&(e=t.replyOnData[0].CHATLOG_ID,a=t.replyOnData[0].MESSAGE,e>0)){var s="";s=e>0?"1~"+t.replyOnData[0].USER_NAME+"~"+t.replyOnData[0].MESSAGE_TOKEN:"0~"+t.replyOnData[0].USER_NAME+"~"+t.replyOnData[0].MESSAGE_TOKEN}var i=new FormData;i.append("fileId",0),i.append("folderId",0),i.append("moduleName","Communication"),i.append("subModuleName",""),i.append("isGlobal",0),i.append("file",t.AttachmentFileDetail[0]),A.post(this.uploadUrl,i,{headers:{Authorization:"Bearer "+this.token}}).then(i=>{if(null==i.data.errorMsg){if(JSON.parse(i.data.FileID)[0].Value>0){t.SavedFileId=JSON.parse(i.data.FileID)[0].Value;var r={companyId:t.sender.companyId,userId:t.sender.id,parentId:e,parentTxt:"undefined"==typeof a?"":a,parentDetail:"undefined"===typeof s?"":s,roomId:t.chatHistoryDetails.groupDetail.GROUP_ID,email:t.sender.Email,storagefileId:parseInt(t.SavedFileId),finalUrl:null,fileType:"image"==i.data.FileType?"attachment":i.data.FileType,file:i.data.FileName,size:i.data.FileSize,url:i.data.FilePath,from:t.sender.id,typePath:i.data.FileType};t.$socket.emit("Send attachments",r),t.ReplyCross(),t.isLoading=!1,setTimeout(()=>{t.fileInProgress=!1},100)}t.AttachmentFileDetail=[]}else t.fileInProgress=!1,t.ShowAlert(i.data.errorMsg,"failure",t.$t("Alert")),t.AttachmentFileDetail=[]}).catch(e=>{console.error(e),t.isLoading=!1});let r={companyId:t.sender.companyId,userId:t.sender.id,emaiId:t.sender.emaiId,name:t.sender.name,imgPath:t.store.getBlobUserUrl+t.sender.imgPath,type:t.type};t.$socket.emit("user total",r)},checkScreenAndAddCall(){var t=document.body.clientWidth;if(t<992){const t=document.querySelector(".user-chat");t.classList.add("user-chat-show")}},removeClass(){let t=document.querySelector(".user-chat");t.classList.remove("user-chat-show")},scrollBottom(){this.chatHistoryDetails.resultSet.length>0&&this.$nextTick(()=>{let t=document.getElementById("scrollableDiv");if(t){let e=t.children,a=e[e.length-1];a.scrollIntoView({behavior:"smooth",block:"end"})}})},UserProfileClick:function(){this.isProfilePreview=!0},globalPopupOpen:function(){this.globalAction=!1},copyToClipboard(t){try{navigator.clipboard.writeText(t.MESSAGE),this.actionMessagePopupShow=!1}catch(e){this.actionMessagePopupShow=!1,console.error("Failed to copy: ",e)}this.actionMessagePopupShow=""},actionMessagePopupOpen(t){this.actionMessagePopupShow==t.CHATLOG_ID?this.actionMessagePopupShow="":this.actionMessagePopupShow=t.CHATLOG_ID},actionMessagePopup(){this.actionMessagePopupShow=""},historyMessageDetails:function(t){var e=this;"undefined"!==t.resultSet&&t.resultSet.length>0?(e.chatHistoryDetails=t,setTimeout(()=>{e.scrollBottom()},1e3)):(e.chatHistoryDetails=[],e.chatHistoryDetails=t),e.isDataNotNull=!0},closepopup(){this.IsreactOnMessage=!1},reactEmoji(t,e=null){this.reactionToUser=t,null!=this.reactionToUser&&""!=this.reactionToUser?(this.Isrecenttab=!0,this.IsreactOnMessage&&e&&(this.ReactionID=e.ReactionId)):(this.reactionToUser=t,this.IsreactOnMessage=!0)},OpenEmojiSelector(){this.IsreactOnMessage=!0,setTimeout(()=>{this.Isrecenttab=!1},100)},emojiClose(){this.IsreactOnMessage=!1,this.Isrecenttab=!1},sameUserAddEmoji(t){let e=t.find(t=>t.UserId==this.sender.id);return!e},selectEmoji(t){this.updateRecentEmojis(t);var e=this;if(null!=this.reactionToUser&&""!=this.reactionToUser){e.IsreactOnMessage=!1;var a=e.reactionToUser;this.IsreactOnMessage=!1,e.$socket.emit("messageRactions",{smileImage:t.data,chatlog_id:a.CHATLOG_ID,fromUser:e.store.getUserInformation.ID,toUser:a.TO_USER_ID,groupid:a.GROUP_ID,message_token:a.MESSAGE_TOKEN,reactionId:e.ReactionID},(function(){}))}else e.txtMessage+=t.data},updateRecentEmojis(t){this.recentEmojis.length<=0?this.recentEmojis=["😀","😁","😂","🤣","😃"]:this.recentEmojis.includes(t.data)||(this.recentEmojis.unshift(t.data),this.recentEmojis.length>5&&this.recentEmojis.pop(),localStorage.setItem("recentEmojis",JSON.stringify(this.recentEmojis)))},downloadImage:function(){var t=`fileId=${this.ImageItemToDownload.STORAGE_FILE_ID}&IsVersion=0`;r["a"].DownloadFileSingle(t).then(t=>{var e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",this.ImageItemToDownload.STORAGE_FILE_NAME),document.body.appendChild(a),a.click()})},CloseMessageInfo:function(){var t=this;t.showMessageInfo=!1},editMessageInfo:function(t){var e=this,a={};a.groupId=t.GROUP_ID,a.userId=e.sender.id,a.companyId=e.sender.companyId,a.messageeToken=t.MESSAGE_TOKEN,a.email=e.sender.emaiId,e.$socket.emit("edited message Info",a)},formatDateToISO(t){const e=new Date(t);return e.toISOString()},EditMessage:function(t){var e=this;e.txtMessage=t.MESSAGE,e.isMessageEdit=!0,e.isSearchTxt=!1,e.isSearchTxt=!1,e.MessagePlaceholder="Edit Message",e.chatMessageToken=t.MESSAGE_TOKEN},checkIsGIFForEditMessage:function(t){return!/<img[^>]+src="([^">]+)"/.test(t)},async startRecording(){let t=await navigator.mediaDevices.enumerateDevices();if(this.headphonesConnected=t.length>0,this.headphonesConnected){const t=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.ondataavailable=t=>{this.audioChunks.push(t.data)},this.mediaRecorder.start(),this.mediaRecorder.onstop=this.handleStop,this.isRecording=!0,this.recordingTime=0,this.intervalId=setInterval(()=>{this.recordingTime++,this.recordingTime},1e3)}else this.ShowAlert(this.$t("ConnectDevice"),"failure",!0,this.$t("Alert"))},stopRecording(t){this.recordingSendOrDelete=t,clearInterval(this.intervalId),this.mediaRecorder.stop(),this.isRecording=!1},handleStop(){this.recordingSendOrDelete||(this.audioBlob=new Blob(this.audioChunks,{type:"audio/wav"}),this.uploadAudio(this.audioBlob)),this.audioChunks=[],clearTimeout(this.recordingTimer),this.recordingTimer=null,clearInterval(this.intervalId),this.intervalId=null,this.mediaRecorder=null,this.recordingTime=0},async uploadAudio(t){var e=this;let a="",s="";if(e.replyOnData.length>0&&(a=e.replyOnData[0].CHATLOG_ID,s=e.replyOnData[0].MESSAGE,a>0)){var i="";i=a>0?"1~"+e.replyOnData[0].USER_NAME+"~"+e.replyOnData[0].MESSAGE_TOKEN:"0~"+e.replyOnData[0].USER_NAME+"~"+e.replyOnData[0].MESSAGE_TOKEN}this.token=e.GetUserInfo?e.GetUserInfo.Token:"";const r=new FormData;r.append("file",t,"recording.wav"),r.append("fileId",0),r.append("folderId",0),r.append("moduleName","Communication"),r.append("subModuleName",""),r.append("isGlobal",0),await A.post(e.uploadUrl,r,{headers:{Authorization:"Bearer "+e.token}}).then(t=>{if(null==t.data.errorMsg){if(JSON.parse(t.data.fileID)[0].Value>0){e.SavedFileId=JSON.parse(t.data.fileID)[0].Value;var r={companyId:e.sender.companyId,userId:e.sender.id,parentId:a,fileType:"voice",parentTxt:"undefined"===typeof s?"":s,parentDetail:"undefined"===typeof i?"":i,roomId:e.chatHistoryDetails.groupDetail.GROUP_ID,email:e.sender.Email,storagefileId:parseInt(e.SavedFileId),finalUrl:null,file:t.data.fileName,size:t.data.fileSize,url:t.data.filePath,from:e.sender.id,typePath:t.data.fileType};e.$socket.emit("Send attachments",r),e.ReplyCross(),e.isLoading=!1,setTimeout(()=>{e.fileInProgress=!1},100)}this.mediaRecorder.stop(),this.isRecording=!1}else e.fileInProgress=!1,this.mediaRecorder.stop(),this.isRecording=!1,e.ShowAlert(t.data.errorMsg,"failure",e.$t("Alert"))})},fileProgress(){var t=document.getElementById("fileProgressId");t.scrollIntoView({behavior:"smooth",block:"start"})},handleHide(){this.ImageItemToDownload="",this.visible=!1},openLightbox:function(t,e,a,s){if(this.imageLightBoxData=s,this.ImageItemToDownload=s,".jpg"==e||".png"==e)this.visible=!0,this.index=0,this.imgs=[{title:a,src:t}];else{var i=`fileId=${s.STORAGE_FILE_ID}&IsVersion=0`;r["a"].DownloadFileSingle(i).then(t=>{var e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",s.STORAGE_FILE_NAME),document.body.appendChild(a),a.click()})}},messageSetting(){r["a"].GetUserChatSetting().then(({data:t})=>{let e=t?JSON.parse(t[0].value):"";var a=e?e[0].layout_type:"";this.selectedLayout=a||"Default"})},filterSameUser(t){var e;t&&(t=t.map(t=>({...t,sameName:null})),t.map((a,s)=>(e==a.FROM_USER_ID?s==t.length-1?(t[s].sameName=1,t[s-1].sameName=0):(a.sameName=0,t[s-1].sameName=0):0!=s?s==t.length-1?(t[s-1].sameName=1,t[s].sameName=1):(t[s-1].sameName=1,a.sameName=0):a.sameName=1,e=e!=a.FROM_USER_ID?a.FROM_USER_ID:e,a.reactedUser=a.reactedUser&&"object"!=typeof a.reactedUser?JSON.parse(a.reactedUser).DATA:a.reactedUser,a)));return t&&t.length>0?this.groupBydates(t):[]},selectLayoutType:function(t){var e=this;e.selectedLayout=t},ShowTransitionOnReply:function(t,e){var a=this;let s="";if("fromReplied"==e){if(s=t.PARENT_DETAIL.split("~")[2],""!=s){var i=0,r=a.chatHistoryDetails.resultSet.filter(t=>t.MESSAGE_TOKEN==s);if(null!=r||""!=r||void 0!=r){var o=document.getElementById("chatLog_"+r[i].CHATLOG_ID);o.scrollIntoView({behavior:"smooth",block:"start"}),a.blinkRepliedText=r[i].CHATLOG_ID,setTimeout((function(){a.blinkRepliedText="",a.store.$state.globalSearch=""}),8e3)}}}else"fromGlobalSearch"==e&&setTimeout(()=>{var e=a.chatHistoryDetails.resultSet.filter(e=>e.CHATLOG_ID==t.RECORD_ID);if(-1!=e&&void 0!=e){var s=document.getElementById("chatLog_"+e[0].CHATLOG_ID);s.scrollIntoView({behavior:"smooth",block:"start"}),a.blinkRepliedText=e[0].CHATLOG_ID,setTimeout((function(){a.blinkRepliedText="",a.store.$state.globalSearch=""}),8e3)}},500)},truncateMessage(t){const e=200;return/<img[^>]+src="([^">]+)"/.test(t)||/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]/u.test(t)?t:t.length>e?t.substring(0,e)+"...":t},checkIsTyping:function(t){var e=this;""!=e.txtMessage.trim()&&e.$socket.emit("is typing",{user:e.sender.id,Group:e.chatHistoryDetails.groupDetail.GROUP_ID,typing:!0,IsGroup:e.chatHistoryDetails.groupDetail.IS_GROUP})},HighlightOnReplyItem:function(t){var e=this;if(""!=t){var a=0,s=e.chatHistoryDetails.resultSet.filter(e=>e.CHATLOG_ID==t);if(null!=s||""!=s||void 0!=s){var i=document.getElementById("chatLog_"+s[a].CHATLOG_ID);i.scrollIntoView({behavior:"smooth",block:"start"}),e.blinkRepliedText=s[a].CHATLOG_ID,setTimeout((function(){e.blinkRepliedText="",e.store.$state.globalSearch=""}),8e3)}}},SearchForGIF:function(){var t=this;t.GetGifImages(t.txtSearchMessage)},Loadmore:function(){var t=this;t.lastRecordNumber+=50;var e=new Object;e=t.sender,e.lastrow=t.lastRow,e.recordNumber=t.lastRecordNumber,e.is_first_time=1,e.room=t.chatHistoryDetails.groupDetail.GROUP_ID,e.lastchatId=0,e.searchForMsg=null,e.isGlobalSearch=!1,t.$socket.emit("roomMoreData",e)},VoiceCallClick:function(){var t=this;t.$emit("VoiceCallClickToUser")},append(t){var e=this;e.txtMessage+=t;var a=e.ChatUserListData.find(t=>t.RECEIVER_ID==e.RecieverId.toString());void 0==a&&(a=e.ChatUserListData.find(t=>t.GROUP_ID==e.chatHistoryDetails.groupDetail.GROUP_ID.toString())),e.$socket.emit("is typing",{user:a.RECEIVER_ID,Group:e.chatHistoryDetails.groupDetail.GROUP_ID,typing:!0})},insert:function(t){this.input+=t},activeContact(t){let e=this.selectUserIds.find(e=>e==t);return!!e},Getgroupusers:function(t){var e=this;e.GroupData=t,e.GroupUsersData=[],e.ShowusersofGroup=!0;var a=e.GroupData.GROUP_NAME_ALIAS.split("_").map(Number);a.shift(),a.forEach(t=>{const a=e.UsersListDataForGroups.find(e=>e.USER_ID==t);void 0!=a&&e.GroupUsersData.push(a)}),e.isShowGroupUsers=!0},CloseUserGroup(){var t=this;t.GroupUsersData=[],t.isShowGroupUsers=!1},showActionButtons:function(){var t=this;1==t.visiblePop?t.visiblePop=!1:t.visiblePop=!0},sendMessage:async function(){var t=this;if(t.isMessageEdit=!1,""!==t.txtMessage.trim()||""!=t.gifSource){if(t.replyOnData.length>0){var e=t.replyOnData[0].CHATLOG_ID,a=t.replyOnData[0].MESSAGE;if(e>0){var s="";s=e>0?"1~"+t.replyOnData[0].USER_NAME+"~"+t.replyOnData[0].MESSAGE_TOKEN:"0~"+t.replyOnData[0].USER_NAME+"~"+t.replyOnData[0].MESSAGE_TOKEN}}var i=t.chatHistoryDetails.room;t.$socket.emit("createMessage",{text:t.txtMessage,room:i,parentId:e,parentTxt:a,parentDtl:s,chatMessageToken:t.chatMessageToken},(function(){})),this.IsreactOnMessage=!1,t.chatMessageToken="",t.txtMessage="",t.gifSource="",t.isReplytoMessage=!1,t.replyOnData=[],t.cssArea="block",t.CloseSearchBox();var r={roomId:i,senderId:t.sender.id};await t.$socket.emit("chatTab blink new message",r);let o={companyId:t.sender.companyId,userId:t.sender.id,emaiId:t.sender.emaiId,name:t.sender.name,imgPath:t.store.getBlobUserUrl+t.sender.imgPath,type:t.type};t.$socket.emit("user total",o)}},DeleteMessage:function(t){var e=this;e.confirmR(e.$t("ConfirmDeleteMessage"),!0,e.$t("Delete")+"  "+e.$t("communication"),(function(){var a={};a=e.sender,a.room=t.GROUP_ID,a.chatLogId=t.CHATLOG_ID,e.$socket.emit("delete chat log",a);var s={alias:e.chatHistoryDetails.groupDetail.GROUP_NAME_ALIAS,companyId:a.companyId,emaiId:a.emaiId,groupName:e.chatHistoryDetails.groupDetail.GROUP_NAME,id:a.id,imgPath:a.imgPath,is_first_time:1,isGlobalSearch:!1,lastchatId:null,lastrow:e.lastRow,name:a.name};e.$socket.emit("joinRoom",s,e.chatHistoryDetails.groupDetail)}))},ReplyMessageToUser:function(t){var e=this;e.replyOnData=[],e.replyOnData.push(t),e.isReplytoMessage=!0},ReplyCross:function(){var t=this;t.isReplytoMessage=!1,t.replyOnData=[]},DateDifference:function(t){var e=this,a=new Date,s=Math.ceil(Math.floor(a.getTime()-new Date(t).getTime())/1e3),i=Math.floor(s/3600),r=s%3600,o=Math.floor(r/60),l=Math.floor(s/86400);if(s<60)return e.$t("Now");if(s<120)return e.$t("minutes ago");if(s<2700)return o+" "+e.$t("minutes ago");if(s<5400)return e.$t("an")+" "+e.$t("hour ago");if(s<86400)return i+" "+e.$t("hour ago");if(s<172800)return e.$t("Yesterday");if(s<2592e3)return l+" "+e.$t("days ago");if(s<31104e3){var n=Math.floor(l/30);return n<=1?"1 "+e.$t("months ago"):n+" "+e.$t("months ago")}var c=Math.floor(l/365);return c<=1?"1 "+e.$t("years ago"):c+" "+e.$t("years ago")},CloseSearchBox:function(){var t=this;t.txtMessage="",t.txtSearchMessage="",t.indexArr=[],t.isSearchTxt=!0,t.cssArea="block",t.searchGIFbyTxt=!1,t.isShearchForMsg=!0,t.isShowCloseSearchIcon=!1,t.isShowGifPanel=!1,t.isGif=!0},SearchFortxt:function(){var t=this;t.isGif=!1,t.isSearchTxt=!1,t.isShearchForMsg=!0,t.isShowCloseSearchIcon=!0,""!=t.txtSearchMessage.toLowerCase()&&""!=t.txtSearchMessage&&(t.indexArr=t.chatHistoryDetails.resultSet.filter(e=>"string"===typeof e.MESSAGE&&e.MESSAGE.toLowerCase().includes(t.txtSearchMessage.toLowerCase())),t.scrollCount=t.indexArr.length-1,t.indexArr.length>1?(setTimeout((function(){document.getElementById("chatLog_"+t.indexArr[t.scrollCount].CHATLOG_ID).scrollIntoView(),t.blinkText=t.indexArr[t.scrollCount].CHATLOG_ID}),100),setTimeout((function(){t.blinkText=""}),5e3)):1==t.indexArr.length?setTimeout((function(){document.getElementById("chatLog_"+t.indexArr[t.scrollCount].CHATLOG_ID).scrollIntoView(),t.blinkText=t.indexArr[t.scrollCount].CHATLOG_ID}),1e3):t.ShowAlert(t.$t("RecordNotFound"),"failure",!0,t.$t("Alert")))},ForwardMessageTo:function(t){var e=this;e.chaTIdForForward=t.CHATLOG_ID,e.isForwardToUser=!0},forwardCancel:function(){var t=this;t.isForwardToUser=!1,t.txtSearchForward="",t.selectUserIds=[]},loadhistoryWhenSearching:function(t,e,a,s,i,r,o){var l=this,n={};n=l.sender,n.lastrow=t,n.recordNumber=e,n.is_first_time=a,n.room=i,n.lastchatId=s,n.searchForMsg=r,n.isGlobalSearch=o,l.$socket.emit("roomMoreData",n)},searchForwardCrossClick:function(){var t=this;t.txtSearchForward=""},messageForward:async function(t){var e=this,a={},s={};a.companyId=parseInt(e.sender.companyId),a.id=parseInt(e.sender.id),a.emaiId=e.sender.emaiId,a.name=e.sender.name,a.imgPath=e.store.getBlobUserUrl+e.sender.imgPath,a.type=e.type,a.alias=e.chatHistoryDetails.groupDetail.GROUP_NAME_ALIAS,a.email=e.sender.emaiId,a.groupName=e.chatHistoryDetails.groupName,a.is_first_time=e.chatHistoryDetails.groupDetail.is_first_time,a.isGlobalSearch=!1,a.lastchatId=e.chatHistoryDetails.groupDetail.lastchatId,a.lastrow=0,a.recordNumber=null,a.room=e.chatHistoryDetails.groupDetail.GROUP_ID,a.searchForMsg=null,a.chatId=parseInt(e.chaTIdForForward),a.groupList=t.join(","),s.GROUP_NAME_ALIAS=e.chatHistoryDetails.groupDetail.GROUP_NAME_ALIAS,s.GROUP_NAME=e.chatHistoryDetails.groupName,s.isActive=!0,s.GROUP_ID=e.selectUserIds[0],e.isForwardToUser=!1,e.txtSearchForward="",e.selectUserIds=[],await e.$socket.emit("forward message",a,(function(){}))},FileLinkClick(){var t=this;t.isChatActive=!0,t.isFileActive=!1},AttachmentFileClick:function(){var t=this;t.$parent.openAttachmentPop()},extractImageSrc(t){return t.split('"')[7]},ShowGifDiv:function(){var t=this;t.GetGifImages(),t.isGif=!1,t.isShearchForMsg=!1,t.isShowCloseSearchIcon=!0,t.searchGIFbyTxt=!0,t.cssArea="none",t.isSearchTxt=!1,t.isShowGifPanel=!0,t.isGif=!1},SetGifToSendArea:async function(t){var e=this;e.gifShow=!1,e.isGif=!0,e.isShowGifPanel=!1,e.isShearchForMsg=!1,e.searchGIFbyTxt=!1,e.isSearchTxt=!0,e.isShowCloseSearchIcon=!1,e.gifSource=t.media[0].gif.url,""!=e.gifSource&&(e.cssArea="none");var a='<img  id="gif0" src="'+e.gifSource+'" alt="" style="float:left;margin-right:5px;">';if(""!=e.gifSource){if(e.replyOnData.length>0){var s=e.replyOnData[0].CHATLOG_ID,i=e.replyOnData[0].MESSAGE;if(s>0){var r="";r=s>0?"1~"+e.replyOnData[0].USER_NAME+"~"+e.replyOnData[0].MESSAGE_TOKEN:"0~"+e.replyOnData[0].USER_NAME+"~"+e.replyOnData[0].MESSAGE_TOKEN}}var o=e.chatHistoryDetails.groupDetail.GROUP_ID;e.$socket.emit("createMessage",{text:a,room:o,parentId:s,parentTxt:i,parentDtl:r,chatMessageToken:e.chatMessageToken},(function(){})),e.txtMessage="",e.gifSource="",e.isReplytoMessage=!1,e.replyOnData=[],e.cssArea="block",e.CloseSearchBox();var l={roomId:o,senderId:e.sender.id};await e.$socket.emit("chatTab blink new message",l);let t={companyId:e.store2.GetUserInfo.CompanyId,userId:e.store2.GetUserInfo.ID,emaiId:e.store2.GetUserInfo.Email,name:e.store2.GetUserInfo.Name,imgPath:e.store.getBlobUserUrl+e.store2.GetUserInfo.Avatar,type:e.type};e.$socket.emit("user total",t)}e.scrollBottom()},RemoveGifToSend:function(){var t=this;t.gifSource="",t.isGif=!0,t.isShearchForMsg=!0;var e=t.ChatUserListData.find(e=>e.RECEIVER_ID==t.RecieverId.toString());void 0==e&&(e=t.ChatUserListData.find(e=>e.GROUP_ID==t.chatHistoryDetails.groupDetail.GROUP_ID.toString())),t.$socket.emit("is typing",{user:e.RECEIVER_ID,Group:t.chatHistoryDetails.groupDetail.GROUP_ID,typing:!1}),t.cssArea="block"},GetGifImages:async function(t){this.gifShow=!this.gifShow;var e=this;e.GifImageData=[],e.isDataGifLoaded=!0;var a=void 0==t?"":t,s="YP55GXTIJ99N",i=8;await A.get("https://api.tenor.com/v1/anonid?key="+s,{headerrs:{"Content-Type":"multipart/form-data"}}).then((function(t){var r=`tag=${a}&key=${s}&limit=${i}&anon_id=${t.data.anon_id}`;A.get("https://api.tenor.com/v1/search?"+r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.GifImageData=t.data.results,e.isDataGifLoaded=!1}))}))},searchDownClick:function(){var t=this;t.scrollCount==t.indexArr.length-1?t.scrollCount=0:t.scrollCount++,t.scrollCount<t.indexArr.length&&(setTimeout((function(){document.getElementById("chatLog_"+t.indexArr[t.scrollCount].CHATLOG_ID).scrollIntoView(),t.blinkText=t.indexArr[t.scrollCount].CHATLOG_ID}),100),setTimeout((function(){t.blinkText=""}),5e3))},searchUpClick:function(){var t=this;0==t.scrollCount?t.scrollCount=t.indexArr.length-1:t.scrollCount--,t.indexArr.length>=0&&(setTimeout((function(){document.getElementById("chatLog_"+t.indexArr[t.scrollCount].CHATLOG_ID).scrollIntoView(),t.blinkText=t.indexArr[t.scrollCount].CHATLOG_ID}),100),setTimeout((function(){t.blinkText=""}),5e3))},async activeRecord(t){this.activeGroup==t?this.activeGroup="":(await this.store.userByGroupId(`emaiId=${this.store.getUserInformation.Email}&isGroup=1&room=${t}`),this.activeGroup=t)},CreateGroup:async function(){var t=this;if(t.selectedMembers.length>2){t.type="web",t.mobileType&&(t.type="mobile"),t.Grouptitle=t.Grouptitle?t.Grouptitle:"Untitled name";let s={companyId:t.GetUserInfo.CompanyId,id:t.GetUserInfo.ID,emaiId:t.GetUserInfo.Email,name:t.GetUserInfo.Name,imgPath:t.store.getBlobUserUrl+t.GetUserInfo.Avatar,type:t.type};var e=t.selectedMembers.map(t=>t.USER_ID).join(","),a=new Object;a=s,a.room=e.replace(/,/g,"_"),a.alias=e.replace(/,/g,"_"),t.$socket.emit("createRoom",a),t.$parent.closeGroup(),t.groupShowProps=!1,t.Grouptitle="",t.selectedMembers=[],t.selectedMembers.push({USER_ID:t.GetUserInfo.ID,CONTACTNAME:t.GetUserInfo.Name}),t.groupId=""}else t.ShowAlert(t.$t("Atleast3Members"),"failure",!0,t.$t("Alert"))},async getContactRecordBy(){this.groupShow=!0,this.topFilterSelect="Groups",this.store.groupList(`emaiId=${this.GetUserInfo.Email}&isGroup=1&room=1`);let t={id:this.GetUserInfo.ID,emaiId:"",companyId:this.GetUserInfo.companyId};this.$socket.emit("GetAllMyGroup",t,(function(){}))},async updateGroup(){var t=this;t.groupShow=!0;let e={companyId:t.GetUserInfo.CompanyId,id:t.GetUserInfo.ID,emaiId:t.GetUserInfo.Email,name:t.GetUserInfo.Name,imgPath:t.store.getBlobUserUrl+t.GetUserInfo.Avatar,type:t.type};var a=t.selectedMembers.map(t=>t.USER_ID).join(","),s=new Object;s=e,s.userIds=a,s.groupName=t.Grouptitle;let i=s.userIds.split("_").length-1;i=i>1?1:0,s.groupId=t.groupId,s.fromSP=0,s.GROUP_ID_OUT=0,s.isGroupOrNot=i,await t.store.addOrUpdateGroup(s),t.store.addUpdateGroupResState[0]&&(t.topFilterSelect="Groups",t.updategroup=!1,t.$parent.closeGroup(),t.Grouptitle="",t.selectedMembers=[],t.selectedMembers.push({USER_ID:t.GetUserInfo.ID,CONTACTNAME:t.GetUserInfo.Name}),t.groupId="",t.store.groupList(`emaiId=${this.GetUserInfo.Email}&isGroup=1&room=1`))},canceleGroup(){this.Grouptitle="",this.selectedMembers=[],this.groupId="",this.$parent.closeGroup(),this.topFilterSelect="Groups",this.selectedMembers.push({USER_ID:this.GetUserInfo.ID,CONTACTNAME:this.GetUserInfo.Name})},backToChat(){this.groupId="",this.$parent.closeGroup(),this.topFilterSelect="",this.groupShow=!1,this.updategroup=!1,this.selectedMembers=[],this.selectedMembers.push({USER_ID:this.GetUserInfo.ID,CONTACTNAME:this.GetUserInfo.Name})},async editGroup(t){await this.store.userByGroupId(`emaiId=${this.GetUserInfo.Email}&isGroup=1&room=${t.grouP_ID}`),this.$parent.CreateGroupClick(),this.topFilterSelect="",this.updategroup=!0,this.Grouptitle=t.grouP_NAME,this.groupId=Number(t.grouP_ID),this.selectedMembers=[],this.store.getUserByGroupId.map(t=>{this.selectedMembers.push({USER_ID:Number(t.useR_ID),CONTACTNAME:t.useR_NAME})})},async deleteGroup(t){var e=this;e.confirmR(e.$t("ConfirmDeleteGroup"),!0,e.$t("Delete")+"  "+ +e.$t("Records"),(async function(){await e.store.deleteGroup(`emaiId=${e.GetUserInfo.Email}&groupId=${t}`),e.store.getDeleteGroupRes?(e.ShowAlert(e.$t("DeleteGroup"),"success",!0,e.$t("Alert")),e.store.groupList(`emaiId=${e.GetUserInfo.Email}&isGroup=1&room=1`)):e.ShowAlert(e.$t("Error"),"warning",!0,e.$t("Alert"))}))},groupBydates(t){const e=t.reduce((t,e)=>{const a=new Date(new Date(e.CREATED_AT).toDateString());return t[a]||(t[a]=[]),t[a].push(e),t},{});return Object.keys(e).map(t=>({date:t,data:e[t]}))},getTime(t){t=new Date(t);const e=t,a=new Date(e);return a.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},deleteGroupUser(t,e){var a=this;let s={room:e,DeleteId:t,id:a.GetUserInfo.ID,emaiId:a.GetUserInfo.Email};a.confirmR(a.$t("ConfirmDeleteGroupUser"),!0,a.$t("Delete")+"  "+ +a.$t("Records"),(async function(){r["a"].DeleteUserFromGroup(s).then(e=>{a.store.$state.userByGroupIdState=a.store.getUserByGroupId.filter(e=>e.useR_ID!==t),e.data?a.ShowAlert(a.$t("DeleteUserSuccess"),"success",!0,a.$t("Alert")):a.ShowAlert(a.$t("Error"),"warning",!0,a.$t("Alert"))})}))},videoCreate(t){let e={USER_ID:this.chatHistoryDetails.groupDetail.RECEIVER_ID,CONTACTNAME:this.chatHistoryDetails.groupDetail.GROUP_NAME,USER_IMAGE:this.chatHistoryDetails.groupDetail.AVATAR,GROUP_NAME_ALIAS:this.chatHistoryDetails.groupDetail.GROUP_NAME_ALIAS,IS_GROUP:this.chatHistoryDetails.groupDetail.IS_GROUP,room:this.chatHistoryDetails.groupDetail.GROUP_ID,calltype:t};this.$parent.videoCreate(e)}},watch:{chatHistoryDetails(){this.scrollBottom()}},setup(){const t=g(),e=Object(p["b"])();return{store:t,store2:e,getPreviousDay:C["e"],secondsToHms:C["f"]}}},D=T,E=Object(w["a"])(D,o,l,!1,null,null,null),M=E.exports,U=function(){var t=this,e=t._self._c;return e("div",{ref:"outer",staticClass:"content div_forDifferentTabs homebx p-2",attrs:{id:"div_MessageBoardOuterDiv","data-projectid":""}},[e("loader",{attrs:{"is-visible":t.isLoading}}),0==t.isMessageBoardThreded?e("div",{staticClass:"msgbx_left message-board-outer-div",staticStyle:{position:"relative",display:"block"}},[t.IsMessageBoardList&&t.MessageBoardListData.length>0?e("div",{ref:"messageBoardContainer",staticClass:"scroll-wrapper scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"},attrs:{id:"mainDivContent"}},[e("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{enabled:t.enabled},expression:"{ enabled: enabled }"}],staticClass:"scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"calc(100vh - 240px) !important"},attrs:{id:"div_ProjectMessages"}},[t.Loaddatashow?e("div",{staticClass:"text-center loadMoreButtonforChat",attrs:{id:"div_loadMoreProjectMessages"}},[e("a",{ref:"test",staticClass:"btn btn-info",attrs:{href:"javascript:;"},on:{click:t.Loadmore}},[t._v("Load more...")])]):t._e(),t.MessageBoardListData&&0==t.MessageBoardListData.length?e("div",{staticClass:"dev_msgbx_left_for_attachment"},[t._m(0)]):t._e(),t._l(t.MessageBoardListData,(function(a,s){return e("div",{key:s,staticClass:"message-bx",attrs:{id:a.MessageBoardId,"data-projectid":a.ProjectId,"data-messageboardid":a.MessageBoardId,"data-messageboardcategorycode":a.MessageBoardCategoryCode,"data-messageboardcategoryid":a.MessageBoardCategoryId,"data-usertype":a.UserType,"data-mesagedate":t.DateDifference(a.CreatedAt),"data-mtype":"M"}},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:null==a.UserImagePath?t.noImageUrl:t.blobUserUrl+a.UserImagePath,alt:"profile"}})]),e("div",{staticClass:"message-data"},[e("div",{staticClass:"message-header"},[e("span",{staticClass:"author-name"},[t._v(t._s(a.PostedBy))]),e("span",{staticClass:"author-name project-name"},[t._v(" ("+t._s(a.ProjectName)+") ")]),t._v("  "),e("span",{staticClass:"author-name message-time"},[t._v(t._s(t.DateDifference(a.CreatedAtStr)))]),"d"==a.MessageType?e("span",{staticStyle:{color:"forestgreen"}},[t._v(" "+t._s(t.$t("SaveasDraft")))]):t._e()]),e("div",{staticClass:"message-body"},[e("strong",[t._v(t._s(a.MessageBoardTitle))]),e("p",[t._v(" "+t._s(a.MessageBoardContent))]),t._l(a.files,(function(s,i){return a.files?e("a",{key:i,class:{"attachment box p-2 border d-inline-block mb-2":".jpg"==JSON.parse(s.message_board_file_desc).Extension||".png"==JSON.parse(s.message_board_file_desc).Extension,"attachment box mb-2 verticlealignmiddle text-center":".pdf"==JSON.parse(s.message_board_file_desc).Extension},staticStyle:{width:"88px",height:"88px","vertical-align":"middle","margin-bottom":".5rem !important",padding:"8px","font-size":"36px"},attrs:{title:s.message_board_file_name},on:{click:function(e){t.openLightbox(null!=a.files?t.blobFileUrl+s.message_board_file_path:null,s.message_board_file_path,JSON.parse(s.message_board_file_desc).Extension)}}},[s.message_board_file_desc&&".jpg"==JSON.parse(s.message_board_file_desc).Extension||".png"==JSON.parse(s.message_board_file_desc).Extension?e("img",{staticStyle:{width:"100%",height:"70px"},attrs:{src:null!=s?t.blobFileUrl+s.message_board_file_path:null,loading:"lazy",alt:"image"},on:{click:function(e){t.openLightbox(null!=a.files?t.blobFileUrl+s.message_board_file_path:null,s.message_board_file_path,JSON.parse(s.message_board_file_desc).Extension)}}}):t._e(),s.message_board_file_desc&&".pdf"==JSON.parse(s.message_board_file_desc).Extension?e("i",{staticClass:"m-0 p-0 fa fa-file-pdf-o",staticStyle:{"margin-right":"0px","line-height":"2em"}}):t._e()]):t._e()})),a.TotalComments>0?e("div",{staticClass:"thread box"},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:null==a.lastCommentUserImage?t.noImageUrl:t.blobUserUrl+a.lastCommentUserImage,alt:"profile"}})]),e("span",{staticClass:"span-message-board replies"},[e("a",{attrs:{href:"javascript:;","data-messageid":a.MessageBoardId,"data-projectid":a.ProjectId},on:{click:function(e){return t.ClickOnReplies(a.MessageBoardId,a.ProjectId,a.MessageBoardTitle)}}},[t._v(t._s(a.TotalComments)+" Replies")])])]):t._e(),e("div",{},[null!=a.lastComment?e("div",{staticClass:"last-comment"},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:null==a.lastCommentUserImage?t.noImageUrl:t.blobUserUrl+a.lastCommentUserImage,alt:"profile"}})]),e("div",{staticClass:"message-data"},[e("span",{staticClass:"author-name"},[t._v(t._s(a.LastCommentUser))]),e("p",[t._v(t._s(a.lastComment))])])]):t._e(),e("form",{class:t.activeIndex==a.MessageBoardId?"":"reply-form-without-focus",attrs:{id:"form_fileuploadForComment24039",method:"post","data-commentfrom":"withoutCommentList"}},[e("div",{staticClass:"message-footer dev_divFilesMessageComment",staticStyle:{"margin-right":"15px","min-height":"45px",height:"auto"}},[e("textarea",{ref:a.MessageBoardId,refInFor:!0,staticClass:"textarea_forComment",staticStyle:{height:"90px",width:"91%"},attrs:{placeholder:"Type Your Message",id:"MessageBoardContent_"+a.MessageBoardId,name:"Content",col:"15"},on:{mousedown:function(e){return t.mouseDownClick(a.MessageBoardId)}}}),t.singleShow(t.AttachmentTxtData,a.MessageBoardId)?e("div",{staticClass:"msgfoot"},[e("div",{staticClass:"msgleft comment_AttachedFiles flex-wrap"},[t._l(t.AttachmentTxtData,(function(s,i){return[a.MessageBoardId==s.messageId?e("div",{staticClass:"div_selectedFile",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"","data-original-title":"1st_screen_filtersc.png"}},[e("span",[t._v(t._s(s.name))]),a.MessageBoardId==s.messageId?e("a",{attrs:{href:"javascript:;","data-foredit":"false","data-belongsto":"flFile0",id:"file_"+i},on:{click:function(e){return t.removeFileElement(i)}}},[e("i",{staticClass:"fa fa-times"})]):t._e()]):t._e()]}))],2)]):t._e(),e("div",{staticClass:"msgrightt",staticStyle:{position:"absolute",right:"0",padding:"9px"}},[e("a",{staticClass:"mb_SaveComment icon_clip noToolTip",attrs:{title:"Send",href:"javascript:;"},on:{click:function(e){return t.SaveCommentClick(a.MessageBoardId)}}},[e("i",{staticClass:"fa fa-send"})]),t._m(1,!0),e("input",{ref:"imageUploader"+a.MessageBoardId,refInFor:!0,staticStyle:{display:"none"},attrs:{id:"up",type:"file"},on:{change:function(e){return t.setFileClickFromTextArea(e,s,a)}}}),e("a",{staticClass:"fa fa-paperclip",attrs:{href:"#"},on:{click:function(e){return t.openFileInput(a.MessageBoardId)}}})])])])])],2),e("div",{staticClass:"msg-actions"},[e("ul",["d"!=a.MessageType?e("li",[e("a",{staticClass:"ms-shareMessage",attrs:{href:"javascript:;",value:a.MessageBoardId,"data-projectid":"60763","data-filecount":"",title:"Share"},on:{click:function(e){return t.RemainingToShareClick(a.MessageBoardId,a.ProjectId)}}},[e("i",{staticClass:"fa fa-share",attrs:{"aria-hidden":"true"}})])]):t._e(),"d"!=a.MessageType?e("li",[e("a",{staticClass:"ms-addComment",attrs:{href:"javascript:;",title:"Comments"},on:{click:function(e){return t.AddComment(a.MessageBoardId,a.ProjectId,a.MessageBoardTitle)}}},[e("i",{staticClass:"fa fa-comments",attrs:{"aria-hidden":"true"}})])]):t._e(),0==a.TotalComments?e("li",[e("a",{attrs:{href:"javascript:;",title:"Edit"},on:{click:function(e){return t.EditMessage(a.MessageBoardId,a.ProjectId)}}},[e("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})])]):t._e(),0==a.TotalComments?e("li",[e("a",{attrs:{href:"javascript:;",title:"Delete",value:a.MessageBoardId},on:{click:function(e){return t.DeleteMessage(a.MessageBoardId,a.ProjectId)}}},[e("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])]):t._e()])])])])}))],2),t._m(2),t._m(3)]):t._e(),1==t.isDataLoaded?e("div",{staticClass:"ball-loader"},[e("div",{staticClass:"ball-loader-ball ball1"}),e("div",{staticClass:"ball-loader-ball ball2"}),e("div",{staticClass:"ball-loader-ball ball3"})]):t._e(),e("div",{staticClass:"div_forAddProjectMessage",attrs:{title:"Add Message"},on:{click:t.OpenAddMessagePop}},[e("i",{staticClass:"fa fa-plus"})])]):t._e(),t.isMessageBoardThreded?e("div",{staticClass:"msgbx_left",attrs:{id:"div_messageBoardThrread"}},[e("div",{staticClass:"chat-header user-info"},[e("div",{staticClass:"name",attrs:{id:"div_MessageBoardthreadHeader","data-projectid":"60752"}},[t._v(t._s(t.MessageBoardthreadHeader))]),e("a",{staticClass:"btn btn-success a_forBackToProjectMessages",attrs:{href:"javascript:;"},on:{click:t.BackToMessage}},[e("i",{staticClass:"fa fa-arrow-left"}),t._v(" "+t._s(t.$t("BacktoMessages")))])]),e("div",{staticClass:"scroll-wrapper scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"}},[e("div",{staticClass:"scrollbar-inner scroll-content",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"785px"},attrs:{id:"div_CommenbtsForMessage"}},t._l(t.RepliesList.MessageComments,(function(a,s){return e("div",{key:s,staticClass:"message-bx",attrs:{"data-messageboardid":a.Mid}},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:null==a.UserImage?t.noImageUrl:t.blobUserUrl+a.UserImage}})]),e("div",{staticClass:"message-data"},[e("div",{staticClass:"message-header"},[e("span",{staticClass:"author-name"},[t._v(t._s(a.PostedBy))]),e("span",{staticClass:"author-name project-name"},[t._v(t._s(a.ProjectName))]),e("span",{staticClass:"author-name message-time"})]),e("div",{staticClass:"message-body"},[e("strong"),e("p",[t._v(" "+t._s(a.Content))])])])])})),0),t._m(4),t._m(5)]),e("form",{attrs:{id:"form_fileuploadForComment",method:"post","data-commentfrom":"withCommentList"}},[e("div",{staticClass:"message-footer dev_divFilesMessageComment"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.mbCommentTxt,expression:"mbCommentTxt"}],staticClass:"textarea_forComment",attrs:{placeholder:"Type Your Message",id:"MessageBoardContent",name:"Content",col:"15"},domProps:{value:t.mbCommentTxt},on:{input:function(e){e.target.composing||(t.mbCommentTxt=e.target.value)}}}),e("div",{staticClass:"msgfoot"},[e("div",{staticClass:"msgleft comment_AttachedFiles"}),e("div",{staticClass:"msgrightt"},[e("a",{staticClass:"mb_SaveComment icon_clip noToolTip",attrs:{title:"Send",href:"javascript:;"},on:{click:t.SaveCommentClick}},[e("i",{staticClass:"fa fa-send"})]),t._m(6),t._m(7)])])])])]):t._e(),t.isAddMessagePop?e("div",{staticClass:"add-project-message"},[e("div",{staticClass:"teaminfo-header"},[e("h4",[t._v(t._s(t.$t("AddMessage")))]),e("span",{staticClass:"user-guide mr-4 float-right",staticStyle:{"margin-top":"-12px"}},[e("a",{staticClass:"ancuserguide pl-0",attrs:{"data-toggle":"collapse",href:"#collapseReply",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v(t._s(t.$t("user_guid")))]),e("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReply"}},[e("div",{staticClass:"custom-scrollbar-js",staticStyle:{"overflow-x":"hidden"},attrs:{id:"scrollbarreplyuserguide"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("Reply_userguide"))}})])])]),e("a",{staticClass:"close closeRightslider",staticStyle:{"font-size":"18px"},attrs:{id:"div_closeAddMessageBox"},on:{click:function(e){return t.CloseAddMessagePop()}}},[e("i",{staticClass:"fa fa-close"})])]),e("Form",{ref:"newMessageForm",attrs:{id:"fileuploadForMessage"}},[e("div",[e("div",{attrs:{id:"divFilesForMessage"}},[e("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[e("label",[t._v(t._s(t.$t("Title"))+" "),e("small",[t._v(t._s(t.$t("maxLimitTitleMessage")))]),t._v(":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{class:t.w-100,attrs:{name:"Title",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Messagetitle,expression:"Messagetitle"}],class:{"form-control w-100":!0,error:a[0]},attrs:{type:"text",placeholder:"Title",name:"MessageBoardTitle",id:"MessageBoardTitle",maxlength:"500",autocomplete:"off"},domProps:{value:t.Messagetitle},on:{input:function(e){e.target.composing||(t.Messagetitle=e.target.value)}}}),e("label",{staticClass:"invalid-feedback",attrs:{name:"Title"}},[t._v(t._s(a[0]))])]}}],null,!1,3293539358)})],1),e("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[e("label",[t._v(t._s(t.$t("Description"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.MessageDescription,expression:"MessageDescription"}],class:{"form-control w-100":!0,error:a[0]},staticStyle:{height:"auto","font-size":"13px"},attrs:{id:"pm_MessageBoardContent",name:"MessageBoardContent",rows:"6",placeholder:"Description"},domProps:{value:t.MessageDescription},on:{input:function(e){e.target.composing||(t.MessageDescription=e.target.value)}}}),e("span",{staticClass:"invalid-feedback",attrs:{name:"Description"}},[t._v(t._s(a[0]))])]}}],null,!1,3742863974)})],1),e("div",{staticClass:"form-group addMessageProjectDiv w-100"},[e("Field",{staticClass:"w-100",attrs:{name:"Project",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.SelectedProject,expression:"SelectedProject"}],class:{"form-control w-100":!0,error:a[0]},attrs:{id:"ddl_MessageProjectId",name:"ProjectId"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.SelectedProject=e.target.multiple?a:a[0]},function(e){return t.BindTeamMembers(t.SelectedProject,"change")}]}},[e("option",{attrs:{value:""}},[t._v("Select project")]),t._l(t.ProjectTablist,(function(a,s){return e("option",{key:s,domProps:{value:a.value}},[t._v(t._s(a.name))])}))],2),e("span",{staticClass:"invalid-feedback",attrs:{name:"Project"}},[t._v(t._s(a[0]))])]}}],null,!1,4062353507)})],1),e("div",{staticClass:"form-group",staticStyle:{width:"100%",padding:"0px 11px","margin-bottom":"7px !important"},attrs:{id:"div_mb_MessageFiles"}},[t._l(t.AttachedFiledata,(function(a,s){return e("div",{key:s,staticClass:"div-MessageFile"},[e("i",{staticClass:"fa fa-times",on:{click:function(e){return t.removeItem(a.fileid)}}}),e("a",{attrs:{src:null!=a?t.blobFileUrl+a.Filepath:null,title:a.filename},on:{click:function(e){t.openLightbox(null!=a.filename?t.blobFileUrl+a.Filepath:null,a.Filepath,JSON.parse(a.FileDesc).Extension)}}},[e("i",{class:"fa "+t.openFile(a.filename)})])])})),e("div",{staticStyle:{clear:"both"}})],2),e("div",{staticClass:"form-group mb-4",staticStyle:{width:"100%","margin-bottom":"0px !important","font-size":"10px"}},[e("div",{staticClass:"width_98 pullleft paddingtopbottom5 borderd5d5d5 margintop5 paddingleftright2 backgroundf1f1f1 fontda860f font12 arabicpulright arabicTR wordbreak",staticStyle:{"white-space":"normal"}},[t._v(" Maximum upload size per file: "+t._s(t.filesize+"Mb")),e("br"),t._v("Disallowed File Types: "+t._s(t.Filetype)),e("br")])]),e("div",{attrs:{id:"div_forMessageFiles"}},t._l(t.computedAttachmentDivData,(function(a,s){return e("div",{key:s,staticClass:"form-group",staticStyle:{width:"100%"},attrs:{id:"divFileMessage"}},[e("input",{staticClass:"form-control",staticStyle:{width:"85%",float:"left"},attrs:{type:"file",id:"flFile"+(s+1),name:"attach"},on:{change:function(e){return t.setFile(e,s)}}}),0==s?e("div",{staticClass:"add-icon-for-file",attrs:{id:"btn_AddMoreAttachment"},on:{click:function(e){return t.AddMoreAttachment(a,t.AttachmentDivData)}}},[e("i",{staticClass:"fa fa-plus"})]):t._e(),0!=s?e("div",{staticClass:"cross-icon-for-file",on:{click:function(e){return t.removeAttachmentRow(a.count)}}},[e("i",{staticClass:"fa fa-times"})]):t._e(),e("div",{staticStyle:{clear:"both"}})])})),0),e("div",{staticClass:"dev-userlist-team form-group",staticStyle:{width:"100%"}},[e("label",[t._v(t._s(t.$t("TeamMembers"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("span",{staticClass:"multiselect-native-select"},[e("span",{staticClass:"multiselect-native-select"},[e("div",{staticClass:"btn-group w-100"},[e("treeselect",{attrs:{multiple:!0,options:t.TeamMembersList,"disable-branch-nodes":!0,placeholder:"Select memberss"},model:{value:t.selectedUsers,callback:function(e){t.selectedUsers=e},expression:"selectedUsers"}}),e("treeselect-value",{attrs:{value:t.value}})],1)])]),e("span",{staticClass:"invalid-feedback",staticStyle:{display:"block"},attrs:{name:"Project"}},[t._v(t._s(t.TeamErrorMessage))])])]),e("div",{staticClass:"scroll-element scroll-x"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{width:"100px"}})])]),e("div",{staticClass:"scroll-element scroll-y"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{height:"100px"}})])])]),e("div",{staticClass:"bottom-btn"},[e("a",{staticClass:"btn yellow-btn btn-warning text-white",attrs:{href:"javascript:;",id:"btn_DraftProjectMessage"},on:{click:function(e){return t.SaveNewMessage("d")}}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("Draft")))]),e("a",{staticClass:"btn green-btn btn-success text-white",attrs:{href:"javascript:;",id:"btn_postProjectMessage"},on:{click:function(e){return t.SaveNewMessage("s")}}},[e("i",{staticClass:"fa fa-paper-plane"}),t._v(" "+t._s(t.$t("Post")))])])])],1):t._e(),t.isRemainingToShare?e("div",{staticClass:"modal-wrapper modal-transition",staticStyle:{opacity:"1"}},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",on:{click:t.CloseRemainingPopup}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v(t._s(t.$t("TeamMembersRemainingtoshare")))])]),t._l(t.ProjectUsers,(function(a,s){return e("div",{key:s,staticClass:"modal-body"},t._l(a,(function(a){return e("div",[e("h6",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.h6Checked,expression:"item1.h6Checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.h6Checked)?t._i(a.h6Checked,null)>-1:a.h6Checked},on:{change:[function(e){var s=a.h6Checked,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=null,l=t._i(s,o);i.checked?l<0&&t.$set(a,"h6Checked",s.concat([o])):l>-1&&t.$set(a,"h6Checked",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(a,"h6Checked",r)},function(e){return t.toggleAll(a)}]}}),t._v(" "+t._s(a.userType)+" ")]),e("div",{staticClass:"modal-content recent-contacts-listing-wrapper"},t._l(a.userses,(function(s){return e("div",{key:s.id,staticClass:"recent-contacts-listing member"},[e("div",{staticClass:"member-detail"},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.bChecked,expression:"user.bChecked"}],staticClass:"chkTeamMembers",attrs:{type:"checkbox"},domProps:{value:s.id,checked:Array.isArray(s.bChecked)?t._i(s.bChecked,s.id)>-1:s.bChecked},on:{change:[function(e){var a=s.bChecked,i=e.target,r=!!i.checked;if(Array.isArray(a)){var o=s.id,l=t._i(a,o);i.checked?l<0&&t.$set(s,"bChecked",a.concat([o])):l>-1&&t.$set(s,"bChecked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(s,"bChecked",r)},function(e){return t.toggleSingle(a)}]}}),t._v(" "+t._s(s.name)+" ")])])])})),0)])})),0)})),e("div",{staticClass:"modal-footer"},[e("a",{staticClass:"btn green-btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.ShareMessageUsers()}}},[e("i",{staticClass:"fa fa-share"}),t._v(" Share")])])],2):t._e(),e("VueEasyLightbox",{attrs:{visible:t.visible,imgs:t.imgs,index:t.index},on:{hide:t.handleHide}})],1)},k=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"files-tab",staticStyle:{"margin-top":"450px"},attrs:{"data-simplebar":""}},[e("div",{staticClass:"text-center text-danger border p-2"},[t._v("No record(s) found")])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"mb_CancekUpdatingComment icon_clip noToolTip",staticStyle:{display:"none"},attrs:{title:"Cancel",href:"javascript:;"}},[e("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{width:"88px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-y scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{height:"131px",top:"444px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{width:"100px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-y"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{height:"100px"}})])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"mb_CancekUpdatingComment icon_clip noToolTip",staticStyle:{display:"none"},attrs:{title:"Cancel",href:"javascript:;"}},[e("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"mb_commentattachmentFile icon_clip noToolTip",attrs:{title:"File Sharing",href:"javascript:;"}},[e("i",{staticClass:"fa fa-paperclip"})])}],R=a("ca17"),G=a.n(R),N={components:{Treeselect:G.a,VueEasyLightbox:f["a"]},props:{ProjectTablist:{type:Array},ProjectiId:{type:String}},data(){return{Loaddatashow:!0,MessageDescription:"",Messagetitle:"",replymessageval:null,SelectedProject:"",isRemainingToShare:!1,IsMessageBoardList:!0,isMessageBoardThreded:!1,isAddMessagePop:!1,AttachmentTxtData:[],AttachmentDivData:[],MessageBoardListData:[],projectId:"",usertype:"",createdBys:"",fromDate:"",toDate:"",searchTxt:"",pageSize:20,pageNum:1,sortBy:"",sortExp:"",reqFrom:"UC",isLoading:!1,RepliesList:[],MessageBoardthreadHeader:"",mbCommentTxt:"",ProjectUsers:[],UsersArray:[],MsgBoardid:null,isDataLoaded:!1,isReplyFocus:"reply-form-without-focus",blobUrl:"",containerName:"",imgPath:"",blobUserUrl:"",noImageUrl:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",mbid:0,TeamMembersList:[],selectedUsers:null,selectAll:!1,activeIndex:"",txtSearchTeamMembers:"",TeamErrorMessage:"",pageHeight:window.innerHeight,pageWidth:window.innerWidth,activeMessageboardId:0,MessageboardId:0,imgs:"",visible:!1,index:0,AttachedFiledata:[],filesize:"",Filetype:"",rows:Array.from({length:100}).map((t,e)=>e),currentCoords:{top:0,left:0},enabled:!0}},computed:{MessageBoardListData:function(){return this.rows.slice(0,this.current)},computedAttachmentDivData(){return this.AttachmentDivData},updateDimensions(){return()=>{this.pageHeight=window.innerHeight,this.pageWidth=window.innerWidth}}},mounted(){const t=document.querySelector("#div_ProjectMessages");null!=t&&t.addEventListener("scroll",e=>{console.log("listElm.scrollTop",e),1==t.scrollTop&&(this.Loaddatashow=!0)}),window.addEventListener("resize",this.updateDimensions)},beforeDestroy(){window.removeEventListener("resize",this.updateDimensions)},created(){var t=this;t.usertype=t.GetUserInfo.UserType,t.containerName=t.GetUserInfo.ContainerName,t.imgPath=t.GetUserInfo.Avatar,t.GetBlobUrl(),t.GetAllMessages(),t.AttachmentDivData.push({Attachment:"",fileName:"",count:1}),t.GetConfigurationFilesizevalues(),t.GetConfigurationFileExtrensionvalues()},watch:{ProjectiId(){this.projectId=this.ProjectiId,this.GetAllMessages()}},methods:{GetConfigurationFilesizevalues(){var t=this,e=`companyId=${t.GetUserInfo.CompanyId}&userId=${t.GetUserInfo.ID}&moduleName=Messages&configkey=MBFileSize`;r["a"].GetConfigurationValueByKey(e).then(e=>{if(e.data){var a=JSON.parse(e.data);t.filesize=a[0].CONFIG_DATA_VALUE}})},GetConfigurationFileExtrensionvalues(){var t=this,e=`companyId=${t.GetUserInfo.CompanyId}&userId=${t.GetUserInfo.ID}&moduleName=Messages&configkey=MBDisallowedFileTypes`;r["a"].GetConfigurationValueByKey(e).then(e=>{if(e.data){var a=JSON.parse(e.data);t.Filetype=a[0].CONFIG_DATA_VALUE}})},getExtension(t){return null!=t?t.split(".").pop().toLowerCase():null},openFile(t){switch(this.getExtension(t)){case"3gp":return"fa-file-video-o";case"avi":return"fa-file-video-o";case"7z":case"cbr":case"deb":case"gz":case"pkg":case"rar":case"rpm":case"sitx":case"zip":case"zipx":return"fa-file-archive-o";case"csv":case"dat":case"gbr":case"ged":case"ibooks":case"key":case"keychai":case"pps":case"ppt":case"pptx":case"sdf":case"tar":case"tax2012":case"vcf":case"xml":return"fa-file-code-o";case"doc":case"log":case"msg":case"odt":case"pages":case"rtf":case"wpd":case"wps":return"fa-file-word-o";case"docx":return"fa-file-word-o";case"c":case"class":case"cpp":case"cs":case"dtd":case"fla":case"h":case"java":case"lua":case"m":case"pl":case"py":case"sh":case"sln":case"vcxproj":case"xcodeproj":return"fa-file-code-o";case"apk":case"app":case"bat":case"cgi":case"com":case"exe":case"gadget":case"jar":case"pif":case"vb":case"wsf":return"fa-file";case"flv":return"fa-file-video-o";case"gif":return"fa-file-image-o";case"jpg":case"jpeg":case"bmp":return"fa-file-image-o";case"mp3":case"aif":case"iff":case"m3u":case"m4a":case"mid":case"mpa":case"ra":case"wav":case"wma":return"fa-file-audio-o";case"mp4":return"fa-file-video-o";case"mpg":return"fa-file-image-o";case"pdf":case"indd":case"pct":return"fa-file-pdf-o";case"png":return"fa-file-image-o";case"dds":case"psd":case"pspimage":case"tga":case"thm":case"tif":case"tiff":case"yuv":return"fa-file-image-o";case"txt":return"fa-file-text-o";case"3g2":case"rm":case"asf":case"asx":case"m4v":case"mov":case"srt":case"swf":case"vob":return"fa-file-video-o";case"asp":case"aspx":case"cer":case"cfm":case"csr":case"css":case"htm":case"html":case"js":case"jsp":case"php":case"rss":case"xhtml":return"fa-file-code-o";case"wmv":return"fa-file-video-o";case"xlsb":return"fa-file-excel-o";case"xls":case"xlr":return"fa-file-excel-o";case"xlsx":return"fa-file-excel-o";default:return"fa-file-o"}},removeItem(t){this.AttachedFiledata=this.AttachedFiledata.filter(e=>e.fileid!==t)},openLightbox:function(t,e,a){if(".jpg"==a||".png"==a)this.visible=!0,this.index=0,this.imgs=[{title:e.split("/")[3],src:t}];else if(".pdf"==a){var s="filePath="+e;r["a"].DownloadAttachment(s).then(t=>{if(null!=t.data&&200===t.status){const i=t.data,r=`data:${a};base64,${i}`;var s=document.createElement("a");s.href=r,s.setAttribute("download",e.split("/")[3]),document.body.appendChild(s),s.click(),this.isLoading=!1}else this.isLoading=!1})}},handleHide(){this.visible=!1},removeFileElement:function(t){this.AttachmentTxtData.splice(t,1)},Loadmore:function(){this.currentCoords.top=this.$refs.test.offsetTop,this.currentCoords.left=this.$refs.test.offsetLeft,this.pageSize+=10,this.$nextTick(()=>{this.$refs.messageBoardContainer.scrollTo(this.currentCoords.left,this.currentCoords.top-10)}),this.enabled=!1,this.Loaddatashow=!1,this.GetAllMessages("fromLoadMore")},RefreshtxtField:function(){var t=this;t.txtSearchTeamMembers=""},AllUsersListSelect:async function(){this.selectAll=!0,this.selectAll?this.selectedUsers=this.TeamMembersList.reduce((t,e)=>t.concat(e.userses.map(t=>t.id)),[]):this.selectedUsers=null},scrollToBottom(){const t=this.$refs.messageBoardContainer;t&&(t.scrollTop=t.scrollHeight)},EditMessage:async function(t,e){var a=this;a.isLoading=!0,a.MessageboardId=t;var s=`mbid=${t}&projectId=${e}&reqFrom=${a.reqFrom}`;r["a"].EditMessage(s).then(t=>{if("success"==t.data.msg){const e=t.data.result,s=JSON.parse(e);a.Messagetitle=s.data[0].message_board_title,a.MessageDescription=s.data[0].message_board_content,a.SelectedProject=s.data[0].project_id,s.MSGFILECOUNT.forEach(t=>{a.AttachedFiledata.push({filename:t.message_board_file_name,fileid:t.message_board_file_id,Filepath:t.message_board_file_path,FileDesc:t.message_board_file_desc})}),null!=JSON.parse(t.data.result).USER_LISTS[0].USERLISTS&&(a.BindTeamMembers(a.SelectedProject,null),a.selectedUsers=JSON.parse(t.data.result).USER_LISTS[0].USERLISTS.split(",").map((function(t){return parseInt(t,10)})),a.selectedUsers.forEach(t=>{var e=document.querySelector('input[type="checkbox"][value="'+t+'"]');e&&(e.checked=!0)})),this.OpenAddMessagePop(),t.data.msg,a.isLoading=!1}a.isLoading=!1})},GetBlobUrl:async function(){await r["a"].GetBlobUrl().then(t=>{this.blobUserUrl=t.data[0].CONFIG_DATA_VALUE+"/"+this.containerName+"/Upload/UserProfileImage/"})},SaveNewMessage:function(t){var e=this;e.$refs.newMessageForm.validate().then(a=>{if(a){e.TeamErrorMessage="";var s=e.selectedUsers.join(","),i=new FormData;i.append("RequestType","post"),i.append("MessageBoardTitle",e.Messagetitle),i.append("MessageBoardContent",e.MessageDescription),i.append("ProjectId",e.SelectedProject),i.append("UserList",s),i.append("MessageBoardId",e.MessageboardId),i.append("RefSourceName",""),i.append("MessageType",t),i.append("PreMessageType",""),e.AttachmentDivData.length>=0&&e.AttachmentDivData.map((t,e)=>{var a=t.Attachment;i.append("File"+e,a)}),r["a"].PostMessage(i).then(async t=>{if(!t.data[0]){var a=[];return e.AttachmentDivData.forEach(t=>{a.push(t.Attachment.name),t.Attachment.size>e.filesize&&e.ShowAlert(e.$t("FileSize",!0,[a]),"warning",!0,e.$t("Alert"))}),!1}"100"==t.data[1].Value?(e.Messagetitle="",e.MessageDescription="",e.SelectedProject="",e.selectedUsers=null,e.AttachmentTxtData=[],"1"==t.data[0].StatusMessage?e.ShowAlert(e.$t("NewMessagePost"),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("MessageEdit"),"success",!0,e.$t("Alert"))):"121"==t.data[1].Value&&(e.Messagetitle="",e.MessageDescription="",e.SelectedProject="",e.selectedUsers=null,e.AttachmentTxtData=[],e.CloseAddMessagePop(),await e.GetAllMessages("post"),e.ShowAlert(e.$t(t.data[1].StatusMessage),"warning",!0,e.$t("Alert"))),e.Messagetitle="",e.MessageDescription="",e.SelectedProject="",e.selectedUsers=null,e.AttachmentTxtData=[],e.$refs.newMessageForm.reset(),await e.GetAllMessages("post"),e.CloseAddMessagePop(),console.log("vm.$refs.newMessageForm.reset();")})}else e.TeamErrorMessage="Team Members Is Required."})},openFileInput:function(t){this.activeMessageboardId=t,document.getElementById("up").click()},mouseDownClick:function(t){var e=this;e.activeIndex=t},toggleAll(t){t.userses.forEach(e=>{e.bChecked=t.h6Checked})},ShareMessageUsers:function(){var t=this,e=document.getElementsByClassName("chkTeamMembers");for(let i=0;i<e.length;i++)if(1==e[i].checked){t.UsersArray.push(e[i].value);var a=t.UsersArray.join(",")}if(void 0!=a){var s=`mbid=${t.MsgBoardid}&userIds=${a}`;r["a"].ShareMessage(s).then(e=>{1==e.data&&t.ShowAlert(t.$t("Message Share succesfully"),"success",!0,t.$t("Alert")),t.CloseRemainingPopup()})}},toggleSingle(t){t.h6Checked=t.userses.every(t=>t.bChecked)},SaveCommentClick:function(t){var e=this,a=void 0==e.$refs[t][0].value?"":e.$refs[t][0].value;if(""!=a){var s={};s.Content=""==e.mbCommentTxt?a:e.mbCommentTxt,s.MType="post",s.MessageCommentId=0,s.Mid=t;var i=new FormData;i.append("Content",""==e.mbCommentTxt?a:e.mbCommentTxt),i.append("MType","post"),i.append("MessageCommentId",0),i.append("Mid",t),e.AttachmentTxtData.length>0&&Array(e.AttachmentTxtData).forEach((t,e)=>{var a=t[e].file;i.append("File"+e,a)}),r["a"].PostComment(i).then(a=>{if(0==a.data.length){var s=[];return e.AttachmentTxtData.forEach(t=>{s.push(t.name),t.size>e.filesize&&e.ShowAlert(e.$t("FileSize",!0,[s]),"warning",!0,e.$t("Alert"))}),!1}"100"==a.data[0].Value?e.ShowAlert(e.$t("CommentHasBeenPostedSuccessfully"),"success",!0,e.$t("Alert")):"121"==a.data[0].Value&&e.ShowAlert(e.$t(a.data[0].StatusMessage),"warning",!0,e.$t("Alert")),e.$refs[t][0].value="",e.mbCommentTxt="",e.AttachmentTxtData=[],e.GetBlobUrl(),e.GetAllMessages()})}else e.ShowAlert(e.$t("PleaseTypeSomethingFirst"),"failure",!0,e.$t("Alert"))},ClickOnReplies:function(t,e,a){var s=this,i=`mbid=${t}&projectId=${e}&UserType=${s.usertype}&reqFrom=${s.reqFrom}`;r["a"].GetMessageReplyDetail(i).then(t=>{void 0!=t.data[0]&&(s.RepliesList=t.data[0])}),s.MessageBoardthreadHeader=a,s.isMessageBoardThreded=!0,s.IsMessageBoardList=!1},DateDifference:function(t){var e=this,a=new Date,s=Math.ceil(Math.floor(a.getTime()-new Date(t).getTime())/1e3),i=Math.floor(s/3600),r=s%3600,o=Math.floor(r/60),l=Math.floor(s/86400);if(s<60)return e.$t("Just now");if(s<120)return e.$t("minutes ago");if(s<2700)return o+" "+e.$t("minutes ago");if(s<5400)return e.$t("an")+" "+e.$t("hour ago");if(s<86400)return i+" "+e.$t("hour ago");if(s<172800)return e.$t("Yesterday");if(s<2592e3)return l+" "+e.$t("days ago");if(s<31104e3){var n=Math.floor(l/30);return n<=1?"1 "+e.$t("months ago"):n+" "+e.$t("months ago")}var c=Math.floor(l/365);return c<=1?"1 "+e.$t("years ago"):c+" "+e.$t("years ago")},BindTeamMembers:async function(t,e){var a=this;null!=e&&(a.selectedUsers=null);var s=`projectId=${t}&mbid=${a.mbid}&reqFrom=${a.reqFrom}&UserTypes=${a.usertype}`;await r["a"].LoadProjectUsers(s).then(t=>{let e=[];t.data.result.map(t=>{let a=[];t.userses.map(t=>{a.push({label:t.name,id:t.id})}),e.push({label:t.userType,id:t.userTypeId,children:a})}),console.log("newArray",e),a.TeamMembersList=e})},GetAllMessages:async function(t){var e=this;e.Loaddatashow=!0,e.isLoading=!0,e.isDataLoaded=!0,await r["a"].GetBlobUrl().then(t=>{e.blobFileUrl=t.data[0].CONFIG_DATA_VALUE+"/"+this.containerName+"/"});var a=`projectId=${e.projectId}&usertype=${e.usertype}&createdBys=${e.createdBys}&from=${e.fromDate}&to=${e.toDate}&search=${e.searchTxt}&pageSize=${e.pageSize}&pageNum=${e.pageNum}&sortBy=${e.sortBy}&sortExp=${e.sortExp}&reqFrom=${e.reqFrom}`;"fromLoadMore"==t?(this.enabled=!1,await r["a"].GetMessagesData(a).then(t=>{t.data.length>0&&(e.MessageBoardListData=t.data.reverse(),t.data.forEach(t=>{t.files=JSON.parse(t.files)}),e.pageSize!=t.data.length&&(e.Loaddatashow=!1),e.isDataLoaded=!1,e.isLoading=!1)})):(setTimeout((function(){e.isLoading=!1}),500),await r["a"].GetMessagesData(a).then(t=>{t.data.length>0&&(e.MessageBoardListData=t.data.reverse(),t.data.forEach(t=>{t.files=JSON.parse(t.files)}),e.pageSize!=t.data.length&&(e.Loaddatashow=!1),e.isDataLoaded=!1,e.isLoading=!1)}),this.enabled=!0)},CloseRemainingPopup:function(){var t=this;t.isRemainingToShare=!1,t.MsgBoardid=null},RemainingToShareClick:async function(t,e){var a=this;a.MsgBoardid=t;var s=`projectId=${e}&mbid=${t}&reqFrom=${a.reqFrom}&UserTypes=${a.usertype}`;await r["a"].LoadProjectUsers(s).then(t=>{a.ProjectUsers=t.data}),a.isRemainingToShare=!0},BackToMessage:function(){var t=this;t.isMessageBoardThreded=!1,t.IsMessageBoardList=!0},AddComment:function(t,e,a){var s=this,i=`mbid=${t}&projectId=${e}&UserType=${s.usertype}&reqFrom=${s.reqFrom}`;r["a"].GetMessageReplyDetail(i).then(t=>{s.RepliesList=t.data[0]}),s.MessageBoardthreadHeader=a,s.isMessageBoardThreded=!0,s.IsMessageBoardList=!1},CloseAddMessagePop:function(){var t=this;t.MessageboardId=0,t.$refs.newMessageForm.reset(),t.TeamErrorMessage="",t.TeamMembersList=[],t.selectedUsers=null,t.SelectedProject="",t.Messagetitle="",t.MessageDescription="",t.isAddMessagePop=!1},OpenAddMessagePop:function(){var t=this;t.isAddMessagePop=!0},AddMoreAttachment:function(){var t=this;if(t.AttachmentDivData.length<5){let e={Attachment:"",fileName:"",count:1},a=t.AttachmentDivData.slice(-1);console.log("check",a),e.count=a[0].count+1,t.AttachmentDivData.push(e)}else t.ShowAlert(t.$t("Max limit reached (Only five attachments are allowed)"),"Warning",t.$t("Alert"));setTimeout((function(){t.CheckBoxBootstrap()}),100)},removeAttachmentRow:function(t){var e=this;const a=e.AttachmentDivData.findIndex(e=>e.count===t);return-1!==a&&e.AttachmentDivData.splice(a,1),!0},setFile:function(t,e){var a=this;a.AttachmentDivData[e].Attachment=t.target.files[0],console.log("checkk",e,a.AttachmentDivData)},setFileClickFromTextArea:function(t){var e=this;e.AttachmentTxtData.push({lastModified:t.target.files[0].lastModified,lastModifiedDate:t.target.files[0].lastModifiedDate,name:t.target.files[0].lastModifiedDate+t.target.files[0].name,size:t.target.files[0].size,type:t.target.files[0].type,messageId:e.activeMessageboardId,file:t.target.files[0]});var a="imageUploader"+e.activeMessageboardId;e.$refs[a].value=null,e.activeMessageboardId=0,console.log("chekck",e.AttachmentTxtData)},singleShow(t,e){let a=t.find(t=>t.messageId==e);return!!a},DeleteMessage:function(t,e){var a=this;a.confirmR(a.$t("ConfirmDeleteMessage"),!0,a.$t("Delete"),(function(){var s=`Messageid=${t}&projectId=${e}&Usertype=${a.usertype}&reqFrom=${a.reqFrom}`;r["a"].DeleteMessage(s).then(t=>{0==t.data.result[0].StatusCode&&"Message Deleted Successfully"==t.data.result[0].MSg&&a.ShowAlert(a.$t(t.data.result[0].MSg),"success",!0,a.$t("Alert")),a.isAddMessagePop=!1,a.GetAllMessages()})}))}}},P=N,O=(a("1bf1"),a("1583"),Object(w["a"])(P,U,k,!1,null,null,null)),L=O.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content wcb",attrs:{id:"v-pills-calls"}},[t.addNewContact?e("div",{staticClass:"scroll-wrapper card-contact contact scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"}},[e("div",{staticClass:"card-contact contact scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"640px"},attrs:{id:"div_forAddLeadContact"}},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"contactForm",on:{submit:function(e){return e.preventDefault(),a(t.contactSubmit)}}},[e("div",{staticClass:"container_rw",staticStyle:{"overflow-y":"auto"}},[e("div",{staticClass:"form"},[e("div",{staticClass:"passpolicy-detailshead py-3 mb-3",staticStyle:{width:"100%",margin:"10px",padding:"5px 10px",background:"rgb(238, 238, 238)"}},[e("div",{staticClass:"recent-contacts heading px-1 mt-0 p-2 bg-grey",staticStyle:{"font-size":"16px","text-transform":"capitalize"}},[t._v("Contact Details")])]),e("div",{staticStyle:{clear:"both"}}),t._v(" "),e("input",{attrs:{type:"hidden",id:"contact_id"}}),e("div",{staticClass:"form-group"},[e("label",[t._v("Last Name: "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtLastName,expression:"contactInfo.txtLastName"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Last Name",name:"last_name"},domProps:{value:t.contactInfo.txtLastName},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtLastName",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("Last Name is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("First Name:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtFirstName,expression:"contactInfo.txtFirstName"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter First Name",name:"first_name","data-vv-as":"First Name"},domProps:{value:t.contactInfo.txtFirstName},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtFirstName",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("First Name is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Job Title:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required",name:"Job Title"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtJobTitle,expression:"contactInfo.txtJobTitle"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Job Title"},domProps:{value:t.contactInfo.txtJobTitle},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtJobTitle",e.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Email:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtEmailId,expression:"contactInfo.txtEmailId"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Email",name:"Email"},domProps:{value:t.contactInfo.txtEmailId},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtEmailId",e.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Business Phone:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtBusinessPhone,expression:"contactInfo.txtBusinessPhone"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Business Phone",name:"business_phone"},domProps:{value:t.contactInfo.txtBusinessPhone},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtBusinessPhone",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("Business Phone is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Mobile:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtMobilePhone,expression:"contactInfo.txtMobilePhone"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Mobile",name:"mobile_phone"},domProps:{value:t.contactInfo.txtMobilePhone},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtMobilePhone",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("Mobile is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Address: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtAddressLine3,expression:"contactInfo.txtAddressLine3"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Address Street 2",id:"address_street_2",name:"address_street_2","data-vv-as":"Address Street 2"},domProps:{value:t.contactInfo.txtAddressLine3},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtAddressLine3",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("City:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtCity,expression:"contactInfo.txtCity"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter City",name:"city"},domProps:{value:t.contactInfo.txtCity},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtCity",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("City is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("State:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtState,expression:"contactInfo.txtState"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter State"},domProps:{value:t.contactInfo.txtState},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtState",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("State is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Zip Code: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtZipCode,expression:"contactInfo.txtZipCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Zip Code",id:"zipcode",name:"zipcode","data-vv-as":"Zip Code"},domProps:{value:t.contactInfo.txtZipCode},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtZipCode",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Date of Birth:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group"},[e("ValidationProvider",{staticClass:"w-100",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("DatePicker",{staticClass:"d-flex col-12 bg-white p-0",attrs:{popover:!1,masks:t.dateMask},scopedSlots:t._u([{key:"default",fn:function({togglePopover:s,inputValue:i,inputEvents:r}){return[e("input",t._g({staticClass:"form-control datepicker_HS",class:a[0]?"is-invalid error":"",attrs:{id:"date_range"},domProps:{value:i}},r)),e("div",{staticClass:"input-group-append cursor-pointer",on:{click:s}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:t.contactInfo.txtDateOfBirth,callback:function(e){t.$set(t.contactInfo,"txtDateOfBirth",e)},expression:"contactInfo.txtDateOfBirth"}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("Date of Birth is required")]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"form-group common_multiselect"},[e("label",[t._v("Country: ")]),e("multiselect",{attrs:{options:t.store.getcountry,label:"name","track-by":"value"},model:{value:t.contactInfo.country,callback:function(e){t.$set(t.contactInfo,"country",e)},expression:"contactInfo.country"}})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Status:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.Status,expression:"contactInfo.Status"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{name:"status_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.contactInfo,"Status",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),e("option",{attrs:{value:"1001"}},[t._v("Active")]),e("option",{attrs:{value:"1002"}},[t._v("Inactive")])]),a[0]?e("span",{staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("Status is required")]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-rw"},[e("div",{staticClass:"search-btm-btn text-right"},[e("button",{staticClass:"btn btn-success formbtn widthhalf mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v("Save")]),e("button",{staticClass:"btn btn-danger formbtn widthhalf",on:{click:function(e){t.addNewContact=!1}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])])])])])]}}],null,!1,3948625198)})],1),t._m(0),t._m(1)]):t._e(),t.runningCallInformation||1==t.videoCall?t._e():e("div",{staticClass:"contacts-tab px-2",attrs:{id:"div_WhenNoAnyCall"}},[e("div",{staticClass:"chat-header"},[e("div",{staticClass:"name"}),e("div",{staticClass:"chat-links recentab_uc",attrs:{id:"myTab"}},[e("a",{staticClass:"phone nav-link active mr-2",attrs:{id:"home-tab",title:"",role:"tab","aria-controls":"home","aria-selected":"true","data-toggle-tooltip":"tooltip","data-original-title":"Call History"},on:{click:t.callhistory}},[e("i",{staticClass:"fa fa-history"})]),e("a",{staticClass:"users nav-link",attrs:{id:"contact-tab",role:"tab",title:"","aria-controls":"contact","aria-selected":"false","data-toggle-tooltip":"tooltip","data-original-title":"Call"},on:{click:t.showDailPaid}},[e("i",{staticClass:"fa fa-phone-square"})])])]),e("div",{staticClass:"bodbot_e5e5e5"}),e("div",{staticClass:"container-fluid pt-0"},[e("div",{attrs:{id:"myTabContent"}},[t.dialPadShow?t._e():e("div",{staticClass:"tab-pane contacts-tab-panel",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}},[e("div",{staticClass:"recent-contacts"},[e("div",[e("div",{staticClass:"scroll-wrapper recent-calls-listing-wrapper scrollbar-inner scroll-content scroll-scrolly_visible"},[t._l(t.store.getRecentCall,(function(a,s){return e("div",{key:s,staticClass:"recent-calls-listing-wrapper scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"577px"},attrs:{id:"div_forRecentCallList"}},[e("h2",{staticClass:"marginbtm10"},[t._v(t._s(a.date))]),t._l(a.calls,(function(a){return e("div",{key:a,staticClass:"user card-contact recent-calls-listing",attrs:{id:"calllog_175"}},[e("div",{staticClass:"member-img"},[e("img",{attrs:{src:a.USER_IMAGE?a.USER_IMAGE:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",alt:"andrew"}})]),e("div",{staticClass:"member-detail"},[e("p",[e("b",[t._v(t._s(a.CALLER_NAME))])])]),e("div",{staticClass:"designation"},[e("span",{staticClass:"sub-c-details"},[e("p",{staticClass:"text-olive",class:"Outgoing"==a.CALL_TYPE?"text-success":"Incomming"!=a.CALL_TYPE||"undefined"!==typeof a.START_TIME&&null!=a.START_TIME?"text-warning":"text-danger"},[t._v(" "+t._s("Incomming"!=a.CALL_TYPE||"undefined"!==typeof a.START_TIME&&null!=a.START_TIME?"Outgoing"!=a.CALL_TYPE||"undefined"!==typeof a.START_TIME&&null!=a.START_TIME?a.CALL_TYPE+" - "+t.secondsToHms(a.DURATION)+" - "+t.getTime(a.CREATED_AT):a.CALL_TYPE+" - Not Picked":"Missed Call"))])])]),e("div",{staticClass:"duration"},[e("p",{staticClass:"text-olive"},[t._v(" "+t._s("Outgoing"==a.CALL_TYPE?a.CALL_TO:a.CALL_FROM)+" ")])]),e("div",{staticClass:"icons"},[e("a",{staticClass:"phone",attrs:{href:"javascript:;",title:"Call"},on:{click:function(e){return t.redirectCall("Outgoing"==a.CALL_TYPE?a.CALL_TO:a.CALL_FROM)}}},[e("i",{staticClass:"fa fa-phone"})])])])}))],2)})),e("div")],2),0==t.store.getRecentCall.length?e("div",{staticClass:"recent-calls-listing-wrapper scrollbar-inner scroll-content",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px"},attrs:{id:"div_forRecentCallList"}},[e("div",{staticClass:"text-center text-danger border p-2 bg-white"},[t._v(t._s(t.$t("No_Record_Found")))])]):t._e(),e("div",{staticClass:"position-fixed-bottom",staticStyle:{display:"none"},attrs:{id:"div_loadMoreForRecentCallLogs","data-isshow":"false"}},[e("a",{staticClass:"btn btn-info",attrs:{href:"javascript:;",id:"a_loadMoreCallLog","data-pagenumber":"0","data-pagesize":"10"}},[t._v(t._s(t.$t("LoadMore")))])])])]),e("div",{staticClass:"clearfix"})]),t.dialPadShow?e("div",{staticClass:"tab-pane contacts-tab-panel",attrs:{id:"contact1",role:"tabpanel","aria-labelledby":"contact-tab"}},[e("div",{staticClass:"alert alert-danger",staticStyle:{display:"none"},attrs:{id:"div_messageForDialBox"}},[e("strong",[t._v(t._s(t.$t("ErrorMessageForAdministrator")))])]),e("div",{staticClass:"uc_dialerbase"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"phone"},[e("div",{staticClass:"row m-0"},[e("div",{staticClass:"dialerbasepad"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dailNumber,expression:"dailNumber"}],staticClass:"form-control input tel dialnumber",attrs:{type:"text",name:"txt_dialNumber",id:"txt_dialNumber",autocomplete:"off"},domProps:{value:t.dailNumber},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||(t.dailNumber=e.target.value)}}}),e("div",{staticClass:"num-pad float-left px-0 dialerbtn"},[e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(1)}}},[e("div",{staticClass:"txt"},[t._v("1")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(2)}}},[e("div",{staticClass:"txt"},[t._v("2")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(3)}}},[e("div",{staticClass:"txt"},[t._v("3")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(4)}}},[e("div",{staticClass:"txt"},[t._v("4")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(5)}}},[e("div",{staticClass:"txt"},[t._v("5")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(6)}}},[e("div",{staticClass:"txt"},[t._v("6")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(7)}}},[e("div",{staticClass:"txt"},[t._v("7")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(8)}}},[e("div",{staticClass:"txt"},[t._v("8")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(9)}}},[e("div",{staticClass:"txt"},[t._v("9")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString("*")}}},[e("div",{staticClass:"txt",staticStyle:{"font-size":"55px",padding:"10px 0"}},[t._v("*")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(0)}}},[e("div",{staticClass:"txt"},[t._v("0")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString("#")}}},[e("div",{staticClass:"txt"},[t._v("#")])])])]),e("div",{staticClass:"clearfix"}),e("div",{staticClass:"span4 text-center py-2",on:{click:function(e){return t.addString("+")}}},[t._m(2)]),e("div",{staticClass:"span4 text-center",on:{click:t.makeCall}},[t._m(3)]),e("div",{staticClass:"span4 text-center py-2"},[e("a",{staticClass:"btn callclearbtn back",attrs:{href:"javascript:;"},on:{click:function(e){return t.addString("X")}}},[t._v("X")])])])]),e("div",{staticClass:"clearfix"})])])])]):t._e()])])]),t.runningCallInformation&&!t.addNewContact?e("div",{staticClass:"col-12 float-left px-1",attrs:{id:"div_OngoingCall"}},[e("div",{staticClass:"chat-panel px-2",attrs:{id:"callPanel"}},[e("div",{staticClass:"mb-1 uc_callingbase",attrs:{id:"div_ForOngoingCallWithCancelButton"}},[e("div",{staticClass:"user calling card-contact"},[e("div",{staticClass:"member-img"},[t.store.getContactDetails?e("img",{staticClass:"img-fluid",attrs:{src:t.store.getContactDetails.img?t.store.getContactDetails.img:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",id:"img_callerImageIfExist"}}):e("img",{staticClass:"img-fluid",attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",id:"img_callerImageIfExist"}})]),e("div",{staticClass:"user-info member-detail"},[e("p",{staticClass:"mb-0",attrs:{id:"Call_CallerNumber"}},[e("b",{attrs:{id:"lbl_forPhoneNumber"}},[t._v(t._s(t.store.$state.incomingcallNumber?t.store.$state.incomingcallNumber:t.dailNumber))]),e("b",{staticClass:"small"},[e("span",{attrs:{id:"lbl_hyphon"}},[t._v(" - ")]),e("span",{staticClass:"calltimetext text-olive",attrs:{id:"lbl_CallTime"}},[t._v(t._s(t.secondsToHms(t.store.$state.timerStart)))])])]),"completed"==t.callSatus?e("p",{staticStyle:{"font-size":"13px","font-weight":"bold","margin-right":"10px",color:"#da0000"}},[t._v(t._s(t.$t("CallEnded"))+" ")]):e("p",{staticClass:"text-olive green",attrs:{id:"call_CallType"}},[t._v(t._s(t.store.$state.incomingcallNumber?"In coming call":"Outgoing")+" ")])]),t.store.getCallEnded?t._e():e("div",{staticClass:"icons"},[e("a",{staticClass:"stopclck btn_CallTransfer",attrs:{href:"javascript:;",id:"btn_CallTransfer"},on:{click:t.forwordCall}},[e("i",{staticClass:"fa fa-exchange",attrs:{"aria-hidden":"true"}}),e("ul",{staticClass:"dropdown-menu callsharebase",staticStyle:{display:"none"}})]),e("a",{staticClass:"loud-speaker",class:t.muteUnmute,attrs:{href:"javascript:;"},on:{click:function(e){"mute"==t.muteUnmute?t.callMute():t.callUnmute()}}},[e("i",{staticClass:"fa fa-volume-up"})]),e("a",{staticClass:"call stopclck btn_rejectCall",staticStyle:{rotate:"-227deg"},attrs:{id:"btn_rejectCall"},on:{click:function(e){t.store.getIncomingCallData?t.hangup(t.store.getIncomingCallData):t.hangup(t.store.getOutGoingcallData)}}},[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})]),t._m(4),t._m(5)])])]),e("div",{staticClass:"info_detail card-contact"},[e("div",{staticClass:"valueddiv col-sm"},[e("p",[e("label",[t._v("Name:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callContactName"}},[t._v(" "+t._s(t.store.getContactDetails.Name))]):t._e()]),e("p",[e("label",[t._v("Email:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callContactEmail"}},[t._v(" "+t._s(t.store.getContactDetails.Email))]):t._e()])]),e("div",{staticClass:"valueddiv col-sm"},[e("p",[e("label",[t._v("City:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callCity"}},[t._v(" "+t._s(t.store.getContactDetails.city))]):t._e()]),e("p",[e("label",[t._v("State:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callState"}},[t._v(" "+t._s(t.store.getContactDetails.state))]):t._e()])]),e("div",{staticClass:"valueddiv col-sm"},[e("p",[e("label",[t._v("Country:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callCountry"}},[t._v(" "+t._s(t.store.getContactDetails.country_name))]):t._e()]),e("p",[e("label",[t._v("Zip Code:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_CallPin"}},[t._v(" "+t._s(t.store.getContactDetails.zipcode))]):t._e()])]),t.store.getContactDetails?t._e():e("div",{staticClass:"valueddiv col-sm",attrs:{id:"div_AddContactButton"}},[e("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.showAddNewContactForm}},[e("i",{staticClass:"fa fa-user-plus",attrs:{"aria-hidden":"true"}}),t._v(" Add Contact")])])]),t.store.getCallEnded?e("div",{staticClass:"card-contact",attrs:{id:"div_CommentFormAfterCall"}},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"commentForm",on:{submit:function(e){return e.preventDefault(),a(t.formSubmit)}}},[e("div",{staticClass:"form create-group-form callformbase mt-1"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("CallerName"))+": "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.callComment.callerName,expression:"callComment.callerName"}],staticClass:"form-control input",class:a[0]?"is-invalid error":"",attrs:{type:"text",autocomplete:"off",name:"callerName"},domProps:{value:t.callComment.callerName},on:{input:function(e){e.target.composing||t.$set(t.callComment,"callerName",e.target.value)}}}),a[0]?e("label",{staticStyle:{color:"red"},attrs:{id:"txtnameRequired"}},[t._v(t._s(t.$t("CallerNameReq")))]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Comment"))+": "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required",name:t.$t("Comment")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.callComment.comment,expression:"callComment.comment"}],staticClass:"form-control input",class:a[0]?"is-invalid error":"",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.callComment.comment},on:{input:function(e){e.target.composing||t.$set(t.callComment,"comment",e.target.value)}}}),a[0]?e("label",{staticStyle:{color:"red"},attrs:{id:"txtCommentRequired"}},[t._v(t._s(t.$t("CommentIsReq")))]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group common_multiselect"},[e("label",[t._v(t._s(t.$t("CallRelevent"))+":")]),e("multiselect",{attrs:{options:t.store.getModuleDropdown,label:"MODULE_NAME","track-by":"MODULE_ID"},on:{input:t.getSubmodule},model:{value:t.callComment.refSourceId,callback:function(e){t.$set(t.callComment,"refSourceId",e)},expression:"callComment.refSourceId"}})],1),t.subModule.length>0?e("div",{staticClass:"form-group common_multiselect"},[e("label",[t._v(" "+t._s(t.$t("IconsTypeFor"))+":")]),e("ValidationProvider",{attrs:{rules:"required",name:t.$t("IconsTypeFor")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("multiselect",{class:a[0]?"is-invalid error":"",attrs:{options:t.subModule,label:"SUB_MODULE_NAME","track-by":"SUB_MODULE_ID"},model:{value:t.callComment.mappingType,callback:function(e){t.$set(t.callComment,"mappingType",e)},expression:"callComment.mappingType"}}),e("label",{staticStyle:{color:"red"},attrs:{id:"ddlSecondRequired"}},[t._v(t._s(a[0]))])]}}],null,!0)})],1):t._e()]),e("div",{staticClass:"form-rw"},[e("p",[e("span",{staticStyle:{"font-weight":"bold","font-size":"22px",color:"#ffa751"},attrs:{id:"span_callerNameAndNumber"}}),e("span",{staticStyle:{"font-size":"15px",color:"#ff7e00"},attrs:{id:"span_callTimeAfterEnd"}})]),e("div",{staticClass:"btn-rw"},[e("button",{staticClass:"btn btn-success btn-sm rounded mr-2",attrs:{type:"submit",id:"btn_SaveDetails"}},[e("i",{staticClass:"fa fa-save pr-2"}),e("span",[t._v("Save")])]),e("button",{staticClass:"btn btn-danger btn-sm rounded",attrs:{id:"btn_cancelCallDetails"},on:{click:t.cancelCallComment}},[e("i",{staticClass:"fa fa-times pr-2"}),e("span",[t._v("Cancel")])])])])])]}}],null,!1,3157151490)})],1):t._e(),e("div",{staticClass:"chat-content tab-detail"},[e("ul",{staticClass:"tabs",attrs:{id:"pills-tab",role:"tablist"}},[e("li",{staticClass:"nav-link",class:"Ticket"==t.activeTab?"current":"",on:{click:function(e){return t.tabSelect("Ticket")}}},[e("a",{attrs:{"data-toggle":"pill",role:"tab"}},[t._v("Ticketing")])]),e("li",{staticClass:"nav-link",class:"crm"==t.activeTab?"current":"",on:{click:function(e){return t.tabSelect("crm")}}},[e("a",{attrs:{"data-toggle":"pill",role:"tab"}},[t._v("CRM")])]),e("li",{staticClass:"nav-link",class:"project"==t.activeTab?"current":"",on:{click:function(e){return t.tabSelect("project")}}},[e("a",{attrs:{role:"tab"}},[t._v("Project Management")])])]),"Ticket"==t.activeTab||"project"==t.activeTab?e("div",{staticClass:"uc_tabcontent",class:"current",attrs:{id:"pills-tabContent"}},[e("div",{staticClass:"tab-content current",attrs:{id:"pills-ticketing",role:"tabpanel","aria-labelledby":"pills-ticketing-tab"}},[e("div",{staticClass:"chatpanesbase chatpane_100 pt-0",attrs:{id:"container"}},[e("div",{staticClass:"chatpanesbasemid border",attrs:{id:"chat-window"}},[e("div",{staticStyle:{"overflow-x":"hidden",height:"51vh"},attrs:{id:"message-list","data-simplebar":""}},[e("div",{staticClass:"col-12 float-left p-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered",attrs:{id:"table_for_Call_Ticketing"}},[e("thead",{staticClass:"thead-light"},[e("tr",t._l(t.CRMcolumn[0][t.activeTab],(function(a){return e("th",{key:a.name},[t._v(t._s(a.name))])})),0)]),e("tbody",[t._l(t.store.getCallTabsInformation,(function(a,s){return e("tr",{key:s},t._l(t.CRMcolumn[0][t.activeTab],(function(s){return e("td",{key:s.name},["Action"==s.name?e("div",[e("a",{on:{click:function(e){return t.viewRecords(a[s.dataBaseName])}}},[t._v("View ")])]):"PLANNED_START_DATE"==s.dataBaseName||"PLANNED_END_DATE"==s.dataBaseName||"CREATED_AT"==s.dataBaseName?e("div",[t._v(" "+t._s(a[s.dataBaseName]?t.getDateInFormat(a[s.dataBaseName]):"")+" ")]):e("div",[t._v(" "+t._s(a[s.dataBaseName]))])])})),0)})),0==t.store.getCallTabsInformation.length?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"10"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])])])])])]):t._e(),"crm"==t.activeTab?e("div",{staticClass:"tab-content current",class:"crm"==t.activeTab?"current":"",attrs:{id:"pills-crm",role:"tabpanel","aria-labelledby":"pills-crm"}},[e("div",{staticClass:"crm-detail"},[e("div",{staticClass:"menu_left"},[e("ul",{attrs:{id:"pills-tab",role:"tablist"}},[e("li",{class:"Leads"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-leads-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-leads","aria-selected":"true"},on:{click:function(e){return t.getOrderDetails("Leads")}}},[e("i",{staticClass:"fa fa-users"}),e("span",[t._v(" "+t._s(t.$t("Leads")))])])]),e("li",{class:"CRM_DEALS"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-deals-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-deals","aria-selected":"false"},on:{click:function(e){return t.getOrderDetails("CRM_DEALS")}}},[e("i",{staticClass:"fa fa-file-text"}),e("span",[t._v(" "+t._s(t.$t("CRM_DEALS")))])])]),e("li",{class:"Quote"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-quotes-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-quotes","aria-selected":"false"},on:{click:function(e){return t.getOrderDetails("Quote")}}},[e("i",{staticClass:"fa fa-list"}),e("span",[t._v(t._s(t.$t("Quote"))+" ")])])]),e("li",{class:"PurchaseOrderWithoutRef"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-purchaseOrder-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-purchaseOrder","aria-selected":"false"},on:{click:function(e){return t.getOrderDetails("PurchaseOrderWithoutRef")}}},[e("i",{staticClass:"fa fa-bar-chart"}),e("span",[t._v(t._s(t.$t("PurchaseOrderWithoutRef"))+" ")])])]),e("li",{class:"CRM_SALES_ORDERS"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-Sales-Order-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-salesOrders","aria-selected":"true"},on:{click:function(e){return t.getOrderDetails("CRM_SALES_ORDERS")}}},[e("i",{staticClass:"fa fa-line-chart"}),e("span",[t._v(t._s(t.$t("CRM_SALES_ORDERS")))])])]),e("li",{class:"Invoices"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-Invoice-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-invoice","aria-selected":"true"},on:{click:function(e){return t.getOrderDetails("Invoices")}}},[e("i",{staticClass:"fa fa-file"}),e("span",[t._v(t._s(t.$t("Invoices"))+" ")])])])])]),e("div",{staticClass:"detail_right uc_tabcontent",attrs:{id:"pills-tabContent"}},[e("div",{staticClass:"internal-tab-content current",attrs:{id:"pills-leads",role:"tabpanel","aria-labelledby":"pills-leads-tab"}},[e("div",{staticClass:"detail_heading"},[e("h3",[t._v(t._s(t.$t(t.crmTabSelect)))])]),e("div",{staticClass:"chatpanesbase chatpane_100 pt-0",attrs:{id:"container"}},[e("div",{staticClass:"recent-contacts mt-0"},[e("div",{staticClass:"col-12 float-left p-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered",attrs:{id:"table_for_Call_LeadDetails"}},[e("thead",{staticClass:"thead-light"},[e("tr",t._l(t.CRMcolumn[0][t.crmTabSelect],(function(a){return e("th",{key:a.name},[t._v(t._s(a.name))])})),0)]),e("tbody",[t._l(t.store.getCrmDetailRecord,(function(a,s){return e("tr",{key:s},t._l(t.CRMcolumn[0][t.crmTabSelect],(function(s){return e("td",{key:s.name},["Action"==s.name?e("div",[e("a",{on:{click:function(e){return t.viewRecords(a[s.dataBaseName])}}},[t._v("View ")])]):t._e(),"Action"!=s.name?e("div",[t._v(" "+t._s(a[s.dataBaseName])+" ")]):t._e()])})),0)})),0==t.store.getCrmDetailRecord.length?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"10"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])])])])])])]):t._e()])])]):t._e(),t.makeCallPopupShow?e("div",{staticClass:"modal popup-call is-visible",attrs:{id:"modal_MakeCall"}},[e("div",{staticClass:"modal-overlay modal-toggle"}),e("div",{staticClass:"modal-wrapper modal-transition"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",on:{click:function(e){t.makeCallPopupShow=!1}}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v("Call By")])]),e("div",{staticClass:"modal-body"},[e("a",{staticClass:"call-item",attrs:{href:"javascript:;",id:"btn_makeNexmoCall"},on:{click:function(e){return t.calling("nexo")}}},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/ringcentral-logo.png"}})]),e("a",{staticClass:"call-item",attrs:{href:"javascript:;",id:"btn_makeCall"},on:{click:function(e){return t.calling("asterisk")}}},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/ast_logo.png"}})]),e("a",{staticClass:"call-item",attrs:{href:"javascript:;",id:"btn_makeVonageCall"},on:{click:function(e){return t.calling("vonage")}}},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/vonage.png"}})]),e("a",{staticClass:"call-item",attrs:{href:"javascript:;",id:"btn_makeVonageCall"},on:{click:function(e){return t.calling("twilio")}}},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/twilio-logo-red.png"}})])])])]):t._e(),t.videoCall?e("WebRTCComponent",{attrs:{store:t.store}}):t._e()],1)},F=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{left:"0px",width:"88px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-y scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{top:"0px",height:"617px"}})])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"btn plus dail-plus-Icon",attrs:{href:"javascript:;",id:"btn_plusIcon"}},[e("i",{staticClass:"fa fa-plus"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn calldialbtn",attrs:{href:"javascript:;",id:"a_openModalForCall"}},[e("i",{staticClass:"fa fa-phone"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"call-pick stopclck outgoing-call",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"btn_PickupCall"}},[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"pause stopclck text-warning",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"btn_HoldUnholdCall"}},[e("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})])}],B=a("7bb1"),j=a("4c93"),V=[{Leads:[{name:"Lead Owner",dataBaseName:"LEAD_OWNER"},{name:"First Name",dataBaseName:"FIRST_NAME"},{name:"Last Name",dataBaseName:"LAST_NAME"},{name:"Lead Date",dataBaseName:"LEAD_DATE"},{name:"Client Email",dataBaseName:"CLIENT_EMAIL"},{name:"Channel Name",dataBaseName:"CHANNEL_NAME"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"LEAD_ID"}],CRM_DEALS:[{name:"Deal Owner",dataBaseName:"DEAL_OWNER"},{name:"Deal Name",dataBaseName:"DEAL_NAME"},{name:"Closing Date",dataBaseName:"CLOSING_DATE"},{name:"Amount",dataBaseName:"AMOUNT"},{name:"Probability",dataBaseName:"PROBABILITY"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"DEAL_ID"}],Quote:[{name:"Quote Number",dataBaseName:"ORDER_NUMBER"},{name:"Quote",dataBaseName:"ORDER_TITLE"},{name:"Ref Number",dataBaseName:"REF_NUMBER"},{name:"Account Name",dataBaseName:"ACCOUNT_NAME"},{name:"Order Date",dataBaseName:"ORDER_DATE"},{name:"Expiry Date",dataBaseName:"ORDER_EXPIRY_DATE"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"ORDER_ID"}],PurchaseOrderWithoutRef:[{name:"Customer Purchase Number",dataBaseName:"ORDER_NUMBER"},{name:"Purchase Order Subject",dataBaseName:"ORDER_TITLE"},{name:"Ref Number",dataBaseName:"REF_NUMBER"},{name:"Account Name",dataBaseName:"ACCOUNT_NAME"},{name:"Purchase Date",dataBaseName:"ORDER_DATE"},{name:"Expiry Date",dataBaseName:"ORDER_EXPIRY_DATE"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"ORDER_ID"}],CRM_SALES_ORDERS:[{name:"Sales Order Number",dataBaseName:"ORDER_NUMBER"},{name:"Title",dataBaseName:"ORDER_TITLE"},{name:"Ref Number",dataBaseName:"REF_NUMBER"},{name:"Account Name",dataBaseName:"ACCOUNT_NAME"},{name:"Sales Order Date",dataBaseName:"ORDER_DATE"},{name:"Expiry Date",dataBaseName:"ORDER_EXPIRY_DATE"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"ORDER_ID"}],Invoices:[{name:"Invoice Number",dataBaseName:"ORDER_NUMBER"},{name:"Purchase Order Subject",dataBaseName:"ORDER_TITLE"},{name:"Ref Number",dataBaseName:"REF_NUMBER"},{name:"Account Name",dataBaseName:"ACCOUNT_NAME"},{name:"Invoice Date",dataBaseName:"ORDER_DATE"},{name:"Expiry Date",dataBaseName:"ORDER_EXPIRY_DATE"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"ORDER_ID"}],Ticket:[{name:"Ticket Number",dataBaseName:"TICKET_NUMBER"},{name:"Subject",dataBaseName:"TICKET_SUBJECT"},{name:"Priority",dataBaseName:"PRIORITY_NAME"},{name:"Company Name",dataBaseName:"COMPANY_NAME"},{name:"Created At",dataBaseName:"CREATED_AT"},{name:"Created By",dataBaseName:"CREATED_BY"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"TICKET_ID"}],project:[{name:"Project Name",dataBaseName:"PROJECT_NAME"},{name:"Hourly Rate",dataBaseName:"HOURLYRATE"},{name:"Hours Spent",dataBaseName:"HOURSSPENT"},{name:"Total Hours",dataBaseName:"TOTALHOURS"},{name:"Start Date",dataBaseName:"PLANNED_START_DATE"},{name:"End Date",dataBaseName:"PLANNED_END_DATE"},{name:"Status",dataBaseName:"PROJECT_STATUS"},{name:"Action",dataBaseName:"PROJECT_ID"}]}],z=a("5887"),H=a.n(z),q=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"modal is-visible",attrs:{id:"video-chat"}},[e("div",{staticClass:"modal-overlay"}),e("div",{staticClass:"modal-wrapper modal-transition uc-video-chat-wrapper"},[t._m(0),e("div",{staticClass:"modal-body v-chat-inner"},[e("div",{staticClass:"modal-content video-panel"},[e("div",{staticClass:"video-call"},[e("div",{staticClass:"child-a"},[e("div",{staticStyle:{"max-height":"450px",overflow:"hidden"},attrs:{id:"remotes"}},[e("div",{staticClass:"uc_single_videobase p-0"},[e("video",{ref:"remoteVideo",attrs:{autoplay:"",muted:""},domProps:{muted:!0}})])]),e("img",{staticStyle:{display:"none"},attrs:{src:"",alt:"Calling..."}})])]),e("div",{staticStyle:{clear:"both"}}),t._m(1)])])]),e("div",{staticClass:"userc-image user-video-panel rounded"},[e("div",{staticClass:"video"},[e("video",{ref:"localVideo",attrs:{autoplay:"",muted:""},domProps:{muted:!0}})])])])])},Y=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header",staticStyle:{cursor:"move"}},[e("h2",{staticClass:"modal-heading"},[t._v("Video Calling")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"icons buttons"},[e("a",{staticClass:"btn record",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"recording"}}),e("a",{staticClass:"loud-speaker unmute",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-volume-up"})]),e("a",{staticClass:"modal-toggle call disconnectVideo",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-phone"})])])}],J={props:{store:{type:Object},callTo:{type:Number}},data(){return{localStream:null,remoteStream:null,peerConnection:null,webSocket:null,callStarted:!1,isCaller:!0,fromCall:""}},sockets:{connect(){console.log("Connected to server")},disconnect(){console.log("Disconnected from server")},recieverVideo:async function(t){console.log("video",t),this.fromCall=t.from?t.from:"",t.id==this.store.getUserInformation.ID&&("offer"==t.type?(this.isCaller=!1,this.initializePeerConnection(),this.handleSignalingMessage(t)):"answer"==t.type?this.handleAnswer(t):"candidate"==t.type&&this.handleIceCandidate(t))}},mounted(){this.initializeWebSocket(),this.startCall()},methods:{initializeWebSocket(){},sendIceCandidate(t){console.log("candidate",t),this.$socket.emit("videoOffer",{type:"candidate",candidate:t,id:this.callTo,from:this.getUserInformation.ID})},startCall(){this.callStarted=!0,console.log("Call start button is clicked"),this.initializePeerConnection()},receiveCall(){this.isCaller=!1,this.peerConnection||(console.log("Receive call method start"),this.initializePeerConnection())},initializePeerConnection(){const t={iceServers:[{url:"stun:stun2.1.google.com:19302"}]};this.peerConnection=new RTCPeerConnection(t),console.log("peerConnection",this.peerConnection),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{this.$refs.localVideo.srcObject=t,this.localStream=t,t.getTracks().forEach(e=>{this.peerConnection.addTrack(e,t)})}).catch(t=>{console.error("Error accessing media devices:",t)}),this.peerConnection.ontrack=t=>{this.remoteStream||(this.remoteStream=new MediaStream,console.log("this is done",this.remoteStream),this.$refs.remoteVideo.srcObject=this.remoteStream),this.remoteStream.addTrack(t.track,this.remoteStream)},this.peerConnection.onicecandidate=t=>{t.candidate&&(console.log("event.candidate",t.candidate),this.sendIceCandidate(t.candidate))},this.isCaller&&this.peerConnection.createOffer().then(t=>this.peerConnection.setLocalDescription(t)).then(()=>{this.$socket.emit("videoOffer",{type:"offer",offer:this.peerConnection.localDescription,id:this.callTo,from:this.store.getUserInformation.ID})}).catch(t=>{console.error("Error creating offer:",t)})},handleSignalingMessage(t){switch(console.log("message",t),t.type){case"offer":console.log("offer",t.offer),this.handleOffer(t.offer);break;case"answer":console.log("answer",t.answer),this.handleAnswer(t.answer);break;case"candidate":console.log("candidate",t.candidate),this.handleIceCandidate(t.candidate);break;default:console.warn("Received unknown message type:",t.type)}},async handleOffer(t){console.log("In handleOffer method",this.peerConnection),await this.peerConnection.setRemoteDescription(new RTCSessionDescription(t));const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.$socket.emit("videoOffer",{type:"answer",answer:this.peerConnection.localDescription,id:this.fromCall,from:""})},handleAnswer(t){console.log("answer",t,this.peerConnection),this.peerConnection.setRemoteDescription(new RTCSessionDescription(t)).then(()=>{console.log("Remote description set successfully.")}).catch(t=>{console.error("Error setting remote description:",t)})},handleIceCandidate(t){console.error("Error setting remote description:",t),this.peerConnection.addIceCandidate(new RTCIceCandidate(t)).then(()=>{console.log("ICE candidate added successfully.")}).catch(t=>{console.error("Error adding ICE candidate:",t)})}}},W=J,K=(a("f387"),Object(w["a"])(W,q,Y,!1,null,"140ed277",null)),X=K.exports;Object(B["c"])("email",j["email"]),Object(B["c"])("required",j["required"]);var Q={name:"Calling",components:{ValidationProvider:B["b"],ValidationObserver:B["a"],DatePicker:H.a,WebRTCComponent:X},props:{store:{type:Object},phoneNumber:{type:String}},data(){return{dateMask:{input:C["a"]},dialPadShow:!1,dailNumber:"",makeCallPopupShow:!1,callSatus:"",runningCallInformation:"",addNewContact:!1,callComment:{callerName:"",comment:"",refSourceId:"",mappingType:"",isCancel:"",logId:""},contactInfo:{txtFirstName:"",txtLastName:"",txtBusinessPhone:"",txtEmailId:"",txtMobilePhone:"",txtAddressLine3:"",country:"",Status:"",txtState:"",txtDateOfBirth:"",txtZipCode:"",txtCity:"",txtJobTitle:""},blankcallComment:{},blankcontactInfo:{},crmTabSelect:"Leads",activeTab:"Ticket",logId:"",subModule:[],videoCall:!1,muteUnmute:"mute"}},created(){this.store.countryGet(),this.store.moduleDrowdown()},mounted(){Object.assign(this.blankcallComment,this.callComment),Object.assign(this.blankcontactInfo,this.contactInfo),this.dailNumber=this.phoneNumber,this.phoneNumber&&(this.dialPadShow=!0,setTimeout(()=>{this.makeOutgoingCall(),this.store.contactInformation("phone="+encodeURIComponent(this.dailNumber)),this.store.callTabsInformation({params:"mobileNum="+encodeURIComponent(this.dailNumber),tab:"Ticket"})},1e3))},sockets:{connect(){console.log("Connected to server")},disconnect(){console.log("Disconnected from server")},callingFrom:function(t){console.log("callingFrom",t)},incomingCall:function(t){console.warn(t)},audioPayload:function(t){console.warn(t)},receiveCalling:function(t){console.log("receiveCalling",t)},OutgoingCallFromIPphoneOut:function(t){this.logId=t.item.LOG_ID,console.log("OutgoingCallFromIPphoneOut",t)},call_status:function(t){console.log("status",t.call);var e=this;e.callSatus=t.call.CallStatus,e.$parent.callStatus(e.callSatus);var a={companyId:this.store.getUserInformation.CompanyId,Channel:"",extension:t.call.Caller,callFrom:t.call.Caller,callTo:t.call.To,callerIdName:"",CallType:"+12513095602"==t.call.From?"Outgoing":"Incomming",QueryType:"",recentStatus:"",actionId:null,linkedId:t.call.ParentCallSid,uniqueId:t.call.CallSid,userId:this.store.getUserInformation.ID,logId:0,callerImage:null,CallingMedium:"twilio"};if("ringing"==e.callSatus&&(console.log("RINGING",t.call),a.recentStatus="RINGING",a.QueryType="INSERT",e.$socket.emit("incomingOutGoingRecord",a)),"in-progress"==e.callSatus&&(e.store.$state.callEnded=!1,a.recentStatus="CALLSTART",a.QueryType="UPDATE",a.logId=e.logId,e.$socket.emit("incomingOutGoingRecord",a),e.store.callTimerStart(),e.runningCallInformation=t.call),e.callSatus,"completed"==e.callSatus){e.store.$state.incomingAndOutGoingCall=!1;var s={logId:e.logId,QueryType:"UPDATE",recentStatus:"HANGUP"};e.$socket.emit("incomingOutGoingRecord",s),e.store.$state.callEnded?(e.store.$state.outGoingcallData="",e.store.$state.incomingCallData=""):e.hangup()}},broadcastContact:function(){},newMessageForward:function(){}},methods:{getTime(t){const e=t.replace(" ","T"),a=new Date(e);return a.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},incomingCallPick(t){this.store.$state.callEnded=!1,console.log("checkkk",this.store.getIncomingCallData.parameters.From),this.store.contactInformation("phone="+encodeURIComponent(this.store.getIncomingCallData.parameters.From)),this.dailNumber=this.store.getIncomingCallData.parameters.From,this.store.clearInterval(),this.store.$state.outGoingcallData="",t.accept(),this.incomingCall=!1},async makeOutgoingCall(){var t={To:this.dailNumber};this.store.makeOutgoingCall(t)},rejectCall(t){t.reject()},callMute(){this.muteUnmute="unmute";let t=this.store.getIncomingCallData?this.store.getIncomingCallData:this.store.getOutGoingcallData;t.mute(!0)},callUnmute(){this.muteUnmute="mute";let t=this.store.getIncomingCallData?this.store.getIncomingCallData:this.store.getOutGoingcallData;t.mute(!1)},updateUIAcceptedOutgoingCall(){},updateUIDisconnectedOutgoingCall(){},async getToken(){var t=this,e=["first","second","third","user","callUser"],a=e[Math.random()*e.length|0];await t.$socket.emit("getToken",{identity:a,number:"+12513095602"},(function(e){t.store.$state.callToken=e.deviceToken,t.store.intitializeDevice()}))},hangup(){this.store.hangup()},makeCall(){this.dailNumber&&(this.makeCallPopupShow=!0)},redirectCall(t){this.store.$state.callToken?(this.dailNumber=t,this.makeCallPopupShow=!0):this.ShowAlert(this.$t("ConnectDevice"),"failure",!0,this.$t("Alert"))},addString(t){"X"==t?this.dailNumber.length>0&&(this.dailNumber=this.dailNumber.split("").reverse().slice(1).reverse().join("")):this.dailNumber+=t},isNumber(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)))return!0;t.preventDefault()},async showDailPaid(){var t=this;t.dialPadShow=!0},callhistory(){this.dialPadShow=!1},getSubmodule(t){this.callComment.mappingType="",console.log("event",t),this.subModule=t&&t.SUB_MODULES?JSON.parse(t.SUB_MODULES):[]},async calling(t){var e=this;if(e.makeCallPopupShow=!1,"nexo"==t)e.store.NexoCall(`UserId=${e.store.getUserInformation.ID}&CompanyId=23232&PhoneNumber=${e.dailNumber}`);else if("asterisk"==t)e.store.NexoCall(`UserId=${e.store.getUserInformation.ID}&CompanyId=23232&PhoneNumber=${e.dailNumber}`);else if("vonage"==t){let t={UserId:e.store.getUserInformation.ID,CompanyId:"353453",PhoneNumber:e.dailNumber};e.store.VonageCall(t)}else"twilio"==t?e.store.$state.callToken?(e.makeOutgoingCall(),e.$parent.numberDail(e.dailNumber),e.store.contactInformation("phone="+encodeURIComponent(e.dailNumber)),e.store.callTabsInformation({params:"mobileNum="+encodeURIComponent(e.dailNumber),tab:"Ticket"})):e.ShowAlert(e.$t("ConnectDevice"),"failure",!0,e.$t("Alert")):"videoCall"==t&&(e.videoCall=!0)},clearAllState(){this.store.$state.callEnded=!1,this.callSatus="",this.store.$state.timerStart=0,this.runningCallInformation="",this.dailNumber="",this.store.$state.incomingcallNumber="",console.log("checkk",this.blankcallComment),Object.assign(this.callComment,this.blankcallComment)},cancelCallComment(){this.clearAllState(),this.dialPadShow=!0},async formSubmit(){let t={};Object.assign(t,this.callComment),t.refSourceId=t.refSourceId?t.refSourceId.MODULE_ID:t.refSourceId,t.mappingType=t.mappingType?t.mappingType.SUB_MODULE_NAME:t.mappingType,t.logId=Number(this.logId),await this.store.addCommentForCall(t),console.log("getAddCommentForCallRes",this.store.getAddCommentForCallRes.StatusMessage),"Success"==this.store.getAddCommentForCallRes.StatusMessage?(this.dialPadShow=!0,this.$refs.commentForm.reset(),this.subModule=[],this.clearAllState(),this.ShowAlert(this.$t(this.store.getAddCommentForCallRes.StatusMessage),"success",!0,this.$t("Alert"))):this.ShowAlert(this.$t(this.store.getAddCommentForCallRes.StatusMessage),"danger",!0,this.$t("Alert"))},async contactSubmit(){let t={};Object.assign(t,this.contactInfo),t.txtBusinessPhone=this.contactInfo.txtBusinessPhone,t.txtMobilePhone=this.contactInfo.txtMobilePhone,t.country=this.contactInfo.country?this.contactInfo.country.value:"",await this.store.addContactInformation(t),"Success"==this.store.getResponseSubmitContactInfo.StatusMessage?(this.store.contactInformation("phone="+encodeURIComponent(this.contactInfo.txtMobilePhone)),this.addNewContact=!1,this.ShowAlert(this.$t(this.store.getResponseSubmitContactInfo.StatusMessage),"success",!0,this.$t("Alert")),this.$refs.contactForm.reset(),Object.assign(this.contactInfo,this.blankcontactInfo)):this.ShowAlert(this.$t(this.store.getResponseSubmitContactInfo.StatusMessage),"danger",!0,this.$t("Alert"))},tabSelect(t){this.activeTab=t,this.dailNumber=this.store.$state.incomingcallNumber?this.store.$state.incomingcallNumber:this.dailNumber,"crm"==t?this.store.crmDetailRecord({params:"contactId="+this.store.getContactDetails.contact_id,tab:"Leads"}):(this.dailNumber=this.store.getIncomingCallData?this.store.getIncomingCallData.parameters.From:this.dailNumber,this.store.callTabsInformation({params:"mobileNum="+encodeURIComponent(this.dailNumber),tab:t}))},getOrderDetails(t){this.crmTabSelect=t,this.store.crmDetailRecord({params:"contactId="+this.store.getContactDetails.contact_id,tab:t})},showAddNewContactForm(){this.contactInfo.txtMobilePhone=this.dailNumber,this.addNewContact=!0},viewRecords(t){console.log("id",t)},forwordCall(){let t=this.store.getIncomingCallData?this.store.getIncomingCallData:this.store.getOutGoingcallData;t&&this.$socket.emit("transfer",{To:this.dailNumber},(function(t){console.log("Call transferred",t)}))},startConference(){this.$socket.emit("conference",(function(t){console.log("Call transferred",t)}))}},setup(){return{CRMcolumn:V,getDateInFormat:C["c"],secondsToHms:C["f"]}}},Z=Q,tt=Object(w["a"])(Z,$,F,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-chat w-100 overflow-hidden",class:{listviewbg:t.contactDetailShow}},[e("div",{staticClass:"d-lg-flex"},["gridview"!=t.gridOrlistViiew||t.contactDetailShow?t._e():e("div",{staticClass:"listviewchat w-100"},[e("div",{staticClass:"d-lg-flex"},[e("div",{staticClass:"w-100 overflow-hidden position-relative"},[t._m(0),e("div",{staticClass:"px-4 pt-3 pb-3 Contacts-cardView-box",attrs:{"data-simplebar":""}},[e("div",{staticClass:"row"},t._l(t.store.getContactList,(function(a,s){return e("div",{key:s,staticClass:"col-sm-4 pr0"},[e("div",{staticClass:"card contactcard"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex"},[a.USER_IMAGE?e("div",{staticClass:"chat-user-img online align-self-center me-3 ms-0"},[e("img",{staticClass:"rounded-circle avatar-lg user-profile-show",attrs:{src:a.USER_IMAGE,alt:""}})]):e("div",{staticClass:"avatar-lg me-3 ms-0"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle",style:{backgroundColor:t.getFirstTwoLettersWithColor(a.CONTACTNAME).color}},[t._v(" "+t._s(t.getFirstTwoLettersWithColor(a.CONTACTNAME).letters)+" ")])]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1 user-profile-show",on:{click:function(e){return t.detail(a)}}},[t._v(t._s(a.CONTACTNAME))]),e("p",{staticClass:"chat-user-message text-truncate mb-1"},[t._v(t._s(a.DEPARTMENT_NAME?a.DEPARTMENT_NAME:"-"))]),e("p",{staticClass:"chat-user-message text-truncate mb-1"},[t._v(t._s(a.USER_PHONE))]),e("p",{staticClass:"chat-user-message text-truncate mb-1"},[t._v(t._s(a.EMAIL_ID))])]),e("div",{staticClass:"favourite",on:{click:function(e){return t.addFavourite(a)}}},[e("i",{staticClass:"far fa-star"})])])]),e("div",{staticClass:"card-footer"},[e("ul",{staticClass:"contact-icons"},[e("li",{on:{click:function(e){return t.callTouser(a.USER_PHONE)}}},[t._m(1,!0)]),e("li",{staticClass:"border-right"}),e("li",{on:{click:function(e){return t.videoCreate(a)}}},[t._m(2,!0)]),e("li",{staticClass:"border-right"}),e("li",{on:{click:function(e){return t.smsToContact(a)}}},[t._m(3,!0)]),e("li",{staticClass:"border-right"}),e("li",{on:{click:function(e){return t.NewChat(a)}}},[t._m(4,!0)]),e("li",{staticClass:"border-right"}),t._m(5,!0),e("li",{staticClass:"border-right"}),t._m(6,!0)])])])])})),0)])])])]),t.contactDetailShow?e("div",{staticClass:"user-profile-sidebar contactdetail-bar",staticStyle:{display:"block"}},[e("div",{staticClass:"pt-3 pt-lg-3"},[e("div",{staticClass:"user-chat-nav d-flex justify-content-between align-items-center"},[e("h5",{staticClass:"mb-0"},[e("i",{staticClass:"fas fa-chevron-left me-2 pointer",attrs:{id:"user-profile-hide"},on:{click:function(e){t.contactDetailShow=!1}}}),t._v(" Contact Details")]),t._m(7)])]),t._v(t._s()+" "),e("div",{staticClass:"text-center p-4 px-3 profilebx"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"mb-3 contact-Details-name-box"},[t.userInformation.USER_IMAGE?e("img",{staticClass:"img-fluid",attrs:{src:t.userInformation.USER_IMAGE,alt:""}}):e("div",{staticClass:"contact-Details-name",style:{backgroundColor:t.getFirstTwoLettersWithColor(t.userInformation.CONTACTNAME).color}},[t._v(t._s(t.getFirstTwoLettersWithColor(t.userInformation.CONTACTNAME).letters))])]),e("div",{staticClass:"contactinfo"},[e("h5",{staticClass:"font-size-16 mb-1 text-truncate mt-2"},[t._v(t._s(t.userInformation.CONTACTNAME))]),e("ul",[e("li",[t._v("Phone: "),e("span",[t._v(" "+t._s(t.userInformation.USER_PHONE))])]),e("li",[t._v("Email: "),e("span",[t._v(t._s(t.userInformation.EMAIL_ID))])]),e("li",[t._v("Department: "),e("span",[t._v(" "+t._s(t.userInformation.DESIGNATION_NAME))])]),t._m(8),t._m(9),t._m(10)]),t._m(11)])])]),t._m(12)]):t._e()])])},st=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"px-4 pt-3 pb-0 border-bottom user-chat-topbar"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-sm-4 col-8"},[e("h5",{staticClass:"font-size-16 mb-0 text-truncate"},[e("a",{staticClass:"text-reset user-profile-show",attrs:{href:"#"}},[t._v("All Contacts")])])]),e("div",{staticClass:"col-sm-8 col-4"},[e("div",{staticClass:"d-flex justify-content-end align-items-center"},[e("div",{staticClass:"search-box chat-search-box me-2"},[e("div",{staticClass:"input-group rounded-3"},[e("input",{staticClass:"form-control bg-white",attrs:{type:"text",placeholder:"Search","aria-label":"Search messages or users","aria-describedby":"basic-addon1"}}),e("span",{staticClass:"input-group-text text-muted bg-white pe-3 ps-3 border-0",attrs:{id:"basic-addon1"}},[e("i",{staticClass:"ri-search-line search-icon font-size-18"})])])]),e("a",{staticClass:"btn btn-dark",attrs:{href:"#","data-bs-toggle":"modal","data-bs-target":"#addcontactModal"}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Add ")])])])])])},function(){var t=this,e=t._self._c;return e("a",[e("i",{staticClass:"fas fa-phone-alt"}),t._v(" Voice ")])},function(){var t=this,e=t._self._c;return e("a",[e("i",{staticClass:"fas fa-video"}),t._v(" Video ")])},function(){var t=this,e=t._self._c;return e("a",[e("i",{staticClass:"fas fa-comment-dots"}),t._v(" SMS ")])},function(){var t=this,e=t._self._c;return e("a",[e("i",{staticClass:"fas fa-comments"}),t._v(" Chat ")])},function(){var t=this,e=t._self._c;return e("li",[e("a",[e("i",{staticClass:"fas fa-info"}),t._v(" Info ")])])},function(){var t=this,e=t._self._c;return e("li",{staticClass:"del_user_cardview"},[e("a",[e("i",{staticClass:"fas fa-trash"}),t._v(" Delete ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"iconlist"},[e("button",{staticClass:"btn nav-btn orangebg ms-2",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-star"}),t._v(" "),e("span",[t._v("Favourite")])]),e("button",{staticClass:"btn nav-btn greenbg ms-2",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-edit"}),t._v(" "),e("span",[t._v("Edit")])]),e("button",{staticClass:"btn nav-btn redbg ms-2",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-trash"}),t._v(" "),e("span",[t._v("Delete")])])])},function(){var t=this,e=t._self._c;return e("li",[t._v("Designation: "),e("span",[t._v("Project Manager ")])])},function(){var t=this,e=t._self._c;return e("li",[t._v("Last edited: "),e("span",[t._v("Jan 27 2024 ")])])},function(){var t=this,e=t._self._c;return e("li",[t._v("Added to contact: "),e("span",[t._v("Jan 15 2024")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"iconsRadius mt-2"},[e("button",{staticClass:"btn nav-btn greenbg",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-phone-alt"})]),e("button",{staticClass:"btn nav-btn bluebg ms-2",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-video"})]),e("button",{staticClass:"btn nav-btn orangebg ms-2",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-comments"})]),e("button",{staticClass:"btn nav-btn brownbg ms-2",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-comment-dots"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-3 user-profile-desc",attrs:{"data-simplebar":""}},[e("div",{staticClass:"user-setting"},[e("div",{staticClass:"user-setting-block mb-2"},[e("h5",[t._v("Recent interactions")])])]),e("div",{staticClass:"externalLinks mt-2"},[e("nav",[e("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[e("button",{staticClass:"nav-link active",attrs:{id:"nav-media-tab","data-bs-toggle":"tab","data-bs-target":"#nav-media",type:"button",role:"tab","aria-controls":"nav-media","aria-selected":"true"}},[t._v("Chat")]),e("button",{staticClass:"nav-link",attrs:{id:"nav-doc-tab","data-bs-toggle":"tab","data-bs-target":"#nav-doc",type:"button",role:"tab","aria-controls":"nav-doc","aria-selected":"false"}},[t._v("Call")]),e("button",{staticClass:"nav-link",attrs:{id:"nav-links-tab","data-bs-toggle":"tab","data-bs-target":"#nav-links",type:"button",role:"tab","aria-controls":"nav-links","aria-selected":"false"}},[t._v("SMS")])])]),e("div",{staticClass:"tab-content mt-2",attrs:{id:"nav-tabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-media",role:"tabpanel","aria-labelledby":"nav-media-tab"}},[e("div",{staticClass:"chatlist"},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},[e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-comments"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Alex Moss")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Sent")])]),e("div",{staticClass:"font-size-14"},[t._v("Today 12:30PM ")])])])]),e("li",{staticClass:"unread"},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-comments"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Sent")])]),e("div",{staticClass:"font-size-14"},[t._v("Yesterday 01:33PM")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-comments"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Alex Moss")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Sent")])]),e("div",{staticClass:"font-size-14"},[t._v("Today 12:30PM ")])])])]),e("li",{staticClass:"unread"},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-comments"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Sent")])]),e("div",{staticClass:"font-size-14"},[t._v("Yesterday 01:33PM")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-comments"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Alex Moss")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Sent")])]),e("div",{staticClass:"font-size-14"},[t._v("Today 12:30PM ")])])])]),e("li",{staticClass:"unread"},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-comments"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Sent")])]),e("div",{staticClass:"font-size-14"},[t._v("Yesterday 01:33PM")])])])])])])]),e("div",{staticClass:"tab-pane fade",attrs:{id:"nav-doc",role:"tabpanel","aria-labelledby":"nav-doc-tab"}},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},[e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-video"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Alex Moss")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Sent")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-miss"},[e("i",{staticClass:"ri-arrow-left-down-line"})]),t._v(" Today 12:30PM ")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-phone-alt"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Received")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-call"},[e("i",{staticClass:"ri-arrow-right-up-line"})]),t._v(" Yesterday 01:33PM")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-phone-alt"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Image Received")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-call"},[e("i",{staticClass:"ri-arrow-right-up-line"})]),t._v(" Yesterday 01:33PM")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-video"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Alex Moss")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Sent")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-miss"},[e("i",{staticClass:"ri-arrow-left-down-line"})]),t._v(" Today 12:30PM ")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-phone-alt"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Message Received")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-call"},[e("i",{staticClass:"ri-arrow-right-up-line"})]),t._v(" Yesterday 01:33PM")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"fas fa-phone-alt"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Image Received")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-call"},[e("i",{staticClass:"ri-arrow-right-up-line"})]),t._v(" Yesterday 01:33PM")])])])])])]),e("div",{staticClass:"tab-pane fade",attrs:{id:"nav-links",role:"tabpanel","aria-labelledby":"nav-links-tab"}},[e("div",{staticClass:"chatlist"},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},[e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"far fa-comment-dots"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Alex Moss")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("SMS Sent")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-miss"},[e("i",{staticClass:"ri-arrow-left-down-line"})]),t._v(" Today 12:30PM ")])])])]),e("li",{staticClass:"unread"},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"far fa-comment-dots"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("SMS Received")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-call"},[e("i",{staticClass:"ri-arrow-right-up-line"})]),t._v(" Yesterday 01:33PM")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"far fa-comment-dots"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Alex Moss")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("SMS Sent")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-miss"},[e("i",{staticClass:"ri-arrow-left-down-line"})]),t._v(" Today 12:30PM ")])])])]),e("li",{staticClass:"unread"},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"far fa-comment-dots"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("SMS Received")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-call"},[e("i",{staticClass:"ri-arrow-right-up-line"})]),t._v(" Yesterday 01:33PM")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"far fa-comment-dots"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-16 mb-1"},[t._v("Alex Moss")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("SMS Sent")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-miss"},[e("i",{staticClass:"ri-arrow-left-down-line"})]),t._v(" Today 12:30PM ")])])])]),e("li",{staticClass:"unread"},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img chatuser-default align-self-center me-3 ms-0"},[e("i",{staticClass:"far fa-comment-dots"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v("Agnes Sherman")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("SMS Received")])]),e("div",{staticClass:"font-size-14"},[e("span",{staticClass:"icon icon-call"},[e("i",{staticClass:"ri-arrow-right-up-line"})]),t._v(" Yesterday 01:33PM")])])])])])])])]),e("div",{staticClass:"links mt-3"},[e("a",{attrs:{href:"#"}},[t._v("View More")])])])])}],it={components:{},name:"Contacts",props:{store:{type:Object},sideBarFilter:{type:Object},gridOrlistViiew:{type:String}},data(){var t;return{messageList:[],smsPopupShow:!1,fromNumber:null===(t=this.store.getTwilioAccountDetails)||void 0===t?void 0:t.NUMBER,toNumber:"",message:"",sendMessageVia:0,contactDetailShow:!1,userInformation:""}},created:async function(){},mounted(){},beforeDestroy(){},computed:{},sockets:{connect(){console.log("Connected to server")},disconnect(){console.log("Disconnected from server")},messageGet:function(t){this.toNumber==t.From&&(t.body=t.Body,t.from=t.From,t.to=t.To,t.status=t.SmsStatus,t.dateCreated=new Date,t.blinking=!0,t.dateCreated=t.dateCreated.toString(),this.messageList.push(t))},messageStatus:function(t){if(this.toNumber==t.To){var e=this.messageList.findIndex(e=>e.sid==t.SmsSid);this.messageList[e]&&(this.messageList[e].status=t.SmsStatus)}}},methods:{getRandomColor(t){let e=0;for(let s=0;s<t.length;s++)e=t.charCodeAt(s)+((e<<5)-e);let a="#";for(let s=0;s<3;s++){const t=e>>8*s&255;a+=("00"+t.toString(16)).slice(-2)}return a},getFirstTwoLettersWithColor(t){const e=t?t.substring(0,2):"";return{letters:e,color:this.getRandomColor(t)}},callTouser:async function(t){var e=this;t?e.store.$state.callToken?e.$parent.callFromOtherTab(t):e.ShowAlert(e.$t("ConnectDevice"),"failure",!0,e.$t("Alert")):e.ShowAlert(e.$t("MobileNotAvailable"),"failure",e.$t("Alert"))},smsToContact(t){},messageSend(t){var e=this;""!=e.message?"twilio"!=e.sendMessageVia&&"twilio"!=t||e.$socket.emit("twilioSendMessage",{from:"+12513095602",to:"+16506660036",body:e.message},(function(t){e.message="",console.log("createApiKey",t),e.messageList.push(t)})):this.ShowAlert(this.$t("PleaseEnterMessage"),"failure",this.$t("Alert"))},clear(){this.message=""},videoCreate(t){let e={USER_ID:t.USER_ID,CONTACTNAME:t.CONTACTNAME,USER_IMAGE:t.USER_IMAGE};this.$parent.videoCreate(e)},NewChat(t){console.log("item",t),this.$parent.ticketReceiver(t)},detail(t){this.contactDetailShow=!0,this.userInformation=t}},setup(){return{getDateOnly:C["d"],getDateInFormat:C["c"],getPreviousDay:C["e"]}}},rt=it,ot=(a("6bd8"),Object(w["a"])(rt,at,st,!1,null,null,null)),lt=ot.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content",staticStyle:{display:"block"},attrs:{id:"v-pills-meetings"}},[e("div",{staticClass:"calendar-nu",attrs:{id:"calendar_view"}},[t._m(0),e("div",{staticClass:"cont_100 d-none",staticStyle:{display:"none !important"}},[e("div",{staticClass:"overflowhidden borderbottom454545",staticStyle:{display:"block"}},[e("div",{staticClass:"searchpanel",staticStyle:{display:"block"},attrs:{id:"divsearch"}},[e("fieldset",{staticClass:"nobod hr_padtop_zero margin0 widthauto clndrserchbg"},[e("div",{staticClass:"clndrserchlbl"},[t._v(" Search ")]),e("div",{staticClass:"clndrserch",attrs:{id:"dataRow"}},[e("div",{staticClass:"cont_29P search"},[e("div",{},[e("tg-select")],1)]),t._m(1)])])])]),e("div",{staticClass:"cb"})]),e("input",{attrs:{type:"hidden",id:"hdUserId"}}),e("input",{attrs:{type:"hidden",id:"hdEndDate"}}),e("input",{attrs:{type:"hidden",id:"hdStartDate",value:""}}),e("input",{attrs:{type:"hidden",id:"hdEventType"}}),e("input",{attrs:{type:"hidden",id:"hdFirstDay",value:"MONDAY"}}),e("input",{attrs:{type:"hidden",id:"hdLocationId",value:"52103"}}),e("input",{attrs:{type:"hidden",id:"hdnCalendarFilter",value:"MY_EVENT,"}})]),t._m(2)])},ct=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"col-lg-12 padding-t_8 px-0"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[t._v("Calendar")]),e("span",{staticClass:"p-actions float-right"})])]),e("div",{staticClass:"col-lg-12 border p-2 float-left",attrs:{id:"CalendarContainer"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"row cal_iconsbase",attrs:{id:"divHeader"}},[e("div",{staticClass:"float-left col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6"},[e("a",{staticClass:"highlighted btn formbtn cal_myevents active",attrs:{show:"1",show_type:"MY_EVENT",title:"","data-toggle-tooltip":"tooltip","data-original-title":"My Events"}},[e("i",{staticClass:"fa fa-calendar"}),t._v(" My Events")]),e("a",{staticClass:"highlighted btn formbtn cal_googleevents active",attrs:{show:"1",show_type:"GOOGLE_EVENT",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Google Events"}},[e("i",{staticClass:"fa fa-google"}),t._v(" Google Events")])]),e("div",{staticClass:"col-lg-3 col-xl-3 float-left col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6"},[e("ul",{staticClass:"float-right"},[e("li",{staticClass:"highlighted selectall bg-info text-white formbtn widthhalf",attrs:{show:"1",show_type:"SELECTALL",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Select All"}},[e("i",{staticClass:"fa fa-check mx-1"}),e("span",{staticClass:"subsprite selectall widthnone"}),t._v("Select All")]),e("li",{staticClass:"highlighted selectnon bg-danger text-white formbtn widthhalf",attrs:{show:"1",show_type:"SELECTNON",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear All"}},[e("i",{staticClass:"fa fa-refresh mx-1"}),e("span",{staticClass:"subsprite selectnon widthnone"}),t._v("Clear All")])])])])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0 mt-2"},[e("div",{staticClass:"table-responsive"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left fc ui-widget",attrs:{id:"calendar"}},[e("table",{staticClass:"fc-header",staticStyle:{width:"100%"}},[e("tbody",[e("tr",[e("td",{staticClass:"fc-header-left"},[e("span",{staticClass:"fc-button fc-button-prev ui-state-default ui-corner-left",attrs:{title:"prev"}},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[e("span",{staticClass:"fc-icon-wrap"},[e("span",{staticClass:"ui-icon ui-icon-circle-triangle-w text-white btn btn12"})])]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-button fc-button-next ui-state-default ui-corner-right",attrs:{title:"next"}},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[e("span",{staticClass:"fc-icon-wrap"},[e("span",{staticClass:"ui-icon ui-icon-circle-triangle-e text-white btn btn12"})])]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-header-space"}),e("span",{staticClass:"fc-button fc-button-today ui-state-default ui-corner-left ui-corner-right ui-state-disabled"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("Today")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])])]),e("td",{staticClass:"fc-header-center"},[e("span",{staticClass:"fc-header-title"},[e("h2",[t._v("Monday, March 4, 2024")])])]),e("td",{staticClass:"fc-header-right"},[e("span",{staticClass:"fc-button fc-button-addEvent ui-state-default ui-corner-right ui-corner-left"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("Add Event")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-button fc-button-month ui-state-default ui-corner-left"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("Month")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-button fc-button-agendaWeek ui-state-default"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("week")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-button fc-button-agendaDay ui-state-default ui-corner-right ui-state-active"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("Day")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])])])])])]),e("div",{staticClass:"fc-content",staticStyle:{position:"relative","min-height":"1px"}},[e("div",{staticClass:"fc-view fc-view-agendaWeek fc-agenda",staticStyle:{position:"relative",display:"none"},attrs:{unselectable:"on"}},[e("table",{staticClass:"fc-agenda-days fc-border-separate",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("thead",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header fc-first",staticStyle:{width:"62px"}},[t._v(" ")]),e("th",{staticClass:"fc-mon fc-col0 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Monday 3/4")]),e("th",{staticClass:"fc-tue fc-col1 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Tuesday 3/5")]),e("th",{staticClass:"fc-wed fc-col2 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Wednesday 3/6")]),e("th",{staticClass:"fc-thu fc-col3 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Thursday 3/7")]),e("th",{staticClass:"fc-fri fc-col4 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Friday 3/8")]),e("th",{staticClass:"fc-sat fc-col5 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Saturday 3/9")]),e("th",{staticClass:"fc-sun fc-col6 ui-widget-header"},[t._v("Sunday 3/10")]),e("th",{staticClass:"fc-agenda-gutter ui-widget-header fc-last",staticStyle:{width:"16px"}},[t._v(" ")])])]),e("tbody",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header fc-first"},[t._v(" ")]),e("td",{staticClass:"fc-mon fc-col0 ui-widget-content ui-state-highlight fc-today"},[e("div",{staticStyle:{height:"678.2px"}},[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue fc-col1 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed fc-col2 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu fc-col3 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri fc-col4 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat fc-col5 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun fc-col6 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-agenda-gutter ui-widget-content fc-last",staticStyle:{width:"16px"}},[t._v(" ")])])])]),e("div",{staticStyle:{position:"absolute","z-index":"2",left:"0px",width:"100%",top:"41.2px"}},[e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("table",{staticClass:"fc-agenda-allday",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("tbody",[e("tr",[e("th",{staticClass:"ui-widget-header fc-agenda-axis",staticStyle:{width:"62px"}},[t._v("All-Day")]),e("td",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}})])]),e("th",{staticClass:"ui-widget-header fc-agenda-gutter",staticStyle:{width:"16px"}},[t._v(" ")])])])]),e("div",{staticClass:"fc-agenda-divider ui-widget-header"},[e("div",{staticClass:"fc-agenda-divider-inner"})]),e("div",{staticClass:"unified_",staticStyle:{position:"absolute",width:"100%",overflow:"hidden auto",height:"294px"}},[e("div",{staticStyle:{position:"relative",width:"100%",overflow:"hidden"}},[e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("table",{staticClass:"fc-agenda-slots",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("tbody",[e("tr",{staticClass:"fc-slot0"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header",staticStyle:{width:"62px"}},[t._v("12:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot1 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot2"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("1:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot3 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot4"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("2:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot5 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot6"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("3:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot7 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot8"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("4:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot9 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot10"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("5:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot11 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot12"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("6:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot13 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot14"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("7:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot15 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot16"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("8:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot17 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot18"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("9:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot19 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot20"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("10:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot21 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot22"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("11:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot23 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot24"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("12:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot25 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot26"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("1:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot27 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot28"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("2:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot29 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot30"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("3:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot31 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot32"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("4:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot33 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot34"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("5:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot35 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot36"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("6:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot37 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot38"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("7:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot39 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot40"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("8:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot41 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot42"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("9:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot43 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot44"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("10:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot45 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot46"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("11:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot47 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("div",{staticClass:"fc-cell-overlay",staticStyle:{position:"absolute","z-index":"3",top:"41px",left:"62px",width:"127px",height:"40px",display:"none"}})])])])]),e("div",{staticClass:"fc-view fc-view-agendaDay fc-agenda",staticStyle:{position:"relative",display:"block"},attrs:{unselectable:"on"}},[e("table",{staticClass:"fc-agenda-days fc-border-separate",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("thead",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header fc-first",staticStyle:{width:"62px"}},[t._v(" ")]),e("th",{staticClass:"fc-mon fc-col0 ui-widget-header"},[t._v("Monday 3/4")]),e("th",{staticClass:"fc-agenda-gutter ui-widget-header fc-last",staticStyle:{width:"16px"}},[t._v(" ")])])]),e("tbody",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header fc-first"},[t._v(" ")]),e("td",{staticClass:"fc-mon fc-col0 ui-widget-content ui-state-highlight fc-today"},[e("div",{staticStyle:{height:"677.4px"}},[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-agenda-gutter ui-widget-content fc-last",staticStyle:{width:"16px"}},[t._v(" ")])])])]),e("div",{staticStyle:{position:"absolute","z-index":"2",left:"0px",width:"100%",top:"42px"}},[e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("table",{staticClass:"fc-agenda-allday",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("tbody",[e("tr",[e("th",{staticClass:"ui-widget-header fc-agenda-axis",staticStyle:{width:"62px"}},[t._v("All-Day")]),e("td",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}})])]),e("th",{staticClass:"ui-widget-header fc-agenda-gutter",staticStyle:{width:"16px"}},[t._v(" ")])])])]),e("div",{staticClass:"fc-agenda-divider ui-widget-header"},[e("div",{staticClass:"fc-agenda-divider-inner"})]),e("div",{staticClass:"unified_",staticStyle:{position:"absolute",width:"100%",overflow:"hidden auto",height:"294px"}},[e("div",{staticStyle:{position:"relative",width:"100%",overflow:"hidden"}},[e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("table",{staticClass:"fc-agenda-slots",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("tbody",[e("tr",{staticClass:"fc-slot0"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header",staticStyle:{width:"62px"}},[t._v("12:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot1 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot2"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("1:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot3 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot4"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("2:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot5 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot6"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("3:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot7 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot8"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("4:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot9 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot10"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("5:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot11 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot12"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("6:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot13 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot14"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("7:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot15 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot16"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("8:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot17 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot18"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("9:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot19 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot20"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("10:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot21 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot22"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("11:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot23 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot24"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("12:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot25 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot26"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("1:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot27 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot28"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("2:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot29 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot30"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("3:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot31 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot32"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("4:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot33 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot34"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("5:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot35 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot36"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("6:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot37 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot38"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("7:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot39 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot40"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("8:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot41 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot42"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("9:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot43 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot44"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("10:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot45 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot46"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("11:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot47 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])])])])])]),e("div",{staticClass:"unified_Month fc-view fc-view-month fc-grid",staticStyle:{position:"relative",display:"none"},attrs:{unselectable:"on"}},[e("table",{staticClass:"fc-border-separate",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("thead",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-mon ui-widget-header fc-first",staticStyle:{width:"139px"}},[t._v("Monday")]),e("th",{staticClass:"fc-tue ui-widget-header",staticStyle:{width:"139px"}},[t._v("Tuesday")]),e("th",{staticClass:"fc-wed ui-widget-header",staticStyle:{width:"139px"}},[t._v("Wednesday")]),e("th",{staticClass:"fc-thu ui-widget-header",staticStyle:{width:"139px"}},[t._v("Thursday")]),e("th",{staticClass:"fc-fri ui-widget-header",staticStyle:{width:"139px"}},[t._v("Friday")]),e("th",{staticClass:"fc-sat ui-widget-header",staticStyle:{width:"139px"}},[t._v("Saturday")]),e("th",{staticClass:"fc-sun ui-widget-header fc-last"},[t._v("Sunday")])])]),e("tbody",[e("tr",{staticClass:"fc-week0 fc-first"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day0 fc-first fc-other-month"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("26")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day1 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("27")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day2 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("28")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day3 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("29")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day4"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("1")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day5"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("2")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day6 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("3")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week1"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day7 fc-first ui-state-highlight fc-today"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("4")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day8"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("5")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day9"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("6")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day10"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("7")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day11"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("8")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day12"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("9")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day13 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("10")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week2"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day14 fc-first"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("11")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day15"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("12")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day16"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("13")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day17"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("14")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day18"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("15")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day19"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("16")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day20 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("17")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week3"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day21 fc-first"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("18")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day22"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("19")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day23"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("20")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day24"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("21")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day25"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("22")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day26"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("23")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day27 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("24")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week4 fc-last"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day28 fc-first"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("25")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day29"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("26")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day30"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("27")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day31"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("28")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day32"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("29")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day33"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("30")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day34 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("31")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week5",staticStyle:{display:"none"}},[e("td",{staticClass:"fc-mon ui-widget-content fc-day35 fc-first fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("1")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day36 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("2")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day37 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("3")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day38 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("4")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day39 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("5")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day40 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("6")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day41 fc-last fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("7")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])])])]),e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("div",{staticClass:"fc-cell-overlay",staticStyle:{position:"absolute","z-index":"3",top:"77.2px",left:"1.2px",width:"139px",height:"135.2px",display:"none"}})])])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cont_29P search"},[e("div",{},[e("select",{staticClass:"width_93",attrs:{id:"ddlUserId"}},[e("option",{attrs:{value:""}},[t._v("All Users")]),e("option",{attrs:{value:"104541"}},[t._v("Abner marti (QA)")]),e("option",{attrs:{value:"63236"}},[t._v("bob marley (QA)")]),e("option",{attrs:{value:"106435"}},[t._v("Brick oweski (Automation)")]),e("option",{attrs:{value:"63221"}},[t._v("Chandler Bing (Automation)")]),e("option",{attrs:{value:"106227"}},[t._v("faf Duplessis (Automation)")]),e("option",{attrs:{value:"105525"}},[t._v("fx app (Automation)")]),e("option",{attrs:{value:"63332"}},[t._v("jax soa (QA)")]),e("option",{attrs:{value:"63405"}},[t._v("new user last name (QA)")]),e("option",{attrs:{value:"63437"}},[t._v("NU User (QA)")]),e("option",{attrs:{value:"107381"}},[t._v("pmrole testlocal (Bangana)")]),e("option",{attrs:{value:"105531"}},[t._v("Stage Fx (Automation)")]),e("option",{attrs:{value:"108495"}},[t._v("sun abvdsf (Automation)")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12",staticStyle:{display:"none"},attrs:{id:"divGrid"}},[e("img",{attrs:{src:"/Content/images/black/ajax-loader.gif",alt:"Loading....."}}),t._v("Loading..... ")])}],dt={data(){return{}},created(){},methods:{}},ut=dt,mt=Object(w["a"])(ut,nt,ct,!1,null,null,null),pt=mt.exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content",staticStyle:{display:"block"},attrs:{id:"v-pills-meetings"}},[t.deviceType?t._e():e("div",{},[e("div",{staticClass:"col-md-12 p-0 mb-2"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("span",{staticClass:"p-name text-white",attrs:{id:"span_ForSelectedTabName"}},[t._v(t._s(t.pageTitle?t.pageTitle:t.$t("Call")))]),"Chat"!=t.pageTitle?e("span",{staticClass:"p-actions float-right"},[e("a",{staticClass:"p-action-btn text-white float-right",on:{click:function(e){return t.deviceSetupPageShow()}}},[e("i",{staticClass:"fa fa-cogs"}),e("br"),t._v(t._s(t.$t("Setup")))])]):t._e(),t._m(0)]),"Chat"!=t.pageTitle?e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt-3"},[e("div",{staticClass:"float-left col-12 bg-light"},[e("div",{staticClass:"text-center text-danger"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])])]):t._e()])]),t.deviceSetuppopupShow?e("div",{staticClass:"modal my-popups dialog",staticStyle:{visibility:"visible",display:"block !important"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("PackagePlan")))]),e("button",{staticClass:"close",attrs:{href:"javascript:;","data-original-title":"Close"},on:{click:function(e){t.deviceSetuppopupShow=!1}}},[e("i",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"modal-body p-3"},[e("div",{staticClass:"w-100 d-inline-block packageplanpop"},[e("form",{attrs:{"data-vv-scope":"leadSaveData"}},[e("div",{staticClass:"row"},[e("ul",{staticClass:"col-md-12 mb-0 card-view d-flex flex-wrap px-0"},[e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25",on:{click:function(e){return t.deviceSelect("Twilio")}}},[e("div",{staticClass:"card card-box-uc p-0 h-100"},[t._m(1),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("SMS")))])]),e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("Call")))])])])])])])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25"},[e("div",{staticClass:"card card-box-uc p-0 h-100",on:{click:function(e){return t.deviceSelect("Nexmo")}}},[t._m(2),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("SMS"))+" ")])]),e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("Call"))+" ")])])])])])])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25"},[e("div",{staticClass:"card card-box-uc p-0 h-100",on:{click:function(e){return t.deviceSelect("Ringcentral")}}},[t._m(3),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(" "+t._s(t.$t("Call"))+" ")])]),e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(" "+t._s(t.$t("IVR"))+" ")])])])])])])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25"},[e("div",{staticClass:"card card-box-uc p-0 h-100",on:{click:function(e){return t.deviceSelect("Vonage")}}},[t._m(4),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("SMS"))+" ")])]),e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("Call"))+" ")])])])])])])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25"},[e("div",{staticClass:"card card-box-uc p-0 h-100"},[t._m(5),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("Video"))+" ")])])])])])])])])])])])])])])]):t._e(),"Twilio"==t.deviceType?e("TwilioSetup",{attrs:{store:t.store}}):t._e(),"Chat"==t.pageTitle?e("ChatSetupSetup",{attrs:{store:t.store}}):t._e()],1)},gt=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title px-2 mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/twilio-logo-red.png"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title px-2 mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",attrs:{src:"https://stage.talygen.com/Content/images/Black/nexmo.png"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title px-2 mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",staticStyle:{"min-height":"40px"},attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/ringcentral-logo.png"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title px-2 mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/vonage.png"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/ast_logo.png"}})])])])}],ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content",staticStyle:{display:"block"},attrs:{id:"v-pills-meetings"}},[t.twilioSetup?e("div",[e("section",{staticClass:"page-action"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("twilioAccount")))])])])])])]),e("section",{staticClass:"main-content"},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"commentForm",on:{submit:function(e){return e.preventDefault(),a(t.formSubmit)}}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"border p-3 bg-white"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Title"}},[t._v(t._s(t.$t("Twilio_title")))]),t._v(": "),e("span",{staticClass:"mandatory"},[t._v("*")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.Title,expression:"deviceSetup.Title"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{id:"Title",name:"Title",type:"text",autocomplete:"off"},domProps:{value:t.deviceSetup.Title},on:{input:function(e){e.target.composing||t.$set(t.deviceSetup,"Title",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.$t("ExpTitleRequired"))+" ")]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Status"))+":")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.StatusId,expression:"deviceSetup.StatusId"}],staticClass:"form-control valid",class:a[0]?"is-invalid error":"",attrs:{name:"StatusId"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.deviceSetup,"StatusId",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1001"}},[t._v("Active")]),e("option",{attrs:{value:"1002"}},[t._v("Inactive")])]),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"AccountSid"}},[t._v(t._s(t.$t("AccountSid")))]),t._v(": "),e("span",{staticClass:"mandatory"},[t._v("*")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.AccountSid,expression:"deviceSetup.AccountSid"}],staticClass:"form-control textfield form-control",class:a[0]?"is-invalid error":"",attrs:{disabled:t.update,name:"AccountSid",type:"text"},domProps:{value:t.deviceSetup.AccountSid},on:{input:function(e){e.target.composing||t.$set(t.deviceSetup,"AccountSid",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v(" "+t._s(a[0])+" ")]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"AuthToken"}},[t._v(t._s(t.$t("AuthToken")))]),t._v(":"),e("span",{staticClass:"mandatory"},[t._v("*")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.AuthToken,expression:"deviceSetup.AuthToken"}],staticClass:"form-control textfield form-control",class:a[0]?"is-invalid error":"",attrs:{disabled:t.update,maxlength:"100",name:"AuthToken",type:"text",autocomplete:"off"},domProps:{value:t.deviceSetup.AuthToken},on:{input:function(e){e.target.composing||t.$set(t.deviceSetup,"AuthToken",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-12 mt-1"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Description"}},[t._v(t._s(t.$t("description")))]),t._v(": "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.Description,expression:"deviceSetup.Description"}],staticClass:"form-control form-control",attrs:{cols:"10",id:"Description",maxlength:"250",name:"Description",rows:"5"},domProps:{value:t.deviceSetup.Description},on:{input:function(e){e.target.composing||t.$set(t.deviceSetup,"Description",e.target.value)}}})])])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit",id:"btnSave"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.update?t.$t("Update"):t.$t("Save")))]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{title:"","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(e){return t.cancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])])])]}}])})],1),e("div",{staticClass:"container-fluid padding-t_10"},[e("div",{staticClass:"theme-primary partition-full mt-2"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("ListOfPurchased")))])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dataTable no-footer",attrs:{id:"mainTable1"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("FriendlyName")))])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("SelectPhoneNumber")))])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("IsoCountry")))])]),e("th",{staticClass:"text-center",attrs:{scope:"col",name:"SMS"}},[e("span",[t._v(t._s(t.$t("SMS")))])]),e("th",{staticClass:"text-center",attrs:{scope:"col",name:"Voice"}},[e("span",[t._v(t._s(t.$t("Voice")))])]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("Assign")))])])])]),e("tbody",[t._l(t.numberInfo,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.friendlyName))]),e("td",[t._v(t._s(a.phoneNumber))]),e("td",[t._v(t._s("-"))]),e("td",[t._v(t._s(a.capabilities?a.capabilities.sms:"-"))]),e("td",[t._v(t._s(a.capabilities?a.capabilities.voice:"-"))]),e("td",[e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.numberAssignTouserShowPopup(a)}}},[t._v(t._s(t.$t("UserAssign")))])])])})),0==t.numberInfo.length?e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",{staticClass:"text-danger"},[t._v(t._s(t.$t("No_Record_Found")))])])]):t._e()],2)])])])]):e("div",{staticClass:"container-fluid padding-t_10"},[e("div",{staticClass:"listing-content"},[e("div",{staticClass:"col-lg-12 p-0"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("TwilioList")))]),e("span",{staticClass:"p-actions float-right"},[e("a",{staticClass:"p-action-btn text-white",attrs:{title:"",checkprivilege:"yes","data-toggle-tooltip":"tooltip","data-original-title":"Add Twilio"},on:{click:function(e){return t.addTwilioSetup(!0)}}},[e("i",{staticClass:"fa fa-plus"}),e("br"),e("span",[t._v(t._s(t.$t("AddNew")))])])])])]),e("div",{staticClass:"listing mt-2"},[e("div",{staticClass:"table-responsive",attrs:{id:"projectdtl"}},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblProjectList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"sorting ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"},attrs:{id:"th-TITLE"}},[e("span",{staticClass:"sort",class:{tb_headerSortUp:"ASC"==t.SortExp&&"Title"==t.SortBy,tb_headerSortDown:"DESC"==t.SortExp&&"Title"==t.SortBy},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.sortdata("Title")}}},[t._v(t._s(t.$t("Twilio_title")))]),e("div",{staticClass:"sizer",attrs:{id:"th-TITLE-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"sorting ui-resizable",staticStyle:{width:"132px","min-width":"132px","max-width":"132px"},attrs:{id:"th-ACCOUNTSID"}},[e("span",{staticClass:"sort",class:{tb_headerSortUp:"ASC"==t.SortExp&&"Title"==t.SortBy,tb_headerSortDown:"DESC"==t.SortExp&&"Title"==t.SortBy},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.sortdata("Title")}}},[t._v(t._s(t.$t("AccountSid")))]),e("div",{staticClass:"sizer",attrs:{id:"th-ACCOUNTSID-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"sorting ui-resizable",staticStyle:{width:"120px","min-width":"120px","max-width":"120px"},attrs:{id:"th-AUTHTOKEN"}},[e("span",{staticClass:"sort",class:{tb_headerSortUp:"ASC"==t.SortExp&&"Title"==t.SortBy,tb_headerSortDown:"DESC"==t.SortExp&&"Title"==t.SortBy},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.sortdata("Title")}}},[t._v(t._s(t.$t("AuthToken")))]),e("div",{staticClass:"sizer",attrs:{id:"th-AUTHTOKEN-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"text-center sorting ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"},attrs:{id:"th-STATUS"}},[t._v(t._s(t.$t("Status"))),e("div",{staticClass:"sizer",attrs:{id:"th-STATUS-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"text-center sorting ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"},attrs:{id:"th-DELETE"}},[t._v(t._s(t.$t("Delete"))),e("div",{staticClass:"sizer",attrs:{id:"th-DELETE-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"text-center sorting ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"},attrs:{id:"th-DELETE"}},[t._v(t._s(t.$t("Action"))),e("div",{staticClass:"sizer",attrs:{id:"th-DELETE-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})])])]),e("tbody",t._l(t.store.getTwilioList,(function(a,s){return e("tr",{key:s},[e("td",[e("a",{staticClass:"text-primary",attrs:{id:"ancEditTwilio"},on:{click:function(e){return t.updateRecord(a)}}},[t._v(" "+t._s(a.Title)+" ")])]),e("td",[e("span",[t._v(t._s(a.AccountSid))])]),e("td",[e("span",[t._v(t._s(a.AuthToken))])]),e("td",{staticClass:"text-center single-action"},[e("div",{staticClass:"cstm-drop-btn"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.StatusId,expression:"record.StatusId"}],staticClass:"ddlupdatestatus w-80",class:1001==a.StatusId?"btn-success":"btn-danger",attrs:{"data-id":"9"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"StatusId",e.target.multiple?s:s[0])},function(e){return t.updateStatus(a)}]}},[e("option",{attrs:{value:"1001"}},[t._v("Active")]),e("option",{attrs:{value:"1002"}},[t._v("Inactive")])])])]),e("td",{staticClass:"text-center single-action"},[e("a",{staticClass:"text-danger",attrs:{title:"","data-twilioid":"9",id:"DeleteMultiple","data-toggle-tooltip":"tooltip","data-original-title":"Delete"},on:{click:function(e){return t.deleteRecord(a)}}},[e("i",{staticClass:"fa fa-trash"})])]),e("td",{staticClass:"text-center single-action"},[null==a.secretValue?e("a",{on:{click:function(e){return t.generateSecret(a)}}},[e("i",{staticClass:"fa fa-key"})]):t._e()])])})),0)])]),e("Pager",{attrs:{numberofrecords:t.TotalRecords,CurrentPageNumber:t.CurrentPageNumber,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{SetCurrentPage:t.pagerMethod}})],1)])]),t.userAssignPopup?e("div",{staticClass:"modal-wrapper modal-transition",staticStyle:{opacity:"1"}},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",on:{click:function(e){return t.userAssignClose()}}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v(t._s(t.assignUserInfo.phoneNumber+" "+t.$t("NumberAssignToUser"))+" ")])]),e("div",{staticClass:"modal-body",staticStyle:{overflow:"auto"}},[e("div",{staticClass:"col-12 p-0"},[e("div",{staticClass:"col-12 p-0 mt-0 mb-3 float-left"},[e("div",{staticClass:"col-10 float-left pl-0"},[e("div",{staticClass:"float-left w-100"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userSearch,expression:"userSearch"}],staticClass:"form-control search",attrs:{id:"search",maxlength:"50",type:"text",value:"",placeholder:"Search By Title",autocomplete:"off"},domProps:{value:t.userSearch},on:{input:function(e){e.target.composing||(t.userSearch=e.target.value)}}})])]),e("div",{staticClass:"col-2 float-left pl-0"},[e("div",{staticClass:"background-0 text-left form-check-inline"},[e("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:void(0);",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear all "},on:{click:function(e){t.userSearch=""}}},[e("i",{staticClass:"fa fa-refresh"})])])])]),e("div",{staticClass:"col-12 mt-0 mb-4 float-left border p-0",staticStyle:{"max-height":"250px","overflow-y":"auto"}},t._l(t.userSearchGetData(t.store.getContactList),(function(a,s){return e("div",{key:s,staticClass:"modal-content recent-contacts-listing-wrapper border-0",attrs:{id:"checkboxesUser"}},[e("div",{staticClass:"recent-contacts-listing member p-2"},[e("div",{staticClass:"member-detail"},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.users,expression:"users"}],staticClass:"chkTeamMembers",attrs:{type:"checkbox"},domProps:{value:a.USER_ID,checked:Array.isArray(t.users)?t._i(t.users,a.USER_ID)>-1:t.users},on:{change:function(e){var s=t.users,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=a.USER_ID,l=t._i(s,o);i.checked?l<0&&(t.users=s.concat([o])):l>-1&&(t.users=s.slice(0,l).concat(s.slice(l+1)))}else t.users=r}}}),t._v(" "+t._s(a.CONTACTNAME)+" ")])])])])})),0)])]),e("div",{staticClass:"modal-footer"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;"},on:{click:function(e){return t.assignUser()}}},[t._v(" "+t._s(t.$t("Assign")))])])]):t._e()])},vt=[],Ct=function(){var t=this,e=t._self._c;return t.TotalPages>0?e("div",{staticClass:"nu-paging"},[e("nav",{attrs:{"aria-label":"Page navigation example col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"}},[e("ul",{staticClass:"pagination row"},[e("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left choose-page"},[e("span",{staticClass:"mr-2"},[t._v("Show")]),e("span",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.PageSize,expression:"PageSize"}],staticClass:"form-control form-control-sm",attrs:{id:"pageSize",name:"pageSize"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.PageSize=e.target.multiple?a:a[0]},t.SetPageSize]}},t._l(t.PageSizeOption,(function(a,s){return e("option",{key:s,domProps:{value:a}},[t._v(t._s(a))])})),0)]),e("span",{staticClass:"ml-2"},[t._v(t._s(t.$t("PagingText",[(t.CurrentPage-1)*t.PageSize+1,t.PageSize*t.CurrentPage>t.TotalRecords?t.TotalRecords:t.PageSize*t.CurrentPage,t.TotalRecords])))])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[t.TotalPages>1?e("ul",{staticClass:"paging-count"},[e("li",{staticClass:"page-item"},[1!=t.CurrentPage?e("a",{staticClass:"page-link first",attrs:{title:t.firstText,href:"javascript:;",val:"1"},on:{click:function(e){return t.SetCurrentPage(1)}}},[t._v(t._s(t.firstText))]):t._e(),1==t.CurrentPage?e("a",{staticClass:"page-link first disabled",attrs:{title:t.firstText,val:"1"}},[t._v(t._s(t.firstText))]):t._e()]),e("li",{staticClass:"page-item"},[1!=t.CurrentPage?e("a",{staticClass:"page-link previous",attrs:{title:t.prevText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage-1)}}},[t._v(t._s(t.prevText))]):t._e(),1==t.CurrentPage?e("a",{staticClass:"page-link previous disabled",attrs:{title:t.prevText}},[t._v(t._s(t.prevText))]):t._e()]),t._l(t.TotalPages,(function(a,s){return[a>=t.GroupStart&&a<=t.GroupEnd?e("li",{key:s,staticClass:"page-item"},[s+1==t.CurrentPage?e("a",{staticClass:"page-link active",attrs:{href:"javascript:;"}},[t._v(t._s(s+1))]):t._e(),s+1!=t.CurrentPage?e("a",{staticClass:"page-link",attrs:{href:"javascript:;",val:s},on:{click:function(e){return t.SetCurrentPage(s+1)}}},[t._v(t._s(s+1))]):t._e()]):t._e()]})),e("li",{staticClass:"page-item"},[t.CurrentPage<t.TotalPages?e("a",{staticClass:"page-link next",attrs:{title:t.nextText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage+1)}}},[t._v(t._s(t.nextText))]):t._e(),t.CurrentPage>=t.TotalPages?e("a",{staticClass:"page-link disabled next",attrs:{title:t.nextText}},[t._v(t._s(t.nextText))]):t._e()]),e("li",{staticClass:"page-item"},[t.CurrentPage!=t.TotalPages?e("a",{staticClass:"page-link next",attrs:{title:t.lastText,href:"javascript:;",val:t.TotalPages},on:{click:function(e){return t.SetCurrentPage(t.TotalPages)}}},[t._v(t._s(t.lastText))]):t._e(),t.CurrentPage==t.TotalPages?e("a",{staticClass:"page-link next disabled",attrs:{title:t.lastText,val:t.TotalPages}},[t._v(t._s(t.lastText))]):t._e()])],2):t._e()])])])]):t._e()},_t=[],bt={props:{numberofrecords:{type:Number,required:!0},prevText:{type:String,required:!0},nextText:{type:String,required:!0},firstText:{type:String,required:!0},lastText:{type:String,required:!0},callbackfunction:{type:Function},CurrentPageNumber:{type:Number}},data:function(){return{TotalRecords:0,PageNumber:1,PageSize:10,PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,LastPage:!1}},watch:{numberofrecords:function(t){this.CurrentPage>this.PageNumber&&(this.CurrentPage=this.PageNumber),this.TotalRecords=t,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3)},CurrentPageNumber:function(t){var e=this;e.CurrentPage=t,1==t&&e.SetCurrentPage(t)}},created:function(){this.TotalRecords=this.numberofrecords,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetPageSizeOption()},methods:{GetData:function(){this.$emit("SetCurrentPage",{PageNumber:this.PageNumber,PageSize:this.PageSize}),"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction&&this.callbackfunction()},SetPageSize:function(t){this.PageSize=t.target.value,this.PageNumber=1,this.CurrentPage=this.PageNumber,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetData()},SetCurrentPage:function(t){this.PageNumber=t,this.CurrentPage=t,this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3),this.GetData()},GetPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t}}},St=bt,yt=Object(w["a"])(St,Ct,_t,!1,null,null,null),wt=yt.exports,It={name:"Setup",components:{ValidationProvider:B["b"],ValidationObserver:B["a"],Pager:wt},props:{store:{type:Object}},data(){return{deviceSetup:{Title:"",StatusId:"",AccountSid:"",AuthToken:"",Description:""},numberInfo:[],twilioSetup:!1,TotalRecords:0,CurrentPageNumber:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,update:!1,userAssignPopup:!1,assignUserInfo:"",users:[],userSearch:""}},created(){this.FetchData();let t="search=&pageSize=&pageNum=&sortBy=&sortExp=&type=company&city=&departmentId=";this.store.getContact(t)},methods:{async FetchData(){var t=this;let e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}`;await t.store.twilioList(e),t.TotalRecords=this.store.getTwilioList.length>0?t.store.getTwilioList[0].TotalRecord:0},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.PageNumber=1,this.FetchData()},addTwilioSetup(t){this.twilioSetup=t,this.update=!1},cancel(){this.twilioSetup=!1},formSubmit(){var t=this;t.$socket.emit("validTwilioAccount",{ACCOUNT_SID:t.deviceSetup.AccountSid,AUTH_TOKEN:t.deviceSetup.AuthToken},(function(e){1==e.status?t.$socket.emit("createApiKey",{deviceSetup:t.deviceSetup},(function(e){t.deviceSetup.secretValue=e.sid,t.deviceSetup.accountKey=e.secret,r["a"].AddTwilio(t.deviceSetup).then(e=>{if(console.log("record",e.data),e.data)if("UpdatedSuccess"==e.data[0].StatusMessage||"UpdatedSuccess"==e.data[0].StatusMessage){t.update=!1;let a=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}`;t.store.twilioList(a),t.ShowAlert(t.$t(e.data[0].StatusMessage,{0:t.$t("twilioAccount")}),"success",!0,t.$t("Alert"))}else t.ShowAlert(t.$t(e.data[0].StatusMessage),"warning",!0,t.$t("Alert"));else t.ShowAlert(t.$t("Error"),"warning",!0,t.$t("Alert"));t.$socket.emit("buyNumberList",{deviceSetup:t.deviceSetup},(function(e){t.numberInfo=e}))})})):t.ShowAlert(t.$t("TwilioAccountWrong"),"warning",!0,t.$t("Alert"))}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},updateStatus(t){console.log("record",t),r["a"].AddTwilio(t)},updateRecord(t){var e=this;e.twilioSetup=!0,e.update=!0,e.numberInfo=[],Object.assign(this.deviceSetup,t),e.$socket.emit("buyNumberList",{deviceSetup:e.deviceSetup},(function(t){console.log("testttt",t),e.numberInfo=t}))},deleteRecord(t){var e=this;e.confirmR(e.$t("ConfirmDeleteAccount"),!0,e.$t("Delete")+"  "+ +e.$t("Records"),(async function(){r["a"].DeleteTwilio("id="+t.TwilioCredentialId).then(a=>{a.data?(e.store.$state.twilioListaState=e.store.getTwilioList.filter(e=>e.TwilioCredentialId!==t.TwilioCredentialId),e.ShowAlert(e.$t("TwilioDelete"),"success",!0,e.$t("Alert"))):e.ShowAlert(e.$t("Error"),"warning",!0,e.$t("Alert"))})}))},generateSecret(t){var e=this;e.$socket.emit("createApiKey",{deviceSetup:t},(function(e){var a={twilioCredentialId:t.TwilioCredentialId,key:e.sid,secret:e.secret};console.log("createApiKey",e),r["a"].AssignAccountKeyAndSecret(a).then(t=>{console.log("checkk",t.data)})}))},numberAssignTouserShowPopup(t){this.assignUserInfo=t,console.log("numberAssignToUser",t),this.userAssignPopup=!0},assignUser(){let t={extension:this.assignUserInfo.phoneNumber,twilioCredentialId:this.deviceSetup.TwilioCredentialId,status_id:"1001",config_id:"",name:"",to_User_Id:""};this.users.map((e,a)=>{let s=this.store.getContactList.find(t=>t.USER_ID==e);t.name+=0==a?s.CONTACTNAME:","+s.CONTACTNAME,t.to_User_Id+=0==a?e:","+e}),r["a"].AssignNumberToUser(t).then(t=>{this.users=[],this.userAssignPopup=!1,this.userSearch="",this.store.GetTwilioUserConfigDetail(),t.data&&"1"==t.data[0].value?this.ShowAlert(this.$t("NumberAssign"),"success",!0,this.$t("Alert")):this.ShowAlert(this.$t("SomeThingWent"),"danger",!0,this.$t("Alert"))})},userSearchGetData(t){if(this.userSearch){var e=[];return e=t.filter(t=>t.CONTACTNAME.toLowerCase().includes(this.userSearch.toLowerCase())),""!=this.userSearch?e:t}return t},userAssignClose(){this.users=[],this.userAssignPopup=!1,this.userSearch=""}}},xt=It,At=Object(w["a"])(xt,ft,vt,!1,null,null,null),Tt=At.exports,Dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content p-0",staticStyle:{display:"block"},attrs:{id:"v-pills-meetings"}},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"commentForm",on:{submit:function(e){return e.preventDefault(),a(t.formSubmit)}}},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"border p-3 bg-white"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 p-0"},[e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6 p-0"},[e("div",{staticClass:"form-group projectConfig"},[e("label",[e("span",[t._v(" Chat setting ")]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("a",{attrs:{href:"javascript:;","data-toggle":"popoveruserguide","data-content":"Enable Approval Receipt Notification"}},[e("i",{staticClass:"fa fa-question-circle-o text-popover",attrs:{title:"Enable Approval Receipt Notification"}})])]),e("div",{staticClass:"rad_value",attrs:{type:"radiobutton",keys:"315",keyname:"Approver Receipt Notification"}},[e("label",{staticClass:"cogfiglbl form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chatSeetingBox,expression:"chatSeetingBox"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"chatSeetingBox",id:"rdo_Right",value:"Right"},domProps:{checked:t._q(t.chatSeetingBox,"Right")},on:{change:function(e){t.chatSeetingBox="Right"}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"rdo_Right"}})]),t._v("Right ")]),e("label",{staticClass:"cogfiglbl form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chatSeetingBox,expression:"chatSeetingBox"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"chatSeetingBox",id:"rdo_Left",value:"Left"},domProps:{checked:t._q(t.chatSeetingBox,"Left")},on:{change:function(e){t.chatSeetingBox="Left"}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"rdo_Left"}})]),t._v("Left ")]),e("label",{staticClass:"cogfiglbl form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chatSeetingBox,expression:"chatSeetingBox"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"chatSeetingBox",id:"rdo_default",value:"default"},domProps:{checked:t._q(t.chatSeetingBox,"default")},on:{change:function(e){t.chatSeetingBox="default"}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"rdo_default"}})]),t._v("Default ")])])]),e("div"),e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-12 col-xl-12 p-0"})])])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit",id:"btnSave"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{title:"","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(e){return t.cancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])])])]}}])})],1)},Et=[],Mt={name:"chat Setup",components:{ValidationObserver:B["a"]},props:{store:{type:Object}},data(){return{chatSeetingBox:""}},created(){this.FetchData()},methods:{async FetchData(){r["a"].GetUserChatSetting().then(({data:t})=>{let e=t?JSON.parse(t[0].value):"";var a=e?e[0].layout_type:"";this.chatSeetingBox=a||"Default"})},formSubmit(){r["a"].ChatSetting({layout:this.chatSeetingBox,status_id:1001,User_Id:this.store.getUserInformation.ID}).then(()=>{this.ShowAlert(this.$t("saveChatSetting"),"success",!0,this.$t("Alert"))})}}},Ut=Mt,kt=Object(w["a"])(Ut,Dt,Et,!1,null,null,null),Rt=kt.exports,Gt={name:"Setup",components:{TwilioSetup:Tt,ChatSetupSetup:Rt},props:{store:{type:Object},selectedFilter:{type:String}},data(){return{deviceSetuppopupShow:!1,deviceType:"",openChat:!1,pageTitle:""}},created(){},watch:{selectedFilter:function(t,e){console.warn(e),this.deviceType="",this.deviceSetuppopupShow=!1,this.pageTitle=t}},methods:{deviceSelect(t){var e=this;e.deviceType=t,e.deviceSetuppopupShow=!1},deviceSetupPageShow(){"Chat"==this.pageTitle?(this.openChat=!0,this.deviceSetuppopupShow=!1):this.deviceSetuppopupShow=!0}}},Nt=Gt,Pt=Object(w["a"])(Nt,ht,gt,!1,null,null,null),Ot=Pt.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-pane fade show active",staticStyle:{height:"100%"},attrs:{id:"pills-chat",role:"tabpanel","aria-labelledby":"pills-chat-tab"}},[e("div",{staticStyle:{height:"100%"}},[e("div",{staticClass:"px-3 pt-3"},[e("h4",{staticClass:"mb-3 d-flex",class:t.newChatOrGroup?"justify-content-left":"justify-content-between"},[t.newChatOrGroup?e("i",{staticClass:"fas fa-arrow-left pe-2",on:{click:function(e){t.addGroupMember?t.backToChat():t.addGroupMember=!0}}}):t._e(),t._v(" "+t._s(t.newChatOrGroup&&"Group"==t.activeTabs?"Add group members":"Chat")+" "),"AllUsers"!=t.activeTabs&&"Group"!=t.activeTabs||t.newChatOrGroup?t._e():e("i",{staticClass:"ri-add-line",on:{click:function(e){return t.addNewChatOrGroup()}}})]),"Group"!=t.activeTabs&&"AllUsers"!=t.activeTabs&&"Archived"!=t.activeTabs||!t.addGroupMember?t._e():e("div",{staticClass:"search-box chat-search-box"},[e("div",{staticClass:"input-group mb-3 rounded-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearchChatGroups,expression:"txtSearchChatGroups"}],staticClass:"form-control bg-light",attrs:{type:"text",id:"UserSearch",placeholder:t.$t("Search"),"aria-label":"Search messages or users","aria-describedby":"basic-addon1"},domProps:{value:t.txtSearchChatGroups},on:{keyup:function(e){return t.SearchChatUsers(e)},input:function(e){e.target.composing||(t.txtSearchChatGroups=e.target.value)}}}),t._m(0)])])]),t._v(" "),t.newChatOrGroup?t._e():e("div",{staticClass:"px-3 pb-4",attrs:{dir:"ltr"}},[e("ul",{staticClass:"nav nav-tabs customtabs",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.selectTab("AllUsers")}}},[e("button",{staticClass:"nav-link",class:{active:"AllUsers"==t.activeTabs},attrs:{id:"allchat-tab","data-bs-toggle":"tab","data-bs-target":"#allchat",type:"button",role:"tab","aria-controls":"allchat","aria-selected":"true"}},[t._v("All Chats")])]),e("li",{staticClass:"nav-item px-3",attrs:{role:"presentation"},on:{click:function(e){return t.selectTab("Group")}}},[e("button",{staticClass:"nav-link",class:{active:"Group"==t.activeTabs},attrs:{id:"group-tab","data-bs-toggle":"tab","data-bs-target":"#group",type:"button",role:"tab","aria-controls":"group","aria-selected":"false"}},[t._v("Group")])]),e("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.selectTab("Archived")}}},[e("button",{staticClass:"nav-link",class:{active:"Archived"==t.activeTabs},attrs:{id:"archived-tab","data-bs-toggle":"tab","data-bs-target":"#archived",type:"button",role:"tab","aria-controls":"archived","aria-selected":"false"}},[t._v("Archived")])])])]),t.newChatOrGroup?e("div",{staticClass:"add-group-members-list",class:{"chat-message-list":"AllUsers"!=t.activeTabs}},["AllUsers"==t.activeTabs?e("div",[e("span",[t._v("Contact")]),e("div",{staticClass:"chat-message-list",attrs:{"data-simplebar":""}},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},t._l(t.AllContactList,(function(a,s){return e("li",{key:s},[e("a",{on:{click:function(e){return t.OpenTicketReceiver(a)}}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0"},[void 0!=a.USER_IMAGE||null!=a.USER_IMAGE?e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.USER_IMAGE?a.USER_IMAGE:"",alt:""}}):e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle",style:{backgroundColor:t.getFirstTwoLettersWithColor(a.CONTACTNAME).color}},[t._v(" "+t._s(t.getFirstTwoLettersWithColor(a.CONTACTNAME).letters)+" ")])])]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.CONTACTNAME)+" ")])])])])])})),0)])]):e("div",{staticStyle:{height:"100%"}},[e("div",{staticClass:"tab-pane fade show active",staticStyle:{height:"100%",position:"relative"},attrs:{id:"pills-chat",role:"tabpanel","aria-labelledby":"pills-chat-tab"}},[t.addGroupMember?e("div",[t.selectedMembers.length>0?e("div",{staticClass:"px-3 pt-0"},[e("div",{staticClass:"select-viwer-box mb-3"},t._l(t.selectedMembers,(function(a,s){return e("div",{key:s,staticClass:"select-viwer-right-box d-flex align-items-center chat-user-list"},[e("img",{staticClass:"rounded-circle select-viewer-image avatar-xs",attrs:{src:t.getUser(a).USER_IMAGE?t.getUser(a).USER_IMAGE:t.defaultImg,alt:""}}),e("h5",{staticClass:"select-sub-heading"},[t._v(t._s(t.getUser(a).CONTACTNAME))]),e("i",{staticClass:"fa fa-times",on:{click:function(e){t.selectedMembers=t.selectedMembers.filter(t=>t!==a)}}})])})),0)]):t._e(),e("div",{staticStyle:{height:"100%"}},[e("div",{staticClass:"tab-content position_relative",staticStyle:{height:"100%"},attrs:{id:"myTabContent"}},[e("h4",{staticClass:"mb-3 mt-3 ps-4 checklist-text d-flex align-items-center font-size-14"},[t._v("Contacts")]),e("div",{staticClass:"chat-message-list add-group-members-list0",class:{"add-group-members-list1":t.selectedMembers.length>0},attrs:{id:"group-contacts","data-simplebar":"init"}},[e("div",{staticStyle:{margin:"0px"}},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list group-ad px-2"},t._l(t.AllContactList,(function(a,s){return e("li",{key:s},[e("a",{staticStyle:{"border-top":"none"},attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img online align-self-center me-3 ms-0"},[e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.USER_IMAGE?a.USER_IMAGE:t.defaultImg,alt:""}}),e("span",{staticClass:"user-status"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.CONTACTNAME))]),e("p",{staticClass:"text-truncate post-title mb-0"},[t._v("Team Lead")])]),e("div",{staticClass:"checkbox-main"},[e("section",[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedMembers,expression:"selectedMembers"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"privacy-lastseenSwitch"},domProps:{value:a.USER_ID,checked:Array.isArray(t.selectedMembers)?t._i(t.selectedMembers,a.USER_ID)>-1:t.selectedMembers},on:{change:[function(e){var s=t.selectedMembers,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=a.USER_ID,l=t._i(s,o);i.checked?l<0&&(t.selectedMembers=s.concat([o])):l>-1&&(t.selectedMembers=s.slice(0,l).concat(s.slice(l+1)))}else t.selectedMembers=r},t.handleCheckboxChange]}})])])])])])])})),0)])]),e("div",{staticClass:"btn-next-bottom checklist-text",class:{bottom24:t.selectedMembers.length>0}},[e("button",{staticClass:"next-btn btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.nextTocreateGroup()}}},[t._v("Next")])])])])]):e("div",{staticClass:"custom-scroll"},[e("ValidationObserver",{ref:"form",staticClass:"custom-scroll",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"commentForm",on:{submit:function(e){return e.preventDefault(),a(t.CreateGroup)}}},[e("div",{staticClass:"px-3 pt-3"},[e("div",{staticClass:"group-image-box mb-3"},[e("div",{staticClass:"inner-img-group-box"},[e("i",{staticClass:"fa fa-camera",staticStyle:{"font-size":"30px",color:"#d7d7d7","padding-bottom":"5px"}}),e("h5",{staticClass:"text-truncate font-size-12 togle-text mb-1"},[t._v("Add Image")])])]),e("div",{staticClass:"search-box chat-search-box"},[e("div",{staticClass:"input-group mb-3"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.grouptitle,expression:"grouptitle"}],staticClass:"rounded-3 mb-3 form-control bg-light",staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"Group Name"},domProps:{value:t.grouptitle},on:{input:function(e){e.target.composing||(t.grouptitle=e.target.value)}}}),a[0]?e("label",{staticStyle:{color:"red"}},[t._v(t._s(t.$t("Pleaseentervalidgroupname")))]):t._e()]}}],null,!0)}),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.groupDescription,expression:"groupDescription"}],staticClass:"rounded-3 bg-light",attrs:{placeholder:"Enter description (optional)",rows:"2",cols:"50"},domProps:{value:t.groupDescription},on:{input:function(e){e.target.composing||(t.groupDescription=e.target.value)}}})],1),e("div",{staticClass:"toggle-group-1"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1",staticStyle:{"border-bottom":"1px solid #e6e6e8","padding-bottom":"8px"}},[t._v("Permissions ")]),e("h5",{staticClass:"text-truncate font-size-14 mb-3",staticStyle:{"padding-top":"10px"}})])])]),e("div",{staticClass:"btn-next-bottom checklist-text"},[e("button",{staticClass:"next-btn btn a1 btn-secondary me-2",attrs:{type:"button"},on:{click:function(e){return t.backToChat()}}},[t._v(t._s(t.$t("Cancel")))]),e("button",{staticClass:"next-btn a1 btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.$t("CreateGroup")))])])])]}}])})],1)])])]):e("div",{},[e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show",class:{active:"AllUsers"==t.activeTabs},attrs:{id:"allchat",role:"tabpanel","aria-labelledby":"allchat-tab"}},[e("div",{staticClass:"chat-message-list px-3",attrs:{"data-simplebar":""}},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},[t.pinnedArray.length>0?e("span",[t._v("Pinned")]):t._e(),t._l(t.pinnedArray,(function(a){return t.pinnedArray.length>0?e("li",{key:a.GROUP_ID,class:{active:t.chatUserInfo.GROUP_ID==a.GROUP_ID,"unread notseen":a.UNREAD_USER_MESSAGE>0}},[e("a",{on:{click:function(e){return t.JoinRooms(a)}}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0",class:{online:1==t.checkIsOnline(a.RECEIVER_ID)&&1!=a.IS_GROUP,offline:0==t.checkIsOnline(a.RECEIVER_ID)&&1!=a.IS_GROUP}},[a.hasOwnProperty("GROUP_ID")&&a.GROUP_ID&&""!=a.AVATAR?e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.AVATAR?a.AVATAR:"",alt:""}}):e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle",style:{backgroundColor:t.getFirstTwoLettersWithColor(a.GROUP_NAME).color}},[t._v(" "+t._s(t.getFirstTwoLettersWithColor(a.GROUP_NAME).letters)+" ")])]),e("span",{staticClass:"user-status"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.GROUP_NAME))]),e("p",{staticClass:"chat-user-message text-truncate mb-0",class:{"animate-typing":1==t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID}},[t._v(" "+t._s(1==t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?"typing":"string"===typeof a.MESSAGE&&a.MESSAGE?a.MESSAGE.includes("src")?"[GIF]":a.MESSAGE:"")+" "),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e(),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e(),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e()])]),e("div",{staticClass:"unread-message"},[a.UNREAD_USER_MESSAGE>0?e("span",{staticClass:"badge badge-soft-info rounded-pill"},[t._v(t._s(a.UNREAD_USER_MESSAGE))]):t._e()]),a.hasOwnProperty("CREATED_AT")?e("div",{staticClass:"font-size-11 position_relative"},[t._v(" "+t._s(t.DateDifference(a.CREATED_AT))+" "),t._m(1,!0)]):t._e(),e("span",{staticClass:"nav-item dropdown dropsideopt"},[t._m(2,!0),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"button",on:{click:function(e){return t.ArchiveUserGroup(a)}}},[t._v(t._s(0==a.IS_ARCHIVE||null==a.IS_ARCHIVE?"Archive Chat":"Un-Archive Chat"))]),e("button",{staticClass:"button",on:{click:function(e){return t.MuteUnmuteUserGroup(a)}}},[t._v(t._s(0==a.IS_MUTE||null==a.IS_MUTE?"Mute":"UnMute"))]),e("button",{staticClass:"button",on:{click:function(e){return t.UserGroupDelete(a,"Delete")}}},[t._v("Delete chat")]),e("button",{staticClass:"button",on:{click:function(e){return t.PinUserGroup(a)}}},[t._v(t._s(1==a.IS_PINNED?"UnPin Chat":"Pin Chat"))])])])])])]):t._e()})),t.ChatUserListData.length>0?e("span",[t._v("Chats")]):t._e(),t._l(t.ChatUserListData,(function(a,s){return e("li",{key:s,class:{active:t.chatUserInfo.GROUP_ID==a.GROUP_ID,"unread notseen":a.UNREAD_USER_MESSAGE>0}},[e("a",{on:{click:function(e){return t.JoinRooms(a)}}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0",class:{online:1==t.checkIsOnline(a.RECEIVER_ID)&&1!=a.IS_GROUP,offline:0==t.checkIsOnline(a.RECEIVER_ID)&&1!=a.IS_GROUP}},[a.hasOwnProperty("GROUP_ID")&&a.GROUP_ID&&""!=a.AVATAR?e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.AVATAR?a.AVATAR:"",alt:""}}):e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle",style:{backgroundColor:t.getFirstTwoLettersWithColor(a.GROUP_NAME).color}},[t._v(" "+t._s(t.getFirstTwoLettersWithColor(a.GROUP_NAME).letters)+" ")])]),e("span",{staticClass:"user-status"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.GROUP_NAME))]),e("p",{staticClass:"chat-user-message text-truncate mb-0",class:{"animate-typing":1==t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID}},[t._v(" "+t._s(1==t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?"typing":"string"===typeof a.MESSAGE&&a.MESSAGE?a.MESSAGE.includes("src")?"[GIF]":a.MESSAGE:"")+" "),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e(),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e(),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e()])]),e("div",{staticClass:"unread-message"},[a.UNREAD_USER_MESSAGE>0?e("span",{staticClass:"badge badge-soft-info rounded-pill"},[t._v(t._s(a.UNREAD_USER_MESSAGE))]):t._e()]),a.hasOwnProperty("CREATED_AT")?e("div",{staticClass:"font-size-11 position_relative"},[t._v(" "+t._s(t.DateDifference(a.CREATED_AT))+" "),t._m(3,!0)]):t._e(),e("span",{staticClass:"nav-item dropdown dropsideopt"},[t._m(4,!0),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"button",on:{click:function(e){return t.ArchiveUserGroup(a)}}},[t._v(t._s(0==a.IS_ARCHIVE||null==a.IS_ARCHIVE?"Archive Chat":"Un-Archive Chat"))]),e("button",{staticClass:"button",on:{click:function(e){return t.MuteUnmuteUserGroup(a)}}},[t._v(t._s(0==a.IS_MUTE||null==a.IS_MUTE?"Mute":"UnMute"))]),e("button",{staticClass:"button",on:{click:function(e){return t.UserGroupDelete(a,"Delete")}}},[t._v("Delete chat")]),e("button",{staticClass:"button",on:{click:function(e){return t.PinUserGroup(a)}}},[t._v(t._s(1==a.IS_PINNED?"UnPin Chat":"Pin Chat"))])])])])])])}))],2)])]),e("div",{staticClass:"tab-pane fade show",class:{active:"Group"==t.activeTabs},attrs:{id:"group",role:"tabpanel","aria-labelledby":"group-tab"}},[e("div",{staticClass:"chat-message-list px-3",attrs:{"data-simplebar":""}},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},t._l(t.groupRecords,(function(a,s){return e("li",{key:s,class:{active:t.chatUserInfo.GROUP_ID==a.GROUP_ID,"unread notseen":a.UNREAD_USER_MESSAGE>0}},[e("a",{attrs:{href:"#"},on:{click:function(e){return t.JoinRooms(a)}}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0"},[a.hasOwnProperty("GROUP_ID")&&a.GROUP_ID&&""!=a.AVATAR?e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.AVATAR?a.AVATAR:"",alt:""}}):e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle",style:{backgroundColor:t.getFirstTwoLettersWithColor(a.GROUP_NAME).color}},[t._v(" "+t._s(t.getFirstTwoLettersWithColor(a.GROUP_NAME).letters)+" ")])])]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.GROUP_NAME))]),e("p",{staticClass:"chat-user-message text-truncate mb-0",class:{"animate-typing":1==t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID}},[t._v(" "+t._s(1==t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?"typing":"string"===typeof a.MESSAGE&&a.MESSAGE?a.MESSAGE.includes("src")?"[GIF]":a.MESSAGE:"")+" "),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e(),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e(),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e()])]),e("div",{staticClass:"unread-message"},[a.UNREAD_USER_MESSAGE>0?e("span",{staticClass:"badge badge-soft-info rounded-pill"},[t._v(t._s(a.UNREAD_USER_MESSAGE))]):t._e()]),a.hasOwnProperty("CREATED_AT")?e("div",{staticClass:"font-size-11 position_relative"},[t._v(" "+t._s(t.DateDifference(a.CREATED_AT))+" "),t._m(5,!0)]):t._e(),e("span",{staticClass:"nav-item dropdown dropsideopt"},[t._m(6,!0),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"button",on:{click:function(e){return t.ArchiveUserGroup(a)}}},[t._v(t._s(0==a.IS_ARCHIVE||null==a.IS_ARCHIVE?"Archive Chat":"Un-Archive Chat"))]),e("button",{staticClass:"button",on:{click:function(e){return t.MuteUnmuteUserGroup(a)}}},[t._v(t._s(0==a.IS_MUTE||null==a.IS_MUTE?"Mute":"UnMute"))]),e("button",{staticClass:"button",on:{click:function(e){return t.UserGroupDelete(a,"Delete")}}},[t._v("Delete chat")]),e("button",{staticClass:"button",on:{click:function(e){return t.PinUserGroup(a)}}},[t._v(t._s(1==a.IS_PINNED?"UnPin Chat":"Pin Chat"))])])])])])])})),0)])]),e("div",{staticClass:"tab-pane fade show",class:{active:"Archived"==t.activeTabs},attrs:{id:"archived",role:"tabpanel","aria-labelledby":"archived-tab"}},[t.AarchivedUsersList.length>0?e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},t._l(t.AarchivedUsersList,(function(a){return e("li",{key:a.GROUP_ID,class:{active:t.chatUserInfo.GROUP_ID==a.GROUP_ID,"unread notseen":a.UNREAD_USER_MESSAGE>0}},[e("a",{on:{click:function(e){return t.JoinRooms(a)}}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0",class:{online:1==t.checkIsOnline(a.RECEIVER_ID)&&1!=a.IS_GROUP,offline:0==t.checkIsOnline(a.RECEIVER_ID)&&1!=a.IS_GROUP}},[a.hasOwnProperty("GROUP_ID")&&a.GROUP_ID&&""!=a.AVATAR?e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.AVATAR?a.AVATAR:"",alt:""}}):e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle",style:{backgroundColor:t.getFirstTwoLettersWithColor(a.GROUP_NAME).color}},[t._v(" "+t._s(t.getFirstTwoLettersWithColor(a.GROUP_NAME).letters)+" ")])]),e("span",{staticClass:"user-status"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.GROUP_NAME))]),e("p",{staticClass:"chat-user-message text-truncate mb-0",class:{"animate-typing":1==t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID}},[t._v(" "+t._s(1==t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?"typing":"string"===typeof a.MESSAGE&&a.MESSAGE?a.MESSAGE.includes("src")?"[GIF]":a.MESSAGE:"")+" "),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e(),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e(),t.isShowTypingForLeft&&t.isTypingToGroup==a.GROUP_ID?e("span",{staticClass:"dot"}):t._e()])]),e("div",{staticClass:"unread-message"},[a.UNREAD_USER_MESSAGE>0?e("span",{staticClass:"badge badge-soft-info rounded-pill"},[t._v(t._s(a.UNREAD_USER_MESSAGE))]):t._e()]),a.hasOwnProperty("CREATED_AT")?e("div",{staticClass:"font-size-11 position_relative"},[t._v(" "+t._s(t.DateDifference(a.CREATED_AT))+" "),t._m(7,!0)]):t._e(),e("span",{staticClass:"nav-item dropdown dropsideopt"},[t._m(8,!0),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"button",on:{click:function(e){return t.ArchiveUserGroup(a)}}},[t._v(t._s(0==a.IS_ARCHIVE||null==a.IS_ARCHIVE?"Archive Chat":"Un-Archive Chat"))]),e("button",{staticClass:"button",on:{click:function(e){return t.MuteUnmuteUserGroup(a)}}},[t._v(t._s(0==a.IS_MUTE||null==a.IS_MUTE?"Mute":"UnMute"))]),e("button",{staticClass:"button",on:{click:function(e){return t.UserGroupDelete(a,"Delete")}}},[t._v("Delete chat")]),e("button",{staticClass:"button",on:{click:function(e){return t.PinUserGroup(a)}}},[t._v(t._s(1==a.IS_PINNED?"UnPin Chat":"Pin Chat"))])])])])])])})),0):t._e()])])])])])},$t=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"input-group-text text-muted bg-light pe-3 ps-3 border-0",attrs:{id:"basic-addon1"}},[e("i",{staticClass:"ri-search-line search-icon font-size-18"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"read d-block text-center mt-2"},[e("i",{staticClass:"ri-check-double-line font-size-15"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-link dropdown-toggle",attrs:{role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-angle-down"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"read d-block text-center mt-2"},[e("i",{staticClass:"ri-check-double-line font-size-15"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-link dropdown-toggle",attrs:{role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-angle-down"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"read d-block text-center mt-2"},[e("i",{staticClass:"ri-check-double-line font-size-15"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-link dropdown-toggle",attrs:{role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-angle-down"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"read d-block text-center mt-2"},[e("i",{staticClass:"ri-check-double-line font-size-15"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-link dropdown-toggle",attrs:{role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-angle-down"})])}];Object(B["c"])("required",j["required"]);var Ft={name:"LeftSideChatTab",components:{ValidationProvider:B["b"],ValidationObserver:B["a"]},props:{store:{type:Object}},data(){return{selectedMembers:[],defaultImg:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",ChatUserListData:[],chatHistoryDetails:[],chatUsersList:[],isDataLoaded:!0,isMobile:!1,AllContactList:[],chatUserInfo:{},GroupAliasName:"",tmpChatUserList:[],tmpArchiveList:[],tmpgroupRecords:[],userGroupId:"",activeTabs:"AllUsers",sender:this.store.GetSenderDetail,txtSearchChatGroups:"",groupRecords:[],isShowTypingForLeft:!1,group:"-1",pinnedArray:[],AarchivedUsersList:[],isImageExist:!1,newChatOrGroup:!1,onlineUsers:[],isTypingUsersList:[],grouptitle:"",addGroupMember:!0,isTypingToGroup:"",groupDescription:""}},sockets:{historyLogUsers:async function(t){this.ChatUserListData=[],this.historyLogUsers(t)},connectedSockets:function(t){this.onlineUsers=[],this.onlineUsers=t},display:function(t){var e=this;let a=e.store.$state.RecentChatuser,s="";t.IsGroup,t.user!=e.sender.id&&(e.isShowTypingForLeft=!0,s=a.find(e=>e.GROUP_ID==t.Group),s&&(e.isTypingToGroup=s.GROUP_ID,setTimeout((function(){e.isTypingToGroup=[],e.isShowTypingForLeft=!1}),4e3)))},tabBlinkNewMessage:async function(t){var e=this;await e.$socket.emit("get All Chat Persons",e.sender);let a={companyId:e.sender.companyId,userId:e.sender.id,emaiId:e.sender.emaiId,name:e.sender.name,imgPath:e.store.getBlobUserUrl+e.sender.imgPath,type:e.type};e.$socket.emit("user total",a)},AddedNewLogUsers:async function(t){this.group="-1",setTimeout(()=>{this.$socket.emit("get All Chat Persons",this.store.GetSenderDetail)},500),this.newChatOrGroup=!1},updateUserList:function(){var t=this;t.isOnline=!0},GroupCreated:async function(t){var e=this;e.group="-1",await e.$socket.emit("get All Chat Persons",e.store.GetSenderDetail),e.ShowAlert(t.msg,"success",!0,e.$t("Alert")),this.activeTabs="Group",setTimeout(()=>{let a=e.groupRecords.find(e=>e.GROUP_ID==t.group);e.JoinRooms(a)},2e3),this.newChatOrGroup=!1}},created:async function(){this.ConnectIO(),this.store.groupList(`emaiId=${this.sender.emaiId}&isGroup=1&room=1`)},methods:{isTyping(t,e){return this.isTypingUsersList.some(a=>a.Group==t&&a.user==e)},typingOrMessage(t){return this.isTyping(t.GROUP_ID,t.RECEIVER_ID)?"typing":"string"===typeof t.MESSAGE&&t.MESSAGE.includes("src")&&t.hasOwnProperty("GROUP_ID")?"[GIF]":t.MESSAGE},isTypingUserToGroups:function(t){var e=this;e.isTypingUsersList},checkIsOnline:function(t){var e=this.onlineUsers.findIndex(e=>e.ID==t.toString());return void 0!=e&&-1!=e?1:0},OpenTicketReceiver(t){var e={userType:"s"};e.alias=this.sender.id+"_"+t.USER_ID,e.room=this.sender.id+"_"+t.USER_ID,e.groupName=this.sender.id+"_"+t.USER_ID,e.groupNameDisplay=t.CONTACTNAME,e.companyId=this.sender.companyId,e.emaiId=this.sender.emaiId,e.id=this.sender.id,this.$socket.emit("createRoom",e),1==this.isMobile&&(this.isMobileNewChat=1)},getRandomColor(t){let e=0;for(let s=0;s<t.length;s++)e=t.charCodeAt(s)+((e<<5)-e);let a="#";for(let s=0;s<3;s++){const t=e>>8*s&255;a+=("00"+t.toString(16)).slice(-2)}return a},getFirstTwoLettersWithColor(t){const e=t?t.substring(0,2):"";return{letters:e,color:this.getRandomColor(t)}},PinUserGroup:function(t){var e=this;let a=0;e.ChatUserListData.forEach(t=>{1==t.IS_PINNED&&(a+=1)}),1==t.IS_PINNED?e.confirmR(e.$t("UnPinUser"),!0,e.$t("UnPin"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_PINNED=t.IS_PINNED,a.userId=e.sender.id,a.companyId=e.sender.companyId,a.RECEIVER_ID=t.RECEIVER_ID,e.$socket.emit("pin user group",a,t=>{1==t.recordset[0].STATUS?e.ShowAlert(e.$t("PinnedSuccess"),"success",!0,e.$t("Alert")):0==t.recordset[0].STATUS&&e.ShowAlert(e.$t("UnPinSuccess"),"success",!0,e.$t("Alert")),e.ConnectIO()})})):e.confirmR(e.$t("PinUser"),!0,e.$t("Pin"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_PINNED=t.IS_PINNED,a.userId=e.sender.id,a.companyId=e.sender.companyId,a.RECEIVER_ID=t.RECEIVER_ID,e.$socket.emit("pin user group",a,t=>{1==t.recordset[0].STATUS?e.ShowAlert(e.$t("PinnedSuccess"),"success",!0,e.$t("Alert")):0==t.recordset[0].STATUS&&e.ShowAlert(e.$t("UnPinSuccess"),"success",!0,e.$t("Alert")),e.ConnectIO()})})),a=0},ArchiveUserGroup:function(t){var e=this;1==t.IS_ARCHIVE?e.confirmR(e.$t("UnArchiveAlert"),!0,e.$t("UnArchive"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_ARCHIVE=t.IS_ARCHIVE,a.userId=e.sender.id,a.companyId=e.sender.companyId,a.RECEIVER_ID=t.RECEIVER_ID,e.$socket.emit("archive Unarchive user group",a,t=>{1==t.recordset[0].STATUS&&e.ShowAlert(e.$t("ArchiveSuccess"),"success",!0,e.$t("Alert")),0==t.recordset[0].STATUS&&e.ShowAlert(e.$t("UnArchiveSuccess"),"success",!0,e.$t("Alert")),e.ConnectIO()})})):e.confirmR(e.$t("ArchiveAlert"),!0,e.$t("Archive"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_ARCHIVE=t.IS_ARCHIVE,a.userId=e.sender.id,a.companyId=e.sender.companyId,a.RECEIVER_ID=t.RECEIVER_ID,e.$socket.emit("archive Unarchive user group",a,t=>{1==t.recordset[0].STATUS&&e.ShowAlert(e.$t("ArchiveSuccess"),"success",!0,e.$t("Alert")),0==t.recordset[0].STATUS&&e.ShowAlert(e.$t("UnArchiveSuccess"),"success",!0,e.$t("Alert")),e.ConnectIO()})}))},MuteUnmuteUserGroup:function(t){var e=this;1==t.IS_ARCHIVE?e.confirmR(e.$t("UnMuteAlert"),!0,e.$t("UnMute"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_ARCHIVE=t.IS_ARCHIVE,a.userId=e.sender.id,a.companyId=e.sender.companyId,a.RECEIVER_ID=t.RECEIVER_ID,e.$socket.emit("mute Unmute user group",a,t=>{1==t.recordset[0].STATUS&&e.ShowAlert(e.$t("MuteSuccess"),"success",!0,e.$t("Alert")),0==t.recordset[0].STATUS&&e.ShowAlert(e.$t("UnMuteSuccess"),"success",!0,e.$t("Alert")),e.ConnectIO()})})):e.confirmR(e.$t("MuteAlert"),!0,e.$t("Mute"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_ARCHIVE=t.IS_ARCHIVE,a.userId=e.sender.id,a.companyId=e.sender.companyId,a.RECEIVER_ID=t.RECEIVER_ID,e.$socket.emit("mute Unmute user group",a,t=>{1==t.recordset[0].STATUS&&e.ShowAlert(e.$t("MuteSuccess"),"success",!0,e.$t("Alert")),0==t.recordset[0].STATUS&&e.ShowAlert(e.$t("UnMuteSuccess"),"success",!0,e.$t("Alert")),e.ConnectIO()})}))},UserGroupDelete:async function(t,e){vm=this,vm.confirmR(vm.$t("ConfirmDeleteGroupMessage"),!0,vm.$t("Delete")+"  "+vm.$t("communication"),(function(){var a=new Object;a=vm.sender,a.id=vm.sender.id.toString(),a.room=t.GROUP_ID,a.groupId=t.GROUP_ID,a.act_room=t.GROUP_NAME_ALIAS,a.proc=e,vm.$socket.emit("delete group",a),vm.readMessageUpdate(t.GROUP_ID,vm.sender),vm.group="-1",vm.ConnectIO()}))},ConnectIO:async function(){var t=this;t.GetContactList(),t.chatHistoryDetails=[],1==t.isMobile?(await t.$socket.emit("get All Chat Persons",t.store.GetSenderDetail),this.isDataLoaded=!1):await t.$socket.emit("get All Chat Persons",t.store.GetSenderDetail),this.isDataLoaded=!1},SearchChatUsers:function(t){var e=this;let a=e.txtSearchChatGroups.toLowerCase();const s=(t,e)=>t.filter(t=>t[e].toLowerCase().includes(a));!t||"Backspace"===t.key&&"Backspace"!==t.key?(e.ChatUserListData=e.tmpChatUserList,e.AllContactList=e.tmpAllContactUserList,e.pinnedArray=e.tmpAllpinnedArray,e.groupRecords=e.tmpgroupRecords,e.AarchivedUsersList=e.tmpArchiveList):"AllUsers"===e.activeTabs?(e.ChatUserListData=s(e.tmpChatUserList,"GROUP_NAME"),e.pinnedArray=s(e.tmpAllpinnedArray,"GROUP_NAME"),e.AllContactList=s(e.tmpAllContactUserList,"CONTACTNAME")):"Group"===e.activeTabs?e.newChatOrGroup?e.AllContactList=s(e.tmpAllContactUserList,"CONTACTNAME"):e.groupRecords=s(e.tmpgroupRecords,"GROUP_NAME"):"Archived"===e.activeTabs&&(e.AarchivedUsersList=s(e.tmpArchiveList,"GROUP_NAME"))},GetContactList:async function(){let t=this,e=[];e=t.store.getContactList,t.AllContactList=[...e],t.tmpAllContactUserList=[...e]},historyLogUsers(t){var e=this;if(e.isDataLoaded=!1,e.ChatUserListData=[],t.resultSet.length>0){e.chatUsersList=t.resultSet,1==e.isMobile&&1==e.isMobileNewChat&&(e.isMobileNewChat=0);var a=[];t.resultSet.forEach(t=>{a.includes(t.RECEIVER_ID)||(e.ChatUserListData.push(t),e.group<=0&&(e.ReceiverId>=0?e.openRoomChat(e.group,e.sender,null,!1):(e.group=t.GROUP_ID,e.chatUserInfo=t,e.GroupAliasName=t.GROUP_NAME_ALIAS,e.userGroupId=t.GROUP_ID,e.groupNameDisplay=t.GROUP_NAME,e.openRoomChat(t.GROUP_ID,e.sender,null,!1,t))))}),e.store.$state.RecentChatuser=e.ChatUserListData;let s=e.ChatUserListData;e.groupRecords=s.filter(t=>t.IS_GROUP&&!t.IS_ARCHIVE),e.AarchivedUsersList=s.filter(t=>t.IS_ARCHIVE),e.pinnedArray=s.filter(t=>t.IS_PINNED&&!t.IS_ARCHIVE),e.ChatUserListData=s.filter(t=>!t.IS_PINNED&&!t.IS_ARCHIVE),this.pinnedArray.sort((t,e)=>new Date(e.MODIFIED_ON)-new Date(t.MODIFIED_ON))}else e.groupNameDisplay="",e.userGroupId=null;e.tmpChatUserList=e.ChatUserListData,e.tmpAllpinnedArray=e.pinnedArray,e.tmpArchiveList=e.AarchivedUsersList,e.tmpgroupRecords=e.groupRecords,this.$socket.emit("onlineUser",this.store.getUserInformation)},async openRoomChat(t,e,a,s,i){let r=this,o=r.chatUsersList.find(e=>e.GROUP_ID==t),l="",n=new Object;n=e,n.room=t,n.groupName=o.GROUP_NAME,n.groupNameDisplay=o.GROUP_NAME,n.lastrow=0,n.recordNumber=l,n.is_first_time=1,n.lastchatId=a,n.searchForMsg=null,n.isGlobalSearch=s,n.alias=o.GROUP_NAME_ALIAS,await r.$socket.emit("joinRoom",n,i);r.GetIsGroup(t);r.Groupdata=i,await r.$socket.emit("user chat Read",n)},GetIsGroup(t){let e=this,a=0;return a=e.chatUsersList.find(e=>e.GROUP_ID==t),a.IS_GROUP},selectTab(t){this.txtSearchChatGroups="",this.activeTabs=t,this.group="-1",this.ConnectIO()},async JoinRooms(t){var e=this;e.chatHistoryDetails=[],e.$socket.emit("is typing",{user:e.sender.id,Group:t.GROUP_ID,typing:!1,IsGroup:t.IS_GROUP});var a={alias:t.GROUP_NAME_ALIAS,companyId:e.sender.companyId,emaiId:e.sender.emaiId,groupName:t.GROUP_NAME,id:e.sender.id,imgPath:e.sender.imgPath,is_first_time:1,isGlobalSearch:!1,lastchatId:null,lastrow:0,name:e.sender.name,room:t.GROUP_NAME_ALIAS};await e.$socket.emit("joinRoom",a,t),t.isActive,Object.prototype.hasOwnProperty.call(t,"GROUP_ID")&&(e.RecieverId=t.RECEIVER_ID,e.chatUserInfo=t),t.FROM_USER_ID,e.sender.id,e.readMessageUpdate(t.GROUP_ID,e.sender),e.$socket.emit("get All Chat Persons",e.sender),e.$socket.emit("user total",e.sender),e.$parent.chatOpen(),e.$parent.detailpopup({data:"",show:!1})},readMessageUpdate(t,e){var a=this,s=new Object;s=e,s.id=a.sender.id,s.room=t,s.email=a.sender.emaiId,this.$socket.emit("user chat Read",s),setTimeout(()=>{let t={companyId:a.sender.companyId,userId:a.sender.id,emaiId:a.sender.emaiId,name:a.sender.name,imgPath:a.store.getBlobUserUrl+a.sender.imgPath,type:a.type};a.$socket.emit("user total",t)},400)},DateDifference(t){let e=this,a=new Date,s=Math.ceil(Math.floor(a.getTime()-new Date(t).getTime())/1e3),i=Math.floor(s/3600),r=s%3600,o=Math.floor(r/60),l=Math.floor(s/86400);if(s<60)return e.$t("now");if(s<120)return e.$t("m");if(s<2700)return o+" "+e.$t("m");if(s<5400)return e.$t("an")+" "+e.$t("h");if(s<86400)return i+" "+e.$t("h");if(s<172800)return e.$t("Y");if(s<2592e3)return l+" "+e.$t("d");if(s<31104e3){let t=Math.floor(l/30);return t<=1?"1 "+e.$t("mo"):t+" "+e.$t("mo")}{let t=Math.floor(l/365);return t<=1?"1 "+e.$t("y"):t+" "+e.$t("y")}},handleCheckboxChange(t){},CreateGroup:async function(){var t=this;if(t.selectedMembers.push(t.sender.id),t.selectedMembers.length>2){t.type="web",t.mobileType&&(t.type="mobile");let a={companyId:t.sender.companyId,id:t.sender.id,emaiId:t.sender.emaiId,name:t.sender.name,imgPath:t.store.getBlobUserUrl+t.sender.imgPath,type:t.type};var e=new Object;e=a,e.groupName=t.grouptitle?t.grouptitle:"Untitled name",e.room=t.selectedMembers.map(t=>t).join("_"),e.alias=e.room,t.$socket.emit("createRoom",e),t.$parent.closeGroup(),t.groupShowProps=!1,t.Grouptitle="",t.selectedMembers=[],t.groupId=""}else t.ShowAlert(t.$t("Atleast3Members"),"failure",!0,t.$t("Alert"))},addNewChatOrGroup(){this.txtSearchChatGroups="",this.newChatOrGroup=!0,this.GetContactList()},getUser(t){return this.AllContactList.find(e=>e.USER_ID==t)},nextTocreateGroup(){if(this.selectedMembers.length<3)return this.ShowAlert(this.$t("Pleaseselectatleast3userfromuserlist"),"warning",!0,this.$t("Alert")),!1;this.addGroupMember=!1},backToChat(){this.txtSearchChatGroups="",this.newChatOrGroup=!1,this.selectedMembers=[],this.grouptitle="",this.groupDescription="",this.group="-1",this.ConnectIO()}},setup(){return{}}},Bt=Ft,jt=Object(w["a"])(Bt,Lt,$t,!1,null,null,null),Vt=jt.exports,zt=a("d8ba"),Ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-profile-sidebar",staticStyle:{display:"block"}},[e("div",{staticClass:"px-3 px-lg-3 pt-3 pt-lg-3"},[e("div",{staticClass:"user-chat-nav d-flex justify-content-between align-items-center"},[e("h5",{staticClass:"mb-0"},[t._v(" "+t._s(t.chatRoom.IS_GROUP?t.$t("GroupInfo"):t.$t("ContactInfo"))+" ")]),e("button",{staticClass:"btn nav-btn",attrs:{type:"button",id:"user-profile-hide"},on:{click:function(e){return t.$parent.detailpopup({data:"",show:!1})}}},[e("i",{staticClass:"ri-close-line"})])])]),e("div",{staticClass:"text-center p-2 border-bottom"},[e("div",{staticClass:"mb-2"},[e("img",{staticClass:"rounded-circle avatar-lg img-thumbnail",attrs:{src:""==t.chatRoom.AVATAR?t.defaultImg:t.chatRoom.AVATAR,alt:""}})]),e("h5",{staticClass:"font-size-16 mb-1 text-truncate"},[t.editGroupName?t._e():e("span",[t._v(t._s(t.chatRoom.GROUP_NAME))]),t.editGroupName?e("input",{directives:[{name:"model",rawName:"v-model",value:t.chatRoom.GROUP_NAME,expression:"chatRoom.GROUP_NAME"}],attrs:{type:"text"},domProps:{value:t.chatRoom.GROUP_NAME},on:{change:function(e){return t.updateGroup("name")},input:function(e){e.target.composing||t.$set(t.chatRoom,"GROUP_NAME",e.target.value)}}}):t._e(),t.chatRoom.IS_GROUP?e("i",{staticClass:"ri-pencil-fill",on:{click:t.toggleNameEdit}}):t._e()]),e("p",{staticClass:"text-muted text-truncate mb-1"},[t._v(t._s(t.getMembers(t.chatRoom.GROUP_NAME_ALIAS)+" "+t.$t("Members"))+" ")])]),e("div",{staticClass:"p-3 user-profile-desc",attrs:{"data-simplebar":"init"}},[e("div",{staticClass:"simplebar-wrapper",staticStyle:{margin:"-16px"}},[t._m(0),e("div",{staticClass:"simplebar-mask"},[e("div",{staticClass:"simplebar-offset",staticStyle:{right:"-17px",bottom:"0px"}},[e("div",{staticClass:"simplebar-content-wrapper",staticStyle:{height:"100%",overflow:"hidden scroll"}},[e("div",{staticClass:"simplebar-content",staticStyle:{padding:"16px"}},[e("div",{staticClass:"text-muted border-bottom pb-2 sm-desc"},[e("h5",{staticClass:"font-size-16 mb-1 text-truncate d-flex justify-content-between"},[e("span",[t._v(t._s(t.$t("DESCRIPTION")))]),t._v(" "),t.chatRoom.IS_GROUP?e("i",{staticClass:"ri-pencil-fill"}):t._e()]),e("p",{staticClass:"mb-1"},[t._v("We are group of highly software development team.")])]),e("div",{staticClass:"user-setting border-bottom mt-3"},[e("div",{staticClass:"user-setting-block mb-2"},[e("h5",[e("i",{staticClass:"ri-notification-3-fill ms-1"}),t._v(" "+t._s(t.$t("MuteNotification")))]),e("input",{attrs:{type:"checkbox",id:"switch"}}),e("label",{attrs:{for:"switch"}},[t._v("Toggle")])]),e("div",{staticClass:"user-setting-block mb-2"},[t._m(1),t.chatRoom.IS_GROUP?e("i",{staticClass:"ri-pencil-fill"}):t._e()])]),e("div",{staticClass:"externalLinks mt-2"},[e("nav",[e("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[e("button",{staticClass:"nav-link",class:{active:"Media"==t.activeMediaType},attrs:{id:"nav-media-tab","data-bs-toggle":"tab","data-bs-target":"#nav-media",type:"button",role:"tab","aria-controls":"nav-media","aria-selected":"true"},on:{click:function(e){return t.mediaType("Media")}}},[t._v("Media")]),e("button",{staticClass:"nav-link",class:{active:"Document"==t.activeMediaType},attrs:{id:"nav-doc-tab","data-bs-toggle":"tab","data-bs-target":"#nav-doc",type:"button",role:"tab","aria-controls":"nav-doc","aria-selected":"false"},on:{click:function(e){return t.mediaType("Document")}}},[t._v("Document")]),e("button",{staticClass:"nav-link",class:{active:"Links"==t.activeMediaType},attrs:{id:"nav-links-tab","data-bs-toggle":"tab","data-bs-target":"#nav-links",type:"button",role:"tab","aria-controls":"nav-links","aria-selected":"false"},on:{click:function(e){return t.mediaType("Links")}}},[t._v("Links")])])]),e("div",{staticClass:"tab-content mt-2",attrs:{id:"nav-tabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-media",role:"tabpanel","aria-labelledby":"nav-media-tab"}},["Media"==t.activeMediaType?e("div",{staticClass:"mediabx p-2"},[e("ul",t._l(t.ChatFileList,(function(a,s){return e("li",{key:s,staticClass:"rounded-3"},[".wav"==a.FILEEXTENSION&&a.FILEPATH?e("audio",{attrs:{controls:""}},[e("source",{attrs:{src:a.FILEPATH,type:"audio/wav"}})]):".jpg"==a.FILEEXTENSION&&a.FILEPATH?e("img",{attrs:{src:a.FILEPATH,alt:"img1"}}):t._e()])})),0)]):"Document"==t.activeMediaType?e("div",{staticClass:"mediabx p-2"},[e("ul",t._l(t.ChatFileList,(function(t,a){return e("li",{key:a,staticClass:"rounded-3"})})),0)]):e("div",{staticClass:"mediabx p-2"},[e("ul",t._l(t.ChatFileList,(function(a,s){return e("li",{key:s,staticClass:"rounded-3"},[".jpg"==a.FILEEXTENSION&&a.FILEPATH?e("img",{attrs:{src:a.FILEPATH,alt:"img1"}}):t._e(),t._v(t._s(a.FILEEXTENSION))])})),0)])]),e("div",{staticClass:"tab-pane fade",attrs:{id:"nav-doc",role:"tabpanel","aria-labelledby":"nav-doc-tab"}},[t._v("...")]),e("div",{staticClass:"tab-pane fade",attrs:{id:"nav-links",role:"tabpanel","aria-labelledby":"nav-links-tab"}},[t._v("...")])])]),t.chatRoom.IS_GROUP?e("div",{staticClass:"members-sidebar border-top pt-3 mt-3"},[e("div",{staticClass:"text-muted"},[e("h5",{staticClass:"font-size-15 mb-1 text-truncate d-flex justify-content-between"},[e("span",[e("i",{staticClass:"fas fa-users me-2"}),t._v(" "+t._s(t.getMembers(t.chatRoom.GROUP_NAME_ALIAS)+" "+t.$t("Members"))+" ")]),e("button",{staticClass:"btn btn-link text-decoration-none text-muted font-size-18 py-0",attrs:{type:"button"},on:{click:t.AddGroupMemeberPopup}},[e("i",{staticClass:"ri-user-add-line"})])])]),e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},t._l(t.store.getUserByGroupId,(function(a,s){return e("li",{key:s},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0"},[e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.avatar?a.avatar:t.defaultImg,alt:""}})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(" "+t._s(a.useR_NAME))]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v(t._s(a.designatioN_NAME))])]),e("div",{staticClass:"font-size-11"},[t._v("Admin")])])])])})),0)]):t._e(),t.chatRoom.IS_GROUP?e("div",{staticClass:"sidebarfoot mt-3 mb-2 pb-2"},[t._m(2),e("p",{staticClass:"text-muted pt-2 font-size-11"},[t._v("Group was created on the 26th of April 2024")])]):t._e()])])])]),e("div",{staticClass:"simplebar-placeholder",staticStyle:{width:"auto",height:"677px"}})]),t._m(3),t._m(4)]),t.IsgroupMemeber?e("div",[e("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title font-size-16",attrs:{id:"addContact-exampleModalLabel"}},[t._v("Update Group")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.closepopup}})]),e("ul",{staticClass:"list-unstyled chat-list chat-user-list group-ad px-2",staticStyle:{height:"300px",overflow:"scroll"}},t._l(t.removeCurrentUserlist(t.store.getContactList),(function(a,s){return e("li",{key:s},[e("a",{staticStyle:{"border-top":"none"},attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img online align-self-center me-3 ms-0"},[e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.USER_IMAGE?a.USER_IMAGE:t.defaultImg,alt:""}}),e("span",{staticClass:"user-status"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.CONTACTNAME))]),e("p",{staticClass:"text-truncate post-title mb-0"},[t._v("Team Lead")])]),e("div",{staticClass:"checkbox-main"},[e("section",[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedMembers,expression:"selectedMembers"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"privacy-lastseenSwitch"},domProps:{value:a.USER_ID,checked:Array.isArray(t.selectedMembers)?t._i(t.selectedMembers,a.USER_ID)>-1:t.selectedMembers},on:{change:function(e){var s=t.selectedMembers,i=e.target,r=!!i.checked;if(Array.isArray(s)){var o=a.USER_ID,l=t._i(s,o);i.checked?l<0&&(t.selectedMembers=s.concat([o])):l>-1&&(t.selectedMembers=s.slice(0,l).concat(s.slice(l+1)))}else t.selectedMembers=r}}})])])])])])])})),0),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-link",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:t.closepopup}},[t._v("Close")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.Updategroup}},[t._v("Update Group")])])])])]):t._e()])},qt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"simplebar-height-auto-observer-wrapper"},[e("div",{staticClass:"simplebar-height-auto-observer"})])},function(){var t=this,e=t._self._c;return e("h5",[e("i",{staticClass:"ri-lock-fill me-2"}),t._v(" Permissions")])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"btn btn-white w-100",attrs:{href:"#"}},[e("i",{staticClass:"ri-logout-box-r-line"}),t._v(" Exit Group")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"simplebar-track simplebar-horizontal",staticStyle:{visibility:"hidden"}},[e("div",{staticClass:"simplebar-scrollbar",staticStyle:{transform:"translate3d(0px, 0px, 0px)",display:"none"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"simplebar-track simplebar-vertical",staticStyle:{visibility:"visible"}},[e("div",{staticClass:"simplebar-scrollbar",staticStyle:{transform:"translate3d(0px, 170px, 0px)",display:"block",height:"159px"}})])}];a("bc3a").default;var Yt={name:"Contact Detail",props:{chatRoom:{type:Object},store:{type:Object}},data(){return{defaultImg:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",ChatFileList:[],activeMediaType:"Media",editGroupName:!1,sender:this.store.GetSenderDetail,IsgroupMemeber:!1,MemberList:[],AllContactList:[],selectedMembers:[]}},sockets:{allChatAttachments:function(t){var e=this;e.ChatFileList=t?t.resultSet:[],console.log("ChatFileList",e.ChatFileList)}},created:async function(){console.log("chatRoom",this.chatRoom.GROUP_ID),await this.store.userByGroupId(`emaiId=${this.store.getUserInformation.Email}&isGroup=1&room=${this.chatRoom.GROUP_ID}`),this.getUserlist(this.store.getUserByGroupId),this.ChatLinkClick(),this.store.getContact("search=&pageSize=&pageNum=&sortBy=&sortExp=&type=company&city=&departmentId=")},mounted(){},methods:{ChatLinkClick(){var t=this,e={};e.room=t.chatRoom.GROUP_ID,e.companyId=t.sender.companyId,e.id=t.sender.id,e.emaiId=t.sender.emaiId,t.$socket.emit("chat All Attachments",e)},removeCurrentUserlist(t){return t.filter(t=>t.USER_ID!=this.sender.id)},mediaType(t){this.activeMediaType=t},closepopup(){this.selectedMembers=[],this.IsgroupMemeber=!1},Updategroup:async function(){var t=this;if(t.selectedMembers.length>2){t.type="web",t.mobileType&&(t.type="mobile");let s={companyId:t.sender.companyId,id:t.sender.id,emaiId:t.sender.emaiId,name:t.sender.name,imgPath:t.sender.getBlobUserUrl,type:t.type};var e=t.selectedMembers.map(t=>t).join(","),a=new Object;a=s,a.room=e.replace(/,/g,"_"),a.alias=t.chatRoom.GROUP_ID,a.for="update",a.groupName=t.chatRoom.GROUP_NAME,t.$socket.emit("createRoom",a),this.IsgroupMemeber=!1,t.Grouptitle="",t.selectedMembers.push({USER_ID:t.GetUserInfo.ID,CONTACTNAME:t.GetUserInfo.Name}),t.groupId=""}else t.ShowAlert(t.$t("Atleast3Members"),"failure",!0,t.$t("Alert"))},getUserlist(t){this.selectedMembers=[],t&&(t.forEach(t=>{this.selectedMembers.includes(t.useR_ID)||this.selectedMembers.push(t.useR_ID)}),console.log(this.selectedMembers))},async updateGroup(t){console.log(t);var e=this;e.groupShow=!0;let a={companyId:e.sender.companyId,userId:e.sender.id,emaiId:e.sender.emaiId,name:e.sender.name,imgPath:e.store.getBlobUserUrl+e.sender.imgPath,type:e.type};var s=new Object;s=a,s.room=e.chatRoom.GROUP_NAME_ALIAS,s.alias=e.chatRoom.GROUP_NAME_ALIAS,s.groupName=e.chatRoom.GROUP_NAME,s.userIds=e.chatRoom.GROUP_NAME_ALIAS.replace(/_/g,","),s.groupId=e.chatRoom.GROUP_ID,s.fromSP=0,s.GROUP_ID_OUT=0,s.isGroupOrNot=1,await e.store.addOrUpdateGroup(s)},handleCheckboxChange(t){},AddGroupMemeberPopup(){this.IsgroupMemeber=!0},GetContactList:async function(){let t=this,e="company",a=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=${e}&city=&departmentId=`;await r["a"].CompanyContact(a).then(e=>{if(null!=e.data){this.MemberList=JSON.parse(e.data);for(let e=0;e<this.MemberList.length;e++)this.MemberList[e].USER_ID!=t.sender.id&&t.AllContactList.push(this.MemberList[e])}})},toggleNameEdit(){this.editGroupName=!this.editGroupName},getMembers:function(t){let e=t.split("_");return e.length}},setup(){}},Jt=Yt,Wt=Object(w["a"])(Jt,Ht,qt,!1,null,null,null),Kt=Wt.exports,Xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-pane fade show active",attrs:{id:"pills-chat",role:"tabpanel","aria-labelledby":"pills-chat-tab"}},[e("div",[e("div",{staticClass:"px-3 pt-3"},[e("h4",{staticClass:"mb-4 d-flex justify-content-between align-items-center"},[t._v("Contacts "),e("span",["listview"==t.contactView?e("span",{staticClass:"gridview",on:{click:function(e){return t.leftContactView("gridview")}}},[e("i",{staticClass:"fas fa-th-large"})]):t._e(),t._v(" "),"gridview"==t.contactView?e("span",{staticClass:"listview",on:{click:function(e){return t.leftContactView("listview")}}},[e("i",{staticClass:"fas fa-list"})]):t._e()])])]),"listview"==t.contactView?e("div",{staticClass:"grid-view"},[t._m(0),e("div",{staticClass:"px-3 pb-4",attrs:{dir:"ltr"}},[e("ul",{staticClass:"nav nav-tabs customtabs",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.changeTabs("company")}}},[e("button",{staticClass:"nav-link",class:{active:"company"==t.activeTab},attrs:{type:"button"}},[t._v("All Contacts")])]),e("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.changeTabs("Department")}}},[e("button",{staticClass:"nav-link",class:{active:"Department"==t.activeTab},attrs:{type:"button"}},[t._v("Department")])]),e("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.changeTabs("location")}}},[e("button",{staticClass:"nav-link",class:{active:"location"==t.activeTab},attrs:{type:"button"}},[t._v("Location")])]),e("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:function(e){return t.changeTabs("Favorite")}}},[e("button",{staticClass:"nav-link",class:{active:"Favorite"==t.activeTab},attrs:{type:"button"}},[t._v("Favorite")])])])]),e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show",class:{active:"company"==t.activeTab}},[e("div",{staticClass:"chat-message-list px-2",attrs:{"data-simplebar":""}},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},t._l(t.store.getContactList,(function(a,s){return e("li",{key:s},[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img online align-self-center me-3 ms-0"},[e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:a.USER_IMAGE?a.USER_IMAGE:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",alt:""}}),e("span",{staticClass:"user-status"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v(t._s(a.CONTACTNAME))]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v(t._s(a.DEPARTMENT_NAME?a.DEPARTMENT_NAME:"-"))])])])])])})),0)])]),e("div",{staticClass:"tab-pane fade show",class:{active:"Department"==t.activeTab}},[e("div",{staticClass:"chat-message-list px-3",staticStyle:{display:"block"},attrs:{"data-simplebar":""}},t._l(t.store.getLeftSideFilter[0].data,(function(a){return e("div",{staticClass:"heading_department_group"},[t._v(t._s(a.department_name)),e("span",[t._v(t._s(a.count))]),e("div",{staticClass:"clear"}),t._m(1,!0)])})),0)]),e("div",{staticClass:"tab-pane fade show",class:{active:"location"==t.activeTab},attrs:{id:"pinned",role:"tabpanel","aria-labelledby":"pinned-tab"}},[t._m(2)]),e("div",{staticClass:"tab-pane fade show",class:{active:"Favorite"==t.activeTab},attrs:{id:"archived",role:"tabpanel","aria-labelledby":"archived-tab"}},[t._m(3)])])]):e("div",{staticClass:"list-view"},[e("div",{staticClass:"px-3 pt-0"},[e("div",{staticClass:"accordion"},t._l(t.store.getLeftSideFilter,(function(a,s){return e("div",{key:s,staticClass:"accordion-item card mb-2",staticStyle:{height:"100%"}},[e("div",{staticClass:"accordion-header",attrs:{id:"departmentinfo"}},[e("button",{staticClass:"accordion-button",class:{collapsed:t.activeDepLoc!=a.type},attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#department","aria-expanded":"true","aria-controls":"department"},on:{click:function(e){return t.expendDiv(a.type)}}},[e("h5",{staticClass:"font-size-14 m-0"},[t._v(t._s(a.type))])])]),t.activeDepLoc==a.type?e("div",{staticClass:"accordion-collapse collapse show",staticStyle:{height:"100%"},attrs:{id:"department","aria-labelledby":"departmentinfo","data-bs-parent":"#settingprofile"}},[e("div",{staticClass:"accordion-body p-2 chat-message-list",attrs:{"data-simplebar":""}},t._l(a.data,(function(a){return e("div",{key:a.department_id,staticClass:"d-flex justify-content-between mb-2"},[e("p",{staticClass:"font-size-14 text-muted mb-2"},[t._v(t._s(a.department_name))]),e("h5",{staticClass:"font-size-14"},[t._v(t._s(a.count))])])})),0)]):t._e()])})),0)])])])])},Qt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"px-3"},[e("div",{staticClass:"search-box chat-search-box"},[e("div",{staticClass:"input-group mb-3 rounded-3"},[e("input",{staticClass:"form-control bg-light",attrs:{type:"text",placeholder:"Search","aria-label":"Search messages or users","aria-describedby":"basic-addon1"}}),e("span",{staticClass:"input-group-text text-muted bg-light pe-3 ps-3 border-0",attrs:{id:"basic-addon1"}},[e("i",{staticClass:"ri-search-line search-icon font-size-18"})])])])])},function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},[e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0"},[e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle"},[t._v(" R ")])])]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v("Rattie Bushgjgjg")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Hi, I'm happy to join")])]),e("div",{staticClass:"font-size-11"},[t._v("15 min")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0"},[e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle"},[t._v(" R ")])])]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v("Rattie Bush")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Hi, I'm happy to join")])]),e("div",{staticClass:"font-size-11"},[t._v("15 min")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0"},[e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle"},[t._v(" R ")])])]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v("Rattie Bush")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Hi, I'm happy to join")])]),e("div",{staticClass:"font-size-11"},[t._v("15 min")])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"chat-message-list px-3",attrs:{"data-simplebar":""}},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},[e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img align-self-center me-3 ms-0"},[e("div",{staticClass:"avatar-xs"},[e("span",{staticClass:"avatar-title rounded-circle bg-red-subtle"},[t._v(" R ")])])]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v("Rattie Bush")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Hi, I'm happy to join")])]),e("div",{staticClass:"font-size-11"},[t._v("15 min")])])])]),e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"chat-user-img online align-self-center me-3 ms-0"},[e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:"assets/images/users/avatar-4.jpg",alt:""}}),e("span",{staticClass:"user-status"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v("Virgie Arnold")]),e("p",{staticClass:"chat-user-message text-truncate mb-0"},[t._v("Hi, I'm happy to join")])]),e("div",{staticClass:"font-size-11"},[t._v("15m")])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"chat-message-list px-3",attrs:{"data-simplebar":""}},[e("ul",{staticClass:"list-unstyled chat-list chat-user-list"},[e("li",[e("a",{attrs:{href:"#"}},[e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"chat-user-img offline align-self-center me-3 ms-0"},[e("img",{staticClass:"rounded-circle avatar-xs",attrs:{src:"assets/images/users/avatar-6.jpg",alt:""}}),e("span",{staticClass:"user-status"})]),e("div",{staticClass:"flex-grow-1 overflow-hidden"},[e("h5",{staticClass:"text-truncate font-size-14 mb-1"},[t._v("Derrick Webster")])])])])])])])}],Zt={name:"LeftContactTab",components:{},props:{store:{type:Object}},created:function(){this.store.getContact(`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=${this.activeTab}&city=&departmentId=`),this.store.leftSideFilter()},methods:{async changeTabs(t){this.activeTab=t,await this.store.getContact(`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=${t}&city=&departmentId=`)},expendDiv(t){this.activeDepLoc==t?this.activeDepLoc="":this.activeDepLoc=t},leftContactView(t){this.contactView=t,this.$parent.contactChatChange(t)}},data(){return{contactView:"listview",activeTab:"company",activeDepLoc:""}},setup(){}},te=Zt,ee=Object(w["a"])(te,Xt,Qt,!1,null,null,null),ae=ee.exports,se={components:{ChatTabVue:M,MessageBoard:L,Call:et,Contacts:lt,Meeting:pt,DeviceSetup:Ot,LeftChatTab:Vt,VideoCall:zt["default"],ContactDetail:Kt,ContactLeftTab:ae},data(){return{ProjectiId:null,uploadUrl:"https://qatestfilemedia.talygen.com/api/UploadStreamNew",location:null,departmentid:null,Groupdata:[],ToDate:"",FromDate:"",tempProjectList:[],ProjectTablist:[],id:"",refId:"",search:"",moduleName:"PROJECT",isShowChatTab:!1,isMeassgeBoard:!1,isContact:!1,isCall:!1,isMeeting:!1,title:this.$t("Chats"),isMobile:!1,name:"",emaiId:"",mobileType:"",type:"web",companyId:null,imgPath:"",sender:{},ticketId:null,chatUsersList:[],isMobileNewChat:0,ChatUserListData:[],selectFilter:"",selectChildFilter:"",chatHistoryDetails:[],groupNameDisplay:"",chatUserInfo:"",UserAvatar:"",GroupAliasName:"",userGroupId:null,isLoading:!1,isUploadFile:!1,AttachmentFileDetail:[],tmpChatUserList:[],visiblePop:"",txtSearchChatGroups:"",txtGlobalSearch:"",GlobalSearchListData:[],isShowGlobalSearch:!1,isCreateGroup:!1,activeTabProp:"",expandColapseTab:"",txtSearchProject:"",isDataLoaded:!0,activeTabAngle:"fa fa-angle-right",phoneNumber:"",deviceSetupActive:!1,blobUserUrl:"",tempProjectsList:[],defaultImg:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",pageHeight:window.innerHeight-115,pageHeightScroll:window.innerHeight,pageWidth:window.innerWidth,LabelUserName:"",callSatus:"",sideBarContactFiletr:{type:"",id:""},RecieverId:"",refblinkRepliedText:"",searchByGlobal:"",isTypingImage:"https://talygenv.github.io/Vue-UI-Content/images/UC/typingo.gif",isShowTypingForLeft:!1,isTypingToGroup:"",leftIsTyping:"https://talygenv.github.io/Vue-UI-Content/images/UC/texttype.gif",totalUnreadCount:0,isUserLoggedInId:[],blinkUserId:null,UsersListData:[],lgId:0,AllContactList:[],filterUsersForchat:[],headphonesConnected:!1,SavedFileId:null,fileInProgress:!1,progressValue:0,callToUserInfo:"",localMediaStream:null,ICE_SERVERS:[{urls:"stun:stun.talygen.com:5349"},{urls:"turn:turn.talygen.com:5349",username:"eriklensherr",credential:"yWtxxC#85BcFH~5"}],peer_connection:"",peers:{},peer_media_elements:{},MUTE_AUDIO_BY_DEFAULT:!1,groupName:"",showPlaceholder:!0,inComingCallingPopup:!1,incomingVideoCallinfo:"",incomingOutGoingParams:"",muteUnmute:"mute",videoCallShow:!1,isOnline:!0,connectedSockets:[],CurrnetOnlineUsers:[],sender:this.store.GetSenderDetail,videoCallCounting:0,contactDetailShow:!1,roomDetails:"",incomingaudiocallpopup:!1,IsaudiocallStarted:!1,audioCallPopupShow:!1,callType:"",videoSwapped:!1,gridOrlistViiew:"listView"}},sockets:{getGlobalSearchDataOut:function(t){this.getGlobalSearchData(t)},erorrMessage:function(t,e,a){this.erorrMessage(t,e,a)},duplicateGroup:function(t){var e=this;e.$refs.leftChatTab.JoinRooms(t.calltype)},totalResult:function(t){var e=this;e.totalUnreadCount=0,console.log("parseInt(data.cnt)",parseInt(t.cnt)),t.userId==e.sender.id&&(parseInt(t.cnt)>=99?e.totalUnreadCount=99:e.totalUnreadCount=parseInt(t.cnt))},tabBlinkNewMessage:async function(t){var e=this,a=e.store.getRecentChatUser.find(e=>e.GROUP_ID==t.roomId);e.isUserLoggedInId=a.GROUP_NAME_ALIAS.split("_"),0==e.$refs.pillsChatTab.classList.contains("active")?(e.blinkUserId=e.sender.id,e.isUserLoggedInId.forEach(t=>{t==e.blinkUserId&&(e.lgId=t)}),setTimeout((function(){e.lgId=0,setTimeout((function(){1!=e.chatTab&&e.$refs.pillsChatTab.classList.remove("active")}),10)}),1e4)):1==e.$refs.pillsChatTab.classList.contains("active")||(e.isUserLoggedInId=0,e.lgId=0),await e.$socket.emit("get All Chat Persons",e.sender);let s={companyId:e.sender.companyId,userId:e.sender.id,emaiId:e.sender.emaiId,name:e.sender.name,imgPath:e.store.getBlobUserUrl+e.sender.imgPath,type:e.type};e.$socket.emit("user total",s)},newRoomVideo:function(t){this.videoPopUpCall(t,0,"")},addPeer:function(t){var e=t.peer_id,a=t.peer_id;e in this.peers?console.log("Already connected to peer ",e):(this.peer_connection=this.createPeerConnection(e),this.peers[e]=this.peer_connection,this.setupIceCandidateHandler(this.peer_connection,e),this.setupAddStreamHandler(this.peer_connection,a,e),this.peer_connection.addStream(this.localMediaStream),t.should_create_offer&&this.createAndSendOffer(this.peer_connection,e))},getvideoCallReceiver:function(t){Number(t.toUserId)==this.store.getUserInformation.ID&&("audio"==t.calltype?this.incomingaudiocallpopup=!0:this.inComingCallingPopup=!0,this.incomingVideoCallinfo=t)},ChannelJoinVideo:function(t){this.$socket.emit("joinVideo",{channel:t.room,userdata:t.id})},getNewVideo:function(t){if(this.sender.id==t.id){let e=this.sender;const[a,s,i]=t.room.split("~");e.room=i,e.alias=s,e.token=a,e.receiver=t.receiver,e.calltype=t.calltype,e.isSender=0,e.Receiver_name=this.replaceAll(t.contactname,"%20"," "),this.incomingOutGoingParams=e,this.VideoCallPopUP(e),setTimeout(()=>{this.openRoomChat(e.room,this.sender,null,!1)},1e3)}},sessionDescription:function(t){const e=t.peer_id;if(this.peers){const a=this.peers[e],s=t.session_description,i=new RTCSessionDescription(s);a&&a.setRemoteDescription(i).then(()=>{if("offer"===s.type)return a.createAnswer()}).then(t=>a.setLocalDescription(t)).then(()=>{this.$socket.emit("relaySessionDescription",{peer_id:e,session_description:a.localDescription})}).catch(t=>{console.log("Error setting remote description or creating answer: ",t)})}},iceCandidate:function(t){console.log("iceCandidate",t);var e=this.peers[t.peer_id],a=t.ice_candidate;e.addIceCandidate(new RTCIceCandidate(a))},removePeer:function(t){var e=t.peer_id;e in this.peer_media_elements&&this.ShowAlert(this.$t("VideoDisconnect"),"failure",!0,this.$t("Alert")),e in this.peers&&this.peer[e].close(),delete this.peers[e],delete this.peers[t.peer_id],null!=this.localMediaStream&&(this.localMediaStream.getTracks().forEach((function(t){t.stop()})),this.localMediaStream=null,this.peers={},this.peers={}),this.incomingOutGoingParams="",this.videoCallShow=!1,this.audioCallPopupShow=!1},rejectNewVideo:function(t){this.sender.id!=Number(t.id)&&this.sender.id!=Number(t.receiver)||(this.handleRejectNewVideo(t),clearInterval(this.started),this.videoCallCounting=0)},GetChatUserStatus:function(t){console.warn("isOnline11111",t)},updateUserList:function(t){var e=this;console.log("isOnline22222",t),e.isOnline=!0}},created:async function(){await this.store.GetBlobUrl(),this.LabelUserName=this.GetUserInfo?this.GetUserInfo.Name:"",this.tempProjectsList=this.ProjectTablist,this.isShowChatTab=!0,this.isCall=!1,this.isDataLoaded=!1;let t={companyId:this.store.getUserInformation.CompanyId,userId:this.store.getUserInformation.ID,emaiId:this.store.getUserInformation.Email,name:this.store.getUserInformation.Name,imgPath:this.blobUserUrl+this.store.getUserInformation.Avatar,type:this.type};this.$socket.emit("user total",t),this.tmpChatUserList=[...this.ChatUserListData],this.tmpAllContactUserList=[...this.AllContactList],this.$socket.emit("onlineUser",this.store.getUserInformation),this.ChatTabClick()},beforeDestroy(){},mounted:async function(){if(await this.store.GetTwilioUserConfigDetail(),this.store.getTwilioAccountDetails){if(await this.$socket.emit("twilioDetails",this.store.getTwilioAccountDetails),await this.updateDevices(),1!=this.headphonesConnected)return void console.log("selectAudioOutput() not supported or not in secure context.");this.getToken()}},methods:{videoPopUpCall(t,e,a){var s=this.sender;s.room=t.room,s.calltype=t.calltype,s.isGroup=0,s.aliasSel=a+"_"+this.store.getUserInformation.ID,s.alias=this.store.getUserInformation.ID+"_"+this.callToUserInfo.USER_ID,s.IsSel=e,s.receiver=this.callToUserInfo.USER_ID,s.isSender=1,s.token="",e.length>0?s.IdList=s.aliasSel+"_"+s.id:s.IdList=s.alias,this.incomingOutGoingParams=s,this.setup_local_media(s)},createPeerConnection(){return new RTCPeerConnection({iceServers:this.ICE_SERVERS},{optional:[{DtlsSrtpKeyAgreement:!0}]})},VideoCallPopUP(t){if(this.callToUserInfo=t,1==t.isSender)t.groupName=t.name;else{try{t.groupName=t.Receiver_name}catch(e){alert(e)}this.inComingCallingPopup=!1,this.incomingaudiocallpopup=!1}this.setup_local_media(t)},videoCreate(t){this.callToUserInfo=t;var e=t.USER_ID,a={emaild:this.store.getUserInformation.Email,name:this.store.getUserInformation.ame,id:this.store.getUserInformation.ID,type:"web",companyId:this.store.getUserInformation.CompanyId,imgPath:this.store.getUserInformation.Avatar,userType:"vdrt",alias:this.store.getUserInformation.ID+"_"+e,room:this.store.getUserInformation.ID+"_"+e,isSender:1,IdList:this.store.getUserInformation.ID+"_"+e,IS_GROUP:0,calltype:t.calltype};this.callType=t.calltype,t.IS_GROUP?(a.alias=t.GROUP_NAME_ALIAS,a.IS_GROUP=1,a.room=t.room,this.videoPopUpCall(t,1,a.alias)):(a.alias=this.store.getUserInformation.ID+"_"+e,this.$socket.emit("createRoom",a))},attachMediaStream(t,e){console.log("DEPRECATED, attachMediaStream will soon be removed."),t.srcObject=e},setup_local_media(t,e,a){if(this.started=setInterval(this.clockRunning,1e3),null===this.localMediaStream){var s=/constructor/i.test(window.HTMLElement)||function(t){return"[object SafariRemoteNotification]"===t.toString()}(!window["safari"]||"undefined"!==typeof s&&window["safari"].pushNotification);if(s)try{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.mediaDevices.getUserMedia({audio:{sampleSize:8,echoCancellation:{exact:!0},noiseSuppression:!1,autoGainControl:!0},video:{mirrored:!1,frameRate:{ideal:10,max:15}}},a=>{this.$refs.localVideo.srcObject=a,console.log("Access granted to audio/video"),1==t.isSender&&this.$socket.emit("video call",t),this.localMediaStream=a,this.attachMediaStream(this.$refs.localVideo,a),1!=t.isSender&&this.$socket.emit("joinVideo",{channel:t.token,userdata:this.store.getUserInformation.ID}),e&&e()},()=>{console.log("Access denied for audio/video"),this.ShowAlert(this.$t("Camera_Access_Connect"),"failure",!0,this.$t("Alert")),a&&a()})}catch(i){alert(i)}else navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia({audio:{sampleSize:8,echoCancellation:{exact:!0},noiseSuppression:!1,autoGainControl:!0},video:"audio"!=t.calltype},a=>{"audio"==t.calltype?this.audioCallPopupShow=!0:this.videoCallShow=!0,setTimeout(()=>{1==t.isSender&&this.$socket.emit("video call",t),this.localMediaStream=a,"audio"==t.calltype?(this.$refs.localAudio.srcObject=a,this.attachMediaStream(this.$refs.localAudio,a)):(this.$refs.localVideo.srcObject=a,this.attachMediaStream(this.$refs.localVideo,a)),1!=t.isSender&&this.$socket.emit("joinVideo",{channel:t.token,userdata:this.store.getUserInformation.ID,calltype:t.calltype}),e&&e()},100)},()=>{console.log("Access denied for audio"),this.ShowAlert(this.$t("Camera_Access_Connect"),"failure",!0,this.$t("Alert")),a&&a()})}else e&&e()},setupIceCandidateHandler(t,e){t.onicecandidate=t=>{t.candidate&&this.$socket.emit("relayICECandidate",{peer_id:e,ice_candidate:{sdpMLineIndex:t.candidate.sdpMLineIndex,candidate:t.candidate.candidate}})}},setupAddStreamHandler(t){t.onaddstream=t=>{console.log("onAddStream",t),this.showPlaceholder=!1,this.attachMediaStream("audio"==this.callType?this.$refs.remoteAudio:this.$refs.remoteVideo,t.stream)}},createAndSendOffer(t,e){t.createOffer().then(e=>t.setLocalDescription(e)).then(()=>{this.$socket.emit("relaySessionDescription",{peer_id:e,session_description:t.localDescription})}).catch(t=>{console.log("Error sending offer: ",t)})},VideoCallPickupMethod(t){var e=this.incomingVideoCallinfo.roomId+"~"+this.incomingVideoCallinfo.actRoom+"~"+this.incomingVideoCallinfo.actRoomId,a=this.incomingVideoCallinfo.fromUserId,s=this.incomingVideoCallinfo.fromName,i=new Object;i.receiver=a,i.contactname=s,i.id=this.store.getUserInformation.ID,i.calltype=this.incomingVideoCallinfo.calltype,"tokBox"==t?(i.path=e,this.$socket.emit("add video on chat tokBox",i)):(i.room=e,this.$socket.emit("add video on chat",i))},clockRunning(){this.videoCallCounting=this.videoCallCounting+1},GetStatus(t){const e=t;e&&this.$socket.emit("get Open Chat User Status",e)},disconnectVideo(){clearInterval(this.started),this.videoCallCounting=0,null!=this.localMediaStream&&(this.localMediaStream.getTracks().forEach((function(t){t.stop()})),this.localMediaStream=null,this.peers={},this.peers={}),this.videoCallShow=!1,this.audioCallPopupShow=!1,this.inComingCallingPopup=!1,this.incomingaudiocallpopup=!1,this.$socket.emit("video call reject",this.incomingOutGoingParams)},handleRejectNewVideo(){null!=this.localMediaStream&&(this.localMediaStream.getTracks().forEach((function(t){t.stop()})),this.localMediaStream=null,this.peers={}),this.videoCallShow=!1,this.audioCallPopupShow=!1,this.inComingCallingPopup=!1,this.incomingaudiocallpopup=!1},replaceAll(t,e,a){return t.replace(new RegExp(e,"g"),a)},closeVideo(){this.videoCallShow=!1,this.audioCallPopupShow=!1,this.inComingCallingPopup=!1,this.callToUserInfo=""},muteOrUnmute(){this.muteUnmute="fa-microphone-slash"==this.muteUnmute?"fa-microphone":"fa-microphone-slash","fa-microphone-slash"==this.muteUnmute?this.localMediaStream.getAudioTracks()[0].enabled=!this.localMediaStream.getAudioTracks()[0].enabled:(this.localMediaStream.getAudioTracks()[0].enabled=!this.localMediaStream.getAudioTracks()[0].enabled,this.localMediaStream.getAudioTracks()[0].stop())},toggleFullscreen(t){document.fullscreenElement?document.exitFullscreen():t.requestFullscreen().catch(t=>{console.error(`Error attempting to enable full-screen mode: ${t.message} (${t.name})`)})},swapVideos(){this.videoSwapped=!this.videoSwapped},async updateDevices(){let t=await navigator.mediaDevices.enumerateDevices();this.headphonesConnected=t.length>0},ticketReceiver(t){let e=this;e.isShowChatTab=!0,e.isContact=!1,setTimeout(()=>{console.log("checkk",e.$refs.leftChatTab),e.$refs.leftChatTab.OpenTicketReceiver(t)},100)},truncateMessage(t){const e=200;var a=/(https?:\/\/.*\.(?:gif))/i,s=a.test(t);if(/<img[^>]+src="([^">]+)"/.test(t)||s)t=t.replace(/<img[^>]+src="([^">]+)"(?: alt="[^"]*")?(?: style="[^">]*")?>/,"[GIF]");else if(t.length>e)return t.substring(0,e)+"...";return t},secondsToHms(t){if(t){var e=parseInt(t,10),a=Math.floor(e/3600),s=Math.floor(e/60)%60,i=e%60;return[a,s,i].map(t=>t<10?"0"+t:t).filter((t,e)=>"00"!==t||e>0).join(":")}return""},clearProjectSeachBox:function(){var t=this;t.txtSearchProject="",t.ProjectTablist=t.tempProjectsList},clearTextFromChatGroups:function(){var t=this;t.txtSearchChatGroups="",t.ChatUserListData=t.tmpChatUserList},hangup(){this.store.hangup()},numberDail(t){console.log("checkk",this.dailNumber),this.dailNumber=t},incomingCallPick(t){this.store.$state.callEnded=!1,this.store.contactInformation("phone="+encodeURIComponent(this.store.getIncomingCallData.parameters.From)),this.store.clearInterval(),this.store.$state.outGoingcallData="",t.accept(),this.CallsTabClick(),this.store.callTabsInformation({params:"mobileNum="+encodeURIComponent(this.store.getIncomingCallData.parameters.From),tab:"Ticket"}),this.dailNumber=""},callStatus(t){this.callSatus=t},async getToken(){var t=this;if(await t.updateDevices(),t.headphonesConnected)if(this.store.getTwilioAccountDetails){var e=["first","second","third","user","callUser"],a=e[Math.random()*e.length|0];await t.$socket.emit("getToken",{identity:a},(function(e){t.store.$state.callToken=e.deviceToken,t.store.intitializeDevice()}))}else t.ShowAlert(t.$t("CreateAccount"),"warning",!0,t.$t("Alert"));else t.ShowAlert(t.$t("ConnectDevice"),"warning",!0,t.$t("Alert"))},openFileInput:function(){document.getElementById("up").click()},VoiceCallClickToUser:function(){var t=this;t.ShowAlert(t.$t("MobileNotAvailable"),"failure",!0,t.$t("Alert"))},ActiveProjectListTab:function(){var t=this;"active"==t.activeTabProp?(t.activeTabProp="",t.activeTabAngle="fa fa-angle-right",t.expandColapseTab="none"):(t.activeTabProp="active",t.activeTabAngle="fa fa-angle-down",t.expandColapseTab="block")},closeGroup(){this.isCreateGroup=!1},chatOpen(){this.$refs.chatTab.checkScreenAndAddCall()},Filter(t){this.chatUserInfo="",t==this.selectFilter?this.selectFilter="":this.selectFilter=t,this.selectChildFilter=""},getStartOfWeek(t){return t=t?new Date(+t):new Date,t.setHours(0,0,0,0),t.setDate(t.getDate()-t.getDay()),t},getEndOfWeek(t){return t=this.getStartOfWeek(t),t.setDate(t.getDate()+6),t},callFilter(t){t==this.selectFilter?this.selectFilter="":this.selectFilter=t,this.selectChildFilter="";var e=this;let a=null,s=null;if("All"==t)s=null,a=null;else if("Today"==t){const t=c()();s=t.format(C["a"]);const e=c()();a=e.format(C["a"])}else if("Yesterday"==t){const t=c()(),e=c()(t).subtract(1,"days");a=e.format(C["a"]);const i=c()(t).subtract(1,"days");s=i.format(C["a"])}else if("thisWeek"==t){const t=c()(e.getEndOfWeek(c()()));a=t.format(C["a"]);const i=c()(e.getStartOfWeek(c()()));s=i.format(C["a"])}else if("thisMonth"==t){const t=c()();a=t.format(C["a"]);var i=t.format("DD");const e=c()(t).subtract(parseInt(i)-1,"days");s=e.format(C["a"])}else if("LastMonth"==t){var r=c()();const t=r.subtract(1,"months").startOf("month");s=t.format(C["a"]);const e=r.endOf("month").subtract(1,"days");a=e.format(C["a"])}s&&a&&(s+=" 00:00:00",a+=" 23:59:59"),this.store.recentCalls(`fromDate=${encodeURIComponent(s)}&toDate=${encodeURIComponent(a)}&isLocalSearch=false`)},FilterChat(t){var e=this;if(e.selectFilter=t,"All"==t)e.FromDate=null,e.ToDate=null;else if("Today"==t){const t=c()();e.FromDate=t.format("MM/DD/YYYY");const a=c()();e.ToDate=a.format("MM/DD/YYYY")}else if("Yesterday"==t){const t=c()(),a=c()(t).subtract(1,"days");e.ToDate=a.format("MM/DD/YYYY");const s=c()(t).subtract(1,"days");e.FromDate=s.format("MM/DD/YYYY")}else if("thisWeek"==t){const t=c()();e.ToDate=t.format("MM/DD/YYYY");const a=c()(t).subtract(7,"days");e.FromDate=a.format("MM/DD/YYYY")}else if("thisMonth"==t){const t=c()();e.ToDate=t.format("MM/DD/YYYY");var a=t.format("DD");const s=c()(t).subtract(parseInt(a)-1,"days");e.FromDate=s.format("MM/DD/YYYY")}else if("LastMonth"==t){var s=c()();const t=s.subtract(1,"months").startOf("month");e.FromDate=t.format("MM/DD/YYYY");const a=s.endOf("month").subtract(1,"days");e.ToDate=a.format("MM/DD/YYYY")}e.FromDate&&e.ToDate&&(e.FromDate=e.FromDate+" 00:00:00",e.ToDate=e.ToDate+" 23:59:59")},ChatTabClick:async function(t){var e=this;e.isShowChatTab=!0,e.isMeassgeBoard=!1,e.isContact=!1,e.isCall=!1,e.isMeeting=!1,e.deviceSetupActive=!1,e.title=e.$t("Chats");let a="company",s=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=${a}&city=&departmentId=`;if(await e.store.getContact(s),"contactPage"==t){var i=document.getElementById("pills-contacts-tab");i.classList.remove("active");var r=document.getElementById("pills-chat-tab");r.classList.add("active")}},ContactsTabClick:function(){var t=this;t.isMeassgeBoard=!1,t.isShowChatTab=!1,t.isContact=!0,t.isCall=!1,t.isMeeting=!1,t.isCreateGroup=!1,t.deviceSetupActive=!1,t.title=t.$t("Contacts")},callFromOtherTab(t){var e=this;e.dailNumber=t,e.phoneNumber=t,e.isShowChatTab=!1,e.isContact=!1,e.isCall=!0,e.isMeeting=!1,e.deviceSetupActive=!1,e.title=e.$t("Calls");var a=document.getElementById("pills-contacts-tab");a.classList.remove("active");var s=document.getElementById("pills-user-tab");s.classList.add("active")},CallsTabClick:function(){var t=this;t.isShowChatTab=!1,t.isContact=!1,t.isCall=!0,t.isMeeting=!1,t.deviceSetupActive=!1,t.callFilter("All"),t.title=t.$t("Calls")},MeetingsTabClick:function(){var t=this;t.isShowChatTab=!1,t.isContact=!1,t.isCall=!1,t.isMeeting=!0,t.deviceSetupActive=!1,t.title=t.$t("Meetings")},deviceSetupTab:function(){var t=this;t.isShowChatTab=!1,t.isContact=!1,t.isCall=!1,t.isMeeting=!1,t.selectFilter="Call",t.deviceSetupActive=!0,t.title=t.$t("Setting")},getUrlVars(){for(var t,e=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<a.length;s++)t=a[s].split("="),e.push(t[0]),e[t[0]]=t[1];return e},DateDifference(t){var e=this,a=new Date,s=Math.ceil(Math.floor(a.getTime()-new Date(t).getTime())/1e3),i=Math.floor(s/3600),r=s%3600,o=Math.floor(r/60),l=Math.floor(s/86400);if(s<60)return e.$t("Just now");if(s<120)return e.$t("minutes ago");if(s<2700)return o+" "+e.$t("minutes ago");if(s<5400)return e.$t("an")+" "+e.$t("hour ago");if(s<86400)return i+" "+e.$t("hour ago");if(s<172800)return e.$t("Yesterday");if(s<2592e3)return l+" "+e.$t("days ago");if(s<31104e3){var n=Math.floor(l/30);return n<=1?"1 "+e.$t("months ago"):n+" "+e.$t("months ago")}var c=Math.floor(l/365);return c<=1?"1 "+e.$t("years ago"):c+" "+e.$t("years ago")},openAttachmentPop:function(){var t=this;t.isUploadFile=!0},closeAttachmentPop:function(){var t=this;t.AttachmentFileDetail=[],t.isUploadFile=!1},SearchProject:function(t){var e=this;if("Backspace"!=t.key){e.ProjectTablist=[];const t=e.tempProjectsList.filter(t=>"string"===typeof t.name&&t.name.toLowerCase().includes(e.txtSearchProject.toLowerCase()));e.ProjectTablist=t}else if("Backspace"===t.key||"Delete"===t.key){e.ProjectTablist=[];const t=e.tempProjectsList.filter(t=>"string"===typeof t.name&&t.name.toLowerCase().includes(e.txtSearchProject.toLowerCase()));e.ProjectTablist=t}else e.ProjectTablist=e.tempProjectsList},erorrMessageDetails:function(t){var e=this;e.sender.id==t.userId&&e.ShowAlert(t.err,"failure",e.$t("Alert"))},deletePopupClose(){this.visiblePop=""},ShowActionButtons:function(t){var e=this;e.visiblePop!=t?e.visiblePop=t:e.visiblePop=""},UsrDeleteHistory:async function(t,e){var a=this;a.confirmR("User"==e?a.$t("ConfirmDeleteUser"):a.$t("ConfirmHistoryDelete"),!0,a.$t("Delete")+"  "+a.$t("communication"),(function(){var s=a.sender,i=new Object;i=s,i.id=s.id.toString(),i.room=t.GROUP_ID,i.groupId=t.GROUP_ID,i.chatLogId=0,i.act_room=t.GROUP_NAME_ALIAS,i.proc=e,a.$socket.emit("delete group",i),a.readMessageUpdate(t.GROUP_ID,a.sender),a.$refs.leftChatTab.ConnectIO(),a.$refs.leftChatTab.JoinRooms(t);let r={companyId:a.store.GetUserInfo.CompanyId,userId:a.store.getUserInformation.ID,emaiId:a.store.getUserInformation.Email,name:a.store.getUserInformation.Name,imgPath:a.blobUserUrl+a.store.getUserInformation.Avatar,type:a.type};a.$socket.emit("user total",r)}))},SearchTextGlobally:function(){var t=this,e={};""!=t.txtGlobalSearch.trim()&&(e.companyId=t.sender.companyId,e.id=t.sender.id,e.searchKeyword=t.txtGlobalSearch,t.$socket.emit("getGlobalSearchData",e,(function(){})))},byGroup(t){const e=[],a=t.map(t=>t.MODULE_TYPE),s=[...new Set(a)];for(let i of s){const a={brandname:i};a.items=t.filter(t=>t.MODULE_TYPE===i).map(t=>({...t})),e.push(a)}return e},getGlobalSearchData:function(t){var e=this;e.isShowGlobalSearch=!0,e.GlobalSearchListData=e.byGroup(t)},CrossForGlobalSearch:function(){var t=this;t.txtGlobalSearch="",t.GlobalSearchListData=[],t.isShowGlobalSearch=!1},openChatFromGlobalSearch:async function(t){var e=this;if("CHAT"==t.MODULE_TYPE){await e.ChatTabClick();var a=e.store.getRecentChatUser.find(e=>e.GROUP_ID==t.GROUP_ID);await e.$refs.leftChatTab.JoinRooms(a),e.$refs.chatTab.ShowTransitionOnReply(t,"fromGlobalSearch")}else"CONTACT"==t.MODULE_TYPE&&e.ContactsTabClick()},ContactdataFilter:function(){this.departmentid=null},CreateGroupClick:function(){var t=this;t.isCreateGroup=!0},detailpopup(t){this.roomDetails=t.data,this.contactDetailShow=t.show},themeChange(){const t=document.querySelector("body");let e="dark"==t.getAttribute("data-bs-theme")?"light":"dark";t.setAttribute("data-bs-theme",e)},toggleAudioAndVideo(){this.pauseResumeVideo="pause"===this.pauseResumeVideo?"resume":"pause";const t=this.localMediaStream.getVideoTracks()[0];t&&(t.enabled="pause"!==this.pauseResumeVideo)},contactChatChange(t){this.gridOrlistViiew=t}},setup(){const t=g();return{store:t,secondsToHms:C["f"]}}},ie=se,re=(a("ee10"),Object(w["a"])(ie,s,i,!1,null,null,null));e["default"]=re.exports},9544:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div")},i=[]},"987f":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".reply-form-without-focus{width:300px;transition:all 15ms ease}.reply-form-without-focus .msgrightt{padding:4px!important}.reply-form-without-focus .textarea_forComment{height:35px!important;min-height:35px!important;padding:6px;transition:all 15ms ease}.reply-form-without-focus .dev_divFilesMessageComment{min-height:35px!important}.multiselect-item.multiselect-group a{color:#777}#div_closeAddMessageBox{right:15px!important}.teaminfo-header{padding:0 15px!important}.bottom-btn{padding:0 12px}.div_selectedFile span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px;display:block}.div_selectedFile{display:flex}.reply-form-without-focus .div_selectedFile{padding:5px 7px}.reply-form-without-focus .div_selectedFile span{width:17px}.reply-form-without-focus .div_selectedFile a{padding:3px 3px 3px 5px!important}textarea.form-control{white-space:break-space!important}#divFileMessage input{line-height:25px;width:85%;float:left;height:42px}ul.innerulli{padding:15px;margin:0;float:left}ul.innerulli li{list-style:none}.ScrollStyle{max-height:150px;overflow-y:scroll}",""]),t.exports=e},a25d:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"video[data-v-140ed277]{max-width:100%;height:auto;margin-bottom:10px}",""]),t.exports=e},a380:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".message-footer2{position:relative;margin:0 auto;border-radius:3px;border:1px solid #dadada;background:#fff;display:flex;flex-direction:column}",""]),t.exports=e},bb24:function(t,e,a){var s=a("71f0");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("986e18bc",s,!0,{sourceMap:!1,shadowMode:!1})},d8ba:function(t,e,a){"use strict";var s=a("9544"),i=a("6675"),r=a("2877"),o=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=o.exports},e0a3:function(t,e,a){var s=a("a25d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("3f9d7c48",s,!0,{sourceMap:!1,shadowMode:!1})},e6b0:function(t,e){},ee10:function(t,e,a){"use strict";a("bb24")},f387:function(t,e,a){"use strict";a("e0a3")}}]);
//# sourceMappingURL=chunk-7a2c2fd9.js.map