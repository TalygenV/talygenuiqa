(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50f25fc3"],{"0174":function(t,e,a){"use strict";a("4195")},"0249":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".nav-pills .nav-link.active,.nav-pills .show>.nav-link{background:#3e4a58!important;border-radius:0}.nav-pills .nav-link{border-radius:0}.sm-leftmenu ul{display:contents}.group-list{overflow-y:hidden}.group-list:hover{overflow-y:auto}.department-listing::-webkit-scrollbar{width:5px}.department-listing::-webkit-scrollbar-track{background:transparent}.department-listing::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:10px}.department-listing{transition:overflow-y .5s ease}.department-listing:hover{overflow-y:auto}.Project-listing::-webkit-scrollbar{width:5px}.Project-listing::-webkit-scrollbar-track{background:transparent}.Project-listing::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:10px}.Project-listing{overflow-y:hidden;transition:overflow-y .5s ease}.modal-wrapper,.Project-listing:hover{overflow-y:auto}.modal-wrapper{position:fixed;top:50%;left:0;transform:translateY(-50%);width:300px;max-height:90%;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.1);z-index:1000}.modal-header{cursor:move;background:#f2f2f2;padding:10px;border-bottom:1px solid #ccc}.video-call{padding:10px}#remotes{position:relative;max-height:450px;overflow:hidden}.remote-video{width:100%;height:auto}.local-video{position:absolute;bottom:10px;right:10px;width:45%!important;height:auto;border:2px solid #fff}.icons.buttons{text-align:center;margin-top:10px}.icons.buttons a{margin:0 10px}.logged-in{color:green}.logged-out{color:red}",""]),t.exports=e},1082:function(t,e,a){"use strict";a("d95c")},"3d83":function(t,e,a){"use strict";a("9970")},4195:function(t,e,a){var s=a("0249");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("0317872d",s,!0,{sourceMap:!1,shadowMode:!1})},"4d41":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"video[data-v-140ed277]{max-width:100%;height:auto;margin-bottom:10px}",""]),t.exports=e},6588:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,'.scroll-wrapper>.scroll-content[data-v-240b36b0]{border:none!important;box-sizing:content-box!important;height:auto;left:0;margin:0;max-height:none;max-width:none!important;overflow:scroll!important;padding:0;position:relative!important;top:0;width:auto!important}.emoji-invoker[data-v-240b36b0]{top:.5rem;right:.5rem;width:1.5rem;height:1.5rem;border-radius:50%;cursor:pointer;transition:all .2s;padding:0;background:transparent;border:0}.emoji-invoker[data-v-240b36b0]:hover{transform:scale(1.1)}.emoji-invoker>svg[data-v-240b36b0]{fill:#b1c6d0}.emoji-picker[data-v-240b36b0]{position:absolute;z-index:1;font-family:Montserrat;border:1px solid #ccc;width:15rem;height:20rem;overflow:scroll;padding:1rem;box-sizing:border-box;border-radius:.5rem;background:#fff;box-shadow:1px 1px 8px #c7dbe6;bottom:81px;top:auto!important;left:auto!important}.emoji-picker__search[data-v-240b36b0]{display:flex}.emoji-picker__search>input[data-v-240b36b0]{flex:1;border-radius:10rem;border:1px solid #ccc;padding:.5rem 1rem;outline:none}.emoji-picker h5[data-v-240b36b0]{margin-bottom:0;color:#b1b1b1;text-transform:uppercase;font-size:.8rem;cursor:default}.emoji-picker .emojis[data-v-240b36b0]{display:flex;flex-wrap:wrap;justify-content:space-between}.emoji-picker .emojis[data-v-240b36b0]:after{content:"";flex:auto}.emoji-picker .emojis span[data-v-240b36b0]{padding:.2rem;cursor:pointer;border-radius:5px}.emoji-picker .emojis span[data-v-240b36b0]:hover{background:#ececec;cursor:pointer}.emojionearea.emojionearea-inline[data-v-240b36b0]{height:0}.replyhtmlbaseGIF .imgGif img[data-v-240b36b0]{height:90px}.groupistyping div.group_dp img[data-v-240b36b0]{width:40px;height:40px;border-radius:100%}.groupistyping[data-v-240b36b0]{padding:3px 12px;font-size:11px;text-align:center;font-weight:450;max-width:300px;border-radius:20px;margin:0 auto}.groupistyping .useristyping2[data-v-240b36b0]{width:60px;float:left;margin:10px 0 0 10px}.useristypingbase.group[data-v-240b36b0]{bottom:62px}.newfilesdisplaygrid[data-v-240b36b0]{width:110px;height:110px;background-color:red;flex:0 0 100%;align-items:center;box-sizing:border-box;margin:5px;margin-bottom:5px;flex-flow:row wrap;float:left;display:flex;transition:all .4s}.newfilesdisplaygrid a[data-v-240b36b0]{height:100%;width:100%}.newfilesdisplaygrid a i[data-v-240b36b0]{font-size:50px}button[data-v-240b36b0]{margin:5px}audio[data-v-240b36b0]{margin-top:10px;display:block}button[data-v-240b36b0]{margin:0 5px;padding:5px 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[data-v-240b36b0]:hover{background-color:#0056b3}',""]),t.exports=e},"77f3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"header-bar username"},[e("div",{staticClass:"header-left uc_selfuserpic"},[t._m(0),e("img",{staticClass:"profile-img",attrs:{src:""!=t.imgUrlPath?t.blobUserUrl+t.imgUrlPath:t.defaultImg,alt:"profile"}}),e("span",[t._v(t._s(t.LabelUserName))])]),e("div",{staticClass:"header-right",attrs:{id:"div_forRightPanelHeader"}},[e("div",{staticClass:"col"},[e("h2",[t._v(t._s(t.title))])]),e("div",{staticClass:"list col"}),e("div",{staticClass:"search"},[e("form",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtGlobalSearch,expression:"txtGlobalSearch"}],attrs:{type:"text",placeholder:"Search..",name:"search",id:"input_topGlobalSeach","aria-label":"Username","aria-describedby":"basic-addon1"},domProps:{value:t.txtGlobalSearch},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.SearchTextGlobally.apply(null,arguments))},input:function(e){e.target.composing||(t.txtGlobalSearch=e.target.value)}}}),0==t.isShowGlobalSearch?e("button",{attrs:{type:"button",id:"a_TopGlobalSearch"}},[e("i",{staticClass:"fa fa-search",attrs:{id:"basic-addon1"},on:{click:function(e){return t.SearchTextGlobally()}}})]):t._e(),t.isShowGlobalSearch?e("button",{staticClass:"close-icon",attrs:{id:"btn_crossForGlobalSearch",type:"button"},on:{click:function(e){return t.CrossForGlobalSearch()}}},[t._v("X")]):t._e()])]),t.isShowGlobalSearch?e("div",{staticStyle:{height:"618px",width:"24%",display:"block"},attrs:{id:"div_globalSearchData"}},[0==t.GlobalSearchListData.length?e("div",{staticClass:"text-center text-danger border p-2 no-record",attrs:{id:"contacts-panel-error"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e(),e("ul",{staticStyle:{"padding-left":"0px","list-style-type":"none","margin-bottom":"0px"}},[t._l(t.GlobalSearchListData,(function(a,s){return[e("li",{staticClass:"global_searchHeading"},[t._v(t._s(a.brandname))]),t._l(a.items,(function(a){return e("li",{staticClass:"li_globalSearch"},[e("i",{class:{"fa fa-comments d-block green":"CHAT"==a.MODULE_TYPE,"fa fa-users d-block lightyellow":"GROUP"==a.MODULE_TYPE}}),e("a",{staticStyle:{color:"#959fa9"},attrs:{href:"javascript:;"},on:{click:function(e){return t.openChatFromGlobalSearch(a.RECORD_ID,a.GROUP_ID,a.HEADER_NAME)}}},[e("div",{staticStyle:{"font-size":"10pt",color:"#FFFFFF"}},[t._v(t._s(a.HEADER_NAME))]),e("div",{staticClass:"text-truncate",staticStyle:{"margin-left":"12px","font-size":"13px"}},[e("span",[t._v(t._s(a.OTHER_DATA)+" ")]),e("span",{staticClass:"highlight",domProps:{innerHTML:t._s(t.truncateMessage(a.SHORT_DESC))}})])])])}))]}))],2)]):t._e()])]),e("div",{staticClass:"wrapper"},[e("div",{staticClass:"leftbar"},[e("div",{staticClass:"sm-leftmenu"},[e("ul",{staticClass:"nav nav-pills",attrs:{id:"v-pills-tab"}},[e("li",[e("a",{staticClass:"nav-link",attrs:{id:"v-pills-activity-tab","data-toggle":"pill",role:"tab","aria-controls":"v-pills-activity","aria-selected":!0},on:{click:function(e){return t.ActivityTabClick()}}},[e("i",{staticClass:"fa fa-bell yellow"}),e("span",[t._v(t._s(t.$t("Activity")))])])]),e("li",{staticStyle:{position:"relative"}},[e("a",{ref:"ChatsTab",class:{"nav-link  blinkingcommon2":t.lgId==t.blinkUserId,"nav-link active":t.lgId!=t.blinkUserId},attrs:{id:"v-pills-chat-tab","data-toggle":"pill",role:"tab","aria-controls":"v-pills-chat","aria-selected":"false"},on:{click:function(e){return t.ChatTabClick()}}},[e("i",{staticClass:"fa fa-comments green"}),e("span",[t._v(t._s(t.$t("Chats")))])]),t.totalUnreadCount>0?e("span",{staticClass:"unreadball"},[t._v(t._s(t.totalUnreadCount))]):t._e()]),e("li",[e("a",{staticClass:"nav-link",attrs:{id:"v-pills-MessageBoard-tab","data-toggle":"pill",role:"tab","aria-controls":"div_MessageBoardOuterDiv","aria-selected":"false"},on:{click:function(e){return t.MessageBoardTabClick(e,"MessageBoard")}}},[e("i",{staticClass:"fa fa-envelope skyblue"}),e("span",[t._v(t._s(t.$t("MessageBoard")))])])]),e("li",[e("a",{staticClass:"nav-link",attrs:{id:"v-pills-contacts-tab","data-toggle":"pill",role:"tab","aria-controls":"v-pills-contacts","aria-selected":"false"},on:{click:function(e){return t.ContactsTabClick()}}},[e("i",{staticClass:"fa fa-user lightgreen"}),e("span",[t._v(t._s(t.$t("Contacts")))])])]),e("li",[e("a",{staticClass:"nav-link",attrs:{id:"v-pills-calls-tab","data-toggle":"pill",role:"tab","aria-controls":"v-pills-calls","aria-selected":"false"},on:{click:function(e){return t.CallsTabClick()}}},[e("i",{staticClass:"fa fa-phone lightsky"}),e("span",[t._v(t._s(t.store.getIncomingCallData||t.store.getOutGoingcallData?t.secondsToHms(t.store.$state.timerStart):t.$t("Calls")))])])]),e("li",[e("a",{staticClass:"nav-link",attrs:{id:"v-pills-meetings-tab","data-toggle":"pill",href:"",role:"tab","aria-controls":"v-pills-settings","aria-selected":"false"},on:{click:function(e){return t.MeetingsTabClick(e,"Meetings")}}},[e("i",{staticClass:"fa fa-users lightyellow"}),e("span",[t._v(t._s(t.$t("Meetings")))])])]),e("li",[e("a",{staticClass:"nav-link",attrs:{id:"v-pills-setup-tab","data-toggle":"pill",role:"tab","aria-controls":"v-pills-setup","aria-selected":!0},on:{click:function(e){return t.deviceSetupTab()}}},[e("i",{staticClass:"fa fa-gears yellow"}),e("span",[t._v(t._s(t.$t("Setting")))])])])])]),t.isCall?e("div",{staticClass:"open-menu",attrs:{id:"div-left-forCallDiv"}},[e("div",{staticClass:"group-bx"},[e("a",{class:{active:"All"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.callFilter("All")}}},[e("span",[t._v("# "+t._s(t.$t("ALL")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"Today"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.callFilter("Today")}}},[e("span",[t._v("# "+t._s(t.$t("Today")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"Yesterday"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.callFilter("Yesterday")}}},[e("span",[t._v("# "+t._s(t.$t("Yesterday")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"thisWeek"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.callFilter("thisWeek")}}},[e("span",[t._v("# "+t._s(t.$t("thisWeek"))+" ")])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"thisMonth"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.callFilter("thisMonth")}}},[e("span",[t._v("# "+t._s(t.$t("thisMonth")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"LastMonth"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.callFilter("LastMonth")}}},[e("span",[t._v("# "+t._s(t.$t("lastMonth")))])])])]):t._e(),t.isContact?e("div",{staticClass:"open-menu",attrs:{id:"div-left-forContactDiv"}},[t._m(1),t._m(2),e("div",{staticClass:"scroll-wrapper menu-accrodion scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"}},[e("div",{staticClass:"menu-accrodion scrollbar-inner scroll-content",style:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-heigh":t.pageHeightScroll+"px"}},[e("div",{staticClass:"group-bx"},[e("a",{staticClass:"all-contacts-link",class:{active:"AllContact"==t.selectFilter},staticStyle:{display:"block"},attrs:{href:"javascript:;"},on:{click:function(e){return t.childFilter(null,null)}}},[t._v("All Contacts")]),e("a",{staticClass:"all-clients-link",staticStyle:{display:"none"},attrs:{href:"javascript:;"}},[t._v("All Clients")])]),t._l(t.store.getLeftSideFilter,(function(a){return e("div",{staticClass:"group-bx",staticStyle:{display:"block"},attrs:{id:"Departments"}},[e("a",{class:{active:t.selectFilter==a.type},attrs:{href:"javascript:;"},on:{click:function(e){return t.Filter(a.type)}}},[t.selectFilter==a.type?e("i",{staticClass:"fa fa-angle-down"}):e("i",{staticClass:"fa fa-angle-right"}),t._v(t._s(a.type)+" ")]),e("div",{staticClass:"group-list",style:t.selectFilter==a.type?"display: block;":"display: none;"},[e("ul",{staticClass:"department-listing",style:{"max-height":t.pageHeightScroll-300+"px","overflow-y":"auto"}},t._l(a.data,(function(s){return e("li",[e("a",{class:{active:t.selectChildFilter==s.department_name&&t.selectFilter==a.type},attrs:{href:"javascript:;","data-id":s.department_id},on:{click:function(e){return t.childFilter(s.department_name,s)}}},[e("span",{on:{click:function(e){return t.ContactdataFilter(s)}}},[t._v(" # "+t._s(s.department_name))]),e("i",{staticClass:"notification"},[t._v(t._s(s.count))])])])})),0)])])}))],2),t._m(3),t._m(4)])]):t._e(),t.isMeassgeBoard?e("div",{staticClass:"open-menu",attrs:{id:"div-left-forMessageBoard"}},[e("div",{staticClass:"search-menu"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearchProject,expression:"txtSearchProject"}],attrs:{type:"text",placeholder:"Search by project name",id:"txt_searchForMessageBoardProject",autocomplete:"off"},domProps:{value:t.txtSearchProject},on:{keyup:function(e){return t.SearchProject(e)},input:function(e){e.target.composing||(t.txtSearchProject=e.target.value)}}}),""==t.txtSearchProject?e("button",{attrs:{type:"button"}},[e("i",{staticClass:"fa fa-search"})]):t._e(),""!=t.txtSearchProject?e("button",{attrs:{type:"button"},on:{click:function(e){return t.clearProjectSeachBox(this)}}},[e("i",{staticClass:"fa fa-times"})]):t._e()]),e("div",{staticClass:"scroll-wrapper menu-accrodion scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"},attrs:{id:"Departments"}},[e("div",{staticClass:"menu-accrodion scrollbar-inner scroll-content scroll-scrolly_visible",style:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-heigh":t.pageHeight+"px"},attrs:{id:"divMessageBoardProjectList"}},[e("div",{staticClass:"group-bx showMessageForAll"},[e("a",{class:t.activeTabProp,attrs:{href:"javascript:;"},on:{click:t.ActiveProjectListTab}},[e("i",{class:t.activeTabAngle}),t._v(t._s(t.$t("AllProjects"))+" ")]),e("div",{staticClass:"group-list",style:{display:t.expandColapseTab,maxHeight:t.pageHeightScroll-160+"px"}},[e("ul",{staticClass:"department-listing",style:{"max-height":t.pageHeightScroll-190+"px","overflow-y":"auto"}},t._l(t.ProjectTablist,(function(a){return e("li",[e("a",{class:{active:t.selectChildFilter==a.value},attrs:{href:"javascript:;",id:a.value},on:{click:function(e){return t.getListbyProjectId(a.value)}}},[e("span",[t._v(t._s(a.name))]),e("i",{staticClass:"notification"},[t._v(t._s(a.first_value))])])])})),0)])])])])]):t._e(),t.isShowActivityTab?e("div",{staticClass:"open-menu",attrs:{id:"div-left-forActivityDiv"}},[e("div",{staticClass:"group-bx"},[e("a",{class:{active:"All"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("All")}}},[e("span",[t._v("# "+t._s(t.$t("ALL")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"Today"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("Today")}}},[e("span",[t._v("# "+t._s(t.$t("Today")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"Yesterday"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("Yesterday")}}},[e("span",[t._v("# "+t._s(t.$t("Yesterday")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"thisWeek"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("thisWeek")}}},[e("span",[t._v("# "+t._s(t.$t("thisWeek"))+" ")])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"thisMonth"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("thisMonth")}}},[e("span",[t._v("# "+t._s(t.$t("thisMonth")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"LastMonth"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("LastMonth")}}},[e("span",[t._v("# "+t._s(t.$t("lastMonth")))])])])]):t._e(),t.deviceSetupActive?e("div",{staticClass:"open-menu",attrs:{id:"div-left-forActivityDiv"}},[e("div",{staticClass:"group-bx"},[e("a",{class:{active:"Call"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("Call")}}},[e("span",[e("i",{staticClass:"fa fa-phone-square action-icon"}),t._v(t._s(t.$t("Call")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"SMS"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("SMS")}}},[e("span",[e("i",{staticClass:"fa fa-commenting action-icon"}),t._v(" "+t._s(t.$t("SMS")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"Video"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("Video")}}},[e("span",[e("i",{staticClass:"fa fa-video-camera action-icon"}),t._v(" "+t._s(t.$t("Video"))+" ")])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"Chat"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("Chat")}}},[e("span",[e("i",{staticClass:"fa fa-comments action-icon"}),t._v(" "+t._s(t.$t("Chat")))])])]),e("div",{staticClass:"group-bx"},[e("a",{class:{active:"IVR"==t.selectFilter},attrs:{href:"javascript:;"},on:{click:function(e){return t.FilterChat("IVR")}}},[e("span",[e("i",{staticClass:"fa fa-users action-icon"}),t._v(" "+t._s(t.$t("IVR")))])])])]):t._e(),t.isShowChatTab?e("div",{staticClass:"open-menu",staticStyle:{display:"block"},attrs:{id:"div-left-forChatDiv"}},[e("div",{staticClass:"search-menu"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearchChatGroups,expression:"txtSearchChatGroups"}],attrs:{type:"text",placeholder:"Search by group or team",name:"search",id:"chatSearch","aria-label":"Username","aria-describedby":"basic-addon1",autocomplete:"off"},domProps:{value:t.txtSearchChatGroups},on:{keyup:function(e){return t.SearchChatUsers(e)},input:function(e){e.target.composing||(t.txtSearchChatGroups=e.target.value)}}}),""==t.txtSearchChatGroups?e("button",{attrs:{type:"button",id:"chatSearchFind",title:"Search with User/Group"}},[e("i",{staticClass:"fa fa-search"})]):t._e(),""!=t.txtSearchChatGroups?e("button",{staticClass:"close-icon",attrs:{type:"reset",id:"search-Forward-Cross"},on:{click:t.clearTextFromChatGroups}},[t._v("X")]):t._e()]),t.isDataLoaded?e("div",{staticClass:"ball-loader"},[e("div",{staticClass:"ball-loader-ball ball1"}),e("div",{staticClass:"ball-loader-ball ball2"}),e("div",{staticClass:"ball-loader-ball ball3"})]):t._e(),e("div",{staticClass:"scroll-wrapper scrollbar-inner scroll-content scroll-scrolly_visible"},[t.userGroupId?t._e():e("div",{staticClass:"contacts-panel menu-accrodion"},[e("div",{staticClass:"text-center text-danger border p-2"},[t._v(t._s(t.$t("NoRecordfound")))])]),e("div",{staticClass:"scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"525px"}},[e("div",{staticClass:"contacts-panel menu-accrodion"},[t._l(t.ChatUserListData,(function(a,s){return e("div",{key:a.GROUP_ID,ref:"UserTabs",refInFor:!0,staticClass:"chat_user info",class:{active:t.chatUserInfo.GROUP_ID==a.GROUP_ID},attrs:{id:a.GROUP_ID}},[a.hasOwnProperty("GROUP_ID")&&a.GROUP_ID&&""!=a.AVATAR?e("div",{staticClass:"circle img-user",on:{click:function(e){return t.JoinRooms(a)}}},[e("img",{staticClass:"round img-fluid",attrs:{src:a.AVATAR?a.AVATAR:t.defaultImg,alt:"profile"}})]):e("div",{staticClass:"circle img-user",on:{click:function(e){return t.JoinRooms(a)}}},[a.hasOwnProperty("GROUP_ID")&&a.GROUP_ID?e("i",{class:{"fa fa-user":0==a.IS_GROUP,"fa fa-users":1==a.IS_GROUP}}):a.hasOwnProperty("USER_ID")&&a.USER_ID?e("i",{staticClass:"fa fa-user"}):t._e()]),e("div",{staticClass:"chat_detail details",class:{usertyping:t.isShowTypingForLeft&&a.GROUP_ID==t.isTypingToGroup},attrs:{title:void 0==a.CONTACTNAME?a.GROUP_NAME:a.CONTACTNAME},on:{click:function(e){return t.JoinRooms(a)}}},[e("h4",{staticClass:"name text-truncate"},[t._v(t._s(void 0==a.CONTACTNAME?a.GROUP_NAME:a.CONTACTNAME)+" ")]),"string"===typeof a.MESSAGE&&a.MESSAGE.includes("src")&&0!=a.hasOwnProperty("GROUP_ID")?e("p",{staticClass:"text-truncate inline-block"},[e("span",[t._v("[GIF]")]),a.hasOwnProperty("CREATED_AT")?e("span",{staticClass:"data_info"},[t._v(t._s(t.DateDifference(a.CREATED_AT)))]):t._e()]):e("p",{staticClass:"text-truncate inline-block"},[e("span",[t._v(t._s(a.MESSAGE))]),a.hasOwnProperty("CREATED_AT")?e("span",{staticClass:"data_info"},[t._v(t._s(t.DateDifference(a.CREATED_AT)))]):t._e()]),e("p",{staticClass:"ut d-none"},[e("img",{attrs:{src:t.leftIsTyping}})])]),a.hasOwnProperty("GROUP_ID")?e("div",{staticClass:"culistaction"},[e("i",{ref:"deletButton",refInFor:!0,staticClass:"fa fa-ellipsis-h last arrowmenu",on:{click:function(e){return t.ShowActionButtons(a.GROUP_ID)}}})]):t._e(),a.hasOwnProperty("USER_ID")?e("div",{staticClass:"culistaction",attrs:{title:"Add user"}},[e("i",{ref:"deletButton",refInFor:!0,staticClass:"fa fa-plus",on:{click:function(e){return t.OpenTicketReceiver(a)}}})]):t._e(),a.UNREAD_USER_MESSAGE>0?e("div",{staticClass:"unreadball2"},[t._v(" "+t._s(a.UNREAD_USER_MESSAGE)+" ")]):t._e(),t.visiblePop==a.GROUP_ID?e("div",{directives:[{name:"closable",rawName:"v-closable",value:{exclude:["deletButton"],handler:"deletePopupClose"},expression:"{ exclude: ['deletButton'], handler: 'deletePopupClose' }"}],ref:"tagsModals",refInFor:!0,staticClass:"replyUsers"},[e("a",{staticClass:"noToolTip",attrs:{id:"usrDeleteHistory",href:"javascript:;",title:"Delete Chat History"},on:{click:function(e){return t.UsrDeleteHistory(a,"History")}}},[t._v(t._s(t.$t("Deletechathistory"))+" ")]),0==a.IS_GROUP?e("a",{staticClass:"noToolTip",attrs:{id:"usrDeleteHistory",href:"javascript:;",title:"Delete Chat History"},on:{click:function(e){return t.UsrDeleteHistory(a,"User")}}},[t._v(t._s(t.$t("DeletechatUser"))+" ")]):t._e(),1==a.IS_GROUP?e("a",{staticClass:"noToolTip",attrs:{id:"usrGroup",href:"javascript:;",title:"Delete Group"},on:{click:function(e){return t.UserGroupDelete(a,"Delete")}}},[t._v(t._s(t.$t("DeleteGroup"))+" ")]):t._e(),e("a",{staticClass:"noToolTip",attrs:{id:"PinnedGroup",href:"javascript:;",title:"Pin Group"},on:{click:function(e){return t.PinUserGroup(a)}}},[t._v(t._s(1==a.IS_PINNED?"UnPin":"Pin")+" ")])]):t._e(),1==a.IsOnlineUser&&1!=a.IS_GROUP?e("div",{staticClass:"text-truncate inline-block"},[e("span",{staticClass:"logged-in"},[t._v("●")])]):0==a.IsOnlineUser&&1!=a.IS_GROUP?e("div",{staticClass:"text-truncate inline-block"},[e("span",{staticClass:"logged-out"},[t._v("●")])]):t._e()])})),e("span",{staticClass:"aalcontacts"},[t._v("All Contacts")]),t._l(t.AllContactList,(function(a,s){return e("div",{key:s,ref:"UserTabs",refInFor:!0,staticClass:"chat_user info",attrs:{id:a.USER_ID}},[a.hasOwnProperty("USER_ID")&&a.USER_ID&&""!=a.USER_IMAGE?e("div",{staticClass:"circle img-user",on:{click:function(e){return t.JoinRooms(a)}}},[e("img",{staticClass:"round img-fluid",attrs:{src:a.USER_IMAGE?a.USER_IMAGE:t.defaultImg,alt:"profile"}})]):e("div",{staticClass:"circle img-user",on:{click:function(e){return t.JoinRooms(a)}}},[a.hasOwnProperty("USER_ID")&&a.USER_ID?e("i",{staticClass:"fa fa-user"}):t._e()]),e("div",{staticClass:"chat_detail details",attrs:{title:a.CONTACTNAME},on:{click:function(e){return t.JoinRooms(a)}}},[e("h4",{staticClass:"name text-truncate"},[t._v(t._s(a.CONTACTNAME)+" ")])]),a.hasOwnProperty("USER_ID")?e("div",{staticClass:"culistaction",attrs:{title:"Add user"}},[e("i",{ref:"deletButton",refInFor:!0,staticClass:"fa fa-plus",on:{click:function(e){return t.OpenTicketReceiver(a)}}})]):t._e()])}))],2)]),t._m(5),t._m(6),t.isDataLoaded?e("div",{staticClass:"text-center text-danger border p-2 no-record",attrs:{id:"contacts-panel-error"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()]),e("div",{staticClass:"creategroup-btn menu_foot"},[e("a",{staticClass:"btn btn-creategroup",attrs:{href:"javascript:;",id:"createGroup",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Create Chat Group"},on:{click:function(e){return t.CreateGroupClick()}}},[e("i",{staticClass:"fa fa-users pr-3"}),e("span",[t._v(t._s(t.$t("CreateGroup")))])])])]):t._e(),t.isUploadFile?e("div",{staticClass:"files-attachement-wrapper",attrs:{id:"attachment-file"}},[e("div",{staticClass:"files-attachment-inner"},[e("form",{ref:"imageUpload",attrs:{id:"frmUploader",enctype:"multipart/form-data"}},[e("div",{staticClass:"col-12 float-left text-right py-2 dropboxcrossicon"},[e("a",{attrs:{href:"javascript:;",id:"a_closeAtachment"},on:{click:t.closeAttachmentPop}},[t._v("X")])]),e("div",{staticClass:"nniicc-dropzoneParent",staticStyle:{margin:"20px"}},[e("div",{staticClass:"drop-box"},[e("p",{staticClass:"mbl_lnht"}),e("i",{staticClass:"fa fa-upload",attrs:{"aria-hidden":"true"}}),e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.openFileInput}},[t._v("Select File")]),e("input",{staticStyle:{display:"none"},attrs:{id:"up",type:"file"},on:{change:function(e){return t.setFile(e)}}})]),t.AttachmentFileDetail.length>0?e("div",{staticClass:"progress progress-2",staticStyle:{width:"100%",margin:"20px 0px 0px",display:"flex"}},[e("div",{staticClass:"progress-bar progress-bar-info progress-bar-striped",staticStyle:{width:"100%"}},[t._v(" 100%")])]):t._e(),t.AttachmentFileDetail.length>0?e("span",{attrs:{title:"2nd_screen_filter.png"}},[t._v(t._s(t.AttachmentFileDetail[0].name))]):t._e()]),e("small",{staticClass:"my-1"},[t._v(t._s(t.$t("Maximunuploadfilesize"))+": "),e("span",{attrs:{id:"attcah_maxSizeOfFile"}}),t._v("2 MB.")]),e("small",[t._v(t._s(t.$t("Filesnotallowed"))+": "),e("span",{attrs:{id:"attach_FileAllowedExtension"}}),t._v(".exe,.com,.js,.php,.asp,.aspx")]),t.AttachmentFileDetail.length>0?e("div",{staticClass:"sendattachment",attrs:{id:"div_ForSendAttachment"}},[e("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.SendAttactment()}}},[t._v(t._s(t.$t("Send")))])]):t._e()])])]):t._e()]),t.isShowActivityTab?e("ActivityTabVue",{attrs:{store:t.store,FromDate:t.FromDate,ToDate:t.ToDate}}):t._e(),t.isShowChatTab?e("ChatTabVue",{ref:"chatTab",attrs:{groupId:t.group,groupNameDisplay:t.groupNameDisplay,RecieverId:t.RecieverId,GroupAliasName:t.GroupAliasName,Groupdata:t.Groupdata,chatUserInfo:t.chatUserInfo,chatHistoryDetails:t.chatHistoryDetails,fileInProgress:t.fileInProgress,progressValue:t.progressValue,store:t.store,ChatUserListData:t.ChatUserListData,isCreateGroup:t.isCreateGroup,userGroupId:t.userGroupId,searchByGlobal:t.searchByGlobal},on:{VoiceCallClickToUser:t.VoiceCallClickToUser}}):t._e(),t.isMeassgeBoard?e("MessageBoard",{attrs:{ProjectTablist:t.ProjectTablist,ProjectiId:t.ProjectiId}}):t._e(),t.isCall?e("Call",{attrs:{store:t.store,phoneNumber:t.phoneNumber}}):t._e(),t.isContact?e("Contacts",{ref:"childComponentRef",attrs:{store:t.store,sideBarFilter:t.sideBarContactFiletr}}):t._e(),t.isMeeting?e("Meeting",{attrs:{store:t.store}}):t._e(),t.deviceSetupActive?e("DeviceSetup",{attrs:{store:t.store,selectedFilter:t.selectFilter}}):t._e(),t.store.getIncomingAndOutGoingCall&&"in-progress"!=t.callSatus?e("div",{attrs:{id:"ForCallingSystem"}},[e("div",{staticClass:"vca_mainwrapper ui-draggable ui-draggable-handle",staticStyle:{position:"fixed",right:"0",bottom:"60px","/* display":"none","*/z-index":"9"},attrs:{id:"ForIvRCall"}},[e("div",{staticClass:"vca_callerinfobase"},[t._m(7),e("div",{staticClass:"vca_callername",attrs:{id:"lbl_forPhoneNumber"}},[t._v(" "+t._s(t.store.getIncomingCallData?t.store.getIncomingCallData.parameters.From:t.dailNumber))]),e("div",{staticClass:"vca_calling",attrs:{id:"lbl_CallTime"}},[t._v("Calling...")]),e("div",{staticClass:"vca_btnsbasemain"},[t._m(8),t._m(9),t.store.getIncomingCallData?e("div",{staticClass:"vca_btnsbase",attrs:{id:"div_forCallPickOrReject"}},[t.store.getIncomingCallData&&t.store.getIncomingCallStatus?e("a",{staticClass:"pickcall",staticStyle:{"/* display":"none"},attrs:{target:"_blank",id:"btn_PickCall",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Transfer"},on:{click:function(e){return t.incomingCallPick(t.store.getIncomingCallData)}}},[e("i",{staticClass:"fa fa-phone",staticStyle:{color:"#FFF","font-size":"34px"}})]):t._e(),t.store.getIncomingCallData&&t.store.getIncomingCallStatus?e("a",{staticClass:"dropcall",attrs:{id:"btn_rejectCall"},on:{click:function(e){return t.rejectCall(t.store.getIncomingCallData)}}},[e("i",{staticClass:"fa fa-phone text-white",staticStyle:{rotate:"-227deg","font-size":"34px"},attrs:{"aria-hidden":"true"}})]):t._e(),e("div",{staticStyle:{clear:"both"}})]):e("div",{staticClass:"vca_btnsbase text-center",staticStyle:{"min-height":"30px"},attrs:{id:"div_forCallPickOrReject"}},[e("a",{staticClass:"dropcall alone",staticStyle:{float:"none"},attrs:{id:"btn_rejectCall"},on:{click:function(e){t.store.getIncomingCallData?t.hangup(t.store.getIncomingCallData):t.hangup(t.store.getOutGoingcallData)}}},[e("i",{staticClass:"fa fa-phone text-white",staticStyle:{rotate:"-227deg"},attrs:{"aria-hidden":"true"}})])])])])])]):t._e()],1),t.videoCallShow?e("div",{directives:[{name:"draggable",rawName:"v-draggable"}],staticClass:"modal is-visible video-container"},[e("div",{staticClass:"modal-wrapper modal-transition uc-video-chat-wrapper userVideo",staticStyle:{left:"auto !important"}},[t._m(10),e("div",{staticClass:"modal-body v-chat-inner"},[e("div",{staticClass:"modal-content video-panel"},[e("div",{staticClass:"video-call"},[e("div",{staticClass:"child-a"},[e("div",{staticStyle:{"max-height":"450px",overflow:"hidden",position:"relative"},attrs:{id:"remotes"}},[e("div",{staticClass:"uc_single_videobase p-0"},[e("video",{ref:"remoteVideo",staticClass:"remote-video",attrs:{autoplay:""}}),e("video",{ref:"localVideo",staticClass:"local-video",attrs:{autoplay:"",muted:""},domProps:{muted:!0}})])]),e("img",{staticStyle:{display:"none"},attrs:{src:"",alt:"Calling..."}})])]),e("div",{staticStyle:{clear:"both"}}),e("div",{staticClass:"icons buttons"},[e("a",{staticClass:"btn record",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"recording"}}),e("a",{staticClass:"loud-speaker",class:t.muteUnmute,attrs:{href:"javascript:;"},on:{click:function(e){return t.muteOrUnmute()}}},[e("i",{staticClass:"fa fa-volume-up"})]),e("a",{staticClass:"modal-toggle call disconnectVideo",attrs:{href:"javascript:;"},on:{click:function(e){return t.disconnectVideo()}}},[e("i",{staticClass:"fa fa-phone"})])])])])])]):t._e(),t.inComingCallingPopup?e("div",{staticClass:"vca_mainwrapper animated fadeInDown",staticStyle:{display:"inline-block",margin:"0px auto",position:"fixed",transition:"all 0.5s ease-in-out 0s","z-index":"1031",top:"350px",right:"20px"},attrs:{"data-notify-position":"top-right"}},[e("div",{staticClass:"vca_callerinfobase"},[e("div",{staticClass:"vca_callerdp"},[e("img",{attrs:{src:t.incomingVideoCallinfo.fromUserPath?t.incomingVideoCallinfo.fromUserPath:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",loading:"lazy"}})]),e("div",{staticClass:"vca_callername"},[t._v(t._s(t.incomingVideoCallinfo.fromName))]),e("div",{staticClass:"vca_calling"},[t._v("Calling...")]),e("div",{staticClass:"vca_btnsbasemain"},[e("div",{staticClass:"vca_btnsbase"},[e("a",{staticClass:"pickcall",attrs:{id:"joinVideoCall",href:"javascript:;"},on:{click:function(e){return t.VideoCallPickupMethod("talygen")}}},[e("i",{staticClass:"fa fa-phone",staticStyle:{color:"#FFF","font-size":"34px"}})]),e("a",{staticClass:"dropcall",staticStyle:{position:"absolute",right:"10px",top:"5px","z-index":"1033"},attrs:{"data-path":"/Content/images/uc/uc_user_new.jpg",id:"joinVideoReject","data-notify":"dismiss",href:"javascript:;"},on:{click:function(e){return t.disconnectVideo()}}},[e("i",{staticClass:"fa fa-phone text-white",staticStyle:{rotate:"-227deg","font-size":"34px"},attrs:{"aria-hidden":"true"}})])])])])]):t._e(),e("loader",{attrs:{isVisible:t.store.getLoadingStatus}})],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"togg_mob"},[e("em",{staticClass:"fa fa-bars"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"userinfo_mob"},[e("img",{staticClass:"profile-img",attrs:{src:"assets/images/user.jpg",alt:"profile"}}),t._v(" "),e("span")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-menu"},[e("form",{attrs:{action:"#"}},[e("input",{attrs:{type:"text",id:"contactSearch",placeholder:"Search by Name",name:"search",autocomplete:"off"}}),e("button",{attrs:{type:"button",id:"contactSearchFind"}},[e("i",{staticClass:"fa fa-search"})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{width:"100px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-y"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{height:"100px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"},[e("div",{staticClass:"scroll-bar",staticStyle:{width:"100px"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-y scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{height:"100px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"vca_callerdp"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",loading:"lazy",alt:"Image"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_whenCallEnded",staticStyle:{display:"none"}},[e("div",{staticClass:"vca_callingForCallEnd"},[t._v("Call Ended")]),e("div",{staticClass:"textAreaForComment"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Caller Name:")]),e("input",{staticClass:"form-control",attrs:{type:"text",id:"txt_nameForCall",autocomplete:"off"}}),e("label",{staticStyle:{color:"red",display:"none"},attrs:{id:"txtnameRequired"}},[t._v("Caller Name is required")])]),e("div",{staticClass:"form-group"},[e("label",[t._v("Comment:")]),e("textarea",{staticClass:"form-control",attrs:{id:"txt_commentForCall"}}),e("label",{staticStyle:{color:"red",display:"none"},attrs:{id:"txtCommentRequired"}},[t._v("Comment is required")])]),e("div",{staticClass:"form-group"},[e("label",[t._v("Call Relevant to:")]),e("select",{staticClass:"form-control",attrs:{id:"ddl_modules"}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Type:")]),e("select",{staticClass:"form-control",attrs:{id:"ddl_modulesTypes"}},[e("option",{attrs:{value:""}},[t._v("Select")])]),e("label",{staticStyle:{color:"red",display:"none"},attrs:{id:"ddlSecondRequired"}},[t._v("Type is required")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"none"},attrs:{id:"div_whenCallTransfer"}},[e("div",{staticClass:"textAreaForComment"},[e("div",{staticClass:"input-group",staticStyle:{"margin-bottom":"10px"}},[e("select",{staticClass:"form-control",attrs:{id:"ddl_forExtension"}},[e("option",{attrs:{value:""}},[t._v("Select Extension")])]),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-default",attrs:{id:"btn_CallTransfer",type:"button"}},[t._v("Transfer")])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header",staticStyle:{cursor:"move"}},[e("h2",{staticClass:"modal-heading"},[t._v("Video Calling")])])}],o=(a("14d9"),a("5b81"),a("88e6"),a("70cc"),a("eb03"),a("22e5"),a("c01e"),a("fa76"),a("8306"),a("9769")),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content wcb",attrs:{id:"div_ActivityOuterDiv"}},[e("div",{staticStyle:{position:"relative"},attrs:{id:"activityPanel"}},[e("div",{staticClass:"scroll-wrapper act scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"}},[e("div",{staticClass:"act scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px"},attrs:{id:"pills-tabContent"}},[t.isDataLoaded?e("div",{staticClass:"ball-loader"},[e("div",{staticClass:"ball-loader-ball ball1"}),e("div",{staticClass:"ball-loader-ball ball2"}),e("div",{staticClass:"ball-loader-ball ball3"})]):t._e(),t.noRecord?e("div",{staticClass:"text-center text-danger border p-2",attrs:{id:"search-forward-error"}},[t._v(t._s(t.$t("NoRecordfound")))]):t._l(t.Filterdate,(function(a,s,i){return e("div",{key:t.date,staticClass:"activity_bx card-contact files-tab"},[e("h4",[t._v(t._s(t.formatDates(t.$t(s)))+" ")]),t._l(a,(function(a,s){return e("div",{staticClass:"card-list last"},["Outgoing"==a.CALL_TYPE||"Incomming"==a.CALL_TYPE?e("div",{staticClass:"circle-bx green_bg"},[e("i",{staticClass:"fa fa-phone"})]):t._e(),"CHAT"==a.CALL_TYPE?e("div",{staticClass:"circle-bx green_bg"},[e("i",{staticClass:"fa fa-comments"})]):t._e(),"Outgoing"==a.CALL_TYPE||"Incomming"==a.CALL_TYPE?e("div",{staticClass:"card-desc"},[e("p",{staticClass:"sm"},[t._v("Call")]),e("p",[t._v("User call with "+t._s(a.CALL_TO)+" Duration "+t._s(a.DURATION?a.DURATION:0))])]):t._e(),"CHAT"==a.CALL_TYPE?e("div",{staticClass:"card-desc"},[e("p",{staticClass:"sm"},[t._v("User Chat")]),e("p",[t._v("User chat with "+t._s(a.CALLER_NAME))])]):t._e(),e("div",{staticClass:"card-icon"},[t._v(t._s(t.$options.filters.formatTime(a.FOR_SORT)))])])}))],2)}))],2)])])])},l=[],n={props:{FromDate:{type:String},ToDate:{type:String}},data(){return{isDataLoaded:!1,ActivityData:[],RecNumber:50,type:"web",sender:{},Filterdate:[],is_first_time:1,lastrow:0,noRecord:!1}},created:async function(){this.ToDate,this.FromDate;var t=this,e={companyId:t.GetUserInfo.CompanyId,emaiId:t.GetUserInfo.Email,groupName:"",id:t.GetUserInfo.ID,imgPath:"https://cogniterblob.blob.core.windows.net/cg-drish-info-tech-270936/Upload/UserProfileImage/DAaFVeiLcHphoto-1633332755192-727a05c4013d.jpg",is_first_time:1,isGlobalSearch:!1,lastchatId:null,lastrow:0,name:t.GetUserInfo.Name,recordNumber:t.RecNumber,searchForMsg:null,type:t.type,FromDate:t.FromDate,ToDate:t.ToDate};t.sender=e,await t.BindActivity()},watch:{FromDate(){var t=this,e={companyId:t.GetUserInfo.CompanyId,emaiId:t.GetUserInfo.Email,groupName:"",id:t.GetUserInfo.ID,imgPath:"https://cogniterblob.blob.core.windows.net/cg-drish-info-tech-270936/Upload/UserProfileImage/DAaFVeiLcHphoto-1633332755192-727a05c4013d.jpg",is_first_time:1,isGlobalSearch:!1,lastchatId:null,lastrow:0,name:t.GetUserInfo.Name,recordNumber:t.RecNumber,searchForMsg:null,type:t.type,FromDate:t.FromDate,ToDate:t.ToDate};t.sender=e,this.BindActivity()}},methods:{formatDates(t){const e={month:"short",day:"numeric",year:"numeric"},a=new Date(t);return new Intl.DateTimeFormat("en-US",e).format(a)},async BindActivity(){var t=this;if(t.isDataLoaded=!0,t.noRecord=!1,t.Filterdate=[],null==t.ToDate&&null==t.FromDate)var e=`emaiId=${t.GetUserInfo.Email}&is_first_time=${t.is_first_time}&lastrow=${t.lastrow}&recordNumber=${t.RecNumber}&FromDate=&ToDate=`;else e=`emaiId=${t.GetUserInfo.Email}&is_first_time=${t.is_first_time}&lastrow=${t.lastrow}&recordNumber=${t.RecNumber}&FromDate=${t.FromDate}&ToDate=${t.ToDate}`;await o["a"].GetAllActivity(e).then(e=>{if("[]"!=e.data&&null!=e.data){if(e.data.length>0){t.ActivityData=e.data;let a={};const s=JSON.parse(t.ActivityData);s.forEach(e=>{let s=e.CALL_TIME.substring(0,10);a[s]||(a[s]=[]),a[s].push(e),t.Filterdate=a}),t.noRecord=!1}}else t.noRecord=!0}),t.isDataLoaded=!1}}},c=n,d=a("0c7c"),u=Object(d["a"])(c,r,l,!1,null,null,null),p=u.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100",attrs:{id:"chat"+t.groupId}},[t.groupShow||t.groupShowProps?e("div",{staticClass:"div_forDifferentTabs content chatdv chat-region"},["Groups"==t.topFilterSelect?e("div",{staticClass:"dev_contact-internal-tabs",attrs:{id:"pills-usergroups"}},[e("div",{staticClass:"closeDeiv btn btn-secondary save float-right mb-2",on:{click:function(e){return t.backToChat()}}},[t._v("Back To Chat")]),e("div",{staticClass:"clearfix"}),e("div",{staticClass:"chatpanesbasemid",attrs:{id:"accordion-window"}},[e("div",{staticClass:"recent-contacts mt-0"},[e("div",{staticClass:"recent-contacts-listing-wrapper min-height65"},[e("div",{staticClass:"grouplistingbase",attrs:{id:"accordion"}},[t._l(t.store.getGroupList,(function(a){return e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"heading42559"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"is-admin":"true","data-toggle":"collapse","data-target":"#collapse42559","aria-expanded":"false","aria-controls":"collapse42559"},on:{click:function(e){return t.activeRecord(a.grouP_ID)}}},[t._v(" "+t._s(a.grouP_NAME)+" "),e("i",{staticClass:"fa fa-accordian float-left",attrs:{"aria-hidden":"true"}})]),e("span",{staticClass:"adminbase text-success font-weight-bold"},[t._v(t._s(a.fulL_NAME))]),e("div",{staticClass:"uc_groupdel text-right"},[e("a",{staticClass:"d-inline-block",attrs:{id:"groupAddMember",title:"Edit"},on:{click:function(e){return t.editGroup(a)}}},[e("i",{staticClass:"fa fa-pencil txt-orange mr-2"})]),e("a",{staticClass:"mr-3 d-inline-block",attrs:{id:"groupDelete",title:"Delete"},on:{click:function(e){return t.deleteGroup(a.grouP_ID)}}},[e("i",{staticClass:"fa fa-trash text-danger"})])])])]),t.activeGroup==a.grouP_ID?e("div",{staticStyle:{"margin-top":"14px"},attrs:{id:"collapse42559","aria-labelledby":"heading42559","data-parent":"#accordion"}},[e("div",{staticClass:"card-body call_list"},[t._l(t.store.getUserByGroupId,(function(s){return e("div",{staticClass:"member card-contact recent-contacts-listing",attrs:{"data-userid":"65239"}},[t._m(0,!0),e("div",{staticClass:"member-detail"},[e("p",[e("b",[t._v(t._s(s.useR_NAME)+" ")])]),e("div",{staticClass:"log uc_fav pr-2 icons",on:{click:function(e){return t.deleteGroupUser(s.useR_ID,a.grouP_ID)}}},[t._m(1,!0)])])])})),0==t.store.getUserByGroupId.length?e("div",[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()],2)]):t._e()])})),e("div")],2)])])]),0==t.store.getGroupList.length||null==t.store.getGroupList?e("div",{staticClass:"text-center text-danger border p-2 no-record",attrs:{id:"accordion-window-error"}},[t._v(" No record(s) found ")]):t._e()]):t._e(),t.isCreateGroup&&"Groups"!=t.topFilterSelect?e("div",{staticClass:"chat-panel chat-content",attrs:{id:"creategroup"}},[e("Form",{ref:"newGroup",attrs:{id:"AddGroup"},scopedSlots:t._u([{key:"default",fn:function({valid:a,errors:s}){return[e("div",{staticClass:"chat-header"},[e("div",{staticClass:"name"},[t._v(" "+t._s(t.$t("CreateChatGroup"))+" ")])]),e("div",{staticClass:"form create-group-form"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("GroupChatName")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Grouptitle,expression:"Grouptitle"}],staticClass:"form-control",attrs:{id:"groupTitle",maxlength:"30"},domProps:{value:t.Grouptitle},on:{input:function(e){e.target.composing||(t.Grouptitle=e.target.value)}}}),30==t.Grouptitle.length?e("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("CharacterLimit")))]):t._e()]),e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Members"))+":")]),e("multiselect",{attrs:{"close-on-select":!1,limit:"2",options:t.MemberList,"track-by":"USER_ID",label:"CONTACTNAME",placeholder:"Select memberss",multiple:""},model:{value:t.selectedMembers,callback:function(e){t.selectedMembers=e},expression:"selectedMembers"}})],1),e("div",{staticClass:"bottom-btn"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",id:"createGroupBtn",title:"Create"},on:{click:function(e){t.updategroup?t.updateGroup():t.CreateGroup()}}},[t._v(t._s(t.updategroup?t.$t("Update"):t.$t("Create")))]),e("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",id:"createGroupCancelBtn"},on:{click:function(e){t.updategroup?t.canceleGroup():t.backToChat()}}},[t._v(t._s(t.$t("Cancel")))])])])]}}],null,!1,1801333310)})],1):t._e()]):e("div",{staticClass:"div_forDifferentTabs content chatdv chat-region"},[e("div",{staticClass:"chat-header user-info"},[e("div",{staticClass:"name text-truncate"},[0==t.Groupdata.IS_GROUP?e("img",{staticClass:"profile-img",attrs:{src:""!=t.Groupdata.AVATAR?t.Groupdata.AVATAR:t.defaultImg,alt:"profile"}}):t._e(),t.Groupdata.IS_GROUP?e("i",{staticClass:"fa fa-users"}):t._e(),t._v(" "+t._s(t.groupNameDisplay)+" ")]),e("div",{staticClass:"chat-links"},[1!=t.Groupdata.IS_GROUP&&1!=t.chatUserInfo.IS_GROUP?e("a",{staticClass:"phone voicecall phone_click mr-1",attrs:{href:"javascript:;",title:"",tooltip:"tooltip","data-original-title":"Call"},on:{click:t.VoiceCallClick}},[e("i",{staticClass:"fa fa-phone"})]):t._e(),e("a",{staticClass:"video_icon a_VideoCall mr-1",attrs:{href:"javascript:;",title:"",tooltip:"tooltip","data-original-title":"Video Call"},on:{click:function(e){return t.videoCreate(t.chatUserInfo)}}},[e("i",{staticClass:"fa fa-video-camera"})]),t.Groupdata.IS_GROUP||t.chatUserInfo.IS_GROUP?e("a",{staticClass:"users user_click mr-1",attrs:{href:"javascript:;",id:"pills-group-tab",title:"",tooltip:"tooltip","data-original-title":"Users"},on:{click:function(e){return t.Getgroupusers(t.chatUserInfo)}}},[e("i",{staticClass:"fa fa-user"})]):t._e(),t.isChatActive?e("a",{staticClass:"file mr-1",attrs:{href:"javascript:;",id:"pills-profile-tab",title:"",tooltip:"tooltip","data-original-title":"Chat  Files"},on:{click:function(e){return t.ChatLinkClick()}}},[e("i",{staticClass:"fa fa-file-text-o"})]):t._e(),t.isFileActive?e("a",{staticClass:"icon_chatting file active",attrs:{href:"javascript:;",id:"pills-home-tab",title:"",tooltip:"tooltip","data-original-title":"Chat"},on:{click:function(e){return t.FileLinkClick()}}},[e("i",{staticClass:"fa fa-comments"})]):t._e(),e("a",{staticClass:"users nav-link",attrs:{id:"pills-usergroups-tab",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Groups"}},[e("i",{staticClass:"fa fa-users",on:{click:function(e){return t.getContactRecordBy("Groups")}}})])])]),t.isDataLoaded?e("div",{staticClass:"ball-loader"},[e("div",{staticClass:"ball-loader-ball ball1"}),e("div",{staticClass:"ball-loader-ball ball2"}),e("div",{staticClass:"ball-loader-ball ball3"})]):t._e(),t.isChatActive?e("div",{staticClass:"msgbx_left position-relative"},[e("div",{staticClass:"scroll-wrapper scrollbar-inner scroll-content"},[e("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{enabled:t.enabled},expression:"{ enabled: enabled }"}],staticClass:"scrollbar-inner scroll-content",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"calc(100vh - 250px) !important"},attrs:{id:"div_chatDetails"}},[e("div",{staticClass:"chatpanesbasemid",attrs:{id:"chat-window"}},[e("div",{class:{"messageslists_uc60 me_default":"Default"==t.selectedLayout,"messageslists_uc60 me_right":"Right"==t.selectedLayout,"messageslists_uc60 me_left":"Left"==t.selectedLayout,groupchat:t.Groupdata.IS_GROUP},attrs:{id:"message-list"}},[t._l(t.filterSameUser(t.chatHistoryDetails.resultSet),(function(a){return[e("div",{staticClass:"dividerdate mb-4 mt-4"},[e("div",{staticClass:"dividerdate_box"},[t._v(t._s(t.getPreviousDay(a.date)))])]),e("div",{staticClass:"clearfix"}),t._l(a.data,(function(a,s){return[e("div",{ref:"chat",refInFor:!0,class:{"own-message message-bx":!0,blinking:t.blinkText==a.CHATLOG_ID||t.blinkRepliedText==a.CHATLOG_ID,parentthread:0==a.sameName,myself:a.FROM_USER_ID==t.store.getUserInformation.ID,yourself:a.FROM_USER_ID!=t.store.getUserInformation.ID},attrs:{id:"chatLog_"+a.CHATLOG_ID}},[a.FROM_USER_ID!=t.store.getUserInformation.ID?e("div",{staticClass:"user-avatar"},[1==a.sameName?e("img",{attrs:{src:a.AVATAR==t.blobUserUrl||""==a.AVATAR||null==a.AVATAR?t.defaultImg:a.AVATAR,alt:"profile"}}):t._e()]):t._e(),e("div",{staticClass:"message-data"},[null!=a.CHAT_LOG_REF_ID&&0!=a.CHAT_LOG_REF_ID?e("a",{staticClass:"width_100 hyperLink",attrs:{name:a.MESSAGE_TOKEN,href:"javascript:;",id:a.CHAT_LOG_REF_ID+" reply"+s},on:{click:function(e){return t.ShowTransitionOnReply(a.PARENT_DETAIL)}}},[e("div",{staticClass:"row no-margin message-info-row replyBack ml-0"},[e("div",{staticClass:"arrow"}),e("p",{staticClass:"message-sendername w-100",attrs:{"data-content":"username"}},[t._v(" "+t._s(void 0==a.PARENT_DETAIL?a.PARENT_DETAIL:a.PARENT_DETAIL.split("~")[1]))]),e("div",{staticClass:"messagebody"},[e("p",{staticClass:"message-body",attrs:{"data-content":"body"},domProps:{innerHTML:t._s(a.PARENT_MESSAGE)}})])]),e("div",{staticStyle:{clear:"both"}})]):t._e(),"attachment"!=a.MESSAGE&&1!=a.ATTACHMENT?e("div",{staticClass:"message-body"},[e("p",{domProps:{innerHTML:t._s(a.MESSAGE)}})]):"voice"==a.MESSAGE&&1==a.ATTACHMENT?e("div",{staticClass:"message-body"},[a.FILEPATH?e("audio",{attrs:{src:a.FILEPATH,controls:""}}):t._e()]):"attachment"==a.MESSAGE&&1==a.ATTACHMENT?e("div",{staticClass:"message-body mb-2 onlyattachment"},[e("a",{class:{"attachment box p-2 border d-inline-block mb-2":".jpg"==a.FILEEXTENSION||".png"==a.FILEEXTENSION,"attachment box mb-2 verticlealignmiddle text-center":".pdf"==a.FILEEXTENSION},staticStyle:{width:"88px",height:"88px","vertical-align":"middle","margin-bottom":".5rem !important",padding:"8px","font-size":"36px"},attrs:{title:a.STORAGE_FILE_NAME},on:{click:function(e){return t.openLightbox(a.FILEPATH,a.FILEEXTENSION,a.STORAGE_FILE_NAME)}}},[".jpg"==a.FILEEXTENSION||".png"==a.FILEEXTENSION?e("img",{attrs:{src:a.FILEPATH,loading:"lazy",alt:"image"},on:{click:function(e){return t.openLightbox(a.FILEPATH,a.FILEEXTENSION,a.STORAGE_FILE_NAME)}}}):t._e(),".pdf"==a.FILEEXTENSION?e("i",{staticClass:"m-0 p-0 fa fa-file-pdf-o",staticStyle:{"margin-right":"0px","line-height":"2em"}}):t._e()])]):t._e(),e("div",{staticClass:"message-header"},[a.FROM_USER_ID!=t.store.getUserInformation.ID&&1==a.IS_GROUP?e("span",{staticClass:"author-name mr-2"},[t._v(t._s(a.USER_NAME))]):t._e(),"Now"==t.DateDifference(a.CREATED_AT)?e("span",{staticClass:"author-name message-time"},[t._v(t._s(t.DateDifference(a.CREATED_AT)))]):e("span",{staticClass:"author-name message-time"},[t._v(t._s(t.getTime(a.CREATED_AT)))])]),e("div",{staticClass:"msg-actions"},[e("ul",[e("li",[e("a",{staticClass:"noToolTip",attrs:{id:"msgReplyOwn",href:"javascript:;",title:"Reply"},on:{click:t.reactEmoji}},[e("i",{staticClass:"fa-solid fa-face-smile",attrs:{"aria-hidden":"true"}})])]),e("li",[e("a",{staticClass:"noToolTip",attrs:{id:"msgReplyOwn",href:"javascript:;",title:"Reply"},on:{click:function(e){return t.ReplyMessageToUser(a)}}},[e("i",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}})])]),e("li",[e("a",{staticClass:"noToolTip",attrs:{id:"msgForwardOwn",href:"javascript:;",title:"Forward Message"},on:{click:function(e){return t.ForwardMessageTo(a)}}},[e("i",{staticClass:"fa fa-share",attrs:{"aria-hidden":"true"}})])]),e("li",[a.FROM_USER_ID==t.store.getUserInformation.ID&&t.formatDateToISO(a.CREATED_AT).split("T")[0]==t.todayDate&&"attachment"!=a.MESSAGE&&1!=a.ATTACHMENT&&"voice"!=a.MESSAGE&&1!=a.ATTACHMENT&&t.checkIsGIFForEditMessage(a.MESSAGE)?e("a",{staticClass:"noToolTip",attrs:{id:"msgReplyDelete",href:"javascript:;",title:"Edit Message"},on:{click:function(e){return t.EditMessage(a,s)}}},[e("i",{staticClass:"fa fa-pencil"})]):t._e()]),e("li",[a.FROM_USER_ID==t.store.getUserInformation.ID&&"attachment"!=a.MESSAGE&&1!=a.ATTACHMENT&&"voice"!=a.MESSAGE&&1!=a.ATTACHMENT&&t.checkIsGIFForEditMessage(a.MESSAGE)?e("a",{staticClass:"noToolTip",attrs:{id:"msgReplyDelete",href:"javascript:;",title:"Message info"},on:{click:function(e){return t.editMessageInfo(a,s)}}},[e("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}})]):t._e()]),e("li",[e("a",{staticClass:"noToolTip",attrs:{id:"msgReplyDelete",href:"javascript:;",title:"Delete Message"},on:{click:function(e){return t.DeleteMessage(a,s)}}},[e("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])])]),e("VueEasyLightbox",{attrs:{visible:t.visible,imgs:t.imgs,index:s},on:{hide:t.handleHide},scopedSlots:t._u([{key:"toolbar",fn:function({toolbarMethods:s}){return[e("button",{on:{click:function(e){return t.downloadImage(a.STORAGE_FILE_ID,a.STORAGE_FILE_NAME)}}},[t._v(t._s(t.$t("DownloadFile")))]),e("button",{on:{click:s.zoomIn}},[t._v("Zoom In")]),e("button",{on:{click:s.zoomOut}},[t._v("Zoom Out")]),e("button",{on:{click:s.rotateLeft}},[t._v("Rotate Left")]),e("button",{on:{click:s.rotateRight}},[t._v("Rotate Right")])]}}],null,!0)})],1)])]),e("div",{staticClass:"clearfix"})]}))]})),t.fileInProgressShow?e("div",{ref:"progressDiv",staticClass:"own-message message-bx myself progressbasediv",attrs:{id:"fileProgressId",tabindex:"0"}},[t._m(2),e("div",{staticClass:"progress w-100"},[e("div",{staticClass:"progress-bar bg-success progress-bar-striped",style:"width: "+t.progressValueShow+"%",attrs:{role:"progressbar","aria-valuenow":t.progressValue,"aria-valuemin":"0","aria-valuemax":"100"}})])]):t._e()],2)])])]),t.isShowTyping?e("div",{staticClass:"useristypingbase",class:{group:1==t.isChatOnGroup}},[0==t.isChatOnGroup&&t.userGroupId==t.isTypingGroupId?e("div",{staticClass:"useristyping2"},[t._v(t._s(t.isTyping)+" "),e("img",{attrs:{src:t.isTypingImage}})]):t._e(),1==t.isChatOnGroup&&t.userGroupId==t.isTypingGroupId?e("div",{staticClass:"groupistyping"},[[t._l(t.isTyping,(function(a){return e("div",{staticClass:"group_dp float-left"},[e("img",{attrs:{src:null==a?t.defaultImg:a}})])})),e("div",{staticClass:"useristyping2"},[e("img",{attrs:{src:t.isTypingImage}})])]],2):t._e()]):t._e(),t.userGroupId?e("div",{staticClass:"message-footer"},[e("div",{staticClass:"chattingarea_outer"},[e("form",{attrs:{id:"message-form"}},[t.isReplytoMessage?e("div",{staticClass:"replyhtmlbase_hs",attrs:{id:"replyhtml"}},[t._l(t.replyOnData,(function(a){return e("div",{staticClass:"replywidth",attrs:{id:"replyTxt"}},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:""!=a.AVATAR?a.AVATAR:t.defaultImg,alt:"profile"}})]),e("div",{staticClass:"message-data replycopied",attrs:{id:a.CHATLOG_ID}},[e("div",{staticClass:"message-header"},[e("span",{staticClass:"author-name mr-2"},[t._v(t._s(a.USER_NAME))]),e("span",{staticClass:"author-name message-time"},[t._v(t._s(t.DateDifference(a.CREATED_AT)))])]),e("a",{staticClass:"width_100 hyperLink",attrs:{name:a.MESSAGE_TOKEN,href:"javascript:;"}},[e("div",{staticStyle:{clear:"both"}})]),e("div",{staticClass:"message-body"},[e("p",{domProps:{innerHTML:t._s(t.truncateMessage(a.MESSAGE))}})])])])})),e("div",{staticClass:"replycross"},[e("a",{attrs:{id:"replycross",href:"javascript:;"},on:{click:t.ReplyCross}},[e("i",{staticClass:"fa fa-times text-danger"})])])],2):t._e(),t.isShowGifPanel?e("div",{staticClass:"replyhtmlbaseGIF",attrs:{id:"gifDiv"}},[t.isDataGifLoaded?e("div",{staticClass:"ball-loader"},[e("div",{staticClass:"ball-loader-ball ball1"}),e("div",{staticClass:"ball-loader-ball ball2"}),e("div",{staticClass:"ball-loader-ball ball3"})]):t._e(),t._l(t.GifImageData,(function(a){return e("div",{staticClass:"imgGif"},[e("img",{staticClass:"gifdata",staticStyle:{float:"left","margin-right":"5px"},attrs:{"data-isgif":"1",id:"gif0",src:a.media[0].gif.url,alt:""},on:{click:function(e){return t.SetGifToSendArea(a)}}}),e("a",{staticClass:"gif_cross",on:{click:function(e){return t.RemoveGifToSend()}}},[e("i",{staticClass:"fa fa-close text-danger"})])])}))],2):t._e(),e("div",{staticClass:"chattingarea",attrs:{id:"div_chatTextbox"}},[e("div",{staticClass:"msgarea",staticStyle:{height:"52px !important"}},[1==t.isSearchTxt&&0==t.isMessageEdit?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtMessage,expression:"txtMessage"}],ref:"focusText",style:{display:t.cssArea},attrs:{id:"txtChatMessage",placeholder:"Your Message",autofocus:"autofocus",autocomplete:"off","data-emojiable":"true",rows:"1"},domProps:{value:t.txtMessage},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.sendMessage(t.chatHistoryDetails))},keyup:function(e){return t.checkIsTyping(e)},input:function(e){e.target.composing||(t.txtMessage=e.target.value)}}}):t._e(),0==t.isSearchTxt&&0==t.isMessageEdit?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtSearchMessage,expression:"txtSearchMessage"}],attrs:{id:"txtChatMessageSearch",placeholder:"Search here",autocomplete:"off","data-emojiable":"true",rows:"1"},domProps:{value:t.txtSearchMessage},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.SearchForGIF())},input:function(e){e.target.composing||(t.txtSearchMessage=e.target.value)}}}):t._e(),1==t.isMessageEdit?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtMessage,expression:"txtMessage"}],ref:"focusText",style:{display:t.cssArea},attrs:{id:"txtChatEdtMessage",placeholder:"Edit Message",autofocus:"autofocus",autocomplete:"off","data-emojiable":"true",rows:"1"},domProps:{value:t.txtMessage},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.sendMessage(t.chatHistoryDetails))},keyup:function(e){return t.checkIsTyping(e)},input:function(e){e.target.composing||(t.txtMessage=e.target.value)}}}):t._e(),e("div",{staticClass:"emojionearea emojionearea-inline"},[""!=t.gifSource?e("div",{staticClass:"emojionearea-editor emoji-wysiwyg-editor",attrs:{id:"emjArea",contenteditable:"true",placeholder:"Your message",tabindex:"0",dir:"ltr",spellcheck:"false",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.sendMessage(t.chatHistoryDetails))}}}):t._e()])]),""==t.txtMessage?e("div",{staticClass:"uc_msgsicons"},[0==t.isRecording?e("a",{staticClass:"icon_gif noToolTip",attrs:{title:"Voice",id:"Voice",href:"javascript:;"},on:{click:t.startRecording}},[e("i",{staticClass:"fa fa-microphone",attrs:{"aria-hidden":"true"}})]):t._e(),t.isRecording?e("a",{staticClass:"icon_gif noToolTip",attrs:{title:"Voice",id:"Voice",href:"javascript:;"},on:{click:t.stopRecording}},[e("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}})]):t._e(),t.isGif?e("a",{staticClass:"icon_gif noToolTip",attrs:{title:"Gif",id:"gif",href:"javascript:;"},on:{click:t.ShowGifDiv}},[e("i",{staticClass:"fa fa-file-image-o"})]):t._e(),t.isGif?e("a",{staticClass:"icon_clip noToolTip",attrs:{title:"File Sharing",id:"attachmentFile",href:"javascript:;"},on:{click:t.AttachmentFileClick}},[e("i",{staticClass:"fa fa-paperclip"})]):t._e(),t.isShearchForMsg?e("a",{staticClass:"icon_search noToolTip",attrs:{title:"Chat Search",id:"a_chatSearch",href:"javascript:;"},on:{click:function(e){return t.SearchFortxt()}}},[e("i",{staticClass:"fa fa-search"})]):t._e(),t.searchGIFbyTxt?e("a",{staticClass:"icon_search noToolTip",attrs:{title:"GIF Search",id:"a_GIFSearch",href:"javascript:;"},on:{click:function(e){return t.SearchForGIF()}}},[e("i",{staticClass:"fa fa-search"})]):t._e(),t.indexArr.length>1?e("a",{attrs:{href:"javascript:;",id:"span_searchDown"},on:{click:t.searchDownClick}},[e("i",{staticClass:"fa fa-chevron-down mr-2 ml-2"})]):t._e(),t.indexArr.length>1?e("a",{attrs:{href:"javascript:;",id:"span_searchUp"},on:{click:function(e){return t.searchUpClick()}}},[e("i",{staticClass:"fa fa-chevron-up mr-2 ml-2"})]):t._e(),t.isShowCloseSearchIcon?e("a",{staticClass:"noToolTip",attrs:{href:"javascript:;",title:"Cancel",id:"span_closeSearchBox"},on:{click:t.CloseSearchBox}},[e("i",{staticClass:"fa fa-times text-danger ml-2"})]):t._e()]):t._e(),t.isGif?e("div",{staticClass:"emojibase"},[e("emoji-picker",{attrs:{search:t.search},on:{emoji:t.append},scopedSlots:t._u([{key:"emoji-invoker",fn:function({events:{click:t}}){return e("button",{staticClass:"emoji-invoker",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t(e)}}},[e("svg",{staticClass:"h-6 w-6 fill-current text-grey",attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),e("path",{attrs:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}})])])}},{key:"emoji-picker",fn:function({emojis:a,insert:s,display:i}){return e("div",{},[e("div",{staticClass:"emoji-picker",style:{top:i.y+"px",left:i.x+"px"}},[e("div",{staticClass:"emoji-picker__search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),e("div",t._l(a,(function(a,i){return e("div",{key:i},[e("h5",[t._v(t._s(i))]),e("div",{staticClass:"emojis"},t._l(a,(function(a,i){return e("span",{key:i,attrs:{title:i},on:{click:function(t){return s(a)}}},[t._v(t._s(a))])})),0)])})),0)])])}}],null,!1,1965430845)})],1):t._e(),""!=t.txtMessage||1==t.isSearchTxt&&""!=t.gifSource?e("div",{staticClass:"uc_sendbtn"},[e("a",{staticClass:"noToolTip",attrs:{href:"javascript:;",title:"Send",id:"sendmsgbtn"},on:{click:function(e){return t.sendMessage(t.chatHistoryDetails)}}},[e("i",{staticClass:"fa fa-paper-plane"})])]):t._e()]),e("div",{staticClass:"uc_msgsiconslist"})])])]):t._e()]):t._e(),t.isFileActive?e("div",{staticClass:"dev_msgbx_left_for_attachment"},[e("div",{staticClass:"files-tab",staticStyle:{height:"80vh","overflow-y":"auto"},attrs:{"data-simplebar":""}},[t._l(t.groupBydates(t.ChatFileList.resultSet),(function(a){return[e("div",{staticClass:"dividerdate mb-4 mt-4"},[e("div",{staticClass:"dividerdate_box"},[t._v(t._s(t.getPreviousDay(a.date)))])]),e("div",{staticClass:"clearfix"}),t._l(a.data,(function(a,s){return e("div",{staticClass:"newfilesdisplaygrid"},[e("a",{class:{"attachment box p-0 border d-inline-block mb-2 text-center":".jpg"==a.FILEEXTENSION||".png"==a.FILEEXTENSION,"attachment box mb-2 verticlealignmiddle text-center":".pdf"==a.FILEEXTENSION},attrs:{title:a.STORAGE_FILE_NAME},on:{click:function(e){return t.openLightbox(a.FILEPATH,a.FILEEXTENSION,a.STORAGE_FILE_NAME)}}},[".jpg"==a.FILEEXTENSION||".png"==a.FILEEXTENSION?e("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:a.FILEPATH,loading:"lazy",alt:"image"},on:{click:function(e){return t.openLightbox(a.FILEPATH,a.FILEEXTENSION,a.STORAGE_FILE_NAME)}}}):t._e(),".pdf"==a.FILEEXTENSION?e("i",{staticClass:"m-0 p-0 fa fa-file-pdf-o",staticStyle:{"margin-right":"0px","line-height":"2em"}}):t._e()])])}))]})),0==t.ChatFileList.resultSet.length?e("div",{staticClass:"text-center text-danger border p-2"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()],2)]):t._e(),t.isForwardToUser?e("div",{staticClass:"forward-pannel-wrapper px-1 col-3 team_info",attrs:{id:"div_globalforwardData"}},[e("div",{staticClass:"forward-pannel-inner",attrs:{id:"div_forwardOuter"}}),e("div",{staticClass:"forwardChatDiv"},[e("div",{staticClass:"frwrd-srch-bar mb-2 mt-1 search-menu"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearchForward,expression:"txtSearchForward"}],staticClass:"inputcrossfix",attrs:{type:"text",placeholder:"Search",id:"search-Forward","aria-label":"Username","aria-describedby":"basic-addon1",autocomplete:"off"},domProps:{value:t.txtSearchForward},on:{keyup:function(e){return t.SearchUsears(e)},input:function(e){e.target.composing||(t.txtSearchForward=e.target.value)}}}),""!=t.txtSearchForward?e("button",{staticClass:"close-icon",attrs:{id:"search-Forward-Cross",type:"reset"},on:{click:function(e){return t.searchForwardCrossClick()}}},[t._v("X")]):t._e(),""==t.txtSearchForward?e("button",{attrs:{type:"button",id:"search-Forward-find"}},[e("i",{staticClass:"fa fa-search"})]):t._e(),0==t.ForwardUsersList.length?e("div",{staticClass:"text-center text-danger border p-2",attrs:{id:"search-forward-error"}},[t._v(t._s(t.$t("NoRecordfound")))]):t._e(),e("div",{staticClass:"fowardlistbase"},t._l(t.ForwardUsersList,(function(a){return e("div",{staticClass:"member frwd",class:{"forward-selected":t.activeContact(void 0==a.USER_ID?a.GROUP_ID:a.USER_ID)},attrs:{id:void 0==a.USER_ID?a.GROUP_ID:a.USER_ID,"data-isgroup":"false"},on:{click:function(e){t.chooseUserToForward(this,a.hasOwnProperty("GROUP_ID")?parseInt(a.GROUP_ID):a.USER_ID)}}},[(a.USER_IMAGE=a.AVATAR)?e("div",{staticClass:"member-img"},[a.hasOwnProperty("AVATAR")?e("img",{staticClass:"profile-img",attrs:{src:0!=a.hasOwnProperty("AVATAR")?a.AVATAR:a.USER_IMAGE,alt:"profile"}}):a.hasOwnProperty("USER_IMAGE")?e("img",{staticClass:"profile-img",attrs:{src:0!=a.hasOwnProperty("USER_IMAGE")?a.USER_IMAGE:a.AVATAR,alt:"profile"}}):t._e()]):e("div",{staticClass:"member-img"},[e("i",{staticClass:"fa fa-user"})]),e("div",{staticClass:"member-detail"},[e("p",[e("b",[t._v(t._s(void 0==a.CONTACTNAME?a.GROUP_NAME:a.CONTACTNAME))])])])])})),0)]),e("div",{staticClass:"dev_btns float-left text-right pr-2"},[e("a",{staticClass:"btn btn-success btn-chat rounded text-white btn-sm mr-2",attrs:{href:"javascript:;",id:"aGroupTicketSave",title:"Forward"},on:{click:function(e){return t.messageForward(t.chatHistoryDetails)}}},[e("i",{staticClass:"fa fa-share pr-2"}),t._v(t._s(t.$t("Forward")))]),e("a",{staticClass:"btn_cncl rounded btn-sm btn-roundeddev_btns btn btn-danger",attrs:{href:"javascript:;",title:"Cancel"},on:{click:function(e){return t.forwardCancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])])])]):t._e(),t.isShowGroupUsers?e("div",{staticClass:"modal is-visible",attrs:{id:"user_list"}},[e("div",{staticClass:"modal-overlay modal-toggle"}),e("div",{staticClass:"modal-wrapper modal-transition"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",on:{click:t.CloseUserGroup}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v(t._s(t.GroupData.GROUP_NAME))])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modal-content recent-contacts-listing-wrapper"},t._l(t.GroupUsersData,(function(a){return e("div",{staticClass:"recent-contacts-listing member",attrs:{"data-userid":""}},[e("div",{staticClass:"member-img"},[e("img",{attrs:{src:void 0==a.USER_IMAGE?t.defaultImg:a.USER_IMAGE,alt:a.USER_IMAGE}})]),e("div",{staticClass:"member-detail"},[e("p",[e("b",[t._v(t._s(a.CONTACTNAME))])])])])})),0)])])]):t._e(),t.showMessageInfo?e("div",{staticClass:"modal is-visible",attrs:{id:"user_list"}},[e("div",{staticClass:"modal-overlay modal-toggle"}),e("div",{staticClass:"modal-wrapper modal-transition"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",on:{click:t.CloseMessageInfo}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v("Message Info")])]),e("div",{staticClass:"modal-content recent-contacts-listing-wrapper"},[0==t.EditMessagInfoListData?e("div",{staticClass:"text-center text-danger border p-2",attrs:{id:"search-forward-error"}},[t._v(t._s(t.$t("NoRecordfound")))]):t._e(),e("div",{staticClass:"modal-body"},t._l(t.EditMessagInfoListData,(function(a){return e("div",{staticClass:"recent-contacts-listing member"},[e("div",{staticClass:"member-detail"},[e("h3",[t._v(t._s(a.MESSAGE))]),e("p",[e("b",[t._v(t._s(t.DateDifference(a.CREATED_AT)))])])])])})),0)])])]):t._e()]),t.IsreactOnMessage?e("div",{attrs:{id:"app"}},[e("VEmojiPicker",{on:{select:t.selectEmoji}})],1):t._e()])},h=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"member-img"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg"}})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"singleAccUserDel phone",attrs:{href:"javascript:;",title:"Remove"}},[e("i",{staticClass:"fa fa-trash"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"control-section",staticStyle:{float:"left",width:"100%","text-align":"center"}},[e("em",{staticClass:"fa fa-upload"}),t._v(" Sending file in process... ")])}],f=(a("13d5"),a("88a7"),a("271a"),a("5494"),a("c1df")),g=a.n(f),v=a("669f"),C=a.n(v),_=a("be92"),b=a("b0ac"),y=a("3939");const S=Object(_["c"])({id:"communication",state:()=>({leftSideFilters:[],contactList:[],hearderContactNameFilter:[],loading:!1,contactDetails:"",responseSubmitContactInfo:"",callTabsInformationState:[],crmDetailRecordState:[],timerStart:0,timerInterval:"",addCommentForCallRes:"",countryState:[],recentCallState:[],callToken:"",deviceSetup:"",incomingAndOutGoingCall:!1,incomingCallData:"",incomingCall:!1,outGoingcallData:"",callEnded:!1,moduleDropdownState:[],subModuleDropdownState:[],incomingcallNumber:"",addUpdateGroupResState:"",groupListState:[],userByGroupIdState:[],deleteGroupResState:"",twilioListaState:[],globalSearch:"",twilioAccountDetails:""}),getters:{getLeftSideFilter:t=>t.leftSideFilters,getContactList:t=>t.contactList,getHearderContactNameFilter:t=>t.hearderContactNameFilter,getUserInformation:()=>{const{user:t}=Object(b["b"])();if(t){let e=t.profile;return{ID:e.id,Token:t.access_token,CompanyId:e.companyId,ame:e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"],UserType:e["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"],TimeFormat:e.timeFormat,Email:e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"],Avatar:e.avatar,ContainerName:e.containerName,CompanyLogo:e.companylogo,Currency:e.Currency,Gender:e.gender,PageSize:e.PageSize,IsWithCC:e.IsWithCC,DoNotShowDirtyCheck:e.DoNotShowDirtyCheck,IsClientCA:e.IsClientCA,CompanyStatusCode:e.companyStatusCode,LoginStatus:e.loginStatus,TimeZoneStatus:e.TimeZoneStatus,IsInTrial:e.IsInTrial,IsDefault:e.isdefault,TimeZone:e.timezone,MenuType:e.menutype,MenuTypeCode:e.menutype,Theme:e.theme,OrgComapanyId:e.OrgComapanyId,CompanyName:e.companyName,EnableMyDashboard:e.EnableMyDashboard,FlagNotificationCheck:e.FlagNotificationCheck,IsVendor:e.IsVendor,IsInitialSetup:e.initialSetup,DateFormat:e.dateFormat,IsContextMenuClosed:!0}}return null},getLoadingStatus:t=>t.loading,getContactDetails:t=>t.contactDetails,getResponseSubmitContactInfo:t=>t.responseSubmitContactInfo,getCallTabsInformation:t=>t.callTabsInformationState,getCrmDetailRecord:t=>t.crmDetailRecordState,getAddCommentForCallRes:t=>t.addCommentForCallRes,getcountry:t=>t.countryState,getRecentCall:t=>{let e=[];if(t.recentCallState.length>0){const a=t.recentCallState.reduce((t,e)=>{const a=e.CREATED_AT.split("T")[0];return t[a]||(t[a]=[]),t[a].push(e),t},{});e=Object.keys(a).map(t=>({date:t,calls:a[t]}))}return e},getIncomingAndOutGoingCall:t=>t.incomingAndOutGoingCall,getIncomingCallData:t=>t.incomingCallData,getIncomingCallStatus:t=>t.incomingCall,getOutGoingcallData:t=>t.outGoingcallData,getCallEnded:t=>t.callEnded,getModuleDropdown:t=>t.moduleDropdownState,getSubModuleDropdown:t=>t.subModuleDropdownState,getAddUpdateGroupRes:t=>t.addUpdateGroupResState,getGroupList:t=>t.groupListState,getUserByGroupId:t=>t.userByGroupIdState,getDeleteGroupRes:t=>t.deleteGroupResState,getTwilioList:t=>t.twilioListaState,getGlobalSearch:t=>t.globalSearch,getTwilioAccountDetails:t=>t.twilioAccountDetails},actions:{async intitializeDevice(){this.deviceSetup=new y["a"](this.callToken,{logLevel:1,codecPreferences:["opus","pcmu"]}),this.addDeviceListeners(this.deviceSetup),this.deviceSetup.register()},async addDeviceListeners(t){await t.on("registered",(function(){console.log("this.Device Ready to make and receive calls!")})),await t.on("error",(function(t){console.log("this.Device Error:",t)})),t.on("incoming",this.handleIncomingCall),this.deviceSetup.audio.isOutputSelectionSupported},async makeOutgoingCall(t){this.deviceSetup&&(this.outGoingcallData=await this.deviceSetup.connect({params:t}),this.incomingAndOutGoingCall=!0)},handleIncomingCall(t){this.incomingAndOutGoingCall=!0,this.incomingCall=!0,this.incomingCallData=t,this.incomingcallNumber=this.incomingCallData.parameters.From},hangup(){this.incomingAndOutGoingCall=!1,this.outGoingcallData||this.incomingCallData?this.incomingCallData?this.incomingCallData.disconnect():this.outGoingcallData.disconnect():this.deviceSetup&&this.deviceSetup.disconnect(),this.callEnded=!0,this.clearInterval(),this.outGoingcallData="",this.incomingCallData=""},async leftSideFilter(){this.loading=!0;const{data:t}=await o["a"].GetDepartmentsAndLocations("type=user");t&&t.Locations.map(t=>(t.department_name=t.user_city,t)),t&&(this.leftSideFilters=[{type:"Department",data:t.Departments},{type:"Location",data:t.Locations}]),this.loading=!1},async getContact(t){this.loading=!0,this.hearderContactNameFilter=[];const{data:e}=await o["a"].CompanyContact(t);this.contactList=JSON.parse(e),this.contactList=this.contactList.filter(t=>null!==t.EMAIL_ID),this.contactList.map(t=>{if(t.CONTACTNAME){let e=t.CONTACTNAME?this.hearderContactNameFilter.find(e=>e==t.CONTACTNAME.substring(0,1).toUpperCase()):null;e||this.hearderContactNameFilter.push(t.CONTACTNAME.substring(0,1).toUpperCase())}}),this.loading=!1},async groupList(t){console.log("groupList",t),this.loading=!0;const{data:e}=await o["a"].GetAllGroups(t);console.log("data",e),this.groupListState=e,this.loading=!1},async userByGroupId(t){console.log("groupList",t),this.loading=!0;const{data:e}=await o["a"].GetUserByGroupId(t);console.log("data",e),this.userByGroupIdState=e,this.loading=!1},async addOrUpdateGroup(t){this.loading=!0;const{data:e}=await o["a"].updateRoom(t);this.addUpdateGroupResState=e,this.loading=!1},async deleteGroup(t){this.loading=!0;const{data:e}=await o["a"].DeleteGroup(t);this.deleteGroupResState=e,this.loading=!1},async NexoCall(t){this.loading=!0;const{data:e}=await o["a"].NexoCall(t);console.log("data",e),this.loading=!1},async VonageCall(t){this.loading=!0;const{data:e}=await o["a"].VonageCall(t);console.log("data",e),this.loading=!1},async contactInformation(t){this.loading=!0;const{data:e}=await o["a"].GetUserDetailByPhone(t);let a=e?e[0].Value:"";this.contactDetails=JSON.parse(a).JsonData[0],this.loading=!1},async addContactInformation(t){this.loading=!0;const{data:e}=await o["a"].SaveUnifiedContact(t);this.responseSubmitContactInfo=e[0],this.loading=!1},async addCommentForCall(t){this.loading=!0;const{data:e}=await o["a"].SaveCallMapping(t);console.log("testttt",e),this.addCommentForCallRes=e[0],this.loading=!1},async countryGet(t){this.loading=!0;var e="id=&moduleName=&type=country&search=&refId=";const{data:a}=await o["a"].GetDDLData(e);this.countryState=a?a.DATA:"",this.loading=!1},async callTabsInformation(t){if("crm"!=t.tab){this.loading=!0;let e="";"Ticket"==t.tab?e="GetUnifiedTicketingListing":"project"==t.tab&&(e="GetUnifiedProjectListing");const{data:a}=await o["a"].GetUnifiedTicketingListing(t.params,e);let s=a?a[0].Value:"";this.callTabsInformationState=s?JSON.parse(s).DATA:[],this.loading=!1}},async crmDetailRecord(t){this.loading=!0;let e="",a="";"Leads"==t.tab?e="GetUnifiedLeadDetail":"CRM_DEALS"==t.tab?e="GetUnifiedDealDetail":"Quote"==t.tab?(e="GetUnifiedOrderListing",a="QO"):"PurchaseOrderWithoutRef"==t.tab?(e="GetUnifiedOrderListing",a="PO"):"CRM_SALES_ORDERS"==t.tab?(e="GetUnifiedOrderListing",a="SO"):"Invoices"==t.tab&&(e="GetUnifiedOrderListing",a="INV");const{data:s}=await o["a"].GetUnifiedOrderListing(t.params+"&type_code="+a,e);let i=s?s[0].Value:"";this.crmDetailRecordState=i?JSON.parse(i).DATA:[],this.loading=!1},async callTimerStart(){clearInterval(this.timerInterval),this.timerInterval=setInterval(()=>{this.timerStart++},1e3)},async recentCalls(t){this.loading=!0;const{data:e}=await o["a"].getRecentcalls(t);this.recentCallState=e&&e[0].Value?JSON.parse(e[0].Value):[],this.loading=!1},clearInterval(){clearInterval(this.timerInterval)},async moduleDrowdown(t){this.loading=!0;const{data:e}=await o["a"].DropDownForAddComment(t);this.moduleDropdownState=e.data,this.loading=!1},async subModuleDrowdown(t){this.loading=!0;const{data:e}=await o["a"].DropDownForSubmodule(t);let a=e?e[0].Value:"";this.subModuleDropdownState=a?JSON.parse(a).DATA:[],this.loading=!1},async twilioList(t){this.loading=!0;const{data:e}=await o["a"].TwilioList(t);this.twilioListaState=e?JSON.parse(e[0].value):[],console.log("this.twilioListaState",this.twilioListaState),this.loading=!1},async GetTwilioUserConfigDetail(t){const{data:e}=await o["a"].GetTwilioUserConfigDetail(t);let a=e?JSON.parse(e[0].value):"";this.twilioAccountDetails=a?a.DATA[0]:""}}});a("542c");var I=a("825ae"),w=a("79b5"),x=a("b9b9");const T=a("bc3a").default;var A=document,D={props:{chatUserInfo:{type:Array|String|Number|Boolean|Object},Groupdata:{type:Array|Object},groupId:{type:String},groupNameDisplay:{type:String},chatHistoryDetails:{type:Array|String|Number|Boolean|Object},store:{type:Object},GroupAliasName:{type:String},ChatUserListData:{type:Array|String|Number|Boolean|Object},userGroupId:{type:String},RecieverId:{type:String},searchByGlobal:{type:String},isCreateGroup:{type:Boolean},fileInProgress:{type:Boolean},progressValue:{type:Number}},components:{"emoji-picker":C.a,VueEasyLightbox:I["a"],VEmojiPicker:w["a"]},data(){return{name:"Demo",txtMessage:"",visiblePop:!1,moment:g.a,sender:{},type:"web",mobileType:"",isReplytoMessage:!1,replyOnData:[],isForwardToUser:!1,defaultImg:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",input:"",search:"",isShowCloseSearchIcon:!1,txtSearchForward:"",ForwardUsersList:[],selectUserIds:[],chaTIdForForward:"",isChatActive:!0,isFileActive:!1,GifImageData:[],isShowGifPanel:!1,gifSource:"",tmpFilter:[],isDataLoaded:!0,isSearchTxt:!0,txtSearchMessage:"",cssArea:"",isGif:!0,GroupUsersData:[],isShowGroupUsers:!1,GroupData:[],sortExp:"",sortBy:"",city:"",UsersListDataForGroups:[],blinkText:null,indexArr:[],scrollCount:0,blobUrl:"",containerName:"",imgPath:"",blobUserUrl:"",pageNum:1,pageSize:"",departmentId:"",Loaddatashow:!0,lastRow:0,isShearchForMsg:!0,searchGIFbyTxt:!1,ChatFileList:[],blinkRepliedText:null,isTyping:"",typing:!1,timeout:void 0,user:null,isShowTyping:!1,isTypingImage:"https://talygenv.github.io/Vue-UI-Content/images/UC/typingo.gif",allchatPersons:[],groupShow:!1,groupId:"",Grouptitle:"",selectedMembers:[],activeGroup:"",updategroup:!1,MemberList:[],enabled:!0,isChatOnGroup:!1,isTypingGroupId:"",isDataGifLoaded:!1,isGrouped:!1,selectedLayout:"Default",lastRecordNumber:50,imgs:"",visible:!1,index:0,IsreactOnMessage:!1,isRecording:!1,mediaRecorder:null,audioChunks:[],audioUrl:null,uploadUrl:"https://qatestfilemedia.talygen.com/api/UploadStreamNew",headphonesConnected:!1,isMessageEdit:!1,MessagePlaceholder:"",chatMessageToken:"",showMessageInfo:!1,EditMessagInfoListData:[]}},computed:{groupShowProps:function(){return this.isCreateGroup},fileInProgressShow:function(){return this.fileInProgress},progressValueShow:function(){return this.progressValue},todayDate:function(){return(new Date).toISOString().split("T")[0]}},watch:{"store.$state.globalSearch":{immediate:!0,handler(){""!=this.store.$state.globalSearch?(this.enabled=!1,this.HighlightOnReplyItem(this.store.$state.globalSearch)):this.enabled=!0}}},mounted(){const t=document.querySelector("#div_chatDetails");null!=t&&t.addEventListener("scroll",e=>{1==t.scrollTop&&(this.Loaddatashow=!0)}),window.addEventListener("resize",this.updateDimensions);this.store2.GetUserInfo.CompanyId,this.store2.GetUserInfo.ID,this.store2.GetUserInfo.Email,this.store2.GetUserInfo.Name,this.blobUserUrl,this.store2.GetUserInfo.Avatar,this.type},beforeDestroy(){window.removeEventListener("resize",this.updateDimensions)},created:async function(){var t;let e=this;e.MessagePlaceholder="Your Message",e.GetContactList(),e.GetUserInfo=e.GetUserInfo?e.GetUserInfo:e.store.getUserInformation,e.containerName=null===(t=e.GetUserInfo)||void 0===t?void 0:t.ContainerName,e.messageSetting(),await e.GetBlobUrl(),await e.BindForwardUsers(),e.tmpFilter=e.ForwardUsersList,e.type="web",e.mobileType&&(e.type="mobile");let a={companyId:e.store2.GetUserInfo.CompanyId,id:e.store2.GetUserInfo.ID,emaiId:e.store2.GetUserInfo.Email,name:e.store2.GetUserInfo.Name,imgPath:e.blobUserUrl+e.store2.GetUserInfo.Avatar,type:e.type,userId:this.store2.GetUserInfo.ID};e.selectedMembers=[],e.selectedMembers.push({USER_ID:e.GetUserInfo.ID,CONTACTNAME:e.GetUserInfo.Name}),e.sender=a,e.isDataLoaded=!1},sockets:{connect(){console.log("Connected to server")},disconnect(){console.log("Disconnected from server")},newMessageAttachment:async function(t){var e=this,a=new Date;t.roomId==e.userGroupId&&t.userId==e.sender.id&&e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.text,GROUP_ID:t.roomId,FROM_USER_ID:t.from,CREATED_AT:a,MESSAGE_TOKEN:t.token,AVATAR:t.fromUserImg,IS_READ:0,USER_NAME:t.name,FILEPATH:t.url,STORAGE_FILE_NAME:t.file,STORAGE_FILE_SIZE:t.size,ATTACHMENT:1,FILEEXTENSION:".jpg"}),await e.$socket.emit("get All Chat Persons",e.sender);var s=new Object;s=t,await e.$socket.emit("user chat Read",s),await e.$emit("readMessageUpdate",t.roomId,e.sender)},newMessage:function(t){var e=this,a=new Date;if(""==t.chatMessageToken||void 0==t.chatMessageToken)t.parentId?e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.text,GROUP_ID:t.room,FROM_USER_ID:e.store2.GetUserInfo.ID,CREATED_AT:a,MESSAGE_TOKEN:t.msg_token,AVATAR:t.sImg,IS_READ:0,USER_NAME:t.from,PARENT_MESSAGE:t.parent_msg,CHAT_LOG_REF_ID:t.parentId,PARENT_DETAIL:t.msg_detail}):e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.text,GROUP_ID:t.room,FROM_USER_ID:e.store2.GetUserInfo.ID,CREATED_AT:a,MESSAGE_TOKEN:t.msg_token,AVATAR:t.sImg,IS_READ:0,USER_NAME:t.from});else{var s=e.chatHistoryDetails.resultSet.findIndex(e=>e.MESSAGE_TOKEN==t.chatMessageToken);-1!==s&&e.$set(e.chatHistoryDetails.resultSet[s],"MESSAGE",t.text)}e.isDataLoaded=!1},broadcastContact:async function(t){var e=this,a=new Date;if(""==t.chatMessageToken||void 0==t.chatMessageToken)t.room>0&&t.userId==e.sender.id&&t.room==e.userGroupId&&e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.msg,GROUP_ID:t.room,FROM_USER_ID:t.fromUserId,CREATED_AT:a,MESSAGE_TOKEN:t.msg_token,AVATAR:t.fromUserImg==e.blobUserUrl?e.defaultImg:t.fromUserImg,IS_READ:0,FILEPATH:t.url,IS_FORWARD:t.is_forward,REF_FORWARD_ID:t.REF_FORWARD_ID,USER_NAME:t.fromUser,PARENT_MESSAGE:""==t.parentTxt?"":t.parentTxt,CHAT_LOG_REF_ID:t.parentId,PARENT_DETAIL:t.msg_detail,STORAGE_FILE_NAME:t.file,STORAGE_FILE_SIZE:t.size,ATTACHMENT:t.is_attachment,FILEEXTENSION:t.FILEEXTENSION});else{var s=e.chatHistoryDetails.resultSet.findIndex(e=>e.MESSAGE_TOKEN==t.chatMessageToken);t.userId==e.sender.id&&t.room==e.userGroupId&&e.$set(e.chatHistoryDetails.resultSet[s],"MESSAGE",t.msg)}await e.$socket.emit("get All Chat Persons",e.sender);var i=new Object;i=t,await e.$socket.emit("user chat Read",i),await e.$emit("readMessageUpdate",t.room,e.sender),e.isDataLoaded=!1},newMessageForward:function(t){var e=this,a=new Date;t.room==e.userGroupId&&t.to_user==e.sender.id&&(e.chatHistoryDetails.resultSet.push({CHATLOG_ID:t.chatId,MESSAGE:t.text,GROUP_ID:t.room,FROM_USER_ID:e.store2.GetUserInfo.ID,CREATED_AT:a,MESSAGE_TOKEN:t.msg_token,AVATAR:t.sImg==e.blobUserUrl?e.defaultImg:t.sImg,IS_READ:0,FILEPATH:t.url,IS_FORWARD:t.is_forward,REF_FORWARD_ID:t.REF_FORWARD_ID,USER_NAME:t.from,PARENT_MESSAGE:"",CHAT_LOG_REF_ID:null,PARENT_DETAIL:"",ATTACHMENT:t.is_attachment,STORAGE_FILE_NAME:t.file,FILEEXTENSION:t.FILEEXTENSION}),e.chatHistoryDetails.room=t.room,console.log("selfUser",t)),e.isDataLoaded=!1},allChatAttachments:function(t){var e=this;e.ChatFileList=t,console.log("ChatFileList",e.ChatFileList)},display:function(t){var e=this,a={};if(1==t.typing){if(0==t.IsGroup)e.isChatOnGroup=t.IsGroup,t.Group==e.userGroupId&&(a=this.ChatUserListData.find(e=>e.GROUP_ID==t.Group.toString()),e.isTypingGroupId=a.GROUP_ID,null!=a&&t.user==e.sender.id?(e.isTyping=a.GROUP_NAME+" is typing",e.isShowTyping=!0,setTimeout((function(){e.isTyping="",e.isTypingGroupId="",e.isShowTyping=!1}),4e3)):(e.isTyping="",e.isTypingGroupId="",e.isShowTyping=!1));else if(1==t.IsGroup&&(e.isChatOnGroup=t.IsGroup,t.user!=e.sender.id)){var s=this.ChatUserListData.find(e=>e.GROUP_ID==t.Group);e.isTypingGroupId=s.GROUP_ID;var i=e.UsersListDataForGroups.find(e=>e.USER_ID==t.user);e.allchatPersons.push(i.USER_IMAGE);var o=[...new Set(e.allchatPersons)];e.isTyping=o,e.isShowTyping=!0,setTimeout((function(){e.isTyping="",e.allchatPersons=[],e.isTypingGroupId="",e.isShowTyping=!1}),4e3)}}else t.user==e.sender.id&&(e.txtMessage=""),e.isTyping="",e.gifSource="",e.isTypingGroupId="",e.cssArea="block",e.isShowTyping=!1},GroupCreated:async function(t){var e=this;e.$parent.CreateGroupmsg(t.msg),e.$parent.closeGroup()},GroupUpdated:async function(t){var e=this;e.ShowAlert(t,"success",!0,e.$t("Alert")),e.$parent.closeGroup(),e.groupId="";let a={id:e.store.getUserInformation.ID,emaiId:"",companyId:e.store.getUserInformation.CompanyId};e.$socket.emit("GetAllMyGroup",a,(function(t){console.log("record",t)}))},EditedMessageListInfo:function(t){var e=this;t.recordset.length>0?t.recordset[0].FROM_USER_ID==e.sender.id&&(e.showMessageInfo=!0,e.EditMessagInfoListData=t.recordset):(e.showMessageInfo=!0,e.EditMessagInfoListData=0)}},directives:{focus:{inserted(t){t.focus()}}},updated(){o["a"].GetBlobUrl().then(t=>{this.blobUserUrl=t.data[0].CONFIG_DATA_VALUE+this.containerName+"/Upload/UserProfileImage/"})},methods:{downloadImage:function(t,e){var a=`fileId=${t}&IsVersion=0`;o["a"].DownloadFileSingle(a).then(t=>{var a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",e),document.body.appendChild(s),s.click()})},CloseMessageInfo:function(){var t=this;t.showMessageInfo=!1},editMessageInfo:function(t,e){var a=this,s={};s.groupId=t.GROUP_ID,s.userId=a.sender.id,s.companyId=a.sender.companyId,s.messageeToken=t.MESSAGE_TOKEN,s.email=a.sender.emaiId,a.$socket.emit("edited message Info",s)},formatDateToISO(t){const e=new Date(t);return e.toISOString()},EditMessage:function(t,e){var a=this;a.txtMessage=t.MESSAGE,a.isMessageEdit=!0,a.isSearchTxt=!1,a.isSearchTxt=!1,a.MessagePlaceholder="Edit Message",a.chatMessageToken=t.MESSAGE_TOKEN},checkIsGIFForEditMessage:function(t){return!/<img[^>]+src="([^">]+)"/.test(t)},sendAudio:function(){var t=new FormData;t.append("fileId",0),t.append("folderId",0),t.append("moduleName","Communication"),t.append("subModuleName",""),t.append("isGlobal",0),t.append("file",vm.AttachmentFileDetail[0])},async startRecording(){let t=await navigator.mediaDevices.enumerateDevices();if(this.headphonesConnected=t.length>0,this.headphonesConnected){const t=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.ondataavailable=t=>{this.audioChunks.push(t.data)},this.mediaRecorder.onstop=this.handleStop,this.mediaRecorder.start(),this.isRecording=!0}else this.ShowAlert(this.$t("ConnectDevice"),"failure",!0,this.$t("Alert"))},stopRecording(){this.mediaRecorder.stop(),this.isRecording=!1},handleStop(){const t=new Blob(this.audioChunks,{type:"audio/wav"});this.uploadAudio(t),this.audioChunks=[]},async uploadAudio(t){var e=this;this.token=e.GetUserInfo?e.GetUserInfo.Token:"";const a=new FormData;a.append("file",t,"recording.wav"),a.append("fileId",0),a.append("folderId",0),a.append("moduleName","Communication"),a.append("subModuleName",""),a.append("isGlobal",0),await T.post(e.uploadUrl,a,{headers:{Authorization:"Bearer "+e.token}}).then(t=>{if(null==t.data.errorMsg){if(JSON.parse(t.data.fileID)[0].Value>0){e.SavedFileId=JSON.parse(t.data.fileID)[0].Value;var a={companyId:e.sender.companyId,userId:e.sender.id,parentId:null,fileType:"voice",parentTxt:"undefined"===typeof txt?"":txt,parentDetail:"undefined"===typeof detail?"":detail,roomId:e.userGroupId,email:e.sender.Email,storagefileId:parseInt(e.SavedFileId),finalUrl:null,file:t.data.fileName,size:t.data.fileSize,url:t.data.filePath,from:e.sender.id,typePath:t.data.fileType};e.$socket.emit("Send attachments",a),e.isLoading=!1,setTimeout(()=>{e.fileInProgress=!1},100)}this.mediaRecorder.stop(),this.isRecording=!1}else e.fileInProgress=!1,this.mediaRecorder.stop(),this.isRecording=!1,e.ShowAlert(t.data.errorMsg,"failure",e.$t("Alert"))})},stopRecording(){this.isRecording&&(this.mediaRecorder.stop(),this.isRecording=!1)},reactEmoji:function(){this.IsreactOnMessage=!0},selectEmoji(t){console.log(t)},fileProgress(){var t=document.getElementById("fileProgressId");console.log("element",t),t.scrollIntoView({behavior:"smooth",block:"start"})},handleHide(){this.visible=!1},openLightbox:function(t,e,a){if(".jpg"==e||".png"==e)this.visible=!0,this.index=0,this.imgs=[{title:a,src:t}];else{var s="filePath="+t;o["a"].DownloadAttachment(s).then(a=>{if(null!=a.data&&200===a.status){const i=a.data,o=`data:${e};base64,${i}`;var s=document.createElement("a");s.href=o,s.setAttribute("download",t.split("/")[3]),document.body.appendChild(s),s.click(),this.isLoading=!1}else this.isLoading=!1})}},messageSetting(){o["a"].GetUserChatSetting().then(({data:t})=>{let e=t?JSON.parse(t[0].value):"";var a=e?e[0].layout_type:"";this.selectedLayout=a||"Default"})},filterSameUser(t){var e;t&&(t=t.map(t=>({...t,sameName:null})),t.map((a,s)=>(e==a.FROM_USER_ID?s==t.length-1?(t[s].sameName=1,t[s-1].sameName=0):(a.sameName=0,t[s-1].sameName=0):0!=s?s==t.length-1?(t[s-1].sameName=1,t[s].sameName=1):(t[s-1].sameName=1,a.sameName=0):a.sameName=1,e=e!=a.FROM_USER_ID?a.FROM_USER_ID:e,a)));return t&&t.length>0?this.groupBydates(t):[]},selectLayoutType:function(t){var e=this;e.selectedLayout=t},notifyMeChat:function(t){$.notifyClose();var e="You have received a new Message ("+t+")",a="",s=Globalize.localize("TALYGEN")+":"+Globalize.localize("UnifiedCommunication"),i=1e4;"Notification"in window?"granted"===Notification.permission?displayNotificationChat(e,a,s,i,t):"denied"!==Notification.permission&&Notification.requestPermission().then((function(o){"granted"===o&&displayNotificationChat(e,a,s,i,t)})):alert("This browser does not support desktop notification")},displayNotificationChat(t,e,a,s,i){s=s||1e4;var o={body:t},r=new Notification(a,o);setTimeout(r.close.bind(r),s)},bellDetails:function(t){t>0&&($("#popChatCount").show(),this.notifyMeChat(t)),0==t&&$("#popChatCount").hide(),t>99&&(t=99),$("#popChatCount").html(t)},ShowTransitionOnReply:function(t){var e=this,a=t.split("~")[2];if(""!=a){var s=0,i=e.chatHistoryDetails.resultSet.filter(t=>t.MESSAGE_TOKEN==a);if(null!=i||""!=i||void 0!=i){var o=document.getElementById("chatLog_"+i[s].CHATLOG_ID);o.scrollIntoView({behavior:"smooth",block:"start"}),e.blinkRepliedText=i[s].CHATLOG_ID,setTimeout((function(){e.blinkRepliedText="",e.store.$state.globalSearch=""}),8e3)}}},truncateMessage(t){const e=200;var a=/(https?:\/\/.*\.(?:gif))/i,s=/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]/u;a.test(t),s.test(t);return/<img[^>]+src="([^">]+)"/.test(t)||/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]/u.test(t)?t:t.length>e?t.substring(0,e)+"...":t},checkIsTyping:function(t){var e=this;if(""!=e.txtMessage.trim()){var a=e.ChatUserListData.find(t=>t.GROUP_ID==e.userGroupId);if(1==a.IS_GROUP){var s=a.GROUP_NAME_ALIAS.split("_"),i=[...new Set(s)];i.join(",");e.$socket.emit("is typing",{user:e.sender.id,Group:e.userGroupId,typing:!0,IsGroup:!0})}else void 0==a&&(a=e.ChatUserListData.find(t=>t.GROUP_ID==e.userGroupId.toString())),13!=t.which&&""!=e.txtMessage?e.$socket.emit("is typing",{user:a.RECEIVER_ID,Group:e.userGroupId,typing:!0,IsGroup:!1}):""==e.txtMessage&&(e.typing=!1,e.$socket.emit("is typing",{user:a.RECEIVER_ID,Group:e.userGroupId,typing:!1,IsGroup:!1}))}},HighlightOnReplyItem:function(t){var e=this;if(""!=t){var a=0,s=e.chatHistoryDetails.resultSet.filter(e=>e.CHATLOG_ID==t);if(null!=s||""!=s||void 0!=s){var i=document.getElementById("chatLog_"+s[a].CHATLOG_ID);i.scrollIntoView({behavior:"smooth",block:"start"}),e.blinkRepliedText=s[a].CHATLOG_ID,setTimeout((function(){e.blinkRepliedText="",e.store.$state.globalSearch=""}),8e3)}}},SearchForGIF:function(){var t=this;t.GetGifImages(t.txtSearchMessage)},Loadmore:function(){var t=this;t.lastRecordNumber+=50;var e=new Object;e=t.sender,e.lastrow=t.lastRow,e.recordNumber=t.lastRecordNumber,e.is_first_time=1,e.room=t.userGroupId,e.lastchatId=0,e.searchForMsg=null,e.isGlobalSearch=!1,t.$socket.emit("roomMoreData",e)},GetBlobUrl:async function(){await o["a"].GetBlobUrl().then(t=>{this.blobUserUrl=t.data[0].CONFIG_DATA_VALUE+this.containerName+"/Upload/UserProfileImage/"})},VoiceCallClick:function(){var t=this;t.$emit("VoiceCallClickToUser")},append(t,e,a){var s=this;s.txtMessage+=t,$("#emjArea").append(t);var i=s.ChatUserListData.find(t=>t.RECEIVER_ID==s.RecieverId.toString());void 0==i&&(i=s.ChatUserListData.find(t=>t.GROUP_ID==s.userGroupId.toString())),s.$socket.emit("is typing",{user:i.RECEIVER_ID,Group:s.userGroupId,typing:!0})},insert:function(t){this.input+=t},activeContact(t){let e=this.selectUserIds.find(e=>e==t);return!!e},BindForwardUsers:async function(){var t=this,e=`pageSize=${t.pageSize}&pageNum=${t.pageNum}&departmentId=${t.departmentId}&type=company&city=${t.city}&search=${t.search}&sortBy=${t.sortBy}&sortExp=${t.sortExp}`;await o["a"].CompanyContact(e).then(e=>{JSON.parse(e.data).length>0&&(t.ForwardUsersList=JSON.parse(e.data),t.UsersListDataForGroups=JSON.parse(e.data),t.tmpFilter=JSON.parse(e.data))}),t.ForwardUsersList.length>0?(t.ChatUserListData.forEach((e,a)=>{var s=t.ForwardUsersList,i=(s.find(t=>t.USER_ID==e.RECEIVER_ID),s.findIndex(t=>t.USER_ID==e.RECEIVER_ID));null!==i&&(t.ForwardUsersList.splice(i,1),t.tmpFilter.splice(i,1),t.ForwardUsersList.push(e),t.tmpFilter.push(e))}),t.Groupdata=t.ForwardUsersList.shift(),t.isDataLoaded=!1):(t.ForwardUsersList=[],t.isDataLoaded=!1)},Getgroupusers:function(t){var e=this;e.GroupData=t,e.GroupUsersData=[],e.ShowusersofGroup=!0;var a=e.GroupData.GROUP_NAME_ALIAS.split("_").map(Number);a.shift();a.forEach(t=>{const a=e.UsersListDataForGroups.find(e=>e.USER_ID==t);void 0!=a&&e.GroupUsersData.push(a)}),e.isShowGroupUsers=!0},CloseUserGroup(){var t=this;t.GroupUsersData=[],t.isShowGroupUsers=!1},showActionButtons:function(){var t=this;1==t.visiblePop?t.visiblePop=!1:t.visiblePop=!0},sendMessage:async function(t){var e=this;e.isMessageEdit=!1;var a=$("#emjArea").html();if(""!==e.txtMessage.trim()||""!=e.gifSource){if(e.replyOnData.length>0){var s=e.replyOnData[0].CHATLOG_ID,i=e.replyOnData[0].MESSAGE;if(s>0){var o="";o=s>0?"1~"+e.replyOnData[0].USER_NAME+"~"+e.replyOnData[0].MESSAGE_TOKEN:"0~"+e.replyOnData[0].USER_NAME+"~"+e.replyOnData[0].MESSAGE_TOKEN}}if(void 0!=a)var r=a.split("<a")[0];var l=e.userGroupId;e.$socket.emit("createMessage",{text:""!=e.gifSource?e.txtMessage+r:e.txtMessage,room:l,parentId:s,parentTxt:i,parentDtl:o,chatMessageToken:e.chatMessageToken},(function(){})),e.chatMessageToken="",await e.$emit("ConnectIO"),await e.$socket.emit("get All Chat Persons",e.sender),e.txtMessage="",e.gifSource="",e.isReplytoMessage=!1,e.replyOnData=[],e.cssArea="block",e.CloseSearchBox();var n={roomId:l,senderId:e.sender.id};await e.$socket.emit("chatTab blink new message",n);let t={companyId:e.store2.GetUserInfo.CompanyId,userId:e.store2.GetUserInfo.ID,emaiId:e.store2.GetUserInfo.Email,name:e.store2.GetUserInfo.Name,imgPath:e.blobUserUrl+e.store2.GetUserInfo.Avatar,type:e.type};e.$socket.emit("user total",t)}},DeleteMessage:function(t,e){var a=this;a.confirmR(a.$t("ConfirmDeleteMessage"),!0,a.$t("Delete")+"  "+a.$t("communication"),(function(){var e={};e=a.sender,e.room=t.GROUP_ID,e.chatLogId=t.CHATLOG_ID,a.$socket.emit("delete chat log",e),a.$socket.emit("get All Chat Persons",a.sender);var s={alias:a.GroupAliasName,companyId:e.companyId,emaiId:e.emaiId,groupName:a.groupNameDisplay,id:e.id,imgPath:e.imgPath,is_first_time:1,isGlobalSearch:!1,lastchatId:null,lastrow:a.lastRow,name:e.name};a.$socket.emit("joinRoom",s)}))},ReplyMessageToUser:function(t){var e=this;this.$refs.focusText.focus(),e.replyOnData=[],e.replyOnData.push(t),e.isReplytoMessage=!0},ReplyCross:function(){var t=this;t.$refs.focusText.focus(),t.isReplytoMessage=!1,t.replyOnData=[]},DateDifference:function(t){var e=this,a=new Date,s=Math.ceil(Math.floor(a.getTime()-new Date(t).getTime())/1e3),i=Math.floor(s/3600),o=s%3600,r=Math.floor(o/60),l=Math.floor(s/86400);if(s<60)return e.$t("Now");if(s<120)return e.$t("minutes ago");if(s<2700)return r+" "+e.$t("minutes ago");if(s<5400)return e.$t("an")+" "+e.$t("hour ago");if(s<86400)return i+" "+e.$t("hour ago");if(s<172800)return e.$t("Yesterday");if(s<2592e3)return l+" "+e.$t("days ago");if(s<31104e3){var n=Math.floor(l/30);return n<=1?"1 "+e.$t("months ago"):n+" "+e.$t("months ago")}var c=Math.floor(l/365);return c<=1?"1 "+e.$t("years ago"):c+" "+e.$t("years ago")},CloseSearchBox:function(){var t=this;t.txtMessage="",t.txtSearchMessage="",t.indexArr=[],t.isSearchTxt=!0,t.cssArea="block",t.searchGIFbyTxt=!1,t.isShearchForMsg=!0,t.isShowCloseSearchIcon=!1,t.isShowGifPanel=!1,t.isGif=!0},SearchFortxt:function(){var t=this;if(t.isGif=!1,t.isSearchTxt=!1,t.isShearchForMsg=!0,t.isShowCloseSearchIcon=!0,""!=t.txtSearchMessage.toLowerCase()){t.chatHistoryDetails.resultSet.length,t.chatHistoryDetails.resultSet[0].CHATLOG_ID,t.chatHistoryDetails.resultSet[0].GROUP_ID;""!=t.txtSearchMessage&&(t.indexArr=t.chatHistoryDetails.resultSet.filter(e=>"string"===typeof e.MESSAGE&&e.MESSAGE.toLowerCase().includes(t.txtSearchMessage.toLowerCase())),t.scrollCount=t.indexArr.length-1,t.indexArr.length>1?(setTimeout((function(){document.getElementById("chatLog_"+t.indexArr[t.scrollCount].CHATLOG_ID).scrollIntoView(),t.blinkText=t.indexArr[t.scrollCount].CHATLOG_ID}),100),setTimeout((function(){t.blinkText=""}),5e3)):1==t.indexArr.length?setTimeout((function(){document.getElementById("chatLog_"+t.indexArr[t.scrollCount].CHATLOG_ID).scrollIntoView(),t.blinkText=t.indexArr[t.scrollCount].CHATLOG_ID}),1e3):t.ShowAlert(t.$t("RecordNotFound"),"failure",!0,t.$t("Alert")))}},chatListOnTop:function(t){},ForwardMessageTo:function(t){var e=this;e.BindForwardUsers();var a=A.getElementsByClassName("div_forDifferentTabs content chatdv chat-region");a[0].classList.add("forward"),e.chaTIdForForward=t.CHATLOG_ID,e.ChatUserListData.forEach((t,a)=>{if(t.GROUP_ID==e.userGroupId){var s=e.ForwardUsersList.findIndex(t=>t.GROUP_ID==e.userGroupId);-1!=s&&e.ForwardUsersList.splice(s,1)}}),e.isForwardToUser=!0},forwardCancel:function(){var t=this,e=A.getElementsByClassName("div_forDifferentTabs content chatdv chat-region");e[0].classList.remove("forward"),t.isForwardToUser=!1,t.txtSearchForward="",t.selectUserIds=[],t.ForwardUsersList=[]},loadhistoryWhenSearching:function(t,e,a,s,i,o,r){var l=this,n={};n=l.sender,n.lastrow=t,n.recordNumber=e,n.is_first_time=a,n.room=i,n.lastchatId=s,n.searchForMsg=o,n.isGlobalSearch=r,l.$socket.emit("roomMoreData",n)},SearchUsears:function(t){var e=this;if(t&&"Backspace"!=t.key){e.ForwardUsersList=[];var a=e.tmpFilter.filter(t=>(""==Object.keys(t).includes("CONTACTNAME")?t.GROUP_NAME:t.CONTACTNAME).toLowerCase().includes(e.txtSearchForward.toLowerCase()));e.ForwardUsersList=a}else if(t&&"Backspace"==t.key){e.ForwardUsersList=[];a=e.tmpFilter.filter(t=>(""==Object.keys(t).includes("CONTACTNAME")?t.GROUP_NAME:t.CONTACTNAME).toLowerCase().includes(e.txtSearchForward.toLowerCase()));e.ForwardUsersList=a}else e.ForwardUsersList=e.tmpFilter},searchForwardCrossClick:function(){var t=this;t.txtSearchForward="",t.BindForwardUsers()},chooseUserToForward:function(t,e){var a=this;a.selectUserIds.includes(e)?a.selectUserIds.splice(a.selectUserIds.indexOf(e),1):a.selectUserIds.push(e)},messageForward:async function(t){var e=this,a={},s={};a.companyId=parseInt(e.store2.GetUserInfo.CompanyId),a.id=parseInt(e.store2.GetUserInfo.ID),a.emaiId=e.store2.GetUserInfo.Email,a.name=e.store2.GetUserInfo.Name,a.imgPath=e.blobUserUrl+e.store2.GetUserInfo.Avatar,a.type=e.type,a.alias=e.GroupAliasName,a.email=e.store2.GetUserInfo.Email,a.groupName=e.groupNameDisplay,a.is_first_time=t.is_first_time,a.isGlobalSearch=!1,a.lastchatId=t.lastchatId,a.lastrow=0,a.recordNumber=null,a.room=t.room,a.searchForMsg=null,a.chatId=parseInt(e.chaTIdForForward),a.groupList=e.selectUserIds.join(",");e.ChatUserListData.find(t=>t.RECEIVER_ID==e.selectUserIds[0]);s.GROUP_NAME_ALIAS=e.GroupAliasName,s.GROUP_NAME=e.groupNameDisplay,s.isActive=!0,s.GROUP_ID=e.selectUserIds[0],s.GROUP_NAME_ALIAS=e.GroupAliasName;var i=A.getElementsByClassName("div_forDifferentTabs content chatdv chat-region");i[0].classList.remove("forward"),e.isForwardToUser=!1,e.txtSearchForward="",e.selectUserIds=[],e.ForwardUsersList=[],await e.$socket.emit("forward message",a,(function(){})),setTimeout(()=>{e.$socket.emit("get All Chat Persons",e.sender)},200)},ChatLinkClick(){var t=this,e={};e.room=t.userGroupId,e.companyId=t.sender.companyId,e.id=t.sender.id,e.emaiId=t.sender.emaiId,t.$socket.emit("chat All Attachments",e),t.isFileActive=!0,t.isChatActive=!1},FileLinkClick(){var t=this;t.isChatActive=!0,t.isFileActive=!1},AttachmentFileClick:function(){var t=this;t.$parent.openAttachmentPop()},extractImageSrc(t){return t.split('"')[7]},ShowGifDiv:function(){var t=this;t.GetGifImages(),t.isGif=!1,t.isShearchForMsg=!1,t.isShowCloseSearchIcon=!0,t.searchGIFbyTxt=!0,t.cssArea="none",t.isSearchTxt=!1,t.isShowGifPanel=!0,t.isGif=!1},SetGifToSendArea:async function(t){var e=this;e.isGif=!0,e.isShowGifPanel=!1,e.isShearchForMsg=!1,e.searchGIFbyTxt=!1,e.isSearchTxt=!0,e.isShowCloseSearchIcon=!1,e.gifSource=t.media[0].gif.url,""!=e.gifSource&&(e.cssArea="none");var a='<img  id="gif0" src="'+e.gifSource+'" alt="" style="float:left;margin-right:5px;">';if(""!=e.gifSource){if(e.replyOnData.length>0){var s=e.replyOnData[0].CHATLOG_ID,i=e.replyOnData[0].MESSAGE;if(s>0){var o="";o=s>0?"1~"+e.replyOnData[0].USER_NAME+"~"+e.replyOnData[0].MESSAGE_TOKEN:"0~"+e.replyOnData[0].USER_NAME+"~"+e.replyOnData[0].MESSAGE_TOKEN}}var r=e.userGroupId;e.$socket.emit("createMessage",{text:a,room:r,parentId:s,parentTxt:i,parentDtl:o},(function(){})),await e.$emit("ConnectIO"),await e.$socket.emit("get All Chat Persons",e.sender),e.txtMessage="",e.gifSource="",e.isReplytoMessage=!1,e.replyOnData=[],e.cssArea="block",e.CloseSearchBox();var l={roomId:r,senderId:e.sender.id};await e.$socket.emit("chatTab blink new message",l);let t={companyId:e.store2.GetUserInfo.CompanyId,userId:e.store2.GetUserInfo.ID,emaiId:e.store2.GetUserInfo.Email,name:e.store2.GetUserInfo.Name,imgPath:e.blobUserUrl+e.store2.GetUserInfo.Avatar,type:e.type};e.$socket.emit("user total",t)}},RemoveGifToSend:function(){var t=this;t.gifSource="",t.isGif=!0,t.isShearchForMsg=!0;var e=t.ChatUserListData.find(e=>e.RECEIVER_ID==t.RecieverId.toString());void 0==e&&(e=t.ChatUserListData.find(e=>e.GROUP_ID==t.userGroupId.toString())),t.$socket.emit("is typing",{user:e.RECEIVER_ID,Group:t.userGroupId,typing:!1}),t.cssArea="block"},GetGifImages:async function(t){var e=this;e.GifImageData=[],e.isDataGifLoaded=!0;var a=void 0==t?"":t,s="YP55GXTIJ99N",i=8;await T.get("https://api.tenor.com/v1/anonid?key="+s,{headerrs:{"Content-Type":"multipart/form-data"}}).then((function(t){var o=`tag=${a}&key=${s}&limit=${i}&anon_id=${t.data.anon_id}`;T.get("https://api.tenor.com/v1/search?"+o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.GifImageData=t.data.results,e.isDataGifLoaded=!1}))}))},searchDownClick:function(){var t=this;t.scrollCount==t.indexArr.length-1?t.scrollCount=0:t.scrollCount++,t.scrollCount<t.indexArr.length&&(setTimeout((function(){document.getElementById("chatLog_"+t.indexArr[t.scrollCount].CHATLOG_ID).scrollIntoView(),t.blinkText=t.indexArr[t.scrollCount].CHATLOG_ID}),100),setTimeout((function(){t.blinkText=""}),5e3))},searchUpClick:function(){var t=this;0==t.scrollCount?t.scrollCount=t.indexArr.length-1:t.scrollCount--,t.indexArr.length>=0&&(setTimeout((function(){document.getElementById("chatLog_"+t.indexArr[t.scrollCount].CHATLOG_ID).scrollIntoView(),t.blinkText=t.indexArr[t.scrollCount].CHATLOG_ID}),100),setTimeout((function(){t.blinkText=""}),5e3))},async activeRecord(t){this.activeGroup==t?this.activeGroup="":(await this.store.userByGroupId(`emaiId=${this.store.getUserInformation.Email}&isGroup=1&room=${t}`),this.activeGroup=t)},GetContactList:async function(t,e){var a=this,s="company",i=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=${s}&city=&departmentId=`;await o["a"].CompanyContact(i).then(t=>{null!=t.data&&(a.MemberList=JSON.parse(t.data))})},CreateGroup:async function(){var t=this;if(t.selectedMembers.length>2){t.type="web",t.mobileType&&(t.type="mobile"),t.Grouptitle=t.Grouptitle?t.Grouptitle:"Untitled name";let s={companyId:t.GetUserInfo.CompanyId,id:t.GetUserInfo.ID,emaiId:t.GetUserInfo.Email,name:t.GetUserInfo.Name,imgPath:t.blobUserUrl+t.GetUserInfo.Avatar,type:t.type};var e=t.selectedMembers.map(t=>t.USER_ID).join(","),a=new Object;a=s,a.room=e.replace(/,/g,"_"),a.groupName=t.Grouptitle,a.alias=e.replace(/,/g,"_"),t.$socket.emit("createRoom",a),t.$parent.closeGroup(),t.groupShowProps=!1,t.Grouptitle="",t.selectedMembers=[],t.selectedMembers.push({USER_ID:t.GetUserInfo.ID,CONTACTNAME:t.GetUserInfo.Name}),t.groupId=""}else t.ShowAlert(t.$t("Atleast3Members"),"failure",!0,t.$t("Alert"))},async getContactRecordBy(t){this.groupShow=!0,this.topFilterSelect="Groups",this.store.groupList(`emaiId=${this.GetUserInfo.Email}&isGroup=1&room=1`);let e={id:this.GetUserInfo.ID,emaiId:"",companyId:this.GetUserInfo.companyId};this.$socket.emit("GetAllMyGroup",e,(function(t){}))},async updateGroup(){var t=this;t.groupShow=!0;let e={companyId:t.GetUserInfo.CompanyId,id:t.GetUserInfo.ID,emaiId:t.GetUserInfo.Email,name:t.GetUserInfo.Name,imgPath:t.blobUserUrl+t.GetUserInfo.Avatar,type:t.type};var a=t.selectedMembers.map(t=>t.USER_ID).join(","),s=new Object;s=e,s.userIds=a,s.groupName=t.Grouptitle;let i=s.userIds.split("_").length-1;i=i>1?1:0,s.groupId=t.groupId,s.fromSP=0,s.GROUP_ID_OUT=0,s.isGroupOrNot=i,await t.store.addOrUpdateGroup(s),t.store.addUpdateGroupResState[0]&&(t.topFilterSelect="Groups",t.updategroup=!1,t.$parent.closeGroup(),t.Grouptitle="",t.selectedMembers=[],t.selectedMembers.push({USER_ID:t.GetUserInfo.ID,CONTACTNAME:t.GetUserInfo.Name}),t.groupId="",t.store.groupList(`emaiId=${this.GetUserInfo.Email}&isGroup=1&room=1`))},canceleGroup(){this.Grouptitle="",this.selectedMembers=[],this.groupId="",this.$parent.closeGroup(),this.topFilterSelect="Groups",this.selectedMembers.push({USER_ID:this.GetUserInfo.ID,CONTACTNAME:this.GetUserInfo.Name})},backToChat(){this.groupId="",this.$parent.closeGroup(),this.topFilterSelect="",this.groupShow=!1,this.updategroup=!1,this.selectedMembers=[],this.selectedMembers.push({USER_ID:this.GetUserInfo.ID,CONTACTNAME:this.GetUserInfo.Name})},async editGroup(t){await this.store.userByGroupId(`emaiId=${this.GetUserInfo.Email}&isGroup=1&room=${t.grouP_ID}`),this.$parent.CreateGroupClick(),this.topFilterSelect="",this.updategroup=!0,this.Grouptitle=t.grouP_NAME,this.groupId=Number(t.grouP_ID),this.selectedMembers=[],this.store.getUserByGroupId.map(t=>{this.selectedMembers.push({USER_ID:Number(t.useR_ID),CONTACTNAME:t.useR_NAME})})},async deleteGroup(t){var e=this;e.confirmR(e.$t("ConfirmDeleteGroup"),!0,e.$t("Delete")+"  "+ +e.$t("Records"),(async function(){await e.store.deleteGroup(`emaiId=${e.GetUserInfo.Email}&groupId=${t}`),e.store.getDeleteGroupRes?(e.ShowAlert(e.$t("DeleteGroup"),"success",!0,e.$t("Alert")),e.store.groupList(`emaiId=${e.GetUserInfo.Email}&isGroup=1&room=1`)):e.ShowAlert(e.$t("Error"),"warning",!0,e.$t("Alert"))}))},groupBydates(t){const e=t.reduce((t,e)=>{const a=new Date(new Date(e.CREATED_AT).toDateString());return t[a]||(t[a]=[]),t[a].push(e),t},{});return Object.keys(e).map(t=>({date:t,data:e[t]}))},getTime(t){t=new Date(t);const e=t,a=new Date(e);return a.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},deleteGroupUser(t,e){var a=this;let s={room:e,DeleteId:t,id:a.GetUserInfo.ID,emaiId:a.GetUserInfo.Email};a.confirmR(a.$t("ConfirmDeleteGroupUser"),!0,a.$t("Delete")+"  "+ +a.$t("Records"),(async function(){o["a"].DeleteUserFromGroup(s).then(e=>{a.store.$state.userByGroupIdState=a.store.getUserByGroupId.filter(e=>e.useR_ID!==t),e.data?a.ShowAlert(a.$t("DeleteUserSuccess"),"success",!0,a.$t("Alert")):a.ShowAlert(a.$t("Error"),"warning",!0,a.$t("Alert"))})}))},videoCreate(t){let e={USER_ID:t.RECEIVER_ID,CONTACTNAME:t.GROUP_NAME,USER_IMAGE:t.AVATAR,GROUP_NAME_ALIAS:t.GROUP_NAME_ALIAS,IS_GROUP:t.IS_GROUP,room:t.GROUP_ID};this.$parent.videoCreate(e)}},setup(){const t=S(),e=Object(b["b"])();return{store:t,store2:e,getPreviousDay:x["e"]}}},E=D,U=(a("1082"),Object(d["a"])(E,m,h,!1,null,"240b36b0",null)),k=U.exports,M=function(){var t=this,e=t._self._c;return e("div",{ref:"outer",staticClass:"content div_forDifferentTabs homebx p-2",attrs:{id:"div_MessageBoardOuterDiv","data-projectid":""}},[e("loader",{attrs:{"is-visible":t.isLoading}}),0==t.isMessageBoardThreded?e("div",{staticClass:"msgbx_left message-board-outer-div",staticStyle:{position:"relative",display:"block"}},[t.IsMessageBoardList&&t.MessageBoardListData.length>0?e("div",{ref:"messageBoardContainer",staticClass:"scroll-wrapper scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"},attrs:{id:"mainDivContent"}},[e("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{enabled:t.enabled},expression:"{ enabled: enabled }"}],staticClass:"scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"calc(100vh - 240px) !important"},attrs:{id:"div_ProjectMessages"}},[t.Loaddatashow?e("div",{staticClass:"text-center loadMoreButtonforChat",attrs:{id:"div_loadMoreProjectMessages"}},[e("a",{ref:"test",staticClass:"btn btn-info",attrs:{href:"javascript:;"},on:{click:t.Loadmore}},[t._v("Load more...")])]):t._e(),t.MessageBoardListData&&0==t.MessageBoardListData.length?e("div",{staticClass:"dev_msgbx_left_for_attachment"},[t._m(0)]):t._e(),t._l(t.MessageBoardListData,(function(a,s){return e("div",{staticClass:"message-bx",attrs:{id:a.MessageBoardId,"data-projectid":a.ProjectId,"data-messageboardid":a.MessageBoardId,"data-messageboardcategorycode":a.MessageBoardCategoryCode,"data-messageboardcategoryid":a.MessageBoardCategoryId,"data-usertype":a.UserType,"data-mesagedate":t.DateDifference(a.CreatedAt),"data-mtype":"M"}},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:null==a.UserImagePath?t.noImageUrl:t.blobUserUrl+a.UserImagePath,alt:"profile"}})]),e("div",{staticClass:"message-data"},[e("div",{staticClass:"message-header"},[e("span",{staticClass:"author-name"},[t._v(t._s(a.PostedBy))]),e("span",{staticClass:"author-name project-name"},[t._v(" ("+t._s(a.ProjectName)+") ")]),t._v("  "),e("span",{staticClass:"author-name message-time"},[t._v(t._s(t.DateDifference(a.CreatedAtStr)))]),"d"==a.MessageType?e("span",{staticStyle:{color:"forestgreen"}},[t._v(" "+t._s(t.$t("SaveasDraft")))]):t._e()]),e("div",{staticClass:"message-body"},[e("strong",[t._v(t._s(a.MessageBoardTitle))]),e("p",[t._v(" "+t._s(a.MessageBoardContent))]),t._l(a.files,(function(s,i){return a.files?e("a",{class:{"attachment box p-2 border d-inline-block mb-2":".jpg"==JSON.parse(s.message_board_file_desc).Extension||".png"==JSON.parse(s.message_board_file_desc).Extension,"attachment box mb-2 verticlealignmiddle text-center":".pdf"==JSON.parse(s.message_board_file_desc).Extension},staticStyle:{width:"88px",height:"88px","vertical-align":"middle","margin-bottom":".5rem !important",padding:"8px","font-size":"36px"},attrs:{title:s.message_board_file_name},on:{click:function(e){t.openLightbox(null!=a.files?t.blobFileUrl+s.message_board_file_path:null,s.message_board_file_path,JSON.parse(s.message_board_file_desc).Extension)}}},[s.message_board_file_desc&&".jpg"==JSON.parse(s.message_board_file_desc).Extension||".png"==JSON.parse(s.message_board_file_desc).Extension?e("img",{staticStyle:{width:"100%",height:"70px"},attrs:{src:null!=s?t.blobFileUrl+s.message_board_file_path:null,loading:"lazy",alt:"image"},on:{click:function(e){t.openLightbox(null!=a.files?t.blobFileUrl+s.message_board_file_path:null,s.message_board_file_path,JSON.parse(s.message_board_file_desc).Extension)}}}):t._e(),s.message_board_file_desc&&".pdf"==JSON.parse(s.message_board_file_desc).Extension?e("i",{staticClass:"m-0 p-0 fa fa-file-pdf-o",staticStyle:{"margin-right":"0px","line-height":"2em"}}):t._e()]):t._e()})),a.TotalComments>0?e("div",{staticClass:"thread box"},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:null==a.lastCommentUserImage?t.noImageUrl:t.blobUserUrl+a.lastCommentUserImage,alt:"profile"}})]),e("span",{staticClass:"span-message-board replies"},[e("a",{attrs:{href:"javascript:;","data-messageid":a.MessageBoardId,"data-projectid":a.ProjectId},on:{click:function(e){return t.ClickOnReplies(a.MessageBoardId,a.ProjectId,a.MessageBoardTitle)}}},[t._v(t._s(a.TotalComments)+" Replies")])])]):t._e(),e("div",{},[null!=a.lastComment?e("div",{staticClass:"last-comment"},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:null==a.lastCommentUserImage?t.noImageUrl:t.blobUserUrl+a.lastCommentUserImage,alt:"profile"}})]),e("div",{staticClass:"message-data"},[e("span",{staticClass:"author-name"},[t._v(t._s(a.LastCommentUser))]),e("p",[t._v(t._s(a.lastComment))])])]):t._e(),e("form",{class:t.activeIndex==a.MessageBoardId?"":"reply-form-without-focus",attrs:{id:"form_fileuploadForComment24039",method:"post","data-commentfrom":"withoutCommentList"}},[e("div",{staticClass:"message-footer dev_divFilesMessageComment",staticStyle:{"margin-right":"15px","min-height":"45px",height:"auto"}},[e("textarea",{ref:a.MessageBoardId,refInFor:!0,staticClass:"textarea_forComment",staticStyle:{height:"90px",width:"91%"},attrs:{placeholder:"Type Your Message",id:"MessageBoardContent_"+a.MessageBoardId,name:"Content",col:"15"},on:{mousedown:function(e){return t.mouseDownClick(a.MessageBoardId)}}}),t.singleShow(t.AttachmentTxtData,a.MessageBoardId)?e("div",{staticClass:"msgfoot"},[e("div",{staticClass:"msgleft comment_AttachedFiles flex-wrap"},[t._l(t.AttachmentTxtData,(function(s,i){return[a.MessageBoardId==s.messageId?e("div",{staticClass:"div_selectedFile",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:"","data-original-title":"1st_screen_filtersc.png"}},[e("span",[t._v(t._s(s.name))]),a.MessageBoardId==s.messageId?e("a",{attrs:{href:"javascript:;","data-foredit":"false","data-belongsto":"flFile0",id:"file_"+i},on:{click:function(e){return t.removeFileElement(i)}}},[e("i",{staticClass:"fa fa-times"})]):t._e()]):t._e()]}))],2)]):t._e(),e("div",{staticClass:"msgrightt",staticStyle:{position:"absolute",right:"0",padding:"9px"}},[e("a",{staticClass:"mb_SaveComment icon_clip noToolTip",attrs:{title:"Send",href:"javascript:;"},on:{click:function(e){return t.SaveCommentClick(a.MessageBoardId)}}},[e("i",{staticClass:"fa fa-send"})]),t._m(1,!0),e("input",{ref:"imageUploader"+a.MessageBoardId,refInFor:!0,staticStyle:{display:"none"},attrs:{id:"up",type:"file"},on:{change:function(e){return t.setFileClickFromTextArea(e,s,a)}}}),e("a",{staticClass:"fa fa-paperclip",attrs:{href:"#"},on:{click:function(e){return t.openFileInput(a.MessageBoardId)}}})])])])])],2),e("div",{staticClass:"msg-actions"},[e("ul",["d"!=a.MessageType?e("li",[e("a",{staticClass:"ms-shareMessage",attrs:{href:"javascript:;",value:a.MessageBoardId,"data-projectid":"60763","data-filecount":"",title:"Share"},on:{click:function(e){return t.RemainingToShareClick(a.MessageBoardId,a.ProjectId)}}},[e("i",{staticClass:"fa fa-share",attrs:{"aria-hidden":"true"}})])]):t._e(),"d"!=a.MessageType?e("li",[e("a",{staticClass:"ms-addComment",attrs:{href:"javascript:;",title:"Comments"},on:{click:function(e){return t.AddComment(a.MessageBoardId,a.ProjectId,a.MessageBoardTitle)}}},[e("i",{staticClass:"fa fa-comments",attrs:{"aria-hidden":"true"}})])]):t._e(),0==a.TotalComments?e("li",[e("a",{attrs:{href:"javascript:;",title:"Edit"},on:{click:function(e){return t.EditMessage(a.MessageBoardId,a.ProjectId)}}},[e("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})])]):t._e(),0==a.TotalComments?e("li",[e("a",{attrs:{href:"javascript:;",title:"Delete",value:a.MessageBoardId},on:{click:function(e){return t.DeleteMessage(a.MessageBoardId,a.ProjectId)}}},[e("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])]):t._e()])])])])}))],2),t._m(2),t._m(3)]):t._e(),1==t.isDataLoaded?e("div",{staticClass:"ball-loader"},[e("div",{staticClass:"ball-loader-ball ball1"}),e("div",{staticClass:"ball-loader-ball ball2"}),e("div",{staticClass:"ball-loader-ball ball3"})]):t._e(),e("div",{staticClass:"div_forAddProjectMessage",attrs:{title:"Add Message"},on:{click:t.OpenAddMessagePop}},[e("i",{staticClass:"fa fa-plus"})])]):t._e(),t.isMessageBoardThreded?e("div",{staticClass:"msgbx_left",attrs:{id:"div_messageBoardThrread"}},[e("div",{staticClass:"chat-header user-info"},[e("div",{staticClass:"name",attrs:{id:"div_MessageBoardthreadHeader","data-projectid":"60752"}},[t._v(t._s(t.MessageBoardthreadHeader))]),e("a",{staticClass:"btn btn-success a_forBackToProjectMessages",attrs:{href:"javascript:;"},on:{click:t.BackToMessage}},[e("i",{staticClass:"fa fa-arrow-left"}),t._v(" "+t._s(t.$t("BacktoMessages")))])]),e("div",{staticClass:"scroll-wrapper scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"}},[e("div",{staticClass:"scrollbar-inner scroll-content",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"785px"},attrs:{id:"div_CommenbtsForMessage"}},t._l(t.RepliesList.MessageComments,(function(a,s){return e("div",{staticClass:"message-bx",attrs:{"data-messageboardid":a.Mid}},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:null==a.UserImage?t.noImageUrl:t.blobUserUrl+a.UserImage}})]),e("div",{staticClass:"message-data"},[e("div",{staticClass:"message-header"},[e("span",{staticClass:"author-name"},[t._v(t._s(a.PostedBy))]),e("span",{staticClass:"author-name project-name"},[t._v(t._s(a.ProjectName))]),e("span",{staticClass:"author-name message-time"})]),e("div",{staticClass:"message-body"},[e("strong"),e("p",[t._v(" "+t._s(a.Content))])])])])})),0),t._m(4),t._m(5)]),e("form",{attrs:{id:"form_fileuploadForComment",method:"post","data-commentfrom":"withCommentList"}},[e("div",{staticClass:"message-footer dev_divFilesMessageComment"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.mbCommentTxt,expression:"mbCommentTxt"}],staticClass:"textarea_forComment",attrs:{placeholder:"Type Your Message",id:"MessageBoardContent",name:"Content",col:"15"},domProps:{value:t.mbCommentTxt},on:{input:function(e){e.target.composing||(t.mbCommentTxt=e.target.value)}}}),e("div",{staticClass:"msgfoot"},[e("div",{staticClass:"msgleft comment_AttachedFiles"}),e("div",{staticClass:"msgrightt"},[e("a",{staticClass:"mb_SaveComment icon_clip noToolTip",attrs:{title:"Send",href:"javascript:;"},on:{click:t.SaveCommentClick}},[e("i",{staticClass:"fa fa-send"})]),t._m(6),t._m(7)])])])])]):t._e(),t.isAddMessagePop?e("div",{staticClass:"add-project-message"},[e("div",{staticClass:"teaminfo-header"},[e("h4",[t._v(t._s(t.$t("AddMessage")))]),e("span",{staticClass:"user-guide mr-4 float-right",staticStyle:{"margin-top":"-12px"}},[e("a",{staticClass:"ancuserguide pl-0",attrs:{"data-toggle":"collapse",href:"#collapseReply",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v(t._s(t.$t("user_guid")))]),e("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReply"}},[e("div",{staticClass:"custom-scrollbar-js",staticStyle:{"overflow-x":"hidden"},attrs:{id:"scrollbarreplyuserguide"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("Reply_userguide"))}})])])]),e("a",{staticClass:"close closeRightslider",staticStyle:{"font-size":"18px"},attrs:{id:"div_closeAddMessageBox"},on:{click:function(e){return t.CloseAddMessagePop()}}},[e("i",{staticClass:"fa fa-close"})])]),e("Form",{ref:"newMessageForm",attrs:{id:"fileuploadForMessage"},scopedSlots:t._u([{key:"default",fn:function({valid:a,errors:s}){return[e("div",[e("div",{attrs:{id:"divFilesForMessage"}},[e("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[e("label",[t._v(t._s(t.$t("Title"))+" "),e("small",[t._v(t._s(t.$t("maxLimitTitleMessage")))]),t._v(":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{class:t.w-100,attrs:{name:"Title",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Messagetitle,expression:"Messagetitle"}],class:{"form-control w-100":!0,error:a[0]},attrs:{type:"text",placeholder:"Title",name:"MessageBoardTitle",id:"MessageBoardTitle",maxlength:"500",autocomplete:"off"},domProps:{value:t.Messagetitle},on:{input:function(e){e.target.composing||(t.Messagetitle=e.target.value)}}}),e("label",{staticClass:"invalid-feedback",attrs:{name:"Title"}},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[e("label",[t._v(t._s(t.$t("Description"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.MessageDescription,expression:"MessageDescription"}],class:{"form-control w-100":!0,error:a[0]},staticStyle:{height:"auto","font-size":"13px"},attrs:{id:"pm_MessageBoardContent",name:"MessageBoardContent",rows:"6",placeholder:"Description"},domProps:{value:t.MessageDescription},on:{input:function(e){e.target.composing||(t.MessageDescription=e.target.value)}}}),e("span",{staticClass:"invalid-feedback",attrs:{name:"Description"}},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group addMessageProjectDiv w-100"},[e("Field",{staticClass:"w-100",attrs:{name:"Project",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.SelectedProject,expression:"SelectedProject"}],class:{"form-control w-100":!0,error:a[0]},attrs:{id:"ddl_MessageProjectId",name:"ProjectId"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.SelectedProject=e.target.multiple?a:a[0]},function(e){return t.BindTeamMembers(t.SelectedProject,"change")}]}},[e("option",{attrs:{value:""}},[t._v("Select project")]),t._l(t.ProjectTablist,(function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.name))])}))],2),e("span",{staticClass:"invalid-feedback",attrs:{name:"Project"}},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group",staticStyle:{width:"100%",padding:"0px 11px","margin-bottom":"7px !important"},attrs:{id:"div_mb_MessageFiles"}},[t._l(t.AttachedFiledata,(function(a,s){return e("div",{key:s,staticClass:"div-MessageFile"},[e("i",{staticClass:"fa fa-times",on:{click:function(e){return t.removeItem(a.fileid)}}}),e("a",{attrs:{src:null!=a?t.blobFileUrl+a.Filepath:null,title:a.filename},on:{click:function(e){t.openLightbox(null!=a.filename?t.blobFileUrl+a.Filepath:null,a.Filepath,JSON.parse(a.FileDesc).Extension)}}},[e("i",{class:"fa "+t.openFile(a.filename)})])])})),e("div",{staticStyle:{clear:"both"}})],2),e("div",{staticClass:"form-group mb-4",staticStyle:{width:"100%","margin-bottom":"0px !important","font-size":"10px"}},[e("div",{staticClass:"width_98 pullleft paddingtopbottom5 borderd5d5d5 margintop5 paddingleftright2 backgroundf1f1f1 fontda860f font12 arabicpulright arabicTR wordbreak",staticStyle:{"white-space":"normal"}},[t._v(" Maximum upload size per file: "+t._s(t.filesize+"Mb")),e("br"),t._v("Disallowed File Types: "+t._s(t.Filetype)),e("br")])]),e("div",{attrs:{id:"div_forMessageFiles"}},t._l(t.computedAttachmentDivData,(function(a,s){return e("div",{staticClass:"form-group",staticStyle:{width:"100%"},attrs:{id:"divFileMessage"}},[e("input",{staticClass:"form-control",staticStyle:{width:"85%",float:"left"},attrs:{type:"file",id:"flFile"+(s+1),name:"attach"},on:{change:function(e){return t.setFile(e,s)}}}),0==s?e("div",{staticClass:"add-icon-for-file",attrs:{id:"btn_AddMoreAttachment"},on:{click:function(e){return t.AddMoreAttachment(a,t.AttachmentDivData)}}},[e("i",{staticClass:"fa fa-plus"})]):t._e(),0!=s?e("div",{staticClass:"cross-icon-for-file",on:{click:function(e){return t.removeAttachmentRow(a.count)}}},[e("i",{staticClass:"fa fa-times"})]):t._e(),e("div",{staticStyle:{clear:"both"}})])})),0),e("div",{staticClass:"dev-userlist-team form-group",staticStyle:{width:"100%"}},[e("label",[t._v(t._s(t.$t("TeamMembers"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("span",{staticClass:"multiselect-native-select"},[e("span",{staticClass:"multiselect-native-select"},[e("div",{staticClass:"btn-group w-100"},[e("treeselect",{attrs:{multiple:!0,options:t.TeamMembersList,"disable-branch-nodes":!0,placeholder:"Select memberss"},model:{value:t.selectedUsers,callback:function(e){t.selectedUsers=e},expression:"selectedUsers"}}),e("treeselect-value",{attrs:{value:t.value}})],1)])]),e("span",{staticClass:"invalid-feedback",staticStyle:{display:"block"},attrs:{name:"Project"}},[t._v(t._s(t.TeamErrorMessage))])])]),e("div",{staticClass:"scroll-element scroll-x"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{width:"100px"}})])]),e("div",{staticClass:"scroll-element scroll-y"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{height:"100px"}})])])]),e("div",{staticClass:"bottom-btn"},[e("a",{staticClass:"btn yellow-btn btn-warning text-white",attrs:{href:"javascript:;",id:"btn_DraftProjectMessage"},on:{click:function(e){return t.SaveNewMessage("d")}}},[e("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.$t("Draft")))]),e("a",{staticClass:"btn green-btn btn-success text-white",attrs:{href:"javascript:;",id:"btn_postProjectMessage"},on:{click:function(e){return t.SaveNewMessage("s")}}},[e("i",{staticClass:"fa fa-paper-plane"}),t._v(" "+t._s(t.$t("Post")))])])]}}],null,!1,809127832)})],1):t._e(),t.isRemainingToShare?e("div",{staticClass:"modal-wrapper modal-transition",staticStyle:{opacity:"1"}},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",on:{click:t.CloseRemainingPopup}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v(t._s(t.$t("TeamMembersRemainingtoshare")))])]),t._l(t.ProjectUsers,(function(a){return e("div",{staticClass:"modal-body"},t._l(a,(function(a){return e("div",[e("h6",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.h6Checked,expression:"item1.h6Checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.h6Checked)?t._i(a.h6Checked,null)>-1:a.h6Checked},on:{change:[function(e){var s=a.h6Checked,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=null,l=t._i(s,r);i.checked?l<0&&t.$set(a,"h6Checked",s.concat([r])):l>-1&&t.$set(a,"h6Checked",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(a,"h6Checked",o)},function(e){return t.toggleAll(a)}]}}),t._v(" "+t._s(a.userType)+" ")]),e("div",{staticClass:"modal-content recent-contacts-listing-wrapper"},t._l(a.userses,(function(s){return e("div",{key:s.id,staticClass:"recent-contacts-listing member"},[e("div",{staticClass:"member-detail"},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.bChecked,expression:"user.bChecked"}],staticClass:"chkTeamMembers",attrs:{type:"checkbox"},domProps:{value:s.id,checked:Array.isArray(s.bChecked)?t._i(s.bChecked,s.id)>-1:s.bChecked},on:{change:[function(e){var a=s.bChecked,i=e.target,o=!!i.checked;if(Array.isArray(a)){var r=s.id,l=t._i(a,r);i.checked?l<0&&t.$set(s,"bChecked",a.concat([r])):l>-1&&t.$set(s,"bChecked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(s,"bChecked",o)},function(e){return t.toggleSingle(a)}]}}),t._v(" "+t._s(s.name)+" ")])])])})),0)])})),0)})),e("div",{staticClass:"modal-footer"},[e("a",{staticClass:"btn green-btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.ShareMessageUsers()}}},[e("i",{staticClass:"fa fa-share"}),t._v(" Share")])])],2):t._e(),e("VueEasyLightbox",{attrs:{visible:t.visible,imgs:t.imgs,index:t.index},on:{hide:t.handleHide}})],1)},N=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"files-tab",staticStyle:{"margin-top":"450px"},attrs:{"data-simplebar":""}},[e("div",{staticClass:"text-center text-danger border p-2"},[t._v("No record(s) found")])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"mb_CancekUpdatingComment icon_clip noToolTip",staticStyle:{display:"none"},attrs:{title:"Cancel",href:"javascript:;"}},[e("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{width:"88px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-y scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{height:"131px",top:"444px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{width:"100px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-y"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{height:"100px"}})])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"mb_CancekUpdatingComment icon_clip noToolTip",staticStyle:{display:"none"},attrs:{title:"Cancel",href:"javascript:;"}},[e("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"mb_commentattachmentFile icon_clip noToolTip",attrs:{title:"File Sharing",href:"javascript:;"}},[e("i",{staticClass:"fa fa-paperclip"})])}],G=a("ca17"),R=a.n(G),P={components:{Treeselect:R.a,VueEasyLightbox:I["a"]},props:{ProjectTablist:{type:Array},ProjectiId:{type:String}},data(){return{Loaddatashow:!0,MessageDescription:"",Messagetitle:"",replymessageval:null,SelectedProject:"",isRemainingToShare:!1,IsMessageBoardList:!0,isMessageBoardThreded:!1,isAddMessagePop:!1,AttachmentTxtData:[],AttachmentDivData:[],MessageBoardListData:[],projectId:"",usertype:"",createdBys:"",fromDate:"",toDate:"",searchTxt:"",pageSize:20,pageNum:1,sortBy:"",sortExp:"",reqFrom:"UC",isLoading:!1,RepliesList:[],MessageBoardthreadHeader:"",mbCommentTxt:"",ProjectUsers:[],UsersArray:[],MsgBoardid:null,isDataLoaded:!1,isReplyFocus:"reply-form-without-focus",blobUrl:"",containerName:"",imgPath:"",blobUserUrl:"",noImageUrl:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",mbid:0,TeamMembersList:[],selectedUsers:null,selectAll:!1,activeIndex:"",txtSearchTeamMembers:"",TeamErrorMessage:"",pageHeight:window.innerHeight,pageWidth:window.innerWidth,activeMessageboardId:0,MessageboardId:0,imgs:"",visible:!1,index:0,AttachedFiledata:[],filesize:"",Filetype:"",rows:Array.from({length:100}).map((t,e)=>e),currentCoords:{top:0,left:0},enabled:!0}},computed:{MessageBoardListData:function(){return this.rows.slice(0,this.current)},computedAttachmentDivData(){return this.AttachmentDivData},updateDimensions(){return()=>{this.pageHeight=window.innerHeight,this.pageWidth=window.innerWidth}}},mounted(){const t=document.querySelector("#div_ProjectMessages");null!=t&&t.addEventListener("scroll",e=>{console.log("listElm.scrollTop",t.scrollTop),1==t.scrollTop&&(this.Loaddatashow=!0)}),window.addEventListener("resize",this.updateDimensions)},beforeDestroy(){window.removeEventListener("resize",this.updateDimensions)},created(){var t=this;t.usertype=t.GetUserInfo.UserType,t.containerName=t.GetUserInfo.ContainerName,t.imgPath=t.GetUserInfo.Avatar,t.GetBlobUrl(),t.GetAllMessages(),t.AttachmentDivData.push({Attachment:"",fileName:"",count:1}),t.GetConfigurationFilesizevalues(),t.GetConfigurationFileExtrensionvalues()},watch:{ProjectiId(){this.projectId=this.ProjectiId,this.GetAllMessages()}},methods:{GetConfigurationFilesizevalues(){var t=this,e=`companyId=${t.GetUserInfo.CompanyId}&userId=${t.GetUserInfo.ID}&moduleName=Messages&configkey=MBFileSize`;o["a"].GetConfigurationValueByKey(e).then(e=>{if(e.data){var a=JSON.parse(e.data);t.filesize=a[0].CONFIG_DATA_VALUE}})},GetConfigurationFileExtrensionvalues(){var t=this,e=`companyId=${t.GetUserInfo.CompanyId}&userId=${t.GetUserInfo.ID}&moduleName=Messages&configkey=MBDisallowedFileTypes`;o["a"].GetConfigurationValueByKey(e).then(e=>{if(e.data){var a=JSON.parse(e.data);t.Filetype=a[0].CONFIG_DATA_VALUE}})},getExtension(t){return null!=t?t.split(".").pop().toLowerCase():null},openFile(t){switch(this.getExtension(t)){case"3gp":return"fa-file-video-o";case"avi":return"fa-file-video-o";case"7z":case"cbr":case"deb":case"gz":case"pkg":case"rar":case"rpm":case"sitx":case"zip":case"zipx":return"fa-file-archive-o";case"csv":case"dat":case"gbr":case"ged":case"ibooks":case"key":case"keychai":case"pps":case"ppt":case"pptx":case"sdf":case"tar":case"tax2012":case"vcf":case"xml":return"fa-file-code-o";case"doc":case"log":case"msg":case"odt":case"pages":case"rtf":case"wpd":case"wps":return"fa-file-word-o";case"docx":return"fa-file-word-o";case"c":case"class":case"cpp":case"cs":case"dtd":case"fla":case"h":case"java":case"lua":case"m":case"pl":case"py":case"sh":case"sln":case"vcxproj":case"xcodeproj":return"fa-file-code-o";case"apk":case"app":case"bat":case"cgi":case"com":case"exe":case"gadget":case"jar":case"pif":case"vb":case"wsf":return"fa-file";case"flv":return"fa-file-video-o";case"gif":return"fa-file-image-o";case"jpg":case"jpeg":case"bmp":return"fa-file-image-o";case"mp3":case"aif":case"iff":case"m3u":case"m4a":case"mid":case"mpa":case"ra":case"wav":case"wma":return"fa-file-audio-o";case"mp4":return"fa-file-video-o";case"mpg":return"fa-file-image-o";case"pdf":case"indd":case"pct":return"fa-file-pdf-o";case"png":return"fa-file-image-o";case"dds":case"psd":case"pspimage":case"tga":case"thm":case"tif":case"tiff":case"yuv":return"fa-file-image-o";case"txt":return"fa-file-text-o";case"3g2":case"rm":case"asf":case"asx":case"m4v":case"mov":case"srt":case"swf":case"vob":return"fa-file-video-o";case"asp":case"aspx":case"cer":case"cfm":case"csr":case"css":case"htm":case"html":case"js":case"jsp":case"php":case"rss":case"xhtml":return"fa-file-code-o";case"wmv":return"fa-file-video-o";case"xlsb":return"fa-file-excel-o";case"xls":case"xlr":return"fa-file-excel-o";case"xlsx":return"fa-file-excel-o";default:return"fa-file-o"}},removeItem(t){this.AttachedFiledata=this.AttachedFiledata.filter(e=>e.fileid!==t)},openLightbox:function(t,e,a){if(".jpg"==a||".png"==a)this.visible=!0,this.index=0,this.imgs=[{title:e.split("/")[3],src:t}];else if(".pdf"==a){var s="filePath="+e;o["a"].DownloadAttachment(s).then(t=>{if(null!=t.data&&200===t.status){const i=t.data,o=`data:${a};base64,${i}`;var s=document.createElement("a");s.href=o,s.setAttribute("download",e.split("/")[3]),document.body.appendChild(s),s.click(),this.isLoading=!1}else this.isLoading=!1})}},handleHide(){this.visible=!1},removeFileElement:function(t){this.AttachmentTxtData.splice(t,1)},Loadmore:function(){this.currentCoords.top=this.$refs.test.offsetTop,this.currentCoords.left=this.$refs.test.offsetLeft,this.pageSize+=10,this.$nextTick(()=>{this.$refs.messageBoardContainer.scrollTo(this.currentCoords.left,this.currentCoords.top-10)}),this.enabled=!1,this.Loaddatashow=!1,this.GetAllMessages("fromLoadMore")},RefreshtxtField:function(){var t=this;t.txtSearchTeamMembers=""},AllUsersListSelect:async function(){this.selectAll=!0,this.selectAll?this.selectedUsers=this.TeamMembersList.reduce((t,e)=>t.concat(e.userses.map(t=>t.id)),[]):this.selectedUsers=null},scrollToBottom(){const t=this.$refs.messageBoardContainer;t&&(t.scrollTop=t.scrollHeight)},EditMessage:async function(t,e){var a=this;a.isLoading=!0,a.MessageboardId=t;var s=`mbid=${t}&projectId=${e}&reqFrom=${a.reqFrom}`;o["a"].EditMessage(s).then(t=>{if("success"==t.data.msg){const e=t.data.result,s=JSON.parse(e);a.Messagetitle=s.data[0].message_board_title,a.MessageDescription=s.data[0].message_board_content,a.SelectedProject=s.data[0].project_id,s.MSGFILECOUNT.forEach((t,e)=>{a.AttachedFiledata.push({filename:t.message_board_file_name,fileid:t.message_board_file_id,Filepath:t.message_board_file_path,FileDesc:t.message_board_file_desc});t.created_at,t.created_at,t.message_board_file_name,JSON.parse(t.message_board_file_desc).Size,JSON.parse(t.message_board_file_desc).ContentType}),null!=JSON.parse(t.data.result).USER_LISTS[0].USERLISTS&&(a.BindTeamMembers(a.SelectedProject,null),a.selectedUsers=JSON.parse(t.data.result).USER_LISTS[0].USERLISTS.split(",").map((function(t){return parseInt(t,10)})),a.selectedUsers.forEach(t=>{var e=document.querySelector('input[type="checkbox"][value="'+t+'"]');e&&(e.checked=!0)})),this.OpenAddMessagePop();t.data.result;t.data.msg,a.isLoading=!1}a.isLoading=!1})},GetBlobUrl:async function(){await o["a"].GetBlobUrl().then(t=>{this.blobUserUrl=t.data[0].CONFIG_DATA_VALUE+"/"+this.containerName+"/Upload/UserProfileImage/"})},SaveNewMessage:function(t){var e=this;e.$refs.newMessageForm.validate().then(a=>{if(a){e.TeamErrorMessage="";var s=e.selectedUsers.join(","),i=new FormData;i.append("RequestType","post"),i.append("MessageBoardTitle",e.Messagetitle),i.append("MessageBoardContent",e.MessageDescription),i.append("ProjectId",e.SelectedProject),i.append("UserList",s),i.append("MessageBoardId",e.MessageboardId),i.append("RefSourceName",""),i.append("MessageType",t),i.append("PreMessageType",""),e.AttachmentDivData.length>=0&&e.AttachmentDivData.map((t,e)=>{var a=t.Attachment;i.append("File"+e,a)}),o["a"].PostMessage(i).then(async t=>{if(!t.data[0]){var a=[];return e.AttachmentDivData.forEach(t=>{a.push(t.Attachment.name),t.Attachment.size>e.filesize&&e.ShowAlert(e.$t("FileSize",!0,[a]),"warning",!0,e.$t("Alert"))}),!1}"100"==t.data[1].Value?(e.Messagetitle="",e.MessageDescription="",e.SelectedProject="",e.selectedUsers=null,e.AttachmentTxtData=[],"1"==t.data[0].StatusMessage?e.ShowAlert(e.$t("NewMessagePost"),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("MessageEdit"),"success",!0,e.$t("Alert"))):"121"==t.data[1].Value&&(e.Messagetitle="",e.MessageDescription="",e.SelectedProject="",e.selectedUsers=null,e.AttachmentTxtData=[],e.CloseAddMessagePop(),await e.GetAllMessages("post"),e.ShowAlert(e.$t(t.data[1].StatusMessage),"warning",!0,e.$t("Alert"))),e.Messagetitle="",e.MessageDescription="",e.SelectedProject="",e.selectedUsers=null,e.AttachmentTxtData=[],e.$refs.newMessageForm.reset(),await e.GetAllMessages("post"),e.CloseAddMessagePop(),console.log("vm.$refs.newMessageForm.reset();")})}else e.TeamErrorMessage="Team Members Is Required."})},openFileInput:function(t){this.activeMessageboardId=t,document.getElementById("up").click()},mouseDownClick:function(t){var e=this;e.activeIndex=t},toggleAll(t){t.userses.forEach(e=>{e.bChecked=t.h6Checked})},ShareMessageUsers:function(){var t=this,e=document.getElementsByClassName("chkTeamMembers");for(let i=0;i<e.length;i++)if(1==e[i].checked){t.UsersArray.push(e[i].value);var a=t.UsersArray.join(",")}if(void 0!=a){var s=`mbid=${t.MsgBoardid}&userIds=${a}`;o["a"].ShareMessage(s).then(e=>{1==e.data&&t.ShowAlert(t.$t("Message Share succesfully"),"success",!0,t.$t("Alert")),t.CloseRemainingPopup()})}},toggleSingle(t){t.h6Checked=t.userses.every(t=>t.bChecked)},SaveCommentClick:function(t){var e=this,a=void 0==e.$refs[t][0].value?"":e.$refs[t][0].value;if(""!=a){var s={};s.Content=""==e.mbCommentTxt?a:e.mbCommentTxt,s.MType="post",s.MessageCommentId=0,s.Mid=t;var i=new FormData;i.append("Content",""==e.mbCommentTxt?a:e.mbCommentTxt),i.append("MType","post"),i.append("MessageCommentId",0),i.append("Mid",t),e.AttachmentTxtData.length>0&&Array(e.AttachmentTxtData).forEach((t,e)=>{var a=t[e].file;i.append("File"+e,a)}),o["a"].PostComment(i).then(a=>{if(0==a.data.length){var s=[];return e.AttachmentTxtData.forEach(t=>{s.push(t.name),t.size>e.filesize&&e.ShowAlert(e.$t("FileSize",!0,[s]),"warning",!0,e.$t("Alert"))}),!1}"100"==a.data[0].Value?e.ShowAlert(e.$t("CommentHasBeenPostedSuccessfully"),"success",!0,e.$t("Alert")):"121"==a.data[0].Value&&e.ShowAlert(e.$t(a.data[0].StatusMessage),"warning",!0,e.$t("Alert")),e.$refs[t][0].value="",e.mbCommentTxt="",e.AttachmentTxtData=[],e.GetBlobUrl(),e.GetAllMessages()})}else e.ShowAlert(e.$t("PleaseTypeSomethingFirst"),"failure",!0,e.$t("Alert"))},ClickOnReplies:function(t,e,a){var s=this,i=`mbid=${t}&projectId=${e}&UserType=${s.usertype}&reqFrom=${s.reqFrom}`;o["a"].GetMessageReplyDetail(i).then(t=>{void 0!=t.data[0]&&(s.RepliesList=t.data[0])}),s.MessageBoardthreadHeader=a,s.isMessageBoardThreded=!0,s.IsMessageBoardList=!1},DateDifference:function(t){var e=this,a=new Date,s=Math.ceil(Math.floor(a.getTime()-new Date(t).getTime())/1e3),i=Math.floor(s/3600),o=s%3600,r=Math.floor(o/60),l=Math.floor(s/86400);if(s<60)return e.$t("Just now");if(s<120)return e.$t("minutes ago");if(s<2700)return r+" "+e.$t("minutes ago");if(s<5400)return e.$t("an")+" "+e.$t("hour ago");if(s<86400)return i+" "+e.$t("hour ago");if(s<172800)return e.$t("Yesterday");if(s<2592e3)return l+" "+e.$t("days ago");if(s<31104e3){var n=Math.floor(l/30);return n<=1?"1 "+e.$t("months ago"):n+" "+e.$t("months ago")}var c=Math.floor(l/365);return c<=1?"1 "+e.$t("years ago"):c+" "+e.$t("years ago")},BindTeamMembers:async function(t,e){var a=this;null!=e&&(a.selectedUsers=null);var s=`projectId=${t}&mbid=${a.mbid}&reqFrom=${a.reqFrom}&UserTypes=${a.usertype}`;await o["a"].LoadProjectUsers(s).then(t=>{let e=[];t.data.result.map(t=>{let a=[];t.userses.map(t=>{a.push({label:t.name,id:t.id})}),e.push({label:t.userType,id:t.userTypeId,children:a})}),console.log("newArray",e),a.TeamMembersList=e})},GetAllMessages:async function(t){var e=this;e.Loaddatashow=!0,e.isLoading=!0,e.isDataLoaded=!0,await o["a"].GetBlobUrl().then(t=>{e.blobFileUrl=t.data[0].CONFIG_DATA_VALUE+"/"+this.containerName+"/"});var a=`projectId=${e.projectId}&usertype=${e.usertype}&createdBys=${e.createdBys}&from=${e.fromDate}&to=${e.toDate}&search=${e.searchTxt}&pageSize=${e.pageSize}&pageNum=${e.pageNum}&sortBy=${e.sortBy}&sortExp=${e.sortExp}&reqFrom=${e.reqFrom}`;"fromLoadMore"==t?(this.enabled=!1,await o["a"].GetMessagesData(a).then(t=>{t.data.length>0&&(e.MessageBoardListData=t.data.reverse(),t.data.forEach((t,e)=>{t.files=JSON.parse(t.files)}),e.pageSize!=t.data.length&&(e.Loaddatashow=!1),e.isDataLoaded=!1,e.isLoading=!1)})):(setTimeout((function(){e.isLoading=!1}),500),await o["a"].GetMessagesData(a).then(t=>{t.data.length>0&&(e.MessageBoardListData=t.data.reverse(),t.data.forEach((t,e)=>{t.files=JSON.parse(t.files)}),e.pageSize!=t.data.length&&(e.Loaddatashow=!1),e.isDataLoaded=!1,e.isLoading=!1)}),this.enabled=!0)},CloseRemainingPopup:function(){var t=this;t.isRemainingToShare=!1,t.MsgBoardid=null},RemainingToShareClick:async function(t,e){var a=this;a.MsgBoardid=t;var s=`projectId=${e}&mbid=${t}&reqFrom=${a.reqFrom}&UserTypes=${a.usertype}`;await o["a"].LoadProjectUsers(s).then(t=>{a.ProjectUsers=t.data}),a.isRemainingToShare=!0},BackToMessage:function(){var t=this;t.isMessageBoardThreded=!1,t.IsMessageBoardList=!0},AddComment:function(t,e,a){var s=this,i=`mbid=${t}&projectId=${e}&UserType=${s.usertype}&reqFrom=${s.reqFrom}`;o["a"].GetMessageReplyDetail(i).then(t=>{s.RepliesList=t.data[0]}),s.MessageBoardthreadHeader=a,s.isMessageBoardThreded=!0,s.IsMessageBoardList=!1},CloseAddMessagePop:function(){var t=this;t.MessageboardId=0,t.$refs.newMessageForm.reset(),t.TeamErrorMessage="",t.TeamMembersList=[],t.selectedUsers=null,t.SelectedProject="",t.Messagetitle="",t.MessageDescription="",t.isAddMessagePop=!1},OpenAddMessagePop:function(){var t=this;t.isAddMessagePop=!0},AddMoreAttachment:function(){var t=this;if(t.AttachmentDivData.length<5){let e={Attachment:"",fileName:"",count:1},a=t.AttachmentDivData.slice(-1);console.log("check",a),e.count=a[0].count+1,t.AttachmentDivData.push(e)}else t.ShowAlert(t.$t("Max limit reached (Only five attachments are allowed)"),"Warning",t.$t("Alert"));setTimeout((function(){t.CheckBoxBootstrap()}),100)},removeAttachmentRow:function(t){var e=this;const a=e.AttachmentDivData.findIndex(e=>e.count===t);return-1!==a&&e.AttachmentDivData.splice(a,1),!0},setFile:function(t,e){var a=this;a.AttachmentDivData[e].Attachment=t.target.files[0],console.log("checkk",e,a.AttachmentDivData)},setFileClickFromTextArea:function(t,e){var a=this;a.AttachmentTxtData.push({lastModified:t.target.files[0].lastModified,lastModifiedDate:t.target.files[0].lastModifiedDate,name:t.target.files[0].lastModifiedDate+t.target.files[0].name,size:t.target.files[0].size,type:t.target.files[0].type,messageId:a.activeMessageboardId,file:t.target.files[0]});var s="imageUploader"+a.activeMessageboardId;a.$refs[s].value=null,a.activeMessageboardId=0,console.log("chekck",a.AttachmentTxtData)},singleShow(t,e){let a=t.find(t=>t.messageId==e);return!!a},DeleteMessage:function(t,e){var a=this;a.confirmR(a.$t("ConfirmDeleteMessage"),!0,a.$t("Delete"),(function(){var s=`Messageid=${t}&projectId=${e}&Usertype=${a.usertype}&reqFrom=${a.reqFrom}`;o["a"].DeleteMessage(s).then(t=>{0==t.data.result[0].StatusCode&&"Message Deleted Successfully"==t.data.result[0].MSg&&a.ShowAlert(a.$t(t.data.result[0].MSg),"success",!0,a.$t("Alert")),a.isAddMessagePop=!1,a.GetAllMessages()})}))}}},O=P,L=(a("8424"),a("1583"),Object(d["a"])(O,M,N,!1,null,null,null)),F=L.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content wcb",attrs:{id:"v-pills-calls"}},[t.addNewContact?e("div",{staticClass:"scroll-wrapper card-contact contact scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{position:"relative"}},[e("div",{staticClass:"card-contact contact scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"640px"},attrs:{id:"div_forAddLeadContact"}},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"contactForm",on:{submit:function(e){return e.preventDefault(),a(t.contactSubmit)}}},[e("div",{staticClass:"container_rw",staticStyle:{"overflow-y":"auto"}},[e("div",{staticClass:"form"},[e("div",{staticClass:"passpolicy-detailshead py-3 mb-3",staticStyle:{width:"100%",margin:"10px",padding:"5px 10px",background:"rgb(238, 238, 238)"}},[e("div",{staticClass:"recent-contacts heading px-1 mt-0 p-2 bg-grey",staticStyle:{"font-size":"16px","text-transform":"capitalize"}},[t._v("Contact Details")])]),e("div",{staticStyle:{clear:"both"}}),t._v(" "),e("input",{attrs:{type:"hidden",id:"contact_id"}}),e("div",{staticClass:"form-group"},[e("label",[t._v("Last Name: "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtLastName,expression:"contactInfo.txtLastName"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Last Name",name:"last_name"},domProps:{value:t.contactInfo.txtLastName},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtLastName",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("Last Name is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("First Name:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtFirstName,expression:"contactInfo.txtFirstName"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter First Name",name:"first_name","data-vv-as":"First Name"},domProps:{value:t.contactInfo.txtFirstName},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtFirstName",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("First Name is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Job Title:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required",name:"Job Title"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtJobTitle,expression:"contactInfo.txtJobTitle"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Job Title"},domProps:{value:t.contactInfo.txtJobTitle},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtJobTitle",e.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Email:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtEmailId,expression:"contactInfo.txtEmailId"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Email",name:"Email"},domProps:{value:t.contactInfo.txtEmailId},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtEmailId",e.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Business Phone:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtBusinessPhone,expression:"contactInfo.txtBusinessPhone"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Business Phone",name:"business_phone"},domProps:{value:t.contactInfo.txtBusinessPhone},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtBusinessPhone",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("Business Phone is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Mobile:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtMobilePhone,expression:"contactInfo.txtMobilePhone"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter Mobile",name:"mobile_phone"},domProps:{value:t.contactInfo.txtMobilePhone},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtMobilePhone",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("Mobile is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Address: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtAddressLine3,expression:"contactInfo.txtAddressLine3"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Address Street 2",id:"address_street_2",name:"address_street_2","data-vv-as":"Address Street 2"},domProps:{value:t.contactInfo.txtAddressLine3},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtAddressLine3",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("City:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtCity,expression:"contactInfo.txtCity"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter City",name:"city"},domProps:{value:t.contactInfo.txtCity},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtCity",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("City is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("State:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtState,expression:"contactInfo.txtState"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{type:"text",placeholder:"Enter State"},domProps:{value:t.contactInfo.txtState},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtState",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("State is required")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Zip Code: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.txtZipCode,expression:"contactInfo.txtZipCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Zip Code",id:"zipcode",name:"zipcode","data-vv-as":"Zip Code"},domProps:{value:t.contactInfo.txtZipCode},on:{input:function(e){e.target.composing||t.$set(t.contactInfo,"txtZipCode",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Date of Birth:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group"},[e("ValidationProvider",{staticClass:"w-100",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("DatePicker",{staticClass:"d-flex col-12 bg-white p-0",attrs:{popover:!1,masks:t.dateMask},scopedSlots:t._u([{key:"default",fn:function({togglePopover:s,inputValue:i,inputEvents:o}){return[e("input",t._g({staticClass:"form-control datepicker_HS",class:a[0]?"is-invalid error":"",attrs:{id:"date_range"},domProps:{value:i}},o)),e("div",{staticClass:"input-group-append cursor-pointer",on:{click:s}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:t.contactInfo.txtDateOfBirth,callback:function(e){t.$set(t.contactInfo,"txtDateOfBirth",e)},expression:"contactInfo.txtDateOfBirth"}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v("Date of Birth is required")]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"form-group common_multiselect"},[e("label",[t._v("Country: ")]),e("multiselect",{attrs:{options:t.store.getcountry,label:"name","track-by":"value"},model:{value:t.contactInfo.country,callback:function(e){t.$set(t.contactInfo,"country",e)},expression:"contactInfo.country"}})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Status:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.contactInfo.Status,expression:"contactInfo.Status"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{name:"status_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.contactInfo,"Status",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Select")]),e("option",{attrs:{value:"1001"}},[t._v("Active")]),e("option",{attrs:{value:"1002"}},[t._v("Inactive")])]),a[0]?e("span",{staticClass:"invalid-feedback",staticStyle:{display:"block"}},[t._v("Status is required")]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-rw"},[e("div",{staticClass:"search-btm-btn text-right"},[e("button",{staticClass:"btn btn-success formbtn widthhalf mr-2",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v("Save")]),e("button",{staticClass:"btn btn-danger formbtn widthhalf",on:{click:function(e){t.addNewContact=!1}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])])])])])]}}],null,!1,3948625198)})],1),t._m(0),t._m(1)]):t._e(),t.runningCallInformation||1==t.videoCall?t._e():e("div",{staticClass:"contacts-tab px-2",attrs:{id:"div_WhenNoAnyCall"}},[e("div",{staticClass:"chat-header"},[e("div",{staticClass:"name"}),e("div",{staticClass:"chat-links recentab_uc",attrs:{id:"myTab"}},[e("a",{staticClass:"phone nav-link active mr-2",attrs:{id:"home-tab",title:"",role:"tab","aria-controls":"home","aria-selected":"true","data-toggle-tooltip":"tooltip","data-original-title":"Call History"},on:{click:t.callhistory}},[e("i",{staticClass:"fa fa-history"})]),e("a",{staticClass:"users nav-link",attrs:{id:"contact-tab",role:"tab",title:"","aria-controls":"contact","aria-selected":"false","data-toggle-tooltip":"tooltip","data-original-title":"Call"},on:{click:t.showDailPaid}},[e("i",{staticClass:"fa fa-phone-square"})])])]),e("div",{staticClass:"bodbot_e5e5e5"}),e("div",{staticClass:"container-fluid pt-0"},[e("div",{attrs:{id:"myTabContent"}},[t.dialPadShow?t._e():e("div",{staticClass:"tab-pane contacts-tab-panel",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}},[e("div",{staticClass:"recent-contacts"},[e("div",[e("div",{staticClass:"scroll-wrapper recent-calls-listing-wrapper scrollbar-inner scroll-content scroll-scrolly_visible"},[t._l(t.store.getRecentCall,(function(a,s){return e("div",{key:s,staticClass:"recent-calls-listing-wrapper scrollbar-inner scroll-content scroll-scrolly_visible",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"577px"},attrs:{id:"div_forRecentCallList"}},[e("h2",{staticClass:"marginbtm10"},[t._v(t._s(a.date))]),t._l(a.calls,(function(a){return e("div",{key:a,staticClass:"user card-contact recent-calls-listing",attrs:{id:"calllog_175"}},[e("div",{staticClass:"member-img"},[e("img",{attrs:{src:a.USER_IMAGE?a.USER_IMAGE:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",alt:"andrew"}})]),e("div",{staticClass:"member-detail"},[e("p",[e("b",[t._v(t._s(a.CALLER_NAME))])])]),e("div",{staticClass:"designation"},[e("span",{staticClass:"sub-c-details"},[e("p",{staticClass:"text-olive",class:"Outgoing"==a.CALL_TYPE?"text-success":"Incomming"!=a.CALL_TYPE||"undefined"!==typeof a.START_TIME&&null!=a.START_TIME?"text-warning":"text-danger"},[t._v(" "+t._s("Incomming"!=a.CALL_TYPE||"undefined"!==typeof a.START_TIME&&null!=a.START_TIME?"Outgoing"!=a.CALL_TYPE||"undefined"!==typeof a.START_TIME&&null!=a.START_TIME?a.CALL_TYPE+" - "+t.secondsToHms(a.DURATION)+" - "+t.getTime(a.CREATED_AT):a.CALL_TYPE+" - Not Picked":"Missed Call"))])])]),e("div",{staticClass:"duration"},[e("p",{staticClass:"text-olive"},[t._v(" "+t._s("Outgoing"==a.CALL_TYPE?a.CALL_TO:a.CALL_FROM)+" ")])]),e("div",{staticClass:"icons"},[e("a",{staticClass:"phone",attrs:{href:"javascript:;",title:"Call"},on:{click:function(e){return t.redirectCall("Outgoing"==a.CALL_TYPE?a.CALL_TO:a.CALL_FROM)}}},[e("i",{staticClass:"fa fa-phone"})])])])}))],2)})),e("div")],2),0==t.store.getRecentCall.length?e("div",{staticClass:"recent-calls-listing-wrapper scrollbar-inner scroll-content",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px"},attrs:{id:"div_forRecentCallList"}},[e("div",{staticClass:"text-center text-danger border p-2 bg-white"},[t._v(t._s(t.$t("No_Record_Found")))])]):t._e(),e("div",{staticClass:"position-fixed-bottom",staticStyle:{display:"none"},attrs:{id:"div_loadMoreForRecentCallLogs","data-isshow":"false"}},[e("a",{staticClass:"btn btn-info",attrs:{href:"javascript:;",id:"a_loadMoreCallLog","data-pagenumber":"0","data-pagesize":"10"}},[t._v(t._s(t.$t("LoadMore")))])])])]),e("div",{staticClass:"clearfix"})]),t.dialPadShow?e("div",{staticClass:"tab-pane contacts-tab-panel",attrs:{id:"contact1",role:"tabpanel","aria-labelledby":"contact-tab"}},[e("div",{staticClass:"alert alert-danger",staticStyle:{display:"none"},attrs:{id:"div_messageForDialBox"}},[e("strong",[t._v(t._s(t.$t("ErrorMessageForAdministrator")))])]),e("div",{staticClass:"uc_dialerbase"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"phone"},[e("div",{staticClass:"row m-0"},[e("div",{staticClass:"dialerbasepad"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dailNumber,expression:"dailNumber"}],staticClass:"form-control input tel dialnumber",attrs:{type:"text",name:"txt_dialNumber",id:"txt_dialNumber",autocomplete:"off"},domProps:{value:t.dailNumber},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||(t.dailNumber=e.target.value)}}}),e("div",{staticClass:"num-pad float-left px-0 dialerbtn"},[e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(1)}}},[e("div",{staticClass:"txt"},[t._v("1")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(2)}}},[e("div",{staticClass:"txt"},[t._v("2")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(3)}}},[e("div",{staticClass:"txt"},[t._v("3")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(4)}}},[e("div",{staticClass:"txt"},[t._v("4")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(5)}}},[e("div",{staticClass:"txt"},[t._v("5")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(6)}}},[e("div",{staticClass:"txt"},[t._v("6")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(7)}}},[e("div",{staticClass:"txt"},[t._v("7")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(8)}}},[e("div",{staticClass:"txt"},[t._v("8")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(9)}}},[e("div",{staticClass:"txt"},[t._v("9")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString("*")}}},[e("div",{staticClass:"txt",staticStyle:{"font-size":"55px",padding:"10px 0"}},[t._v("*")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString(0)}}},[e("div",{staticClass:"txt"},[t._v("0")])])]),e("div",{staticClass:"span4"},[e("div",{staticClass:"num",on:{click:function(e){return t.addString("#")}}},[e("div",{staticClass:"txt"},[t._v("#")])])])]),e("div",{staticClass:"clearfix"}),e("div",{staticClass:"span4 text-center py-2",on:{click:function(e){return t.addString("+")}}},[t._m(2)]),e("div",{staticClass:"span4 text-center",on:{click:t.makeCall}},[t._m(3)]),e("div",{staticClass:"span4 text-center py-2"},[e("a",{staticClass:"btn callclearbtn back",attrs:{href:"javascript:;"},on:{click:function(e){return t.addString("X")}}},[t._v("X")])])])]),e("div",{staticClass:"clearfix"})])])])]):t._e()])])]),t.runningCallInformation&&!t.addNewContact?e("div",{staticClass:"col-12 float-left px-1",attrs:{id:"div_OngoingCall"}},[e("div",{staticClass:"chat-panel px-2",attrs:{id:"callPanel"}},[e("div",{staticClass:"mb-1 uc_callingbase",attrs:{id:"div_ForOngoingCallWithCancelButton"}},[e("div",{staticClass:"user calling card-contact"},[e("div",{staticClass:"member-img"},[t.store.getContactDetails?e("img",{staticClass:"img-fluid",attrs:{src:t.store.getContactDetails.img?t.store.getContactDetails.img:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",id:"img_callerImageIfExist"}}):e("img",{staticClass:"img-fluid",attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg",id:"img_callerImageIfExist"}})]),e("div",{staticClass:"user-info member-detail"},[e("p",{staticClass:"mb-0",attrs:{id:"Call_CallerNumber"}},[e("b",{attrs:{id:"lbl_forPhoneNumber"}},[t._v(t._s(t.store.$state.incomingcallNumber?t.store.$state.incomingcallNumber:t.dailNumber))]),e("b",{staticClass:"small"},[e("span",{attrs:{id:"lbl_hyphon"}},[t._v(" - ")]),e("span",{staticClass:"calltimetext text-olive",attrs:{id:"lbl_CallTime"}},[t._v(t._s(t.secondsToHms(t.store.$state.timerStart)))])])]),"completed"==t.callSatus?e("p",{staticStyle:{"font-size":"13px","font-weight":"bold","margin-right":"10px",color:"#da0000"}},[t._v(t._s(t.$t("CallEnded"))+" ")]):e("p",{staticClass:"text-olive green",attrs:{id:"call_CallType"}},[t._v(t._s(t.store.$state.incomingcallNumber?"In coming call":"Outgoing")+" ")])]),t.store.getCallEnded?t._e():e("div",{staticClass:"icons"},[e("a",{staticClass:"stopclck btn_CallTransfer",attrs:{href:"javascript:;",id:"btn_CallTransfer"},on:{click:t.forwordCall}},[e("i",{staticClass:"fa fa-exchange",attrs:{"aria-hidden":"true"}}),e("ul",{staticClass:"dropdown-menu callsharebase",staticStyle:{display:"none"}})]),e("a",{staticClass:"loud-speaker",class:t.muteUnmute,attrs:{href:"javascript:;"},on:{click:function(e){"mute"==t.muteUnmute?t.callMute():t.callUnmute()}}},[e("i",{staticClass:"fa fa-volume-up"})]),e("a",{staticClass:"call stopclck btn_rejectCall",staticStyle:{rotate:"-227deg"},attrs:{id:"btn_rejectCall"},on:{click:function(e){t.store.getIncomingCallData?t.hangup(t.store.getIncomingCallData):t.hangup(t.store.getOutGoingcallData)}}},[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})]),t._m(4),t._m(5)])])]),e("div",{staticClass:"info_detail card-contact"},[e("div",{staticClass:"valueddiv col-sm"},[e("p",[e("label",[t._v("Name:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callContactName"}},[t._v(" "+t._s(t.store.getContactDetails.Name))]):t._e()]),e("p",[e("label",[t._v("Email:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callContactEmail"}},[t._v(" "+t._s(t.store.getContactDetails.Email))]):t._e()])]),e("div",{staticClass:"valueddiv col-sm"},[e("p",[e("label",[t._v("City:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callCity"}},[t._v(" "+t._s(t.store.getContactDetails.city))]):t._e()]),e("p",[e("label",[t._v("State:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callState"}},[t._v(" "+t._s(t.store.getContactDetails.state))]):t._e()])]),e("div",{staticClass:"valueddiv col-sm"},[e("p",[e("label",[t._v("Country:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_callCountry"}},[t._v(" "+t._s(t.store.getContactDetails.country_name))]):t._e()]),e("p",[e("label",[t._v("Zip Code:")]),t.store.getContactDetails?e("span",{attrs:{id:"span_CallPin"}},[t._v(" "+t._s(t.store.getContactDetails.zipcode))]):t._e()])]),t.store.getContactDetails?t._e():e("div",{staticClass:"valueddiv col-sm",attrs:{id:"div_AddContactButton"}},[e("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.showAddNewContactForm}},[e("i",{staticClass:"fa fa-user-plus",attrs:{"aria-hidden":"true"}}),t._v(" Add Contact")])])]),t.store.getCallEnded?e("div",{staticClass:"card-contact",attrs:{id:"div_CommentFormAfterCall"}},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"commentForm",on:{submit:function(e){return e.preventDefault(),a(t.formSubmit)}}},[e("div",{staticClass:"form create-group-form callformbase mt-1"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("CallerName"))+": "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.callComment.callerName,expression:"callComment.callerName"}],staticClass:"form-control input",class:a[0]?"is-invalid error":"",attrs:{type:"text",autocomplete:"off",name:"callerName"},domProps:{value:t.callComment.callerName},on:{input:function(e){e.target.composing||t.$set(t.callComment,"callerName",e.target.value)}}}),a[0]?e("label",{staticStyle:{color:"red"},attrs:{id:"txtnameRequired"}},[t._v(t._s(t.$t("CallerNameReq")))]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Comment"))+": "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required",name:t.$t("Comment")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.callComment.comment,expression:"callComment.comment"}],staticClass:"form-control input",class:a[0]?"is-invalid error":"",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.callComment.comment},on:{input:function(e){e.target.composing||t.$set(t.callComment,"comment",e.target.value)}}}),a[0]?e("label",{staticStyle:{color:"red"},attrs:{id:"txtCommentRequired"}},[t._v(t._s(t.$t("CommentIsReq")))]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"form-group common_multiselect"},[e("label",[t._v(t._s(t.$t("CallRelevent"))+":")]),e("multiselect",{attrs:{options:t.store.getModuleDropdown,label:"MODULE_NAME","track-by":"MODULE_ID"},on:{input:t.getSubmodule},model:{value:t.callComment.refSourceId,callback:function(e){t.$set(t.callComment,"refSourceId",e)},expression:"callComment.refSourceId"}})],1),t.subModule.length>0?e("div",{staticClass:"form-group common_multiselect"},[e("label",[t._v(" "+t._s(t.$t("IconsTypeFor"))+":")]),e("ValidationProvider",{attrs:{rules:"required",name:t.$t("IconsTypeFor")},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("multiselect",{class:a[0]?"is-invalid error":"",attrs:{options:t.subModule,label:"SUB_MODULE_NAME","track-by":"SUB_MODULE_ID"},model:{value:t.callComment.mappingType,callback:function(e){t.$set(t.callComment,"mappingType",e)},expression:"callComment.mappingType"}}),e("label",{staticStyle:{color:"red"},attrs:{id:"ddlSecondRequired"}},[t._v(t._s(a[0]))])]}}],null,!0)})],1):t._e()]),e("div",{staticClass:"form-rw"},[e("p",[e("span",{staticStyle:{"font-weight":"bold","font-size":"22px",color:"#ffa751"},attrs:{id:"span_callerNameAndNumber"}}),e("span",{staticStyle:{"font-size":"15px",color:"#ff7e00"},attrs:{id:"span_callTimeAfterEnd"}})]),e("div",{staticClass:"btn-rw"},[e("button",{staticClass:"btn btn-success btn-sm rounded mr-2",attrs:{type:"submit",id:"btn_SaveDetails"}},[e("i",{staticClass:"fa fa-save pr-2"}),e("span",[t._v("Save")])]),e("button",{staticClass:"btn btn-danger btn-sm rounded",attrs:{id:"btn_cancelCallDetails"},on:{click:t.cancelCallComment}},[e("i",{staticClass:"fa fa-times pr-2"}),e("span",[t._v("Cancel")])])])])])]}}],null,!1,3157151490)})],1):t._e(),e("div",{staticClass:"chat-content tab-detail"},[e("ul",{staticClass:"tabs",attrs:{id:"pills-tab",role:"tablist"}},[e("li",{staticClass:"nav-link",class:"Ticket"==t.activeTab?"current":"",on:{click:function(e){return t.tabSelect("Ticket")}}},[e("a",{attrs:{"data-toggle":"pill",role:"tab"}},[t._v("Ticketing")])]),e("li",{staticClass:"nav-link",class:"crm"==t.activeTab?"current":"",on:{click:function(e){return t.tabSelect("crm")}}},[e("a",{attrs:{"data-toggle":"pill",role:"tab"}},[t._v("CRM")])]),e("li",{staticClass:"nav-link",class:"project"==t.activeTab?"current":"",on:{click:function(e){return t.tabSelect("project")}}},[e("a",{attrs:{role:"tab"}},[t._v("Project Management")])])]),"Ticket"==t.activeTab||"project"==t.activeTab?e("div",{staticClass:"uc_tabcontent",class:"current",attrs:{id:"pills-tabContent"}},[e("div",{staticClass:"tab-content current",attrs:{id:"pills-ticketing",role:"tabpanel","aria-labelledby":"pills-ticketing-tab"}},[e("div",{staticClass:"chatpanesbase chatpane_100 pt-0",attrs:{id:"container"}},[e("div",{staticClass:"chatpanesbasemid border",attrs:{id:"chat-window"}},[e("div",{staticStyle:{"overflow-x":"hidden",height:"51vh"},attrs:{id:"message-list","data-simplebar":""}},[e("div",{staticClass:"col-12 float-left p-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered",attrs:{id:"table_for_Call_Ticketing"}},[e("thead",{staticClass:"thead-light"},[e("tr",t._l(t.CRMcolumn[0][t.activeTab],(function(a){return e("th",{key:a.name},[t._v(t._s(a.name))])})),0)]),e("tbody",[t._l(t.store.getCallTabsInformation,(function(a,s){return e("tr",{key:s},t._l(t.CRMcolumn[0][t.activeTab],(function(s){return e("td",{key:s.name},["Action"==s.name?e("div",[e("a",{on:{click:function(e){return t.viewRecords(a[s.dataBaseName])}}},[t._v("View ")])]):"PLANNED_START_DATE"==s.dataBaseName||"PLANNED_END_DATE"==s.dataBaseName||"CREATED_AT"==s.dataBaseName?e("div",[t._v(" "+t._s(a[s.dataBaseName]?t.getDateInFormat(a[s.dataBaseName]):"")+" ")]):e("div",[t._v(" "+t._s(a[s.dataBaseName]))])])})),0)})),0==t.store.getCallTabsInformation.length?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"10"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])])])])])]):t._e(),"crm"==t.activeTab?e("div",{staticClass:"tab-content current",class:"crm"==t.activeTab?"current":"",attrs:{id:"pills-crm",role:"tabpanel","aria-labelledby":"pills-crm"}},[e("div",{staticClass:"crm-detail"},[e("div",{staticClass:"menu_left"},[e("ul",{attrs:{id:"pills-tab",role:"tablist"}},[e("li",{class:"Leads"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-leads-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-leads","aria-selected":"true"},on:{click:function(e){return t.getOrderDetails("Leads")}}},[e("i",{staticClass:"fa fa-users"}),e("span",[t._v(" "+t._s(t.$t("Leads")))])])]),e("li",{class:"CRM_DEALS"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-deals-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-deals","aria-selected":"false"},on:{click:function(e){return t.getOrderDetails("CRM_DEALS")}}},[e("i",{staticClass:"fa fa-file-text"}),e("span",[t._v(" "+t._s(t.$t("CRM_DEALS")))])])]),e("li",{class:"Quote"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-quotes-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-quotes","aria-selected":"false"},on:{click:function(e){return t.getOrderDetails("Quote")}}},[e("i",{staticClass:"fa fa-list"}),e("span",[t._v(t._s(t.$t("Quote"))+" ")])])]),e("li",{class:"PurchaseOrderWithoutRef"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-purchaseOrder-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-purchaseOrder","aria-selected":"false"},on:{click:function(e){return t.getOrderDetails("PurchaseOrderWithoutRef")}}},[e("i",{staticClass:"fa fa-bar-chart"}),e("span",[t._v(t._s(t.$t("PurchaseOrderWithoutRef"))+" ")])])]),e("li",{class:"CRM_SALES_ORDERS"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-Sales-Order-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-salesOrders","aria-selected":"true"},on:{click:function(e){return t.getOrderDetails("CRM_SALES_ORDERS")}}},[e("i",{staticClass:"fa fa-line-chart"}),e("span",[t._v(t._s(t.$t("CRM_SALES_ORDERS")))])])]),e("li",{class:"Invoices"==t.crmTabSelect?"current":""},[e("a",{attrs:{id:"pills-Invoice-tab","data-toggle":"pill",role:"tab","aria-controls":"pills-invoice","aria-selected":"true"},on:{click:function(e){return t.getOrderDetails("Invoices")}}},[e("i",{staticClass:"fa fa-file"}),e("span",[t._v(t._s(t.$t("Invoices"))+" ")])])])])]),e("div",{staticClass:"detail_right uc_tabcontent",attrs:{id:"pills-tabContent"}},[e("div",{staticClass:"internal-tab-content current",attrs:{id:"pills-leads",role:"tabpanel","aria-labelledby":"pills-leads-tab"}},[e("div",{staticClass:"detail_heading"},[e("h3",[t._v(t._s(t.$t(t.crmTabSelect)))])]),e("div",{staticClass:"chatpanesbase chatpane_100 pt-0",attrs:{id:"container"}},[e("div",{staticClass:"recent-contacts mt-0"},[e("div",{staticClass:"col-12 float-left p-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered",attrs:{id:"table_for_Call_LeadDetails"}},[e("thead",{staticClass:"thead-light"},[e("tr",t._l(t.CRMcolumn[0][t.crmTabSelect],(function(a){return e("th",{key:a.name},[t._v(t._s(a.name))])})),0)]),e("tbody",[t._l(t.store.getCrmDetailRecord,(function(a,s){return e("tr",{key:s},t._l(t.CRMcolumn[0][t.crmTabSelect],(function(s){return e("td",{key:s.name},["Action"==s.name?e("div",[e("a",{on:{click:function(e){return t.viewRecords(a[s.dataBaseName])}}},[t._v("View ")])]):t._e(),"Action"!=s.name?e("div",[t._v(" "+t._s(a[s.dataBaseName])+" ")]):t._e()])})),0)})),0==t.store.getCrmDetailRecord.length?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"10"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])])])])])])]):t._e()])])]):t._e(),t.makeCallPopupShow?e("div",{staticClass:"modal popup-call is-visible",attrs:{id:"modal_MakeCall"}},[e("div",{staticClass:"modal-overlay modal-toggle"}),e("div",{staticClass:"modal-wrapper modal-transition"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",on:{click:function(e){t.makeCallPopupShow=!1}}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v("Call By")])]),e("div",{staticClass:"modal-body"},[e("a",{staticClass:"call-item",attrs:{href:"javascript:;",id:"btn_makeNexmoCall"},on:{click:function(e){return t.calling("nexo")}}},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/ringcentral-logo.png"}})]),e("a",{staticClass:"call-item",attrs:{href:"javascript:;",id:"btn_makeCall"},on:{click:function(e){return t.calling("asterisk")}}},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/ast_logo.png"}})]),e("a",{staticClass:"call-item",attrs:{href:"javascript:;",id:"btn_makeVonageCall"},on:{click:function(e){return t.calling("vonage")}}},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/vonage.png"}})]),e("a",{staticClass:"call-item",attrs:{href:"javascript:;",id:"btn_makeVonageCall"},on:{click:function(e){return t.calling("twilio")}}},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/twilio-logo-red.png"}})])])])]):t._e(),t.videoCall?e("WebRTCComponent",{attrs:{store:t.store}}):t._e()],1)},B=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{left:"0px",width:"88px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-y scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{top:"0px",height:"617px"}})])])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"btn plus dail-plus-Icon",attrs:{href:"javascript:;",id:"btn_plusIcon"}},[e("i",{staticClass:"fa fa-plus"})])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn calldialbtn",attrs:{href:"javascript:;",id:"a_openModalForCall"}},[e("i",{staticClass:"fa fa-phone"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"call-pick stopclck outgoing-call",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"btn_PickupCall"}},[e("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"pause stopclck text-warning",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"btn_HoldUnholdCall"}},[e("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})])}],V=a("7bb1"),z=a("4c93"),H=[{Leads:[{name:"Lead Owner",dataBaseName:"LEAD_OWNER"},{name:"First Name",dataBaseName:"FIRST_NAME"},{name:"Last Name",dataBaseName:"LAST_NAME"},{name:"Lead Date",dataBaseName:"LEAD_DATE"},{name:"Client Email",dataBaseName:"CLIENT_EMAIL"},{name:"Channel Name",dataBaseName:"CHANNEL_NAME"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"LEAD_ID"}],CRM_DEALS:[{name:"Deal Owner",dataBaseName:"DEAL_OWNER"},{name:"Deal Name",dataBaseName:"DEAL_NAME"},{name:"Closing Date",dataBaseName:"CLOSING_DATE"},{name:"Amount",dataBaseName:"AMOUNT"},{name:"Probability",dataBaseName:"PROBABILITY"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"DEAL_ID"}],Quote:[{name:"Quote Number",dataBaseName:"ORDER_NUMBER"},{name:"Quote",dataBaseName:"ORDER_TITLE"},{name:"Ref Number",dataBaseName:"REF_NUMBER"},{name:"Account Name",dataBaseName:"ACCOUNT_NAME"},{name:"Order Date",dataBaseName:"ORDER_DATE"},{name:"Expiry Date",dataBaseName:"ORDER_EXPIRY_DATE"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"ORDER_ID"}],PurchaseOrderWithoutRef:[{name:"Customer Purchase Number",dataBaseName:"ORDER_NUMBER"},{name:"Purchase Order Subject",dataBaseName:"ORDER_TITLE"},{name:"Ref Number",dataBaseName:"REF_NUMBER"},{name:"Account Name",dataBaseName:"ACCOUNT_NAME"},{name:"Purchase Date",dataBaseName:"ORDER_DATE"},{name:"Expiry Date",dataBaseName:"ORDER_EXPIRY_DATE"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"ORDER_ID"}],CRM_SALES_ORDERS:[{name:"Sales Order Number",dataBaseName:"ORDER_NUMBER"},{name:"Title",dataBaseName:"ORDER_TITLE"},{name:"Ref Number",dataBaseName:"REF_NUMBER"},{name:"Account Name",dataBaseName:"ACCOUNT_NAME"},{name:"Sales Order Date",dataBaseName:"ORDER_DATE"},{name:"Expiry Date",dataBaseName:"ORDER_EXPIRY_DATE"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"ORDER_ID"}],Invoices:[{name:"Invoice Number",dataBaseName:"ORDER_NUMBER"},{name:"Purchase Order Subject",dataBaseName:"ORDER_TITLE"},{name:"Ref Number",dataBaseName:"REF_NUMBER"},{name:"Account Name",dataBaseName:"ACCOUNT_NAME"},{name:"Invoice Date",dataBaseName:"ORDER_DATE"},{name:"Expiry Date",dataBaseName:"ORDER_EXPIRY_DATE"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"ORDER_ID"}],Ticket:[{name:"Ticket Number",dataBaseName:"TICKET_NUMBER"},{name:"Subject",dataBaseName:"TICKET_SUBJECT"},{name:"Priority",dataBaseName:"PRIORITY_NAME"},{name:"Company Name",dataBaseName:"COMPANY_NAME"},{name:"Created At",dataBaseName:"CREATED_AT"},{name:"Created By",dataBaseName:"CREATED_BY"},{name:"Status",dataBaseName:"STATUS_NAME"},{name:"Action",dataBaseName:"TICKET_ID"}],project:[{name:"Project Name",dataBaseName:"PROJECT_NAME"},{name:"Hourly Rate",dataBaseName:"HOURLYRATE"},{name:"Hours Spent",dataBaseName:"HOURSSPENT"},{name:"Total Hours",dataBaseName:"TOTALHOURS"},{name:"Start Date",dataBaseName:"PLANNED_START_DATE"},{name:"End Date",dataBaseName:"PLANNED_END_DATE"},{name:"Status",dataBaseName:"PROJECT_STATUS"},{name:"Action",dataBaseName:"PROJECT_ID"}]}],Y=a("404b"),q=a.n(Y),J=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"modal is-visible",attrs:{id:"video-chat"}},[e("div",{staticClass:"modal-overlay"}),e("div",{staticClass:"modal-wrapper modal-transition uc-video-chat-wrapper"},[t._m(0),e("div",{staticClass:"modal-body v-chat-inner"},[e("div",{staticClass:"modal-content video-panel"},[e("div",{staticClass:"video-call"},[e("div",{staticClass:"child-a"},[e("div",{staticStyle:{"max-height":"450px",overflow:"hidden"},attrs:{id:"remotes"}},[e("div",{staticClass:"uc_single_videobase p-0"},[e("video",{ref:"remoteVideo",attrs:{autoplay:"",muted:""},domProps:{muted:!0}})])]),e("img",{staticStyle:{display:"none"},attrs:{src:"",alt:"Calling..."}})])]),e("div",{staticStyle:{clear:"both"}}),t._m(1)])])]),e("div",{staticClass:"userc-image user-video-panel rounded"},[e("div",{staticClass:"video"},[e("video",{ref:"localVideo",attrs:{autoplay:"",muted:""},domProps:{muted:!0}})])])])])},K=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header",staticStyle:{cursor:"move"}},[e("h2",{staticClass:"modal-heading"},[t._v("Video Calling")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"icons buttons"},[e("a",{staticClass:"btn record",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"recording"}}),e("a",{staticClass:"loud-speaker unmute",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-volume-up"})]),e("a",{staticClass:"modal-toggle call disconnectVideo",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-phone"})])])}],W={props:{store:{type:Object},callTo:{type:Number}},data(){return{localStream:null,remoteStream:null,peerConnection:null,webSocket:null,callStarted:!1,isCaller:!0,fromCall:""}},sockets:{connect(){console.log("Connected to server")},disconnect(){console.log("Disconnected from server")},recieverVideo:async function(t){console.log("video",t),this.fromCall=t.from?t.from:"",t.id==this.store.getUserInformation.ID&&("offer"==t.type?(this.isCaller=!1,this.initializePeerConnection(),this.handleSignalingMessage(t)):"answer"==t.type?this.handleAnswer(t):"candidate"==t.type&&this.handleIceCandidate(t))}},mounted(){this.initializeWebSocket(),this.startCall()},methods:{initializeWebSocket(){},sendIceCandidate(t){console.log("candidate",t),this.$socket.emit("videoOffer",{type:"candidate",candidate:t,id:this.callTo,from:this.getUserInformation.ID})},startCall(){this.callStarted=!0,console.log("Call start button is clicked"),this.initializePeerConnection()},receiveCall(){this.isCaller=!1,this.peerConnection||(console.log("Receive call method start"),this.initializePeerConnection())},initializePeerConnection(){const t={iceServers:[{url:"stun:stun2.1.google.com:19302"}]};this.peerConnection=new RTCPeerConnection(t),console.log("peerConnection",this.peerConnection),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{this.$refs.localVideo.srcObject=t,this.localStream=t,t.getTracks().forEach(e=>{this.peerConnection.addTrack(e,t)})}).catch(t=>{console.error("Error accessing media devices:",t)}),this.peerConnection.ontrack=t=>{this.remoteStream||(this.remoteStream=new MediaStream,console.log("this is done",this.remoteStream),this.$refs.remoteVideo.srcObject=this.remoteStream),this.remoteStream.addTrack(t.track,this.remoteStream)},this.peerConnection.onicecandidate=t=>{t.candidate&&(console.log("event.candidate",t.candidate),this.sendIceCandidate(t.candidate))},this.isCaller&&this.peerConnection.createOffer().then(t=>this.peerConnection.setLocalDescription(t)).then(()=>{this.$socket.emit("videoOffer",{type:"offer",offer:this.peerConnection.localDescription,id:this.callTo,from:this.store.getUserInformation.ID})}).catch(t=>{console.error("Error creating offer:",t)})},handleSignalingMessage(t){switch(console.log("message",t),t.type){case"offer":console.log("offer",t.offer),this.handleOffer(t.offer);break;case"answer":console.log("answer",t.answer),this.handleAnswer(t.answer);break;case"candidate":console.log("candidate",t.candidate),this.handleIceCandidate(t.candidate);break;default:console.warn("Received unknown message type:",t.type)}},async handleOffer(t){console.log("In handleOffer method",this.peerConnection),await this.peerConnection.setRemoteDescription(new RTCSessionDescription(t));const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),this.$socket.emit("videoOffer",{type:"answer",answer:this.peerConnection.localDescription,id:this.fromCall,from:""})},handleAnswer(t){console.log("answer",t,this.peerConnection),this.peerConnection.setRemoteDescription(new RTCSessionDescription(t)).then(()=>{console.log("Remote description set successfully.")}).catch(t=>{console.error("Error setting remote description:",t)})},handleIceCandidate(t){console.error("Error setting remote description:",t),this.peerConnection.addIceCandidate(new RTCIceCandidate(t)).then(()=>{console.log("ICE candidate added successfully.")}).catch(t=>{console.error("Error adding ICE candidate:",t)})}}},X=W,Q=(a("f387"),Object(d["a"])(X,J,K,!1,null,"140ed277",null)),Z=Q.exports;Object(V["c"])("email",z["email"]),Object(V["c"])("required",z["required"]);var tt={name:"Calling",components:{ValidationProvider:V["b"],ValidationObserver:V["a"],DatePicker:q.a,WebRTCComponent:Z},props:{store:{type:Object},phoneNumber:{type:String}},data(){return{dateMask:{input:x["a"]},dialPadShow:!1,dailNumber:"",makeCallPopupShow:!1,callSatus:"",runningCallInformation:"",addNewContact:!1,callComment:{callerName:"",comment:"",refSourceId:"",mappingType:"",isCancel:"",logId:""},contactInfo:{txtFirstName:"",txtLastName:"",txtBusinessPhone:"",txtEmailId:"",txtMobilePhone:"",txtAddressLine3:"",country:"",Status:"",txtState:"",txtDateOfBirth:"",txtZipCode:"",txtCity:"",txtJobTitle:""},blankcallComment:{},blankcontactInfo:{},crmTabSelect:"Leads",activeTab:"Ticket",logId:"",subModule:[],videoCall:!1,muteUnmute:"mute"}},created(){this.store.countryGet(),this.store.moduleDrowdown()},mounted(){Object.assign(this.blankcallComment,this.callComment),Object.assign(this.blankcontactInfo,this.contactInfo),this.dailNumber=this.phoneNumber,this.phoneNumber&&(this.dialPadShow=!0,setTimeout(()=>{this.makeOutgoingCall(),this.store.contactInformation("phone="+encodeURIComponent(this.dailNumber)),this.store.callTabsInformation({params:"mobileNum="+encodeURIComponent(this.dailNumber),tab:"Ticket"})},1e3))},sockets:{connect(){console.log("Connected to server")},disconnect(){console.log("Disconnected from server")},callingFrom:function(t){console.log("callingFrom",t)},incomingCall:function(t){console.warn(t)},audioPayload:function(t){console.warn(t)},receiveCalling:function(t){console.log("receiveCalling",t)},OutgoingCallFromIPphoneOut:function(t){this.logId=t.item.LOG_ID,console.log("OutgoingCallFromIPphoneOut",t)},call_status:function(t){console.log("status",t.call);var e=this;e.callSatus=t.call.CallStatus,e.$parent.callStatus(e.callSatus);var a={companyId:this.store.getUserInformation.CompanyId,Channel:"",extension:t.call.Caller,callFrom:t.call.Caller,callTo:t.call.To,callerIdName:"",CallType:"+12513095602"==t.call.From?"Outgoing":"Incomming",QueryType:"",recentStatus:"",actionId:null,linkedId:t.call.ParentCallSid,uniqueId:t.call.CallSid,userId:this.store.getUserInformation.ID,logId:0,callerImage:null,CallingMedium:"twilio"};if("ringing"==e.callSatus&&(console.log("RINGING",t.call),a.recentStatus="RINGING",a.QueryType="INSERT",e.$socket.emit("incomingOutGoingRecord",a)),"in-progress"==e.callSatus&&(e.store.$state.callEnded=!1,a.recentStatus="CALLSTART",a.QueryType="UPDATE",a.logId=e.logId,e.$socket.emit("incomingOutGoingRecord",a),e.store.callTimerStart(),e.runningCallInformation=t.call),e.callSatus,"completed"==e.callSatus){e.store.$state.incomingAndOutGoingCall=!1;var s={logId:e.logId,QueryType:"UPDATE",recentStatus:"HANGUP"};e.$socket.emit("incomingOutGoingRecord",s),e.store.$state.callEnded?(e.store.$state.outGoingcallData="",e.store.$state.incomingCallData=""):e.hangup()}},broadcastContact:function(){},newMessageForward:function(){}},methods:{getTime(t){const e=t.replace(" ","T"),a=new Date(e);return a.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},incomingCallPick(t){this.store.$state.callEnded=!1,console.log("checkkk",this.store.getIncomingCallData.parameters.From),this.store.contactInformation("phone="+encodeURIComponent(this.store.getIncomingCallData.parameters.From)),this.dailNumber=this.store.getIncomingCallData.parameters.From,this.store.clearInterval(),this.store.$state.outGoingcallData="",t.accept(),this.incomingCall=!1},async makeOutgoingCall(){var t={To:this.dailNumber};this.store.makeOutgoingCall(t)},rejectCall(t){t.reject()},callMute(){this.muteUnmute="unmute";let t=this.store.getIncomingCallData?this.store.getIncomingCallData:this.store.getOutGoingcallData;t.mute(!0)},callUnmute(){this.muteUnmute="mute";let t=this.store.getIncomingCallData?this.store.getIncomingCallData:this.store.getOutGoingcallData;t.mute(!1)},updateUIAcceptedOutgoingCall(){},updateUIDisconnectedOutgoingCall(){},async getToken(){var t=this,e=["first","second","third","user","callUser"],a=e[Math.random()*e.length|0];await t.$socket.emit("getToken",{identity:a,number:"+12513095602"},(function(e){t.store.$state.callToken=e.deviceToken,t.store.intitializeDevice()}))},hangup(){this.store.hangup()},makeCall(){this.dailNumber&&(this.makeCallPopupShow=!0)},redirectCall(t){this.store.$state.callToken?(this.dailNumber=t,this.makeCallPopupShow=!0):this.ShowAlert(this.$t("ConnectDevice"),"failure",!0,this.$t("Alert"))},addString(t){"X"==t?this.dailNumber.length>0&&(this.dailNumber=this.dailNumber.split("").reverse().slice(1).reverse().join("")):this.dailNumber+=t},isNumber(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)))return!0;t.preventDefault()},async showDailPaid(){var t=this;t.dialPadShow=!0},callhistory(){this.dialPadShow=!1},getSubmodule(t){this.callComment.mappingType="",console.log("event",t),this.subModule=t&&t.SUB_MODULES?JSON.parse(t.SUB_MODULES):[]},async calling(t){var e=this;if(e.makeCallPopupShow=!1,"nexo"==t)e.store.NexoCall(`UserId=${e.store.getUserInformation.ID}&CompanyId=23232&PhoneNumber=${e.dailNumber}`);else if("asterisk"==t)e.store.NexoCall(`UserId=${e.store.getUserInformation.ID}&CompanyId=23232&PhoneNumber=${e.dailNumber}`);else if("vonage"==t){let t={UserId:e.store.getUserInformation.ID,CompanyId:"353453",PhoneNumber:e.dailNumber};e.store.VonageCall(t)}else"twilio"==t?e.store.$state.callToken?(e.makeOutgoingCall(),e.$parent.numberDail(e.dailNumber),e.store.contactInformation("phone="+encodeURIComponent(e.dailNumber)),e.store.callTabsInformation({params:"mobileNum="+encodeURIComponent(e.dailNumber),tab:"Ticket"})):e.ShowAlert(e.$t("ConnectDevice"),"failure",!0,e.$t("Alert")):"videoCall"==t&&(e.videoCall=!0)},clearAllState(){this.store.$state.callEnded=!1,this.callSatus="",this.store.$state.timerStart=0,this.runningCallInformation="",this.dailNumber="",this.store.$state.incomingcallNumber="",console.log("checkk",this.blankcallComment),Object.assign(this.callComment,this.blankcallComment)},cancelCallComment(){this.clearAllState(),this.dialPadShow=!0},async formSubmit(){let t={};Object.assign(t,this.callComment),t.refSourceId=t.refSourceId?t.refSourceId.MODULE_ID:t.refSourceId,t.mappingType=t.mappingType?t.mappingType.SUB_MODULE_NAME:t.mappingType,t.logId=Number(this.logId),await this.store.addCommentForCall(t),console.log("getAddCommentForCallRes",this.store.getAddCommentForCallRes.StatusMessage),"Success"==this.store.getAddCommentForCallRes.StatusMessage?(this.dialPadShow=!0,this.$refs.commentForm.reset(),this.subModule=[],this.clearAllState(),this.ShowAlert(this.$t(this.store.getAddCommentForCallRes.StatusMessage),"success",!0,this.$t("Alert"))):this.ShowAlert(this.$t(this.store.getAddCommentForCallRes.StatusMessage),"danger",!0,this.$t("Alert"))},async contactSubmit(){let t={};Object.assign(t,this.contactInfo),t.txtBusinessPhone=this.contactInfo.txtBusinessPhone,t.txtMobilePhone=this.contactInfo.txtMobilePhone,t.country=this.contactInfo.country?this.contactInfo.country.value:"",await this.store.addContactInformation(t),"Success"==this.store.getResponseSubmitContactInfo.StatusMessage?(this.store.contactInformation("phone="+encodeURIComponent(this.contactInfo.txtMobilePhone)),this.addNewContact=!1,this.ShowAlert(this.$t(this.store.getResponseSubmitContactInfo.StatusMessage),"success",!0,this.$t("Alert")),this.$refs.contactForm.reset(),Object.assign(this.contactInfo,this.blankcontactInfo)):this.ShowAlert(this.$t(this.store.getResponseSubmitContactInfo.StatusMessage),"danger",!0,this.$t("Alert"))},tabSelect(t){this.activeTab=t,this.dailNumber=this.store.$state.incomingcallNumber?this.store.$state.incomingcallNumber:this.dailNumber,"crm"==t?this.store.crmDetailRecord({params:"contactId="+this.store.getContactDetails.contact_id,tab:"Leads"}):(this.dailNumber=this.store.getIncomingCallData?this.store.getIncomingCallData.parameters.From:this.dailNumber,this.store.callTabsInformation({params:"mobileNum="+encodeURIComponent(this.dailNumber),tab:t}))},getOrderDetails(t){this.crmTabSelect=t,this.store.crmDetailRecord({params:"contactId="+this.store.getContactDetails.contact_id,tab:t})},showAddNewContactForm(){this.contactInfo.txtMobilePhone=this.dailNumber,this.addNewContact=!0},viewRecords(t){console.log("id",t)},forwordCall(){let t=this.store.getIncomingCallData?this.store.getIncomingCallData:this.store.getOutGoingcallData;t&&this.$socket.emit("transfer",{To:this.dailNumber},(function(t){console.log("Call transferred",t)}))},startConference(){this.$socket.emit("conference",(function(t){console.log("Call transferred",t)}))}},setup(){return{CRMcolumn:H,getDateInFormat:x["c"],secondsToHms:x["f"]}}},et=tt,at=Object(d["a"])(et,j,B,!1,null,null,null),st=at.exports,it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content",staticStyle:{display:"block"},attrs:{id:"v-pills-contacts1"}},[e("div",{attrs:{id:"contactPanel"}},[e("div",{staticClass:"chat-header"},[e("div",{staticClass:"name"},[t._v(" "+t._s(t.contactDetailShow?t.userInformation.CONTACTNAME:"")+" ")]),e("div",{staticClass:"chat-links"},[e("a",{staticClass:"phone nav-link active",attrs:{id:"pills-contacts-tab",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Contacts"},on:{click:function(e){return t.getContactRecordBy("Contacts")}}},[e("i",{staticClass:"fa fa-address-book"})]),e("a",{staticClass:"video_icon nav-link",attrs:{id:"pills-favorites-tab",title:"","data-toggle-tooltip":"tooltip","data-original-title":".Favorite Contact"},on:{click:function(e){return t.getContactRecordBy("Favorite")}}},[e("i",{staticClass:"fa fa-star-o"})]),e("a",{staticClass:"file nav-link",attrs:{id:"pills-client-tab",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clients"}},[e("i",{staticClass:"fa fa-user-o",on:{click:function(e){return t.getContactRecordBy("client")}}})])])]),t.contactDetailShow?e("div",{staticClass:"msgbx_left position-relative"},[e("div",{staticClass:"scroll-wrapper scrollbar-inner scroll-content"},[e("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"scrollbar-inner scroll-content",staticStyle:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-height":"calc(100vh - 390px) !important"},attrs:{id:"div_chatDetails"}},[e("div",{staticClass:"chatpanesbasemid",attrs:{id:"chat-window"}},[e("div",{staticClass:"messageslists_uc60",attrs:{id:"message-list"}},t._l(t.groupBydates(t.messageList),(function(a,s){return e("div",{key:s},[e("div",{staticClass:"dividerdate mb-4 mt-4"},[e("div",{staticClass:"dividerdate_box"},[t._v(t._s(t.getPreviousDay(a.date)))])]),e("div",{staticClass:"clearfix"}),t._l(a.data,(function(a,s){return[e("div",{key:s,staticClass:"conv_base mb-4",class:{"float-right":a.from==t.fromNumber,"float-left":a.from!=t.fromNumber,undelivered:"undelivered"==a.status,delivered:"delivered"==a.status,failure:"failed"==a.status,blinkingcommon:1==a.blinking}},[e("div",{staticClass:"conv_base_name float-left w-100"},[t._v(t._s(a.from==t.fromNumber?t.store.getUserInformation.Name:t.userInformation.CONTACTNAME))]),e("div",{staticClass:"conv_base_desc float-left w-100 mt-2"},[t._v(t._s(a.body?a.body:""))]),e("div",{staticClass:"conv_base_time float-left w-100 mt-2"},[e("div",{staticClass:"conv_time float-left"},[t._v(t._s(t.getTime(a.dateCreated)))]),e("div",{staticClass:"conv_date float-right"},[t._v(t._s(a.dateCreated?t.getDateOnly(a.dateCreated):t.getDateInFormat(a.detSet))+" ")])]),a.from==t.fromNumber?e("div",{staticClass:"float-left w-100 mt-2 text-right text-capitalize",class:{cb_undelivered:"undelivered"==a.status,cb_delivered:"delivered"==a.status,cb_failure:"failed"==a.status}},["undelivered"==a.status||"failed"==a.status?e("i",{staticClass:"fa fa-exclamation-triangle mr-2 font-13"}):t._e(),t._v(t._s(a.status))]):t._e()]),e("div",{key:s,staticClass:"clearfix"})]}))],2)})),0)])])]),e("div",{staticClass:"col-12 p-0 float-left message-footer2"},[e("div",{staticClass:"conv_box float-left w-100"},[t._m(0),e("div",{staticClass:"conv_box_desc p-2 w-100 float-left"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),e("div",{staticClass:"conv_box_btns p-2 w-100 float-left"},[e("div",{staticClass:"col-6 float-left"}),e("div",{staticClass:"col-6 float-right text-right"},[e("a",{staticClass:"btn btn-light text-secondary",attrs:{href:"javascript:;",id:"btnSaveTicket"},on:{click:function(e){return t.clear()}}},[e("i",{staticClass:"fa fa-trash pr-2 text-secondary"}),t._v("Clear")]),e("a",{staticClass:"btn btn-info text-white",attrs:{id:"btnSaveTicket"},on:{click:function(e){return t.messageSend("twilio")}}},[e("i",{staticClass:"fa fa-paper-plane pr-2 text-white"}),t._v(t._s(t.$t("Send")))])])])])])]):e("div",{attrs:{id:"contacts"}},[e("div",{staticClass:"contact_byname"},[e("div",{staticClass:"contacts-alpha px-2",staticStyle:{display:"block"},attrs:{id:"div_contactLetterTab"}},[t.store.getContactList.length>0?e("a",{staticClass:"searchContactAlpha",attrs:{href:"javascript:;"},on:{click:function(e){t.FilterFirstName="all"}}},[t._v(t._s(t.$t("All")))]):t._e(),t._l(t.store.getHearderContactNameFilter,(function(a){return e("a",{key:a,staticClass:"searchContactAlpha",class:{active:t.FilterFirstName==a},attrs:{href:"javascript:;"},on:{click:function(e){t.FilterFirstName=a}}},[t._v(t._s(a))])}))],2)]),e("div",{staticClass:"dev_contact-internal-tabs active show",staticStyle:{display:"block"},attrs:{id:"pills-contacts"}},[e("div",{staticClass:"scroll-wrapper scrollbar-inner scroll-content scroll-scrolly_visible"},[e("div",{staticClass:"scrollbar-inner scroll-content scroll-scrolly_visible",style:{height:"auto","margin-bottom":"0px","margin-right":"0px","max-heigh":t.pageHeightScroll+"px"},attrs:{id:"contact-window"}},[e("div",{staticClass:"recent-contacts"},[e("div",{staticClass:"chatpanesbasemid p-0 pt-2",attrs:{id:"contact-list"}},[e("div",{staticClass:"recent-contacts mt-0"},["Favorite"==t.topFilterSelect?e("div",{staticClass:"recent-contacts heading px-2 mt-0 py-2"},[e("span",{attrs:{id:"contactListHeader"}},[t._v("Favorites (All)")])]):t._e(),e("div",{staticClass:"recent-contacts-listing-wrapper call_list",attrs:{"data-simplebar":""}},t._l(t.filter(t.FilterFirstName),(function(a,s){return e("div",{key:s,staticClass:"member card-contact recent-contacts-listing"},[e("div",{staticClass:"member-img"},[e("img",{attrs:{src:a.USER_IMAGE?a.USER_IMAGE:"https://talygenv.github.io/Vue-UI-Content/images/UC/uc_user_new.jpg"}})]),e("div",{staticClass:"member-detail"},[e("p",{staticClass:"text-truncate",attrs:{title:a.CONTACTNAME},on:{click:function(e){return t.contactDetail(a)}}},[e("a",{staticClass:"text-primary font-weight-medium",attrs:{href:"javascript:;",id:"ancEditTwilio"}},[t._v(t._s(a.CONTACTNAME))])]),e("p",{staticClass:"sm"},[t._v(" "+t._s(a.DEPARTMENT_NAME?a.DEPARTMENT_NAME:"-")+" ")]),e("div",{staticClass:"log uc_fav pr-2 icons"},[e("a",{staticClass:"phone",attrs:{href:"javascript:;"},on:{click:function(e){return t.callTouser(a.USER_PHONE)}}},[e("i",{staticClass:"fa fa-phone"})]),e("a",{staticClass:"smsNexmo sms",attrs:{"data-phonenumber":"",href:"javascript:;",title:"Message"},on:{click:function(e){return t.smsToContact(a)}}},[e("i",{staticClass:"fa fa-envelope"})]),e("a",{staticClass:"chatCreate chat",attrs:{title:"Chat",href:"javascript:;"},on:{click:function(e){return t.NewChat(a)}}},[e("i",{staticClass:"fa fa-comments"})]),e("a",{staticClass:"videoCreate video",attrs:{href:"javascript:;",title:"Video Call"},on:{click:function(e){return t.videoCreate(a)}}},[e("i",{staticClass:"fa fa-video-camera"})]),e("a",{staticClass:"favrt star",attrs:{href:"javascript:;",title:"Convert To Favorite Contact"},on:{click:function(e){return t.addFavourite(a)}}},[e("i",{class:null==a.FAVOURITE_ID?"fa fa-star-o":"fa fa-star"})])])])])})),0)])])])]),t._m(1),e("div",{staticClass:"scroll-element scroll-y scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",style:{overflow:"auto",height:t.pageHeight+"px",top:t.pageHeightScroll+"px"}})])])])]),0==t.filter(t.FilterFirstName).length?e("div",{staticClass:"dev_contact-internal-tabs",attrs:{id:"pills-usergroups"}},[t._m(2),e("div",{staticClass:"text-center text-danger border p-2 no-record",attrs:{id:"accordion-window-error"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]):t._e()])]),t.smsPopupShow?e("div",{staticClass:"files-attachement-wrapper modal is-visible",attrs:{id:"sms-popup"}},[e("div",{staticClass:"modal-overlay modal-toggle"}),e("div",{staticClass:"modal-wrapper modal-transition send-sms"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",attrs:{id:"sms-cancel"},on:{click:function(e){t.smsPopupShow=!1,t.toNumber=""}}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v("Send SMS")])]),e("div",{staticClass:"modal-body sms-content"},[e("div",{staticClass:"form-group",staticStyle:{width:"100%","margin-bottom":"0px",padding:"10px 10px"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",staticStyle:{height:"200px"},attrs:{id:"smscontent",maxlength:"160",placeholder:"Type your message here..."},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),e("span",{staticClass:"text-danger",staticStyle:{"font-size":"12px"},attrs:{id:"rchars"}},[t._v("154")]),t._v(" "),e("span",{staticClass:"text-danger",staticStyle:{"font-size":"12px"}},[t._v(" Character(s) Remaining")])])]),e("div",{staticClass:"modal-footer bottom-btn",staticStyle:{margin:"10px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sendMessageVia,expression:"sendMessageVia"}],staticClass:"btn btn-primary btn-select text-white btn-success m-custom-select fa",attrs:{id:"smsSelect",title:"Send SMS"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sendMessageVia=e.target.multiple?a:a[0]},function(e){return t.messageSend()}]}},[t._v(' Send href="javascript:;"> '),e("option",{staticClass:"bg-secondary fa fa-input",attrs:{value:"0"}},[t._v("   Send")]),e("option",{staticClass:"bg-secondary",attrs:{value:"twilio"}},[t._v("Send by Twilio")]),e("option",{staticClass:"bg-secondary",attrs:{value:"nexo"}},[t._v("Send by Nexmo")])])])])]):t._e()])},ot=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"conv_box_tab p-3 w-100 float-left"},[e("a",{attrs:{href:"javascript:;"}},[t._v("SMS")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"scroll-element scroll-x scroll-scrolly_visible"},[e("div",{staticClass:"scroll-element_outer"},[e("div",{staticClass:"scroll-element_size"}),e("div",{staticClass:"scroll-element_track"}),e("div",{staticClass:"scroll-bar",staticStyle:{width:"88px"}})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"chatpanesbasemid",attrs:{id:"accordion-window"}},[e("div",{staticClass:"recent-contacts mt-0"},[e("div",{staticClass:"recent-contacts-listing-wrapper min-height65"},[e("div",{staticClass:"grouplistingbase",attrs:{id:"accordion"}})])])])}],rt={components:{},name:"Contacts",props:{store:{type:Object},sideBarFilter:{type:Object}},data(){var t;return{messageList:[],Grouptitle:"",sender:{},selectedMembers:[],FilterFirstName:"all",topFilterSelect:"Contacts",MemberList:[],isContact:!0,FAVOURITE_ID:null,pageHeightScroll:window.innerHeight,pageHeight:window.innerHeight-115,groupInformation:[],groupMembers:[],activeGroup:"",blobUrl:"",containerName:"",imgPath:"",blobUserUrl:"",noImageUrl:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",usertype:"",groupId:"",smsPopupShow:!1,fromNumber:null===(t=this.store.getTwilioAccountDetails)||void 0===t?void 0:t.NUMBER,toNumber:"",message:"",sendMessageVia:0,contactDetailShow:!1,userInformation:""}},created:async function(){var t=this;t.usertype=t.GetUserInfo?t.GetUserInfo.UserType:"",t.containerName=t.GetUserInfo?t.GetUserInfo.ContainerName:"",t.imgPath=t.GetUserInfo?t.GetUserInfo.Avatar:"",t.GetBlobUrl()},mounted(){window.addEventListener("resize",this.updateDimensions)},beforeDestroy(){window.removeEventListener("resize",this.updateDimensions)},computed:{updateDimensions(){return()=>{this.pageHeightScroll=window.innerHeight,this.pageHeight=window.innerHeight}}},sockets:{connect(){console.log("Connected to server")},disconnect(){console.log("Disconnected from server")},messageGet:function(t){this.toNumber==t.From&&(t.body=t.Body,t.from=t.From,t.to=t.To,t.status=t.SmsStatus,t.dateCreated=new Date,t.blinking=!0,t.dateCreated=t.dateCreated.toString(),this.messageList.push(t))},messageStatus:function(t){if(this.toNumber==t.To){var e=this.messageList.findIndex(e=>e.sid==t.SmsSid);this.messageList[e]&&(this.messageList[e].status=t.SmsStatus)}}},methods:{GetBlobUrl:async function(){await o["a"].GetBlobUrl().then(t=>{this.blobUserUrl=t.data[0].CONFIG_DATA_VALUE+"/"+this.containerName+"/Upload/UserProfileImage/"})},callTouser:async function(t){var e=this;t?e.store.$state.callToken?e.$parent.callFromOtherTab(t):e.ShowAlert(e.$t("ConnectDevice"),"failure",!0,e.$t("Alert")):e.ShowAlert(e.$t("MobileNotAvailable"),"failure",e.$t("Alert"))},close:function(){},filter(t){this.FilterFirstName=t;var e=[];if("Favorite"==this.topFilterSelect){if("all"!=this.FilterFirstName)for(var a=this.store.getContactList.length,s=0;s<a;s++)this.store.getContactList[s].CONTACTNAME?this.store.getContactList[s].CONTACTNAME.substring(0,1).toUpperCase()==t&&null!=this.store.getContactList[s].FAVOURITE_ID&&e.push(this.store.getContactList[s]):this.store.getContactList[s].CONTACTNAME==t&&null!=this.store.getContactList[s].FAVOURITE_ID&&e.push(this.store.getContactList[s]);else for(var i=this.store.getContactList.length,o=0;o<i;o++)null!=this.store.getContactList[o].FAVOURITE_ID&&e.push(this.store.getContactList[o]);return e}if("all"!=this.FilterFirstName)for(var r=this.store.getContactList.length,l=0;l<r;l++)this.store.getContactList[l].CONTACTNAME?this.store.getContactList[l].CONTACTNAME.substring(0,1).toUpperCase()==t&&e.push(this.store.getContactList[l]):this.store.getContactList[l].CONTACTNAME==t&&e.push(this.store.getContactList[l]);return"all"!=this.FilterFirstName?e:this.store.getContactList},async getContactRecordBy(t){this.topFilterSelect=t,this.contactDetailShow=!1;let e="number"==typeof this.sideBarFilter.id?this.sideBarFilter.id:"",a="number"!=typeof this.sideBarFilter.id?this.sideBarFilter.id:"";var s=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=${t}&city=${a}&departmentId=${e}`;"Contacts"==t?(s=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=&city=${a}&departmentId=`,this.store.getContact(s)):"Favorite"==t?(s=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=&city=${a}&departmentId=${e}`,await this.store.getContact(s)):(s=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=${t}&city=${a}&departmentId=${e}`,this.store.getContact(s))},addFavourite(t){t.FAVOURITE_ID?t.FAVOURITE_ID=null:t.FAVOURITE_ID=78787,console.log("item",t.FAVOURITE_ID)},smsToContact(t){this.userInformation=t,t.USER_PHONE?(this.toNumber=t.USER_PHONE,this.smsPopupShow=!0):this.ShowAlert(this.$t("MobileNotAvailable"),"failure",this.$t("Alert"))},contactDetail(t){var e=this;t.USER_PHONE?(e.userInformation=t,e.toNumber=t.USER_PHONE,e.contactDetailShow=!0,e.$socket.emit("smsList",{from:e.fromNumber,to:e.toNumber},(function(t){e.messageList=t}))):this.ShowAlert(this.$t("MobileNotAvailable"),"failure",this.$t("Alert"))},groupBydates(t){const e=t.reduce((t,e)=>{const a=new Date(new Date(e.dateCreated).toDateString());return t[a]||(t[a]=[]),t[a].push(e),t},{});return Object.keys(e).map(t=>({date:t,data:e[t]}))},messageSend(t){var e=this;""!=e.message?(console.log("testt",e.message),"twilio"!=e.sendMessageVia&&"twilio"!=t||e.$socket.emit("twilioSendMessage",{from:"+12513095602",to:"+16506660036",body:e.message},(function(t){e.message="",console.log("createApiKey",t),e.messageList.push(t)}))):this.ShowAlert(this.$t("PleaseEnterMessage"),"failure",this.$t("Alert"))},clear(){this.message=""},getTime(t){t=new Date(t);const e=t,a=new Date(e);return a.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},NewChat(t){console.log("item",t),this.$parent.OpenTicketReceiver(t)},videoCreate(t){let e={USER_ID:t.USER_ID,CONTACTNAME:t.CONTACTNAME,USER_IMAGE:t.USER_IMAGE};this.$parent.videoCreate(e)}},setup(){return{getDateOnly:x["d"],getDateInFormat:x["c"],getPreviousDay:x["e"]}}},lt=rt,nt=(a("3d83"),Object(d["a"])(lt,it,ot,!1,null,null,null)),ct=nt.exports,dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content",staticStyle:{display:"block"},attrs:{id:"v-pills-meetings"}},[e("div",{staticClass:"calendar-nu",attrs:{id:"calendar_view"}},[t._m(0),e("div",{staticClass:"cont_100 d-none",staticStyle:{display:"none !important"}},[e("div",{staticClass:"overflowhidden borderbottom454545",staticStyle:{display:"block"}},[e("div",{staticClass:"searchpanel",staticStyle:{display:"block"},attrs:{id:"divsearch"}},[e("fieldset",{staticClass:"nobod hr_padtop_zero margin0 widthauto clndrserchbg"},[e("div",{staticClass:"clndrserchlbl"},[t._v(" Search ")]),e("div",{staticClass:"clndrserch",attrs:{id:"dataRow"}},[e("div",{staticClass:"cont_29P search"},[e("div",{},[e("tg-select")],1)]),t._m(1)])])])]),e("div",{staticClass:"cb"})]),e("input",{attrs:{type:"hidden",id:"hdUserId"}}),e("input",{attrs:{type:"hidden",id:"hdEndDate"}}),e("input",{attrs:{type:"hidden",id:"hdStartDate",value:""}}),e("input",{attrs:{type:"hidden",id:"hdEventType"}}),e("input",{attrs:{type:"hidden",id:"hdFirstDay",value:"MONDAY"}}),e("input",{attrs:{type:"hidden",id:"hdLocationId",value:"52103"}}),e("input",{attrs:{type:"hidden",id:"hdnCalendarFilter",value:"MY_EVENT,"}})]),t._m(2)])},ut=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"col-lg-12 padding-t_8 px-0"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[t._v("Calendar")]),e("span",{staticClass:"p-actions float-right"})])]),e("div",{staticClass:"col-lg-12 border p-2 float-left",attrs:{id:"CalendarContainer"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"row cal_iconsbase",attrs:{id:"divHeader"}},[e("div",{staticClass:"float-left col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6"},[e("a",{staticClass:"highlighted btn formbtn cal_myevents active",attrs:{show:"1",show_type:"MY_EVENT",title:"","data-toggle-tooltip":"tooltip","data-original-title":"My Events"}},[e("i",{staticClass:"fa fa-calendar"}),t._v(" My Events")]),e("a",{staticClass:"highlighted btn formbtn cal_googleevents active",attrs:{show:"1",show_type:"GOOGLE_EVENT",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Google Events"}},[e("i",{staticClass:"fa fa-google"}),t._v(" Google Events")])]),e("div",{staticClass:"col-lg-3 col-xl-3 float-left col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6"},[e("ul",{staticClass:"float-right"},[e("li",{staticClass:"highlighted selectall bg-info text-white formbtn widthhalf",attrs:{show:"1",show_type:"SELECTALL",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Select All"}},[e("i",{staticClass:"fa fa-check mx-1"}),e("span",{staticClass:"subsprite selectall widthnone"}),t._v("Select All")]),e("li",{staticClass:"highlighted selectnon bg-danger text-white formbtn widthhalf",attrs:{show:"1",show_type:"SELECTNON",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear All"}},[e("i",{staticClass:"fa fa-refresh mx-1"}),e("span",{staticClass:"subsprite selectnon widthnone"}),t._v("Clear All")])])])])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0 mt-2"},[e("div",{staticClass:"table-responsive"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left fc ui-widget",attrs:{id:"calendar"}},[e("table",{staticClass:"fc-header",staticStyle:{width:"100%"}},[e("tbody",[e("tr",[e("td",{staticClass:"fc-header-left"},[e("span",{staticClass:"fc-button fc-button-prev ui-state-default ui-corner-left",attrs:{title:"prev"}},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[e("span",{staticClass:"fc-icon-wrap"},[e("span",{staticClass:"ui-icon ui-icon-circle-triangle-w text-white btn btn12"})])]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-button fc-button-next ui-state-default ui-corner-right",attrs:{title:"next"}},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[e("span",{staticClass:"fc-icon-wrap"},[e("span",{staticClass:"ui-icon ui-icon-circle-triangle-e text-white btn btn12"})])]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-header-space"}),e("span",{staticClass:"fc-button fc-button-today ui-state-default ui-corner-left ui-corner-right ui-state-disabled"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("Today")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])])]),e("td",{staticClass:"fc-header-center"},[e("span",{staticClass:"fc-header-title"},[e("h2",[t._v("Monday, March 4, 2024")])])]),e("td",{staticClass:"fc-header-right"},[e("span",{staticClass:"fc-button fc-button-addEvent ui-state-default ui-corner-right ui-corner-left"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("Add Event")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-button fc-button-month ui-state-default ui-corner-left"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("Month")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-button fc-button-agendaWeek ui-state-default"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("week")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])]),e("span",{staticClass:"fc-button fc-button-agendaDay ui-state-default ui-corner-right ui-state-active"},[e("span",{staticClass:"fc-button-inner"},[e("span",{staticClass:"fc-button-content"},[t._v("Day")]),e("span",{staticClass:"fc-button-effect"},[e("span")])])])])])])]),e("div",{staticClass:"fc-content",staticStyle:{position:"relative","min-height":"1px"}},[e("div",{staticClass:"fc-view fc-view-agendaWeek fc-agenda",staticStyle:{position:"relative",display:"none"},attrs:{unselectable:"on"}},[e("table",{staticClass:"fc-agenda-days fc-border-separate",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("thead",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header fc-first",staticStyle:{width:"62px"}},[t._v(" ")]),e("th",{staticClass:"fc-mon fc-col0 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Monday 3/4")]),e("th",{staticClass:"fc-tue fc-col1 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Tuesday 3/5")]),e("th",{staticClass:"fc-wed fc-col2 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Wednesday 3/6")]),e("th",{staticClass:"fc-thu fc-col3 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Thursday 3/7")]),e("th",{staticClass:"fc-fri fc-col4 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Friday 3/8")]),e("th",{staticClass:"fc-sat fc-col5 ui-widget-header",staticStyle:{width:"127px"}},[t._v("Saturday 3/9")]),e("th",{staticClass:"fc-sun fc-col6 ui-widget-header"},[t._v("Sunday 3/10")]),e("th",{staticClass:"fc-agenda-gutter ui-widget-header fc-last",staticStyle:{width:"16px"}},[t._v(" ")])])]),e("tbody",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header fc-first"},[t._v(" ")]),e("td",{staticClass:"fc-mon fc-col0 ui-widget-content ui-state-highlight fc-today"},[e("div",{staticStyle:{height:"678.2px"}},[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue fc-col1 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed fc-col2 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu fc-col3 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri fc-col4 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat fc-col5 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun fc-col6 ui-widget-content"},[e("div",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-agenda-gutter ui-widget-content fc-last",staticStyle:{width:"16px"}},[t._v(" ")])])])]),e("div",{staticStyle:{position:"absolute","z-index":"2",left:"0px",width:"100%",top:"41.2px"}},[e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("table",{staticClass:"fc-agenda-allday",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("tbody",[e("tr",[e("th",{staticClass:"ui-widget-header fc-agenda-axis",staticStyle:{width:"62px"}},[t._v("All-Day")]),e("td",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}})])]),e("th",{staticClass:"ui-widget-header fc-agenda-gutter",staticStyle:{width:"16px"}},[t._v(" ")])])])]),e("div",{staticClass:"fc-agenda-divider ui-widget-header"},[e("div",{staticClass:"fc-agenda-divider-inner"})]),e("div",{staticClass:"unified_",staticStyle:{position:"absolute",width:"100%",overflow:"hidden auto",height:"294px"}},[e("div",{staticStyle:{position:"relative",width:"100%",overflow:"hidden"}},[e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("table",{staticClass:"fc-agenda-slots",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("tbody",[e("tr",{staticClass:"fc-slot0"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header",staticStyle:{width:"62px"}},[t._v("12:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot1 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot2"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("1:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot3 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot4"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("2:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot5 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot6"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("3:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot7 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot8"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("4:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot9 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot10"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("5:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot11 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot12"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("6:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot13 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot14"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("7:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot15 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot16"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("8:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot17 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot18"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("9:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot19 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot20"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("10:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot21 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot22"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("11:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot23 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot24"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("12:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot25 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot26"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("1:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot27 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot28"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("2:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot29 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot30"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("3:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot31 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot32"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("4:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot33 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot34"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("5:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot35 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot36"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("6:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot37 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot38"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("7:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot39 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot40"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("8:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot41 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot42"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("9:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot43 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot44"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("10:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot45 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot46"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("11:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot47 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("div",{staticClass:"fc-cell-overlay",staticStyle:{position:"absolute","z-index":"3",top:"41px",left:"62px",width:"127px",height:"40px",display:"none"}})])])])]),e("div",{staticClass:"fc-view fc-view-agendaDay fc-agenda",staticStyle:{position:"relative",display:"block"},attrs:{unselectable:"on"}},[e("table",{staticClass:"fc-agenda-days fc-border-separate",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("thead",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header fc-first",staticStyle:{width:"62px"}},[t._v(" ")]),e("th",{staticClass:"fc-mon fc-col0 ui-widget-header"},[t._v("Monday 3/4")]),e("th",{staticClass:"fc-agenda-gutter ui-widget-header fc-last",staticStyle:{width:"16px"}},[t._v(" ")])])]),e("tbody",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header fc-first"},[t._v(" ")]),e("td",{staticClass:"fc-mon fc-col0 ui-widget-content ui-state-highlight fc-today"},[e("div",{staticStyle:{height:"677.4px"}},[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-agenda-gutter ui-widget-content fc-last",staticStyle:{width:"16px"}},[t._v(" ")])])])]),e("div",{staticStyle:{position:"absolute","z-index":"2",left:"0px",width:"100%",top:"42px"}},[e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("table",{staticClass:"fc-agenda-allday",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("tbody",[e("tr",[e("th",{staticClass:"ui-widget-header fc-agenda-axis",staticStyle:{width:"62px"}},[t._v("All-Day")]),e("td",[e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}})])]),e("th",{staticClass:"ui-widget-header fc-agenda-gutter",staticStyle:{width:"16px"}},[t._v(" ")])])])]),e("div",{staticClass:"fc-agenda-divider ui-widget-header"},[e("div",{staticClass:"fc-agenda-divider-inner"})]),e("div",{staticClass:"unified_",staticStyle:{position:"absolute",width:"100%",overflow:"hidden auto",height:"294px"}},[e("div",{staticStyle:{position:"relative",width:"100%",overflow:"hidden"}},[e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("table",{staticClass:"fc-agenda-slots",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("tbody",[e("tr",{staticClass:"fc-slot0"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header",staticStyle:{width:"62px"}},[t._v("12:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot1 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot2"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("1:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot3 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot4"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("2:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot5 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot6"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("3:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot7 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot8"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("4:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot9 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot10"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("5:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot11 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot12"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("6:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot13 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot14"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("7:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot15 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot16"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("8:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot17 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot18"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("9:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot19 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot20"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("10:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot21 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot22"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("11:00 am")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot23 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot24"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("12:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot25 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot26"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("1:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot27 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot28"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("2:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot29 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot30"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("3:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot31 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot32"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("4:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot33 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot34"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("5:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot35 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot36"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("6:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot37 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot38"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("7:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot39 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot40"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("8:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot41 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot42"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("9:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot43 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot44"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("10:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot45 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot46"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v("11:00 pm")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])]),e("tr",{staticClass:"fc-slot47 fc-minor"},[e("th",{staticClass:"fc-agenda-axis ui-widget-header"},[t._v(" ")]),e("td",{staticClass:"ui-widget-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])])])])])]),e("div",{staticClass:"unified_Month fc-view fc-view-month fc-grid",staticStyle:{position:"relative",display:"none"},attrs:{unselectable:"on"}},[e("table",{staticClass:"fc-border-separate",staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[e("thead",[e("tr",{staticClass:"fc-first fc-last"},[e("th",{staticClass:"fc-mon ui-widget-header fc-first",staticStyle:{width:"139px"}},[t._v("Monday")]),e("th",{staticClass:"fc-tue ui-widget-header",staticStyle:{width:"139px"}},[t._v("Tuesday")]),e("th",{staticClass:"fc-wed ui-widget-header",staticStyle:{width:"139px"}},[t._v("Wednesday")]),e("th",{staticClass:"fc-thu ui-widget-header",staticStyle:{width:"139px"}},[t._v("Thursday")]),e("th",{staticClass:"fc-fri ui-widget-header",staticStyle:{width:"139px"}},[t._v("Friday")]),e("th",{staticClass:"fc-sat ui-widget-header",staticStyle:{width:"139px"}},[t._v("Saturday")]),e("th",{staticClass:"fc-sun ui-widget-header fc-last"},[t._v("Sunday")])])]),e("tbody",[e("tr",{staticClass:"fc-week0 fc-first"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day0 fc-first fc-other-month"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("26")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day1 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("27")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day2 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("28")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day3 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("29")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day4"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("1")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day5"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("2")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day6 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("3")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week1"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day7 fc-first ui-state-highlight fc-today"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("4")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day8"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("5")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day9"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("6")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day10"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("7")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day11"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("8")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day12"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("9")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day13 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("10")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week2"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day14 fc-first"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("11")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day15"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("12")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day16"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("13")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day17"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("14")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day18"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("15")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day19"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("16")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day20 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("17")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week3"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day21 fc-first"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("18")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day22"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("19")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day23"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("20")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day24"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("21")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day25"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("22")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day26"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("23")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day27 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("24")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week4 fc-last"},[e("td",{staticClass:"fc-mon ui-widget-content fc-day28 fc-first"},[e("div",{staticStyle:{"min-height":"134.4px"}},[e("div",{staticClass:"fc-day-number"},[t._v("25")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative",height:"0px"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day29"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("26")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day30"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("27")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day31"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("28")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day32"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("29")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day33"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("30")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day34 fc-last"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("31")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])]),e("tr",{staticClass:"fc-week5",staticStyle:{display:"none"}},[e("td",{staticClass:"fc-mon ui-widget-content fc-day35 fc-first fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("1")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-tue ui-widget-content fc-day36 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("2")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-wed ui-widget-content fc-day37 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("3")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-thu ui-widget-content fc-day38 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("4")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-fri ui-widget-content fc-day39 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("5")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sat ui-widget-content fc-day40 fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("6")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])]),e("td",{staticClass:"fc-sun ui-widget-content fc-day41 fc-last fc-other-month"},[e("div",[e("div",{staticClass:"fc-day-number"},[t._v("7")]),e("div",{staticClass:"fc-day-content"},[e("div",{staticStyle:{position:"relative"}},[t._v(" ")])])])])])])]),e("div",{staticStyle:{position:"absolute","z-index":"8",top:"0",left:"0"}}),e("div",{staticClass:"fc-cell-overlay",staticStyle:{position:"absolute","z-index":"3",top:"77.2px",left:"1.2px",width:"139px",height:"135.2px",display:"none"}})])])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cont_29P search"},[e("div",{},[e("select",{staticClass:"width_93",attrs:{id:"ddlUserId"}},[e("option",{attrs:{value:""}},[t._v("All Users")]),e("option",{attrs:{value:"104541"}},[t._v("Abner marti (QA)")]),e("option",{attrs:{value:"63236"}},[t._v("bob marley (QA)")]),e("option",{attrs:{value:"106435"}},[t._v("Brick oweski (Automation)")]),e("option",{attrs:{value:"63221"}},[t._v("Chandler Bing (Automation)")]),e("option",{attrs:{value:"106227"}},[t._v("faf Duplessis (Automation)")]),e("option",{attrs:{value:"105525"}},[t._v("fx app (Automation)")]),e("option",{attrs:{value:"63332"}},[t._v("jax soa (QA)")]),e("option",{attrs:{value:"63405"}},[t._v("new user last name (QA)")]),e("option",{attrs:{value:"63437"}},[t._v("NU User (QA)")]),e("option",{attrs:{value:"107381"}},[t._v("pmrole testlocal (Bangana)")]),e("option",{attrs:{value:"105531"}},[t._v("Stage Fx (Automation)")]),e("option",{attrs:{value:"108495"}},[t._v("sun abvdsf (Automation)")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12",staticStyle:{display:"none"},attrs:{id:"divGrid"}},[e("img",{attrs:{src:"/Content/images/black/ajax-loader.gif",alt:"Loading....."}}),t._v("Loading..... ")])}],pt={data(){return{}},created(){},methods:{}},mt=pt,ht=Object(d["a"])(mt,dt,ut,!1,null,null,null),ft=ht.exports,gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content",staticStyle:{display:"block"},attrs:{id:"v-pills-meetings"}},[t.deviceType?t._e():e("div",{},[e("div",{staticClass:"col-md-12 p-0 mb-2"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("span",{staticClass:"p-name text-white",attrs:{id:"span_ForSelectedTabName"}},[t._v(t._s(t.pageTitle?t.pageTitle:t.$t("Call")))]),"Chat"!=t.pageTitle?e("span",{staticClass:"p-actions float-right"},[e("a",{staticClass:"p-action-btn text-white float-right",on:{click:function(e){return t.deviceSetupPageShow()}}},[e("i",{staticClass:"fa fa-cogs"}),e("br"),t._v(t._s(t.$t("Setup")))])]):t._e(),t._m(0)]),"Chat"!=t.pageTitle?e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt-3"},[e("div",{staticClass:"float-left col-12 bg-light"},[e("div",{staticClass:"text-center text-danger"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])])]):t._e()])]),t.deviceSetuppopupShow?e("div",{staticClass:"modal my-popups dialog",staticStyle:{visibility:"visible",display:"block !important"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("PackagePlan")))]),e("button",{staticClass:"close",attrs:{href:"javascript:;","data-original-title":"Close"},on:{click:function(e){t.deviceSetuppopupShow=!1}}},[e("i",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"modal-body p-3"},[e("div",{staticClass:"w-100 d-inline-block packageplanpop"},[e("form",{attrs:{"data-vv-scope":"leadSaveData"}},[e("div",{staticClass:"row"},[e("ul",{staticClass:"col-md-12 mb-0 card-view d-flex flex-wrap px-0"},[e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25",on:{click:function(e){return t.deviceSelect("Twilio")}}},[e("div",{staticClass:"card card-box-uc p-0 h-100"},[t._m(1),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("SMS")))])]),e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("Call")))])])])])])])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25"},[e("div",{staticClass:"card card-box-uc p-0 h-100",on:{click:function(e){return t.deviceSelect("Nexmo")}}},[t._m(2),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("SMS"))+" ")])]),e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("Call"))+" ")])])])])])])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25"},[e("div",{staticClass:"card card-box-uc p-0 h-100",on:{click:function(e){return t.deviceSelect("Ringcentral")}}},[t._m(3),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(" "+t._s(t.$t("Call"))+" ")])]),e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(" "+t._s(t.$t("IVR"))+" ")])])])])])])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25"},[e("div",{staticClass:"card card-box-uc p-0 h-100",on:{click:function(e){return t.deviceSelect("Vonage")}}},[t._m(4),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("SMS"))+" ")])]),e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("Call"))+" ")])])])])])])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left mb-3 card-minwidth25"},[e("div",{staticClass:"card card-box-uc p-0 h-100"},[t._m(5),e("div",{staticClass:"card-body card-boxmin-ht p-2"},[e("div",{staticClass:"listing"},[e("ul",{staticClass:"card-text"},[e("li",[e("i",{staticClass:"fa fa-check pr-2"}),e("span",[t._v(t._s(t.$t("Video"))+" ")])])])])])])])])])])])])])])]):t._e(),"Twilio"==t.deviceType?e("TwilioSetup",{attrs:{store:t.store}}):t._e(),"Chat"==t.pageTitle?e("ChatSetupSetup",{attrs:{store:t.store}}):t._e()],1)},vt=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title px-2 mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/twilio-logo-red.png"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title px-2 mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",attrs:{src:"https://stage.talygen.com/Content/images/Black/nexmo.png"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title px-2 mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",staticStyle:{"min-height":"40px"},attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/ringcentral-logo.png"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title px-2 mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/vonage.png"}})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardv-header"},[e("div",{staticClass:"card-title mb-0"},[e("span",[e("img",{staticClass:"uc_imagesize100",attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/UC/ast_logo.png"}})])])])}],Ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content",staticStyle:{display:"block"},attrs:{id:"v-pills-meetings"}},[t.twilioSetup?e("div",[e("section",{staticClass:"page-action"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("twilioAccount")))])])])])])]),e("section",{staticClass:"main-content"},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"commentForm",on:{submit:function(e){return e.preventDefault(),a(t.formSubmit)}}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"border p-3 bg-white"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Title"}},[t._v(t._s(t.$t("Twilio_title")))]),t._v(": "),e("span",{staticClass:"mandatory"},[t._v("*")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.Title,expression:"deviceSetup.Title"}],staticClass:"form-control",class:a[0]?"is-invalid error":"",attrs:{id:"Title",name:"Title",type:"text",autocomplete:"off"},domProps:{value:t.deviceSetup.Title},on:{input:function(e){e.target.composing||t.$set(t.deviceSetup,"Title",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v(" "+t._s(t.$t("ExpTitleRequired"))+" ")]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Status"))+":")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.StatusId,expression:"deviceSetup.StatusId"}],staticClass:"form-control valid",class:a[0]?"is-invalid error":"",attrs:{name:"StatusId"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.deviceSetup,"StatusId",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1001"}},[t._v("Active")]),e("option",{attrs:{value:"1002"}},[t._v("Inactive")])]),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"AccountSid"}},[t._v(t._s(t.$t("AccountSid")))]),t._v(": "),e("span",{staticClass:"mandatory"},[t._v("*")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.AccountSid,expression:"deviceSetup.AccountSid"}],staticClass:"form-control textfield form-control",class:a[0]?"is-invalid error":"",attrs:{disabled:t.update,name:"AccountSid",type:"text"},domProps:{value:t.deviceSetup.AccountSid},on:{input:function(e){e.target.composing||t.$set(t.deviceSetup,"AccountSid",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v(" "+t._s(a[0])+" ")]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"AuthToken"}},[t._v(t._s(t.$t("AuthToken")))]),t._v(":"),e("span",{staticClass:"mandatory"},[t._v("*")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.AuthToken,expression:"deviceSetup.AuthToken"}],staticClass:"form-control textfield form-control",class:a[0]?"is-invalid error":"",attrs:{disabled:t.update,maxlength:"100",name:"AuthToken",type:"text",autocomplete:"off"},domProps:{value:t.deviceSetup.AuthToken},on:{input:function(e){e.target.composing||t.$set(t.deviceSetup,"AuthToken",e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-12 mt-1"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Description"}},[t._v(t._s(t.$t("description")))]),t._v(": "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.deviceSetup.Description,expression:"deviceSetup.Description"}],staticClass:"form-control form-control",attrs:{cols:"10",id:"Description",maxlength:"250",name:"Description",rows:"5"},domProps:{value:t.deviceSetup.Description},on:{input:function(e){e.target.composing||t.$set(t.deviceSetup,"Description",e.target.value)}}})])])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit",id:"btnSave"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.update?t.$t("Update"):t.$t("Save")))]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{title:"","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(e){return t.cancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])])])]}}])})],1),e("div",{staticClass:"container-fluid padding-t_10"},[e("div",{staticClass:"theme-primary partition-full mt-2"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("ListOfPurchased")))])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dataTable no-footer",attrs:{id:"mainTable1"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("FriendlyName")))])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("SelectPhoneNumber")))])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("IsoCountry")))])]),e("th",{staticClass:"text-center",attrs:{scope:"col",name:"SMS"}},[e("span",[t._v(t._s(t.$t("SMS")))])]),e("th",{staticClass:"text-center",attrs:{scope:"col",name:"Voice"}},[e("span",[t._v(t._s(t.$t("Voice")))])]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("Assign")))])])])]),e("tbody",[t._l(t.numberInfo,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.friendlyName))]),e("td",[t._v(t._s(a.phoneNumber))]),e("td",[t._v(t._s("-"))]),e("td",[t._v(t._s(a.capabilities?a.capabilities.sms:"-"))]),e("td",[t._v(t._s(a.capabilities?a.capabilities.voice:"-"))]),e("td",[e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.numberAssignTouserShowPopup(a)}}},[t._v(t._s(t.$t("UserAssign")))])])])})),0==t.numberInfo.length?e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",{staticClass:"text-danger"},[t._v(t._s(t.$t("No_Record_Found")))])])]):t._e()],2)])])])]):e("div",{staticClass:"container-fluid padding-t_10"},[e("div",{staticClass:"listing-content"},[e("div",{staticClass:"col-lg-12 p-0"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("TwilioList")))]),e("span",{staticClass:"p-actions float-right"},[e("a",{staticClass:"p-action-btn text-white",attrs:{title:"",checkprivilege:"yes","data-toggle-tooltip":"tooltip","data-original-title":"Add Twilio"},on:{click:function(e){return t.addTwilioSetup(!0)}}},[e("i",{staticClass:"fa fa-plus"}),e("br"),e("span",[t._v(t._s(t.$t("AddNew")))])])])])]),e("div",{staticClass:"listing mt-2"},[e("div",{staticClass:"table-responsive",attrs:{id:"projectdtl"}},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblProjectList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"sorting ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"},attrs:{id:"th-TITLE"}},[e("span",{staticClass:"sort",class:{tb_headerSortUp:"ASC"==t.SortExp&&"Title"==t.SortBy,tb_headerSortDown:"DESC"==t.SortExp&&"Title"==t.SortBy},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.sortdata("Title")}}},[t._v(t._s(t.$t("Twilio_title")))]),e("div",{staticClass:"sizer",attrs:{id:"th-TITLE-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"sorting ui-resizable",staticStyle:{width:"132px","min-width":"132px","max-width":"132px"},attrs:{id:"th-ACCOUNTSID"}},[e("span",{staticClass:"sort",class:{tb_headerSortUp:"ASC"==t.SortExp&&"Title"==t.SortBy,tb_headerSortDown:"DESC"==t.SortExp&&"Title"==t.SortBy},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.sortdata("Title")}}},[t._v(t._s(t.$t("AccountSid")))]),e("div",{staticClass:"sizer",attrs:{id:"th-ACCOUNTSID-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"sorting ui-resizable",staticStyle:{width:"120px","min-width":"120px","max-width":"120px"},attrs:{id:"th-AUTHTOKEN"}},[e("span",{staticClass:"sort",class:{tb_headerSortUp:"ASC"==t.SortExp&&"Title"==t.SortBy,tb_headerSortDown:"DESC"==t.SortExp&&"Title"==t.SortBy},staticStyle:{cursor:"pointer"},on:{click:function(e){return t.sortdata("Title")}}},[t._v(t._s(t.$t("AuthToken")))]),e("div",{staticClass:"sizer",attrs:{id:"th-AUTHTOKEN-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"text-center sorting ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"},attrs:{id:"th-STATUS"}},[t._v(t._s(t.$t("Status"))),e("div",{staticClass:"sizer",attrs:{id:"th-STATUS-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"text-center sorting ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"},attrs:{id:"th-DELETE"}},[t._v(t._s(t.$t("Delete"))),e("div",{staticClass:"sizer",attrs:{id:"th-DELETE-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"text-center sorting ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"},attrs:{id:"th-DELETE"}},[t._v(t._s(t.$t("Action"))),e("div",{staticClass:"sizer",attrs:{id:"th-DELETE-sizer"}}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})])])]),e("tbody",t._l(t.store.getTwilioList,(function(a,s){return e("tr",{key:s},[e("td",[e("a",{staticClass:"text-primary",attrs:{id:"ancEditTwilio"},on:{click:function(e){return t.updateRecord(a)}}},[t._v(" "+t._s(a.Title)+" ")])]),e("td",[e("span",[t._v(t._s(a.AccountSid))])]),e("td",[e("span",[t._v(t._s(a.AuthToken))])]),e("td",{staticClass:"text-center single-action"},[e("div",{staticClass:"cstm-drop-btn"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.StatusId,expression:"record.StatusId"}],staticClass:"ddlupdatestatus w-80",class:1001==a.StatusId?"btn-success":"btn-danger",attrs:{"data-id":"9"},on:{click:function(e){return t.updateStatus(a)},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"StatusId",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"1001"}},[t._v("Active")]),e("option",{attrs:{value:"1002"}},[t._v("Inactive")])])])]),e("td",{staticClass:"text-center single-action"},[e("a",{staticClass:"text-danger",attrs:{title:"","data-twilioid":"9",id:"DeleteMultiple","data-toggle-tooltip":"tooltip","data-original-title":"Delete"},on:{click:function(e){return t.deleteRecord(a)}}},[e("i",{staticClass:"fa fa-trash"})])]),e("td",{staticClass:"text-center single-action"},[null==a.secretValue?e("a",{on:{click:function(e){return t.generateSecret(a)}}},[e("i",{staticClass:"fa fa-key"})]):t._e()])])})),0)])]),e("Pager",{attrs:{numberofrecords:t.TotalRecords,CurrentPageNumber:t.CurrentPageNumber,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{SetCurrentPage:t.pagerMethod}})],1)])]),t.userAssignPopup?e("div",{staticClass:"modal-wrapper modal-transition",staticStyle:{opacity:"1"}},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"modal-close modal-toggle",on:{click:function(e){return t.userAssignClose()}}},[e("i",{staticClass:"fa fa-close"})]),e("h2",{staticClass:"modal-heading"},[t._v(t._s(t.assignUserInfo.phoneNumber+" "+t.$t("NumberAssignToUser"))+" ")])]),e("div",{staticClass:"modal-body",staticStyle:{overflow:"auto"}},[e("div",{staticClass:"col-12 p-0"},[e("div",{staticClass:"col-12 p-0 mt-0 mb-3 float-left"},[e("div",{staticClass:"col-10 float-left pl-0"},[e("div",{staticClass:"float-left w-100"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userSearch,expression:"userSearch"}],staticClass:"form-control search",attrs:{id:"search",maxlength:"50",type:"text",value:"",placeholder:"Search By Title",autocomplete:"off"},domProps:{value:t.userSearch},on:{input:function(e){e.target.composing||(t.userSearch=e.target.value)}}})])]),e("div",{staticClass:"col-2 float-left pl-0"},[e("div",{staticClass:"background-0 text-left form-check-inline"},[e("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:void(0);",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear all "},on:{click:function(e){t.userSearch=""}}},[e("i",{staticClass:"fa fa-refresh"})])])])]),e("div",{staticClass:"col-12 mt-0 mb-4 float-left border p-0",staticStyle:{"max-height":"250px","overflow-y":"auto"}},t._l(t.userSearchGetData(t.store.getContactList),(function(a,s){return e("div",{key:s,staticClass:"modal-content recent-contacts-listing-wrapper border-0",attrs:{id:"checkboxesUser"}},[e("div",{staticClass:"recent-contacts-listing member p-2"},[e("div",{staticClass:"member-detail"},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.users,expression:"users"}],staticClass:"chkTeamMembers",attrs:{type:"checkbox"},domProps:{value:a.USER_ID,checked:Array.isArray(t.users)?t._i(t.users,a.USER_ID)>-1:t.users},on:{change:function(e){var s=t.users,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.USER_ID,l=t._i(s,r);i.checked?l<0&&(t.users=s.concat([r])):l>-1&&(t.users=s.slice(0,l).concat(s.slice(l+1)))}else t.users=o}}}),t._v(" "+t._s(a.CONTACTNAME)+" ")])])])])})),0)])]),e("div",{staticClass:"modal-footer"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;"},on:{click:function(e){return t.assignUser()}}},[t._v(" "+t._s(t.$t("Assign")))])])]):t._e()])},_t=[],bt=function(){var t=this,e=t._self._c;return t.TotalPages>0?e("div",{staticClass:"nu-paging"},[e("nav",{attrs:{"aria-label":"Page navigation example col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"}},[e("ul",{staticClass:"pagination row"},[e("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left choose-page"},[e("span",{staticClass:"mr-2"},[t._v("Show")]),e("span",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.PageSize,expression:"PageSize"}],staticClass:"form-control form-control-sm",attrs:{id:"pageSize",name:"pageSize"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.PageSize=e.target.multiple?a:a[0]},t.SetPageSize]}},t._l(t.PageSizeOption,(function(a,s){return e("option",{key:s,domProps:{value:a}},[t._v(t._s(a))])})),0)]),e("span",{staticClass:"ml-2"},[t._v(t._s(t.$t("PagingText",[(t.CurrentPage-1)*t.PageSize+1,t.PageSize*t.CurrentPage>t.TotalRecords?t.TotalRecords:t.PageSize*t.CurrentPage,t.TotalRecords])))])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[t.TotalPages>1?e("ul",{staticClass:"paging-count"},[e("li",{staticClass:"page-item"},[1!=t.CurrentPage?e("a",{staticClass:"page-link first",attrs:{title:t.firstText,href:"javascript:;",val:"1"},on:{click:function(e){return t.SetCurrentPage(1)}}},[t._v(t._s(t.firstText))]):t._e(),1==t.CurrentPage?e("a",{staticClass:"page-link first disabled",attrs:{title:t.firstText,val:"1"}},[t._v(t._s(t.firstText))]):t._e()]),e("li",{staticClass:"page-item"},[1!=t.CurrentPage?e("a",{staticClass:"page-link previous",attrs:{title:t.prevText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage-1)}}},[t._v(t._s(t.prevText))]):t._e(),1==t.CurrentPage?e("a",{staticClass:"page-link previous disabled",attrs:{title:t.prevText}},[t._v(t._s(t.prevText))]):t._e()]),t._l(t.TotalPages,(function(a,s){return[a>=t.GroupStart&&a<=t.GroupEnd?e("li",{key:s,staticClass:"page-item"},[s+1==t.CurrentPage?e("a",{staticClass:"page-link active",attrs:{href:"javascript:;"}},[t._v(t._s(s+1))]):t._e(),s+1!=t.CurrentPage?e("a",{staticClass:"page-link",attrs:{href:"javascript:;",val:s},on:{click:function(e){return t.SetCurrentPage(s+1)}}},[t._v(t._s(s+1))]):t._e()]):t._e()]})),e("li",{staticClass:"page-item"},[t.CurrentPage<t.TotalPages?e("a",{staticClass:"page-link next",attrs:{title:t.nextText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage+1)}}},[t._v(t._s(t.nextText))]):t._e(),t.CurrentPage>=t.TotalPages?e("a",{staticClass:"page-link disabled next",attrs:{title:t.nextText}},[t._v(t._s(t.nextText))]):t._e()]),e("li",{staticClass:"page-item"},[t.CurrentPage!=t.TotalPages?e("a",{staticClass:"page-link next",attrs:{title:t.lastText,href:"javascript:;",val:t.TotalPages},on:{click:function(e){return t.SetCurrentPage(t.TotalPages)}}},[t._v(t._s(t.lastText))]):t._e(),t.CurrentPage==t.TotalPages?e("a",{staticClass:"page-link next disabled",attrs:{title:t.lastText,val:t.TotalPages}},[t._v(t._s(t.lastText))]):t._e()])],2):t._e()])])])]):t._e()},yt=[],St={props:{numberofrecords:{type:Number,required:!0},prevText:{type:String,required:!0},nextText:{type:String,required:!0},firstText:{type:String,required:!0},lastText:{type:String,required:!0},callbackfunction:{type:Function},CurrentPageNumber:{type:Number}},data:function(){return{TotalRecords:0,PageNumber:1,PageSize:10,PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,LastPage:!1}},watch:{numberofrecords:function(t){this.CurrentPage>this.PageNumber&&(this.CurrentPage=this.PageNumber),this.TotalRecords=t,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3)},CurrentPageNumber:function(t){var e=this;e.CurrentPage=t,1==t&&e.SetCurrentPage(t)}},created:function(){this.TotalRecords=this.numberofrecords,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetPageSizeOption()},methods:{GetData:function(){this.$emit("SetCurrentPage",{PageNumber:this.PageNumber,PageSize:this.PageSize}),"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction&&this.callbackfunction()},SetPageSize:function(t){this.PageSize=t.target.value,this.PageNumber=1,this.CurrentPage=this.PageNumber,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetData()},SetCurrentPage:function(t){this.PageNumber=t,this.CurrentPage=t,this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3),this.GetData()},GetPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t}}},It=St,wt=Object(d["a"])(It,bt,yt,!1,null,null,null),xt=wt.exports,Tt={name:"Setup",components:{ValidationProvider:V["b"],ValidationObserver:V["a"],Pager:xt},props:{store:{type:Object}},data(){return{deviceSetup:{Title:"",StatusId:"",AccountSid:"",AuthToken:"",Description:""},numberInfo:[],twilioSetup:!1,TotalRecords:0,CurrentPageNumber:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,update:!1,userAssignPopup:!1,assignUserInfo:"",users:[],userSearch:""}},created(){this.FetchData();let t="search=&pageSize=&pageNum=&sortBy=&sortExp=&type=company&city=&departmentId=";this.store.getContact(t)},methods:{async FetchData(){var t=this;let e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}`;await t.store.twilioList(e),t.TotalRecords=this.store.getTwilioList.length>0?t.store.getTwilioList[0].TotalRecord:0},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.PageNumber=1,this.FetchData()},addTwilioSetup(t){this.twilioSetup=t,this.update=!1},cancel(){this.twilioSetup=!1},formSubmit(){var t=this;t.$socket.emit("validTwilioAccount",{ACCOUNT_SID:t.deviceSetup.AccountSid,AUTH_TOKEN:t.deviceSetup.AuthToken},(function(e){1==e.status?t.$socket.emit("createApiKey",{deviceSetup:t.deviceSetup},(function(e){t.deviceSetup.secretValue=e.sid,t.deviceSetup.accountKey=e.secret,o["a"].AddTwilio(t.deviceSetup).then(e=>{if(console.log("record",e.data),e.data)if("UpdatedSuccess"==e.data[0].StatusMessage||"UpdatedSuccess"==e.data[0].StatusMessage){t.update=!1;let a=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}`;t.store.twilioList(a),t.ShowAlert(t.$t(e.data[0].StatusMessage,{0:t.$t("twilioAccount")}),"success",!0,t.$t("Alert"))}else t.ShowAlert(t.$t(e.data[0].StatusMessage),"warning",!0,t.$t("Alert"));else t.ShowAlert(t.$t("Error"),"warning",!0,t.$t("Alert"));t.$socket.emit("buyNumberList",{deviceSetup:t.deviceSetup},(function(e){t.numberInfo=e}))})})):t.ShowAlert(t.$t("TwilioAccountWrong"),"warning",!0,t.$t("Alert"))}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},updateStatus(t){console.log("record",t),o["a"].AddTwilio(t)},updateRecord(t){var e=this;e.twilioSetup=!0,e.update=!0,e.numberInfo=[],Object.assign(this.deviceSetup,t),e.$socket.emit("buyNumberList",{deviceSetup:e.deviceSetup},(function(t){console.log("testttt",t),e.numberInfo=t}))},deleteRecord(t){var e=this;e.confirmR(e.$t("ConfirmDeleteAccount"),!0,e.$t("Delete")+"  "+ +e.$t("Records"),(async function(){o["a"].DeleteTwilio("id="+t.TwilioCredentialId).then(a=>{a.data?(e.store.$state.twilioListaState=e.store.getTwilioList.filter(e=>e.TwilioCredentialId!==t.TwilioCredentialId),e.ShowAlert(e.$t("TwilioDelete"),"success",!0,e.$t("Alert"))):e.ShowAlert(e.$t("Error"),"warning",!0,e.$t("Alert"))})}))},generateSecret(t){var e=this;e.$socket.emit("createApiKey",{deviceSetup:t},(function(e){var a={twilioCredentialId:t.TwilioCredentialId,key:e.sid,secret:e.secret};console.log("createApiKey",e),o["a"].AssignAccountKeyAndSecret(a).then(t=>{console.log("checkk",t.data)})}))},numberAssignTouserShowPopup(t){this.assignUserInfo=t,console.log("numberAssignToUser",t),this.userAssignPopup=!0},assignUser(){let t={extension:this.assignUserInfo.phoneNumber,twilioCredentialId:this.deviceSetup.TwilioCredentialId,status_id:"1001",config_id:"",name:"",to_User_Id:""};this.users.map((e,a)=>{let s=this.store.getContactList.find(t=>t.USER_ID==e);t.name+=0==a?s.CONTACTNAME:","+s.CONTACTNAME,t.to_User_Id+=0==a?e:","+e}),o["a"].AssignNumberToUser(t).then(t=>{this.users=[],this.userAssignPopup=!1,this.userSearch="",this.store.GetTwilioUserConfigDetail(),t.data&&"1"==t.data[0].value?this.ShowAlert(this.$t("NumberAssign"),"success",!0,this.$t("Alert")):this.ShowAlert(this.$t("SomeThingWent"),"danger",!0,this.$t("Alert"))})},userSearchGetData(t){if(this.userSearch){var e=[];return e=t.filter(t=>t.CONTACTNAME.toLowerCase().includes(this.userSearch.toLowerCase())),""!=this.userSearch?e:t}return t},userAssignClose(){this.users=[],this.userAssignPopup=!1,this.userSearch=""}}},At=Tt,Dt=Object(d["a"])(At,Ct,_t,!1,null,null,null),Et=Dt.exports,Ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"div_forDifferentTabs content p-0",staticStyle:{display:"block"},attrs:{id:"v-pills-meetings"}},[e("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:a}){return[e("form",{ref:"commentForm",on:{submit:function(e){return e.preventDefault(),a(t.formSubmit)}}},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"border p-3 bg-white"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 p-0"},[e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6 p-0"},[e("div",{staticClass:"form-group projectConfig"},[e("label",[e("span",[t._v(" Chat setting ")]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("a",{attrs:{href:"javascript:;","data-toggle":"popoveruserguide","data-content":"Enable Approval Receipt Notification"}},[e("i",{staticClass:"fa fa-question-circle-o text-popover",attrs:{title:"Enable Approval Receipt Notification"}})])]),e("div",{staticClass:"rad_value",attrs:{type:"radiobutton",keys:"315",keyname:"Approver Receipt Notification"}},[e("label",{staticClass:"cogfiglbl form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chatSeetingBox,expression:"chatSeetingBox"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"chatSeetingBox",id:"rdo_Right",value:"Right"},domProps:{checked:t._q(t.chatSeetingBox,"Right")},on:{change:function(e){t.chatSeetingBox="Right"}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"rdo_Right"}})]),t._v("Right ")]),e("label",{staticClass:"cogfiglbl form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chatSeetingBox,expression:"chatSeetingBox"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"chatSeetingBox",id:"rdo_Left",value:"Left"},domProps:{checked:t._q(t.chatSeetingBox,"Left")},on:{change:function(e){t.chatSeetingBox="Left"}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"rdo_Left"}})]),t._v("Left ")]),e("label",{staticClass:"cogfiglbl form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.chatSeetingBox,expression:"chatSeetingBox"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"chatSeetingBox",id:"rdo_default",value:"default"},domProps:{checked:t._q(t.chatSeetingBox,"default")},on:{change:function(e){t.chatSeetingBox="default"}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"rdo_default"}})]),t._v("Default ")])])]),e("div"),e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-12 col-xl-12 p-0"})])])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit",id:"btnSave"}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{title:"","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(e){return t.cancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])])])]}}])})],1)},kt=[],Mt={name:"chat Setup",components:{ValidationObserver:V["a"]},props:{store:{type:Object}},data(){return{chatSeetingBox:""}},created(){this.FetchData()},methods:{async FetchData(){o["a"].GetUserChatSetting().then(({data:t})=>{let e=t?JSON.parse(t[0].value):"";var a=e?e[0].layout_type:"";this.chatSeetingBox=a||"Default"})},formSubmit(){o["a"].ChatSetting({layout:this.chatSeetingBox,status_id:1001,User_Id:this.store.getUserInformation.ID}).then(()=>{this.ShowAlert(this.$t("saveChatSetting"),"success",!0,this.$t("Alert"))})}}},Nt=Mt,Gt=Object(d["a"])(Nt,Ut,kt,!1,null,null,null),Rt=Gt.exports,Pt={name:"Setup",components:{TwilioSetup:Et,ChatSetupSetup:Rt},props:{store:{type:Object},selectedFilter:{type:String}},data(){return{deviceSetuppopupShow:!1,deviceType:"",openChat:!1,pageTitle:""}},created(){},watch:{selectedFilter:function(t,e){console.warn(e),this.deviceType="",this.deviceSetuppopupShow=!1,this.pageTitle=t}},methods:{deviceSelect(t){var e=this;e.deviceType=t,e.deviceSetuppopupShow=!1},deviceSetupPageShow(){"Chat"==this.pageTitle?(this.openChat=!0,this.deviceSetuppopupShow=!1):this.deviceSetuppopupShow=!0}}},Ot=Pt,Lt=Object(d["a"])(Ot,gt,vt,!1,null,null,null),Ft=Lt.exports;const $t=a("bc3a").default;var jt=document,Bt={components:{ActivityTabVue:p,ChatTabVue:k,MessageBoard:F,Call:st,Contacts:ct,Meeting:ft,DeviceSetup:Ft,dailNumber:""},data(){return{ProjectiId:null,uploadUrl:"https://qatestfilemedia.talygen.com/api/UploadStreamNew",location:null,departmentid:null,Groupdata:[],ToDate:"",FromDate:"",tempProjectList:[],ProjectTablist:[],id:"",refId:"",search:"",type:"MESSAGE_BOARD_PROJECT",moduleName:"PROJECT",isShowActivityTab:!1,isShowChatTab:!1,isMeassgeBoard:!1,isContact:!1,isCall:!1,isMeeting:!1,title:this.$t("Chats"),isMobile:!1,name:"",emaiId:"",mobileType:"",type:"web",companyId:null,imgPath:"",sender:{},ticketId:null,chatUsersList:[],isMobile:!1,isMobileNewChat:0,ChatUserListData:[],selectFilter:"",group:"-1",selectChildFilter:"",chatHistoryDetails:[],groupNameDisplay:"",chatUserInfo:"",UserAvatar:"",GroupAliasName:"",userGroupId:null,isLoading:!1,isUploadFile:!1,AttachmentFileDetail:[],tmpChatUserList:[],visiblePop:"",txtSearchChatGroups:"",txtGlobalSearch:"",GlobalSearchListData:[],isShowGlobalSearch:!1,isCreateGroup:!1,activeTabProp:"",expandColapseTab:"",txtSearchProject:"",isDataLoaded:!0,activeTabAngle:"fa fa-angle-right",phoneNumber:"",deviceSetupActive:!1,blobUrl:"",containerName:"",imgUrlPath:"",blobUserUrl:"",tempProjectsList:[],defaultImg:"https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg",pageHeight:window.innerHeight-115,pageHeightScroll:window.innerHeight,pageWidth:window.innerWidth,LabelUserName:"",callSatus:"",sideBarContactFiletr:{type:"",id:""},RecieverId:"",refblinkRepliedText:"",searchByGlobal:"",isTypingImage:"https://talygenv.github.io/Vue-UI-Content/images/UC/typingo.gif",isShowTypingForLeft:!1,isTypingToGroup:"",leftIsTyping:"https://talygenv.github.io/Vue-UI-Content/images/UC/texttype.gif",totalUnreadCount:0,isUserLoggedInId:[],blinkUserId:null,UsersListData:[],lgId:0,AllContactList:[],filterUsersForchat:[],token:"",headphonesConnected:!1,SavedFileId:null,fileInProgress:!1,progressValue:0,callToUserInfo:"",localMediaStream:null,ICE_SERVERS:[{urls:"stun:stun.talygen.com:5349"},{urls:"turn:turn.talygen.com:5349",username:"eriklensherr",credential:"yWtxxC#85BcFH~5"}],peer_connection:"",peers:{},peer_media_elements:{},MUTE_AUDIO_BY_DEFAULT:!1,groupName:"",showPlaceholder:!0,inComingCallingPopup:!1,incomingVideoCallinfo:"",incomingOutGoingParams:"",muteUnmute:"mute",videoCallShow:!1,isOnline:!0,connectedSockets:[],CurrnetOnlineUsers:[]}},sockets:{connect(){console.log("Connected to server")},disconnect(){console.log("Disconnected from server")},display:function(t){var e=this;if(1==t.typing){if(1!=t.IsGroup)if(t.Group==e.userGroupId){var a=this.ChatUserListData.find(e=>e.GROUP_ID==t.Group.toString());e.isTypingToGroup=a.GROUP_ID,null!=a&&t.user==e.sender.id?(e.isShowTypingForLeft=!0,setTimeout((function(){e.isTypingToGroup="",e.isShowTypingForLeft=!1}),4e3)):e.isShowTypingForLeft=!1}else{a=this.ChatUserListData.find(e=>e.GROUP_ID==t.Group.toString());e.isTypingToGroup=a.GROUP_ID,e.isShowTypingForLeft=!0}else if(1==t.IsGroup&&t.user!=e.sender.id){e.isShowTypingForLeft=!0;a=this.ChatUserListData.find(e=>e.GROUP_ID==t.Group.toString());e.isTypingToGroup=a.GROUP_ID,setTimeout((function(){e.isShowTypingForLeft=!1}),4e3)}}else e.isShowTypingForLeft=!1;setTimeout((function(){e.isTypingToGroup="",e.isShowTypingForLeft=!1}),4e3)},historyLogUsers:async function(t){this.ChatUserListData=[],await this.historyLogUsers(t)},readReceiverMessage:function(t){console.log("readReceiverMessage",t)},historyMessage:async function(t){await this.historyMessageDetails(t)},getGlobalSearchDataOut:function(t){this.getGlobalSearchData(t)},erorrMessage:function(t,e,a){this.erorrMessage(t,e,a)},duplicateGroup:function(t){var e=this;e.ShowAlert(t.msg,"failure",e.$t("Alert"))},AddedNewLogUsers:async function(t){console.log("group,name,img",t),await this.ConnectIO(),this.chatUserInfo=t,this.userGroupId=t.GROUP_ID,setTimeout(()=>{var e=this.chatUsersList.find(e=>e.GROUP_ID==t.GROUP_ID);this.groupNameDisplay=e.GROUP_NAME},500)},totalResult:function(t){var e=this;e.totalUnreadCount=0,console.log("parseInt(data.cnt)",parseInt(t.cnt)),t.userId==e.sender.id&&(parseInt(t.cnt)>=99?e.totalUnreadCount=99:e.totalUnreadCount=parseInt(t.cnt))},tabBlinkNewMessage:async function(t){var e=this,a=e.chatUsersList.find(e=>e.GROUP_ID==t.roomId);e.isUserLoggedInId=a.GROUP_NAME_ALIAS.split("_"),0==e.$refs.ChatsTab.classList.contains("active")?(e.blinkUserId=e.sender.id,e.isUserLoggedInId.forEach(t=>{t==e.blinkUserId&&(e.lgId=t)}),setTimeout((function(){e.lgId=0,setTimeout((function(){1!=e.chatTab&&e.$refs.ChatsTab.classList.remove("active")}),10)}),6e3)):1==e.$refs.ChatsTab.classList.contains("active")?(e.blinkUserId=e.sender.id,e.isUserLoggedInId.forEach(s=>{if(s!=e.blinkUserId&&e.chatUserInfo.GROUP_ID!=t.roomId){var i=document.getElementById(a.GROUP_ID);i.classList.add("blinkingcommon2"),setTimeout((function(){var t=document.getElementById(a.GROUP_ID);t.classList.remove("blinkingcommon2")}),6e3)}})):(e.isUserLoggedInId=0,e.lgId=0);let s={companyId:this.store2.GetUserInfo.CompanyId,userId:this.store2.GetUserInfo.ID,emaiId:this.store2.GetUserInfo.Email,name:this.store2.GetUserInfo.Name,imgPath:this.blobUserUrl+this.store2.GetUserInfo.Avatar,type:this.type};this.$socket.emit("user total",s)},broadcast:function(t,e){},updateUserList:function(t){},PinnedUsers:function(t){var e=this;1==t.recordset[0].STATUS&&e.ShowAlert(e.$t("PinnedSuccess"),"success",!0,e.$t("Alert")),0==t.recordset[0].STATUS&&e.ShowAlert(e.$t("UnPinSuccess"),"success",!0,e.$t("Alert"))},newRoomVideo:function(t){this.videoPopUpCall(t.room,0,"")},addPeer:function(t){console.log("addPeer",t);var e=t.peer_id,a=t.peer_id;e in this.peers?console.log("Already connected to peer ",e):(this.peer_connection=this.createPeerConnection(e),this.peers[e]=this.peer_connection,this.setupIceCandidateHandler(this.peer_connection,e),this.setupAddStreamHandler(this.peer_connection,a,e),this.peer_connection.addStream(this.localMediaStream),t.should_create_offer&&this.createAndSendOffer(this.peer_connection,e))},getvideoCallReceiver:function(t){Number(t.toUserId)==this.store.getUserInformation.ID&&(this.inComingCallingPopup=!0,this.incomingVideoCallinfo=t)},ChannelJoinVideo:function(t){this.$socket.emit("joinVideo",{channel:t.room,userdata:t.id})},getNewVideo:function(t){if(this.sender.id==t.id){console.log("getNewVideo",t);let e=this.sender;const[a,s,i]=t.room.split("~");e.room=i,e.alias=s,e.token=a,e.receiver=t.receiver,e.isSender=0,e.Receiver_name=this.replaceAll(t.contactname,"%20"," "),this.incomingOutGoingParams=e,this.VideoCallPopUP(e),setTimeout(()=>{this.openRoomChat(e.room,this.sender,null,!1)},1e3)}},sessionDescription:function(t){const e=t.peer_id;if(this.peers){console.log("checkk");const a=this.peers[e],s=t.session_description,i=new RTCSessionDescription(s);a&&(console.log("checkk22"),a.setRemoteDescription(i).then(()=>{if("offer"===s.type)return a.createAnswer()}).then(t=>a.setLocalDescription(t)).then(()=>{this.$socket.emit("relaySessionDescription",{peer_id:e,session_description:a.localDescription})}).catch(t=>{console.log("Error setting remote description or creating answer: ",t)}))}},iceCandidate:function(t){console.log("iceCandidate",t);var e=this.peers[t.peer_id],a=t.ice_candidate;e.addIceCandidate(new RTCIceCandidate(a))},removePeer:function(t){console.log("removePeer");var e=t.peer_id;e in this.peer_media_elements&&(peer_media_elements[e].remove(),this.ShowAlert(this.$t("VideoDisconnect"),"failure",!0,this.$t("Alert"))),e in this.peers&&this.peer[e].close(),delete this.peers[e],delete this.peers[t.peer_id],null!=this.localMediaStream&&(this.localMediaStream.getTracks().forEach((function(t){t.stop()})),this.localMediaStream=null,this.peers={},this.peers={}),this.incomingOutGoingParams="",this.videoCallShow=!1},rejectNewVideo:function(t){this.sender.id!=Number(t.id)&&this.sender.id!=Number(t.receiver)||this.handleRejectNewVideo(t)},GetChatUserStatus:function(t){console.log("isOnline11111",t)},updateUserList:function(t){var e=this;console.log("isOnline22222",t),e.isOnline=!0},connectedSockets:function(t){this.ChatUserListData=this.ChatUserListData.map(t=>({...t,IsOnlineUser:0})),t.forEach((t,e)=>{var a=this.ChatUserListData.findIndex(e=>e.RECEIVER_ID==t.ID.toString());void 0!=a&&-1!=a&&(this.ChatUserListData[a].IsOnlineUser=1)}),console.log("activeUsers",t)}},created:async function(){this.containerName=this.GetUserInfo?this.GetUserInfo.ContainerName:"",this.imgUrlPath=this.GetUserInfo?this.GetUserInfo.Avatar:"",this.token=this.GetUserInfo?this.GetUserInfo.Token:"",console.log("imgurl",this.imgUrlPath),await this.GetBlobUrl(),this.LabelUserName=this.GetUserInfo?this.GetUserInfo.Name:"",await this.GetContactList(),await this.ConnectIO(),this.tempProjectsList=this.ProjectTablist,this.isShowChatTab=!0,this.isCall=!1,this.isShowActivityTab=!1,this.isDataLoaded=!1;let t={companyId:this.store2.GetUserInfo.CompanyId,userId:this.store2.GetUserInfo.ID,emaiId:this.store2.GetUserInfo.Email,name:this.store2.GetUserInfo.Name,imgPath:this.blobUserUrl+this.store2.GetUserInfo.Avatar,type:this.type};this.$socket.emit("user total",t),this.tmpChatUserList=[...this.ChatUserListData],this.tmpAllContactUserList=[...this.AllContactList],this.$socket.emit("onlineUser",this.store2.GetUserInfo)},computed:{updateDimensions(){return()=>{this.pageHeightScroll=window.innerHeight,this.pageHeight=window.innerHeight,this.pageWidth=window.innerWidth}}},beforeDestroy(){window.removeEventListener("resize",this.updateDimensions)},mounted:async function(){var t=jt.getElementsByTagName("body");if(t[0].classList.add("body-CommunicationClassForCSS"),t[0].classList.add("modal-open"),window.addEventListener("resize",this.updateDimensions),await this.store.GetTwilioUserConfigDetail(),this.store.getTwilioAccountDetails){if(await this.$socket.emit("twilioDetails",this.store.getTwilioAccountDetails),await this.updateDevices(),1!=this.headphonesConnected)return void console.log("selectAudioOutput() not supported or not in secure context.");this.getToken()}this.store2.GetUserInfo.CompanyId,this.store2.GetUserInfo.ID,this.store2.GetUserInfo.Email,this.store2.GetUserInfo.Name,this.blobUserUrl,this.store2.GetUserInfo.Avatar,this.type},methods:{videoPopUpCall(t,e,a){var s=this.sender;this.videoCallShow=!0,s.room=t,s.isGroup=0,s.aliasSel=a+"_"+this.store.getUserInformation.ID,s.alias=this.store.getUserInformation.ID+"_"+this.callToUserInfo.USER_ID,s.IsSel=e,s.receiver=this.callToUserInfo.USER_ID,s.isSender=1,s.token="",e.length>0?s.IdList=s.aliasSel+"_"+s.id:s.IdList=s.alias,this.incomingOutGoingParams=s,this.setup_local_media(s)},createPeerConnection(t){return new RTCPeerConnection({iceServers:this.ICE_SERVERS},{optional:[{DtlsSrtpKeyAgreement:!0}]})},VideoCallPopUP(t){if(this.videoCallShow=!0,this.callToUserInfo=t,1==t.isSender)t.groupName=t.name;else{try{t.groupName=t.Receiver_name}catch(e){alert(e)}this.inComingCallingPopup=!1}this.setup_local_media(t)},videoCreate(t){this.videoCallShow=!0,this.callToUserInfo=t;var e=t.USER_ID,a={emaild:this.store.getUserInformation.Email,name:this.store.getUserInformation.ame,id:this.store.getUserInformation.ID,type:"web",companyId:this.store.getUserInformation.CompanyId,imgPath:this.store.getUserInformation.Avatar,userType:"vdrt",alias:this.store.getUserInformation.ID+"_"+e,room:this.store.getUserInformation.ID+"_"+e,isSender:1,IdList:this.store.getUserInformation.ID+"_"+e,IS_GROUP:0};t.IS_GROUP?(a.alias=t.GROUP_NAME_ALIAS,a.IS_GROUP=1,a.room=t.room,this.videoPopUpCall(t.room,1,a.alias)):(a.alias=this.store.getUserInformation.ID+"_"+e,this.$socket.emit("createRoom",a))},attachMediaStream(t,e){console.log("DEPRECATED, attachMediaStream will soon be removed."),t.srcObject=e},setup_local_media(t,e,a){if(null===this.localMediaStream){var s=/constructor/i.test(window.HTMLElement)||function(t){return"[object SafariRemoteNotification]"===t.toString()}(!window["safari"]||"undefined"!==typeof s&&window["safari"].pushNotification);if(s)try{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.mediaDevices.getUserMedia({audio:{sampleSize:8,echoCancellation:{exact:!0},noiseSuppression:!1,autoGainControl:!0},video:{mirrored:!1,frameRate:{ideal:10,max:15}}},a=>{this.$refs.localVideo.srcObject=a,console.log("Access granted to audio/video"),1==t.isSender&&socket.emit("video call",t),this.localMediaStream=a,this.attachMediaStream(this.$refs.localVideo,a),1!=t.isSender&&this.$socket.emit("joinVideo",{channel:t.token,userdata:this.store.getUserInformation.ID}),e&&e()},()=>{console.log("Access denied for audio/video"),this.ShowAlert(this.$t("Camera_Access_Connect"),"failure",!0,this.$t("Alert")),$(".disconnectVideo").trigger("click"),a&&a()})}catch(i){alert(i)}else navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia({audio:{sampleSize:8,echoCancellation:{exact:!0},noiseSuppression:!1,autoGainControl:!0},video:{mirrored:!1,frameRate:{ideal:10,max:15}}},a=>{console.log("Access granted to audio/video"),1==t.isSender&&this.$socket.emit("video call",t),this.localMediaStream=a,this.$refs.localVideo.srcObject=a,this.attachMediaStream(this.$refs.localVideo,a),1!=t.isSender&&this.$socket.emit("joinVideo",{channel:t.token,userdata:this.store.getUserInformation.ID}),e&&e()},()=>{console.log("Access denied for audio/video"),this.ShowAlert(this.$t("Camera_Access_Connect"),"failure",!0,this.$t("Alert")),$(".disconnectVideo").trigger("click"),a&&a()})}else e&&e()},setupIceCandidateHandler(t,e){t.onicecandidate=t=>{t.candidate&&this.$socket.emit("relayICECandidate",{peer_id:e,ice_candidate:{sdpMLineIndex:t.candidate.sdpMLineIndex,candidate:t.candidate.candidate}})}},setupAddStreamHandler(t,e,a){t.onaddstream=t=>{console.log("onAddStream",t),this.showPlaceholder=!1,this.attachMediaStream(this.$refs.remoteVideo,t.stream)}},createAndSendOffer(t,e){t.createOffer().then(e=>t.setLocalDescription(e)).then(()=>{this.$socket.emit("relaySessionDescription",{peer_id:e,session_description:t.localDescription})}).catch(t=>{console.log("Error sending offer: ",t)})},VideoCallPickupMethod(t){var e=this.incomingVideoCallinfo.roomId+"~"+this.incomingVideoCallinfo.actRoom+"~"+this.incomingVideoCallinfo.actRoomId,a=this.incomingVideoCallinfo.fromUserId,s=this.incomingVideoCallinfo.fromName,i=new Object;i.receiver=a,i.contactname=s,i.id=this.store.getUserInformation.ID,"tokBox"==t?(i.path=e,this.$socket.emit("add video on chat tokBox",i)):(i.room=e,this.$socket.emit("add video on chat",i))},GetStatus(t){const e=t;e&&this.$socket.emit("get Open Chat User Status",e)},disconnectVideo(){null!=this.localMediaStream&&(this.localMediaStream.getTracks().forEach((function(t){t.stop()})),this.localMediaStream=null,this.peers={},this.peers={}),this.videoCallShow=!1,this.inComingCallingPopup=!1,this.$socket.emit("video call reject",this.incomingOutGoingParams)},handleRejectNewVideo(t){null!=this.localMediaStream&&(this.localMediaStream.getTracks().forEach((function(t){t.stop()})),this.localMediaStream=null,this.peers={}),this.videoCallShow=!1,this.inComingCallingPopup=!1},replaceAll(t,e,a){return t.replace(new RegExp(e,"g"),a)},closeVideo(){this.videoCallShow=!1,this.inComingCallingPopup=!1,this.callToUserInfo=""},muteOrUnmute(){this.muteUnmute="mute"==this.muteUnmute?"unmute":"mute","mute"==this.muteUnmute?this.localMediaStream.getAudioTracks()[0].enabled=!this.localMediaStream.getAudioTracks()[0].enabled:(this.localMediaStream.getAudioTracks()[0].enabled=!this.localMediaStream.getAudioTracks()[0].enabled,this.localMediaStream.getAudioTracks()[0].stop())},PinUserGroup:function(t){var e=this,a=0;e.ChatUserListData.forEach((t,e)=>{1==t.IS_PINNED&&(a+=1)}),a>=5&&1==t.IS_PINNED?e.confirmR(e.$t("PinnedUserExeeded"),!0,e.$t("UnPin")+"  "+ +e.$t("Records"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_PINNED=t.IS_PINNED,a.userId=e.sender.id,a.companyId=e.sender.companyId,e.$socket.emit("pin user group",a)})):a<5&&1==t.IS_PINNED?e.confirmR(e.$t("UnPinUser"),!0,e.$t("UnPin")+"  "+ +e.$t("Records"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_PINNED=t.IS_PINNED,a.userId=e.sender.id,a.companyId=e.sender.companyId,e.$socket.emit("pin user group",a)})):e.confirmR(e.$t("PinUser"),!0,e.$t("UnPin")+"  "+ +e.$t("Records"),(async function(){var a={};a.groupId=t.GROUP_ID,a.IS_PINNED=t.IS_PINNED,a.userId=e.sender.id,a.companyId=e.sender.companyId,e.$socket.emit("pin user group",a)})),a=0},async updateDevices(){let t=await navigator.mediaDevices.enumerateDevices();this.headphonesConnected=t.length>0},GetContactList:async function(){var t=this,e=[],a="company",s=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=${a}&city=&departmentId=`;await o["a"].CompanyContact(s).then(a=>{null!=a.data&&(e=JSON.parse(a.data),t.ChatUserListData.forEach(t=>{var a=e.findIndex(e=>e.USER_ID==t.RECEIVER_ID);-1!==a&&e.splice(a,1)}),t.AllContactList=[...e])})},truncateMessage(t){const e=200;var a=/(https?:\/\/.*\.(?:gif))/i,s=/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]/u,i=a.test(t);s.test(t);if(/<img[^>]+src="([^">]+)"/.test(t)||i)t=t.replace(/<img[^>]+src="([^">]+)"(?: alt="[^"]*")?(?: style="[^">]*")?>/,"[GIF]");else if(t.length>e)return t.substring(0,e)+"...";return t},clearProjectSeachBox:function(){var t=this;t.txtSearchProject="",t.ProjectTablist=t.tempProjectsList},clearTextFromChatGroups:function(){var t=this;t.txtSearchChatGroups="",t.ChatUserListData=t.tmpChatUserList},hangup(t){this.store.hangup()},numberDail(t){console.log("checkk",this.dailNumber),this.dailNumber=t},incomingCallPick(t){this.store.$state.callEnded=!1,this.store.contactInformation("phone="+encodeURIComponent(this.store.getIncomingCallData.parameters.From)),this.store.clearInterval(),this.store.$state.outGoingcallData="",t.accept(),this.CallsTabClick(),this.store.callTabsInformation({params:"mobileNum="+encodeURIComponent(this.store.getIncomingCallData.parameters.From),tab:"Ticket"}),this.dailNumber=""},callStatus(t){this.callSatus=t},async getToken(){var t=this;if(await t.updateDevices(),t.headphonesConnected)if(this.store.getTwilioAccountDetails){var e=["first","second","third","user","callUser"],a=e[Math.random()*e.length|0];await t.$socket.emit("getToken",{identity:a},(function(e){t.store.$state.callToken=e.deviceToken,t.store.intitializeDevice()}))}else t.ShowAlert(t.$t("CreateAccount"),"warning",!0,t.$t("Alert"));else t.ShowAlert(t.$t("ConnectDevice"),"warning",!0,t.$t("Alert"))},erorrMessage:function(t,e,a){},openFileInput:function(){document.getElementById("up").click()},GetBlobUrl:async function(){await o["a"].GetBlobUrl().then(t=>{this.blobUserUrl=t.data[0].CONFIG_DATA_VALUE+this.containerName+"/Upload/UserProfileImage/"})},VoiceCallClickToUser:function(){var t=this;t.ShowAlert(t.$t("MobileNotAvailable"),"failure",!0,t.$t("Alert"))},getListbyProjectId(t){this.selectChildFilter=t,this.ProjectiId=t,this.MessageBoardTabClick()},ActiveProjectListTab:function(){var t=this;"active"==t.activeTabProp?(t.activeTabProp="",t.activeTabAngle="fa fa-angle-right",t.expandColapseTab="none"):(t.activeTabProp="active",t.activeTabAngle="fa fa-angle-down",t.expandColapseTab="block")},async CreateGroupmsg(t){var e=this;e.ShowAlert(e.$t("GroupSuccesfullycreated"),"success",!0,e.$t("Alert")),await e.ConnectIO(),e.isCreateGroup=!1},closeGroup(){this.isCreateGroup=!1},historyMessageDetails:function(t){var e=this;t.is_first_time;if("undefined"!==t.resultSet&&t.resultSet.length>0){t.searchForMsg,t.lastchatId,t.room;t.resultSet.forEach((a,s)=>{if(e.chatHistoryDetails=t,1==s.IS_READ&&"text-success",s.CHAT_LOG_REF_ID>0&&null!=s.PARENT_DETAIL){var i=s.PARENT_DETAIL.split("~");if(1==i[0])s.PARENT_MESSAGE.split("?")[1];0==i[0]&&s.PARENT_MESSAGE}s.FROM_USER_ID==e.sender.id&&(type="sender")}),e.$refs.chatTab.isDataLoaded=!1}else e.chatHistoryDetails=[],e.chatHistoryDetails=t;console.log("chatHistoryDetails",e.chatHistoryDetails)},async JoinRooms(t,e){var a=this;a.$refs.chatTab.isDataLoaded=!0,a.chatHistoryDetails=[],a.$socket.emit("is typing",{user:a.sender.id,Group:t.GROUP_ID,typing:!1,IsGroup:t.IS_GROUP});var s={alias:t.GROUP_NAME_ALIAS,companyId:a.sender.companyId,emaiId:a.sender.emaiId,groupName:t.GROUP_NAME,id:a.sender.id,imgPath:a.sender.imgPath,is_first_time:1,isGlobalSearch:!1,lastchatId:null,lastrow:0,name:a.sender.name,room:t.GROUP_NAME_ALIAS};if(await a.$socket.emit("joinRoom",s),t.isActive,t.hasOwnProperty("GROUP_ID")){var i=a.ChatUserListData.find(e=>e.GROUP_ID==t.GROUP_ID);a.RecieverId=t.RECEIVER_ID,a.groupNameDisplay=t.GROUP_NAME?t.GROUP_NAME:i.GROUP_NAME,a.userGroupId=t.GROUP_ID,a.GroupAliasName=t.GROUP_NAME_ALIAS?t.GROUP_NAME_ALIAS:i.GROUP_NAME_ALIAS,a.chatUserInfo=t,a.Groupdata=t}ImageBitmap.FROM_USER_ID==a.sender.id&&(a.closeGroup(),await a.$refs.chatTab.backToChat(),a.$refs.chatTab.forwardCancel())},Filter(t){this.chatUserInfo="",t==this.selectFilter?this.selectFilter="":this.selectFilter=t,this.selectChildFilter=""},getStartOfWeek(t){return t=t?new Date(+t):new Date,t.setHours(0,0,0,0),t.setDate(t.getDate()-t.getDay()),t},getEndOfWeek(t){return t=this.getStartOfWeek(t),t.setDate(t.getDate()+6),t},callFilter(t){t==this.selectFilter?this.selectFilter="":this.selectFilter=t,this.selectChildFilter="";var e=this;let a=null,s=null;if("All"==t)s=null,a=null;else if("Today"==t){const t=g()();s=t.format(x["a"]);const e=g()();a=e.format(x["a"])}else if("Yesterday"==t){const t=g()(),e=g()(t).subtract(1,"days");a=e.format(x["a"]);const i=g()(t).subtract(1,"days");s=i.format(x["a"])}else if("thisWeek"==t){const t=g()(e.getEndOfWeek(g()()));a=t.format(x["a"]);const i=g()(e.getStartOfWeek(g()()));s=i.format(x["a"])}else if("thisMonth"==t){const t=g()();a=t.format(x["a"]);var i=t.format("DD");const e=g()(t).subtract(parseInt(i)-1,"days");s=e.format(x["a"])}else if("LastMonth"==t){var o=g()();const t=o.subtract(1,"months").startOf("month");s=t.format(x["a"]);const e=o.endOf("month").subtract(1,"days");a=e.format(x["a"])}s&&a&&(s+=" 00:00:00",a+=" 23:59:59"),this.store.recentCalls(`fromDate=${encodeURIComponent(s)}&toDate=${encodeURIComponent(a)}&isLocalSearch=false`)},FilterChat(t){var e=this;if(e.selectFilter=t,"All"==t)e.FromDate=null,e.ToDate=null;else if("Today"==t){const t=g()();e.FromDate=t.format("MM/DD/YYYY");const a=g()();e.ToDate=a.format("MM/DD/YYYY")}else if("Yesterday"==t){const t=g()(),a=g()(t).subtract(1,"days");e.ToDate=a.format("MM/DD/YYYY");const s=g()(t).subtract(1,"days");e.FromDate=s.format("MM/DD/YYYY")}else if("thisWeek"==t){const t=g()();e.ToDate=t.format("MM/DD/YYYY");const a=g()(t).subtract(7,"days");e.FromDate=a.format("MM/DD/YYYY")}else if("thisMonth"==t){const t=g()();e.ToDate=t.format("MM/DD/YYYY");var a=t.format("DD");const s=g()(t).subtract(parseInt(a)-1,"days");e.FromDate=s.format("MM/DD/YYYY")}else if("LastMonth"==t){var s=g()();const t=s.subtract(1,"months").startOf("month");e.FromDate=t.format("MM/DD/YYYY");const a=s.endOf("month").subtract(1,"days");e.ToDate=a.format("MM/DD/YYYY")}e.FromDate&&e.ToDate&&(e.FromDate=e.FromDate+" 00:00:00",e.ToDate=e.ToDate+" 23:59:59")},async childFilter(t,e){var a=this;a.isContact=!1;const s=null==e||void 0==e.department_id?null:e.department_id,i=null==e||void 0==e.user_city?null:e.user_city;if(null==s&&null==i){var o="search=&pageSize=&pageNum=&sortBy=&sortExp=&type=company&city=&departmentId=";a.sideBarContactFiletr={type:t,id:""}}else if(null==i){o="search=&pageSize=&pageNum=&sortBy=&sortExp=&type=company&city=&departmentId="+s;a.sideBarContactFiletr={type:t,id:s}}else{o=`search=&pageSize=&pageNum=&sortBy=&sortExp=&type=company&city=${i}&departmentId=`;a.sideBarContactFiletr={type:t,id:i}}await a.store.getContact(o),a.selectChildFilter=t,a.isContact=!0},async ActivityTabClick(){var t=this;t.group="-1",t.isShowActivityTab=!0,t.isShowChatTab=!1,t.isMeassgeBoard=!1,t.isContact=!1,t.isCall=!1,t.isMeeting=!1,t.deviceSetupActive=!1,t.title=t.$t("Activity"),t.type="MESSAGE_BOARD_PROJECT";var e=`id=${t.id}&moduleName=${t.moduleName}&type=${t.type}&search=${t.search}&refId=${t.refId}`;o["a"].GetProjectList(e).then(e=>{null!=e.data.DATA&&(t.ProjectTablist=e.data.DATA)})},ChatTabClick:function(t){var e=this;if(e.isShowActivityTab=!1,e.isShowChatTab=!0,e.isMeassgeBoard=!1,e.isContact=!1,e.isCall=!1,e.isMeeting=!1,e.deviceSetupActive=!1,e.title=e.$t("Chats"),e.ConnectIO(),"contactPage"==t){var a=document.getElementById("v-pills-contacts-tab");a.classList.remove("active");var s=document.getElementById("v-pills-chat-tab");s.classList.add("active")}},MessageBoardTabClick:function(){var t=this;t.group="-1",t.isShowActivityTab=!1,t.isShowChatTab=!1,t.isContact=!1,t.isCall=!1,t.isMeeting=!1,t.deviceSetupActive=!1,t.type="MESSAGE_BOARD_PROJECT",t.title=t.$t("MessageBoard");var e=`id=${t.id}&moduleName=${t.moduleName}&type=${t.type}&search=${t.search}&refId=${t.refId}`;o["a"].GetProjectList(e).then(e=>{null!=e.data.DATA&&(t.ProjectTablist=e.data.DATA,t.tempProjectsList=t.ProjectTablist)}),t.isMeassgeBoard=!0},ContactsTabClick:function(){var t=this;t.group="-1",t.isMeassgeBoard=!1,t.isShowActivityTab=!1,t.isShowChatTab=!1,t.isContact=!0,t.isCall=!1,t.isMeeting=!1,t.isCreateGroup=!1,t.deviceSetupActive=!1,t.title=t.$t("Contacts"),t.store.leftSideFilter(),t.store.getContact()},callFromOtherTab(t){var e=this;e.group="-1",e.dailNumber=t,e.phoneNumber=t,e.isMeassgeBoard=!1,e.isShowActivityTab=!1,e.isShowChatTab=!1,e.isContact=!1,e.isCall=!0,e.isMeeting=!1,e.deviceSetupActive=!1,e.title=e.$t("Calls");var a=document.getElementById("v-pills-contacts-tab");a.classList.remove("active");var s=document.getElementById("v-pills-calls-tab");s.classList.add("active")},CallsTabClick:function(){var t=this;t.group="-1",t.isMeassgeBoard=!1,t.isShowActivityTab=!1,t.isShowChatTab=!1,t.isContact=!1,t.isCall=!0,t.isMeeting=!1,t.deviceSetupActive=!1,t.callFilter("All"),t.title=t.$t("Calls")},MeetingsTabClick:function(){var t=this;t.group="-1",t.isMeassgeBoard=!1,t.isShowActivityTab=!1,t.isShowChatTab=!1,t.isContact=!1,t.isCall=!1,t.isMeeting=!0,t.deviceSetupActive=!1,t.title=t.$t("Meetings")},deviceSetupTab:function(){var t=this;t.group="-1",t.isMeassgeBoard=!1,t.isShowActivityTab=!1,t.isShowChatTab=!1,t.isContact=!1,t.isCall=!1,t.isMeeting=!1,t.selectFilter="Call",t.deviceSetupActive=!0,t.title=t.$t("Setting")},getUrlVars(){for(var t,e=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<a.length;s++)t=a[s].split("="),e.push(t[0]),e[t[0]]=t[1];return e},GetPhoneNumberUserId(){},RemoveUrlExtraInfo(){var t=window.location.toString();if(t.indexOf("&")>0){var e=t.substring(0,t.indexOf("&"));window.history.replaceState("","",e)}},ConnectIO:async function(){var t=this;if(t.GetContactList(),t.chatHistoryDetails=[],1==t.isMobile?(t.sender=t.GetSenderDetail(),await t.$socket.emit("get All Chat Persons",t.sender),this.isDataLoaded=!1):t.sender=t.GetSenderDetail(),t.ticketId>0)if(1==callId){var e=GetPhoneNumberUserId(ticketId);""!=e&&null!=e&&0!=e||t.ShowAlert(t.$t("MobileNotAvailable"),"failure",t.$t("Alert"))}else OpenTicketReceiver(ticketId),setTimeout((function(){t.socket.emit("get All Chat Persons",t.sender)}),1e3);else await t.$socket.emit("get All Chat Persons",t.sender);this.isDataLoaded=!1},OpenTicketReceiver(t){var e=this.GetSenderDetail();console.log("user",e);var a={};a=e,a.userType="s",a.alias=e.id+"_"+t.USER_ID,a.room=e.id+"_"+t.USER_ID,this.$socket.emit("createRoom",a),this.isShowChatTab=!0,this.isContact=!1;var s=document.getElementById("v-pills-contacts-tab");s.classList.remove("active");var i=document.getElementById("v-pills-chat-tab");i.classList.add("active"),1==this.isMobile&&(this.isMobileNewChat=1)},GetSenderDetail(){var t=this;return t.type="web",t.mobileType&&(t.type="mobile"),t.sender.companyId=t.store2.GetUserInfo.CompanyId,t.sender.id=t.store2.GetUserInfo.ID,t.sender.emaiId=t.store2.GetUserInfo.Email,t.sender.name=t.store2.GetUserInfo.Name,t.sender.imgPath=t.blobUserUrl+t.store2.GetUserInfo.Avatar,t.sender.type=t.type,t.sender},historyLogUsers(t){var e=this;if(e.isDataLoaded=!1,e.ChatUserListData=[],t.resultSet.length>0){e.chatUsersList=t.resultSet,1==e.isMobile&&1==e.isMobileNewChat&&(e.isMobileNewChat=0);var a=[];t.resultSet.forEach((t,s)=>{if(!a.includes(t.RECEIVER_ID)&&(e.ChatUserListData.push(t),e.group<=0))if(e.ReceiverId>=0)if(null!=e.Rec_path&&e.Rec_path.length>0){group=Rec_path.split("~")[0];var i={};i.path=Rec_path,i.receiver=ReceiverId,i.contactname=getUrlVars()["name"],i.contactname=replaceAll(i.contactname,"%20"," "),i.id=sender.id,setTimeout((function(){e.openRoomChat(group,e.sender,null,!1),e.$socket.emit("add video on chat tokBox",i)}),1e3)}else e.group=e.Rec_room.split("~")[2],e.openRoomChat(group,e.sender,null,!1);else e.group=t.GROUP_ID,e.chatUserInfo=t,e.GroupAliasName=t.GROUP_NAME_ALIAS,e.userGroupId=t.GROUP_ID,e.groupNameDisplay=t.GROUP_NAME,e.openRoomChat(t.GROUP_ID,e.sender,null,!1,t)})}else e.groupNameDisplay="",e.userGroupId=null;e.tmpChatUserList=e.ChatUserListData,this.$socket.emit("onlineUser",this.store2.GetUserInfo)},async openRoomChat(t,e,a,s,i){var o=this,r=o.chatUsersList.find(e=>e.GROUP_ID==t),l="",n=new Object;n=e,n.room=t,n.groupName=r.GROUP_NAME,n.lastrow=0,n.recordNumber=l,n.is_first_time=1,n.lastchatId=a,n.searchForMsg=null,n.isGlobalSearch=s,n.alias=r.GROUP_NAME_ALIAS,await o.$socket.emit("joinRoom",n);var c=o.GetIsGroup(t);"true"!=c&&o.GetStatus(t),o.Groupdata=i,await o.$socket.emit("user chat Read",n)},GetIsGroup(t){var e=this,a=0;return a=e.chatUsersList.find(e=>e.GROUP_ID==t),a.IS_GROUP},DateDifference(t){var e=this,a=new Date,s=Math.ceil(Math.floor(a.getTime()-new Date(t).getTime())/1e3),i=Math.floor(s/3600),o=s%3600,r=Math.floor(o/60),l=Math.floor(s/86400);if(s<60)return e.$t("Just now");if(s<120)return e.$t("minutes ago");if(s<2700)return r+" "+e.$t("minutes ago");if(s<5400)return e.$t("an")+" "+e.$t("hour ago");if(s<86400)return i+" "+e.$t("hour ago");if(s<172800)return e.$t("Yesterday");if(s<2592e3)return l+" "+e.$t("days ago");if(s<31104e3){var n=Math.floor(l/30);return n<=1?"1 "+e.$t("months ago"):n+" "+e.$t("months ago")}var c=Math.floor(l/365);return c<=1?"1 "+e.$t("years ago"):c+" "+e.$t("years ago")},openAttachmentPop:function(){var t=this;t.isUploadFile=!0},closeAttachmentPop:function(){var t=this;t.AttachmentFileDetail=[],t.isUploadFile=!1},SearchChatUsers:function(t){var e=this;if(t&&"Backspace"!=t.key){e.ChatUserListData=[];var a=e.tmpChatUserList.filter(t=>(""==Object.keys(t).includes("CONTACTNAME")?t.GROUP_NAME:t.CONTACTNAME).toLowerCase().includes(e.txtSearchChatGroups.toLowerCase()));e.ChatUserListData=a,e.AllContactList=[];var s=e.tmpAllContactUserList.filter(t=>(""==Object.keys(t).includes("CONTACTNAME")?t.GROUP_NAME:t.CONTACTNAME).toLowerCase().includes(e.txtSearchChatGroups.toLowerCase()));e.AllContactList=s}else if(t&&"Backspace"==t.key){e.ChatUserListData=[];a=e.tmpChatUserList.filter(t=>(""==Object.keys(t).includes("CONTACTNAME")?t.GROUP_NAME:t.CONTACTNAME).toLowerCase().includes(e.txtSearchChatGroups.toLowerCase()));e.ChatUserListData=a,e.AllContactList=[];s=e.tmpAllContactUserList.filter(t=>(""==Object.keys(t).includes("CONTACTNAME")?t.GROUP_NAME:t.CONTACTNAME).toLowerCase().includes(e.txtSearchChatGroups.toLowerCase()));e.AllContactList=s}else e.ChatUserListData=e.tmpChatUserList,e.ChatUserListData=e.tmpAllContactUserList},SearchProject:function(t){var e=this;if("Backspace"!=t.key){e.ProjectTablist=[];var a=e.tempProjectsList.filter(t=>"string"===typeof t.name&&t.name.toLowerCase().includes(e.txtSearchProject.toLowerCase()));e.ProjectTablist=a}else if("Backspace"===t.key||"Delete"===t.key){e.ProjectTablist=[];a=e.tempProjectsList.filter(t=>"string"===typeof t.name&&t.name.toLowerCase().includes(e.txtSearchProject.toLowerCase()));e.ProjectTablist=a}else e.ProjectTablist=e.tempProjectsList},setFile:function(t){var e=this;e.AttachmentFileDetail.push(t.target.files[0])},SendAttactment:async function(){var t=this;t.fileInProgress=!0,setTimeout(()=>{t.progressValue=80,t.$refs.chatTab.fileProgress()},100);var e=new FormData;e.append("fileId",0),e.append("folderId",0),e.append("moduleName","Communication"),e.append("subModuleName",""),e.append("isGlobal",0),e.append("file",t.AttachmentFileDetail[0]),t.closeAttachmentPop(),$t.post(this.uploadUrl,e,{headers:{Authorization:"Bearer "+this.token}}).then(e=>{if(null==e.data.errorMsg){if(JSON.parse(e.data.fileID)[0].Value>0){t.SavedFileId=JSON.parse(e.data.fileID)[0].Value;var a={companyId:t.sender.companyId,userId:t.sender.id,parentId:null,parentTxt:"undefined"===typeof txt?"":txt,parentDetail:"undefined"===typeof detail?"":detail,roomId:t.userGroupId,email:t.sender.Email,storagefileId:parseInt(t.SavedFileId),finalUrl:null,fileType:"attachment",file:e.data.fileName,size:e.data.fileSize,url:e.data.filePath,from:t.sender.id,typePath:e.data.fileType};t.$socket.emit("Send attachments",a),t.isLoading=!1,setTimeout(()=>{t.fileInProgress=!1},100)}t.AttachmentFileDetail=[]}else t.fileInProgress=!1,t.ShowAlert(e.data.errorMsg,"failure",t.$t("Alert")),t.AttachmentFileDetail=[]}).catch(e=>{console.error(e),t.isLoading=!1})},erorrMessageDetails:function(t){var e=this;e.sender.id==t.userId&&e.ShowAlert(t.err,"failure",e.$t("Alert"))},deletePopupClose(){this.visiblePop=""},ShowActionButtons:function(t){var e=this;e.visiblePop!=t?e.visiblePop=t:e.visiblePop=""},readMessageUpdate(t,e){var a=new Object;a=e,a.id=this.sender.id,a.room=t,a.email=this.sender.emaiId,this.$socket.emit("user chat Read",a)},UsrDeleteHistory:async function(t,e){var a=this;a.confirmR("User"==e?a.$t("ConfirmDeleteUser"):a.$t("ConfirmHistoryDelete"),!0,a.$t("Delete")+"  "+a.$t("communication"),(function(){var s=a.GetSenderDetail(),i=new Object;i=s,i.id=s.id.toString(),i.room=t.GROUP_ID,i.groupId=t.GROUP_ID,i.chatLogId=0,i.act_room=t.GROUP_NAME_ALIAS,i.proc=e,a.$socket.emit("delete group",i),a.readMessageUpdate(t.GROUP_ID,a.sender),a.ConnectIO();let o={companyId:a.store2.GetUserInfo.CompanyId,userId:a.store2.GetUserInfo.ID,emaiId:a.store2.GetUserInfo.Email,name:a.store2.GetUserInfo.Name,imgPath:a.blobUserUrl+a.store2.GetUserInfo.Avatar,type:a.type};a.$socket.emit("user total",o)}))},UserGroupDelete:async function(t,e){var a=this;a.confirmR(a.$t("ConfirmDeleteGroupMessage"),!0,a.$t("Delete")+"  "+a.$t("communication"),(function(){var s=a.GetSenderDetail(),i=new Object;i=s,i.id=s.id.toString(),i.room=t.GROUP_ID,i.groupId=t.GROUP_ID,i.act_room=t.GROUP_NAME_ALIAS,i.proc=e,a.$socket.emit("delete group",i),a.readMessageUpdate(t.GROUP_ID,a.sender),a.ConnectIO();let o={companyId:a.store2.GetUserInfo.CompanyId,userId:a.store2.GetUserInfo.ID,emaiId:a.store2.GetUserInfo.Email,name:a.store2.GetUserInfo.Name,imgPath:a.blobUserUrl+a.store2.GetUserInfo.Avatar,type:a.type};a.$socket.emit("user total",o)}))},SearchTextGlobally:function(){var t=this,e={};""!=t.txtGlobalSearch.trim()&&(e.companyId=t.sender.companyId,e.id=t.sender.id,e.searchKeyword=t.txtGlobalSearch,t.$socket.emit("getGlobalSearchData",e,(function(){})))},byGroup(t){const e=[],a=t.map(t=>t.MODULE_TYPE),s=[...new Set(a)];for(let i of s){const a={brandname:i};a.items=t.filter(t=>t.MODULE_TYPE===i).map(t=>({...t})),e.push(a)}return e},getGlobalSearchData:function(t){var e=this;e.isShowGlobalSearch=!0,e.GlobalSearchListData=e.byGroup(t),console.log("GlobalSearchListData",e.GlobalSearchListData)},CrossForGlobalSearch:function(){var t=this;t.txtGlobalSearch="",t.GlobalSearchListData=[],t.isShowGlobalSearch=!1},openChatFromGlobalSearch:async function(t,e,a){var s=this,i=s.ChatUserListData.find(t=>t.GROUP_ID==e);await s.openRoomChat(e,s.sender,t,!0),await s.JoinRooms(i,"fromGlobalSearch"),setTimeout(()=>{s.store.$state.globalSearch=t},500)},ContactdataFilter:function(t){},CreateGroupClick:function(){var t=this;t.isCreateGroup=!0}},setup(){const t=S(),e=Object(b["b"])();return{store:t,store2:e,secondsToHms:x["f"]}}},Vt=Bt,zt=(a("0174"),Object(d["a"])(Vt,s,i,!1,null,null,null));e["default"]=zt.exports},"7a7c":function(t,e,a){var s=a("aac0");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("2492081e",s,!0,{sourceMap:!1,shadowMode:!1})},8424:function(t,e,a){"use strict";a("7a7c")},9970:function(t,e,a){var s=a("f2d5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("46815de5",s,!0,{sourceMap:!1,shadowMode:!1})},aac0:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".reply-form-without-focus{width:300px;transition:all 15ms ease}.reply-form-without-focus .msgrightt{padding:4px!important}.reply-form-without-focus .textarea_forComment{height:35px!important;min-height:35px!important;padding:6px;transition:all 15ms ease}.reply-form-without-focus .dev_divFilesMessageComment{min-height:35px!important}.multiselect-item.multiselect-group a{color:#777}#div_closeAddMessageBox{right:15px!important}.teaminfo-header{padding:0 15px!important}.bottom-btn{padding:0 12px}.div_selectedFile span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px;display:block}.div_selectedFile{display:flex}.reply-form-without-focus .div_selectedFile{padding:5px 7px}.reply-form-without-focus .div_selectedFile span{width:17px}.reply-form-without-focus .div_selectedFile a{padding:3px 3px 3px 5px!important}textarea.form-control{white-space:break-space!important}#divFileMessage input{line-height:25px;width:85%;float:left;height:42px}ul.innerulli{padding:15px;margin:0;float:left}ul.innerulli li{list-style:none}.ScrollStyle{max-height:150px;overflow-y:scroll}",""]),t.exports=e},b466:function(t,e,a){var s=a("4d41");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("c79aa730",s,!0,{sourceMap:!1,shadowMode:!1})},d95c:function(t,e,a){var s=a("6588");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("1bbfddfa",s,!0,{sourceMap:!1,shadowMode:!1})},f2d5:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".message-footer2{position:relative;margin:0 auto;border-radius:3px;border:1px solid #dadada;background:#fff;display:flex;flex-direction:column}",""]),t.exports=e},f387:function(t,e,a){"use strict";a("b466")}}]);
//# sourceMappingURL=chunk-50f25fc3.js.map