(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51105738"],{1695:function(e,t,a){var i=a("ee60");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("3f5a8266",i,!0,{sourceMap:!1,shadowMode:!1})},4970:function(e,t,a){var i=a("f4f2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("499e").default;n("edf09e2c",i,!0,{sourceMap:!1,shadowMode:!1})},"6d44":function(e,t,a){"use strict";a("1695")},"8dd4":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block "},[a("div",{staticClass:"modal-dialog ui-draggable",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle"},[a("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[e._v(e._s(e.title))]),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(t){return e.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"backgroundPopup"}},[a("section",{staticClass:"main-content",attrs:{id:"main-content"}},[a("section",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"p-0"},[a("dynamic-form",{ref:"dynamicForm",staticClass:"daterangecontrolHS",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)])])])])])])])])])},n=[],o=(a("14d9"),a("b7ef"),a("ed09")),s=a("7bb1"),l=a("b9b9"),r=a("9769"),c=a("c1df"),m=a.n(c);Object(s["c"])("required",{validate(e){return console.log("checkk"),{required:!0,valid:-1===["",null,void 0].indexOf(e)}},message:"The {_field_} is required"});var d=Object(o["defineComponent"])({name:"Manage Departemts",components:{ValidationObserver:s["a"],ValidationProvider:s["b"]},props:{addApiUrl:{type:String},emitName:{type:String},moduleName:{type:String},subModule:{type:String},title:{type:String},recordId:{type:Number}},created:function(){let e=this.recordId?this.recordId:0;this.getForm(e)},watch:{hoursDifference(){const e=this.$refs.dynamicForm.$el,t=e.querySelector('#shift_hours input[type="text"]');t&&(t.value=this.hoursDifference)}},methods:{getDifference(){if(!this.startTime||!this.endTime)return"Start time and end time are required to calculate the difference.";{const e=this.startTime.split(":"),t=this.endTime.split(":");let a=parseInt(e[0]),i=parseInt(t[0]);e[1].includes("PM")&&12!==a&&(a+=12),t[1].includes("PM")&&12!==i&&(i+=12);const n=60*a+parseInt(e[1]),o=60*i+parseInt(t[1]);let s=o-n;s<0&&(s+=1440);let l=Math.floor(s/60),r=s%60;this.hoursDifference=parseFloat(l+"."+r)}},getForm:function(e){var t=this;t.isLoading=!0;var a=`recordId=${e}&moduleName=${this.moduleName}&subModuleCode=${this.subModule}`;r["a"].GetDynamicForm(a).then((function(e){null!=e&&null!=e.data&&(t.isMapFeature=e.data.isFsmLocating,t.FormSchema=t.$refs.dynamicForm.ConvertCustomFieldIntoDynamicFormObj(e.data.data),t.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"!=e.name&&"password"!=e.name&&"signature"!=e.name&&"from_time"!=e.name&&"to_time"!=e.name||(e.visibility=!1),"RadioField"==e.astype&&(e.value=1),"break_duration"==e.name&&(e.config.is24hr=!0),"attachment"==e.name&&(e.config={maxSize:5,accept:[{fileType:"doc",iconClass:"fa-file-word-o"},{fileType:"docx",iconClass:"fa-file-word-o"},{fileType:"txt",iconClass:"fa-file-text-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"gif",iconClass:"fa-file-image-o"},{fileType:"bmp",iconClass:"fa-file-image-o"}],multiple:!1}),"shift_hours"==e.name&&(e.disabled=!0,e.placeholder="Shift Hours"),e.config.onChange=t.OnChangeEventsforField})}),console.log(t.FormSchema),t.FormSchema.length>0&&(t.FormSchema[0].visibility=!1),t.isLoading=!1)}))},OnChangeEventsforField:function(e,t,a){let i=this;if("FILL_DEPENDENT"==e){t.config.options=[];var n=`id=&moduleName=${i.moduleName}&type=${t.config.fieldCode}&search=&refId=${a}`;r["a"].GetDDLData(n).then((function(e){if(e.data){var a=e.data;null!=a&&(t.config.options=e.data.DATA,i.$refs.dynamicForm.UpdateKeyValue())}}))}else"payment_gateway_code"==t.name&&"Authorize"==t.config.options.filter(e=>e.value==t.value)[0].name?i.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"user_name"==e.name&&(e.visibility=!0,e.label="API Login ID"),"password"==e.name&&(e.visibility=!0,e.label="Transaction Key"),"signature"==e.name&&(e.visibility=!1)})}):"payment_gateway_code"==t.name&&"Paypal"==t.config.options.filter(e=>e.value==t.value)[0].name?i.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"user_name"==e.name&&(e.visibility=!0,e.label="User Name"),"password"==e.name&&(e.visibility=!0,e.label="Password"),"signature"==e.name&&(e.visibility=!0)})}):i.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"user_name"==e.name&&(e.visibility=!0,e.label="Secret Key"),"password"==e.name&&(e.visibility=!0,e.label="Publishable Key"),"signature"==e.name&&(e.visibility=!1)})}),"attachment"==t.name&&i.GetBase64String(t.value),"start_time"==t.name&&(i.startTime=i.$options.filters.formatTime(t.value),i.getDifference()),"end_time"==t.name&&(i.endTime=i.$options.filters.formatTime(t.value),i.getDifference()),"location_country"==t.name&&(console.log("country",t.value),this.GetStateDDL(t.value)),"is_full_day"==t.name&&"Partial Day"==t.config.options.filter(e=>e.value==t.value)[0].name?i.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"from_time"==e.name&&(e.visibility=!0),"to_time"==e.name&&(e.visibility=!0)})}):i.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"from_time"==e.name&&(e.visibility=!1),"to_time"==e.name&&(e.visibility=!1)})}),"isFixed"==t.name&&"Observed"==t.config.options.filter(e=>e.value==t.value)[0].name?i.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"is_recurring"==e.name&&(e.value=0,e.disabled=!0)})}):i.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"is_recurring"==e.name&&(e.disabled=!1)})})},GetBase64String:function(e){try{var t=this;t.fileData=[];var a=e.target.files[0],i=new FileReader;i.onload=function(e){return function(e){var i=e.target.result,n=window.btoa(i),o=a.name;t.fileName=o;var s=o.lastIndexOf("."),l=o.substring(s+1,o.length);t.fileExt+="."+l;var r='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+l+'"}',c=a.size;t.fileSize=c;var m={attachement_mime:r,fileName:o,base64String:n,fileSize:a.size,contentType:a.type};console.log(m),t.fileData.push(m)}}(),i.readAsBinaryString(a)}catch(n){}},SizeToMb:function(e){var t=this,a=1048576*parseInt(t.allowedPerFileSizeInMb,10);if(e>a)return-1;var i=e/1024/1024;return i},GetStateDDL:async function(e){var t=0;t=e,console.log(t);var a="id=&&moduleName=Location&type=STATE&search=&refId="+t;try{const e=await r["a"].GetDDLData(a);e.data&&e.data.DATA?(ths.$refs.dynamicForm.updateProperty("on_behalf_consumer_id","config.options",e.data.DATA),console.log("No data received from the API")):"payment_gateway_code"==y.name&&"Authorize"==y.config.OptionsForBind[0].name?ths.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"user_name"==e.name&&(e.visibility=!0,e.label="API Login ID"),"password"==e.name&&(e.visibility=!0,e.label="Transaction Key"),"signature"==e.name&&(e.visibility=!1)})}):"payment_gateway_code"==y.name&&"Paypal"==y.config.OptionsForBind[1].name?ths.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"user_name"==e.name&&(e.visibility=!0,e.label="User Name"),"password"==e.name&&(e.visibility=!0,e.label="Password"),"signature"==e.name&&(e.visibility=!0)})}):ths.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"user_name"==e.name&&(e.visibility=!0,e.label="Secret Key"),"password"==e.name&&(e.visibility=!0,e.label="Publishable Key"),"signature"==e.name&&(e.visibility=!1)})})}catch(i){}},async onSubmit(){let e=Object(l["b"])(this.FormSchema);"Break"==this.moduleName&&e.find((function(e){"break_duration"==e.field_name&&(e.field_value=m()(new Date(e.field_value)).format("HH:mm"))})),"Shift"==this.moduleName&&e.find((function(e){"start_time"==e.field_name&&(e.field_value=m()(new Date(e.field_value)).format("HH:mm"))})),r["a"].DepartmentAdd(e,this.addApiUrl).then(e=>{null!=e.data.Result&&e.data.Result.MAIN_ID>0?(this.ShowAlert(this.$t("SavedSuccessfully"),"success",!1,this.$t("Alert")),this.$emit(this.emitName)):"FAILURE"==this.$t(e.data.Status)?this.ShowAlert(this.$t("ErrorWhileSavingRecords"),"danger",!1,this.$t("Alert")):this.ShowAlert(this.$t("RecordAlreadyExists"),"danger",!1,this.$t("Alert"))})},closePopup(){this.$emit("close")}},data(){return{startTime:null,endTime:null,hoursDifference:null,editor:this.CLASSIC_EDITOR,department:{name:"",status:{name:"active",id:1},visibaleToclients:!1,visibaleToTicting:!1,description:""},buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],FormSchema:[],isLoading:!1}}}),f=d,u=(a("dbd9"),a("2877")),h=Object(u["a"])(f,i,n,!1,null,null,null);t["a"]=h.exports},aae2:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-md-12 p-0 mb-2"},[e._m(0),a("div",{staticClass:"left-tab-container"},[a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix"},e._l(e.leftTabList,(function(t){return a("li",{staticClass:"nav-link left-menu",class:{active:t.goTo===e.$route.path}},[a("router-link",{staticStyle:{"align-items":"center"},attrs:{to:t.goTo}},[a("div",{staticClass:"listing"},[a("i",{staticClass:"mr-2",class:t.icon}),e._v(e._s(t.title))])])],1)})),0)])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"theme-primary partition"},[a("span",{staticClass:"p-name text-white"},[e._v("Company Setup")])])}],o={name:"listing-status",props:{HeaderText:{type:String,required:!0}},data:function(){return{Header:this.HeaderText,leftTabList:[{title:"Announcement",icon:"fa fa-bullhorn",goTo:"/AnnouncementMessage/Index"},{title:"Break",icon:"fa fa-clock-o",goTo:"/Break/Index"},{title:"Canned Reply",icon:"fa fa-envelope",goTo:"/CannedReply/Index"},{title:"Category",icon:"fa fa-tasks",goTo:"/Category/Index"},{title:"Channel",icon:"fa fa-television",goTo:"/Channel/Index"},{title:"Company Holiday",icon:"fa fa-calendar",goTo:"/CompanyHoliday/Index"},{title:"Company Notification",icon:"fa fa-bell",goTo:"/CompanyNotification/Index"},{title:"Contact Type",icon:"fa fa-list-alt",goTo:"/ContactType/Index"},{title:"Currency Management",icon:"fa fa-list-alt",goTo:"/CurrencyManagement/Index"},{title:"Department",icon:"fa fa-users",goTo:"/Department/Index"},{title:"Designation",icon:"fa fa-address-card",goTo:"/Designation/Index"},{title:"Email Template",icon:"fa fa-clock-o",goTo:"/EmailTemplate/Index"},{title:"Feedback",icon:"fa fa-map-marker",goTo:"/Feedback/Index"},{title:"Greeting",icon:"fa fa-thumbs-o-up",goTo:"/Greeting/Index"},{title:"Industry Type",icon:"fa fa-building-o",goTo:"/IndustryType/Index"},{title:"Immigration",icon:"fa fa-address-card",goTo:"/Immigration/Index"},{title:"Location",icon:"fa fa-map-marker",goTo:"/Location/Index"},{title:"Login Authorization",icon:"fa fa-map-marker",goTo:"/LoginAuthorization/Index"},{title:"Payment Gateway",icon:"fa fa-clock-o",goTo:"/PaymentGateway/Index"},{title:"Provisional Right",icon:"fa fa-map-marker",goTo:"/ProvisionalRight/Index"},{title:"Review Template",icon:"fa fa-clock-o",goTo:"/ReviewTemplate/Index"},{title:"Service",icon:"fa fa-star",goTo:"/Service/Index"},{title:"Shift",icon:"fa fa-clock-o",goTo:"/Shift/Index"},{title:"Skill",icon:"fa fa-star",goTo:"/Skill/Index"},{title:"Stage",icon:"fa fa-bar-chart",goTo:"/Stage/Index"},{title:"Status",icon:"fa fa-bar-chart",goTo:"/Status/Index"},{title:"Storage",icon:"fa fa-star",goTo:"/Storage/Index"},{title:"User Title",icon:"fa fa-star",goTo:"/UserTitle/Index"}]}},methods:{}},s=o,l=(a("6d44"),a("2877")),r=Object(l["a"])(s,i,n,!1,null,"7acd3fcc",null);t["a"]=r.exports},dbd9:function(e,t,a){"use strict";a("4970")},ee60:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".left-tab-container[data-v-7acd3fcc]{max-height:70vh;overflow-y:auto}.left-tab .nav-link.left-menu a[data-v-7acd3fcc]{width:100%;display:flex}.left-tab .nav-link.left-menu.active .listing[data-v-7acd3fcc],.left-tab .nav-link.left-menu[data-v-7acd3fcc]:hover,.listing[data-v-7acd3fcc]:hover{color:#fff}",""]),e.exports=t},f4f2:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),e.exports=t}}]);
//# sourceMappingURL=chunk-51105738.js.map