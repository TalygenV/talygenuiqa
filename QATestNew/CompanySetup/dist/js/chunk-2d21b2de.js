(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b2de"],{bf59:function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 mt-2"},[a("LeftColumn")],1),a("div",{staticClass:"col-10"},[t._m(0),a("div",{staticClass:"container-fluid"},[a("div",{attrs:{id:"divShowlistingData"}},[a("div",{staticClass:"listing float-none"},[t._m(1),a("div",{staticClass:"table-responsive",attrs:{id:"divListing"}},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"moduleList"}},[a("thead",{staticClass:"thead-bg"},[a("tr",{staticClass:"gray"},[a("th",{staticStyle:{"min-width":"300px"},attrs:{colspan:"2"}},[t._v("Manage Notifications")]),a("th",{staticClass:"text-center",staticStyle:{width:"90px"},attrs:{scope:"col"}},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_1","data-change-id":"no"},on:{click:function(e){return t.checkAllRowCheckboxes(e,"chk_1","email")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_1"}})]),a("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"90px"}},[t._v("Email")])]),a("th",{staticClass:"text-center",staticStyle:{width:"90px"},attrs:{scope:"col"}},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_2","data-change-id":"no"},on:{click:function(e){return t.checkAllRowCheckboxes(e,"chk_2","inbox")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_2"}})]),a("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"90px"}},[t._v("Inbox")])]),a("th",{staticClass:"text-center",staticStyle:{width:"102px"},attrs:{scope:"col"}},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_3","data-change-id":"no"},on:{click:function(e){return t.checkAllRowCheckboxes(e,"chk_3","mobile")}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_3"}})]),a("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"102px"}},[t._v("Mobile")])])])]),t._l(t.GetNotificationData,(function(e,c){return a("tbody",{attrs:{id:"accordionEx"}},[a("tr",{staticClass:"high-bar",attrs:{id:"MainColumn"+c}},[a("td",[a("span",{staticClass:"table-plus-minus"},[a("a",{staticClass:"collapsed",attrs:{"data-parent":"#accordionEx","data-target":"#ColumnCollapse"+c,href:"javascript:;","aria-expanded":"false","aria-controls":"ColumnCollapse"+c,"data-toggle":"collapse"}},[a("i",{staticClass:"fa fa-plus pt-0",attrs:{"aria-hidden":"true"}})])])]),a("td",[t._v(" "+t._s(e.ModuleName)+" ")]),a("td",{staticClass:"text-center "},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_1"+e.ModuleId,"data-change-id":"no",name:"email"},domProps:{value:e.ModuleId,checked:1==e.IS_EMAIL_NOTIFICATION?"checked":""},on:{click:function(a){return t.checkAllCheckboxes(a,"chk_1"+e.ModuleId,"email",c)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chk_1"+e.ModuleId}})])]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_2"+e.ModuleId,"data-change-id":"no",name:"inbox"},domProps:{value:e.ModuleId,checked:1==e.IS_INBOX_NOTIFICATION?"checked":""},on:{click:function(a){return t.checkAllCheckboxes(a,"chk_2"+e.ModuleId,"inbox",c)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chk_2"+e.ModuleId}})])]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_3"+e.ModuleId,"data-change-id":"no",name:"mobile"},domProps:{value:e.ModuleId,checked:1==e.IS_MOBILE_NOTIFICATION?"checked":""},on:{click:function(a){return t.checkAllCheckboxes(a,"chk_3"+e.ModuleId,"mobile",c)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chk_3"+e.ModuleId}})])])]),t._l(e.GroupedSubmodule,(function(i){return e.GroupedSubmodule.length>0?a("tr",{staticClass:"rowdata collapse collapseAppointment gray",attrs:{id:"ColumnCollapse"+c,"aria-labelledby":"MainColumn"+c,"data-parent":"#accordionEx"}},[a("td"),a("td",[t._v(" "+t._s(i.TYPE_NAME)+" ")]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_1"+i.ID,"data-change-id":"no",name:"email"},domProps:{value:i.ID,checked:1==i.IS_EMAIL_NOTIFICATION?"checked":""},on:{click:function(e){return t.checkAllOuterMainCheckboxes(e,c)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_1"+i.ID}})])]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_2"+i.ID,"data-change-id":"no",name:"inbox"},domProps:{value:i.ID,checked:1==i.IS_INBOX_NOTIFICATION?"checked":""},on:{click:function(e){return t.checkAllOuterMainCheckboxes(e,c)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_2"+i.ID}})])]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_3"+i.ID,"data-change-id":"no",name:"mobile"},domProps:{value:i.ID,checked:1==i.IS_MOBILE_NOTIFICATION?"checked":""},on:{click:function(e){return t.checkAllOuterMainCheckboxes(e,c)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_3"+i.ID}})])])]):t._e()}))],2)}))],2)]),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"text-right mt-3"},[a("a",{staticClass:"btn btn-success",attrs:{title:"",id:"asave",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Submit"},on:{click:t.SubmitNotification}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v("Save")]),t._m(2)])])])])])])]),t.showCompanyNotification?a("AddCompanySetup",{attrs:{recordId:t.recordId,title:t.$t("NotificationType"),moduleName:"CompanyNotification",emitName:"addReloadData",addApiUrl:"/CompanyNotification/add",subModule:"CompanyNotification"},on:{close:function(e){t.showCompanyNotification=!1,t.recordId=0},addReloadData:function(e){t.FetchData(),t.showCompanyNotification=!1,t.recordId=0}}}):t._e()],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[a("div",{staticClass:"expand-list"},[a("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[a("i",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])]),a("section",{staticClass:"page-action action-margin tablehead"},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"theme-primary partition  p-actions-expand"},[a("span",{staticClass:"p-name text-white",attrs:{id:"titleName"}},[t._v("Notification")]),a("span",{staticClass:"p-actions float-right"}),a("span",{staticClass:"collapse-head-btns"},[a("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-angle-up text-white"})])])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 py-2"},[a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legends_high colorboxsquare"}),t._v("Select one or more Notification Type(s) ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:"",id:"ancgotolistscreen","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])}],o=(a("14d9"),a("9769")),s=a("8dd4"),l=a("aae2"),n={components:{LeftColumn:l["a"],AddCompanySetup:s["a"]},props:{sourcetype:{type:String,required:!0}},data(){return{recordId:0,showCompanyNotification:!1,noRecord:!1,isLoading:!1,GetNotificationData:[],GetMainModuleData:[]}},async created(){var t=this;await t.FetchData(),setTimeout((function(){t.checkAllCheckboxes()}),1e3)},methods:{async FetchData(){var t=this,e="moduleName=CompanyNotification&submoduleName=CompanyNotification";await o["a"].GetNotificationTypeForCompany(e).then(e=>{if(null!=e.data){var a=[],c=null;a=e.data.result,a.forEach(e=>{if(e.MODULE_ID==c){var a=t.GetNotificationData.findIndex(t=>t.ModuleId==c);a>-1&&t.GetNotificationData[a].GroupedSubmodule.push(e)}else{var i=[];i.push(e),t.GetNotificationData.push({ModuleName:e.MODULE_NAME,ModuleId:e.MODULE_ID,IS_EMAIL_NOTIFICATION:e.IS_EMAIL_NOTIFICATION,IS_INBOX_NOTIFICATION:e.IS_INBOX_NOTIFICATION,IS_MOBILE_NOTIFICATION:e.IS_MOBILE_NOTIFICATION,GroupedSubmodule:i}),c=e.MODULE_ID}})}})},CheckMainCheckboxes(t,e){for(var a=document.getElementsByTagName("input"),c=0;c<a.length;c++)"checkbox"==a[c].type&&a[c].id.includes(t)&&(a[c].checked=e)},checkAllinnerCheckboxes(t,e){var a=this;a.GetNotificationData.forEach(c=>{c.ModuleId===parseInt(e.value)&&c.GroupedSubmodule.forEach(i=>{"email"==t?(i.IS_EMAIL_NOTIFICATION=1==e.checked?1:0,c.IS_EMAIL_NOTIFICATION=1==e.checked?1:0):"inbox"==t?(i.IS_INBOX_NOTIFICATION=1==e.checked?1:0,c.IS_INBOX_NOTIFICATION=1==e.checked?1:0):"mobile"==t&&(i.IS_MOBILE_NOTIFICATION=1==e.checked?1:0,c.IS_MOBILE_NOTIFICATION=1==e.checked?1:0);var o=a.GetMainModuleData.find(t=>t.id===i.ID);void 0!=o?(o.id=i.ID,o.email=i.IS_EMAIL_NOTIFICATION,o.inbox=i.IS_INBOX_NOTIFICATION,o.mobile=i.IS_MOBILE_NOTIFICATION):a.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION})})})},checkAllCheckboxes(t,e,a,c){var i=this,o=!0;if(void 0!=t)i.GetNotificationData.forEach((e,s)=>{e.GroupedSubmodule.forEach((e,o)=>{(t.target.value==e.MODULE_ID&&c==s&&"email"==a||t.target.value==e.MODULE_ID&&c==s&&"inbox"==a||t.target.value==e.MODULE_ID&&c==s&&"mobile"==a)&&i.checkAllinnerCheckboxes(a,t.target)}),(0==e.IS_EMAIL_NOTIFICATION&&"email"==a||0==e.IS_INBOX_NOTIFICATION&&"inbox"==a||0==e.IS_MOBILE_NOTIFICATION&&"mobile"==a)&&(o=!1)}),"email"==a?0==o?i.CheckMainCheckboxes("chkupper_1",""):i.CheckMainCheckboxes("chkupper_1","checked"):"inbox"==a?0==o?i.CheckMainCheckboxes("chkupper_2",""):i.CheckMainCheckboxes("chkupper_2","checked"):"mobile"==a&&(0==o?i.CheckMainCheckboxes("chkupper_3",""):i.CheckMainCheckboxes("chkupper_3","checked"));else for(var s=document.getElementsByClassName("deletable custom-control-input"),l=0;l<s.length;l++)if("checkbox"==s[l].type)if((s[l].id.includes("chk_1")||s[l].id.includes("chkinner_1"))&&void 0!=e?e==s[l].id:s[l].id.includes("chk_1")||s[l].id.includes("chkinner_1")){if(1!=s[l].checked){i.CheckMainCheckboxes("chkupper_1","");break}i.CheckMainCheckboxes("chkupper_1","checked")}else if((s[l].id.includes("chk_2")||s[l].id.includes("chkinner_2"))&&void 0!=e?e==s[l].id:s[l].id.includes("chk_2")||s[l].id.includes("chkinner_2")){if(1!=s[l].checked){i.CheckMainCheckboxes("chkupper_2","");break}i.CheckMainCheckboxes("chkupper_2","checked")}else if((s[l].id.includes("chk_3")||s[l].id.includes("chkinner_3"))&&void 0!=e?e==s[l].id:s[l].id.includes("chk_3")||s[l].id.includes("chkinner_3")){if(1!=s[l].checked){i.CheckMainCheckboxes("chkupper_3","");break}i.CheckMainCheckboxes("chkupper_3","checked")}},async SubmitNotification(){var t=this,e={MainData:t.GetMainModuleData};await o["a"].UpdateCompanyNotification(e).then(t=>{null!=t.data.Result&&t.data.Result.MAIN_ID>0?(this.ShowAlert(this.$t("SavedSuccessfully"),"success",!1,this.$t("Alert")),this.$emit(this.emitName)):"Failure"==this.$t(t.data.Status)&&this.ShowAlert(this.$t("ErrorWhileSavingRecords"),"danger",!1,this.$t("Alert"))}).catch(t=>{console.log(t)})},checkAllRowCheckboxes(t,e,a){for(var c=this,i=document.getElementsByClassName("deletable custom-control-input"),o=0;o<i.length;o++)"checkbox"==i[o].type&&i[o].id.includes(e)&&c.GetNotificationData.forEach(e=>{e.GroupedSubmodule.forEach(i=>{"email"==a?(i.IS_EMAIL_NOTIFICATION=1==t.target.checked?1:0,e.IS_EMAIL_NOTIFICATION=1==t.target.checked?1:0):"inbox"==a?(i.IS_INBOX_NOTIFICATION=1==t.target.checked?1:0,e.IS_INBOX_NOTIFICATION=1==t.target.checked?1:0):"mobile"==a&&(i.IS_MOBILE_NOTIFICATION=1==t.target.checked?1:0,e.IS_MOBILE_NOTIFICATION=1==t.target.checked?1:0);var o=c.GetMainModuleData.find(t=>t.id===i.ID);void 0!=o?(o.id=i.ID,o.email=i.IS_EMAIL_NOTIFICATION,o.inbox=i.IS_INBOX_NOTIFICATION,o.mobile=i.IS_MOBILE_NOTIFICATION):c.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION})})})},checkAllOuterMainCheckboxes(t,e){var a=this,c=!0,i=!0;a.GetNotificationData.forEach((o,s)=>{o.GroupedSubmodule.forEach((i,l)=>{if("email"==t.target.name&&i.ID==t.target.value?i.IS_EMAIL_NOTIFICATION=1==t.target.checked?1:0:"inbox"==t.target.name&&i.ID==t.target.value?i.IS_INBOX_NOTIFICATION=1==t.target.checked?1:0:"mobile"==t.target.name&&i.ID==t.target.value&&(i.IS_MOBILE_NOTIFICATION=1==t.target.checked?1:0),e==s&&i.ID==t.target.value){var n=a.GetMainModuleData.find(t=>t.id===i.ID);void 0!=n?(n.id=i.ID,n.email=i.IS_EMAIL_NOTIFICATION,n.inbox=i.IS_INBOX_NOTIFICATION,n.mobile=i.IS_MOBILE_NOTIFICATION):a.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION})}0==i.IS_EMAIL_NOTIFICATION&&e==s&&"email"==t.target.name?(o.IS_EMAIL_NOTIFICATION=0,c=!1):0==i.IS_INBOX_NOTIFICATION&&e==s&&"inbox"==t.target.name?(o.IS_INBOX_NOTIFICATION=0,c=!1):0==i.IS_MOBILE_NOTIFICATION&&e==s&&"mobile"==t.target.name&&(o.IS_MOBILE_NOTIFICATION=0,c=!1)}),c&&e==s&&"email"==t.target.name?o.IS_EMAIL_NOTIFICATION=1:c&&e==s&&"inbox"==t.target.name?o.IS_INBOX_NOTIFICATION=1:c&&e==s&&"mobile"==t.target.name&&(o.IS_MOBILE_NOTIFICATION=1),(0==o.IS_EMAIL_NOTIFICATION&&"email"==t.target.name||0==o.IS_INBOX_NOTIFICATION&&"inbox"==t.target.name||0==o.IS_MOBILE_NOTIFICATION&&"mobile"==t.target.name)&&(i=!1),"email"==t.target.name?i?a.CheckMainCheckboxes("chkupper_1","checked"):a.CheckMainCheckboxes("chkupper_1",""):"inbox"==t.target.name?i?a.CheckMainCheckboxes("chkupper_2","checked"):a.CheckMainCheckboxes("chkupper_2",""):"mobile"==t.target.name&&(i?a.CheckMainCheckboxes("chkupper_3","checked"):a.CheckMainCheckboxes("chkupper_3",""))})}}},I=n,d=a("2877"),r=Object(d["a"])(I,c,i,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d21b2de.js.map