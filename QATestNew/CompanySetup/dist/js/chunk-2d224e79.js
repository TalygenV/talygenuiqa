(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224e79"],{e1b9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"right-content right-content-expand"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("loader",{attrs:{"is-visible":t.isLoading}}),t._m(0),e("dynamic-form",{ref:"refAddUser",attrs:{lang:"en",buttons:!1,schema:t.FormSchema}}),t.ShowAdvanceSetting?e("div",{staticClass:"col-12 pt-2",attrs:{id:"accordionEx1"}},[e("div",{staticClass:"card mb-3"},[e("div",{staticClass:"card-header DefaultTab"},[e("div",{staticClass:"card-link",attrs:{role:"tab",id:"MainFunction"}},[e("div",{staticClass:"mb-0 conversation-date heading-border"},[e("a",{attrs:{"data-toggle":"collapse","data-parent":"#accordionEx1",href:"#FucntionCollapse","aria-expanded":"false","aria-controls":"FucntionCollapse"}},[e("span",{},[t._v(t._s(t.$t("AdvanceSettings")))]),e("em",{staticClass:"fa fa-angle-down rotate-icon pr-1",attrs:{"aria-hidden":"true"}})])])]),e("div",{staticClass:"collapse multi-collapse show",attrs:{id:"FucntionCollapse",role:"tabpanel","aria-labelledby":"MainFunction","data-parent":"#accordionEx1"}},[e("div",{staticClass:"card-body p-0 customScrollForLeftBar llt",staticStyle:{"max-height":"500px"}},[t._m(1),e("dynamic-form",{ref:"refAddUserAdvanceSetting",attrs:{lang:"en",buttons:!1,schema:t.FormSchemaAdvanceSettings}})],1)])])])]):t._e(),e("div",{staticClass:"row flex-row-reverse mb-2"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success formbtn",attrs:{value:"Save",title:"Save",name:"btnSave"},on:{click:t.SubmitUser}},[e("i",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" Save")]),t._m(2)]),t._m(3)])],1)]),t.ShowAllData?e("AddCompanySetup",{attrs:{recordId:t.recordId,title:t.getTitle,moduleName:t.getModuleName,emitName:"addUserRecord",addApiUrl:t.getController,subModule:t.getSubmoduleName},on:{close:function(e){t.ShowAllData=!1,t.recordId=0}}}):t._e()],1)},o=[function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-action action-margin"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"theme-primary partition p-actions-expand tablehead isExtra"},[e("span",{staticClass:"p-name text-white",attrs:{id:"divModuleHeaderName"}},[t._v("Add User")]),e("span",{staticClass:"p-actions float-right"},[e("span",{staticClass:"d-none",attrs:{id:"reviewActions"}},[e("a",{staticClass:"p-action-btn text-white",attrs:{id:"addnewreview",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add Review"}},[e("i",{staticClass:"fa fa-plus"}),e("br"),e("span",[t._v("Add Review")])]),e("a",{staticClass:"p-action-btn text-white iconenable disabled",attrs:{href:"javascript:void();",onclick:"deleteReview()",title:"",id:"DeleteMultiple_New","data-toggle-tooltip":"tooltip","data-original-title":"Please select one/multiple check box(s) to remove review(s)"}},[e("i",{staticClass:"fa fa-trash"}),e("br"),e("span",[t._v("Remove")])])]),e("span",{staticClass:"d-none",attrs:{id:"notesActions"}},[e("a",{staticClass:"p-action-btn text-white",attrs:{checkprivilege:"Yes",id:"addnewNote",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add Notes",href:"/Note/Add?source=user_profile"}},[e("i",{staticClass:"fa fa-plus"}),e("br"),e("span",[t._v("Add Notes")])]),e("a",{staticClass:"p-action-btn text-white table-head-btn iconenable disabled",attrs:{checkprivilege:"Yes",href:"javascript:deleteNoteMultiple();",id:"DeleteMultiple",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Please select one/multiple check box(s) to remove note(s)"}},[e("i",{staticClass:"fa fa-trash"}),e("br"),e("span",[t._v("Remove Notes")])])]),e("span",{staticClass:"d-none",attrs:{id:"goalActions"}},[e("a",{staticClass:"p-action-btn text-white",attrs:{checkprivilege:"Yes",id:"addnewreview",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add a Goal",href:"/Goal/Add?source=user_profile"}},[e("i",{staticClass:"fa fa-plus"}),e("br"),e("span",[t._v("Add a Goal")])]),e("a",{staticClass:"p-action-btn text-white iconenable disabled",attrs:{checkprivilege:"Yes",href:"javascript:DeleteMultipleGoal();",id:"DeleteMultipleGoal",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Please select all that apply to remove goal(s)"}},[e("i",{staticClass:"fa fa-trash"}),e("br"),e("span",[t._v("Remove Goal")])])]),e("span",{staticClass:"d-none",attrs:{id:"feedbackActions"}},[e("a",{staticClass:"p-action-btn text-white",attrs:{id:"addnewFeedback","data-toggle-tooltip":"tooltip","data-original-title":"Create",href:"/Feedback/Add?source=user_profile"}},[e("i",{staticClass:"fa fa-plus"}),e("br"),e("span",[t._v("Add Feedback")])]),e("a",{staticClass:"p-action-btn text-white iconenable disabled",attrs:{href:"javascript:deleteFeedback();",onclick:"javascript:window.onbeforeunload=null;",title:"",id:"DeleteMultiple1","data-toggle-tooltip":"tooltip","data-original-title":"Please select one/multiple check box(s) to remove feedback(s)"}},[e("i",{staticClass:"fa fa-trash"}),e("br"),e("span",[t._v("Remove")])])]),e("span",{staticClass:"d-none",attrs:{id:"skillActions"}},[e("a",{staticClass:"p-action-btn text-white",attrs:{checkprivilege:"Yes",id:"addSkills",source:"user_profile",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add Skill",href:"/SkillAssignment/Manage?source=user_profile"}},[e("i",{staticClass:"fa fa-plus"}),e("br"),e("span",[t._v("Add Skill")])]),e("a",{staticClass:"p-action-btn text-white iconenable disabled",attrs:{checkprivilege:"Yes",href:"javascript:DeleteMultipleAssignedSkill();",id:"DeleteMultipleSkill",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Please select one/multiple checkbox(s) to remove skill(s)"}},[e("i",{staticClass:"fa fa-trash"}),e("br"),e("span",[t._v("Remove Skill")])])])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group"},[e("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix",staticStyle:{"max-height":"214px",overflow:"auto",display:"block"}})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"btn btn-danger formbtn widthhalf",attrs:{title:"",href:"/User/Index","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v("Fields marked with an asterisk (*) are mandatory.")])])])}],s=(a("14d9"),a("b7ef"),a("9769")),l=a("8dd4"),n={components:{AddCompanySetup:l["a"]},data(){return{isLoading:!1,FormSchema:[],FormSchemaAdvanceSettings:[],ShowAdvanceSetting:!1,getTitle:"",getModuleName:"",getSubmoduleName:"",ShowAllData:!1,getFormSchemaData:[],getFormSchemaAdvanceSettings:[],fileData:[]}},async created(){var t=this;await t.GetForm()},methods:{AddNewTitlePopUp(){var t=this;t.getTitle=t.$t("AddUserTitle"),t.getModuleName="User",t.getSubmoduleName="UserTitle",t.getController="/UserTitle/add",t.ShowAllData=!0},AddADepartmentPopUp(){var t=this;t.getTitle=t.$t("AddADepartment"),t.getModuleName="Department",t.getSubmoduleName="Department",t.getController="/Department/Add",t.ShowAllData=!0},AddDesignationPopUp(){var t=this;t.getTitle=t.$t("AddDesignation"),t.getModuleName="Designation",t.getSubmoduleName="Designation",t.getController="/Designation/Add",t.ShowAllData=!0},AddShiftPopup(){var t=this;t.getTitle=t.$t("Shift"),t.getModuleName="Shift",t.getSubmoduleName="Shift",t.getController="/Shift/Add",t.ShowAllData=!0},ValidateConfirmPassword(){var t=this;""!=t.FormSchema[0].Data[8].value&&(t.FormSchema[0].Data[8].value==t.FormSchema[0].Data[9].value?t.FormSchema[0].Data[9].validationRules={confirmed:!1}:t.FormSchema[0].Data[9].validationRules={confirmed:!0})},async GetForm(){var t=this;t.isLoading=!0;var e="recordId=0&moduleName=User&subModuleCode=Cmp_User";s["a"].GetDynamicForm(e).then(e=>{if(e.data.data.length>0){var a=t.$refs.refAddUser.ConvertCustomFieldIntoDynamicFormObj(e.data.data);t.FormSchema.push(a[0]),t.FormSchema[0].Data.forEach(e=>{"email_id"==e.name?e.validationRules={email:!0}:"gender"==e.name?e.config.options=[{name:"Male",value:"M"},{name:"Female",value:"F"}]:"user_title_id"==e.name?(e.config.showAddIcon=!0,e.config.onAddButtonClick=t.AddNewTitlePopUp):"confirm_password"==e.name&&(e.config.onKeyUp=t.ValidateConfirmPassword,e.validationRules={confirmed:!1})}),t.FormSchemaAdvanceSettings.push(a[1]),t.FormSchemaAdvanceSettings[0].Data.forEach(e=>{"shift_id"==e.name?(e.config.showAddIcon=!0,e.config.onAddButtonClick=t.AddShiftPopup):"department_id"==e.name?(e.config.showAddIcon=!0,e.config.onAddButtonClick=t.AddADepartmentPopUp):"designation_id"==e.name?(e.config.showAddIcon=!0,e.config.onAddButtonClick=t.AddDesignationPopUp):"policy_id"==e.name?e.validationRules={required:!1}:"date_format"==e.name?e.config.options=[{value:"M/d/yyyy",name:"M/D/YYYY"},{value:"dd/MM/yyyy",name:"DD/MM/YYYY"},{value:"MM/dd/yyyy",name:"MM/DD/YYYY"}]:"avatar"==e.name&&(e.config={maxSize:5,accept:[{fileType:"doc",iconClass:"fa-file-word-o"},{fileType:"docx",iconClass:"fa-file-word-o"},{fileType:"txt",iconClass:"fa-file-text-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"gif",iconClass:"fa-file-image-o"},{fileType:"bmp",iconClass:"fa-file-image-o"}],multiple:!1},e.config.onChange=t.GetAttachement)}),void 0!=a[1]&&(t.ShowAdvanceSetting=!0),t.isLoading=!1}else t.FormSchema=[],t.FormSchemaAdvanceSettings=[],t.isLoading=!1}).catch(t=>{console.log(t)})},GetAttachement(t,e,a){var i=this;"avatar"==e.name&&i.GetBase64String(e.value)},GetBase64String:function(t){try{var e=this,a=t[0],i=new FileReader;i.onload=function(t){return function(t){var i=t.target.result,o=window.btoa(i),s=a.name,l=s.lastIndexOf("."),n=s.substring(l+1,s.length);e.fileExt+="."+n;var r='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+n+'"}',d={attachement_mime:r,fileName:s,base64String:o,fileSize:a.size,contentType:a.type};console.log(d),e.fileData.push(d)}}(),i.readAsBinaryString(a)}catch(o){}},SubmitUser(){var t=this;t.$refs.refAddUser.validateForm.validate().then(async e=>{if(e){t.getFormSchemaData=t.$refs.refAddUser.ConvertDynamicFormObjToCustomFieldObj(t.FormSchema),t.getFormSchemaAdvanceSettings=t.$refs.refAddUser.ConvertDynamicFormObjToCustomFieldObj(t.FormSchemaAdvanceSettings);var a={FirstName:t.GetFormData("first_name"),LastName:t.GetFormData("last_name"),EmailId:t.GetFormData("email_id"),Password:t.GetFormData("password"),NewPassword:t.GetFormData("confirm_password"),Gender:t.GetFormData("gender"),UserTypeId:t.GetFormData("user_type_id"),UserTitleId:t.GetFormData("user_title_id"),EnableLogin:t.GetFormData("is_enable_login"),TimezoneId:t.GetFormData("timezone_id"),DateFormat:t.GetFormData("date_format"),Avatar:t.fileData.length>0?t.fileData:null,RoleId:t.GetFormData("role_id"),ShiftId:t.GetFormData("shift_id"),HourlyRate:t.GetFormData("hourly_rate"),DepartmentId:t.GetFormData("department_id"),DesignationId:t.GetFormData("designation_id"),DateofBirth:t.GetFormData("date_of_birth"),DateofJoining:t.GetFormData("date_of_join"),DateofLeave:t.GetFormData("date_of_leave"),AliasName:t.GetFormData("alias_name"),IsVirtual:t.GetFormData("is_virtual"),PolicyId:""==t.GetFormData("policy_id")?0:t.GetFormData("policy_id")},i=JSON.stringify(a);s["a"].AddUserData(i).then(t=>{}).catch(t=>{console.log(t)})}})},GetFormData(t){var e=this,a=e.getFormSchemaData.find(e=>e.field_name==t);if(void 0!=a)return a.field_value;var i=e.getFormSchemaAdvanceSettings.find(e=>e.field_name==t);return void 0!=i?i.field_value:void 0}}},r=n,d=a("2877"),c=Object(d["a"])(r,i,o,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d224e79.js.map