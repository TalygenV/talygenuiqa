(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224e79"],{e1b9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right-content right-content-expand border p-3"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"tab-content"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("section",{staticClass:"page-action action-margin"},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"col-md-12 p-0"},["EditUser"!=t.isEditUser?a("div",{staticClass:"theme-primary partition p-actions-expand tablehead isExtra p-0"},[a("span",{staticClass:"p-name text-white",attrs:{id:"divModuleHeaderName"}},[t._v("Add User")]),t._m(0)]):t._e()])])]),a("dynamic-form",{ref:"refAddUser",attrs:{lang:"en",buttons:!1,schema:t.FormSchema}}),t.ShowAdvanceSetting?a("div",{staticClass:"col-12 pt-2 p-0",attrs:{id:"accordionEx1"}},[a("div",{staticClass:"card mb-3"},[a("div",{staticClass:"card-header DefaultTab"},[a("div",{staticClass:"card-link",attrs:{role:"tab",id:"MainFunction"}},[a("div",{staticClass:"mb-0 conversation-date heading-border"},[a("a",{attrs:{"data-toggle":"collapse","data-parent":"#accordionEx1",href:"#FucntionCollapse","aria-expanded":"false","aria-controls":"FucntionCollapse"}},[a("span",{},[t._v(t._s(t.$t("AdvanceSettings")))]),a("em",{staticClass:"fa fa-angle-down rotate-icon pr-1",attrs:{"aria-hidden":"true"}})])])]),a("div",{staticClass:"collapse multi-collapse show",attrs:{id:"FucntionCollapse",role:"tabpanel","aria-labelledby":"MainFunction","data-parent":"#accordionEx1"}},[a("div",{staticClass:"card-body p-0 customScrollForLeftBar llt",staticStyle:{"max-height":"500px"}},[t._m(1),a("dynamic-form",{ref:"refAddUserAdvanceSetting",attrs:{lang:"en",buttons:!1,schema:t.FormSchemaAdvanceSettings},scopedSlots:t._u([{key:"tgslot-ResetandSendPassword",fn:function(e){e.data;return[a("div",{staticClass:"form-group"},[a("label",[t._v(" "+t._s(t.$t("ResetandSendPassword")))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-9 col-sm-10 col-md-10 col-lg-10 col-xl-10"},[a("a",{staticClass:"resetImg float-left",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Reset and Send Password"},on:{click:t.resetAndSendPassword}},[a("i",{staticClass:"fa fa-lock text-dark",staticStyle:{"font-size":"38px"}})])])])])]}},{key:"tgslot-SendAccountCredentials",fn:function(e){e.data;return[a("div",{staticClass:"form-group"},[a("label",[t._v(" "+t._s(t.$t("SendAccountCredentials")))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-9 col-sm-10 col-md-10 col-lg-10 col-xl-10"},[a("a",{staticClass:"ancSendAccountCredentials",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Send Account Credentials"},on:{click:t.sendAccountCredentials}},[a("i",{staticClass:"fa fa-key text-dark",staticStyle:{"font-size":"38px"}})])])])])]}}],null,!1,1650268844)})],1)])])])]):t._e(),a("div",{staticClass:"row flex-row-reverse mb-2"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success formbtn m-2 p-2",attrs:{value:"Save",title:"Save",name:"btnSave"},on:{click:t.SubmitUser}},[a("i",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" Save")]),t._m(2)]),t._m(3)])],1)]),t.ShowAllData?a("AddCompanySetup",{attrs:{recordId:t.recordId,title:t.getTitle,moduleName:t.getModuleName,emitName:"addUserRecord",addApiUrl:t.getController,subModule:t.getSubmoduleName},on:{close:function(e){t.ShowAllData=!1,t.recordId=0}}}):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"p-actions float-right"},[a("span",{staticClass:"d-none",attrs:{id:"reviewActions"}},[a("a",{staticClass:"p-action-btn text-white",attrs:{id:"addnewreview",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add Review"}},[a("i",{staticClass:"fa fa-plus"}),a("br"),a("span",[t._v("Add Review")])]),a("a",{staticClass:"p-action-btn text-white iconenable disabled",attrs:{href:"javascript:void();",onclick:"deleteReview()",title:"",id:"DeleteMultiple_New","data-toggle-tooltip":"tooltip","data-original-title":"Please select one/multiple check box(s) to remove review(s)"}},[a("i",{staticClass:"fa fa-trash"}),a("br"),a("span",[t._v("Remove")])])]),a("span",{staticClass:"d-none",attrs:{id:"notesActions"}},[a("a",{staticClass:"p-action-btn text-white",attrs:{checkprivilege:"Yes",id:"addnewNote",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add Notes",href:"/Note/Add?source=user_profile"}},[a("i",{staticClass:"fa fa-plus"}),a("br"),a("span",[t._v("Add Notes")])]),a("a",{staticClass:"p-action-btn text-white table-head-btn iconenable disabled",attrs:{checkprivilege:"Yes",href:"javascript:deleteNoteMultiple();",id:"DeleteMultiple",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Please select one/multiple check box(s) to remove note(s)"}},[a("i",{staticClass:"fa fa-trash"}),a("br"),a("span",[t._v("Remove Notes")])])]),a("span",{staticClass:"d-none",attrs:{id:"goalActions"}},[a("a",{staticClass:"p-action-btn text-white",attrs:{checkprivilege:"Yes",id:"addnewreview",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add a Goal",href:"/Goal/Add?source=user_profile"}},[a("i",{staticClass:"fa fa-plus"}),a("br"),a("span",[t._v("Add a Goal")])]),a("a",{staticClass:"p-action-btn text-white iconenable disabled",attrs:{checkprivilege:"Yes",href:"javascript:DeleteMultipleGoal();",id:"DeleteMultipleGoal",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Please select all that apply to remove goal(s)"}},[a("i",{staticClass:"fa fa-trash"}),a("br"),a("span",[t._v("Remove Goal")])])]),a("span",{staticClass:"d-none",attrs:{id:"feedbackActions"}},[a("a",{staticClass:"p-action-btn text-white",attrs:{id:"addnewFeedback","data-toggle-tooltip":"tooltip","data-original-title":"Create",href:"/Feedback/Add?source=user_profile"}},[a("i",{staticClass:"fa fa-plus"}),a("br"),a("span",[t._v("Add Feedback")])]),a("a",{staticClass:"p-action-btn text-white iconenable disabled",attrs:{href:"javascript:deleteFeedback();",onclick:"javascript:window.onbeforeunload=null;",title:"",id:"DeleteMultiple1","data-toggle-tooltip":"tooltip","data-original-title":"Please select one/multiple check box(s) to remove feedback(s)"}},[a("i",{staticClass:"fa fa-trash"}),a("br"),a("span",[t._v("Remove")])])]),a("span",{staticClass:"d-none",attrs:{id:"skillActions"}},[a("a",{staticClass:"p-action-btn text-white",attrs:{checkprivilege:"Yes",id:"addSkills",source:"user_profile",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add Skill",href:"/SkillAssignment/Manage?source=user_profile"}},[a("i",{staticClass:"fa fa-plus"}),a("br"),a("span",[t._v("Add Skill")])]),a("a",{staticClass:"p-action-btn text-white iconenable disabled",attrs:{checkprivilege:"Yes",href:"javascript:DeleteMultipleAssignedSkill();",id:"DeleteMultipleSkill",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Please select one/multiple checkbox(s) to remove skill(s)"}},[a("i",{staticClass:"fa fa-trash"}),a("br"),a("span",[t._v("Remove Skill")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix",staticStyle:{"max-height":"214px",overflow:"auto",display:"block"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-danger formbtn widthhalf",attrs:{title:"",href:"/User/Index","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v("Fields marked with an asterisk (*) are mandatory.")])])])}],o=(a("14d9"),a("b7ef"),a("9769")),l=a("8dd4"),n={components:{AddCompanySetup:l["a"]},props:{isEditUser:{type:String},UserId:{type:Number}},data(){return{isLoading:!1,FormSchema:[],FormSchemaAdvanceSettings:[],ShowAdvanceSetting:!1,getTitle:"",getModuleName:"",getSubmoduleName:"",ShowAllData:!1,getFormSchemaData:[],getFormSchemaAdvanceSettings:[],fileData:[]}},async created(){var t=this;await t.GetForm()},methods:{AddNewTitlePopUp(){var t=this;t.getTitle=t.$t("AddUserTitle"),t.getModuleName="Company",t.getSubmoduleName="UserTitle",t.getController="/UserTitle/add",t.ShowAllData=!0},AddADepartmentPopUp(){var t=this;t.getTitle=t.$t("AddADepartment"),t.getModuleName="Company",t.getSubmoduleName="Department",t.getController="/Department/Add",t.ShowAllData=!0},AddDesignationPopUp(){var t=this;t.getTitle=t.$t("AddDesignation"),t.getModuleName="Company",t.getSubmoduleName="Designation",t.getController="/Designation/Add",t.ShowAllData=!0},AddShiftPopup(){var t=this;t.getTitle=t.$t("Shift"),t.getModuleName="Company",t.getSubmoduleName="Shift",t.getController="/Shift/Add",t.ShowAllData=!0},ValidateConfirmPassword(){var t=this,e=t.FormSchema[0].Data.find(t=>"password"==t.name),a=t.FormSchema[0].Data.find(t=>"confirm_password"==t.name);e&&void 0!=a&&(e.value==a.value?a.validationRules={confirmed:!1}:a.validationRules={confirmed:!0})},async GetForm(){var t=this;t.isLoading=!0;let e="";e=void 0==t.UserId?"recordId=0&moduleName=Company&subModuleCode=Cmp_User":`recordId=${t.UserId}&moduleName=Company&subModuleCode=Cmp_User`,o["a"].GetDynamicForm(e).then(e=>{if(e.data.data.length>0){var a=t.$refs.refAddUser.ConvertCustomFieldIntoDynamicFormObj(e.data.data);if(t.FormSchema.push(a[0]),void 0!=t.UserId&&(t.FormSchema[0].group_name=""),t.FormSchema[0].Data.forEach(e=>{"email_id"==e.name?e.validationRules={email:!0}:"gender"==e.name?e.config.options=[{name:"Male",value:"M"},{name:"Female",value:"F"}]:"user_title_id"==e.name?(e.config.showAddIcon=!0,e.config.onAddButtonClick=t.AddNewTitlePopUp):"confirm_password"==e.name&&(e.config.onKeyUp=t.ValidateConfirmPassword,e.validationRules={confirmed:!1})}),t.FormSchemaAdvanceSettings.push(a[1]),t.FormSchemaAdvanceSettings.length>0&&(t.FormSchemaAdvanceSettings[0].group_name=""),t.FormSchemaAdvanceSettings[0].Data.forEach(e=>{"shift_id"==e.name?(e.config.showAddIcon=!0,e.config.onAddButtonClick=t.AddShiftPopup):"department_id"==e.name?(e.config.showAddIcon=!0,e.config.onAddButtonClick=t.AddADepartmentPopUp):"designation_id"==e.name?(e.config.showAddIcon=!0,e.config.onAddButtonClick=t.AddDesignationPopUp):"policy_id"==e.name?e.validationRules={required:!1}:"date_format"==e.name?e.config.options=[{value:"M/d/yyyy",name:"M/D/YYYY"},{value:"dd/MM/yyyy",name:"DD/MM/YYYY"},{value:"MM/dd/yyyy",name:"MM/DD/YYYY"}]:"avatar"==e.name&&(e.config={maxSize:5,accept:[{fileType:"doc",iconClass:"fa-file-word-o"},{fileType:"docx",iconClass:"fa-file-word-o"},{fileType:"txt",iconClass:"fa-file-text-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"gif",iconClass:"fa-file-image-o"},{fileType:"bmp",iconClass:"fa-file-image-o"}],multiple:!1},e.config.onChange=t.GetAttachement)}),void 0!=t.UserId){let e=[{astype:"SlotField",name:"ResetandSendPassword",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:t.$t("ResetandSendPassword"),config:{onChange:t.resetAndSendPassword},settings:{isInSlot:!0},validationRules:{required:!1}},{astype:"SlotField",name:"SendAccountCredentials",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:t.$t("SendAccountCredentials"),validationRules:{required:!1},settings:{isInSlot:!0},config:{onChange:t.sendAccountCredentials}}];e.map(e=>{var a;null===(a=t.FormSchemaAdvanceSettings[0])||void 0===a||a.Data.push(e)})}void 0!=a[1]&&(t.ShowAdvanceSetting=!0),t.isLoading=!1}else t.FormSchema=[],t.FormSchemaAdvanceSettings=[],t.isLoading=!1}).catch(t=>{console.log(t)})},GetAttachement(t,e,a){var i=this;"avatar"==e.name&&i.GetBase64String(e.value)},GetBase64String:function(t){try{for(var e=this,a=0;a<t.length;a++){var i=t[a],s=new FileReader;let o={};s.onload=function(t){return function(t){var a=t.target.result,s=window.btoa(a),l=i.name;e.fileName=l;var n=l.lastIndexOf("."),d=l.substring(n+1,l.length);e.fileExt+="."+d;var r='{"ContentType":"'+i.type+'","Size":"'+i.size+'","Extension":"'+d+'"}',c=i.size;e.fileSize=c,o.attachement_mime=r,o.fileName=l,o.base64String=s,o.fileSize=i.size,o.contentType=i.type,o.ModuleName="Company",o.SubModuleCode="Cmp_User",e.fileData.push(o)}}(),s.readAsBinaryString(i)}}catch(o){console.error("Error processing attachments:",o)}},sendAccountCredentials(){},resetAndSendPassword(){},SubmitUser(){var t=this;t.$refs.refAddUser.validateForm.validate().then(async e=>{if(e){t.isLoading=!0,t.getFormSchemaData=t.$refs.refAddUser.ConvertDynamicFormObjToCustomFieldObj(t.FormSchema),t.getFormSchemaAdvanceSettings=t.$refs.refAddUser.ConvertDynamicFormObjToCustomFieldObj(t.FormSchemaAdvanceSettings);var a=t.getFormSchemaAdvanceSettings.find(t=>"status_id"==t.field_name);void 0!=a&&(a.field_value="1001");var i=t.getFormSchemaData.findIndex(t=>"confirm_password"==t.field_name);-1!=i&&t.getFormSchemaData.splice(i,1),t.getFormSchemaAdvanceSettings.forEach(e=>{t.getFormSchemaData.push(e)});var s={data:t.getFormSchemaData,moduleCode:"Company",subModuleCode:"Cmp_User",attachmentData:t.fileData.length>0?t.fileData:null},l=JSON.stringify(s);o["a"].SaveUserForm(l).then(e=>{200==e.status&&"SUCCESS"==e.data[0].Value.MSG?(t.ShowAlert(t.$t("UserAdded"),"success",!0,t.$t("Alert")),t.$router.push("/User/Index")):t.ShowAlert(t.$t("UserError"),"failure",!0,t.$t("Alert")),t.isLoading=!1}).catch(t=>{console.log(t)})}})}}},d=n,r=a("2877"),c=Object(r["a"])(d,i,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d224e79.js.map