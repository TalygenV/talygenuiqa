(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34ceb90f"],{1541:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".is-invalid[data-v-75aa2cc7]{border-color:red}",""]),e.exports=t},"23b9":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".left-icon-m i{font-size:33px}.shortcuts-menu li:nth-child(9n+1) .left-icon-m i{color:#216bca}.shortcuts-menu li:nth-child(9n+2) .left-icon-m i{color:#63983e}.shortcuts-menu li:nth-child(9n+3) .left-icon-m i{color:#575b6f}.shortcuts-menu li:nth-child(9n+4) .left-icon-m i{color:#43a38a}.shortcuts-menu li:nth-child(9n+5) .left-icon-m i{color:#cc7d38}.shortcuts-menu li:nth-child(9n+6) .left-icon-m i{color:#735da5}.shortcuts-menu li:nth-child(9n+7) .left-icon-m i{color:#7e6c5e}.shortcuts-menu li:nth-child(9n+8) .left-icon-m i{color:#e3644b}.shortcuts-menu li:nth-child(9n+9) .left-icon-m i{color:#dcad3a}.shortcuts-menu li{max-width:25%!important}.short-item-name{font-size:16px}.dashbord-widget .cursor-pointer h3{font-size:16px;font-weight:700;max-width:100%}.dashbord-widget li h3 span{font-size:12px}.dashbord-widget li{position:relative}.dashbord-widget i{position:absolute;right:16px;top:30px}.barprogress{position:relative!important;float:left;right:auto!important}.c100:after{background-color:#edf7ff}",""]),e.exports=t},"29ca":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-content"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"container-fluid padding-t_10"},[a("div",{staticClass:"left-menu-tab new_tab nosrcoll"},[a("div",{staticClass:"col-md-12 p-0 "},[a("div",{staticClass:"theme-primary partition"},[a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("Settings")))])])]),a("div",{staticClass:"pt-2 mb-1 w-100 d-none d-lg-block"},[a("div",{staticClass:"input-group customsearchbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.moduleSearchElement,expression:"moduleSearchElement"}],staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",placeholder:"Search by Name",autocomplete:"off"},domProps:{value:e.moduleSearchElement},on:{keyup:e.OnModuleSearch,input:function(t){t.target.composing||(e.moduleSearchElement=t.target.value)}}}),e._m(0)])]),a("div",{staticClass:"mt-2 mCustomScrollbar _mCS_4"},[a("a",{staticClass:"card mobile-tab-accordian active",attrs:{href:"javascript:;","data-controllername":"billingrule","data-actionname":"ImportFormatListing"},on:{click:function(t){e.showMobileTabs=!e.showMobileTabs}}},[a("div",{staticClass:"card-header",attrs:{role:"tab"}},[a("h5",[a("span",{staticClass:"mb-0"},[a("i",{class:e.getModuleIcon(e.GetSelectedModuleItem.module_name)}),e._v(" "+e._s(e.$t(e.GetSelectedModuleItem.display_name))),a("i",{staticClass:"fa fa-angle-down rotate-icon float-right",attrs:{"aria-hidden":"true"}})])])])]),e.showMobileTabs?a("div",e._l(e.moduleList,(function(t){return e.GetSelectedModuleItem.module_name!=t.module_name?a("a",{staticClass:"card mobile-tab-accordian",attrs:{href:"javascript:;","data-controllername":"billingrule","data-actionname":"ImportFormatListing"},on:{click:function(a){e.SetCurrentTab(t.module_name,t.display_name),e.showMobileTabs=!1}}},[a("div",{staticClass:"card-header",attrs:{role:"tab"}},[a("h5",[a("span",{staticClass:"mb-0"},[a("i",{class:e.getModuleIcon(t.module_name)}),e._v(" "+e._s(e.$t(t.display_name))+" "),a("i",{staticClass:"fa fa-angle-down rotate-icon float-right",attrs:{"aria-hidden":"true"}})])])])]):e._e()})),0):e._e(),a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix"},e._l(e.moduleList,(function(t){return 1==t.isVisible?a("li",[a("a",{class:{"nav-link left-menu":!0,active:e.currentTab==t.module_name.toLowerCase()},attrs:{checkprivilege:"Yes","data-toggle":"tab",role:"tab","aria-controls":t.module_name,"aria-selected":"false","data-text":t.module_name,"data-tabr":"#"+t.module_name,href:"javascript:;"},on:{click:function(a){return e.SetCurrentTab(t.module_name,t.display_name)}}},[a("i",{class:e.getModuleIcon(t.module_name),attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t(t.display_name))+" ")])]):e._e()})),0)])]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"tab-content"},[a("section",{staticClass:"page-action action-margin tablehead mobile_d-none"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"theme-primary partition  p-actions-expand"},[a("span",{staticClass:"p-name text-white",staticStyle:{"text-transform":"capitalize"},attrs:{id:"titleName"}},[e._v(e._s(e.$t("Settings")+" > "+e.$t(e.moduleDisplayName)))])])])]),"configuration"!=e.currentTab.toLowerCase()?a("div",{staticClass:"tab-pane call-detail fade p-0 active show border pb-3"},[a("div",{staticClass:"mx-3"},[a("ul",{staticClass:"dashbord-widget py-3"},[a("li",{staticClass:"cursor-pointer one_wid",staticStyle:{cursor:"pointer !important"},on:{click:e.CloseOpenSetupModule}},[a("span",{staticClass:"barprogress"},[a("div",{staticClass:"Task"},[a("div",{staticClass:"c100 small",class:[e.progressColor,"p"+e.setupProgress]},[a("span",[e._v(e._s(e.setupProgress)+"%")]),e._m(1)])])]),a("h3",{staticStyle:{width:"65%"}},[e._v(e._s(e.$t("Setup"))+" "),a("br"),e._v(" "),a("span",[e._v("Setup the module in a few steps")])]),a("i",{staticClass:"fa fa fa-cog",attrs:{"aria-hidden":"true"}})]),a("li",{staticClass:"cursor-pointer two_wid",staticStyle:{cursor:"pointer !important"},on:{click:e.CloseOpenConfigPopup}},[a("h3",[e._v(e._s(e.$t("Configuration"))),a("br"),a("span",[e._v("Configure the module as per the requirements")])]),e._v(" "),a("i",{staticClass:"fa fa fa-wrench",attrs:{"aria-hidden":"true"}})])]),a("div",{staticStyle:{clear:"both"}}),a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("MoreSettings"))+" ")])])])]),e.moreSettings.length>0?a("ul",{staticClass:"shortcuts-menu pb-3 connectedSortable advancedsetup"},e._l(e.moreSettings,(function(t,i){return a("li",{key:i,staticClass:"position-relative clients",attrs:{target:"_blank"}},[a("a",{staticClass:"short-menu-item",attrs:{onmousedown:"return false;",href:t.redirectTo+"?reqUrl="+e.currentUrl,"data-id":"37","data-fav_id":"48522","data-order":"1","data-displayname":"Clients","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip","data-original-title":"Clients"}},[a("span",{staticClass:"left-icon-m"},[a("i",{class:"fa "+t.icon})]),a("span",{staticClass:"short-item-name"},[e._v(e._s(e.$t(t.displayName)))])])])})),0):e._e(),0==e.moreSettings.length?a("div",{staticClass:"text-danger text-center p-4"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()]):e._e(),"configuration"==e.currentTab.toLowerCase()?a("div",{staticClass:"tab-pane call-detail fade p-0 active pt-3 show border pb-3"},[e._l(e.generalSettingList,(function(t){return[a("div",{staticClass:"px-3"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t(t.groupName))+" ")])])])]),a("ul",{staticClass:"shortcuts-menu pb-3 connectedSortable advancedsetup"},e._l(t.links,(function(t,i){return a("li",{key:i,staticClass:"position-relative clients"},[a("a",{staticClass:"short-menu-item",attrs:{onmousedown:"return false;","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip","data-original-title":e.$t(t.displayName)},on:{click:function(a){return e.RedirectTo(t)}}},[a("span",{staticClass:"left-icon-m"},[a("i",{class:"fa "+t.icon})]),a("span",{staticClass:"short-item-name"},[e._v(e._s(e.$t(t.displayName)))])])])})),0),a("div",{staticStyle:{clear:"both"}})]}))],2):e._e()])])])]),e.isOpenConfiguration?a("configuration",{attrs:{moduleCode:e.currentTab},on:{close:e.CloseOpenConfigPopup}}):e._e(),e.isOpenSetupModule?a("moduleSetupPopup",{attrs:{moduleCode:e.currentTab,setupTabs:e.setupTabs},on:{close:e.CloseOpenSetupModule}}):e._e()],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"},[a("i",{staticClass:"fa fa-search"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slice"},[a("div",{staticClass:"bar"}),a("div",{staticClass:"fill"})])}],r=(a("14d9"),a("9769")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"my-popups modal right fade show",staticStyle:{display:"block"}},[a("div",{staticClass:"modal d-block "},[a("div",{staticClass:"modal-dialog doc-setup-slide mw-1100",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle"},[a("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[e._v(" Configuration")]),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(t){return e.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body bg-white newtabsdes_configuration_mainbase newtabdes_buttonsbase"},[e.modueKeys.length>0?a("section",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"left-menu-tab new_tab"},[a("div",{staticClass:"mt-0",staticStyle:{"max-height":"calc(100vh - 2px)"},attrs:{id:"divscrollsetuptabs"}},[a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab newtabsdes_configuration"},e._l(e.modueKeys,(function(t){return a("li",{staticClass:"nav-item FirstScreen"},[a("a",{class:{"nav-link":!0,active:t.moduleName.toLowerCase()==e.currentSelectedModule.moduleName.toLowerCase()},staticStyle:{cursor:"pointer"},on:{click:function(a){return e.GetModuleConfigurationKeys(t)}}},[a("i",{class:"pr-2 text-muted "+e.getModuleIcon(t.moduleName)}),e._v(" "+e._s(e.$t(t.moduleName))+" ")])])})),0)])]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane call-detail fade p-0 border-0 active show ",attrs:{id:"step1"}},[a("dynamic-form",{attrs:{schema:e.formSchema,buttons:e.buttons},on:{OnSubmit:e.FinalSaveConfigurations},scopedSlots:e._u([{key:"tgslot-TicketStartingNumber",fn:function(t){var i=t.data;return[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:i.fieldInfo.value},on:{input:function(t){t.target.composing||e.$set(i.fieldInfo,"value",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[a("a",{attrs:{id:"QuotePreviewtemplate",href:"javascript:;","data-key":"TicketStartingNumber"},on:{click:function(t){return e.CloseOpenTicketPopup(i.fieldInfo,"Ticket Number")}}},[a("i",{staticClass:"fa fa-pencil text-info font-18"})])])]),a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"LocationTracking",id:"LocationTracking"}})]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(i.error))])]}},{key:"tgslot-CRMQuotationStartNumber",fn:function(t){var i=t.data;return[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:i.fieldInfo.value},on:{input:function(t){t.target.composing||e.$set(i.fieldInfo,"value",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[a("a",{attrs:{id:"QuotePreviewtemplate",href:"javascript:;","data-key":"TicketStartingNumber"},on:{click:function(t){return e.CloseOpenTicketPopup(i.fieldInfo,"Qoute Number")}}},[a("i",{staticClass:"fa fa-pencil text-info font-18"})])])]),a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"LocationTracking",id:"LocationTracking"}})]),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(i.error))])]}},{key:"tgslot-SmtpPassword",fn:function(t){var i=t.data;return[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:i.fieldInfo.value},on:{input:function(t){t.target.composing||e.$set(i.fieldInfo,"value",t.target.value)}}})])]}}],null,!1,3031362263)})],1)])])]):e._e(),0==e.modueKeys.length&&1==e.noRecordfound?a("section",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"text-danger text-center p-4"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])]):e._e()])])])])]),e.showTicketNumber?a("modalConfigureTicketNumberVue",{attrs:{callbackfunction:e.GetModuleConfigurationKeys,Message:e.Message,coreConfigId:e.ticketCoreConfigId},on:{close:e.CloseOpenTicketPopup}}):e._e()],1)},l=[],c=(a("b7ef"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-popups modal right fade show",staticStyle:{display:"block"}},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v(e._s(e.$t("Configure"))+" "+e._s(e.Message))]),a("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:e.Close}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("section",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid padding-t_10 p-0",attrs:{id:"divInvNumData"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"preview-panel"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon3"}},[e._v(e._s(e.$t("Preview")))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.PreviewId,expression:"PreviewId"}],staticClass:"form-control",attrs:{type:"text",disabled:"disabled",maxlength:"100"},domProps:{value:e.PreviewId},on:{input:function(t){t.target.composing||(e.PreviewId=t.target.value)}}})])])])]),a("div",{staticClass:"row"},[a("draggable",{staticClass:"element-panel",attrs:{options:{group:{name:"people",pull:"clone",put:!1},sort:!1},move:e.checkMove},on:{change:function(t){return e.log(t)}},model:{value:e.filedList,callback:function(t){e.filedList=t},expression:"filedList"}},e._l(e.filedList,(function(t,i){return a("div",{key:i,staticClass:"single-element mb-2 ml-3",class:t.name,staticStyle:{cursor:"pointer"}},[a("i",{class:t.classname}),e._v(" "+e._s(t.name)+" ")])})),0)],1),a("div",{staticClass:"row mt-2",staticStyle:{"overflow-y":"auto","max-height":"400px"}},[a("div",{staticClass:"col-lg-12"},[a("draggable",{staticClass:"list-group d-flex flex-wrap dragarea mt-0",staticStyle:{"flex-direction":"unset","min-height":"105px"},attrs:{list:e.arr1,options:{group:{name:"people"}},id:"divmanualconfigsetting"},on:{change:function(t){return e.SetPreviewNumber()}}},e._l(e.arr1,(function(t,i){return a("div",{key:t.name,staticClass:"dragelements config-data"},["Year"==t.name?a("div",{staticClass:"col-12 yeardiv",attrs:{id:i}},[a("div",{staticClass:"pickflowbase ml-cutomf-bg float-left p-2 w-100 box-warning"},[a("div",{staticClass:"labeltext text-left p-0 float-left"},[a("label",[e._v(e._s(t.name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.yeardata,expression:"yeardata"}],staticClass:"form-control form-control-sm data1",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.yeardata},on:{input:function(t){t.target.composing||(e.yeardata=t.target.value)}}})]),a("i",{staticClass:"close fa fa-times",staticStyle:{cursor:"pointer"},on:{click:function(t){e.DeleteArrayObject(i,t),e.yeardata=""}}}),a("div",{staticClass:"dropdown float-right pt-1 mr-3"},[a("a",{staticClass:"action-icon dotts",attrs:{href:"javascript:;",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fa fa-ellipsis-h text-secondary"})]),a("div",{staticClass:"dropdown-menu panelfix_dots rounded border bg-white"},[a("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.twodigit()}}},[a("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v("Two Digit")])]),a("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.fourdigit()}}},[a("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v("Four Digit")])])])])])]):e._e(),"Month"==t.name?a("div",{staticClass:"col-12 monthdiv",attrs:{id:i}},[a("div",{staticClass:"pickflowbase ml-cutomf-bg float-left p-2 w-100 box-warning"},[a("div",{staticClass:"labeltext text-left p-0 float-left"},[a("label",[e._v(e._s(t.name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.monthdata,expression:"monthdata"}],staticClass:"form-control form-control-sm data1",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.monthdata},on:{input:function(t){t.target.composing||(e.monthdata=t.target.value)}}})]),a("i",{staticClass:"close fa fa-times",staticStyle:{cursor:"pointer"},on:{click:function(t){e.DeleteArrayObject(i,t),e.monthdata=""}}}),a("div",{staticClass:"dropdown float-right pt-1 mr-3"},[a("a",{staticClass:"action-icon dotts",attrs:{href:"javascript:;",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fa fa-ellipsis-h text-secondary"})]),a("div",{staticClass:"dropdown-menu panelfix_dots rounded border bg-white"},[a("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.shortmonth()}}},[a("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v("Short Name")])]),a("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.fullmonth()}}},[a("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v("Full Name")])]),a("a",{staticClass:"dropdown-item px-2 py-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.numbermonth()}}},[a("span",{staticClass:"ml-1 text-secondary",staticStyle:{"font-size":"14px"}},[e._v("Month Number")])])])])])]):e._e(),"Separator"==t.name?a("div",{staticClass:"col-12 separatordiv",attrs:{id:i}},[a("div",{staticClass:"pickflowbase ml-cutomf-bg float-left p-2 w-100 box-warning"},[a("div",{staticClass:"labeltext text-left p-0 float-left"},[a("label",[e._v("Separator")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.separatordata,expression:"separatordata"}],staticClass:"form-control form-control-sm data1",attrs:{type:"text",maxlength:"5",onpaste:"return false;"},domProps:{value:e.separatordata},on:{keyup:e.SetPreviewNumber,input:function(t){t.target.composing||(e.separatordata=t.target.value)}}})]),a("i",{staticClass:"close fa fa-times",staticStyle:{cursor:"pointer"},on:{click:function(t){e.DeleteArrayObject(i,t),e.separatordata=""}}})])]):e._e(),"Character"==t.name?a("div",{staticClass:"col-12 characterdiv",attrs:{id:i}},[a("div",{staticClass:"pickflowbase ml-cutomf-bg float-left p-2 w-100 box-warning"},[a("div",{staticClass:"labeltext text-left p-0 float-left"},[a("label",[e._v("Character")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.characterdata,expression:"characterdata"}],staticClass:"form-control form-control-sm data1",attrs:{type:"text",maxlength:"8",onpaste:"return false;"},domProps:{value:e.characterdata},on:{keyup:e.SetPreviewNumber,input:function(t){t.target.composing||(e.characterdata=t.target.value)}}})]),a("i",{staticClass:"close fa fa-times",staticStyle:{cursor:"pointer"},on:{click:function(t){e.DeleteArrayObject(i,t),e.characterdata=""}}})])]):e._e(),"Number"==t.name?a("div",{staticClass:"col-12 numberdiv",attrs:{id:i}},[a("div",{staticClass:"pickflowbase ml-cutomf-bg float-left p-2 w-100 box-warning"},[a("div",{staticClass:"labeltext text-left p-0 float-left"},[a("label",[e._v("Number")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric",expression:"'numeric'"},{name:"model",rawName:"v-model",value:e.numberdata,expression:"numberdata"}],staticClass:"form-control form-control-sm data1",attrs:{type:"text",maxlength:"10",onpaste:"return false;"},domProps:{value:e.numberdata},on:{keyup:e.SetPreviewNumber,input:function(t){t.target.composing||(e.numberdata=t.target.value)}}})]),a("i",{staticClass:"close fa fa-times",staticStyle:{cursor:"pointer"},on:{click:function(t){e.DeleteArrayObject(i,t),e.numberdata=""}}}),a("div",{staticClass:"dropdown float-right pt-1 mr-3"},[a("a",{staticClass:"action-icon dotts",attrs:{href:"javascript:;",id:"dropdownMenuButton"},on:{click:e.showdropdown}},[a("i",{staticClass:"fa fa-ellipsis-h text-secondary"})]),a("div",{staticClass:"dropdown-menu panelfix_dots rounded border bg-white dropdivdata",staticStyle:{display:"none",width:"220px",right:"-70px",left:"auto"}},[a("a",{staticClass:"dropdown-item px-2 py-2",attrs:{href:"javascript:;"}},[a("label",{staticClass:"form-check-inline d-block m-0 mb-1"},[a("span",{staticClass:"label-text text-secondary mx-1",staticStyle:{"font-size":"14px",float:"left"}},[e._v("Incr. By")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.exceedby,expression:"exceedby"},{name:"validate",rawName:"v-validate",value:"numeric",expression:"'numeric'"}],staticClass:"form-control form-control-sm",staticStyle:{width:"84px",height:"25px !important","min-height":"25px !important",margin:"auto"},attrs:{type:"text",maxlength:"2",onpaste:"return false;"},domProps:{value:e.exceedby},on:{keypress:function(t){return e.isNumber(t)},input:function(t){t.target.composing||(e.exceedby=t.target.value)}}})]),a("label",{staticClass:"form-check-inline d-block m-0 mb-1"},[a("span",{staticClass:"label-text text-secondary mx-1",staticStyle:{"font-size":"14px",float:"left"}},[e._v("Reset By")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.resetby,expression:"resetby"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.resetby=t.target.multiple?a:a[0]},e.Onchangeresetby]}},[a("option",{attrs:{value:"Month"}},[e._v("Month")]),a("option",{attrs:{value:"EM"}},[e._v("Every Month")]),a("option",{attrs:{value:"Year"}},[e._v("Year")])])]),"Month"==e.resetby?a("label",{staticClass:"form-check-inline d-block m-0 mb-1"},[a("span",{staticClass:"label-text text-secondary mx-1",staticStyle:{"font-size":"14px",float:"left"}},[e._v("Month")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.ddlmonth,expression:"ddlmonth"}],staticStyle:{"margin-left":"15px"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.ddlmonth=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"January"}},[e._v("Jan")]),a("option",{attrs:{value:"February"}},[e._v("Feb")]),a("option",{attrs:{value:"March"}},[e._v("Mar")]),a("option",{attrs:{value:"April"}},[e._v("Apr")]),a("option",{attrs:{value:"May"}},[e._v("May")]),a("option",{attrs:{value:"June"}},[e._v("June")]),a("option",{attrs:{value:"July"}},[e._v("July")]),a("option",{attrs:{value:"August"}},[e._v("Aug")]),a("option",{attrs:{value:"September"}},[e._v("Sep")]),a("option",{attrs:{value:"October"}},[e._v("Oct")]),a("option",{attrs:{value:"November"}},[e._v("Nov")]),a("option",{attrs:{value:"December"}},[e._v("Dec")])])]):e._e()])])])])]):e._e()])})),0)],1),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"help-block"},[a("p",{attrs:{id:"divHelpText"}},[e._v(e._s(e.$t("HelpTextForNextTicket"))+":")]),a("span",[e._v(e._s(e.$t("NextInvoice")))]),a("br"),a("p",{attrs:{id:"divHelpTextAfterReset"}},[e._v(e._s(e.$t("HelpTextForNextTicketAfterReset"))+": ")]),a("span",[e._v(e._s(e.$t("ResetNextInvoice")))])])])]),a("div",{staticClass:"col-lg-12 p-0"},[a("div",{staticClass:"row flex-row-reverse mt-3"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success formbtn widthhalf mr-2",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveData()}}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger formbtn widthhalf mr-2",attrs:{href:"javascript:;",title:"Cancel"},on:{click:e.Close}},[a("i",{staticClass:"fa fa-close pr-2"}),e._v(e._s(e.$t("Cancel")))])])])])])])])])])])])}),d=[],u=a("b76a"),p=a.n(u),m=a("c427");class v{async AddTicketPriority(e){return await m["a"].instanceTicketing.post("Common/AddTicketPriority?"+e)}async IsExtraMapFeature(){return await m["a"].instanceTicketing.get("/ServiceAppointment/IsExtraMapFeature")}async GetConfigNumberJsonData(e){return await m["a"].instanceCRM.get("/Form/GetConfigNumberJsonData?"+e)}async SaveConfiguringJsonData(e){return await m["a"].instanceCRM.post("/Form/SaveConfiguringJsonData",{postString:e})}async SaveConfiguringJsonData(e){return await m["a"].instanceCRM.post("/Form/SaveConfiguringJsonData",{postString:e})}async GetSkill(){return await m["a"].instanceTicketing.get("/Common/GetSkill")}async GetDepartment(){return await m["a"].instanceTicketing.get("/Common/GetDepartment")}async CheckPrivilege(e){return await m["a"].instanceCommon.get("/Common/HasPermission?"+e)}async GetResolveTicketUserListbydept(e){return await m["a"].instanceTicketing.get("/Ticketing/GetResolveTicketUserList?"+e)}async AddTicketGroup(e){return await m["a"].instanceTicketing.post("/FSM/AddTicketGroup?"+e)}async GetTicketGroupsForDropdownList(){return await m["a"].instanceTicketing.get("/FSM/GetTicketGroupsForDropdownList")}async AddTicketServiceBoard(e){return await m["a"].instanceTicketing.post("/FSM/AddTicketServiceBoard?"+e)}GetCountryDDL(e){return m["a"].instanceCommon.get("/Common/GetDDLData?"+e)}async GetTagsByModuleId(e){return await m["a"].instanceAsset.get("/GetTagsByModuleId?"+e)}GetStateListwithIDByCountryId(e){return m["a"].instanceAsset.get("/GetStateListwithIDByCountryId?"+e)}async GetLocationByCompanyIdAsset(e){return await m["a"].instanceAsset.get("/GetLocationByCompanyId?"+e)}LocationExist(e){return m["a"].instanceAsset.post("/LocationExist?"+e)}SaveUpdateLocation(e){return m["a"].instanceAsset.post("/SaveUpdateLocation",{postString:e})}GetAllowFileType(){return m["a"].instanceAsset.get("/CheckAllowFileType")}DownloadAttachment(e){return m["a"].instanceAsset.get("/DownloadAttachment?"+e)}async GetAssetItemStatusList(){return await m["a"].instanceAsset.get("/GetAssetItemStatusList")}AddProductType(e){return m["a"].instanceAsset.post("/AddProductType/",e)}GetAssetTagsById(e){return m["a"].instanceAsset.get("/GetAssetTagsById?"+e)}AssetGetById(e){return m["a"].instanceAsset.get("/AssetGetById?"+e)}AssetCatalogueListing(e){return m["a"].instanceAsset.get("/AssetCatalogueListing?",{params:e})}IsDuplicateAssetCatalog(e){return m["a"].instanceAsset.post("/IsDuplicateAssetCatalog?",{postString:e})}async GetLocationByuserId(e){return await m["a"].instanceAsset.get("/AssetAssignment/GetLocationByuserId?"+e)}async EnableAssetManagement(e){return await m["a"].instanceAsset.get("/EnableAssetManagement?"+e)}async GetCountryData(){return await m["a"].instanceCommon.get("HelpAndGuide/GetCountryList")}async AddLead(e){return await m["a"].instanceCRM.post("/AddLead",{postString:e})}async GetDDLDataForAddGroup(e){return await m["a"].instanceCRM.get("/Form/GetDDLData?"+e)}async SaveConfigData(e){return await m["a"].instanceCRM.post("/SaveConfigData",{postString:e})}async AddApprovalChain(e){return await m["a"].instanceApproval.post("/ApprovalChain/AddApprovalChain?",{postString:e})}async GetApprovalGroupByCompanyId(){return await m["a"].instanceApproval.get("/ApprovalChain/GetApprovalGroupByCompanyId?")}async GetByChainId(e){return await m["a"].instanceApproval.get("/ApprovalChain/GetByChainId?"+e)}async CheckDuplicate(e){return await m["a"].instanceApproval.get("/ApprovalChain/CheckDuplicate?"+e)}async AddGroup(e){return await m["a"].instanceApproval.post("/ApprovalGroup/AddGroup?",{postString:e})}async LoadUsersByCompanyId(e){return await m["a"].instanceApproval.get("/ApprovalRule/LoadUsersByCompanyId?"+e)}async GetLocationByCompanyId(e){return await m["a"].instanceApproval.get("/ApprovalRule/GetLocationByCompanyId?"+e)}async AddRule(e){return await m["a"].instanceApproval.post("/ApprovalRule/AddRule?",{postString:e})}async GetRuleById(e){return await m["a"].instanceApproval.get("/ApprovalRule/GetRuleById?"+e)}async GetUsersByProjectId(e){return await m["a"].instanceApproval.get("/ApprovalRule/LoadUsersByProjectId?"+e)}async LoadClientByProjectId(e){return await m["a"].instanceApproval.get("/ApprovalRule/LoadClientByProjectId?"+e)}async GetProjectListing(e){return await m["a"].instanceApproval.get("/ApprovalRule/GetProjectList?"+e)}async GetApprovalChainsByCompanyId(){return await m["a"].instanceApproval.get("/ApprovalRule/GetApprovalChainsByCompanyId?")}async CheckDuplicateRule(e){return await m["a"].instanceApproval.get("/ApprovalRule/ApprovalRuleExist?"+e)}async SwapApproverOrder(e){return await m["a"].instanceApproval.get("/ApprovalChain/SwapApproverOrderofApprovalGroups?"+e)}async DeleteApprovalGroup(e){return await m["a"].instanceApproval.post("/ApprovalChain/DeleteApprovalGroupFromApprovalChain?"+e)}async ApprovalGroupListByApprovalCHainId(e){return await m["a"].instanceApproval.get("/ApprovalRule/GroupList?"+e)}async CheckDuplicateGroup(e){return await m["a"].instanceApproval.get("/ApprovalGroup/CheckDuplicateGroup?"+e)}GetConfigDataValue(e){return m["a"].instanceDocStorage.get("/GetConfigDataValue?"+e)}SaveDocStorageSourceConfigData(e){return m["a"].instanceDocStorage.post("/SaveDocStorageSourceConfigData?"+e)}TestCredential(e){return m["a"].instanceDocStorage.post("/TestCredential?"+e)}GetStorageSourceList(){return m["a"].instanceDocStorage.get("/GetStorageSourceList")}GetStorageRegionList(e){return m["a"].instanceDocStorage.get("/GetStorageRegionList?"+e)}GetStorageSetupStatusDetail(){return m["a"].instanceDocStorage.get("/GetStorageSetupStatusDetail")}GetStorageReport(){return m["a"].instanceDocStorage.get("/GetStorageReport")}GetCompanyStorageSourceConfig(){return m["a"].instanceDocStorage.get("/GetCompanyStorageSourceConfig")}GetCompanyContainerDetails(){return m["a"].instanceDocStorage.get("/GetCompanyContainerDetails?")}SaveContainerDetails(e){return m["a"].instanceDocStorage.post("/SaveContainerDetails?"+e)}async GetUserStorageDetail(e){return await m["a"].instanceDocStorage.get("/GetUserStorageDetail?"+e)}ManageDocUserStorageSettingData(e){return m["a"].instanceDocStorage.post("/ManageDocUserStorageSettingData",e)}GetAllowedPrivilege(){return m["a"].instanceCommon.get("/Common/GetAllowedPrivilege")}}var h=new v,S={components:{draggable:p.a},data(){return{filedList:[{name:"Year",classname:"fa fa fa-calendar",order:1},{name:"Month",classname:"fa fa-calendar-o",order:2},{name:"Separator",classname:"fa fa-code",order:3},{name:"Character",classname:"fa fa-downcase-a",order:4},{name:"Number",classname:"fa fa-sort-numeric-asc",order:5}],arr1:[],PreviewId:"",yeardata:"",monthdata:"",separatordata:"",characterdata:"",numberdata:"",exceedby:"",resetby:"",ddlmonth:"",isUpdated:!0}},props:{coreConfigId:{required:!1},callbackfunction:{type:Function},Message:{type:String,Required:!0}},updated:function(){var e=this;1==e.isUpdated?e.SetPreviewNumber():e.isUpdated=!0},created:function(){var e=this;e.Fetchdata(),e.numbermonth(),e.twodigit(),e.fourdigit(),e.fullmonth(),e.shortmonth()},methods:{Close:function(){var e=this;this.$emit("close"),e.callbackfunction()},showdropdown:function(){$(".dropdivdata").toggle()},numbermonth:function(){const e=["01","02","03","04","05","06","07","08","09","10","11","12"],t=new Date;this.monthdata=e[t.getMonth()]},DeleteArrayObject:function(e,t){var a=this;$(t.target).closest(".config-data").remove(),a.arr1.splice(e,1),setTimeout(a.SetPreviewNumber(),100)},twodigit:function(){const e=new Date;this.yeardata=e.getFullYear().toString().substr(-2)},log:function(e){this.FiledList.sort(dynamicSort("order"))},fourdigit:function(){const e=new Date;this.yeardata=e.getFullYear()},fullmonth:function(){const e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=new Date;this.monthdata=e[t.getMonth()]},shortmonth:function(){const e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=new Date;this.monthdata=e[t.getMonth()]},checkMove:function(e){return!($("#divmanualconfigsetting .yeardiv").length>0&&"Year"==e.draggedContext.element.name)&&(!($("#divmanualconfigsetting .monthdiv").length>0&&"Month"==e.draggedContext.element.name)&&(!($("#divmanualconfigsetting .numberdiv").length>0&&"Number"==e.draggedContext.element.name)&&(!($("#divmanualconfigsetting .characterdiv").length>0&&"Character"==e.draggedContext.element.name)&&(!($("#divmanualconfigsetting .separatordiv").length>0&&"Separator"==e.draggedContext.element.name)&&void 0))))},SetPreviewNumber:function(e){this.isUpdated=!1,this.PreviewId="";var t=$(".data1"),a="";$.each(t,(function(e,t){a+=$(t).val()})),this.PreviewId=a},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},Fetchdata:function(){var e=this,t="id="+e.coreConfigId;h.GetConfigNumberJsonData(t).then(t=>{if(null!=t.data&&"undefined"!=typeof t.data&&""!=t.data){var a=t.data.data,i=a;i.splice("order",-1),$.each(i,(function(t,a){if("Year"==a.type&&(e.yeardata=a.value,""!=e.yeardata)){var i={};i["name"]=a.type,e.arr1.push(i)}if("Month"==a.type&&(e.monthdata=a.value,""!=e.monthdata)){var o={};o["name"]=a.type,e.arr1.push(o)}if("Separator"==a.type&&(e.separatordata=a.value,""!=e.separatordata)){var n={};n["name"]=a.type,e.arr1.push(n)}if("Character"==a.type&&(e.characterdata=a.value,""!=e.characterdata)){var r={};r["name"]=a.type,e.arr1.push(r)}if("Number"==a.type&&(e.numberdata=a.value,e.exceedby=a.propvalue1,e.resetby=a.property2,e.ddlmonth=a.propvalue2,""!=e.numberdata)){var s={};s["name"]=a.type,e.arr1.push(s)}"PreviewNum"==a.type&&(e.PreviewId=a.value)}))}})},SaveData:function(){var e=this;if(""!=e.PreviewId){var t="",a="",i="",o="",n="",r="",s="";if(2==e.yeardata.length?(t="two-digit",r="YY"):(t="four-digit",r="YYYY"),e.monthdata.length>3?(a="full-month",s="MMMM"):2==e.monthdata.length?(a="number-month",s="MM"):(a="short-month",s="MMM"),""!=e.exceedby&&(i="exceedby"),"EM"==e.resetby?(o=e.resetby,n=""):"Month"==e.resetby?(o=e.resetby,n=e.ddlmonth):(o=e.resetby,n=""),"Month"==e.resetby&&""==e.ddlmonth)return this.ShowAlert("Please Select Month","warning",!0,"Alert"),!1;if(""==e.numberdata)return this.ShowAlert("Number is required","warning",!0,"Alert"),!1;var l="undefined"==typeof $(".yeardiv").attr("id")?"-1":$(".yeardiv").attr("id"),c="undefined"==typeof $(".separatordiv").attr("id")?"-1":$(".separatordiv").attr("id"),d="undefined"==typeof $(".characterdiv").attr("id")?"-1":$(".characterdiv").attr("id"),u="undefined"==typeof $(".numberdiv").attr("id")?"-1":$(".numberdiv").attr("id"),p="undefined"==typeof $(".monthdiv").attr("id")?"-1":$(".monthdiv").attr("id"),m=[{type:"Year",value:e.yeardata,property1:t,propvalue1:e.yeardata,order:l,format:r},{type:"Month",value:e.monthdata,property1:a,propvalue1:e.monthdata,order:p,format:s},{type:"Separator",value:e.separatordata,property1:"",propvalue1:"",order:c,format:e.separatordata},{type:"Character",value:e.characterdata,property1:"",propvalue1:"",order:d,format:e.characterdata},{type:"Number",value:e.numberdata,property1:i,propvalue1:e.exceedby,property2:o,propvalue2:n,order:u,format:e.numberdata},{type:"PreviewNum",value:e.PreviewId,resetvalue:e.numberdata}],v={Configtype:"TicketStartingNumber"};m.sort((e,t)=>e.order-t.order);var S="";m.forEach(e=>{"PreviewNum"!==e.type&&(S+=e.value)});var g={PreviewNumFormat:S},f={PreviewNum:e.PreviewId},C={SerialNum:e.numberdata},b={mainarray:m,configtype:v,previewnum:f,previewnumformat:g,serialnumber:C},y=JSON.stringify(b);h.SaveConfiguringJsonData(y).then(t=>{(1==t.data||0==t.data)&&(this.ShowAlert(e.$t("RecordsUpdatedSuccessfully"),"success",!0,"Alert"),this.$emit("close",S))},(function(e){}))}else ShowAlert("Preview is required","warning",!0,"Alert")}}},g=S,f=a("2877"),C=Object(f["a"])(g,c,d,!1,null,null,null),b=C.exports,y=(a("bc3a"),{components:{modalConfigureTicketNumberVue:b},props:{moduleCode:null},data:function(){return{modueKeys:[],currentSelectedModule:"",formSchema:[],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i> Save"}],showTicketNumber:!1,ticketCoreConfigId:0,noRecordfound:!1,Message:"",AttachmentFileDetail:[],uploadUrl:"https://qatestfilemedia.talygen.com/api/UploadStreamNew",token:null,CheckFileSave:!1}},created:function(){this.GetConfigurationModule()},methods:{CloseOpenTicketPopup:function(e,t){e&&(this.ticketCoreConfigId=e.customFieldId,this.Message=t),this.showTicketNumber=!this.showTicketNumber},GetConfigurationModule:function(){var e=this,t="moduleName="+this.moduleCode;r["a"].GetModuleForConfiguration(t).then((function(t){null!=t&&null!=t.data&&t.data.length>0?(e.modueKeys=t.data,e.currentSelectedModule=e.modueKeys[0],e.GetModuleConfigurationKeys()):e.noRecordfound=!0}))},GetModuleConfigurationKeys:function(e){var t=this;"undefined"!=typeof e&&(t.currentSelectedModule=e);var a="moduleId="+t.currentSelectedModule.moduleId;r["a"].GetModuleKeys(a).then((function(e){null!=e&&null!=e.data&&t.ConvertConfigurationDataIntoDynamicFormobj(e.data.StorageKeys)}))},Getoption:function(e){e=null==e?"":e;var t=[];return $.each(e.split("^"),(function(e,a){t.push(a)})),t},ConvertConfigurationDataIntoDynamicFormobj:function(e){var t=this;if(t.formSchema=[],e.sort((e,a)=>t.$t(e.CORE_CONFIG_KEY)>t.$t(a.CORE_CONFIG_KEY)?1:t.$t(a.CORE_CONFIG_KEY)>t.$t(e.CORE_CONFIG_KEY)?-1:0),null!=e&&e.length>0){let a={layoutType:"double",groupId:0,group_name:"",Data:[]};e.forEach((function(e,i){var o;let n={required:!0},r=e.ASTYPE,s=[];var l=null!==(o=e.CORE_CONFIG_VALUE)&&void 0!==o?o:"";null!=e.CORE_CONFIG_OPTIONS&&(s=t.MakeArray(e.CORE_CONFIG_OPTIONS,"radio","^")),null!=e.SELECT_OPTIONS&&""!=e.SELECT_OPTIONS&&(s=t.MakeNormalArray(e.SELECT_OPTIONS));let c="date",d="Enter "+t.$t(e.CORE_CONFIG_KEY);if("SelectField"==r||"CustomSelectField"==r||"TreeSelectField"==r)d="Select "+t.$t(e.CORE_CONFIG_KEY);else if("MultiSelectField"==r){l=[];let t=e.CORE_CONFIG_VALUE.split("^");t.forEach((function(e){l.push({label:e,value:e})}))}else"CheckBoxField"==r&&(l=e.CORE_CONFIG_VALUE.split("^"));if("DateField"==r)c="date";else if("MultiSelectField"==r)c="tag";else if("FileField"==r)var u=e.CORE_CONFIG_VALUE,p=u.split("/").pop();let m={customFieldId:e.CORE_CONFIG_ID,astype:r,label:t.$t(e.CORE_CONFIG_KEY),name:e.CORE_CONFIG_KEY,value:l,placeholder:d,mode:c,config:{maxSize:5,showSelectedFiles:[{attachmentName:u,attachmentPath:p}],onChange:t.onChangeField,onDeleteSelectedFiles:t.onDeleteSelectedFiles,onClickSelectedFiles:t.showCompanyLogo,accept:[{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"}],mode:c,options:s,dependentOn:null,showWhen:null,valueMapping:null,fieldCode:null,showCrossOnSelectedFiles:!1},visibility:!0,validationRules:n,dtCode:e.CORE_CONFIG_TYPE};a.Data.push(m)})),t.formSchema.push(a)}},showCompanyLogo(e){var t=this;let a=document.createElement("a");a.target="_blank",a.href="https://cogniterblob.blob.core.windows.net/"+t.GetUserInfo.ContainerName+"/Upload/CompanyLogo/"+e.attachmentPath,a.click()},onChangeField:function(e,t){var a=this;if("FileField"==t.astype)try{a.fileData=[];for(var i=e.target.files,o=0;o<i.length;o++){var n=i[o],r=new FileReader;r.onload=function(e){return function(e){var i=e.target.result,o=window.btoa(i),r=n.name;a.fileName=r;var s=r.lastIndexOf("."),l=r.substring(s+1,r.length);a.fileExt+="."+l;var c='{"ContentType":"'+n.type+'","Size":"'+n.size+'","Extension":"'+l+'"}',d=n.size;a.fileSize=d;var u={attachement_mime:c,fileName:r,userId:a.GetUserInfo.ID,companyId:a.GetUserInfo.CompanyId,id:0,moduleName:a.currentSelectedModule.moduleName.toLowerCase(),subModuleCode:"",containerName:a.GetUserInfo.ContainerName,base64String:o,attachement_path:"",fieldName:t.name};a.AttachmentFileDetail.push(u)}}(),r.readAsBinaryString(n)}}catch(s){}},onDeleteSelectedFiles:function(e,t){var a=this;a.formSchema.forEach((function(e,t){e.Data.forEach((function(e,t){"FileField"==e.astype&&(a.$delete(e.config,"showSelectedFiles"),e.value="")}))}))},SendAttactment:async function(){this.token=this.GetUserInfo?this.GetUserInfo.Token:"";var e=this,t=JSON.stringify(e.AttachmentFileDetail);await r["a"].UploadFile(t).then((function(t){t.data&&t.data.length>0&&(e.CheckFileSave=!1,e.formSchema.forEach((function(e,a){e.Data.forEach((function(e,a){if("FileField"==e.astype)if("companylogo"==e.name.toLowerCase()){var i=t.data[0].Name.split("/")[t.data[0].Name.split("/").length-1];e.value=i}else e.value=t.data[0].Name}))})),e.SaveConfigurations())}))},FinalSaveConfigurations:function(){var e=this;e.formSchema[0].Data.forEach(t=>{t.dtCode&&"image"==t.dtCode.toLowerCase()&&e.AttachmentFileDetail.length>0&&(e.CheckFileSave=!0)}),e.CheckFileSave?e.SendAttactment():e.SaveConfigurations()},SaveConfigurations:function(){var e=this,t=[];e.formSchema.forEach((function(e,a){e.Data.forEach((function(e,a){var i=e.value;if("CheckBoxField"==e.astype&&(i=e.value.filter(e=>""!=e).join("^")),"MultiSelectField"==e.astype){let t="";if("object"==typeof e.value)try{"undefined"!=typeof e.value.length&&e.value.length>0?e.value.forEach((function(e){t=""==t?e.value:t+"^"+e.value})):t=e.value.value}catch(n){t=e.value.value}else t=e.value;i=t}var o={DataId:e.customFieldId,key:e.name,DataValue:i};t.push(o)}))}));var a={configData:t,conditionData:{refCode:"CompanySetting",moduleName:e.moduleCode}},i=JSON.stringify(a);r["a"].ManageDocUserStorageSettingData(i).then((function(t){null!=t&&null!=t.data&&1==t.data?e.ShowAlert(e.$t("RecordsSavedSuccessfully"),"success"):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))}))}}}),A=y,D=(a("514f"),Object(f["a"])(A,s,l,!1,null,null,null)),T=D.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"my-popups modal right fade show",staticStyle:{display:"block"}},[a("div",{staticClass:"modal d-block "},[a("div",{staticClass:"modal-dialog doc-setup-slide mw-1100",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle"},[a("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[e._v(" Setup")]),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(t){return e.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body bg-white initialsetup_newtab_mainbase newtabdes_buttonsbase"},[e.TabList.length>0?a("section",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"left-menu-tab new_tab"},[a("div",{staticClass:"col-md-12 pb-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 pr-0 font-weight600 mb-1"},[e._v(e._s(e.$t("CompleteYourProfile")))]),a("div",{staticClass:"col-4 text-right"},[a("b",{},["Completed"!==e.setupProgresText?a("span",{staticClass:"smallresult"},[e._v("Progress "+e._s(e.currentTabIndex)+" of "+e._s(e.TabList.length))]):e._e()]),"Completed"==e.setupProgresText?a("span",{staticClass:"smallresult"},[a("i",{staticClass:"fa fa-check-circle",class:{"text-success":"Completed"==e.setupProgresText,"text-muted":"Completed"!==e.setupProgresText}}),e._v(" "+e._s(e.$t(e.setupProgresText))+" ")]):e._e()]),a("div",{staticClass:"col-4 pl-0 text-right"})]),a("div",{staticClass:"initialsetup_newtab_design progress storagegraph smaller"},[a("div",{staticClass:"progress-bar progress-bar-primary px-0 text-right memoryused",class:""+e.progressBarColor,style:"width: "+e.setupProgress+"%; font-weight:500; font-size:14px",attrs:{id:"divConsumendStorage",title:e.setupProgress}})])])])]),a("div",{staticClass:"mt-3",staticStyle:{"max-height":"calc(100vh - 2px)"},attrs:{id:"divscrollsetuptabs"}},[a("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix initialsetup_newtab_design"},e._l(e.TabList,(function(t,i){return a("li",{class:{"nav-item FirstScreen":!0,active:t.tabCode==e.currentSelectedTab.tabCode,initialsetup_completed:t.isCompleted},on:{click:function(a){return e.setCurrectTab(t)}}},[a("a",{staticClass:"digits_num"},[e._v(e._s(i+1)+".")]),a("a",{class:{"nav-link":!0},staticStyle:{cursor:"pointer"}},[t.isCompleted?a("i",{staticClass:"fa fa-check-circle text-success"}):e._e(),t.isCompleted?e._e():a("i",{class:"pr-2 text-muted "+t.icon}),a("span",[e._v(e._s(e.$t(t.displayName)))])])])})),0)])]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"tab-content"},[null!=e.currentSelectedTab?a("div",{staticClass:"tab-pane call-detail fade p-0 border-0 active show ",attrs:{id:"step1"}},[a("moduleSetupBridge",{attrs:{component:e.currentSelectedTab.componentName,moduleCode:e.moduleCode,tabCount:e.TabList.length,currentTabIndex:e.currentTabIndex},on:{PreviousTab:e.PreviousTab,UpdateProgress:e.UpdateProgress,NextTab:e.NextTab,Close:e.Close}})],1):e._e()])])]):e._e(),0==e.TabList.length?a("section",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"text-danger text-center p-4"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])]):e._e()])])])])])])},I=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a(e.component,{tag:"component",attrs:{moduleCode:e.moduleCode,tabCount:e.tabCount,currentTabIndex:e.currentTabIndex},on:{nextTab:e.NextTab,updateProgress:e.UpdateProgress,previousTab:e.PreviousTab,close:e.Close}})],1)},x=[],w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("dynamic-form",{ref:"validatepriority",attrs:{lang:"en",schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 text-right"},[e.currentTabIndex>1?a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" "+e._s(e.$t("Previous")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.Skip()}}},[e._v(e._s(e.$t("Skip")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:e.onSubmit}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndNext"))+" ")]):e._e(),e.tabCount==e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:e.onSubmit}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndClose"))+" ")]):e._e()])])],1)},L=[],E={props:{tabCount:0,currentTabIndex:0},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Priority Name"),name:"PriorityName",value:"",placeholder:this.$t("Enter Priority Name"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]},{layoutType:"double",Data:[{astype:"ColorField",label:this.$t("ColorField"),name:"ColorField",value:"",placeholder:"",validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Display Order"),name:"DisplayOrder",value:"",config:{options:[{value:"1",name:"1"},{value:"2",name:"2"},{value:"3",name:"3"},{value:"4",name:"4"},{value:"5",name:"5"},{value:"6",name:"6"},{value:"7",name:"7"},{value:"8",name:"8"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]}],ListData:[]}},methods:{onSubmit(e,t){var a=this,i=a.$refs.validatepriority.getPropertyValue("PriorityName","value"),o=a.$refs.validatepriority.getPropertyValue("Status","value"),n=a.$refs.validatepriority.getPropertyValue("ColorField","value"),r=a.$refs.validatepriority.getPropertyValue("DisplayOrder","value"),s=`priorityId=0&priorityName=${i}&statusId=${o}&displayOrder=${r}&priorityColor=${n}`;h.AddTicketPriority(s).then(e=>{"1"==e.data?(a.ShowAlert("Priority successfully added.","success"),a.tabCount>1&&(a.$emit("nextTab"),a.$emit("updateProgress",a.currentTabIndex,!0)),a.tabCount==a.currentTabIndex&&a.$emit("close"),a.$parent.GetStorageSetupStatusDetail()):"2"==e.data?a.ShowAlert("Priority already Exist.","failure"):a.ShowAlert(a.$t("AddedError"),"failure")})},Skip:function(){var e=this;e.$emit("nextTab")},PreviousButton:function(){var e=this;e.$emit("previousTab")}}},F=E,O=Object(f["a"])(F,w,L,!1,null,null,null),P=O.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"tab-content"},[a("dynamic-form",{ref:"AddLead",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 text-right"},[e.currentTabIndex>1?a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" "+e._s(e.$t("Previous")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.Skip()}}},[e._v(e._s(e.$t("Skip")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:e.SaveSubmit}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndNext"))+" ")]):e._e(),e.tabCount==e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:e.SaveSubmit}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndClose"))+" ")]):e._e()])])],1)])])},k=[],M={props:{tabCount:0,currentTabIndex:0},data(){return{LeadData:[],username:null,userid:null,isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("FirstName"),name:"FirstName",value:"",placeholder:this.$t("FirstName"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("LastName"),name:"LastName",value:"",placeholder:this.$t("LastName"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("LeadEmail"),name:"LeadEmail",value:"",placeholder:this.$t("LeadEmail"),validationRules:{required:!0}},{astype:"SelectField",label:this.$t("LeadOwner"),name:"LeadOwner",value:"",placeholder:this.$t("LeadOwner"),config:{options:[],onChange:this.onChangeProfile},validationRules:{required:!0}},{astype:"DateField",label:this.$t("LeadDate"),name:"LeadDate",value:new Date,placeholder:this.$t("LeadDate"),validationRules:{required:!0},config:{mode:"date",format:"M/D/YYYY"}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"1001",placeholder:this.$t("Status"),config:{options:[{name:"Active",value:1001},{name:"InActive",value:"1002"}],onChange:this.onChangeProfile},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Country"),name:"Country",value:"",placeholder:this.$t("Country"),config:{options:[],onChange:this.onChangeProfile},validationRules:{required:!0}}]}]}},created:function(){this.username=this.GetUserInfo.Name,this.userid=this.GetUserInfo.ID,this.GetCountryData(),this.GetLeadOwner()},methods:{GetCountryData:function(){var e=this;h.GetCountryData().then((function(t){var a=t.data;a.forEach(t=>{e.FormSchema[0].Data[6].config.options.push({name:t.countrY_FULL_NAME,value:t.id})}),e.$refs.AddLead.UpdateKeyValue()}))},GetLeadOwner:function(){var e=this;e.FormSchema[0].Data[3].config.options.push({name:e.username,value:e.userid})},SaveSubmit:function(){var e=this;e.isLoading=!0,e.$refs.AddLead.validateForm.validate().then(t=>{if(t){var a={first_name:e.FormSchema[0].Data[0].value,last_name:e.FormSchema[0].Data[1].value,email:e.FormSchema[0].Data[2].value,lead_owner:e.FormSchema[0].Data[3].value,lead_date:e.FormSchema[0].Data[4].value,status_id:e.FormSchema[0].Data[5].value,country:e.FormSchema[0].Data[6].value},i=a;h.AddLead(i).then((function(t){e.isLoading=!1,null!=t&&"Success"==t.data[0].Status&&(e.ShowAlert(e.$t("RecordsSavedSuccessfully")),e.tabCount>1?e.$emit("nextTab"):e.clearFields())}))}}),e.isLoading=!1},clearFields:function(){var e=this;e.FormSchema[0].Data[0].value="",e.FormSchema[0].Data[1].value="",e.FormSchema[0].Data[2].value="",e.FormSchema[0].Data[3].value="",e.FormSchema[0].Data[4].value="",e.FormSchema[0].Data[5].value="",e.FormSchema[0].Data[6].value="",e.$refs.validatePriority.validateForm.reset()},Skip:function(){var e=this;e.$emit("nextTab")},PreviousButton:function(){var e=this;e.$emit("previousTab")}}},G=M,U=Object(f["a"])(G,R,k,!1,null,null,null),B=U.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"tab-content"},[a("dynamic-form",{ref:"AddConfig",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.$t("MandatoryString")},on:{OnSubmit:e.onSubmit}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 text-right"},[e.currentTabIndex>1?a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" "+e._s(e.$t("Previous")))]):e._e(),e.tabCount==e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(t){return e.onSubmit(e.values)}}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndClose"))+" ")]):e._e()])])],1)])],1)},V=[],j={props:{tabCount:0,currentTabIndex:0},data(){return{UserData:[],FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("User"),name:"User",value:"",placeholder:this.$t("User"),config:{options:[],onChange:this.onChangeProfile},validationRules:{required:!0}},{astype:"ToggleField",label:this.$t("CanViewAllCrmRecord"),name:"CanViewAllCrmRecord",value:"Yes",placeholder:"",validationRules:{required:!1}}]}],isLoading:!1}},created:function(){var e=this;e.GetUser()},methods:{PreviousButton:function(){var e=this;e.$emit("previousTab")},onSubmit:function(){var e=this;e.$refs.AddConfig.validateForm.validate().then(t=>{if(t){var a={User:e.FormSchema[0].Data[0].value,CanViewAllCrmRecord:e.FormSchema[0].Data[1].value},i=JSON.stringify(a);h.SaveConfigData(i).then(t=>{"INSERT"==t.data.result?e.ShowAlert(e.$t("AddedSuccess",[e.$t("Configuration")]),"success",!0,e.$t("Alert")):"UPDATE"==t.data.result?e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Configuration")]),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedError",[e.$t("Configuration")]),"danger",!0,e.$t("Alert")),e.isLoading=!1})}})},GetUser:function(){var e=this,t="moduleName=CRM_USER&type=USERS";h.GetDDLDataForAddGroup(t).then(t=>{e.UserData=t.data.DATA,e.UserData.forEach((t,a)=>{e.FormSchema[0].Data[0].config.options.push({name:t.name,value:t.value})}),e.$refs.AddConfig.UpdateKeyValue()})}}},Y=j,J=Object(f["a"])(Y,z,V,!1,null,null,null),q=J.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("dynamic-form",{ref:"AddlocationRef",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-parent_location_id",fn:function(t){var i=t.data;return[a("div",{staticClass:"input-group custlocation"},[a("tree-view",{class:{"form-control":!0},attrs:{options:e.options,placeholder:"Select Location","show-count":!0},model:{value:e.TreeValue,callback:function(t){e.TreeValue=t},expression:"TreeValue"}}),i.fieldInfo.config.showAddIcon?a("div",{staticClass:"ml-2 mt-1"},[a("a",{staticClass:"round-icon-small btn-dark theme-primary",on:{click:e.AddLocation}},[a("i",{staticClass:"fa fa-plus text-white pt-7 font-18",attrs:{alt:"+"}})])]):e._e()],1)]}}])})],1)},H=[],W=a("ca17"),Z=a.n(W),X=(a("542c"),{props:{popupCondition:{type:Boolean,required:!0},tabCount:0,currentTabIndex:0},components:{"tree-view":Z.a},data(){return{TreeValue:null,FormSchema:[],isLoading:!1,buttons:[{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",name:"SaveAndNew",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",name:"SaveAndNext",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Next",name:"Save"}],myObj:[],LocationData:[],CountryData:[],StatusData:[{name:"Active",value:1001},{name:"Inactive",value:1002}],StateData:[],TagData:[],CreatedAt:"",CreatedBy:"",ModifiedAt:"",ModifiedBy:"",DataLoaded:0,UserId:"",SetupProgresText:"",FindalLocationArray:[]}},created:async function(){var e=this;e.getForm(),await e.GetLocationByCompanyId(),e.UserId=e.GetUserInfo.ID},methods:{getForm:function(e){var t=this;t.isLoading=!0;var a="recordId=0&moduleName=Company&subModuleCode=Location";r["a"].GetDynamicForm(a).then((function(e){null!=e&&null!=e.data&&(t.FormSchema=t.$refs.AddlocationRef.ConvertCustomFieldIntoDynamicFormObj(e.data.data),t.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{t.FormSchema.length>0&&("parent_location_id"==e.name&&(e.config.showAddIcon=!1,e.astype="SlotField",e.is_required=!1),"tag_id"==e.name&&(e.mode="tag",e.astype="MultiSelectField",e.is_required=!1,e.config.showAddIcon=!1),"location_country"==e.name&&(e.config.onChange=t.onChangeDropdown))})}),t.isLoading=!1)}))},Skip:function(){var e=this;e.$parent.NextTab()},async AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.FormSchema[0].Data[6].visibility=!1,e.FormSchema[0].Data[7].visibility=!1,e.FormSchema[0].Data[8].visibility=!1,e.FormSchema[0].Data[9].visibility=!1,e.FormSchema[0].Data[10].visibility=!1,e.FormSchema[0].Data[11].visibility=!1,e.FormSchema[0].Data[12].visibility=!1,e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!1,e.buttons[2].isVisible=!0,e.buttons[3].isVisible=!1,e.buttons[4].isVisible=!1)},GetCountryDDL:function(){var e="moduleName=CRM&type=COUNTRIES";r["a"].GetCountryDDL(e).then(e=>{e.data.DATA.forEach(e=>{this.FormSchema[0].Data[5].config.options.push({name:""+e.name,value:""+e.value})})})},async GetTagsByModuleId(){var e=this,t="modulename=Asset";await h.GetTagsByModuleId(t).then((function(t){e.TagData=JSON.parse(t.data),e.TagData.data.forEach((t,a)=>{e.FormSchema[0].Data[12].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})}),console.log(" GetTagsByModuleId  call end")}))},onChangeDropdown(e){var t=this,a="countryId="+e.target.value;h.GetStateListwithIDByCountryId(a).then((function(e){t.StateData=JSON.parse(e.data).data,t.StateData=t.StateData.map(e=>({name:e.name,value:e.state_id})),$.each(t.FormSchema,(function(e,a){$.each(a.Data,(function(e,a){"location_state"==a.name&&(a.value="",a.config.options=t.StateData)}))})),t.$refs.AddlocationRef.UpdateKeyValue()}))},async GetLocationByCompanyId(){var e=this;e.isLoading=!0;var t="reqForm=";await h.GetLocationByCompanyIdAsset(t).then((function(t){e.FindalLocationArray=[],e.LocationData=JSON.parse(t.data).data,e.LocationData.forEach(a=>{var i=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==i.length&&null==a.PARENT_LOCATION_ID){let i=a.COMPANY_LOCATION_ID,o=e.getChildLocation(i,a,JSON.parse(t.data).data);e.FindalLocationArray.push(o)}}),e.options=e.FindalLocationArray}))},getChildLocation:function(e,t,a){let i=this,o={};o={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let n=o;var r=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let s=[];return r.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var n=s.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==n.length){var r=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=r&&r.length>0){let o=i.getChildLocation(t,e,a);s.push(o)}else o={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},s.push(o)}}),n.children=s,n},GetStatusDDL(){var e=this;e.StatusData.forEach((t,a)=>{e.FormSchema[0].Data[2].config.options.push({name:t.name,value:t.value})})},ClosePopup(){var e=this;e.$parent.CloseLocationPopup()},onSubmit:function(e,t){var a=this,i=`LocationName=${e.location_name}&LocationId=0`;h.LocationExist(i).then((function(e){a.LocationId=e.data.result,e.data.result>0?a.ShowAlert(a.$t("CostCentreExists",[a.$t("Location")]),"warning",!0,a.$t("Alert")):a.$refs.AddlocationRef.validateForm.validate().then(e=>{if(e){a.isLoading=!0;var i=a.$refs.AddlocationRef.ConvertDynamicFormObjToCustomFieldObj(a.FormSchema);i.forEach((e,t)=>{"parent_location_id"==e.field_name&&(e.field_value=a.TreeValue)});var o={data:i,moduleCode:"Company",subModuleCode:"Location"};r["a"].SaveDynamicForm(JSON.stringify(o)).then((function(e){null!=e&&null!=e.data&&"Success"==e.data[0].Status?"SaveAndNew"==t?(a.$emit("nextTab"),a.isLoading=!1):"Save"==t&&(a.ShowAlert(a.$t("LocationSaveSuccessfully",[a.$t("Location")]),"success",!0,a.$t("Alert")),a.$emit("nextTab")):(a.ShowAlert(a.$t("ErrorWhileSaving",[a.$t("Product")]),"danger",!0,a.$t("Alert")),a.isLoading=!1)}))}})}))},resetForm(){this.FormSchema[0].Data.forEach(e=>{"TreeSelectField"==e.astype?e.value=null:(e.value="",e.validationRules.required=!0)})}}}),Q=X,ee=Object(f["a"])(Q,K,H,!1,null,null,null),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("Form",{ref:"AddProduct"},[a("dynamic-form",{ref:"AddProductForm",attrs:{buttons:e.buttons,schema:e.FormSchema},scopedSlots:e._u([{key:"tgslot-unit_price",fn:function(t){var i=t.data;return[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[e._v(e._s(e.Currency))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control no-spinner",attrs:{type:"number",name:"unitprice",min:"0",maxlength:5,step:"any",pattern:"\\d+\\.?\\d?(?!\\d)"},domProps:{value:i.fieldInfo.value},on:{input:[function(t){t.target.composing||e.$set(i.fieldInfo,"value",t.target.value)},e.limitLength],keyup:function(t){return e.GetAssetCost(t,i.fieldInfo.value)}}})])]}},{key:"tgslot-asset_cost",fn:function(t){var i=t.data;return[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[e._v(e._s(e.Currency))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control no-spinner",attrs:{type:"number",min:0},domProps:{value:i.fieldInfo.value},on:{keyup:function(t){return e.GetUnitPrice(i.fieldInfo.value)},input:function(t){t.target.composing||e.$set(i.fieldInfo,"value",t.target.value)}}})])]}},{key:"tgslot-location_id",fn:function(t){var i=t.data;return[a("div",{staticClass:"input-group custlocation"},[a("tree-view",{class:{"form-control":!0},attrs:{options:e.options,placeholder:"Select Location","show-count":!0},model:{value:e.TreeValue,callback:function(t){e.TreeValue=t},expression:"TreeValue"}}),i.fieldInfo.config.showAddIcon?a("div",{staticClass:"ml-2 mt-1"},[a("a",{staticClass:"round-icon-small btn-dark theme-primary",on:{click:e.AddLocation}},[a("i",{staticClass:"fa fa-plus text-white pt-7 font-18",attrs:{alt:"+"}})])]):e._e()],1)]}}])})],1)],1)},ie=[],oe={props:{tabCount:0,currentTabIndex:0,FromPage:{type:String,required:!1},popupCondition:{type:String,required:!1}},components:{"tree-view":Z.a},data(){return{options:[],TreeValue:null,isLoading:!1,AssetType:[],BarcodeType:[],userLoggedIn2:!1,IsDeployment:!1,IsTagNamePopup:!1,LocationData:[],ShowAddLocation:!1,ShowAddProductType:!1,FromAddProduct:!1,DeploymentType:"",IsEnableAssetManagement:!1,fileUploaded:"",tagData:[],isCheckDeployItem:"",DeployProductValue:!1,StaticObj:[{layoutType:"single",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:null,placeholder:"Select Location",config:{options:[],showAddIcon:!0,onAddButtonClick:this.AddLocation},validationRules:{required:!0}}]}],FormSchema:[],buttons:[{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"button",class:"btn btn-warning float-left px-4",text:'<i class="fa fa-chevron-left pr-2"></i> '+this.$t("Previous"),isVisible:this.currentTabIndex>1,onClick:this.PreviousButton},{type:"submit",class:"btn btn-secondary",text:"<i class='fa fa-angle-double-left pr-2'></i>Back",onClick:this.BackButton,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Close",name:"SaveAndClose",isVisible:!(this.tabCount>this.currentTabIndex),onClick:this.onSubmit}],DataLoaded:0,TagsArray:[],tags:[],file:[],CurrentTab:1,step:3,SetupProgress:0,count:0,PageSize:10,PageNumber:1,SortBy:"",SortExp:"",IsClientStoragesCopmleted:!1,UserType:"",fileMulitpleData:[],AllowedFileType:[],currency:"",SaveTags:[],acceptArray:[],ModelTitle:"Add Product"}},watch:{CurrentTab:{handler(e,t){3==e&&this.getForm()}}},async created(){var e=this;""!=e.FromPage&&null!=e.FromPage||(e.FromPage="AddProduct"),await e.GetAllowFileType(),e.AdvancedSetupFields(),await e.EnableAssetManagement(),e.Currency=this.GetUserInfo.Currency,await e.getForm(),await e.AssetCatalogueListing(),await e.GetProgress(),await e.GetLocationByCompanyId(),e.DataLoaded=1},mounted(){$("#modelAddProduct").modal({backdrop:"static",keyboard:!1})},methods:{closeSetupSetting(){this.$emit("CloseSetup")},async GetAllowFileType(){var e=this;await h.GetAllowFileType().then(t=>{if(null!=t.data){const a=t.data.AllowedFileTypes.split(",");a.forEach(t=>{const a=t.trim().replace(/\./g,"");e.acceptArray.push({fileType:a,iconClass:"fa-file-image-o"})})}})},getForm:async function(e){var t=this;t.isLoading=!0;var a="recordId=0&moduleName=Asset&subModuleCode=MANAGE_PRODUCT&usefor=Add";await r["a"].GetDynamicForm(a).then((function(e){if(null!=e&&null!=e.data){if("undefined"!=typeof e.data.configdata&&e.data.configdata.length>0){var a=e.data.configdata;a.forEach((function(e){"TicketDisallowedFileTypes"==e.CORE_CONFIG_KEY&&(t.AllowedFileType=e.CONFIG_DATA_VALUE)}))}e.data.data;t.FormSchema=t.$refs.AddProductForm.ConvertCustomFieldIntoDynamicFormObj(e.data.data),t.FormSchema.forEach((e,a)=>{e.Data.forEach((a,i)=>{"deployement_type"!=a.name&&"location_id"!=a.name&&"quantity"!=a.name&&"unit_price"!=a.name&&"asset_cost"!=a.name||(a.visibility=!1,e.visibility=!1),"quantity"==a.name&&(a.is_required=!0,a.validationRules={required:!0,max:7}),"unit_price"==a.name&&(a.astype="SlotField",a.is_required=!1,a.validationRules={required:!1,max:5}),"asset_cost"==a.name&&(a.astype="SlotField"),"location_id"==a.name&&(a.config.showAddIcon=!1,a.config.onAddButtonClick=t.AddLocation,a.astype="SlotField",a.is_required=!1),"deployement_type"==a.name&&(a.value="1"),"type"==a.name&&(a.value=!1),"create_unique_name_list"==a.name&&(a.value=!1,t.ModelTitle=e.group_name),"asset_type_id"==a.name&&"AdvanceSettings"!=t.FromPage&&(a.config.showAddIcon=!1,a.config.onAddButtonClick=t.OpenAddProductTypePopup),"tag_id"==a.name&&(a.mode="tag",a.is_required=!1,a.config.showAddIcon=!1,a.config.onAddButtonClick=t.OpenAddTagPopup),"type"==a.name&&(a.value=!1,a.is_required=!0),"status_id"==a.name&&(a.visibility=!0),"attachment_path"==a.name&&(a.showLabel=!0,t.acceptArray.length>0&&(a.config={maxSize:5,onDeleteSelectedFiles:t.onDeleteSelectedFiles,accept:t.acceptArray,showAddIcon:!1,onAddButtonClick:"",multiple:!1})),a.config.onChange=t.onChangeEventForFields})}),t.isLoading=!1}}))},onChangeEventForFields:function(e,t,a){let i=this;"type"==t.name&&i.FormSchema.forEach((e,a)=>{e.Data.forEach((a,i)=>{t.value?"deployement_type"!=a.name&&"location_id"!=a.name&&"quantity"!=a.name&&"unit_price"!=a.name&&"asset_cost"!=a.name||(a.visibility=!0,e.visibility=!0):"deployement_type"!=a.name&&"location_id"!=a.name&&"quantity"!=a.name&&"unit_price"!=a.name&&"asset_cost"!=a.name||(a.visibility=!1,e.visibility=!1)})}),"attachment_path"==t.name&&i.GetBase64String(t.value);parseFloat(""==i.FormSchema[2].Data[1].value?0:i.FormSchema[2].Data[1].value);var o=parseFloat(""==i.FormSchema[2].Data[2].value?0:i.FormSchema[2].Data[2].value);if("quantity"==t.name)if(parseFloat(t.value)>0&&o>0){var n=parseFloat(t.value)*parseFloat(o);i.FormSchema[2].Data[3].value=n.toFixed(3)}else i.FormSchema[2].Data[3].value="0.000"},GetBase64String:function(e){try{var t=this,a=e[0],i=new FileReader;let o={};i.onload=function(e){return function(e){var i=e.target.result,n=window.btoa(i),r=a.name;t.fileName=r;var s=r.lastIndexOf("."),l=r.substring(s+1,r.length);t.fileExt+="."+l;var c='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+l+'"}',d=a.size;t.fileSize=d,o.attachement_mime=c,o.fileName=r,o.base64String=n,o.fileSize=a.size,o.contentType=a.type,o.ModuleName="Asset",o.SubModuleCode="Manage_Products",t.fileMulitpleData.push(o)}}(),i.readAsBinaryString(a)}catch(o){}},onDeleteSelectedFiles:function(){this.$delete(this.FormSchema[4].Data[0].config,"showSelectedFiles")},OnDeplymentType(e,t){t.value=e.target.getAttribute("data-value"),console.log(e.target.getAttribute("data-value"))},async AssetCatalogueListing(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&${e.searchCondition}`;await h.AssetCatalogueListing(t).then(t=>{t.data.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0,e.isLoading=!1})},GetProgress(){var e=this;1==e.count?e.SetupProgress=33.33:2==e.count?e.SetupProgress=66.66:3==e.count&&(e.SetupProgress=100)},BackButton(){var e=this;e.SkipTab(2)},SkipTab:function(e){var t=this;t.step=e,t.CurrentTab=e},Skip:function(){var e=this;e.$parent.NextTab()},AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.step=1,e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!0,e.buttons[2].isVisible=!1,e.buttons[3].isVisible=!1,e.buttons[4].isVisible=!0)},async GetTagsByModuleI(){var e=this;await h.GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.FormSchema[0].Data[5].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},HideShowDeployProductFields(e){var t=this;1==e?("setup"==t.popupCondition?(t.FormSchema[2].Data[0].visibility=!1,t.FormSchema[3].Data[0].visibility=!0):(t.FormSchema[2].Data[0].visibility=!0,t.FormSchema[3].Data[0].visibility=!1),t.FormSchema[4].Data[0].visibility=!0,t.FormSchema[4].Data[1].visibility=!0,t.FormSchema[4].Data[2].visibility=!0,t.FormSchema[4].Data[3].visibility=!0):(t.popupCondition,t.FormSchema[2].Data[0].visibility=!1,t.FormSchema[3].Data[0].visibility=!1,t.FormSchema[4].Data[0].visibility=!1,t.FormSchema[4].Data[1].visibility=!1,t.FormSchema[4].Data[2].visibility=!1,t.FormSchema[4].Data[3].visibility=!1)},onSubmit:function(e){var t=this;t.$refs.AddProduct.validate().then(a=>{if(a){t.isLoading=!0;var i=t.$refs.AddProductForm.ConvertDynamicFormObjToCustomFieldObj(t.FormSchema);i.forEach((e,a)=>{if("type"==e.field_name&&(1==e.field_value?e.field_value=1:e.field_value=2),"create_unique_name_list"==e.field_name&&(1==e.field_value?e.field_value=1:e.field_value=0),"location_id"==e.field_name&&(e.field_value=null==t.TreeValue?0:t.TreeValue),"unit_price"==e.field_name&&(t.FormSchema[2].Data[2].value>0?e.field_value=t.FormSchema[2].Data[2].value:e.field_value=0),"asset_cost"==e.field_name&&(e.field_value=t.FormSchema[2].Data[3].value),"tag_id"===e.field_name){const t=e.field_value;t.forEach(e=>{e.tagId=e.value});const a=t.map(e=>e.tagId).join(",");e.field_value=a}});var o={data:i,moduleCode:"Asset",subModuleCode:"Manage_Product",attachmentData:t.fileMulitpleData.length>0?t.fileMulitpleData:null};h.IsDuplicateAssetCatalog(JSON.stringify(o)).then((function(a){if(a.data.isSave){let i={field_name:"item_code",field_value:a.data.itemCode};o.data.push(i),r["a"].SaveDynamicForm(JSON.stringify(o)).then((function(a){null!=a&&null!=a.data&&"Success"==a.data[0].Status?(t.ShowAlert(t.$t("Product has been Saved Successfully"),"success",t.$t("Alert")),"SaveAndClose"==e.name&&(t.isLoading=!1,t.$emit("close"))):(t.ShowAlert(t.$t("ErrorWhileSaving",[t.$t("Product")]),"danger",!0,t.$t("Alert")),t.isLoading=!1)}))}else t.ShowAlert(t.$t("AlreadyExistRec"),"danger",!0,t.$t("Alert")),t.isLoading=!1}))}})},setFile:function(e){var t=this;for(let a=0;a<e.target.files.length;a++){const i=e.target.files[a];t.file.push(i)}},isDeployProduct(){var e=this;e.FormSchema[3].Data[0].isVisible=!0},GetAssetCost(e,t){var a=this,i=parseFloat(""==a.FormSchema[2].Data[1].value?0:a.FormSchema[2].Data[1].value),o=parseFloat(t);if(t.length>5&&(a.FormSchema[2].Data[2].value=t.slice(0,5),a.ShowAlert(a.$t("The Unit Price field may not be greater than 5 characters"),"failure",a.$t("Alert"))),o>0&&i>0){var n=parseFloat(o)*parseFloat(i);a.FormSchema[2].Data[3].value=n.toFixed(3)}else a.FormSchema[2].Data[3].value="0.000"},GetUnitPrice(e){var t=this,a=parseFloat(""==t.FormSchema[2].Data[1].value?0:t.FormSchema[2].Data[1].value),i=parseFloat(""==t.FormSchema[2].Data[2].value?0:t.FormSchema[2].Data[2].value);if(a>0&&i>0){var o=parseFloat(i)*parseFloat(a);t.FormSchema[2].Data[3].value=o.toFixed(3)}else t.FormSchema[2].Data[3].value="0.000"},UploadFile(e){var t=this;t.fileUploaded=e.target.files[0]},removeTag:function(e){var t=this;t.confirmR(t.$t("ConfirmRemoveTag"),!0,t.$t("Delete"),(function(){var a=t.tagData.findIndex(t=>t.TAG_ID===e);a>-1&&t.tagData.splice(a,1)}))},AddLocation(){var e=this;e.IsDeployment=!0,e.ShowAddLocation=!0},GetLocationByCompanyId:async function(){var e=this;e.LocationData=[];var t="reqForm=assetassignment";await h.GetLocationByCompanyIdAsset(t).then(t=>{e.FindalLocationArray=[],e.LocationData=JSON.parse(t.data).data,"undefined"==typeof e.$route.params.reqForm||"pendingRequest"==e.$route.params.reqForm&&""!=e.GetParentDetails&&null!=e.GetParentDetails?e.TreeValue=null:e.TreeValue=t.data.data[0].COMPANY_LOCATION_ID,e.LocationData.forEach(t=>{var a=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==a.length&&null==t.PARENT_LOCATION_ID){let a=t.COMPANY_LOCATION_ID,i=e.getChildLocation(a,t,e.LocationData);e.FindalLocationArray.push(i)}}),e.options=e.FindalLocationArray})},getChildLocation:function(e,t,a){let i=this,o={};o={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let n=o;var r=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let s=[];return r.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var n=s.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==n.length){var r=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=r&&r.length>0){let o=i.getChildLocation(t,e,a);s.push(o)}else o={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},s.push(o)}}),n.children=s,n},OpenAddTagPopup(){var e=this;e.ShowAddProduct=!0,$("#modelAddProduct").modal("show"),setTimeout((function(){$("#modelAddProduct").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3),e.FromAddProduct=!0,e.IsTagNamePopup=!0},close(){var e=this;"AdvanceSettings"!=e.FromPage&&("setup"==e.popupCondition?(e.$parent.showpopup=!1,e.$parent.GetProgresSetupStatusDetail()):($("#modelAddProduct").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),e.$parent.FetchData(),e.$parent.ShowAddProduct=!1))},closeAddProduct(){var e=this;"setup"==e.popupCondition?e.$parent.showpopup=!1:e.$parent.ShowAddProduct=!1},CloseTagPopup(){var e=this;e.getForm(),e.IsTagNamePopup=!1},async CloseLocationPopup(){var e=this;e.LocationData=[],e.FindalLocationArray=[],await e.GetLocationByCompanyId(),setTimeout((function(){e.HideShowDeployProductFields(!0)}),500),e.isLoading=!1,e.ShowAddLocation=!1},async EnableAssetManagement(){let e="moduleName=Asset&configkey=CanSeeAssetManagement";await h.EnableAssetManagement(e).then(e=>{this.IsEnableAssetManagement=e.data})},OpenAddProductTypePopup(){var e=this;e.FromPage="AddProduct",e.ShowAddProductType=!0},ClosePopupProductType(){var e=this;e.ShowAddProductType=!1,e.getForm()},PreviousButton:function(){var e=this;e.$emit("previousTab")}}},ne=oe,re=(a("9a1f"),Object(f["a"])(ne,ae,ie,!1,null,null,null)),se=re.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),e.DataLoaded?a("dynamic-form",{ref:"updateValues",attrs:{buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-GracePeriod",fn:function(t){t.data;return[a("div",{staticClass:"form-group"},[a("Field",{staticClass:"w-100",attrs:{rules:{required:!0},name:"Grace Period"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("div",{staticClass:"d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.GracePeriod,expression:"GracePeriod"}],class:{"form-control":!0,"is-invalid":i[0]},attrs:{type:"text",name:"GracePeriod"},domProps:{value:e.GracePeriod},on:{keyup:function(t){return e.handleChange(e.GracePeriod)},input:function(t){t.target.composing||(e.GracePeriod=t.target.value)}}}),a("span",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[e._v("Days")])])]),i[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"GracePeriod"}},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)]}},{key:"tgslot-ProductTypeCode",fn:function(t){t.data;return[a("div",{staticClass:"form-group"},[a("div",{staticClass:"d-flex"},[a("a",{attrs:{href:"javascript:;","data-toggle":"tooltip","data-trigger":"click",title:"Please enter the product type code. Else four digit product type code will be generated by system."},on:{click:e.toggleTip}},[a("i",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ProductTypeCode,expression:"ProductTypeCode"}],staticClass:"form-control",attrs:{type:"text",name:"ProductTypeCode",maxlength:4},domProps:{value:e.ProductTypeCode},on:{input:function(t){t.target.composing||(e.ProductTypeCode=t.target.value)}}})])])]}},{key:"tgslot-tblContainer",fn:function(t){t.data;return[e.IsShowCompartments?a("div",{staticClass:"table-responsive"},[a("Form",{ref:"AddProductType"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 m-0",attrs:{id:"tblContainerList"}},[a("thead",{staticClass:"thead-bg",attrs:{id:"divgrid"}},[a("th",{staticStyle:{"min-width":"142px"}},[a("span",{staticClass:"float-left"},[e._v("Compartments")]),a("span",{staticClass:"text-danger float-left"},[e._v("*")])]),a("th",{staticClass:"text-center",staticStyle:{"min-width":"100px"}},[a("span",[e._v("Action")])])]),a("tbody",e._l(e.tableRows,(function(t,i){return a("tr",{key:i,attrs:{id:"datarow"}},[a("td",[a("Field",{attrs:{name:e.$t("CompartmentName"),rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(o){var n=o.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.InputContainervalue,expression:"item.InputContainervalue"}],class:{"form-control":!0,"is-invalid":n[0]},attrs:{id:"container_name_"+i,type:"text",maxlength:"200",placeholder:"Fill the compartment name"},domProps:{value:t.InputContainervalue},on:{input:[function(a){a.target.composing||e.$set(t,"InputContainervalue",a.target.value)},function(t){return e.startValidationTimer(i)}]}}),n[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:e.$t("CompartmentName")}},[e._v(e._s(n[0]))]):e._e()]}}],null,!0)})],1),a("td",[a("a",{staticClass:"round-icon-small btn-danger-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Delete"}},[a("em",{staticClass:"recyclebin fa fa-trash",on:{click:function(t){return e.RemoveContainerRow(i)}}})]),a("a",{staticClass:"add round-icon-small btn-success-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Add"},on:{click:function(t){return e.AddContainerRow()}}},[a("em",{staticClass:"fa fa-plus"})])])])})),0)])])],1):e._e()]}}],null,!1,1083890626)}):e._e()],1)},ce=[],de={props:{popupCondition:{type:Boolean,required:!0},AseetTypeIde:{type:Number,required:!1},FromPage:{type:String,required:!1},tabCount:0,currentTabIndex:0},components:{},data(){return{isLoading:!1,FormSchema:[{layoutType:"triple",groupLayoutType:"single",group_name:"Product Type",group_display_name:this.$t("ItemType"),Data:[{astype:"TextField",label:this.$t("ItemNameType"),name:"ItemNameType",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}},{astype:"SlotField",label:this.$t("ProductTypeCode"),name:"ProductTypeCode",value:"",placeholder:"",validationRules:{max:4}},{astype:"toggleField",label:this.$t("Container"),name:"Container",value:"",placeholder:"",config:{onChange:this.ContainerDeleteConfirm}},{astype:"SlotField",showLabel:!1,label:this.$t("Container"),name:"tblContainer",value:"",placeholder:"",config:{options:[]},visibility:!0}]},{layoutType:"single",groupLayoutType:"single",Data:[{astype:"FileField",showLabel:!0,label:this.$t("AttachItemImage"),name:"AttachItemImage",value:"",placeholder:"",validationRules:"",FieldIndex:0,config:{maxSize:5,accept:[],showSelectedFiles:[{attachmentId:"1",attachmentName:"",attachmentPath:""}],onClickSelectedFiles:this.onClickSelectedFile,onDeleteSelectedFiles:this.onDeleteSelectedFiles,onChange:this.setFile1,showAddIcon:!1,onAddButtonClick:this.AddFileMore,multiple:!1}}]},{layoutType:"Single",groupLayoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:""}]},{layoutType:"four",groupLayoutType:"single",group_name:"Product Categories",group_display_name:this.$t("ProductCategories"),Data:[{astype:"toggleField",label:this.$t("Asset_No"),name:"Asset_No",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Consumable"),name:"Consumable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("License"),name:"License",value:"",placeholder:""},{astype:"toggleField",label:this.$t("MaterialSpareParts"),name:"MaterialSpareParts",value:"",placeholder:""}]},{layoutType:"single",groupLayoutType:"single",Data:[{astype:"MultiSelectField",label:this.$t("Tags"),name:"Tags",value:"",mode:"tag",placeholder:this.$t("Select")+" "+this.$t("Tags"),config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddTagPopup}}]},{layoutType:"four",groupLayoutType:"single",group_name:"Hardware Integration Type",group_display_name:this.$t("HardwareIntegrationType"),Data:[{astype:"toggleField",label:this.$t("Time_n_Attendance"),name:"Time_n_Attendance",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Camera"),name:"Camera",value:"",placeholder:""},{astype:"toggleField",label:this.$t("RFID"),name:"RFID",value:"",placeholder:""},{astype:"toggleField",label:this.$t("GPSTracking"),name:"GPSTracking",value:"",placeholder:""}]},{layoutType:"four",groupLayoutType:"single",group_name:"Action Based Properties",group_display_name:this.$t("ActionBasedProperties"),Data:[{astype:"toggleField",label:this.$t("IsTransferable"),name:"IsTransferable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("IsSelfCheckOut"),name:"IsSelfCheckOut",value:"",placeholder:"",config:{onChange:this.OnIsSelfCheckOut}},{astype:"toggleField",label:this.$t("SelfieEnable"),name:"SelfieEnable",value:"",placeholder:"",visibility:!1},{astype:"toggleField",label:this.$t("EmployeeAcceptance"),name:"EmployeeAcceptance",value:"",placeholder:""},{astype:"toggleField",label:this.$t("EnableTerms"),name:"EnableTerms",value:"",placeholder:""},{astype:"toggleField",label:this.$t("GPS_Enable"),name:"GPS_Enable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Fleet_Management"),name:"Fleet_Management",value:"",placeholder:""},{astype:"toggleField",label:this.$t("PenaltyOnStatus"),name:"PenaltyOnStatus",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnStatus}},{astype:"SelectField",label:this.$t("Status"),name:"AssetReplacementType",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]},visibility:!1},{astype:"toggleField",label:this.$t("PenaltyOnReturnOverdue"),name:"PenaltyOnReturnOverdue",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnReturnOverdue}},{astype:"SlotField",label:this.$t("GracePeriod"),name:"GracePeriod",value:"",placeholder:"",config:{options:[]},visibility:!1,validationRules:{required:!0}}]},{layoutType:"four",groupLayoutType:"single",group_name:"Deployment Properties",group_display_name:this.$t("DeploymentProperties"),Data:[{astype:"ToggleField",label:this.$t("InsurancePolicy"),name:"InsurancePolicy",value:"",placeholder:""},{astype:"ToggleField",label:this.$t("Calibration"),name:"Calibration",value:"",placeholder:""},{astype:"ToggleField",label:this.$t("ItemCost"),name:"ItemCost",value:"",placeholder:""},{astype:"ToggleField",label:this.$t("IsWarranty"),name:"IsWarranty",value:"",placeholder:""},{astype:"ToggleField",label:this.$t("Depreciable"),name:"Depreciable",value:"",placeholder:""}]}],buttons:[{type:"button",class:"btn btn-warning float-left px-4",text:'<i class="fa fa-chevron-left pr-2"></i> '+this.$t("Previous"),isVisible:this.currentTabIndex>0,onClick:this.PreviousButton},{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Next",value:"Save",name:"Save"},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",name:"SaveAndNew",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",name:"SaveAndNext",isVisible:!1}],StatusDDL:[{label:"Active",value:1001},{label:"Inactive",value:1002}],AssetReplacementTypeDDL:[],IsTagNamePopup:!1,FromAddProduct:!1,IsShowCompartments:!1,lbl:!1,tableRows:[],currentInputIndex:0,AssetTypeCode:"",userId:null,companyId:null,DataLoaded:0,TagsArray:[],file:[],file1:[],ShowAddProduct:!1,CompartmentListData:[],Count:0,checkFieldsvalue:!1,TypeData:[],TagsSelectedArray:[],ProductTypeCode:"",validationTimer:null,AllContainerDeletePopup:!1,GracePeriod:""}},created:async function(){var e=this;e.userId=e.GetUserInfo.ID,e.companyId=e.GetUserInfo.Name,await e.GetTagsByModuleI(),await e.BindStatus(),e.AseetTypeIde>0?(await e.GetAssetTagsById(),await e.FetchData()):delete e.FormSchema[1].Data[0].config.showSelectedFiles,await e.GetAllowFileType(),e.DataLoaded=1},methods:{PreviousButton:function(){var e=this;e.$emit("previousTab")},async GetAllowFileType(){await h.GetAllowFileType().then(e=>{if(null!=e.data){const t=e.data.AllowedFileTypes.split(","),a=this.FormSchema[1].Data[0].config.accept;t.forEach(e=>{const t=e.trim().replace(/\./g,"");a.push({fileType:t,iconClass:"fa-file-image-o"})})}})},onDeleteSelectedFiles:function(e){this.$delete(this.FormSchema[1].Data[0].config,"showSelectedFiles")},onClickSelectedFile(e){var t=this;t.isLoading=!0;var a=t.TypeData[0].ATTACHMENT_PATH.split("/")[4]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[5]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[6]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[7],i=t.TypeData[0].ATTACHMENT_PATH.split(".")[5],o=t.TypeData[0].ATTACHMENT_NAME,n="filePath="+a;h.DownloadAttachment(n).then(e=>{if(null!=e.data&&200===e.status){const n=e.data,r=`data:${i};base64,${n}`;var a=document.createElement("a");a.href=r,a.setAttribute("download",o),document.body.appendChild(a),a.click(),t.isLoading=!1}else t.isLoading=!1})},toggleTip(){$('[data-toggle="tooltip"]').tooltip({trigger:"click"}).on("shown.bs.tooltip",(function(){var e=$(this);setTimeout((function(){e.tooltip("hide")}),2e3)}))},onChangeContainer(e,t,a){var i=this;i.FormSchema[0].Data[4].value=a.target._value},handleChange(e){var t=this;if(""!==e.trim()){if(e=parseInt(e,10),isNaN(e))return t.ShowAlert(t.$t("EnterValidNumber"),"warning",t.$t("Alert")),void(t.GracePeriod="");e<1?t.GracePeriod=1:e>365&&(t.GracePeriod=365)}},async OnPenaltyOnStatus(e){var t=this;t.FormSchema[6].Data[8].config.options=[],t.FormSchema[6].Data[8].visibility=!0,1==e?await h.GetAssetItemStatusList().then((function(e){t.AssetReplacementTypeDDL=e.data,t.AssetReplacementTypeDDL.forEach(e=>{t.FormSchema[6].Data[8].config.options.push({name:e.STATUS_NAME,value:e.STATUS_ID})}),t.$refs.updateValues.UpdateKeyValue()})):0==e&&(t.FormSchema[6].Data[8].value="",t.FormSchema[6].Data[8].visibility=!1)},OnIsSelfCheckOut(e){var t=this;1==e?t.FormSchema[6].Data[2].visibility=!0:0==e&&(t.FormSchema[6].Data[2].visibility=!1)},OnPenaltyOnReturnOverdue(e){var t=this;1==e?t.FormSchema[6].Data[10].visibility=!0:0==e&&(t.FormSchema[6].Data[10].visibility=!1)},Skip(){var e=this;e.$parent.NextTab()},AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!0,e.buttons[2].isVisible=!1,e.buttons[3].isVisible=!0,e.buttons[4].isVisible=!1)},OpenAddTagPopup(){var e=this;e.IsTagNamePopup=!0},setFile1:function(e){var t=this;for(let a=0;a<e.target.files.length;a++){const i=e.target.files[a];t.file1.push(i)}},BindStatus(){var e=this;e.StatusDDL.forEach(t=>{e.FormSchema[0].Data[1].config.options.push({name:t.label,value:""+t.value})}),setTimeout(()=>{e.$refs.updateValues.UpdateKeyValue()},500)},onSubmit:function(e,t){var a=this;if(a.buttons[1].class+=" disabled",a.isLoading=!0,a.Count=0,0==e.Asset_No&&0==e.Consumable&&0==e.License&&0==e.MaterialSpareParts?(a.ShowAlert(a.$t("At least one Product category must be selected!"),"failure",a.$t("Alert")),a.Count=1,a.buttons[1].class="btn btn-success"):1==a.IsShowCompartments&&a.tableRows.forEach((e,t)=>{""==e.InputContainervalue&&(a.checkFieldsvalue,a.Count=1)}),0==a.Count){let r={};a.tableRows.forEach((e,t)=>{r={container_Id:0,asset_type_id:a.AseetTypeIde>0?a.AseetTypeIde:0,container_name:e.InputContainervalue,status_id:1001,modified_by:a.userId},a.CompartmentListData.push(r)});let s={};a.AseetTypeIde>0?s.AssetTypeId=a.AseetTypeIde:s.AssetTypeId=0,s.AssetType=e.ItemNameType,s.status_id=""==e.Status?a.FormSchema[0].Data[1].value:e.Status,s.Description=e.Description,s.created_at=null,s.modified_at=null,s.modified_by=a.userId,s.company_id=a.companyId,s.AssetTypeCategory=1==e.Asset_No?1:0,s.IsContainer=1==e.Container?1:0,s.IsSelfCheckOut=1==e.IsSelfCheckOut?1:0,s.IsTransferable=1==e.IsTransferable?1:0,s.IsEnableTerms=1==e.EnableTerms?1:0,s.InsurancePolicy=1==e.InsurancePolicy?1:0,s.AssetTypeCode=a.ProductTypeCode,s.IsAsset=1==e.Asset_No?1:0,s.IsConsumable=1==e.Consumable?1:0,s.IsLicense=1==e.License?1:0,s.IsSpare=1==e.MaterialSpareParts?1:0,s.IsItemCost=1==e.ItemCost?1:0,s.IsDepreciable=1==e.Depreciable?1:0,s.IsCalibration=1==e.Calibration?1:0,s.IsWarranty=1==e.IsWarranty?1:0,s.IsEmployeeAcceptance=1==e.EmployeeAcceptance?1:0,s.IsPenalty=1==e.PenaltyOnStatus?1:0;var i=1==e.PenaltyOnStatus?1:0;s.penalty_type=0==i?null:e.AssetReplacementType,s.IsPenaltyOnReturnOverdue=1==e.PenaltyOnReturnOverdue?1:0;var o=1==e.PenaltyOnReturnOverdue?1:0;s.GracePeriod=0==o?null:a.GracePeriod,s.IsGPSTracking=1==e.GPSTracking?1:0,s.IsFleetManagement=1==e.Fleet_Management?1:0,s.IsTimeAttendance=1==e.Time_n_Attendance?1:0,s.IsCamera=1==e.Camera?1:0,s.IsRFID=1==e.RFID?1:0,s.IsGPS=1==e.GPS_Enable?1:0,s.IsSelfieEnable=1,s.IsSampleData=0,s.container_name="",s.BatchId="",s.AssetTagIds=Array.prototype.map.call(e.Tags,(function(e){return e.value})).join(","),s.CompartmentList=a.CompartmentListData;var n=new FormData;if(1==i&&(null==e.AssetReplacementType||""==e.AssetReplacementType&&null==a.FormSchema[6].Data[8].value||""==a.FormSchema[6].Data[8].value))return a.buttons[1].class="btn btn-success",$('[name="AssetReplacementType"]').focus(),$(".btn-success").focus(),a.isLoading=!1,!1;n.append("postString",JSON.stringify(s)),n.append("Files",a.file1[0]),h.AddProductType(n).then((function(e){"Save"==t&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert(a.$t("FileSizeExceedMsg"),"warning",!0,a.$t("Alert")):"1"==e.data.status?(a.ShowAlert(a.$t("AddProductType"),"success",a.$t("Alert")),a.tabCount>1&&a.$emit("nextTab"),a.CancelButton(),"EditProduct"==a.FromPage&&a.$parent.FetchData()):"2"==e.data.status?(a.ShowAlert(a.$t("UpdatedProductType"),"success",a.$t("Alert")),a.$parent.ClosePopupProductType(),a.$parent.FetchData()):"3"==e.data.status?(a.ShowAlert(a.$t("ProductTypeExist"),"success",a.$t("Alert")),a.$parent.ClosePopupProductType(),a.$parent.FetchData()):"AlreadyExists"==e.data.status?(a.ShowAlert(a.$t("ProductTypeExist"),"warning",a.$t("Alert")),a.CancelButton()):"ValidFileUploadMsg"==e.data.msg?(a.ShowAlert(a.$t("NotAllowedFile"),"warning",a.$t("Alert")),a.CancelButton()):(a.ShowAlert(a.$t("UnknownError"),"failure",a.$t("Alert")),a.CancelButton()),a.buttons[1].class="btn btn-success",a.isLoading=!1)}))}else a.buttons[1].class="btn btn-success",a.isLoading=!1},startValidationTimer(e){clearTimeout(this.validationTimer),this.validationTimer=setTimeout(()=>{this.validateDuplicate(e)},1e3)},validateDuplicate(e){const t=this.tableRows[e].InputContainervalue.trim().toLowerCase(),a=this.tableRows.some((a,i)=>i!==e&&a.InputContainervalue.trim().toLowerCase()===t);a&&(this.ShowAlert("Duplicate "+this.$t("CompartmentName")+" is not allowed","failure",this.$t("Alert")),this.tableRows[e].InputContainervalue="")},AddContainerRow(){var e=this;this.tableRows.length>=10?e.ShowAlert("Maximum number of "+this.$t("Compartments")+" reached. You cannot add more "+this.$t("Compartments")+".","failure",this.$t("Alert")):e.$refs.AddProductType.validate().then(e=>{e&&this.tableRows.push({InputContainervalue:""})})},RemoveContainerRow(e){var t=this;t.confirmR(t.$t("Are you sure you want to delete these record(s)?"),!0,!1,(function(a){1==t.tableRows.length?(t.lbl=!0,t.ShowCompartments(),t.FormSchema[0].Data[3].value=!1,t.tableRows=[]):t.tableRows.splice(e,1)}))},ContainerDeleteConfirm(e){let t=this;0==e&&t.tableRows.length>0?(t.confirmR(t.$t("Are you sure you want to Clear All Compartment record(s)?"),!0,!1,(function(e){t.tableRows=[],t.FormSchema[0].Data[3].value=!1,t.IsShowCompartments=!1})),t.FormSchema[0].Data[3].value=!0):t.ShowCompartments()},ShowCompartments(){var e=this;this.tableRows.length>0?e.lbl=!0:e.lbl=!1,0==e.lbl?(e.IsShowCompartments=!0,this.tableRows.push({InputContainervalue:""}),e.lbl=!0):1==e.lbl&&(e.IsShowCompartments=!1,e.tableRows=[],e.lbl=!1)},CancelButton(){var e=this;("EditProduct"==e.FromPage||"AddProduct"==e.FromPage)&&e.$parent.ClosePopupProductType()},divDialogAddTags(){var e=this;e.FromAddProduct=!1,e.IsTagNamePopup=!0},CloseTagPopup(){var e=this;e.IsTagNamePopup=!1},async GetTagsByModuleI(){var e=this;e.TagsArray=[],e.FormSchema[4].Data[0].config.options=[],await h.GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.FormSchema[4].Data[0].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},async GetAssetTagsById(){var e=this,t=`id=${e.AseetTypeIde}&is_for=ASSET_TYPE`;await h.GetAssetTagsById(t).then(t=>{e.tagsData=JSON.parse(t.data),e.tagsData.forEach((t,a)=>{e.TagsSelectedArray.push({label:t.TAG_NAME,value:t.TAG_ID})}),e.FormSchema[4].Data[0].value=e.TagsSelectedArray})},FetchData(){var e=this;e.isLoading=!0;var t="Id="+e.AseetTypeIde;h.AssetGetById(t).then(t=>{if(null!=t.data)if(t.data.length>0){e.TypeData=t.data,e.FormSchema[0].Data[0].value=e.TypeData[0].ASSET_TYPE,e.FormSchema[0].Data[1].value=e.TypeData[0].STATUS_ID,e.ProductTypeCode=e.TypeData[0].TYPE_CODE,e.FormSchema[0].Data[3].value=1==e.TypeData[0].IS_CONTAINER,1==e.TypeData[0].IS_CONTAINER&&(e.IsShowCompartments=!0,e.TypeData.forEach((t,a)=>{e.tableRows.push({InputContainervalue:t.CONTAINER_NAME})})),null!=e.TypeData[0].ATTACHMENT_PATH&&""!=e.TypeData[0].ATTACHMENT_PATH?(e.FormSchema[1].Data[0].config.showSelectedFiles[0].attachmentPath=e.TypeData[0].ATTACHMENT_PATH,e.FormSchema[1].Data[0].config.showSelectedFiles[0].attachmentName=e.TypeData[0].ATTACHMENT_PATH.split("/")[7]):delete e.FormSchema[1].Data[0].config.showSelectedFiles,e.FormSchema[2].Data[0].value=e.TypeData[0].DESCRIPTION,e.FormSchema[3].Data[0].value=1==e.TypeData[0].IS_ASSET,e.FormSchema[3].Data[1].value=1==e.TypeData[0].IS_CONSUMABLE,e.FormSchema[3].Data[2].value=1==e.TypeData[0].IS_LICENSE,e.FormSchema[3].Data[3].value=1==e.TypeData[0].IS_SPARE,e.FormSchema[5].Data[0].value=1==e.TypeData[0].IS_TIME_N_ATTENDANCE,e.FormSchema[5].Data[1].value=1==e.TypeData[0].IS_CAMERA,e.FormSchema[5].Data[2].value=1==e.TypeData[0].IS_RFID,e.FormSchema[5].Data[3].value=1==e.TypeData[0].IS_GPS_TRACKING,e.FormSchema[6].Data[0].value=1==e.TypeData[0].IS_TRANSFERABLE,e.FormSchema[6].Data[1].value=1==e.TypeData[0].IS_SELF_CHECKOUT;var a=1==e.TypeData[0].IS_SELF_CHECKOUT;1==a?(e.FormSchema[6].Data[2].visibility=!0,e.FormSchema[6].Data[2].value=e.TypeData[0].is_selfie_enable):e.FormSchema[6].Data[2].visibility=!1,e.FormSchema[6].Data[3].value=1==e.TypeData[0].IS_EMPLOYEE_ACCEPTANCE,e.FormSchema[6].Data[4].value=1==e.TypeData[0].IS_ENABLE_TERMS,e.FormSchema[6].Data[5].value=1==e.TypeData[0].IS_GPS,e.FormSchema[6].Data[6].value=1==e.TypeData[0].IS_FLEET_MANAGEMENT,e.FormSchema[6].Data[7].value=1==e.TypeData[0].IS_PENALTY;var i=1==e.TypeData[0].IS_PENALTY;if(1==i){e.FormSchema[6].Data[8].visibility=!0,e.OnPenaltyOnStatus(!0);const t=""!==e.TypeData[0].PENALTY_TYPE&&null!==e.TypeData[0].PENALTY_TYPE?e.TypeData[0].PENALTY_TYPE.includes(",")?e.TypeData[0].PENALTY_TYPE.split(","):e.TypeData[0].PENALTY_TYPE:[],a=t.length>1?t:null;e.FormSchema[6].Data[8].value=a}else e.FormSchema[6].Data[8].visibility=!1;e.FormSchema[6].Data[9].value=1==e.TypeData[0].IS_PENALTY_ON_OVERDUE;var o=1==e.TypeData[0].IS_PENALTY_ON_OVERDUE;1==o?(e.FormSchema[6].Data[10].visibility=!0,e.GracePeriod=e.TypeData[0].GRACE_PERIOD):e.FormSchema[6].Data[10].visibility=!1,e.FormSchema[7].Data[0].value=1==e.TypeData[0].IS_INSURANCE_POLICY,e.FormSchema[7].Data[1].value=1==e.TypeData[0].IS_CALIBRATION,e.FormSchema[7].Data[2].value=1==e.TypeData[0].IS_ITEM_COST,e.FormSchema[7].Data[3].value=1==e.TypeData[0].IS_WARRANTY,e.FormSchema[7].Data[4].value=1==e.TypeData[0].IS_DEPRECIABLE,e.isLoading=!1}else e.TypeData=[],e.isLoading=!1;else e.isLoading=!1})}}},ue=de,pe=(a("6b79"),Object(f["a"])(ue,le,ce,!1,null,null,null)),me=pe.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("dynamic-form",{ref:"validatechain",attrs:{lang:"en",buttons:!1,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),a("div",{staticClass:"row flex-row-reverse mt-3"},[a("div",{staticClass:"col-lg-12 text-right"},[e.currentTabIndex>1?a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" "+e._s(e.$t("Previous")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.SkipButton()}}},[e._v(e._s(e.$t("Skip")))]):e._e(),a("button",{staticClass:"btn btn-success ml-3",attrs:{type:"submit",title:"Save"},on:{click:e.onSubmit}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("SaveAndNext")))])])])],1)},he=[],Se={props:{tabCount:0,currentTabIndex:0},data(){return{isLoading:!1,DataLoaded:0,ApprovalChainId:0,groupList:[],TagsSelectedArray:[],FormSchema:[{layoutType:"Single",Data:[{astype:"TextField",label:this.$t("ApprovalChainName"),name:"ApprovalChainName",value:"",placeholder:"",config:{onChange:this.checkName},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:1001,placeholder:"",validationRules:{required:!0},config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"Inactive"}]}},{astype:"MultiSelectField",label:this.$t("SelectApprovalGroup"),name:"ApprovalGroup",value:"",mode:"tag",placeholder:this.$t("Select"),validationRules:{required:!0},config:{options:[]}}]},{layoutType:"Single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:"",validationRules:{required:!1}}]}],buttons:[{type:"button",class:"btn skip-btn-clr",text:"Skip",onClick:this.Skip},{type:"submit",class:"btn btn-success btnSave",text:"<i class='fa fa-save pr-2'></i>Save & Next"}]}},created:async function(){await this.GetApprovalGroups(),null!=this.$route.params.id&&(this.ApprovalChainId=this.$route.params.id,await this.ManageChain()),this.DataLoaded=1},methods:{onSubmit:function(){var e=this,t={ApprovalChainId:e.ApprovalChainId,ApprovalChainName:e.$refs.validatechain.getPropertyValue("ApprovalChainName","value"),StatusId:e.$refs.validatechain.getPropertyValue("Status","value"),Groups:Array.prototype.map.call(e.$refs.validatechain.getPropertyValue("ApprovalGroup","value"),(function(e){return e.value})).join(","),Description:e.$refs.validatechain.getPropertyValue("Description","value")},a=JSON.stringify(t);h.AddApprovalChain(a).then(t=>{"-1"==t.data||"-2"==t.data?(e.ShowAlert(e.$t("AlreadyExists",[e.$t("Chain")]),"warning",!0,e.$t("Alert")),e.onCancel()):"-3"==t.data?(e.ShowAlert(e.$t("SomethingWentWrong"),"failure",!0,e.$t("Alert")),e.onCancel()):(e.ShowAlert(e.$t("ApprovalChainSuccessfullyAdded"),"success",!0,e.$t("Alert")),e.tabCount>1?(e.$emit("nextTab"),e.$emit("updateProgress",e.currentTabIndex,!0)):e.clearFields())})},GetApprovalGroups:async function(){var e=this;h.GetApprovalGroupByCompanyId().then(t=>{var a=t.data;null!=a&&a.forEach((function(t,a){e.FormSchema[0].Data[2].config.options.push({name:t.APPROVAL_GROUP_NAME,value:""+t.APPROVAL_GROUP_ID})}))})},ManageChain:async function(){var e=this;e.isLoading=!0;var t="id="+this.$route.params.id;await h.GetByChainId(t).then(t=>{var a=JSON.parse(t.data);if(a.length>0){this.FormSchema[0].Data[0].value=a[0].approval_chain_name,this.FormSchema[0].Data[1].value=a[0].status_id,e.groupList=a[0].GROUPS.split(",");var i=[];for(let t=0;t<e.groupList.length-1;t++)i.push(e.groupList[t]);i.forEach(t=>{var a=e.FormSchema[0].Data[2].config.options.find(e=>e.value==t);void 0!=a&&e.TagsSelectedArray.push({label:a.name,value:a.value})}),this.FormSchema[0].Data[2].value=e.TagsSelectedArray,this.FormSchema[1].Data[0].value=a[0].description}}),e.isLoading=!1},onCancel:function(){this.$parent.$parent.$parent.IsshowConfiguration=!1},checkName(e,t){var a=this,i=t.value,o="ApprovalChainName="+i;h.CheckDuplicate(o).then(e=>{1==e.data&&a.FormSchema[0].Data[0].value&&(a.FormSchema[0].Data[0].value="",a.ShowAlert(a.$t("ChainExist"),"warning",!0,a.$t("Alert")),a.FormSchema[0].Data[0].validationRules.required=!0)})},clearFields:function(){var e=this;e.FormSchema[0].Data[0].value="",e.FormSchema[0].Data[1].value="",e.FormSchema[0].Data[2].value="",e.FormSchema[0].Data[3].value="",e.$refs.validatechain.validateForm.reset()},SkipButton:function(){var e=this;e.$emit("nextTab")},PreviousButton:function(){var e=this;e.$emit("previousTab")}}},ge=Se,fe=Object(f["a"])(ge,ve,he,!1,null,null,null),Ce=fe.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("dynamic-form",{ref:"validateGroup",attrs:{lang:"en",buttons:!1,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),a("div",{staticClass:"col-mt-3"},[a("div",{staticClass:"row flex-row-reverse mt-3"},[a("div",{staticClass:"col-lg-12 text-right"},[e.currentTabIndex>1?a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" "+e._s(e.$t("Previous")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.SkipButton()}}},[e._v(e._s(e.$t("Skip")))]):e._e(),a("button",{staticClass:"btn btn-success ml-3",attrs:{type:"submit",title:"Save"},on:{click:e.onSubmit}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("SaveAndNext")))])])])])],1)},ye=[],Ae={props:{tabCount:0,currentTabIndex:0},data(){return{isLoading:!1,DataLoaded:0,ApprovalGroupId:0,UserList:[],TagsSelectedArray:[],FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("ApprovalGroupName"),name:"ApprovalGroupName",value:"",placeholder:"",config:{onChange:this.checkName},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:1001,placeholder:"",validationRules:{required:!0},config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"Inactive"}]}},{astype:"MultiSelectField",label:this.$t("Users"),name:"Users",value:"",mode:"tag",placeholder:this.$t("Select"),validationRules:{required:!0},config:{options:[]}}]},{layoutType:"Single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:""}]}],buttons:[{type:"button",class:"btn skip-btn-clr",text:"Skip",onClick:this.Skip},{type:"submit",class:"btn btn-success btnSave",text:"<i class='fa fa-save pr-2'></i>Save & Next"}]}},created:async function(){await this.GetNotficationUsers(),null!=this.$route.params.id&&(this.ApprovalGroupId=this.$route.params.id,await this.ManageItemsGroup()),this.DataLoaded=1},methods:{onSubmit:function(){var e=this,t={ApprovalGroupId:e.ApprovalGroupId,ApprovalGroupName:e.$refs.validateGroup.getPropertyValue("ApprovalGroupName","value"),Description:e.$refs.validateGroup.getPropertyValue("Description","value"),Users:Array.prototype.map.call(e.$refs.validateGroup.getPropertyValue("Users","value"),(function(e){return e.value})).join(","),StatusId:e.$refs.validateGroup.getPropertyValue("Status","value")},a=JSON.stringify(t);e.$refs.validateGroup.validateForm.validate().then(t=>{t&&h.AddGroup(a).then(t=>{"-1"==t.data||"-2"==t.data?e.ShowAlert(e.$t("AlreadyMapped"),"warning",!0,e.$t("Alert")):"-3"==t.data?e.ShowAlert(e.$t("SomethingWentWrong"),"failure",!0,e.$t("Alert")):(e.ShowAlert(e.$t("ApprovalGroupSuccessfullyAdded"),"success",!0,e.$t("Alert")),e.tabCount>1?(e.$emit("nextTab"),e.$emit("updateProgress",e.currentTabIndex,!0)):e.clearFields())})})},GetNotficationUsers:async function(){var e=this,t="isIncludeLoginUserId=1&approvalGroupIds=&approvalChainIds=&moduleName=APPROVALRULE&DepartmentIds";await h.LoadUsersByCompanyId(t).then(t=>{var a=t.data;null!=a&&a.forEach((function(t,a){e.FormSchema[0].Data[2].config.options.push({name:""+t.USERNAME,value:""+t.USER_ID})}))}),e.FormSchema[0].Data[2].config.options},ManageItemsGroup:async function(){var e=this;e.isLoading=!0;var t="id="+this.$route.params.id;await h.GetById(t).then(t=>{var a=JSON.parse(t.data);if(a.length>0){this.FormSchema[0].Data[0].value=a[0].approval_group_name,this.FormSchema[0].Data[1].value=a[0].status_id,e.UserList=a[0].USERS.split(",");var i=[];for(let t=0;t<e.UserList.length-1;t++)i.push(e.UserList[t]);i.forEach(t=>{var a=e.FormSchema[0].Data[2].config.options.find(e=>e.value==t);void 0!=a&&e.TagsSelectedArray.push({label:a.name,value:a.value})}),this.FormSchema[0].Data[2].value=e.TagsSelectedArray,this.FormSchema[1].Data[0].value=a[0].description}}),e.isLoading=!1},checkName(e,t){var a=this,i=t.value,o="ApprovalGroupName="+i;h.CheckDuplicateGroup(o).then(e=>{1==e.data&&a.FormSchema[0].Data[0].value&&(a.FormSchema[0].Data[0].value="",a.ShowAlert(a.$t("NameExist",[a.$t("Group")]),"warning",!0,a.$t("Alert")),a.FormSchema[0].Data[0].validationRules.required=!0)})},clearFields:function(){var e=this;e.FormSchema[0].Data[0].value="",e.FormSchema[0].Data[1].value="",e.FormSchema[0].Data[2].value="",e.FormSchema[0].Data[3].value="",e.$refs.validateGroup.validateForm.reset()},SkipButton:function(){var e=this;e.$emit("nextTab")},PreviousButton:function(){var e=this;e.$emit("previousTab")}}},De=Ae,Te=Object(f["a"])(De,be,ye,!1,null,null,null),_e=Te.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("dynamic-form",{ref:"validateRule",attrs:{lang:"en",buttons:!1,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-Approval",fn:function(t){var i=t.data;return[a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control",class:""!=i.error?"form-control is-invalid":"form-control",attrs:{maxlength:5,step:"any"},domProps:{value:e.inputValue},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(i.fieldInfo,"value",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:""}},[e._v("Select Approval Chain")]),e._l(e.ApprovalChainList,(function(t){return a("option",{key:t.APPROVAL_CHAIN_ID,domProps:{value:t.APPROVAL_CHAIN_ID}},[e._v(e._s(t.APPROVAL_CHAIN_NAME))])}))],2),""!=i.error?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[e._v(e._s(i.error))]):e._e()])]}},{key:"tgslot-LimitedDuration1",fn:function(t){var i=t.data;return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left mb-2"},[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate  input-group",attrs:{popover:e.popover,name:e.fromDateValue,"minute-increment":5},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.inputValue,n=t.togglePopover;return[a("input",{class:""!=i.error?"form-control is-invalid":"form-control",attrs:{id:"txtFromDate_"+e.pgaction,placeholder:"M/D/YYYY"},domProps:{value:o},on:{click:function(e){return n()}}})]}}],null,!0),model:{value:e.fromDateValue,callback:function(t){e.fromDateValue=t},expression:"fromDateValue"}})],1),""!=i.error?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[e._v(e._s(i.error))]):e._e()]),a("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate  input-group",attrs:{popover:e.popover,name:e.toDateValue,"minute-increment":5},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.inputValue,n=t.togglePopover;return[a("input",{class:""!=i.error?"form-control is-invalid":"form-control",attrs:{id:"txtFromDate_"+e.pgaction,placeholder:"M/D/YYYY"},domProps:{value:o},on:{click:function(e){return n()}}})]}}],null,!0),model:{value:e.toDateValue,callback:function(t){e.toDateValue=t},expression:"toDateValue"}})],1),""!=i.error?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[e._v(e._s(i.error))]):e._e()])])]}}])}),a("div",{staticClass:"row flex-row-reverse mt-3"},[a("div",{staticClass:"col-lg-12 text-right"},[e.currentTabIndex>1?a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" "+e._s(e.$t("Previous")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.SkipButton()}}},[e._v(e._s(e.$t("Skip")))]):e._e(),a("button",{staticClass:"btn btn-success ml-3",attrs:{type:"submit",title:"Save"},on:{click:e.onSubmit}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("SaveAndClose")))])])]),e.IsShowGroup?a("ApprovalGroup",{attrs:{ApprovalchainId:e.ApprovalchainId,ApprovalchainName:e.ApprovalchainName}}):e._e()],1)},Ne=[],xe=a("240d"),we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"900px !important"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("ApprovalChain"))+": "+e._s(this.ChainName)+" ")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.ClosePopup}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"listing OuterMainDiv"},[a("div",{staticClass:"row",staticStyle:{"max-height":"500px","overflow-y":"auto"}},[a("tg-list",{attrs:{IsShowAction:!1,listType:["List"],ModuleName:"Approval",SubModuleCode:"ApprovalRule",IdentityColumn:"APPROVALCHAINGROUPMAPID",ListData:e.GroupData,HeaderData:e.Headers,callbackfunction:e.FetchData,TotalRecords:e.TotalRecords,ListDataCallBackFunction:e.FetchData,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{PagerButtonClick:e.pagerMethod},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["GROUPNAME"==i.column.COLUMN_NAME?[e._v(" "+e._s(i.row.GROUPNAME)+" ")]:e._e(),"USERS"==i.column.COLUMN_NAME?[e._v(" "+e._s(i.row.USERS)+" ")]:e._e(),"APPROVERORDER"==i.column.COLUMN_NAME?[e._v(" "+e._s(i.row.APPROVERORDER)+" ")]:e._e(),"Action"==i.column.COLUMN_NAME?[a("td",{staticClass:"text-center single-action"},[a("div",{staticClass:"cstm-drop-btn"},[a("span",[a("a",{on:{click:function(t){return e.DeleteApprovalGroup(i.row)}}},[a("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-trash text-danger action-icon"})])])])])])]:e._e(),"RankUp"==i.column.COLUMN_NAME&&e.GroupData.length>1?[i.row.APPROVERORDER>1?[a("span",[a("a",{on:{click:function(t){return e.RankUpDown(i.row.APPROVALCHAINGROUPMAPID,"RankUp")}}},[a("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-arrow-up text-primary action-icon down"})])])])]:e._e()]:e._e(),"RankDown"==i.column.COLUMN_NAME&&e.GroupData.length>1?[i.row.APPROVERORDER<e.GroupData.length?[a("span",[a("a",{on:{click:function(t){return e.RankUpDown(i.row.APPROVALCHAINGROUPMAPID,"RankDown")}}},[a("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-arrow-down text-primary action-icon down"})])])])]:e._e()]:e._e()]}}])})],1)])])])])])])])])},Le=[],Ee={props:{ApprovalchainId:{type:String},ApprovalchainName:{type:String}},data(){return{ChainName:"",leftSearchFields:[],TotalRecords:0,listheaderbuttons:[],GroupData:[],IsShowGroup:!1,Headers:[{COLUMN_NAME:"GROUPNAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ApprovalGroupName"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"USERS",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Users"),DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"RankUp",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("RankUp"),DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"RankDown",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("RankDown"),DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"APPROVERORDER",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Order",DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"Action",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Action"),DISPLAY_ORDER:6,settings:{isInSlot:!0}}]}},created:function(){var e=this;e.ChainName=e.ApprovalchainName;e.ApprovalchainId;e.FetchData()},methods:{async FetchData(){var e=this,t="approvalChainId="+e.ApprovalchainId;h.ApprovalGroupListByApprovalCHainId(t).then(t=>{null!=t.data?t.data.length>0?(e.GroupData=t.data,e.noRecord=!1):(e.GroupData=[],e.noRecord=!0,e.TotalRecords=0):(e.noRecord=!0,e.GroupData=[],e.TotalRecords=0),setTimeout((function(){e.CheckBoxBootstrap()}),100)}),e.isLoading=!1},ClosePopup(){var e=this;e.$parent.CloseGroupPopup()},DeleteApprovalGroup(e){var t=this;t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  ",(function(){t.isLoading=!0;var a="id="+e.APPROVALCHAINGROUPMAPID;h.DeleteApprovalGroup(a).then(e=>{"0"==e.data?t.ShowAlert(t.$t("DeletedSuccessfully"),"success",!0,t.$t("Alert")):"-1"==e.data&&t.ShowAlert(t.$t("Unable to delete,approval chain requires at least one group"),"warning",!0,t.$t("Alert")),t.isLoading=!1,t.FetchData()})}))},RankUpDown(e,t){var a=this;a.isLoading=!0;var i=a.ApprovalchainId,o=a.GroupData.findIndex(t=>t.APPROVALCHAINGROUPMAPID===e);if("RankUp"==t)var n=a.GroupData[o-1].APPROVALCHAINGROUPMAPID;else n=a.GroupData[o+1].APPROVALCHAINGROUPMAPID;a.confirmR(a.$t("VerifysequenceofApprovalGroup"),!0,!1,(function(t){var o=`approvalChainId=${i}&approvalChainApprovalGroupMapId1=${e}&approvalChainApprovalGroupMapId2=${n}`;h.SwapApproverOrder(o).then(e=>{var t=[];t=JSON.parse(e.data),0==t[0].Status&&(a.ShowAlert(a.$t("ApprovalChainSuccess"),"success",!0,a.$t("Alert")),a.FetchData()),a.isLoading=!1})})),a.isLoading=!1},commonHeaderButtonClick(e){switch(e.callbackfunction){case"DeleteRule":this.DeleteRule();break;case"AddNewGroup":this.AddNewGroup();break}},actionButtonClick(e,t){},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},renderActions(e){}}},Fe=Ee,Oe=Object(f["a"])(Fe,we,Le,!1,null,null,null),Pe=Oe.exports,$e={props:{tabCount:0,currentTabIndex:0},components:{ApprovalGroup:Pe,TreeSelectField:xe["TreeSelectField"]},data(){return{Usersdata:[],ApprovalchainName:"",ApprovalChainList:[],FormSchema:[{layoutType:"double",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:null,placeholder:"Select Location",disabled:!0,visibility:!1,config:{options:[]},validationRules:{required:!0}},{astype:"TextField",label:this.$t("AuditRuleName"),name:"AuditRule",value:"",placeholder:"",config:{onChange:this.checkRuleName},validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Module"),name:"Module",value:2,placeholder:"",config:{options:[{value:2,name:"Expense"},{value:3,name:"Leave"},{value:4,name:"Timesheet"},{value:5,name:"Attendance"},{value:6,name:"Product"}],onChange:this.OnDeploymentType}},{astype:"SelectField",label:this.$t("Project"),name:"project_name",value:null,placeholder:"",visibility:!0,config:{options:[],onChange:this.GetUserbyProject},validationRules:{required:!0}},{astype:"MultiSelectField",label:"Users",name:"User",value:null,mode:"tag",placeholder:this.$t("Select"),config:{options:[]},validationRules:{required:!0}},{astype:"RadioField",label:this.$t("LimitedDuration"),name:"Limited_Duration",value:0,placeholder:"",visibility:!0,validationRules:{required:!1},config:{options:[{value:1,name:"Yes"},{value:0,name:"No"}],onChange:this.ManageLimtedDuration}},{astype:"SlotField",label:this.$t("LimitedDuration"),name:"LimitedDuration1",value:"",placeholder:"",visibility:!1,validationRules:{required:!0}},{astype:"RadioField",label:this.$t("ApprovalType"),name:"Approvaltype",value:1,placeholder:"",config:{options:[{value:1,name:"Approval Chain"},{value:2,name:"Client "},{value:3,name:"Both"}],onChange:this.OnApprovalType},validationRules:{required:!1}},{astype:"SlotField",label:this.$t("SelectApproval"),name:"Approval",value:"",placeholder:"",validationRules:{required:!0},visibility:!0,config:{onKeyUp:this.GetAssetCost}},{astype:"MultiSelectField",label:this.$t("SelectClient"),name:"Client",value:null,mode:"tag",visibility:!1,placeholder:this.$t("Select"),config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:"Status",name:"Status_value",value:1001,config:{options:[{value:1001,name:"Active"},{value:1002,name:"Inactive"}]},validationRules:{required:!0}},{astype:"RadioField",label:this.$t("UseSequence"),name:"Sequence",value:0,placeholder:"",config:{options:[{value:1,name:"Yes"},{value:0,name:"No"}]},validationRules:{required:!1}}]},{layoutType:"One",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:null,placeholder:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancel}],myObj:[],LocationData:[],StatusData:[{name:"Active",value:1001},{name:"Inactive",value:1002}],projectdata:[],StateData:[],TagData:[],UserList:[],TagsSelectedArray:[],DataLoaded:0,UserId:"",IsShowGroup:!1,ApprovalchainId:null,ApprovalChainList:[],ApprovalID:0,ApprovalRuleId:0,isLoading:!1,ApprovaltypesId:0,ClientData:[],ClientSelectedArray:[],fromDateValue:null,toDateValue:null,Limiteduration:0}},async created(){var e=this;await e.GetLocation(),await e.GetProjectList(),await e.GetApprovalChain(),null!=e.$route.params.id&&(e.ApprovalRuleId=this.$route.params.id,await this.ManageRule(),await this.ManageLimtedDuration(e.Limiteduration),await this.OnDeploymentType(e.ApprovalID),null!=this.ApprovaltypesId&&await this.OnApprovalType(e.ApprovaltypesId))},methods:{onSubmit:function(){var e=this;if(e.isLoading=!0,1==e.$refs.validateRule.getPropertyValue("Approvaltype","value"))var t="ApprovalChain";else if(2==e.$refs.validateRule.getPropertyValue("Approvaltype","value"))t="Client";else t="Both";var a={ApprovalRuleId:0!=e.ApprovalRuleId?e.ApprovalRuleId:0,RuleName:e.$refs.validateRule.getPropertyValue("AuditRule","value"),RuleDescription:e.$refs.validateRule.getPropertyValue("Description","value"),ApprovalTypeId:e.$refs.validateRule.getPropertyValue("Module","value"),IsLimitedDuration:e.$refs.validateRule.getPropertyValue("Limited_Duration","value"),dStart:0==e.$refs.validateRule.getPropertyValue("Limited_Duration","value")?null:e.$options.filters.formatDate(e.fromDateValue),dEnd:0==e.$refs.validateRule.getPropertyValue("Limited_Duration","value")?null:e.$options.filters.formatDate(e.toDateValue),ProjectId:null==e.$refs.validateRule.getPropertyValue("project_name","value")?null:e.$refs.validateRule.getPropertyValue("project_name","value"),Users:null==e.$refs.validateRule.getPropertyValue("User","value")?null:e.$refs.validateRule.getPropertyValue("User","value"),Tasks:null,Clients:null==e.$refs.validateRule.getPropertyValue("Client","value")||void 0==e.$refs.validateRule.getPropertyValue("Client","value")?null:e.$refs.validateRule.getPropertyValue("Description","value"),ClientApprovalType:null==e.$refs.validateRule.getPropertyValue("Approvaltype","value")?null:t,LocationId:null==e.$refs.validateRule.getPropertyValue("Location","value")?null:e.$refs.validateRule.getPropertyValue("Location","value"),ApprovalChainId:e.$refs.validateRule.getPropertyValue("Approval","value"),UseSequence:e.$refs.validateRule.getPropertyValue("Sequence","value"),StatusId:e.$refs.validateRule.getPropertyValue("Status_value","value"),Users:null==e.$refs.validateRule.getPropertyValue("User","value")?null:Array.prototype.map.call(e.$refs.validateRule.getPropertyValue("User","value"),(function(e){return e.value})).join(",")},i=JSON.stringify(a);e.$refs.validateRule.validateForm.validate().then(t=>{t&&h.AddRule(i).then(t=>{"0"==t.data&&(e.ShowAlert(e.$t("SomethingWentWrong"),"failure",!0,e.$t("Alert")),e.onCancel()),"2"==t.data?(e.ShowAlert(e.$t("AlreadyExists",[e.$t("Rule")]),"warning",!0,e.$t("Alert")),e.onCancel()):(e.ShowAlert(e.$t("RuleSuccess"),"success",!0,e.$t("Alert")),e.$emit("updateProgress",e.currentTabIndex,!0),e.onCancel())})}),e.isLoading=!1},ManageRule:async function(){var e=this;e.isLoading=!0;var t="id="+this.$route.params.id;await h.GetRuleById(t).then(async t=>{var a=JSON.parse(t.data);if(e.ApprovalID=a[0].APPROVAL_TYPE_ID,e.Limiteduration=a[0].IS_LIMITED_DURATION,e.ApprovaltypesId="ApprovalChain"==a[0].APPROVAL_TYPE?1:"Client"==a[0].APPROVAL_TYPE?2:"Both"==a[0].APPROVAL_TYPE?3:null,e.Approvaltype,a.length>0){if(this.FormSchema[0].Data[0].value=a[0].LOCATION_ID,this.FormSchema[0].Data[1].value=a[0].RULE_NAME,this.FormSchema[0].Data[2].value=a[0].APPROVAL_TYPE_ID,this.FormSchema[0].Data[3].value=a[0].PROJECT_ID,null!=a[0].PROJECT_ID&&0!=a[0].PROJECT_ID?await e.GetUserbyProject(a[0].PROJECT_ID):await e.GetUsers(),e.UserList=null!=a[0].USERS?a[0].USERS.split(","):a[0].USERS,null!=e.UserList){var i=[];for(let t=0;t<e.UserList.length-1;t++)i.push(e.UserList[t]);i.forEach(t=>{var a=e.projectdata.length>0?e.projectdata.find(e=>e.USER_ID==t):e.Usersdata.find(e=>e.USER_ID==t);void 0!=a&&(void 0!=a.USER_NAME?e.TagsSelectedArray.push({label:a.USER_NAME,value:a.USER_ID.toString()}):e.TagsSelectedArray.push({label:a.USERNAME,value:a.USER_ID.toString()}))}),this.FormSchema[0].Data[4].value=e.TagsSelectedArray}if(this.FormSchema[0].Data[5].value=a[0].IS_LIMITED_DURATION,this.fromDateValue=a[0].DURATION_START,this.toDateValue=a[0].DURATION_END,this.FormSchema[0].Data[7].value="ApprovalChain"==a[0].APPROVAL_TYPE?1:"Client"==a[0].APPROVAL_TYPE?2:"Both"==a[0].APPROVAL_TYPE?3:null,this.FormSchema[0].Data[8].value=a[0].APPROVAL_CHAIN_ID,null!=a[0].PROJECT_ID&&await e.GetClientbyProject(a[0].PROJECT_ID),this.FormSchema[0].Data[9].value=(a[0].CLIENTS,a[0].CLIENTS),e.ClienList=null!=a[0].CLIENTS?a[0].USERS.split(","):a[0].CLIENTS,null!=e.ClienList){var o=[];for(let t=0;t<e.ClientData.length;t++)o.push(e.ClientData[t]);o.forEach(t=>{var a=e.ClientData.find(e=>e.USER_ID==t.USER_ID);e.ClientSelectedArray.push({label:a.USERNAME,value:a.USER_ID})}),this.FormSchema[0].Data[9].value=e.ClientSelectedArray}this.FormSchema[0].Data[10].value=a[0].STATUS_ID,this.FormSchema[0].Data[11].value=a[0].USE_SEQUENCE,this.FormSchema[1].Data[0].value=a[0].RULE_DESCRIPTION}e.isLoading=!1})},GetProjectList:async function(){var e=this,t="userType=CA&IsEncrptedId='no'";h.GetProjectListing(t).then(t=>{var a=t.data;null!=a&&a.forEach((function(t,a){e.FormSchema[0].Data[3].config.options.push({name:""+t.ProjectName,value:""+t.ProjectId})}))})},GetUserbyProject:async function(e,t){var a=this;if(a.FormSchema[0].Data[4].config.options=[],void 0==t)var i=`ProjectId=${e}&ModuleName=APPROVALRULE`;else i=`ProjectId=${t.value}&ModuleName=APPROVALRULE`;await h.GetUsersByProjectId(i).then(i=>{a.projectdata=i.data,null!=a.projectdata&&(a.projectdata.forEach((function(e,t){a.FormSchema[0].Data[4].config.options.push({name:""+e.USER_NAME,value:""+e.USER_ID})})),a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1),void 0!=t&&this.GetClientbyProject(e,t)})},GetClientbyProject:async function(e,t){var a=this,i=void 0!=t?"ProjectId="+t.value:"ProjectId="+e;await h.LoadClientByProjectId(i).then(e=>{a.ClientData=e.data,null!=a.ClientData&&a.ClientData.forEach((function(e,t){a.FormSchema[0].Data[9].config.options.push({name:""+e.USERNAME,value:""+e.USER_ID})}))})},GetUsers:async function(){var e=this;e.FormSchema[0].Data[4].config.options=[];var t="isIncludeLoginUserId=1&approvalGroupIds=&approvalChainIds=&moduleName=APPROVALRULE&DepartmentIds";await h.LoadUsersByCompanyId(t).then(t=>{e.Usersdata=t.data,null!=e.Usersdata&&e.Usersdata.forEach((function(t,a){e.FormSchema[0].Data[4].config.options.push({name:""+t.USERNAME,value:""+t.USER_ID})}))})},GetApprovalChain:async function(){var e=this;h.GetApprovalChainsByCompanyId().then(t=>{e.ApprovalChainList=t.data})},onCancel:function(){this.$parent.$parent.$emit("close")},ShowGroupPopup(e){const t=this.ApprovalChainList.find(t=>t.APPROVAL_CHAIN_ID===e);this.ApprovalchainId=t.APPROVAL_CHAIN_ID,this.ApprovalchainName=t.APPROVAL_CHAIN_NAME,this.IsShowGroup=!0},CloseGroupPopup(){var e=this;e.IsShowGroup=!1},async GetLocation(){var e=this,t="reqForm=";await h.GetLocationByCompanyId(t).then(t=>{e.LocationData=t.data,e.FindalLocationArray=[],e.LocationData.forEach(a=>{var i=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==i.length&&null==a.PARENT_LOCATION_ID){let i=a.COMPANY_LOCATION_ID,o=e.getChildLocation(i,a,t.data);e.FindalLocationArray.push(o)}}),e.FormSchema[0].Data[0].config.options=e.FindalLocationArray})},getChildLocation:function(e,t,a){let i=this,o={};o={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let n=o;var r=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let s=[];return r.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var n=s.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==n.length){var r=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=r&&r.length>0){let o=i.getChildLocation(t,e,a);s.push(o)}else o={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},s.push(o)}}),n.children=s,n},async OnDeploymentType(e,t){var a=this;(void 0!=t?2==t.value:2==e)&&(a.FormSchema[0].Data[4].visibility=!0,a.FormSchema[0].Data[3].visibility=!0,a.FormSchema[0].Data[7].visibility=!0,a.FormSchema[0].Data[0].visibility=!1,a.FormSchema[0].Data[5].visibility=!0,null==this.$route.params.id&&(a.FormSchema[0].Data[4].config.options=[],a.FormSchema[0].Data[3].value="",a.FormSchema[0].Data[3].validationRules.required=!1,a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1)),(void 0!=t?3==t.value:3==e)&&(a.FormSchema[0].Data[4].visibility=!0,a.FormSchema[0].Data[0].visibility=!1,a.FormSchema[0].Data[5].visibility=!0,a.FormSchema[0].Data[9].value="",a.FormSchema[0].Data[3].visibility=!1,a.FormSchema[0].Data[0].value="",null==this.$route.params.id&&(a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1),a.FormSchema[0].Data[7].visibility=!1,await a.GetUsers()),(void 0!=t?4==t.value:4==e)&&(a.FormSchema[0].Data[4].visibility=!0,a.FormSchema[0].Data[3].visibility=!0,a.FormSchema[0].Data[7].visibility=!0,a.FormSchema[0].Data[0].visibility=!1,a.FormSchema[0].Data[5].visibility=!0,null==this.$route.params.id&&(a.FormSchema[0].Data[4].config.options=[],a.FormSchema[0].Data[3].value="",a.FormSchema[0].Data[3].validationRules.required=!1,a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1)),(void 0!=t?5==t.value:5==e)&&(a.FormSchema[0].Data[3].visibility=!1,a.FormSchema[0].Data[7].visibility=!1,a.FormSchema[0].Data[0].visibility=!1,a.FormSchema[0].Data[5].visibility=!0,a.FormSchema[0].Data[9].config.options=[],null==this.$route.params.id&&(a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1),await a.GetUsers()),(void 0!=t?6==t.value:6==e)&&(a.FormSchema[0].Data[3].visibility=!1,a.FormSchema[0].Data[4].visibility=!1,a.FormSchema[0].Data[7].visibility=!0,a.FormSchema[0].Data[5].visibility=!1,a.FormSchema[0].Data[0].visibility=!0,a.FormSchema[0].Data[9].config.options=[]),a.FormSchema[0].Data[9].config.options=[]},OnApprovalType(e,t){var a=this;(void 0!=t?1==t.value:1==e)&&(a.FormSchema[0].Data[8].visibility=!0,a.FormSchema[0].Data[9].visibility=!1),(void 0!=t?2==t.value:2==e)&&(a.FormSchema[0].Data[8].visibility=!1,a.FormSchema[0].Data[9].visibility=!0),(void 0!=t?3==t.value:3==e)&&(this.FormSchema[0].Data[8].visibility=!0,this.FormSchema[0].Data[9].visibility=!0)},ManageLimtedDuration(e,t){(void 0!=t?1==t.value:1==e)&&(this.FormSchema[0].Data[6].visibility=!0),(void 0!=t?0==t.value:0==e)&&(this.FormSchema[0].Data[6].visibility=!1)},checkRuleName(e,t){var a=this,i=t.value,o="RuleName="+i;h.CheckDuplicateRule(o).then(e=>{1==e.data&&a.FormSchema[0].Data[1].value&&(a.FormSchema[0].Data[1].value="",a.ShowAlert(a.$t("RuleExist"),"warning",!0,a.$t("Alert")),a.FormSchema[0].Data[1].validationRules.required=!0)})},SkipButton:function(){var e=this;e.$emit("nextTab")},PreviousButton:function(){var e=this;e.$emit("previousTab")}}},Re=$e,ke=Object(f["a"])(Re,Ie,Ne,!1,null,null,null),Me=ke.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("Form",{ref:"StorageSourceForm",staticClass:"col-12",scopedSlots:e._u([{key:"default",fn:function(t){t.valid,t.errors;return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("AccountType"))+":"),a("span",{staticClass:"mandatory"},[e._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.StorageSource,expression:"StorageSource"}],class:{"form-control":!0},attrs:{placeholder:"Select"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.StorageSource=t.target.multiple?a:a[0]},e.GetRegionList]}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Select")]),e._l(e.StorageSourceList,(function(t,i){return a("option",{key:i,domProps:{value:t.Id}},[e._v(" "+e._s(t.Name)+" ")])}))],2)])]),"Azure"==e.StorageSourceName?a("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("StorageAccount"))+":"),a("span",{staticClass:"mandatory"},[e._v("*")])]),a("Field",{attrs:{rules:{required:!0},name:"Storage Account"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.StorageAccount,expression:"StorageAccount"}],staticClass:"form-control",attrs:{type:"text",id:"StorageAccount"},domProps:{value:e.StorageAccount},on:{keyup:e.SaveBtnDisabled,input:function(t){t.target.composing||(e.StorageAccount=t.target.value)}}}),i[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"StorageAccount",id:"StorageAccount"}},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)]):e._e()]),a("div",{staticClass:"row"},[1!==e.StorageSource?a("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6 "},[a("div",{staticClass:"form-group"},["AWS"==e.StorageSourceName?a("label",[e._v("Access Key:"),a("span",{staticClass:"mandatory"},[e._v("*")])]):a("label",[e._v("Storage Key:"),a("span",{staticClass:"mandatory"},[e._v("*")])]),a("Field",{attrs:{rules:{required:!0},name:"Storage Key"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.StorageKey,expression:"StorageKey"}],staticClass:"form-control",attrs:{type:"text",id:"StorageKey"},domProps:{value:e.StorageKey},on:{keyup:e.SaveBtnDisabled,input:function(t){t.target.composing||(e.StorageKey=t.target.value)}}}),i[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"StorageKey",id:"StorageKey"}},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)]):e._e(),1!==e.StorageSource?a("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6 "},[a("div",{staticClass:"form-group"},["AWS"==e.StorageSourceName?a("label",[e._v("Bucket Name:")]):a("label",[e._v("Blob Link:")]),a("Field",{attrs:{rules:{required:!0},name:"Blob Link"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.BlobLink,expression:"BlobLink"}],staticClass:"form-control",attrs:{type:"text",id:"BlobLink"},domProps:{value:e.BlobLink},on:{keyup:e.SaveBtnDisabled,input:function(t){t.target.composing||(e.BlobLink=t.target.value)}}}),i[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"BlobLink",id:"BlobLink"}},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)]):e._e()]),a("div",{staticClass:"row"},[1!==e.StorageSource?a("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6 "},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("StorageRegion"))+":")]),a("Field",{attrs:{rules:{required:!1},name:"Storage Region"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("select",{directives:[{name:"model",rawName:"v-model",value:e.StorageRegion,expression:"StorageRegion"}],class:{"form-control":!0},attrs:{placeholder:"Select"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.StorageRegion=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Select")]),e._l(e.StorageRegionList,(function(t,i){return a("option",{key:i,domProps:{value:t.display_name}},[e._v(" "+e._s(t.display_name)+" ")])}))],2),i[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"StorageRegion",id:"StorageRegion"}},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)]):e._e(),1!==e.StorageSource?a("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[a("div",{staticClass:"form-group"},["AWS"==e.StorageSourceName?a("label",[e._v(e._s(e.$t("SecretKey"))+":"),a("span",{staticClass:"mandatory"},[e._v("*")])]):a("label",[e._v("Storage Secondary Key:"),a("span",{staticClass:"mandatory"},[e._v("*")])]),a("Field",{attrs:{rules:{required:!0},name:"Storage Secondary Key"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.StorageSecondaryKey,expression:"StorageSecondaryKey"}],staticClass:"form-control",attrs:{type:"text",id:"StorageSecondaryKey"},domProps:{value:e.StorageSecondaryKey},on:{keyup:e.SaveBtnDisabled,input:function(t){t.target.composing||(e.StorageSecondaryKey=t.target.value)}}}),i[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"StorageSecondaryKey",id:"StorageSecondaryKey"}},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)]):e._e()])]}}])}),a("div",{staticClass:"col-12 mt-3"},[a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-12 text-right"},[2==e.StorageSource?a("button",{staticClass:"popupgreenbtn btn btn-warning formbtn widthhalf pr-2",attrs:{title:"Save"},on:{click:function(t){return e.TestCredential()}}},[a("em",{staticClass:"fa fa-key pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("TestCredential")))]):e._e(),e._v("  "),a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.SkipButton()}}},[e._v("Skip")]),e._v("  "),1==e.StorageSource?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",attrs:{title:"Save"},on:{click:function(t){return e.saveStorageSourceconfig()}}},[a("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("SaveAndNext")))]):e._e(),1!==e.StorageSource?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",class:{disabled:void 0==e.StorageKey},attrs:{title:"Save",id:"btnSave"},on:{click:function(t){return e.saveStorageSourceconfig()}}},[a("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("SaveAndNext")))]):e._e()])])])],1)},Ue=[],Be={data(){return{SizeDocStorage:null,RetentionValue:null,FileTypeVaule:"",SizeConfigDataId:null,RetentionConfigDataId:null,FileCongfigDataId:null,StorageAccount:null,BlobLink:null,StorageKey:null,StorageRegion:null,StorageRegionList:[],StorageSecondaryKey:null,StorageSourceList:[],StorageSource:null,StorageSourceName:"",SelectedValue:[],FileTypeValues:"",Options:[],FileTypeData:[{label:"jpg",value:"image/jpg"},{label:"jpeg",value:"image/jpeg"},{label:"png",value:"image/png"},{label:"pdf",value:"application/pdf"},{label:"text",value:"text/plain"},{label:"xls",value:"application/vnd.ms-excel"},{label:"xlsx",value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{label:"doc",value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{label:"docx",value:"application/docx"},{label:"msword",value:"application/msword"}],SetupProgress:0,IsStorageManagementsCopmleted:!1,IsUserStoragesCopmleted:!1,IsClientStoragesCopmleted:!1,IsStorageSoucesCopmleted:!1,IsClientAutoActivated:null,StorageAllocatedPerUser:null,StorageAllocatedPerClient:null,containerName:null,tempStorageKey:null,tempStorageSecondaryKey:null,tempStorageSecondaryAccount:null}},created:function(){this.getfileTypes(),this.GetSourceList(),this.BindFileTypeDDL(),this.GetStorageSetupStatusDetail(),this.getClientConfigValue(),this.containerName=this.GetUserInfo.ContainerName},watch:{StorageSource:function(e,t){var a=this;a.StorageSourceName=a.StorageSourceList.filter(t=>t.Id==e)[0].Name,null!==t&&(a.StorageSecondaryKey=null,a.BlobLink=null,a.StorageKey=null,a.StorageRegion=null,a.StorageAccount=null)}},methods:{getClientConfigValue:function(){var e=this,t="moduleName=Client&keyValue=SendNotificationsToClient";h.GetConfigDataValue(t).then(t=>{e.IsClientAutoActivated=JSON.parse(t.data.ConfigValue)[0].CONFIG_DATA_VALUE})},BindFileTypeDDL:function(){var e=this;e.Options=[],e.FileTypeData.forEach((t,a)=>{e.Options.push({value:t.value,label:t.label})})},SkipButton:function(){var e=this;e.$emit("nextTab")},saveStorageSourceconfig:function(){var e=this;e.$refs.StorageSourceForm.validate().then(t=>{if(t){let t={ACCOUNT_TYPE:e.StorageSource,STORAGE_ACCOUNT:e.StorageAccount,STORAGE_KEY:encodeURIComponent(e.StorageKey),BLOB_LINK:e.BlobLink,STORAGE_REGION:e.StorageRegion,STORAGE_SOURCE_ID:e.StorageSource,STORAGE_SECONDARY_KEY:encodeURIComponent(e.StorageSecondaryKey),STORAGE_ALLOCATED_PER_USER:e.StorageAllocatedPerUser,STORAGE_ALLOCATED_PER_CLIENT:e.StorageAllocatedPerClient};var a=JSON.stringify(t),i="jsonData="+a;h.SaveDocStorageSourceConfigData(i).then(t=>{1==t.data?(this.ShowAlert(this.$t("StorageConfigurationDataUpdatedSuccessfully")),e.GetStorageSetupStatusDetail(),this.$emit("nextTab")):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))})}else e.ShowAlert(e.$t("FillRequiredField"),"failure",!0,e.$t("Alert"))})},SaveBtnDisabled:function(){this.tempStorageKey==this.StorageKey&&this.tempStorageAccount==this.StorageAccount&&this.tempStorageSecondaryKey==this.StorageSecondaryKey?$("#btnSave").removeClass("disabled"):$("#btnSave").addClass("disabled")},TestCredential:function(){var e=this;e.$refs.StorageSourceForm.validate().then(t=>{if(t){var a=`AzureStorageAccount=${e.StorageAccount}&AzureStoragePrimaryKey=${encodeURIComponent(e.StorageKey)}&AzureBlobLink=${e.BlobLink}&container=${e.containerName}`;h.TestCredential(a).then(t=>{"Success"==t.data?(this.ShowAlert(this.$t("CredentialValidateSuccesfully")),$("#btnSave").removeClass("disabled")):e.ShowAlert(e.$t("WrongCredential"),"failure",!0,e.$t("Alert"))})}else e.ShowAlert(e.$t("FillRequiredField"),"failure",!0,e.$t("Alert"))})},getfileTypes:function(){var e=this,t="moduleName=DocStorage&keyValue=SizePerDoc,RetentionDays,DocStorageAllowedFileTypes";h.GetConfigDataValue(t).then(t=>{e.isLoading=!0,e.SizeDocStorage=JSON.parse(t.data.ConfigValue)[0].CONFIG_DATA_VALUE,e.SizeConfigDataId=JSON.parse(t.data.ConfigValue)[0].core_config_id,e.RetentionValue=JSON.parse(t.data.ConfigValue)[1].CONFIG_DATA_VALUE,e.RetentionConfigDataId=JSON.parse(t.data.ConfigValue)[1].core_config_id,e.FileTypeVaule=JSON.parse(t.data.ConfigValue)[2].CONFIG_DATA_VALUE,e.FileCongfigDataId=JSON.parse(t.data.ConfigValue)[2].core_config_id,e.SelectedValue=e.FileTypeVaule.replace(/\'/g,"").split(","),e.isLoading=!1})},GetSourceList:function(){var e=this;h.GetStorageSourceList().then((function(t){if(null!=t.data){var a=JSON.parse(t.data);e.StorageSourceList=a.data,e.GetSourceConfig()}}))},GetRegionList:function(){var e=this,t="sourceType="+e.StorageSource;h.GetStorageRegionList(t).then((function(t){if(null!=t.data){var a=JSON.parse(t.data);null!=a.DATA&&(e.StorageRegionList=a.DATA)}}))},GetSourceConfig:function(){var e=this;h.GetCompanyStorageSourceConfig().then((function(t){if(null!=t.data){var a=JSON.parse(t.data);e.StorageSourceName=a.data[0].AccountType,e.StorageSource=a.data[0].STORAGE_SOURCE_ID,e.GetRegionList(),e.StorageAccount=a.data[0].STORAGE_ACCOUNT,e.tempStorageAccount=a.data[0].STORAGE_ACCOUNT,e.StorageKey=a.data[0].STORAGE_KEY,void 0==e.StorageKey&&$("#btnSave").addClass("disabled"),e.tempStorageKey=a.data[0].STORAGE_KEY,e.BlobLink=a.data[0].BLOB_LINK,e.StorageRegion=a.data[0].STORAGE_REGION,e.StorageSecondaryKey=a.data[0].STORAGE_SECONDARY_KEY,e.tempStorageSecondaryKey=a.data[0].STORAGE_SECONDARY_KEY,e.StorageAllocatedPerUser=a.data[0].STORAGE_ALLOCATED_PER_USER,e.StorageAllocatedPerClient=a.data[0].STORAGE_ALLOCATED_PER_CLIENT}}))},GetStorageSetupStatusDetail:function(){var e=this;h.GetStorageSetupStatusDetail().then((function(t){if(null!=t.data){var a=JSON.parse(t.data);e.SetupProgress=parseInt(a.data[0].TOTAL_PROGRESS),e.$parent.SetupProgress=parseInt(a.data[0].TOTAL_PROGRESS),e.IsStorageManagementsCopmleted=100==parseInt(a.data[0].STORAGE_MANAGEMENT),e.IsUserStoragesCopmleted=100==parseInt(a.data[0].USER_STORAGE),e.IsClientStoragesCopmleted=100==parseInt(a.data[0].CLIENT_STORAGE),e.IsStorageSoucesCopmleted=100==parseInt(a.data[0].STORAGE_SOURCE)}}))}}},ze=Be,Ve=Object(f["a"])(ze,Ge,Ue,!1,null,null,null),je=Ve.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 managestorage p-0"},[a("StorageBar",{attrs:{type:"All"}}),a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("ScreenshotAllocationSpace"))+":")])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 my-4 jslider"},[a("div",{staticClass:"form-group SliderSingle-screens green"},[a("div",{staticClass:"jslider-label jslider-label-to"},[a("span",[e._v(e._s(e.formatBytes(e.docStorageMaxLimit)))])]),a("VueSlider",{attrs:{min:e.minScreenSize,id:"txtStorage",max:e.maxScreenSize,"tooltip-formatter":function(t){return e.formatBytes(t)}},on:{change:function(t){return e.OnSlide("storage")}},model:{value:e.storage,callback:function(t){e.storage=t},expression:"storage"}})],1)]),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("FilesAllocationSpace"))+":")])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 my-4 jslider"},[a("div",{staticClass:"form-group SliderSingle-files yellow"},[a("div",{staticClass:"jslider-label jslider-label-to"},[a("span",[e._v(e._s(e.formatBytes(e.docStorageMaxLimit)))])]),a("VueSlider",{attrs:{min:e.minFileSize,id:"txtFilesAllocation",max:e.maxFileSize,"tooltip-formatter":function(t){return e.formatBytes(t)}},on:{change:function(t){return e.OnSlide("files")}},model:{value:e.filesAllocation,callback:function(t){e.filesAllocation=t},expression:"filesAllocation"}})],1)]),a("div",{staticClass:"col-lg-12 mt-4 mb-2"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("DocStorageAllocationSpace"))+":")])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 my-4 jslider"},[a("div",{staticClass:"form-group SliderSingle-docstorage red"},[a("div",{staticClass:"jslider-label jslider-label-to"},[a("span",[e._v(e._s(e.formatBytes(e.docStorageMaxLimit)))])]),a("VueSlider",{attrs:{min:e.minDocStorage,id:"txtdocStorageAllocation",max:e.maxDocStorage,"tooltip-formatter":function(t){return e.formatBytes(t)}},on:{change:function(t){return e.OnSlide("docstorage")}},model:{value:e.docStorageAllocation,callback:function(t){e.docStorageAllocation=t},expression:"docStorageAllocation"}})],1)]),a("div",{staticClass:"col-lg-12 mt-4 mb-2"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("TransactionSizeAllocationSpace"))+":")])])])]),e._v(" "),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 my-4 jslider"},[a("div",{staticClass:"form-group SliderSingle-transactionSize blue"},[a("div",{staticClass:"jslider-label jslider-label-to"},[a("span",[e._v(e._s(e.formatBytes(e.docStorageMaxLimit)))])]),a("VueSlider",{attrs:{min:e.minTransactionSize,id:"txtTransactionSize",max:e.maxTransactionSize,"tooltip-formatter":function(t){return e.formatBytes(t)}},on:{change:function(t){return e.OnSlide("transactionSize")}},model:{value:e.transactionSize,callback:function(t){e.transactionSize=t},expression:"transactionSize"}})],1)])]),a("div",{staticClass:"row flex-row-reverse mt-3"},[a("div",{staticClass:"col-lg-12 text-right"},[a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" Previous")]),a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.SkipButton()}}},[e._v("Skip")]),a("button",{staticClass:"btn btn-success ml-3",attrs:{id:"update-details",href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveStorageManagement()}}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v("Save And Next")])])])],1)},Je=[],qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[a("div",[a("b-progress",{attrs:{height:"1.5rem",value:"All"==e.type?e.consumed:e.AllowedStorage,max:"All"==e.type?e.total:e.allocated}})],1),a("div",{staticClass:"level_info my-2 d-block float-left w-100",staticStyle:{height:"auto"}},[a("div",{staticClass:"d-flex bd-highlight"},["Doc"==e.type?a("div",{staticClass:"p-2 bd-highlight font-12"},[a("b",{attrs:{id:"divClientStorage pr-1"}},[a("span"),e._v(" "),a("span",{staticClass:"clr-1"},[e._v(" "+e._s(e.AllowedClientStoragePercentage)+"% ("+e._s(e.formatBytes(e.AllowedClientStorage))+")")])]),e._v(" "),a("span",[e._v(e._s(e.$t("AllocatedToClient")))])]):e._e(),"Doc"==e.type?a("div",{staticClass:"p-2 bd-highlight font-12"},[a("b",{attrs:{id:"divConsumendStorage pr-1"}},[a("span"),e._v(" "),a("span",{staticClass:"clr-2"},[e._v(" "+e._s(e.AllowedUserStoragePercentage)+"% ("+e._s(e.formatBytes(e.AllowedUserStorage))+")")])]),e._v(" "),a("span",[e._v(e._s(e.$t("AllocatedToUser")))])]):e._e(),"All"==e.type?a("div",{staticClass:"p-2 bd-highlight font-12"},[e._m(0),a("span",{staticClass:"clr-1 pr-1"},[e._v(e._s(e.ConsumedPercentage)+"% ("+e._s(e.formatBytes(e.consumed))+") ")]),a("span",[e._v(e._s(e.$t("ContainerActualSize")))])]):e._e(),a("div",{staticClass:"p-2 bd-highlight font-12"},[e._m(1),a("span",{staticClass:"clr-3 pr-1"},[e._v(e._s(e.AvailablePercentage)+"% ("+e._s(e.formatBytes(e.AvailableSpace))+") ")]),a("span",[e._v(e._s(e.$t("Available_Storage")))])]),a("div",{staticClass:"ml-auto p-2 bd-highlight font-12"},[e._m(2),a("span",{staticClass:"font-weight-bold pr-1"},[e._v(e._s(e.formatBytes("All"==e.type?e.total:e.allocated))+" ")]),e._v(" "),a("span",[e._v(e._s(e.$t("ContainerMaxLimit")))])])])])])},Ke=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b",{attrs:{id:"divFreeStorage"}},[a("span")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b",{attrs:{id:"divFreeStorage"}},[a("span")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b",{attrs:{id:"divFreeStorage"}},[a("span")])}],He={props:{type:{type:String,required:!0}},data(){return{total:null,consumed:null,allocated:null,AllowedClientStorage:null,AllowedUserStorage:null}},created:function(){var e=this;e.GetStoragedata()},computed:{ConsumedPercentage:{get:function(){return parseFloat(100*this.consumed/this.total).toFixed(0)},set:function(e){}},AllocatedPercentage(){return parseFloat(100*this.allocated/this.total).toFixed(0)},AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AvailablePercentage(){if("All"==this.type){var e=this.total>=this.consumed?this.total-this.consumed:0;return parseFloat(100*e/this.total).toFixed(0)}e=this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0;return parseFloat(100*e/this.allocated).toFixed(0)},AllowedStorage(){var e=this.AllowedClientStorage+this.AllowedUserStorage;return e},AllowedStoragePercentage(){var e=parseFloat(100*(this.AllowedClientStorage+this.AllowedUserStorage)/this.allocated).toFixed(0);return e},AllowedClientStoragePercentage(){var e=parseFloat(100*this.AllowedClientStorage/this.allocated).toFixed(0);return e},AllowedUserStoragePercentage(){var e=parseFloat(100*this.AllowedUserStorage/this.allocated).toFixed(0);return e}},watch:{consumed:function(e){this.ConsumedPercentage=parseFloat(100*this.consumed/this.total).toFixed(0)}},methods:{GetStoragedata:function(){var e=this;if(h.GetStorageReport().then((function(t){e.total=null==t.data[0].CONTAINER_LIMIT||null==t.data[0].CONTAINER_LIMIT?0:t.data[0].CONTAINER_LIMIT,e.consumed=null==t.data[0].CONTAINER_SIZE||void 0==t.data[0].CONTAINER_SIZE?0:t.data[0].CONTAINER_SIZE,e.allocated=null==t.data[0].DOC_STORAGE_MAXLIMIT||void 0==t.data[0].DOC_STORAGE_MAXLIMIT?o:t.data[0].DOC_STORAGE_MAXLIMIT})),"Doc"==e.type){var t="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";h.GetUserStorageDetail(t).then((function(t){var a=JSON.parse(t.data).USERSTORAGEDETAILLIST;e.AllowedClientStorage=0,a.forEach(t=>{null==t.ALLOWED_STORAGE||void 0==t.ALLOWED_STORAGE?(t.ALLOWED_STORAGE=0,e.AllowedClientStorage+=t.ALLOWED_STORAGE):e.AllowedClientStorage+=t.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";h.GetUserStorageDetail(a).then((function(t){var a=JSON.parse(t.data).USERSTORAGEDETAILLIST;e.AllowedUserStorage=0,a.forEach(t=>{"1002"!=t.STATUS_ID&&(null==t.ALLOWED_STORAGE||void 0==t.ALLOWED_STORAGE?(t.ALLOWED_STORAGE=0,e.AllowedUserStorage+=t.ALLOWED_STORAGE):e.AllowedUserStorage+=t.ALLOWED_STORAGE)})}))}e.total=isNaN(e.total)?0:e.total,e.consumed=isNaN(e.consumed)?0:e.consumed,e.allocated=isNaN(e.allocated)?0:e.allocated,e.AllowedClientStorage=isNaN(e.AllowedClientStorage)?0:e.AllowedClientStorage,e.AllowedUserStorage=isNaN(e.AllowedUserStorage)?0:e.AllowedUserStorage},formatBytes:function(e,t=!1,a=2){if(!+e)return"0 Bytes";const i=1024,o=a<0?0:a,n=["MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(i));return t?parseFloat((e/Math.pow(i,r)).toFixed(o)):`${parseFloat((e/Math.pow(i,r)).toFixed(o))} ${n[r]}`}}},We=He,Ze=Object(f["a"])(We,qe,Ke,!1,null,null,null),Xe=Ze.exports,Qe={components:{StorageBar:Xe},data(){return{isLoading:!1,storage:null,filesAllocation:null,filesMaxLimit:null,docStorageAllocation:null,transactionSize:null,docStorageMaxLimit:null,screenshotSize:null,screenshotCount:null,fileSize:null,fileCount:null,docStorageAssigned:null,docStorageUsed:null,transactionTotalSize:null,containerSize:null,screenCount:null,progressBarMinValue:20,progressBarMaxValue:100,ContainerPercentage:null,storageData:null,filesAllocationData:null,docStorageAllocationData:null,transactionSizeData:null,availableSpace:null,containerdata:[],minScreenSize:0,minFileSize:0,minDocStorage:0,minTransactionSize:0,CurrentScreenSize:0,CurrentFileSize:0,CurrentDocStorageSize:0,CurrentTransactionSize:0,maxScreenSize:0,maxFileSize:0,maxDocStorage:0,maxTransactionSize:0}},created:function(){var e=this;e.GetCompanyContainerDetails()},watch:{containerSize:function(e){this.ContainerPercentage=parseFloat(100*e/this.docStorageMaxLimit).toFixed(0)},docStorageMaxLimit:function(e){var t=this;t.maxScreenSize=e-t.minFileSize-t.minDocStorage-t.minTransactionSize,t.maxFileSize=e-t.minScreenSize-t.minDocStorage-t.minTransactionSize,t.maxDocStorage=e-t.minFileSize-t.minScreenSize-t.minTransactionSize,t.maxTransactionSize=e-t.minFileSize-t.minDocStorage-t.minScreenSize}},methods:{GetCompanyContainerDetails:function(){var e=this;e.isLoading=!0,h.GetCompanyContainerDetails().then((function(t){null!=t.data.data&&(e.containerdata=t.data.data[0],e.minScreenSize=Math.round(parseFloat(e.containerdata.SCREENSHOT_SIZE)),e.minFileSize=Math.round(parseFloat(e.containerdata.FILE_SIZE)),e.minDocStorage=Math.round(parseFloat(e.containerdata.DOC_STORAGE_ASSIGED)),e.minTransactionSize=Math.round(parseFloat(e.containerdata.TRANSACTION_TOTAL_SIZE)),e.GetStoragedata(),e.isLoading=!1)}))},AllocateSpaceSlider:function(e){var t=this;t.minScreenSize=Math.round(parseFloat(t.containerdata.SCREENSHOT_SIZE)),t.minFileSize=Math.round(parseFloat(t.containerdata.FILE_SIZE)),t.minDocStorage=Math.round(parseFloat(t.containerdata.DOC_STORAGE_ASSIGED)),t.minTransactionSize=Math.round(parseFloat(t.containerdata.TRANSACTION_TOTAL_SIZE)),t.CurrentScreenSize=Math.round(parseFloat(t.containerdata.SCREEN_MAXLIMIT)),t.CurrentFileSize=Math.round(parseFloat(t.containerdata.FILE_MAXLIMIT)),t.CurrentDocStorageSize=Math.round(parseFloat(t.containerdata.DOC_STORAGE_MAXLIMIT)),t.CurrentTransactionSize=Math.round(parseFloat(t.containerdata.TRANSACTION_SIZE_LIMIT));var a=$("#txtStorage")[0].innerText,i=$("#txtFilesAllocation")[0].innerText,o=$("#txtdocStorageAllocation")[0].innerText,n=$("#txtTransactionSize")[0].innerText;if("storage"==e){t.availableSpace=t.docStorageMaxLimit-a,t.availableSpace<parseInt(t.minFileSize)+parseInt(t.minDocStorage)+parseInt(t.minTransactionSize)&&(t.availableSpace=parseInt(t.minFileSize)+parseInt(t.minDocStorage)+parseInt(t.minTransactionSize),a=Math.abs(t.docStorageMaxLimit-t.availableSpace));var r=t.CurrentScreenSize;if(r<t.StorageValues)for(var s=1;s<=t.StorageValues-r;s++)i>t.minFileSize&&i>=0?i-=1:o>t.minDocStorage&&o>0?o-=1:n-=1;else{var l=t.availableSpace-(parseInt(i)+parseInt(o)+parseInt(n)),c=Math.round(l/100*30);i=parseInt(i)+parseInt(c),o=parseInt(o)+parseInt(c),n=parseInt(n)+(l-2*parseInt(c))}t.filesAllocation=i,t.docStorageAllocation=o,t.transactionSize=n}else if("files"==e){t.availableSpace=t.docStorageMaxLimit-i,t.availableSpace<parseInt(t.minScreenSize)+parseInt(t.minDocStorage)+parseInt(t.minTransactionSize)&&(t.availableSpace=parseInt(t.minScreenSize)+parseInt(t.minDocStorage)+parseInt(t.minTransactionSize),t.docStorageMaxLimit=Math.abs(t.docStorageMaxLimit-t.availableSpace));var d=t.CurrentFileSize;if(d<i)for(s=1;s<=i-d;s++)o>t.minDocStorage&&o>=0?o-=1:n>t.minTransactionSize&&n>0?n-=1:a-=1;else{var u=t.availableSpace-(parseInt(a)+parseInt(o)+parseInt(n));c=Math.round(u/100*30);a=parseInt(a)+parseInt(c),o=parseInt(o)+parseInt(c),n=parseInt(n)+(u-2*parseInt(c))}t.storage=a,t.docStorageAllocation=o,t.transactionSize=n}else if("docstorage"==e){t.availableSpace=t.docStorageMaxLimit-o,t.availableSpace<parseInt(t.minScreenSize)+parseInt(t.minFileSize)+parseInt(t.minTransactionSize)&&(t.availableSpace=parseInt(t.minScreenSize)+parseInt(t.minFileSize)+parseInt(t.minTransactionSize),t.docStorageMaxLimit=Math.abs(t.docStorageMaxLimit-t.availableSpace));var p=t.CurrentDocStorageSize;if(p<o)for(s=1;s<=o-p;s++)n>t.minTransactionSize&&n>=0?n-=1:a>t.minScreenSize&&a>0?a-=1:i-=1;else{var m=t.availableSpace-(parseInt(a)+parseInt(i)+parseInt(n));c=Math.round(m/100*30);a=parseInt(a)+parseInt(c),i=parseInt(i)+parseInt(c),n=parseInt(n)+(m-2*parseInt(c))}t.storage=a,t.filesAllocation=i,t.transactionSize=n}else if("transactionSize"==e){t.availableSpace=t.docStorageMaxLimit-n,t.availableSpace<parseInt(t.minScreenSize)+parseInt(t.minFileSize)+parseInt(t.minDocStorage)&&(t.availableSpace=parseInt(t.minScreenSize)+parseInt(t.minFileSize)+parseInt(t.minDocStorage),t.docStorageMaxLimit=Math.abs(t.docStorageMaxLimit-t.availableSpace));var v=t.CurrentTransactionSize;if(v<n)for(s=1;s<=n-v;s++)a>t.minScreenSize&&a>=0?a-=1:i>t.minFileSize&&i>0?i-=1:o-=1;else{var h=t.availableSpace-(parseInt(a)+parseInt(i)+parseInt(o));c=Math.round(h/100*30);a=parseInt(a)+parseInt(c),i=parseInt(i)+parseInt(c),o=parseInt(o)+(h-2*parseInt(c))}t.storage=a,t.filesAllocation=i,t.docStorageAllocation=o}},OnSlide:function(e){var t=this;t.minScreenSize=Math.round(parseFloat(t.containerdata.SCREENSHOT_SIZE)),t.minFileSize=Math.round(parseFloat(t.containerdata.FILE_SIZE)),t.minDocStorage=Math.round(parseFloat(t.containerdata.DOC_STORAGE_ASSIGED)),t.minTransactionSize=Math.round(parseFloat(t.containerdata.TRANSACTION_TOTAL_SIZE)),t.CurrentScreenSize=Math.round(parseFloat(t.storage)),t.CurrentFileSize=Math.round(parseFloat(t.filesAllocation)),t.CurrentDocStorageSize=Math.round(parseFloat(t.docStorageAllocation)),t.CurrentTransactionSize=Math.round(parseFloat(t.transactionSize));var a=t.CurrentScreenSize-t.minScreenSize,i=t.CurrentFileSize-t.minFileSize,o=t.CurrentDocStorageSize-t.minDocStorage,n=t.CurrentTransactionSize-t.minTransactionSize,r=0;"storage"==e?(t.CurrentScreenSize>t.docStorageMaxLimit-t.minFileSize-t.minDocStorage-t.minTransactionSize&&(t.storage=t.docStorageMaxLimit-t.minFileSize-t.minDocStorage-t.minTransactionSize,t.CurrentScreenSize=Math.round(parseFloat(t.storage))),t.docStorageMaxLimit-t.storage-t.filesAllocation-t.docStorageAllocation-t.transactionSize<0&&(r=t.storage+t.filesAllocation+t.docStorageAllocation+t.transactionSize-t.docStorageMaxLimit),r>i?(r-=i,t.filesAllocation=t.filesAllocation-i):(t.filesAllocation=t.filesAllocation-r,r=0),r>0&&(r>o?(r-=o,t.docStorageAllocation=t.docStorageAllocation-o):(t.docStorageAllocation=t.docStorageAllocation-r,r=0),r>0&&(r>n?(r-=n,t.vm.transactionSize=t.transactionSize-n):(t.transactionSize=t.transactionSize-r,r=0))),t.storage=t.docStorageMaxLimit-t.filesAllocation-t.docStorageAllocation-t.transactionSize-r):"files"==e?(t.CurrentFileSize>t.docStorageMaxLimit-t.minScreenSize-t.minDocStorage-t.minTransactionSize&&(t.filesAllocation=t.docStorageMaxLimit-t.minScreenSize-t.minDocStorage-t.minTransactionSize,t.CurrentFileSize=Math.round(parseFloat(t.filesAllocation))),t.docStorageMaxLimit-t.storage-t.filesAllocation-t.docStorageAllocation-t.transactionSize<0&&(r=t.storage+t.filesAllocation+t.docStorageAllocation+t.transactionSize-t.docStorageMaxLimit),r>a?(r-=a,t.storage=t.storage-a):(t.storage=t.storage-r,r=0),r>0&&(r>o?(r-=o,t.docStorageAllocation=t.docStorageAllocation-o):(t.docStorageAllocation=t.docStorageAllocation-r,r=0),r>0&&(r>n?(r-=n,t.transactionSize=t.transactionSize-n):(t.transactionSize=t.transactionSize-r,r=0))),t.filesAllocation=t.docStorageMaxLimit-t.storage-t.docStorageAllocation-t.transactionSize-r):"docstorage"==e?(t.CurrentDocStorageSize>t.docStorageMaxLimit-t.minScreenSize-t.minFileSize-t.minTransactionSize&&(t.docStorageAllocation=t.docStorageMaxLimit-t.minScreenSize-t.minFileSize-t.minTransactionSize,t.CurrentDocStorageSize=Math.round(parseFloat(t.docStorageAllocation))),t.docStorageMaxLimit-t.storage-t.filesAllocation-t.docStorageAllocation-t.transactionSize<0&&(r=t.storage+t.filesAllocation+t.docStorageAllocation+t.transactionSize-t.docStorageMaxLimit),r>a?(r-=a,t.storage=t.storage-a):(t.storage=t.storage-r,r=0),r>0&&(r>i?(r-=i,t.filesAllocation=t.filesAllocation-i):(t.filesAllocation=t.filesAllocation-r,r=0),r>0&&(r>n?(r-=n,t.vm.transactionSize=t.transactionSize-n):(t.transactionSize=t.transactionSize-r,r=0))),t.docStorageAllocation=t.docStorageMaxLimit-t.storage-t.filesAllocation-t.transactionSize-r):"transactionSize"==e&&(t.CurrentTransactionSize>t.docStorageMaxLimit-t.minScreenSize-t.minDocStorage-t.minFileSize&&(t.transactionSize=t.docStorageMaxLimit-t.minScreenSize-t.minFileSize-t.minDocStorage,t.CurrentTransactionSize=Math.round(parseFloat(t.transactionSize))),t.docStorageMaxLimit-t.storage-t.filesAllocation-t.docStorageAllocation-t.transactionSize<0&&(r=t.storage+t.filesAllocation+t.docStorageAllocation+t.transactionSize-t.docStorageMaxLimit),r>a?(r-=a,t.storage=t.storage-a):(t.storage=t.storage-r,r=0),r>0&&(r>i?(r-=i,t.filesAllocation=t.filesAllocation-i):(t.filesAllocation=t.filesAllocation-r,r=0),r>0&&(r>o?(r-=o,t.docStorageAllocation=t.docStorageAllocation-o):(t.docStorageAllocation=t.docStorageAllocation-r,r=0))),t.transactionSize=t.docStorageMaxLimit-t.storage-t.filesAllocation-t.docStorageAllocation-r)},GetStoragedata:function(){var e=this;h.GetStorageReport().then((function(t){e.isLoading=!0,e.storage=t.data[0].SCREEN_MAXLIMIT,e.filesAllocation=t.data[0].FILE_MAXLIMIT,e.GetScreenCount(e.filesAllocation),e.docStorageAllocation=t.data[0].DOC_STORAGE_MAXLIMIT,e.transactionSize=t.data[0].TRANSACTION_SIZE_LIMIT,e.docStorageMaxLimit=t.data[0].CONTAINER_LIMIT,e.screenshotSize=t.data[0].SCREENSHOT_SIZE,e.screenshotCount=t.data[0].SCREENSHOT_COUNT,e.fileSize=t.data[0].FILE_SIZE,e.fileCount=t.data[0].FILE_COUNT,e.docStorageAssigned=t.data[0].DOC_STORAGE_ASSIGED,e.docStorageUsed=t.data[0].DOC_STORAGE_USED,e.transactionTotalSize=t.data[0].TRANSACTION_TOTAL_SIZE,e.containerSize=t.data[0].CONTAINER_SIZE,e.UsedScreenshotSpace=t.data[0].SCREENSHOT_COUNT,e.UsedFileSpace=t.data[0].FILE_SIZE,e.UsedDocStorageSpace=t.data[0].DOC_STORAGE_USED,e.UsedTransactionSpace=t.data[0].TRANSACTION_TOTAL_SIZE,e.minScreenSize=Math.round(parseFloat(e.containerdata.SCREENSHOT_SIZE)),e.minFileSize=Math.round(parseFloat(e.containerdata.FILE_SIZE)),e.minDocStorage=Math.round(parseFloat(e.containerdata.DOC_STORAGE_ASSIGED)),e.minTransactionSize=Math.round(parseFloat(e.containerdata.TRANSACTION_TOTAL_SIZE)),e.isLoading=!1}))},GetScreenCount:function(e){var t=this,a=parseFloat(70.5,10)+parseFloat(5.8,10);t.screenCount=Math.round(1024*e/a)},SkipButton:function(){var e=this;e.$emit("nextTab")},PreviousButton:function(){var e=this;e.$emit("previousTab")},SaveStorageManagement:function(){var e=this,t=`maxFileSize=${e.filesAllocation}&maxScreenSize=${e.storage}&maxDocSize=${e.docStorageAllocation}&maxTransactionSize=${e.transactionSize}`;e.isLoading=!0,h.SaveContainerDetails(t).then((function(t){0==t.data&&(e.ShowAlert("Storage has been saved succesfully","Success"),e.GetStoragedata(),e.$emit("nextTab"),e.isLoading=!1)}))},formatBytes:function(e,t=!1,a=2){if(!+e)return"0 Bytes";const i=1024,o=a<0?0:a,n=["MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(i));return t?parseFloat((e/Math.pow(i,r)).toFixed(o)):`${parseFloat((e/Math.pow(i,r)).toFixed(o))} ${n[r]}`}}},et=Qe,tt=(a("95d9"),Object(f["a"])(et,Ye,Je,!1,null,null,null)),at=tt.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("StorageBar",{attrs:{type:"Doc"}}),a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[a("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[a("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(t){return e.onChange()}}})]),a("th",[a("span",[e._v(e._s(e.$t("ClientName")))])]),a("th",[a("span",[e._v(e._s(e.$t("Email")))])]),a("th",[a("span",[e._v(e._s(e.$t("Status")))])]),a("th",[a("span",[e._v(e._s(e.$t("ConsumedStoarage"))+" (MB)")])]),a("th",[a("span",[e._v(e._s(e.$t("AllocatedStorage"))+" (MB)")])]),a("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[a("span",[e._v(e._s(e.$t("Action")))])])])]),a("tbody",[e._l(e.UserData,(function(t,i){return a("tr",{key:i},[a("td",{staticClass:"text-center"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{staticClass:"chkItems custom-control-input",attrs:{id:t.USER_ID,type:"checkbox"},domProps:{value:t.USER_ID},on:{change:function(t){return e.onChange(t)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:t.USER_ID,type:"checkbox"}})])]),a("td",[a("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(t.USER_NAME)+" ")])]),a("td",[a("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(t.EMAIL_ID)+" ")])]),a("td",[a("a",{staticClass:"inactive-disabled"},["1001"==t.STATUS_ID?a("span",{staticClass:"fullPaid btn d-inline-block  text-center text-truncate btn-success w-80",attrs:{title:"Active"}},[e._v(" Active")]):e._e(),"1084"==t.STATUS_ID?a("span",{staticClass:"sent bg-secondary btn d-inline-block text-center text-truncate text-white w-80",attrs:{title:"Approved"}},[e._v(" Approved")]):e._e(),"Rejected"==t.STATUS_ID?a("span",{staticClass:"stop btn d-inline-block  text-center text-truncate btn-danger w-80",attrs:{title:"Rejected"}},[e._v(" Rejected")]):e._e(),"1003"==t.STATUS_ID?a("span",{staticClass:"stop px-2 bg-primary btn d-inline-block  text-center text-truncate w-80",attrs:{title:"Deleted"}},[e._v(" Deleted")]):e._e(),"1002"==t.STATUS_ID?a("span",{staticClass:"fullPaid btn d-inline-block  text-center text-truncate btn-danger w-80",attrs:{title:"Inactive"}},[e._v("Inactive")]):e._e(),"1005"==t.STATUS_ID?a("span",{staticClass:"fullPaid btn d-inline-block  text-center text-truncate btn-secondary w-80",attrs:{title:"Pending"}},[e._v(" Pending")]):e._e(),"ActivationAwaited"==t.STATUS_ID?a("span",{staticClass:"fullPaid btn d-inline-block  text-center text-truncate btn-warning w-80",attrs:{title:"ActivationAwaited"}},[e._v(" ActivationAwaited")]):e._e()])]),a("td",[a("span",{staticClass:"text-right text-overflow-dynamic-container"},[e._v(" "+e._s(t.CONSUMED_STROAGE)+" ")])]),a("td",[a("span",{staticClass:"text-overflow-dynamic-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ALLOWED_STORAGE,expression:"item.ALLOWED_STORAGE"}],staticClass:"maxAllowedStorage  form-control text-right",attrs:{type:"text","asp-for":"item.MaxStorage",id:"idMaxStorage"+t.USER_ID,step:"0.01",maxlength:"13",disabled:"disabled"},domProps:{value:t.ALLOWED_STORAGE},on:{input:function(a){a.target.composing||e.$set(t,"ALLOWED_STORAGE",a.target.value)}}})])]),a("td",{staticClass:"text-center single-action"},[e.hideEditIcon?a("a",{staticClass:"aEdit font-18",attrs:{title:"Edit",id:"idEdit"+t.USER_ID},on:{click:function(a){return e.editAllowedStorage(t.USER_ID)}}},[a("i",{staticClass:"fa fa-pencil text-success action-icon "})]):e._e(),a("div",{staticStyle:{display:"none"},attrs:{id:"divAction"+t.USER_ID}},[a("a",{staticClass:"aCancel mr-2 font-18",attrs:{id:"idCancel_"+t.USER_ID,value:t.USER_ID,title:"Cancel",href:"javascript:;"},on:{click:function(a){return e.CancelAction(t.USER_ID,t.ALLOWED_STORAGE)}}},[a("i",{staticClass:"fa fa-times-circle text-danger action-icon"})]),a("a",{staticClass:"aSave font-18",attrs:{title:"Save",value:t.USER_ID,id:"idSave_"+t.USER_ID,href:"javascript:;"},on:{click:function(a){return e.SaveData(t.USER_ID,t.ALLOWED_STORAGE,t.CONSUMED_STROAGE)}}},[a("i",{staticClass:"fa fa-save text-primary action-icon"})])])])])})),0==e.NoRecordLength?a("tr",[a("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v("No Record Found")])]):e._e(),e.NoRecordLength>0?a("tr",[a("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"2"}},[e._v("Total")]),a("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"4"}},[e._v(e._s(e.totalConsumedStorage)+" MB ")]),a("td",{staticClass:" text-right fr font-weight-bold"},[e._v(e._s(e.totalAllowedStorage)+" MB")])]):e._e()],2)])])]),a("div",{staticClass:"col-lg-12 text-right px-0 mt-3 float-right"},[a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" Previous")]),a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.SkipButton()}}},[e._v("Skip")]),a("button",{staticClass:"btn btn-success ml-3",attrs:{id:"update-details",href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveandNext()}}},[e._v("Save And Next "),a("i",{staticClass:"fa fa-angle-double-right pl-1",attrs:{"aria-hidden":"true"}})])])],1)},ot=[],nt={components:{StorageBar:Xe},data(){return{isLoading:!1,UserData:[],DepartmentData:[],designationData:[],userStorageDetailSummary:[],pageNo:1,searchCondition:null,sortExp:null,sortBy:null,pageSize:10,totalRecords:"",dropDivShow:!1,showByNameDiv:!1,showByConsumedDiv:!1,divDesignationShow:!1,hideEditIcon:!0,isAllocatedSpaceOpen:!1,UserStorageValue:null,UserId:null,saveStorage:null,StorageValue:null,jsonobj:[],JSONSearchData:[],departmentList:null,designationList:null,txtSearchUserName:"",txtConsumedStorage:"",userFilterData:[],CheckIfExist:[],jsonFilteredData:[],label:!1,totalConsumedStorage:0,totalAllowedStorage:0,NoRecordLength:0,containerSize:null,docStorageMaxLimit:null,AllowedClientStorage:null,AllowedUserStorage:null,total:null,consumed:null,allocated:null,jsonObjData:[]}},created(){this.FetchData(),this.GetStoragedata()},computed:{AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AllowedStorage(){var e=this.AllowedClientStorage+this.AllowedUserStorage;return e},CalculateTotalAllowedStorage(){}},methods:{GetStoragedata:function(){var e=this;h.GetStorageReport().then((function(t){e.total=t.data[0].CONTAINER_LIMIT,e.consumed=t.data[0].CONTAINER_SIZE,e.allocated=t.data[0].DOC_STORAGE_MAXLIMIT}));var t="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";h.GetUserStorageDetail(t).then((function(t){var a=JSON.parse(t.data).USERSTORAGEDETAILLIST;e.AllowedClientStorage=0,a.forEach(t=>{e.AllowedClientStorage+=t.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";h.GetUserStorageDetail(a).then((function(t){var a=JSON.parse(t.data).USERSTORAGEDETAILLIST;e.AllowedUserStorage=0,a.forEach(t=>{e.AllowedUserStorage+=t.ALLOWED_STORAGE})}))},validate:function(){var e=this,t=e.AllowedClientStorage,a=(e.AllowedUserStorage,e.AvailableSpace),i=e.totalAllowedStorage,o=t+a;return!(o<i)},SkipButton:function(){var e=this;e.$emit("nextTab")},SaveandNext:function(){var e=this;e.jsonObjData=[];new FormData;if(0!=$("#tblFileList tr").length){var t=`pageNo=${e.pageNo}&pageSize=${e.pageSize}&sortBy=&sortExp=&userTypeIds=4`;h.GetUserStorageDetail(t).then((function(t){e.UserData=JSON.parse(t.data).USERSTORAGEDETAILLIST;var a=!1;null!=e.UserData&&e.UserData.forEach((t,i)=>{isNaN(t.ALLOWED_STORAGE)&&(a=!0);let o={DataId:t.USER_ID,DataValue:t.ALLOWED_STORAGE};e.jsonObjData.push(o)});let i=[{refCode:"UserSetting",moduleName:"DocStorage"}];var o="configData",n="conditionData",r="[{"+JSON.stringify(o)+":"+JSON.stringify(e.jsonObjData)+", "+JSON.stringify(n)+":"+JSON.stringify(i)+"}]";if(1==e.validate()){if(a)return e.ShowAlert(e.$t("AllocateStorageMustNumeric"),"failure",!0,e.$t("Alert")),!1;h.ManageDocUserStorageSettingData(JSON.stringify(r)).then(t=>{0==t.data?this.$emit("nextTab"):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))})}else e.ShowAlert(e.$t("YouCannotAssignSpaceMoreThanAvailableSpace"),"failure",!0,e.$t("Alert"))}))}else e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))},PreviousButton:function(){var e=this;e.$emit("previousTab")},SearchUserStorage:function(){var e=this;$(".chkItems:checked").each((function(){var t=$(this).val();e.CheckIfExist=e.UserData.filter(e=>e.DEPARTMENT_ID==t),e.JSONSearchData=Array.from(e.CheckIfExist),e.userFilterData=e.userFilterData.concat(e.JSONSearchData)})),$(".chkItems:checked").each((function(){0==e.userFilterData.length&&(e.jsonFilteredData=e.UserData);var t=$(this).val();e.CheckIfExist=e.UserData.filter(e=>e.DESIGNATION_ID==t),e.JSONSearchData=Array.from(e.CheckIfExist),e.userFilterData=e.userFilterData.concat(e.JSONSearchData)})),""!=e.txtSearchUserName&&(0==e.userFilterData.length&&(e.jsonFilteredData=e.UserData),e.CheckIfExist=e.UserData.filter(t=>t.USER_NAME.toLowerCase().includes(e.txtSearchUserName)),e.JSONSearchData=Array.from(e.CheckIfExist),e.userFilterData=e.userFilterData.concat(e.JSONSearchData)),""!=e.txtConsumedStorage&&(0==e.userFilterData.length&&(e.jsonFilteredData=e.UserData),e.CheckIfExist=e.jsonFilteredData.filter((function(t){return t.CONSUMED_STROAGE==e.txtConsumedStorage})),e.JSONSearchData=Array.from(e.CheckIfExist),e.userFilterData=e.userFilterData.concat(e.JSONSearchData)),e.UserData=e.userFilterData,e.getTotalStorageData()},downArrowButton:function(){alert("arrow")},toggleExpandCollapseButton:function(){var e=this;0==e.label?(e.dropDivShow=!0,e.divDesignationShow=!0,e.showByNameDiv=!0,e.showByConsumedDiv=!0,e.label=!0):(e.dropDivShow=!1,e.divDesignationShow=!1,e.showByNameDiv=!1,e.showByConsumedDiv=!1,e.label=!1),e.txtSearchUserName="",e.txtConsumedStorage=""},getTotalStorageData:function(){var e=this;e.totalAllowedStorage=0,e.totalConsumedStorage=0,e.UserData.forEach(t=>{e.totalAllowedStorage+=t.ALLOWED_STORAGE,e.totalConsumedStorage+=t.CONSUMED_STROAGE})},AllocatedSpacePopup:function(){var e=this,t="",a="";$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){t=$(this).val(),a=$(this).closest("tr").find(".maxAllowedStorage").val();let i={Id:t,value:a};e.jsonobj.push(i)})),e.isAllocatedSpaceOpen=!0},closeAllocatedSpace:function(){var e=this;e.isAllocatedSpaceOpen=!1},SaveData:function(e,t,a){var i=this;i.isLoading=!0,i.jsonObjData=[],i.UserId=e,i.UserStorageValue=t;let o={DataId:i.UserId,DataValue:i.UserStorageValue};i.jsonObjData.push(o);let n=[{refCode:"UserSetting",moduleName:"DocStorage"}];var r="configData",s="conditionData",l="[{"+JSON.stringify(r)+":"+JSON.stringify(i.jsonObjData)+", "+JSON.stringify(s)+":"+JSON.stringify(n)+"}]";if(t>i.total)return i.ShowAlert(i.$t("AllocateStorageCannotMoreThanTotalStorage"),"failure",!0,i.$t("Alert")),i.isLoading=!1,!1;t<a?i.ShowAlert(i.$t("AllocateStorageCannotLessThanConsumedStorage"),"failure",!0,i.$t("Alert")):isNaN(t)?i.ShowAlert(i.$t("AllocateStorageMustNumeric"),"failure",!0,i.$t("Alert")):h.ManageDocUserStorageSettingData(JSON.stringify(l)).then(t=>{0==t.data?(this.ShowAlert(i.$t("StorageConfigurationDataUpdatedSuccessfully"),"success"),$("#idMaxStorage"+e).attr("disabled","disabled"),$("#divAction"+e).hide(),$("#idEdit"+e).show(),i.FetchData(),i.$parent.GetStorageSetupStatusDetail()):i.ShowAlert(i.$t("UnknownErrorOccur"),"failure",!0,i.$t("Alert"))}),i.isLoading=!1},CancelAction:function(e){var t=this;$("#idMaxStorage"+e).attr("disabled","disabled"),$("#idEdit"+e).show(),$("#divAction"+e).hide(),t.FetchData()},editAllowedStorage:function(e){$("#idMaxStorage"+e).removeAttr("disabled"),$("#idEdit"+e).hide(),$("#divAction"+e).show()},onChange:function(){var e=$(".chkItems:checked").not("[id^='chkAll']").length;e>0?$("#btnStorageSpace").removeClass("disabled"):$("#btnStorageSpace").addClass("disabled")},GetDDLDepartmentData:function(){var e=this;var t="moduleName=DocStorage&type=DEPARTMENT";h.GetDDLDatas(t).then(t=>{e.DepartmentData=t.data.DATA})},GetDDLDesignationData:function(){var e=this;var t="moduleName=DocStorage&type=HR_DESIG";h.GetDDLDatas(t).then(t=>{e.designationData=t.data.DATA})},FetchData:function(){var e=this;e.isLoading=!0;var t=`pageNo=${e.pageNo}&pageSize=${e.pageSize}&sortBy=&sortExp=&userTypeIds=4`;h.GetUserStorageDetail(t).then((function(t){e.UserData=JSON.parse(t.data).USERSTORAGEDETAILLIST,e.UserData.length>0&&(e.totalRecords=e.UserData[0].totalRecords,e.userStorageDetailSummary=JSON.parse(t.data).USERSTORAGEDETAILSUMMARY),e.getTotalStorageData(),e.isLoading=!1,null==e.UserData?e.NoRecordLength=0:e.NoRecordLength=e.UserData.length})),setTimeout((function(){e.ResponsiveDataTable("tblFileList")}),500),$("#btnStorageSpace").addClass("disabled")}}},rt=nt,st=Object(f["a"])(rt,it,ot,!1,null,null,null),lt=st.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("StorageBar",{attrs:{type:"Doc"}}),a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[a("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[a("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(t){return e.onChange()}}})]),a("th",[a("span",[e._v(e._s(e.$t("UserName")))])]),a("th",[a("span",[e._v(e._s(e.$t("Designation")))])]),a("th",[a("span",[e._v(e._s(e.$t("Department")))])]),a("th",[a("span",[e._v(e._s(e.$t("Status")))])]),a("th",[a("span",[e._v(e._s(e.$t("ConsumedStoarage"))+" (MB)")])]),a("th",[a("span",[e._v(e._s(e.$t("AllocatedStorage"))+" (MB)")])]),a("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[a("span",[e._v(e._s(e.$t("Action")))])])])]),a("tbody",[e._l(e.UserData,(function(t,i){return a("tr",{key:i},[a("td",{staticClass:"text-center"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{staticClass:"chkItems custom-control-input",attrs:{id:t.USER_ID,type:"checkbox"},domProps:{value:t.USER_ID},on:{change:function(t){return e.onChange(t)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:t.USER_ID,type:"checkbox"}})])]),a("td",[a("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(t.USER_NAME)+" ")])]),a("td",[a("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(t.DESIGNATION_NAME)+" ")])]),a("td",[a("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(t.DEPARTMENT_NAME)+" ")])]),a("td",[a("a",{staticClass:"inactive-disabled"},["1001"==t.STATUS_ID?a("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-success",attrs:{title:"Active"}},[e._v(" Active")]):e._e(),"1084"==t.STATUS_ID?a("span",{staticClass:"sent bg-secondary btn d-inline-block w-80 text-center text-truncate text-white",attrs:{title:"Approved"}},[e._v(" Approved")]):e._e(),"Rejected"==t.STATUS_ID?a("span",{staticClass:"stop btn d-inline-block w-80 text-center text-truncate btn-danger",attrs:{title:"Rejected"}},[e._v(" Rejected")]):e._e(),"1003"==t.STATUS_ID?a("span",{staticClass:"stop px-2 bg-primary btn d-inline-block w-80 text-center text-truncate",attrs:{title:"Deleted"}},[e._v(" Deleted")]):e._e(),"1002"==t.STATUS_ID?a("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-danger",attrs:{title:"Inactive"}},[e._v("Inactive")]):e._e(),"1005"==t.STATUS_ID?a("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-secondary",attrs:{title:"Pending"}},[e._v(" Pending")]):e._e(),"ActivationAwaited"==t.STATUS_ID?a("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-warning",attrs:{title:"ActivationAwaited"}},[e._v(" ActivationAwaited")]):e._e()])]),a("td",[a("span",{staticClass:"text-right text-overflow-dynamic-container"},[e._v(" "+e._s(t.USED_STORAGE)+" ")])]),a("td",["1002"!=t.STATUS_ID?a("span",{staticClass:"text-overflow-dynamic-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ALLOWED_STORAGE,expression:"item.ALLOWED_STORAGE"}],staticClass:"maxAllowedStorage  form-control text-right ",attrs:{type:"text",id:"idMaxStorage"+t.USER_ID,step:"0.01",maxlength:"13",disabled:"disabled"},domProps:{value:t.ALLOWED_STORAGE},on:{keypress:function(t){return e.isNumber(t)},input:function(a){a.target.composing||e.$set(t,"ALLOWED_STORAGE",a.target.value)}}})]):e._e(),"1002"==t.STATUS_ID?a("span",{staticClass:"text-overflow-dynamic-container"},[a("input",{staticClass:"maxAllowedStorage  form-control text-right disabled",attrs:{type:"text","asp-for":"item.MaxStorage",id:"idMaxStorage"+t.USER_ID,step:"0.01",maxlength:"13",value:"0"}})]):e._e()]),a("td",{staticClass:"text-center single-action"},[e.hideEditIcon?a("a",{staticClass:"aEdit",attrs:{title:"Edit",id:"idEdit"+t.USER_ID},on:{click:function(a){return e.editAllowedStorage(t.USER_ID)}}},[a("i",{staticClass:"fa fa-pencil text-success action-icon "})]):e._e(),a("div",{staticStyle:{display:"none"},attrs:{id:"divAction"+t.USER_ID}},[a("a",{staticClass:"aCancel mr-2",attrs:{id:"idCancel_"+t.USER_ID,value:t.USER_ID,title:"Cancel",href:"javascript:;"},on:{click:function(a){return e.CancelAction(t.USER_ID,t.ALLOWED_STORAGE)}}},[a("i",{staticClass:"fa fa-times-circle text-danger action-icon"})]),a("a",{staticClass:"aSave",attrs:{title:"Save",value:t.USER_ID,id:"idSave_"+t.USER_ID,href:"javascript:;"},on:{click:function(a){return e.SaveData(t.USER_ID,t.ALLOWED_STORAGE,t.CONSUMED_STROAGE)}}},[a("i",{staticClass:"fa fa-save text-primary action-icon"})])])])])})),0==e.NoRecordLength?a("tr",[a("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v("No Record Found")])]):e._e(),e.NoRecordLength>0?a("tr",[a("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"2"}},[e._v("Total")]),a("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"4"}},[e._v(e._s(e.totalConsumedStorage)+" MB ")]),a("td",{staticClass:" text-right fr font-weight-bold"},[e._v(e._s(e.totalAllowedStorage)+" MB")])]):e._e()],2)])])]),a("div",{staticClass:"col-lg-12 text-right mt-3 float-right p-0"},[a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" Previous")]),a("button",{staticClass:"btn btn-success",attrs:{title:"Save"},on:{click:function(t){return e.SaveButton()}}},[a("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),e._v(" Save")])])],1)},dt=[],ut={components:{StorageBar:Xe},data(){return{isLoading:!1,UserData:[],DepartmentData:[],designationData:[],userStorageDetailSummary:[],pageNo:1,searchCondition:null,sortExp:null,sortBy:null,pageSize:10,totalRecords:"",dropDivShow:!1,showByNameDiv:!1,showByConsumedDiv:!1,divDesignationShow:!1,hideEditIcon:!0,isAllocatedSpaceOpen:!1,UserStorageValue:null,UserId:null,saveStorage:null,StorageValue:null,jsonobj:[],JSONSearchData:[],departmentList:null,designationList:null,txtSearchUserName:"",txtConsumedStorage:"",userFilterData:[],CheckIfExistDepartment:[],jsonFilteredData:[],label:!1,totalConsumedStorage:0,totalAllowedStorage:0,NoRecordLength:0,isDeptSearchOn:!1,isDesgSearchOn:!1,arrayDepartmentChecks:[],departmentSelectedArray:[],designationSelectedArray:[],arrayDesignationChecks:[],CheckIfExistDesignation:[],CheckIfExist:[],txtDepartmentName:[],tempArray:[],txtSearchDeptValue:"",containerSize:null,docStorageMaxLimit:null,AllowedClientStorage:null,AllowedUserStorage:null,total:null,consumed:null,allocated:null,jsonObjData:[]}},created(){var e=this;e.FetchData(),e.GetStoragedata()},computed:{AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AllowedStorage(){var e=this.AllowedClientStorage+this.AllowedUserStorage;return e}},methods:{validate:function(){var e=this,t=(e.AllowedClientStorage,e.AllowedUserStorage),a=e.AvailableSpace,i=e.totalAllowedStorage,o=t+a;return!(o<i)||(e.ShowAlert(e.$t("YouCannotAssignSpaceMoreThanAvailableSpace"),"failure",!0,e.$t("Alert")),!1)},PreviousButton:function(){var e=this;e.$emit("previousTab")},searchDept:function(){var e=this;""!=e.txtSearchDeptValue&&(e.DepartmentData=e.DepartmentData.filter(t=>t.name.toLowerCase().includes(e.txtSearchDeptValue)))},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},ClearFilter:function(e,t,a){},enableDepartmentSearch:function(){var e=this;$(".DepartmentchkItems:checked").length>0?(e.isDeptSearchOn=!0,e.departmentSelectedArray=[],$(".DepartmentchkItems:checked").each((function(){var t=$(this).val();e.arrayDepartmentChecks=e.DepartmentData.filter(e=>e.value==t),e.departmentSelectedArray=e.departmentSelectedArray.concat(e.arrayDepartmentChecks)}))):e.isDeptSearchOn=!1},enableDesignationSearch:function(){var e=this;$(".DesignationchkItems:checked").length>0?(e.isDesgSearchOn=!0,e.designationSelectedArray=[],$(".DesignationchkItems:checked").each((function(){var t=$(this).val();e.arrayDesignationChecks=e.designationData.filter(e=>e.value==t),e.designationSelectedArray=e.designationSelectedArray.concat(e.arrayDesignationChecks)}))):e.isDesgSearchOn=!1},SkipButton:function(){var e=this;e.$parent.ShowNextTab(5)},SaveButton:function(){var e=this;e.jsonObjData=[];new FormData;if(0!=$("#tblFileList tr").length){var t=`pageNo=${e.pageNo}&pageSize=${e.pageSize}&sortBy=&sortExp=&userTypeIds=1,2,3`;h.GetUserStorageDetail(t).then((function(t){e.UserData=JSON.parse(t.data).USERSTORAGEDETAILLIST,null!=e.UserData&&e.UserData.forEach((t,a)=>{let i={DataId:t.USER_ID,DataValue:t.ALLOWED_STORAGE};e.jsonObjData.push(i)});let a=[{refCode:"UserSetting",moduleName:"DocStorage"}];var i="configData",o="conditionData",n="[{"+JSON.stringify(i)+":"+JSON.stringify(e.jsonObjData)+", "+JSON.stringify(o)+":"+JSON.stringify(a)+"}]";1==e.validate()?h.ManageDocUserStorageSettingData(JSON.stringify(n)).then(t=>{0==t.data?e.$parent.ShowNextTab(5):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))}):e.ShowAlert(e.$t("YouCannotAssignSpaceMoreThanAvailableSpace"),"failure",!0,e.$t("Alert"))}))}else e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))},disableDepartmentButton:function(){var e=this;e.isDeptSearchOn=!1},disableDisgnationButton:function(){var e=this;e.isDesgSearchOn=!1},SearchUserStorage:function(){var e=this;e.userFilterData=[],$(".DepartmentchkItems:checked").each((function(){var t=$(this).val();e.CheckIfExistDepartment=e.UserData.filter(e=>e.DEPARTMENT_ID==t),e.JSONSearchData=Array.from(e.CheckIfExistDepartment),e.userFilterData=e.userFilterData.concat(e.JSONSearchData),e.departmentSelectedArray.length>0?e.dropDivShow=!0:e.dropDivShow=!1})),$(".DesignationchkItems:checked").each((function(){0==e.userFilterData.length&&(e.jsonFilteredData=e.UserData);var t=$(this).val();e.CheckIfExistDesignation=e.UserData.filter(e=>e.DESIGNATION_ID==t),e.JSONSearchData=Array.from(e.CheckIfExistDesignation),e.userFilterData=e.userFilterData.concat(e.JSONSearchData),e.designationSelectedArray.length>0?e.divDesignationShow=!0:e.divDesignationShow=!1})),""!=e.txtSearchUserName&&(0==e.userFilterData.length&&(e.jsonFilteredData=e.UserData),e.CheckIfExist=e.UserData.filter(t=>t.USER_NAME.toLowerCase().includes(e.txtSearchUserName)),e.JSONSearchData=Array.from(e.CheckIfExist),e.userFilterData=e.userFilterData.concat(e.JSONSearchData)),""!=e.txtConsumedStorage&&(0==e.userFilterData.length&&(e.jsonFilteredData=e.UserData),e.CheckIfExist=e.jsonFilteredData.filter((function(t){return t.CONSUMED_STROAGE==e.txtConsumedStorage})),e.JSONSearchData=Array.from(e.CheckIfExist),e.userFilterData=e.userFilterData.concat(e.JSONSearchData)),e.UserData=e.userFilterData,e.getTotalStorageData()},ResetButton:function(){var e=this;e.FetchData(),e.dropDivShow=!1,e.divDesignationShow=!1,e.showByNameDiv=!1,e.showByConsumedDiv=!1,$(".DepartmentchkItems").prop("checked",!1),$(".DesignationchkItems").prop("checked",!1),e.txtSearchUserName="",e.txtConsumedStorage="",e.toggleExpandCollapseButton(e.label=!0),e.userFilterData=[],e.designationSelectedArray=[],e.departmentSelectedArray=[]},toggleExpandCollapseButton:function(){var e=this;0==e.label?(e.dropDivShow=!0,e.divDesignationShow=!0,e.showByNameDiv=!0,e.showByConsumedDiv=!0,e.label=!0):(e.dropDivShow=!1,e.divDesignationShow=!1,e.showByNameDiv=!1,e.showByConsumedDiv=!1,e.label=!1,e.isDeptSearchOn=!1,e.isDesgSearchOn=!1),e.txtSearchUserName="",e.txtConsumedStorage=""},getTotalStorageData:function(){var e=this;e.totalAllowedStorage=0,e.totalConsumedStorage=0,e.UserData.forEach(t=>{"1002"!=t.STATUS_ID&&(e.totalAllowedStorage+=t.ALLOWED_STORAGE,e.totalConsumedStorage+=t.CONSUMED_STROAGE)})},AllocatedSpacePopup:function(){var e=this,t="",a="";$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){a=$(this).closest("tr").find(".maxAllowedStorage").val(),t=$(this).val();let i={Id:t,value:a};e.jsonobj.push(i)})),e.isAllocatedSpaceOpen=!0},closeAllocatedSpace:function(){var e=this;e.isAllocatedSpaceOpen=!1},GetStoragedata:function(){var e=this;e=this;h.GetStorageReport().then((function(t){e.total=t.data[0].CONTAINER_LIMIT,e.consumed=t.data[0].CONTAINER_SIZE,e.allocated=t.data[0].DOC_STORAGE_MAXLIMIT}));var t="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";h.GetUserStorageDetail(t).then((function(t){var a=JSON.parse(t.data).USERSTORAGEDETAILLIST;e.AllowedClientStorage=0,a.forEach(t=>{e.AllowedClientStorage+=t.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";h.GetUserStorageDetail(a).then((function(t){var a=JSON.parse(t.data).USERSTORAGEDETAILLIST;e.AllowedUserStorage=0,a.forEach(t=>{e.AllowedUserStorage+=t.ALLOWED_STORAGE})}))},SaveData:function(e,t,a){var i=this;i.isLoading=!0,i.jsonObjData=[],i.UserId=e,i.UserStorageValue=t;let o={DataId:i.UserId,DataValue:i.UserStorageValue};i.jsonObjData.push(o);let n=[{refCode:"UserSetting",moduleName:"DocStorage"}];var r="configData",s="conditionData",l="[{"+JSON.stringify(r)+":"+JSON.stringify(i.jsonObjData)+", "+JSON.stringify(s)+":"+JSON.stringify(n)+"}]";if(t>i.total)return i.ShowAlert(i.$t("AllocateStorageCannotMoreThanTotalStorage"),"failure",!0,i.$t("Alert")),i.isLoading=!1,!1;t<a?i.ShowAlert(i.$t("AllocateStorageCannotLessThanConsumedStorage"),"failure",!0,i.$t("Alert")):isNaN(t)?i.ShowAlert(i.$t("AllocateStorageMustNumeric"),"failure",!0,i.$t("Alert")):h.ManageDocUserStorageSettingData(JSON.stringify(l)).then(t=>{0==t.data?(this.ShowAlert(i.$t("StorageConfigurationDataUpdatedSuccessfully")),$("#idMaxStorage"+e).attr("disabled","disabled"),$("#divAction"+e).hide(),$("#idEdit"+e).show(),i.FetchData(),i.$parent.GetStorageSetupStatusDetail()):i.ShowAlert(i.$t("UnknownErrorOccur"),"failure",!0,i.$t("Alert"))}),i.isLoading=!1},CancelAction:function(e){var t=this;$("#idMaxStorage"+e).attr("disabled","disabled"),$("#idEdit"+e).show(),$("#divAction"+e).hide(),t.FetchData()},editAllowedStorage:function(e){$("#idMaxStorage"+e).removeAttr("disabled"),$("#idEdit"+e).hide(),$("#divAction"+e).show()},onChange:function(){var e=$(".chkItems:checked").not("[id^='chkAll']").length;e>0?$("#btnStorageSpace").removeClass("disabled"):$("#btnStorageSpace").addClass("disabled")},GetDDLDepartmentData:function(){var e=this;var t="moduleName=DocStorage&type=DEPARTMENT";h.GetDDLDatas(t).then(t=>{e.DepartmentData=t.data.DATA})},GetDDLDesignationData:function(){var e=this;var t="moduleName=DocStorage&type=HR_DESIG";h.GetDDLDatas(t).then(t=>{e.designationData=t.data.DATA})},FetchData:function(){var e=this;e.isLoading=!0;var t=`pageNo=${e.pageNo}&pageSize=${e.pageSize}&sortBy=&sortExp=&userTypeIds=1,2,3`;h.GetUserStorageDetail(t).then((function(t){e.UserData=JSON.parse(t.data).USERSTORAGEDETAILLIST,e.totalRecords=e.UserData[0].totalRecords,e.userStorageDetailSummary=JSON.parse(t.data).USERSTORAGEDETAILSUMMARY,e.getTotalStorageData(),e.isLoading=!1,null==e.UserData?e.NoRecordLength=0:e.NoRecordLength=e.UserData.length})),setTimeout((function(){e.ResponsiveDataTable("tblFileList")}),500),setTimeout((function(){e.inittable()}),1500),$("#btnStorageSpace").addClass("disabled")}}},pt=ut,mt=(a("7bff"),Object(f["a"])(pt,ct,dt,!1,null,"62d11e30",null)),vt=mt.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{attrs:{id:"addGroupRecord"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("dynamic-form",{ref:"validateGroup",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1),a("div",{staticClass:"col-lg-12 mb-3",attrs:{id:"divtickettupelist"}},[a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive table-fix-header",staticStyle:{"max-height":"220px"},attrs:{id:"divUserList"}},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 w-100",attrs:{id:"example"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("CAusername")))]),a("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("Department")))]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v(e._s(e.$t("Action")))])])]),a("tbody",{attrs:{id:"UserListDiv"}},[e._l(e.UserList,(function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t.userName))]),a("td",[e._v(e._s(t.departmentName))]),a("td",{staticClass:"text-center single-action"},[a("a",{staticClass:"ancAddUsers round-icon-small btn-success-light d-block float-none m-auto",attrs:{href:"javascript:;","data-id":t.userId,"data-name":t.UserName,"data-department":t.departmentName},on:{click:function(a){return e.AssignedUser(t.userId,t.userName,t.departmentName)}}},[a("i",{staticClass:"fa fa-plus",attrs:{alt:"Click to Add",title:"Add"}})])])])})),0==e.UserList.length?a("tr",{staticClass:"norecords",attrs:{id:"trNoRecordFond"}},[a("td",{staticClass:"text-danger text-center",attrs:{colspan:"5"}},[e._v(e._s(e.$t("NoRecordfound"))+" ")])]):e._e()],2)])])]),0==e.UserList.length?a("span",{staticClass:"text-danger",attrs:{id:"error_User"}},[e._v(e._s(e.$t("CheckAtleastOneUser")))]):e._e()]),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive table-fix-header"},[a("table",{staticClass:"table table-bordered",attrs:{id:"DefaultUserTable"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("CAusername")))]),a("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("Department")))]),a("th",{attrs:{scope:"col",width:"200"}},[e._v(e._s(e.$t("MaxTicketAssign")))]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v(e._s(e.$t("MarkAsDefault")))]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v(e._s(e.$t("Action")))])])]),a("tbody",[e._l(e.AssignUserList,(function(t,i){return a("tr",{key:t},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.departmentName))]),a("td",{staticClass:"text-center"},[a("input",{class:{"form-control":!0,"is-invalid":!e.isMaxTicketValid&&(!t.Id||t.Id!=e.defaultUser&&!e.MaxTicketAssign.trim())&&t.disabled},attrs:{type:"text",name:"maxticketassign-"+t.Id,disabled:t.Id!=e.defaultUser,maxlength:"4",tabindex:"6",oninput:"this.value = this.value.replace(/[^0-9]/g, '').slice(0, 4);"},domProps:{value:t.UserId==t.DefaultUser?e.MaxTicketAssign:""}})]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"d-inline-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.defaultUser,expression:"defaultUser"}],attrs:{type:"radio",id:t.Id,name:"default",tabindex:"7"},domProps:{value:t.Id,checked:t.UserId!=t.DefaultUser,checked:e._q(e.defaultUser,t.Id)},on:{click:function(a){return e.SetValue(t.Id)},change:function(a){e.defaultUser=t.Id}}})])]),a("td",{staticClass:"text-center"},[a("a",{staticClass:"aRemoveUser round-icon-small btn-danger-light d-block float-none m-auto",attrs:{href:"javascript:;"},on:{click:function(a){return e.DeleteUser(t.Id)}}},[a("i",{staticClass:" fa fa-trash",attrs:{title:"Add"}})])])])})),0==e.AssignUserList.length?a("tr",{staticClass:"norecords"},[a("td",{staticClass:"text-danger text-center",attrs:{colspan:"5"}},[e._v(e._s(e.$t("NoRecordfound"))+" ")])]):e._e()],2)])])]),e.CheckAssignedUser&&0==e.AssignUserList.length||e.checkOneUserSelected?a("span",{staticClass:"text-danger",attrs:{id:"error_DefaultUser"}},[e._v("Check Atleast One Defualt User")]):e._e()]),a("div",{staticClass:"col-lg-12 mt-3"},[a("Field",{attrs:{name:"Description",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("label",[e._v("Description :"),a("span",{staticClass:"text-danger"},[e._v("*")])]),a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Description,expression:"Description"}],class:{"form-control":!0,"is-invalid":i[0]},attrs:{tabindex:"8",maxlength:"500"},domProps:{value:e.Description},on:{input:function(t){t.target.composing||(e.Description=t.target.value)}}}),i[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Description"}},[e._v(e._s(i[0]))]):e._e()])]}}])})],1),a("div",{staticClass:"col-lg-12 text-right"},[e.currentTabIndex>1?a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" "+e._s(e.$t("Previous")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.Skip()}}},[e._v(e._s(e.$t("Skip")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(t){return e.SubmitData(e.values)}}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndNext"))+" ")]):e._e(),e.tabCount==e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(t){return e.SubmitData(e.values)}}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndClose"))+" ")]):e._e()])])])])},St=[],gt={props:{tabCount:0,currentTabIndex:0},created:async function(){var e=this;await e.GetPrivilegeData(),e.GetDepartment(),e.GetResolveTicketUserList()},data(){return{UserList:[],AssignUserList:[],Description:"",defaultUser:"",GroupType:"",DepartmentList:[],SkillList:[],MaxTicketAssign:"",isMaxTicketValid:!0,CheckAssignedUser:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:"Ticket Group Name",name:"TicketGroupName",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Skill"),name:"SkillId",value:"",placeholder:"",visibility:!0,config:{options:[],showAddIcon:!1,onChange:this.GetResolveTicketUserList},validationRules:""}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Department"),name:"DepartmentId",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.GetResolveTicketUserListIs},validationRules:""},{astype:"RadioField",label:this.$t("GroupType"),name:"GroupType",value:"Call",placeholder:"",config:{options:[{name:"Call",value:"Call"},{name:"Routing",value:"Escalate"}],showAddIcon:!1,onChange:this.onChangeRadio},validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-warning",text:"<i class='fa fa-save pr-2'></i>Save Of Draft",isVisible:!1}]}},methods:{Skip:function(){var e=this;e.$emit("nextTab")},PreviousButton:function(){var e=this;e.$emit("previousTab")},GetPrivilegeData:async function(){var e=this,t="controller=Review&action=Index";await h.CheckPrivilege(t).then((function(t){t.data?(e.$refs.validateGroup.updateProperty("SkillId","visibility",!0),e.GetSkill()):e.$refs.validateGroup.updateProperty("SkillId","visibility",!1),e.$refs.validateGroup.UpdateKeyValue()}))},GetSkill:function(){var e=this;h.GetSkill().then(t=>{t.data.forEach((t,a)=>{e.SkillList.push({value:t.skill_id,name:t.title}),e.$refs.validateGroup.updateProperty("SkillId","config.options",e.SkillList)}),e.$refs.validateGroup.UpdateKeyValue()})},GetDepartment:function(){var e=this;h.GetDepartment().then(t=>{t.data.forEach((t,a)=>{e.DepartmentList.push({value:t.department_id,name:t.department_name}),e.$refs.validateGroup.updateProperty("DepartmentId","config.options",e.DepartmentList)}),e.$refs.validateGroup.UpdateKeyValue()})},GetResolveTicketUserList:function(e,t){var a=this;if(void 0!=t)var i="departmentId=&skillId="+t.value;else i="departmentId=&skillId=";h.GetResolveTicketUserListbydept(i).then(e=>{a.UserList=e.data})},GetResolveTicketUserListIs:function(e,t){var a=this,i=`departmentId=${t.value}&skillId=`;h.GetResolveTicketUserListbydept(i).then(e=>{a.UserList=e.data})},AssignedUser:function(e,t,a){var i=this;i.AssignUserList.some(t=>t.Id===e)?i.ShowAlert(t+" "+i.$t("AlreadyExist"),"warning"):i.AssignUserList.push({Id:e,name:t,departmentName:a,UserId:e})},DeleteUser:function(e){var t=this;t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Group"),(function(){t.AssignUserList=jQuery.grep(t.AssignUserList,(function(t){return t.Id!=e}))}))},SubmitData:function(){var e=this,t="";e.AssignUserList.forEach((e,a)=>{t+=""==t?e.Id:","+e.Id}),e.AssignUserList.forEach(t=>{const a=document.querySelector(`input[name="maxticketassign-${t.Id}"]`);if(a&&!a.disabled){const t=a.value.trim();if(!t)return e.isMaxTicketValid=!1,e.MaxTicketAssign="",a.classList.add("is-invalid"),!1;e.isMaxTicketValid=!0,e.MaxTicketAssign=t,a.classList.remove("is-invalid")}}),e.$refs.validateGroup.validateForm.validate().then(a=>{if(0==e.AssignUserList.length||e.isBlank(e.defaultUser))return e.CheckAssignedUser=!0,e.ShowAlert(e.$t("CorrectHighlightedErrors"),"warning"),e.checkOneUserSelected=!0,!1;if(a){var i=e.$refs.validateGroup.getPropertyValue("TicketGroupName","value"),o=e.$refs.validateGroup.getPropertyValue("DepartmentId","value"),n=e.$refs.validateGroup.getPropertyValue("GroupType","value"),r=`groupTicketId=0&groupName=${i}&description=${e.Description}&departmentId=${""==o?0:o}&groupType=${n}&maxTiacketAssign=${e.MaxTicketAssign}&userIds=${t}&defaultUser=${e.defaultUser}`;h.AddTicketGroup(r).then(t=>{1==t.data?(e.ShowAlert(e.$t("GroupHasAdded"),"success"),e.tabCount>1&&(e.$emit("nextTab"),e.$emit("updateProgress",e.currentTabIndex,!0)),e.tabCount==e.currentTabIndex&&e.$emit("close")):e.ShowAlert(e.$t("AddedError"),"failure")})}})},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},SetValue:function(e,t){var a=this;a.MaxTicketAssign="",a.defaultUser=e},onChangeRadio:function(e,t){var a=this;a.FormSchema[1].Data[1].value=e.target.dataset.value}}},ft=gt,Ct=(a("7fad"),Object(f["a"])(ft,ht,St,!1,null,"75aa2cc7",null)),bt=Ct.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{attrs:{id:"addChainRecord"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("dynamic-form",{ref:"validateServiceGroup",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"listing mt-3 px-3"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline",attrs:{id:"tbContainer"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",[a("span",[e._v(e._s(e.$t("Level"))+":"),a("sup",{staticClass:"text-danger"},[e._v("*")])])]),a("th",[a("span",[e._v(e._s(e.$t("Group"))+":"),a("sup",{staticClass:"text-danger"},[e._v("*")])])]),a("th",{staticClass:"text-center single-action"},[a("a",{staticClass:"round-icon-small btn-success-light d-block float-none m-auto",staticStyle:{"line-height":"33px"},attrs:{href:"javascript:;",id:"btnAdd",title:"Add"},on:{click:e.AddRow}},[a("i",{staticClass:"fa fa-plus"})])])])]),a("tbody",e._l(e.Mainleveldiv,(function(t,i){return a("tr",{key:i,staticClass:"mainleveldiv"},[a("td",[a("Field",{attrs:{name:"Level",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(o){var n=o.errors;return[a("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control level",class:{"form-control":!0,"is-invalid":n[0]},attrs:{name:t.name},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",a.target.multiple?i:i[0])},function(a){return e.AlreadyExist(a,i,t,"level")}]}},[a("option",{attrs:{value:""}},[e._v("Select Level")]),e._l(e.Level,(function(t){return a("option",{key:t,domProps:{value:t.value}},[e._v(" "+e._s(t.name))])}))],2),n[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Level"+i}},[e._v(e._s(n[0]))]):e._e()]}}],null,!0)})],1),a("td",[a("Field",{attrs:{name:"Group",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(o){var n=o.errors;return[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Group,expression:"item.Group"}],class:{"form-control":!0,"is-invalid":n[0]},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"Group",a.target.multiple?i:i[0])},function(a){return e.AlreadyExist(a,i,t,"group")}]}},[a("option",{attrs:{value:""}},[e._v("Select Ticket Group")]),e._l(e.GroupData,(function(t){return a("option",{key:t,domProps:{value:t.value}},[e._v(e._s(t.name))])}))],2),n[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Group"}},[e._v(e._s(n[0]))]):e._e()]}}],null,!0)})],1),0!=i?a("td",{staticClass:"text-center single-action"},[a("a",{staticClass:"round-icon-small btn-danger-light d-block float-none m-auto",attrs:{href:"javascript:;",id:"btnRemove",title:"Remove"},on:{click:function(t){return e.DeleteUser(i)}}},[a("i",{staticClass:"fa fa-trash"})])]):e._e()])})),0)])])])]),a("div",{staticClass:"text-right mt-3",attrs:{"data-v-754d96ea":""}},[e.currentTabIndex>1?a("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(t){return e.PreviousButton()}}},[a("i",{staticClass:"fa fa-chevron-left pr-2"}),e._v(" "+e._s(e.$t("Previous")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(t){return e.Skip()}}},[e._v(e._s(e.$t("Skip")))]):e._e(),e.tabCount>e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:e.SaveData}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndNext"))+" ")]):e._e(),e.tabCount==e.currentTabIndex?a("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:e.SaveData}},[a("i",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndClose"))+" ")]):e._e()])])])},At=[],Dt={props:{tabCount:0,currentTabIndex:0},created:function(){var e=this;e.GetTicketGroupsForDropdownList()},data(){return{Mainleveldiv:[{value:"",Group:""}],GroupData:[],FormSchema:[{layoutType:"two",Data:[{astype:"TextField",label:"Ticket Service Board Name",name:"TicketChainName",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"TextAreaField",label:this.$t("description"),name:"Description",value:"",placeholder:this.$t("EnterDescription"),validationRules:{required:!0,max:1e3}}]}],Level:[{name:"Level 1",value:1},{name:"Level 2",value:2},{name:"Level 3",value:3},{name:"Level 4",value:4},{name:"Level 5",value:5},{name:"Level 6",value:6},{name:"Level 7",value:7},{name:"Level 8",value:8},{name:"Level 9",value:9},{name:"Level 10",value:10}],buttons:[{type:"submit",class:"btn btn-warning",text:"<i class='fa fa-save pr-2'></i>Save Of Draft",isVisible:!1}]}},methods:{Skip:function(){var e=this;e.$emit("nextTab")},AddRow:function(e){var t=this;t.Mainleveldiv.push({value:"",Group:""}),t.$nextTick(()=>{t.$refs.validateServiceGroup.validateForm().validate()})},PreviousButton:function(){var e=this;e.$emit("previousTab")},GetTicketGroupsForDropdownList:function(){var e=this;h.GetTicketGroupsForDropdownList().then((function(t){t.data.forEach(t=>{e.GroupData.push({name:t.ticket_group_name,value:t.ticket_group_id})})}))},AlreadyExist:function(e,t,a,i){var o=this;o.Mainleveldiv.some(t=>t.value===e.target.value)?(o.Mainleveldiv[t].value="",o.ShowAlert("Already Selected","warning")):o.Mainleveldiv.some(t=>t.Group===e.target.value)?(o.Mainleveldiv[t].Group="",o.ShowAlert("Already Selected","warning")):"level"==i?o.Mainleveldiv[t].value=e.target.value:"group"==i&&(o.Mainleveldiv[t].Group=e.target.value)},DeleteUser:function(e){var t=this;t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Group"),(function(){t.Mainleveldiv.splice(e,1)}))},SaveData:function(){var e=this;e.$refs.validateServiceGroup.validateForm.validate().then(t=>{if(t){var a=e.Mainleveldiv.some(e=>""===e.value||""===e.Group);if(a)e.ShowAlert("Please select both level and group for all rows","error");else{var i=e.$refs.validateServiceGroup.getPropertyValue("TicketChainName","value"),o=e.$refs.validateServiceGroup.getPropertyValue("Description","value"),n=`serviceBoardId=0&serviceBoardName=${i}&description=${o}&LevelIdsOrGroupIds=${JSON.stringify(e.Mainleveldiv)}`;h.AddTicketServiceBoard(n).then(t=>{"3"==t.data?e.ShowAlert(e.$t("TicketServiceBoardAlreadyExists"),"failure"):"1"==t.data||"2"==t.data?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("TicketServiceBoard")]),"success",!0,e.$t("Alert")),e.tabCount>1&&(e.$emit("nextTab"),e.$emit("updateProgress",e.currentTabIndex,!0)),e.tabCount==e.currentTabIndex&&e.$emit("close")):e.ShowAlert(e.$t("AddedError",[e.$t("TicketServiceBoard")]),"failure",!0,e.$t("Alert"))})}}})}}},Tt=Dt,_t=Object(f["a"])(Tt,yt,At,!1,null,null,null),It=_t.exports,Nt={components:{priority:P,Lead:B,ConfigurationTab:q,Location:te,AddDeployProduct:se,ProductType:me,AddApprovalChain:Ce,AddApprovalGroup:_e,AddApprovalRule:Me,ChooseStorage:je,StorageManagement:at,ClientStorageListing:lt,UserStorageListing:vt,AddGroup:bt,AddServiceBoard:It},props:{moduleCode:"",component:"",tabCount:0,currentTabIndex:0},methods:{NextTab:function(){this.$emit("NextTab")},UpdateProgress:function(e,t){this.$emit("UpdateProgress",e,t)},PreviousTab:function(){this.$emit("PreviousTab")},Close:function(){this.$emit("Close")}}},xt=Nt,wt=Object(f["a"])(xt,N,x,!1,null,null,null),Lt=wt.exports,Et={props:{moduleCode:"",setupTabs:[]},watch:{setupTabs:function(e){this.TabList=e,e.length>0&&(this.currentSelectedTab=e[0])}},components:{moduleSetupBridge:Lt},data:function(){return{TabList:[],currentSelectedTab:null,setupProgress:0,setupProgresText:"Inprogress",progressBarColor:""}},created:function(){this.TabList=this.setupTabs,this.setupTabs.length>0&&(this.currentSelectedTab=this.setupTabs[0]),this.GetProgresSetupStatusDetail()},computed:{currentTabIndex:function(){return this.TabList.indexOf(this.currentSelectedTab)+1}},methods:{GetProgresSetupStatusDetail:function(){var e=this,t=(100/e.setupTabs.length).toFixed(2);e.setupTabs.forEach((function(a){1==a.isCompleted&&(e.setupProgress+t<100?e.setupProgress+=t:e.setupProgress=100,100==e.setupProgress&&(e.setupProgresText="Completed",e.progressBarColor="bg-success"))}))},setCurrectTab:function(e,t){var a=this;"undefined"!=typeof e&&(a.currentSelectedTab=e)},NextTab:function(){var e=this,t=this.TabList.indexOf(e.currentSelectedTab);t>-1&&this.TabList.length>t+1&&(e.currentSelectedTab=this.TabList[t+1]),this.GetProgresSetupStatusDetail()},UpdateProgress:function(e,t){this.TabList[e-1].isCompleted=!0,this.$emit("UpdateProgress",e,completeStatus),this.GetProgresSetupStatusDetail()},PreviousTab:function(){var e=this,t=this.TabList.indexOf(e.currentSelectedTab);t>-1&&this.TabList.length>=t+1&&(e.currentSelectedTab=this.TabList[t-1])},Close:function(){this.$emit("close")}}},Ft=Et,Ot=(a("7181"),Object(f["a"])(Ft,_,I,!1,null,null,null)),Pt=Ot.exports;const $t="http://qatest.talygen.com",Rt=[{moduleName:"Ticketing",name:"Canned",displayName:"Canned Reply",icon:"fa-envelope",redirectTo:"/ReplyTemplate/Index",visibleTo:["normal","nonlocating","locating"],controllerName:"ReplyTemplate",actionName:"Index"},{moduleName:"Ticketing",name:"FormBuilder",displayName:"FormBuilder",icon:"fa-folder-open",redirectTo:"/FormBuilder/Index",visibleTo:["nonlocating","locating"],controllerName:"FormBuilder",actionName:"Index"},{moduleName:"Ticketing",name:"IncidentType",displayName:"IncidentType",icon:"fa-chain-broken",redirectTo:"/Ticketing/IncidentTypeListing",visibleTo:["nonlocating","locating"],controllerName:"Ticketing",actionName:"IncidentTypeListing"},{moduleName:"Ticketing",name:"MapExtent",displayName:"Map Extent",icon:"fa-globe",redirectTo:"/Ticketing/MapExtend",visibleTo:["nonlocating","locating"],controllerName:"Ticketing",actionName:"MapExtend"},{moduleName:"Ticketing",name:"MapConfiguration",displayName:"Map Configuration",icon:"fa-map",redirectTo:"/Ticketing/MapConfig",visibleTo:["nonlocating","locating"],controllerName:"Ticketing",actionName:"MapConfig"},{moduleName:"Ticketing",name:"MapStatus",displayName:"Map Status",icon:"fa-ticket",redirectTo:"/Ticketing/MapStatus",visibleTo:["nonlocating","locating"],controllerName:"Ticketing",actionName:"MapStatus"},{moduleName:"Ticketing",name:"ResourceType",displayName:"Resource Type",icon:"fa-list",redirectTo:"/Ticketing/ResourceType",visibleTo:["nonlocating","locating"],controllerName:"Ticketing",actionName:"ResourceType"},{moduleName:"Ticketing",name:"RuleEngine",displayName:"RuleEngine",icon:"fa-cog",redirectTo:"/RuleEngine/Index",visibleTo:["normal","nonlocating","locating"],controllerName:"RuleEngine",actionName:"Index"},{moduleName:"Ticketing",name:"ServiceCrew",displayName:"ServiceCrew",icon:"fa-tags",redirectTo:"/Ticketing/crew",visibleTo:["nonlocating","locating"],controllerName:"Ticketing",actionName:"crew"},{moduleName:"Ticketing",name:"TicketGroup",displayName:"Ticket Group",icon:"fa-map-marker",redirectTo:"/Ticketing/Group",visibleTo:["normal","nonlocating","locating"],controllerName:"Ticketing",actionName:"Group"},{moduleName:"Ticketing",name:"Layout",displayName:"Ticket Layout Settings",icon:"fa-ticket",redirectTo:"/Ticketing/ManageLayout",visibleTo:["normal","nonlocating","locating"],controllerName:"Ticketing",actionName:"ManageLayout"},{moduleName:"Ticketing",name:"Chain",displayName:"Chain",icon:"fa-chain",redirectTo:"/Ticketing/Chain",visibleTo:["normal","nonlocating","locating"],controllerName:"Ticketing",actionName:"Chain"},{moduleName:"Ticketing",name:"WorkType",displayName:"WorkType",icon:"fa-info-circle",redirectTo:"/Ticketing/WorkTypeListing",visibleTo:["nonlocating","locating"],controllerName:"Ticketing",actionName:"WorkTypeListing"},{moduleName:"Ticketing",name:"Zone",displayName:"Zone",icon:"fa-map-marker",redirectTo:"/Ticketing/Zone",visibleTo:["nonlocating","locating"],controllerName:"Ticketing",actionName:"Zone"},{moduleName:"Asset",name:"EmailTemplate",displayName:"EmailTemplate",icon:"fa fa-envelope",redirectTo:$t+"/emailtemplate/Index",visibleTo:[],controllerName:"emailtemplate",actionName:"Index"},{moduleName:"Asset",name:"Location",displayName:"Location",icon:"fa-map-marker",redirectTo:"/Location/Index",visibleTo:[],controllerName:"Location",actionName:"Index"},{moduleName:"Asset",name:"ManageTags",displayName:"ManageTags",icon:"fa-tags",redirectTo:$t+"/Tag/Index",visibleTo:[],controllerName:"Tag",actionName:"Index"},{moduleName:"Asset",name:"ProductContainerList",displayName:"ProductContainerList",icon:"fa fa-cog ",redirectTo:"/Asset/AssetGrouping",visibleTo:[],controllerName:"Asset",actionName:"AssetGrouping"},{moduleName:"Asset",name:"ProductType",displayName:"ProductType",icon:"fa fa-th-list",redirectTo:"/Asset/Index",visibleTo:[],controllerName:"Asset",actionName:"Index"},{moduleName:"Asset",name:"Status",displayName:"Status",icon:"fa-bar-chart",redirectTo:"/Status/Index",visibleTo:[],controllerName:"Status",actionName:"Index"},{moduleName:"CRM",name:"Category",displayName:"Category",icon:"fa fa-usb",redirectTo:$t+"/Category/Index",visibleTo:[],controllerName:"Category",actionName:"Index"},{moduleName:"CRM",name:"Channel",displayName:"Channel",icon:"fa fa-tags",redirectTo:$t+"/Channel/Index",visibleTo:[],controllerName:"Channel",actionName:"Index"},{moduleName:"CRM",name:"Clients",displayName:"Clients",icon:"fa fa-group",redirectTo:$t+"/Clients/Index",visibleTo:[],controllerName:"Clients",actionName:"Index"},{moduleName:"CRM",name:"ContactType",displayName:"ContactType",icon:"fa-file-text-o",redirectTo:$t+"/ContactType/Index",visibleTo:[],controllerName:"ContactType",actionName:"Index"},{moduleName:"CRM",name:"CRMRoleType",displayName:"CRMRoleType",icon:"fa fa-user-o",redirectTo:$t+"/Roles/Index",visibleTo:[],controllerName:"Roles",actionName:"Index"},{moduleName:"CRM",name:"CurrencyManagement",displayName:"CurrencyManagement",icon:"fa fa-dollar",redirectTo:$t+"/CurrencyManagement/Index",visibleTo:[],controllerName:"CurrencyManagement",actionName:"Index"},{moduleName:"CRM",name:"CustomFields",displayName:"CustomFields",icon:"fa fa-sliders",redirectTo:"/Custom/fields",visibleTo:[],controllerName:"Custom",actionName:"fields"},{moduleName:"CRM",name:"EmailTemplate",displayName:"EmailTemplate",icon:"fa fa-envelope",redirectTo:$t+"/EmailTemplate/Index",visibleTo:[],controllerName:"EmailTemplate",actionName:"Index"},{moduleName:"CRM",name:"Feedback",displayName:"Feedback",icon:"fa fa-comments-o",redirectTo:$t+"/Feedback/Index",visibleTo:[],controllerName:"Feedback",actionName:"Index"},{moduleName:"CRM",name:"IndustryType",displayName:"IndustryType",icon:"fa fa-industry",redirectTo:$t+"/IndustryType/Index",visibleTo:[],controllerName:"IndustryType",actionName:"Index"},{moduleName:"CRM",name:"ManageLayout",displayName:"ManageLayout",icon:"fa fa-sliders",redirectTo:"/Custom/Layouts",visibleTo:[],controllerName:"Custom",actionName:"Layouts"},{moduleName:"CRM",name:"ManageTax",displayName:"ManageTax",icon:"fa fa-dollar",redirectTo:$t+"/Tax/Index",visibleTo:[],controllerName:"Tax",actionName:"Index"},{moduleName:"CRM",name:"ProductType",displayName:"ProductType",icon:"fa fa-cube",redirectTo:"/CRM/ItemTypeListing",visibleTo:[],controllerName:"CRM",actionName:"ItemTypeListing"},{moduleName:"CRM",name:"Status",displayName:"Status",icon:"fa fa-star-half-o",redirectTo:$t+"/Status/Index",visibleTo:[],controllerName:"Status",actionName:"Index"},{moduleName:"Timer",name:"ApprovalChain",displayName:"ApprovalChain",icon:"fa hs-appchain_colored",redirectTo:$t+"/ApprovalChain/Index",controllerName:"ApprovalChain",actionName:"Index",visibleTo:[]},{moduleName:"Timer",name:"ApprovalGroup",displayName:"ApprovalGroup",icon:"fa fa-users",redirectTo:$t+"/ApprovalGroup/Index",controllerName:"ApprovalGroup",actionName:"Index",visibleTo:[]},{moduleName:"Timer",name:"ApprovalRule",displayName:"ApprovalRule",icon:"fa hs-apprule_colored",redirectTo:$t+"/ApprovalRule/Index",controllerName:"ApprovalRule",actionName:"Index",visibleTo:[]},{moduleName:"Timer",name:"AuditRule",displayName:"AuditRule",icon:"fa hs-auditrule_colored",redirectTo:$t+"/Audit/Index",controllerName:"Audit",actionName:"Index",visibleTo:[]},{moduleName:"Timer",name:"Break",displayName:"Break",icon:"fa fa-coffee",redirectTo:$t+"/Break/Index",controllerName:"Break",actionName:"Index",visibleTo:[]},{moduleName:"Timer",name:"CompanyHolidays",displayName:"companyholidays",icon:"fa hs-compholi_colored",redirectTo:$t+"/CompanyHoliday/Index",controllerName:"CompanyHoliday",actionName:"Index",visibleTo:[]},{moduleName:"Timer",name:"ManageTags",displayName:"ManageTags",icon:"fa fa-tags",redirectTo:$t+"/Tag/Index",controllerName:"Tag",actionName:"Index",visibleTo:[]},{moduleName:"Timer",name:"WorkingDay",displayName:"WorkingDay",icon:"fa fa-calendar-o",redirectTo:$t+"/WorkDay/Manage",controllerName:"WorkDay",actionName:"Manage",visibleTo:[]},{moduleName:"Timer",name:"WorkingWeek",displayName:"WorkingWeek",icon:"fa fa-calendar-o",redirectTo:$t+"/Week/manage",controllerName:"Week",actionName:"manage",visibleTo:[]},{moduleName:"DocStorage",name:"ClientStorage",displayName:"ManageClientStorage",icon:"fa fa-server",redirectTo:"/UserStorage/ManageClient",visibleTo:[],controllerName:"UserStorage",actionName:"ManageClient"},{moduleName:"DocStorage",name:"UserStorage",displayName:"ManageUserStorage",icon:"fa fa-user",redirectTo:"/UserStorage/Manage",visibleTo:[],controllerName:"UserStorage",actionName:"Manage"},{moduleName:"DocStorage",name:"Tags",displayName:"ManageTags",icon:"fa fa-tags",redirectTo:"/Tag/Index",visibleTo:[],controllerName:"Tag",actionName:"Index"}],kt=[{groupName:"UserManagement",links:[{name:"Department",displayName:"Department",icon:"fa fa-users",redirectTo:"/Department/Index",app:"Default",controllerName:"Department",actionName:"Index"},{name:"Designation",displayName:"Designation",icon:"fa fa-address-card",redirectTo:"/Designation/Index",app:"Default",controllerName:"Designation",actionName:"Index"},{name:"Location",displayName:"Location",icon:"fa fa-map-marker",redirectTo:"/Location/Index",app:"Default",controllerName:"Location",actionName:"Index"},{name:"LoginAuthorization",displayName:"LoginAuthorization",icon:"fa fa-lock",redirectTo:"/LoginAuthorization/Index",app:"Default",controllerName:"LoginAuthorization",actionName:"Index"},{name:"PassportInformation",displayName:"PassportInformation",icon:"fa fa-cog",redirectTo:"/Immigration/Index",app:"Default",controllerName:"Immigration",actionName:"Index"},{name:"Role",displayName:"Role",icon:"fa fa fa-file",redirectTo:"/Roles/Index",app:"Default",controllerName:"Roles",actionName:"Index"},{name:"User",displayName:"User",icon:"fa fa-user",redirectTo:"/User/Index",app:"Default",controllerName:"User",actionName:"Index"}]},{groupName:"CompanyManagement",links:[{name:"Announcement",displayName:"Announcement",icon:"fa fa-bullhorn",redirectTo:"/AnnouncementMessage/Index",app:"Default",controllerName:"AnnouncementMessage",actionName:"Index"},{name:"ContextMenu",displayName:"ContextMenu",icon:"fa fa-sliders",redirectTo:"/CompanyAdmin/ViewContextMenu",app:"Default",controllerName:"CompanyAdmin",actionName:"ViewContextMenu"},{name:"CompanyNotifications",displayName:"CompanyNotifications",icon:"fa fa-bell ",redirectTo:"/Notification/index",app:"Default",controllerName:"Notification",actionName:"index"},{name:"Greeting",displayName:"Greeting",icon:"fa fa-thumbs-o-up",redirectTo:"/Greeting/Index",app:"Default",controllerName:"Greeting",actionName:"Index"},{name:"ManageSubscription",displayName:"ManageSubscription",icon:"fa fa-usb",redirectTo:"/Billing/Index",app:"Default",controllerName:"Billing",actionName:"Index"},{name:"OrganizationChart",displayName:"OrganizationChart",icon:"fa fa-bar-chart",redirectTo:"/OrganizationChart/OrgChart",app:"Default",controllerName:"OrganizationChart",actionName:"OrgChart"},{name:"PasswordPolicy",displayName:"PasswordPolicy",icon:"fa fa-cog",redirectTo:"/Immigration/Index",app:"Default",app:"Default",controllerName:"Immigration",actionName:"Index"},{name:"ProvisionalRight",displayName:"ProvisionalRight",icon:"fa-file-text-o",redirectTo:"/ProvisionalRight/Index",app:"Default",controllerName:"ProvisionalRight",actionName:"Index"},{name:"Status",displayName:"Status",icon:"fa fa fa-star-half-o",redirectTo:"/Status/Index",app:"Default",controllerName:"Status",actionName:"Index"},{name:"Storage",displayName:"Storage",icon:"fa fa-user-o",redirectTo:"/Storage/Index",app:"Default",controllerName:"Storage",actionName:"Index"}]}],Mt=async function(e){var t=[],a=[];const{data:i}=await h.GetAllowedPrivilege();return a=i,"ticketing"==e.toLowerCase()?(await h.IsExtraMapFeature().then((function(a){t=Rt.filter((function(t){return t.moduleName.toLowerCase()==e.toLowerCase()&&"undefined"!=typeof t.visibleTo&&1==t.visibleTo.includes(a.data)}))})),t=t.filter(e=>a.some(t=>t.controller==e.controllerName&&t.action==e.actionName))):(t=Rt.filter((function(t){return t.moduleName.toLowerCase()==e.toLowerCase()})),t=t.filter(e=>a.some(t=>t.controller==e.controllerName&&t.action==e.actionName))),t};var Gt=window.location.pathname,Ut={components:{configuration:T,moduleSetupPopup:Pt},data:function(){return{isLoading:!0,userTypeId:3,moduleList:[],currentTab:"Appointment".toLowerCase(),moduleDisplayName:"Appointment",moreSettings:[],setupProgress:0,isOpenConfiguration:!1,isOpenSetupModule:!1,progressColor:"progress-bar progress-bar-striped bg-default",setupTabs:[],generalSettingList:kt,currentUrl:Gt,showMobileTabs:!1,moduleSearchElement:""}},created:function(){this.userTypeId="CA"==this.GetUserInfo.UserType?1:"PM"==this.GetUserInfo.UserType?2:"NU"==this.GetUserInfo.UserType?3:4,this.GetModuleList()},computed:{SetupProgresText(){return 0==this.setupProgress?"Not Started":100==this.setupProgress?"Completed":"In Progress"},GetSelectedModuleItem(){var e=this,t=e.moduleList.filter(t=>t.module_name.toLowerCase()==e.currentTab.toLowerCase());return t[0]}},methods:{OnModuleSearch:function(){var e=this;""!=e.moduleSearchElement?e.moduleList.forEach((function(t){t.module_name.toLowerCase().includes(e.moduleSearchElement.toLowerCase())?t.isVisible=!0:t.isVisible=!1})):e.moduleList.forEach((function(e){e.isVisible=!0}))},GetProgresSetupStatusDetail:function(){var e=this;e.setupProgress=0;var t="moduleName="+e.currentTab;e.setupTabs=[],r["a"].GetProgresSetupStatusDetail(t).then((function(t){if(t&&null!=t.data&&"Success"==t.data.status){var a=t.data.result,i=Math.ceil(100/a.length);a.forEach((function(t){e.setupTabs.push({tabCode:t.COMPONENT_NAME,componentName:t.COMPONENT_NAME,displayName:t.DISPLAY_NAME,icon:t.ICON,isCompleted:t.IS_COMPLETED}),1==t.IS_COMPLETED&&(e.setupProgress+i<100?e.setupProgress=+e.setupProgress+i:e.setupProgress=100)}))}}))},CloseOpenSetupModule:function(){this.isOpenSetupModule=!this.isOpenSetupModule},CloseOpenConfigPopup:function(){this.isOpenConfiguration=!this.isOpenConfiguration},GetMoreSettings:function(){var e=this;Mt(e.currentTab).then((function(t){e.moreSettings=t}))},SetCurrentTab:function(e,t){this.currentTab=e.toLowerCase(),this.moduleDisplayName=t,this.GetMoreSettings(),history.pushState(null,"","/AdvanceSetup/"+e),this.GetProgresSetupStatusDetail()},GetModuleList:function(){var e=this;r["a"].GetModuleList("?userTypeId="+e.userTypeId+"&isForAdvanceSetup=true").then((function(t){if(t&&null!=t&&null!=t.data){var a=t.data.Data;a.forEach((function(e){e.isVisible=!0})),e.moduleList=a}if(e.isBlank(e.$route.params.moduleCode)||"index"==e.$route.params.moduleCode.toLowerCase())e.currentTab=e.moduleList[0].module_name.toLowerCase(),e.moduleDisplayName=e.moduleList[0].module_name;else{var i=e.moduleList.filter(t=>t.module_name.toLowerCase()==e.$route.params.moduleCode.toLowerCase());e.currentTab=e.$route.params.moduleCode.toLowerCase(),e.moduleDisplayName=i[0].module_name}e.GetMoreSettings(),e.GetProgresSetupStatusDetail(),e.isLoading=!1}))},UpdateProgress:function(e,t){this.setupTabs[e-1].isCompleted=!0},RedirectTo:function(e){if("Current"==e.app){var t=`${e.redirectTo}?reqUrl=${this.currentUrl}`;this.$router.push({path:""+t})}else window.location.href=`http://qatest.talygen.com${e.redirectTo}?reqUrl=${this.currentUrl}`}}},Bt=Ut,zt=(a("3361"),Object(f["a"])(Bt,i,n,!1,null,null,null));t["default"]=zt.exports},3361:function(e,t,a){"use strict";a("59a7")},3654:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".table th[data-v-62d11e30]{position:relative}.resizer[data-v-62d11e30]{position:absolute;top:0;right:0;width:5px;cursor:col-resize;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}",""]),e.exports=t},"49ef":function(e,t,a){var i=a("1541");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("1eae65e3",i,!0,{sourceMap:!1,shadowMode:!1})},"514f":function(e,t,a){"use strict";a("ac94")},5875:function(e,t,a){var i=a("82e7");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("306572c2",i,!0,{sourceMap:!1,shadowMode:!1})},"59a7":function(e,t,a){var i=a("23b9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("c401db8a",i,!0,{sourceMap:!1,shadowMode:!1})},"6b79":function(e,t,a){"use strict";a("9e36")},7181:function(e,t,a){"use strict";a("f784")},"7bff":function(e,t,a){"use strict";a("7f41")},"7f41":function(e,t,a){var i=a("3654");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("6d40f5ab",i,!0,{sourceMap:!1,shadowMode:!1})},"7fad":function(e,t,a){"use strict";a("49ef")},"82e7":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"#modelAddProduct .modal-dialog{max-width:1200px!important}#Location .vue-treeselect__control .vue-treeselect__x-container{display:none}#Location .vue-treeselect{position:relative;text-align:left}#Location .vue-treeselect--single .vue-treeselect__input{width:100%;height:100%;box-sizing:border-box;border:none}.vue-treeselect.form-control .vue-treeselect__control{border:none!important;height:auto}.vue-treeselect.form-control .vue-treeselect__control .vue-treeselect__single-value{line-height:20px;padding-left:0}.no-spinner::-webkit-inner-spin-button,.no-spinner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.no-spinner{-moz-appearance:textfield}.custlocation>span{width:91%}.custlocation .vue-treeselect__placeholder.vue-treeselect-helper-zoom-effect-off{line-height:22px}.modal-backdrop{visibility:hidden}",""]),e.exports=t},8658:function(e,t,a){var i=a("cbbb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("26dfa0c1",i,!0,{sourceMap:!1,shadowMode:!1})},"95d9":function(e,t,a){"use strict";a("8658")},"9a1f":function(e,t,a){"use strict";a("5875")},"9e36":function(e,t,a){var i=a("db0b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("4a817cdc",i,!0,{sourceMap:!1,shadowMode:!1})},ac94:function(e,t,a){var i=a("bd85");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("01a3c584",i,!0,{sourceMap:!1,shadowMode:!1})},bd85:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".custom-control-label{text-transform:capitalize}",""]),e.exports=t},cbbb:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".vue-slider-dot-tooltip{position:absolute;visibility:visible}.vue-slider-dot-tooltip-inner{background-color:#505557;height:20px}.jslider .jslider-label{font-size:14px;line-height:12px;color:#000;opacity:.5;white-space:nowrap;padding:0 2px;position:absolute;top:-12px;left:91%}.vue-slider{height:5px!important;padding:30px 0}.vue-slider-dot-handle{width:18px!important;height:18px!important;top:-2px;left:-2px}.vue-slider-dot-tooltip-inner{font-size:12px}.vue-slider-dot-tooltip-text{font-weight:300}",""]),e.exports=t},d6c2:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".mandatory{font-size:11px}",""]),e.exports=t},db0b:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"#ProductTypeCode .form-group a{position:absolute;top:-24px;left:144px}.popup-overlay{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999;background-color:rgba(0,0,0,.5);width:100%;height:100%;display:flex;justify-content:center;align-items:center}.my-popups .modal{z-index:99999}",""]),e.exports=t},f784:function(e,t,a){var i=a("d6c2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=a("499e").default;o("226e9c92",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-34ceb90f.js.map