(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bb8661a"],{"0c3d":function(e,a,t){"use strict";t("15a8")},"15a8":function(e,a,t){var i=t("8a12");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=t("499e").default;n("b6e33612",i,!0,{sourceMap:!1,shadowMode:!1})},1695:function(e,a,t){var i=t("ee60");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=t("499e").default;n("3f5a8266",i,!0,{sourceMap:!1,shadowMode:!1})},"6d44":function(e,a,t){"use strict";t("1695")},"8a12":function(e,a,t){var i=t("24fb");a=i(!1),a.push([e.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),e.exports=a},"8dd4":function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block "},[t("div",{staticClass:"modal-dialog ui-draggable",staticStyle:{display:"inline-block"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle"},[t("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[e._v(e._s(e.title))]),t("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(a){return e.$emit("close")}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"backgroundPopup"}},[t("section",{staticClass:"main-content",attrs:{id:"main-content"}},[t("section",{staticClass:"main-content"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{staticClass:"p-0"},[t("dynamic-form",{ref:"dynamicForm",staticClass:"daterangecontrolHS",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)])])])])])])])])])},n=[],o=(t("14d9"),t("b7ef"),t("ed09")),s=t("7bb1"),l=t("b9b9"),r=t("9769"),c=t("c1df"),m=t.n(c);Object(s["c"])("required",{validate(e){return console.log("checkk"),{required:!0,valid:-1===["",null,void 0].indexOf(e)}},message:"The {_field_} is required"});var f=Object(o["defineComponent"])({name:"Manage Departemts",components:{ValidationObserver:s["a"],ValidationProvider:s["b"]},props:{addApiUrl:{type:String},emitName:{type:String},moduleName:{type:String},subModule:{type:String},title:{type:String},recordId:{type:Number}},created:function(){let e=this.recordId?this.recordId:0;this.getForm(e)},watch:{hoursDifference(){const e=this.$refs.dynamicForm.$el,a=e.querySelector('#shift_hours input[type="text"]');a&&(a.value=this.hoursDifference)}},methods:{getDifference(){if(!this.startTime||!this.endTime)return"Start time and end time are required to calculate the difference.";{const e=this.startTime.split(":"),a=this.endTime.split(":");let t=parseInt(e[0]),i=parseInt(a[0]);e[1].includes("PM")&&12!==t&&(t+=12),a[1].includes("PM")&&12!==i&&(i+=12);const n=60*t+parseInt(e[1]),o=60*i+parseInt(a[1]);let s=o-n;s<0&&(s+=1440);let l=Math.floor(s/60),r=s%60;this.hoursDifference=parseFloat(l+"."+r)}},getForm:function(e){var a=this;a.isLoading=!0;var t=`recordId=${e}&moduleName=${this.moduleName}&subModuleCode=${this.subModule}`;r["a"].GetDynamicForm(t).then((function(e){null!=e&&null!=e.data&&(a.isMapFeature=e.data.isFsmLocating,a.FormSchema=a.$refs.dynamicForm.ConvertCustomFieldIntoDynamicFormObj(e.data.data),a.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"user_name"!=e.name&&"password"!=e.name&&"signature"!=e.name&&"from_time"!=e.name&&"to_time"!=e.name||(e.visibility=!1),"RadioField"==e.astype&&(e.value=1),"break_duration"==e.name&&(e.config.is24hr=!0),"attachment"==e.name&&(e.config={maxSize:5,accept:[{fileType:"doc",iconClass:"fa-file-word-o"},{fileType:"docx",iconClass:"fa-file-word-o"},{fileType:"txt",iconClass:"fa-file-text-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"gif",iconClass:"fa-file-image-o"},{fileType:"bmp",iconClass:"fa-file-image-o"}],multiple:!1}),"shift_hours"==e.name&&(e.disabled=!0,e.placeholder="Shift Hours"),e.config.onChange=a.OnChangeEventsforField})}),console.log(a.FormSchema),a.FormSchema.length>0&&(a.FormSchema[0].visibility=!1),a.isLoading=!1)}))},OnChangeEventsforField:function(e,a,t){let i=this;if("FILL_DEPENDENT"==e){a.config.options=[];var n=`id=&moduleName=${i.moduleName}&type=${a.config.fieldCode}&search=&refId=${t}`;r["a"].GetDDLData(n).then((function(e){if(e.data){var t=e.data;null!=t&&(a.config.options=e.data.DATA,i.$refs.dynamicForm.UpdateKeyValue())}}))}else"payment_gateway_code"==a.name&&"Authorize"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.label="API Login ID"),"password"==e.name&&(e.visibility=!0,e.label="Transaction Key"),"signature"==e.name&&(e.visibility=!1)})}):"payment_gateway_code"==a.name&&"Paypal"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.label="User Name"),"password"==e.name&&(e.visibility=!0,e.label="Password"),"signature"==e.name&&(e.visibility=!0)})}):i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.label="Secret Key"),"password"==e.name&&(e.visibility=!0,e.label="Publishable Key"),"signature"==e.name&&(e.visibility=!1)})}),"attachment"==a.name&&i.GetBase64String(a.value),"start_time"==a.name&&(i.startTime=i.$options.filters.formatTime(a.value),i.getDifference()),"end_time"==a.name&&(i.endTime=i.$options.filters.formatTime(a.value),i.getDifference()),"location_country"==a.name&&(console.log("country",a.value),this.GetStateDDL(a.value)),"is_full_day"==a.name&&"Partial Day"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"from_time"==e.name&&(e.visibility=!0),"to_time"==e.name&&(e.visibility=!0)})}):i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"from_time"==e.name&&(e.visibility=!1),"to_time"==e.name&&(e.visibility=!1)})}),"category_type_id"==a.name&&"Ticket"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"IsForServiceRequest"==e.name&&(e.visibility=!0)})}):"category_type_id"==a.name&&"Ticket"!=a.config.options.filter(e=>e.value==a.value)[0].name&&i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"IsForServiceRequest"==e.name&&(e.visibility=!1)})}),"isFixed"==a.name&&"Observed"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"is_recurring"==e.name&&(e.value=0,e.disabled=!0)})}):i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"is_recurring"==e.name&&(e.disabled=!1)})})},GetBase64String:function(e){try{var a=this;a.fileData=[];var t=e.target.files[0],i=new FileReader;i.onload=function(e){return function(e){var i=e.target.result,n=window.btoa(i),o=t.name;a.fileName=o;var s=o.lastIndexOf("."),l=o.substring(s+1,o.length);a.fileExt+="."+l;var r='{"ContentType":"'+t.type+'","Size":"'+t.size+'","Extension":"'+l+'"}',c=t.size;a.fileSize=c;var m={attachement_mime:r,fileName:o,base64String:n,fileSize:t.size,contentType:t.type};console.log(m),a.fileData.push(m)}}(),i.readAsBinaryString(t)}catch(n){}},SizeToMb:function(e){var a=this,t=1048576*parseInt(a.allowedPerFileSizeInMb,10);if(e>t)return-1;var i=e/1024/1024;return i},GetStateDDL:async function(e){var a=0;a=e,console.log(a);var t="id=&&moduleName=Location&type=STATE&search=&refId="+a;try{const e=await r["a"].GetDDLData(t);e.data&&e.data.DATA?(ths.$refs.dynamicForm.updateProperty("on_behalf_consumer_id","config.options",e.data.DATA),console.log("No data received from the API")):"payment_gateway_code"==y.name&&"Authorize"==y.config.OptionsForBind[0].name?ths.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.label="API Login ID"),"password"==e.name&&(e.visibility=!0,e.label="Transaction Key"),"signature"==e.name&&(e.visibility=!1)})}):"payment_gateway_code"==y.name&&"Paypal"==y.config.OptionsForBind[1].name?ths.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.label="User Name"),"password"==e.name&&(e.visibility=!0,e.label="Password"),"signature"==e.name&&(e.visibility=!0)})}):ths.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.label="Secret Key"),"password"==e.name&&(e.visibility=!0,e.label="Publishable Key"),"signature"==e.name&&(e.visibility=!1)})})}catch(i){}},async onSubmit(){let e=Object(l["b"])(this.FormSchema);"Break"==this.moduleName&&e.find((function(e){"break_duration"==e.field_name&&(e.field_value=m()(new Date(e.field_value)).format("HH:mm"))})),"Shift"==this.moduleName&&e.find((function(e){"start_time"==e.field_name&&(e.field_value=m()(new Date(e.field_value)).format("HH:mm"))})),r["a"].DepartmentAdd(e,this.addApiUrl).then(e=>{null!=e.data.Result&&e.data.Result.MAIN_ID>0?(this.ShowAlert(this.$t("SavedSuccessfully"),"success",!1,this.$t("Alert")),this.$emit(this.emitName)):"FAILURE"==this.$t(e.data.Status)?this.ShowAlert(this.$t("ErrorWhileSavingRecords"),"danger",!1,this.$t("Alert")):this.ShowAlert(this.$t("RecordAlreadyExists"),"danger",!1,this.$t("Alert"))})},closePopup(){this.$emit("close")}},data(){return{startTime:null,endTime:null,hoursDifference:null,editor:this.CLASSIC_EDITOR,department:{name:"",status:{name:"active",id:1},visibaleToclients:!1,visibaleToTicting:!1,description:""},buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],FormSchema:[],isLoading:!1}}}),d=f,u=(t("0c3d"),t("2877")),h=Object(u["a"])(d,i,n,!1,null,null,null);a["a"]=h.exports},aae2:function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"col-md-12 p-0 mb-2"},[e._m(0),t("div",{staticClass:"left-tab-container"},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix"},e._l(e.leftTabList,(function(a){return t("li",{staticClass:"nav-link left-menu",class:{active:a.goTo===e.$route.path}},[t("router-link",{staticStyle:{"align-items":"center"},attrs:{to:a.goTo}},[t("div",{staticClass:"listing"},[t("i",{staticClass:"mr-2",class:a.icon}),e._v(e._s(a.title))])])],1)})),0)])])])},n=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v("Company Setup")])])}],o={name:"listing-status",props:{HeaderText:{type:String,required:!0}},data:function(){return{Header:this.HeaderText,leftTabList:[{title:"Announcement",icon:"fa fa-bullhorn",goTo:"/AnnouncementMessage/Index"},{title:"Break",icon:"fa fa-clock-o",goTo:"/Break/Index"},{title:"Canned Reply",icon:"fa fa-envelope",goTo:"/CannedReply/Index"},{title:"Category",icon:"fa fa-tasks",goTo:"/Category/Index"},{title:"Channel",icon:"fa fa-television",goTo:"/Channel/Index"},{title:"Company Holiday",icon:"fa fa-calendar",goTo:"/CompanyHoliday/Index"},{title:"Company Notification",icon:"fa fa-bell",goTo:"/CompanyNotification/Index"},{title:"Contact Type",icon:"fa fa-list-alt",goTo:"/ContactType/Index"},{title:"Currency Management",icon:"fa fa-list-alt",goTo:"/CurrencyManagement/Index"},{title:"Department",icon:"fa fa-users",goTo:"/Department/Index"},{title:"Designation",icon:"fa fa-address-card",goTo:"/Designation/Index"},{title:"Email Template",icon:"fa fa-clock-o",goTo:"/EmailTemplate/Index"},{title:"Feedback",icon:"fa fa-map-marker",goTo:"/Feedback/Index"},{title:"Greeting",icon:"fa fa-thumbs-o-up",goTo:"/Greeting/Index"},{title:"Industry Type",icon:"fa fa-building-o",goTo:"/IndustryType/Index"},{title:"Immigration",icon:"fa fa-address-card",goTo:"/Immigration/Index"},{title:"Location",icon:"fa fa-map-marker",goTo:"/Location/Index"},{title:"Login Authorization",icon:"fa fa-map-marker",goTo:"/LoginAuthorization/Index"},{title:"Payment Gateway",icon:"fa fa-clock-o",goTo:"/PaymentGateway/Index"},{title:"Provisional Right",icon:"fa fa-map-marker",goTo:"/ProvisionalRight/Index"},{title:"Review Template",icon:"fa fa-clock-o",goTo:"/ReviewTemplate/Index"},{title:"Service",icon:"fa fa-star",goTo:"/Service/Index"},{title:"Shift",icon:"fa fa-clock-o",goTo:"/Shift/Index"},{title:"Skill",icon:"fa fa-star",goTo:"/Skill/Index"},{title:"Stage",icon:"fa fa-bar-chart",goTo:"/Stage/Index"},{title:"Status",icon:"fa fa-bar-chart",goTo:"/Status/Index"},{title:"Storage",icon:"fa fa-star",goTo:"/Storage/Index"},{title:"User Title",icon:"fa fa-star",goTo:"/UserTitle/Index"}]}},methods:{}},s=o,l=(t("6d44"),t("2877")),r=Object(l["a"])(s,i,n,!1,null,"7acd3fcc",null);a["a"]=r.exports},ee60:function(e,a,t){var i=t("24fb");a=i(!1),a.push([e.i,".left-tab-container[data-v-7acd3fcc]{max-height:70vh;overflow-y:auto}.left-tab .nav-link.left-menu a[data-v-7acd3fcc]{width:100%;display:flex}.left-tab .nav-link.left-menu.active .listing[data-v-7acd3fcc],.left-tab .nav-link.left-menu[data-v-7acd3fcc]:hover,.listing[data-v-7acd3fcc]:hover{color:#fff}",""]),e.exports=a}}]);
//# sourceMappingURL=chunk-2bb8661a.js.map