(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16310ddf"],{"098b":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("section",{staticClass:"main-content"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"padding-t_10",attrs:{id:"reportstabsdata"}},[a("div",{staticClass:"left-menu-tab",attrs:{id:"sidebarScheduleUpdate"}},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"theme-primary partition"},[a("span",{staticClass:"p-name text-white"},[t._v(t._s(t.navheading))])])]),a("ul",{staticClass:"nav nav-pills flex-column left-tab mt-2 responivecustomtab nav-tabs"},t._l(t.tabs,(function(e){return a("li",{key:e.id,class:{"nav-item":!0,active:t.activeTab===e.id},on:{click:function(a){t.activeTab=e.id,t.changeTab(e.id)}}},[a("span",{class:{"nav-link left-menu":!0,active:t.activeTab===e.id}},[t._v(t._s(e.title))])])})),0)]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"theme-primary partition p-actions-expand",attrs:{id:"ReturnRequestHeading"}},[a("span",{staticClass:"p-name text-white"},[t._v(t._s(t.Headerstext))]),a("span",{staticClass:"p-actions float-right"},[t._m(0),a("a",{staticClass:"p-action-btn text-white",attrs:{title:"Page Tour"},on:{click:function(a){return t.setTourGuideSteps(0)}}},[a("em",{staticClass:"fa fa fa-road"}),t._v(" "),a("br"),a("span",[t._v("Page Tour")])])])]),t._l(t.tabs,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.activeTab===e.id,expression:"activeTab === tab.id"}],key:e.id,staticClass:"col-md-12 p-0"},[a("div",{staticClass:"col-lg-12 border float-left py-3"},[a("div",{},[t.DataLoaded?a("dynamic-form",{attrs:{lang:"en",buttons:t.button,schema:t.FormSchema}}):t._e()],1),t._m(1,!0)]),a("div",{staticClass:"tab-content mb-2"},[a("div",{staticClass:"listing"},[a("tg-list",{attrs:{showCheckBox:!1,IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"ASSET_CATALOGUE_ID",PageSize:t.PageSize,HeaderText:"Asset Management",widgets:t.widgets,ListData:t.CalibrationData,HeaderData:t.Header,callbackfunction:t.FetchData,LegendArray:t.LegendArray,SearchFields:t.leftSearchFields,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NorecordfoundText"),TotalRecords:t.TotalRecord,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:e}){return["Edit"==e.column.COLUMN_NAME?[a("em",{staticClass:"fa fa-pencil text-success action-icon viewcomment",attrs:{id:"EditSchduleUpdate",title:e.column.COLUMN_NAME},on:{click:function(a){return t.Edit(e.row)}}})]:t._e(),"CALIBRATION_DATE"==e.column.COLUMN_NAME?[a("span",{attrs:{title:t.$options.filters.formatDateTimeMMDDYY(e.row.CALIBRATION_DATE)}},[t._v(t._s(t.$options.filters.formatDateTimeMMDDYY(e.row.CALIBRATION_DATE)))])]:t._e()]}}],null,!0)})],1)])])}))],2),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 text-right px-0 float-left"},[a("em",{staticClass:"btn btn-success text-white mr-2",attrs:{disabled:1===t.activeTab,value:"Previous",title:"Previous",name:"Previous"},on:{click:t.previousTab}},[a("i",{staticClass:"fa fa-angle-double-left pr-2"}),a("span",[t._v("Previous")])]),a("em",{staticClass:"btn btn-primary text-white",attrs:{disabled:t.activeTab===t.tabs.length,value:"Next",title:"Next",name:"btnNext"},on:{click:t.nextTab}},[a("span",[t._v("Next")]),a("i",{staticClass:"fa fa-angle-double-right pl-2"})])]),t.isEditModel?a("EditModel",{attrs:{HistoryItems:t.EditItems,TabName:t.tabName}}):t._e()],1)],1)},s=[function(){var t=this,a=t._self._c;return a("a",{staticClass:"p-action-btn text-white d-none",attrs:{id:"ancChangeView","data-isshow":"0"}},[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),a("br"),t._v("Change View")])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-12 mb-2 px-0"},[a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"colorboxsquare legends_profile"}),t._v("ExpiredCheckout ")])])}],o=(e("14d9"),e("1115")),n=e("240d"),r=function(){var t=this,a=t._self._c;return a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},["ImageCapturing"!=t.TabName?a("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.TabName)+" : "+t._s(t.HistoryItems.UNIQUE_NAME)+" ")]):a("h5",{staticClass:"modal-title"},[t._v(" "+t._s("Image Capturing")+" : "+t._s(t.HistoryItems.UNIQUE_NAME)+" ")]),a("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(a){return t.ClosePopup()}}},[a("em",{staticClass:"fa fa-times"})])]),a("div",{staticClass:"border p-3"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[t._v("Communication")]),a("small",{staticClass:"float-right icon_add add cursorpointer",attrs:{id:"ancAddEmail",title:"AddCommunicationService",checkprivilege:"yes"}},[a("i",{staticClass:"fa fa-plus pr-2"}),t._v(" "+t._s(t.$t("AddNew"))+" ")])])]),a("div",{staticClass:"mt-4"},[a("dynamic-form",{ref:"Audithistory",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1),a("tg-list",{attrs:{showCheckBox:!1,IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"RelatedinfoID",HeaderText:t.$t("AssetManagement"),widgets:t.widgets,ListData:t.viewHistroyData,HeaderData:t.Header,callbackfunction:t.FetchData,LegendArray:t.LegendArray,SearchFields:t.leftSearchFields,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NorecordfoundText"),TotalRecords:t.TotalRecord,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:e}){return["audit_date"==e.column.COLUMN_NAME?[a("span",{staticClass:"text-dark text-center",attrs:{title:e.column.COLUMN_NAME}},[t._v(" "+t._s(t.$options.filters.formatDate(e.row.audit_date))+" ")])]:t._e(),"StatusId"==e.column.COLUMN_NAME?[1==e.row.StatusId?a("em",{staticClass:"active-disabled"},[a("span",{staticClass:"btn d-inline-block w-80 text-center text-truncate"},[t._v(t._s(t.$t("Pass")))])]):t._e(),0==e.row.StatusId?a("em",{staticClass:"active-disabled"},[a("span",{staticClass:"btn d-inline-block w-80 text-center text-truncate"},[t._v(t._s(t.$t("Fail")))])]):t._e()]:t._e()]}}])})],1)])])])])},l=[],c={props:{HistoryItems:{type:Array,required:!0},TabName:{type:String,required:!0}},data(){return{widgets:[],viewHistroyData:[],listheaderbuttons:[],LegendArray:[],SortBy:"",SortExp:"",TotalRecord:0,PageNumber:1,PageSize:10,Header:[{COLUMN_NAME:"Audit_Name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("AuditorName"),DISPLAY_ORDER:1},{COLUMN_NAME:"audit_date",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("AuditDate"),DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"comment",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Comment"),DISPLAY_ORDER:3},{COLUMN_NAME:"StatusId",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:4,settings:{isInSlot:!0}}],FormSchema:[{layoutType:"double",Data:[{astype:"DateField",label:"Image Capturing  Date (M/D/YYYY)",name:"AuditDate",value:"",placeholder:"10/12/2022 12:AM",validationRules:{required:!0},config:{format:"MM/DD/YYYY",maxDate:new Date}},{astype:"DateField",label:"Next Image Capturing Date (M/D/YYYY)",name:"NextAuditDate",value:"",placeholder:"10/12/2022 12:AM",validationRules:{required:!0},config:{format:"MM/DD/YYYY",minDate:new Date}}]},{layoutType:"single",Data:[{astype:"RadioField",label:"Status",name:"Status",value:"1",placeholder:"",validationRules:{required:!1},config:{options:[{value:"1",name:"Pass"},{value:"0",name:"Fail"}],onChange:this.OnChangeStatus}},{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",validationRules:{required:!0,max:1e3},placeholder:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}]}},created:function(){var t=this;t.FetchData(),t.$parent.FetchData()},methods:{OnChangeStatus(t,a){a.value=t.target.getAttribute("data-value")},onSubmit(t,a){var e=this;let i={AuditDate:t.AuditDate,NextAuditDate:t.NextAuditDate,Status:t.Status,Comment:t.Comment,Historytype:e.TabName,RelatedInfoID:e.HistoryItems.RELATED_INFO_ID};o["a"].UpdateAuditHistory(i).then(t=>{null!=t.data&&(t.data.length>0?(e.FormSchema[0].Data[0].value="",e.FormSchema[0].Data[1].value="",e.FormSchema[1].Data[1].value="",e.$refs.Audithistory.validateForm.reset(),"ImageCapturing"==this.TabName&&(e.TabName="Image Capturing"),e.ShowAlert(e.$t(e.TabName+" Date successfully added."),"success",e.$t("Alert")),"Image Capturing"==this.TabName&&(e.TabName="ImageCapturing"),e.FetchData(),e.$parent.FetchData()):(e.ShowAlert(e.$t("Unknown Error Occur"),"failure",!0,e.$t("Alert")),e.$parent.CloseAuditpopup())),setTimeout((function(){e.CheckBoxBootstrap()}),100)})},FetchData(){var t=this,a=`RelatedInfoId=${t.HistoryItems.RELATED_INFO_ID}&HistoryType=${t.TabName}`;o["a"].GetAuditHistory(a).then(a=>{null!=a.data&&(a.data.data.length>0?(console.log(a.data.data),t.viewHistroyData=a.data.data,t.TotalRecord=a.data.data[0].TOTAL,t.TotalPage=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1,t.isLoading=!1):(t.noRecord=!0,t.viewHistroyData=[],t.TotalRecord=0,t.isLoading=!1))})},ClosePopup(){var t=this;t.TabName="",t.HistoryItems=[],this.$parent.ClosePopup()},sortdata:function(t){var a="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",a="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",a="sort tb_headerSortUp"):(this.SortExp="ASC",a="sort tb_headerSortDown")),$("#"+t+"  span:first-child").attr("class",a)},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNum=t.PageNumber,this.FetchData()},commonHeaderButtonClick:function(){},renderActions(){},renderRowActionMethod(){}}},d=c,u=(e("ba16"),e("2877")),m=Object(u["a"])(d,r,l,!1,null,null,null),h=m.exports,p={components:{"tree-view":n["TreeSelectField"],EditModel:h},data(){return{listheaderbuttons:[],LegendArray:[],CalibrationData:[],EditItems:[],Header:[{COLUMN_NAME:"LOCATION_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("LocationName"),DISPLAY_ORDER:1},{COLUMN_NAME:"ITEM_CODE",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductCode"),DISPLAY_ORDER:2},{COLUMN_NAME:"NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductName"),DISPLAY_ORDER:3},{COLUMN_NAME:"UNIQUE_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("UniqueName"),DISPLAY_ORDER:4},{COLUMN_NAME:"FREQUENCY",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Frequency"),DISPLAY_ORDER:5},{COLUMN_NAME:"CALIBRATION_DATE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DueDate"),DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"Edit",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Edit"),DISPLAY_ORDER:7,settings:{isInSlot:!0}}],widgets:[],noRecord:!0,TotalRecord:0,CurrentPage:1,TotalPage:0,itemName:"",tabName:"Calibration",itemUniqueName:"",locationId:"",dueDate:"",frequency:"",SortBy:"",SortExp:"",PageNumber:1,PageSize:10,activeTab:1,tabs:[{id:1,title:"Calibration"},{id:2,title:"Audit"},{id:3,title:"Image Capturing"}],navheading:"Maintenance Schedule",isLoading:!1,isEditModel:!1,DataLoaded:0,Headerstext:"Calibration",FormSchema:[{layoutType:"four",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:null,placeholder:"Select",config:{options:[]}},{astype:"SelectField",label:this.$t("Frequency"),name:"Frequency",value:"",placeholder:"",validationRules:{required:!1},config:{options:[{name:"Annually",value:"annual"},{name:"Half yearly",value:"halfyear"},{name:"Quarterly",value:"quarterly"},{name:"Monthly",value:"month"},{name:"Bi-Weekly",value:"biweek"},{name:"Weekly",value:"week"},{name:"Daily",value:"daily"}]}},{astype:"TextField",label:this.$t("Product"),name:"Product",value:"",placeholder:"Enter Product Name",validationRules:{required:!1,max:250}},{astype:"TextField",label:this.$t("UniqueName"),name:"UniqueName",value:"",placeholder:"Enter Unique Name",validationRules:{required:!1,max:250}},{astype:"DateField",label:this.$t("DueDate"),name:"DueDate",value:"",placeholder:"10/12/2022 12:AM",config:{format:"M/D/YYYY"}}]}],button:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-search pr-2'></i>"+this.$t("Search"),onClick:this.Search},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-refresh pr-2'></i>"+this.$t("ClearAll"),onClick:this.Clear}],PageNum:1}},created:async function(){var t=this;await t.GetPageSize(),await t.FetchData(),await t.GetLocationByuserId(),t.DataLoaded=1},methods:{async GetPageSize(){var t=this,a="key=DefaultPageSize";await o["a"].GetConfigurationValueForCompanyByKey(a).then(a=>{null!=a.data&&(t.PageSize=parseInt(a.data))})},async GetLocationByuserId(){var t=this,a="reqForm=";await o["a"].GetLocationByCompanyId(a).then((function(a){t.FindalLocationArray=[],t.LocationDataTree=JSON.parse(a.data).data,t.LocationDataTree.forEach(e=>{var i=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==i.length&&null==e.PARENT_LOCATION_ID){let i=e.COMPANY_LOCATION_ID,s=t.getChildLocation(i,e,JSON.parse(a.data).data);t.FindalLocationArray.push(s)}}),t.FormSchema[0].Data[0].config.options=t.FindalLocationArray}))},getChildLocation:function(t,a,e){let i=this,s={};s={id:a.COMPANY_LOCATION_ID,label:a.LOCATION_NAME};let o=s;var n=e.filter((function(a){return a.PARENT_LOCATION_ID==t}));let r=[];return n.forEach(t=>{let a=t.COMPANY_LOCATION_ID;var o=r.filter((function(a){return a.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var n=e.filter((function(t){return t.PARENT_LOCATION_ID==a}));if(null!=n&&n.length>0){let s=i.getChildLocation(a,t,e);r.push(s)}else s={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},r.push(s)}}),o.children=r,o},changeTab(t){var a=this;1==t?(a.SortBy="",a.SortExp="",a.Headerstext="Calibration",a.tabName="Calibration",a.FetchData()):2==t?(a.SortBy="",a.SortExp="",a.Headerstext="Audit",a.tabName="Audit",a.FetchData()):(a.SortBy="",a.SortExp="",a.Headerstext="Image Capturing",a.tabName="ImageCapturing",a.FetchData())},previousTab(){this.activeTab>1&&(this.activeTab--,1==this.activeTab?(this.tabName="Calibration",this.FetchData()):2==this.activeTab?(this.tabName="Audit",this.FetchData()):(this.tabName="ImageCapturing",this.FetchData()))},nextTab(){this.activeTab<=this.tabs.length-1&&(this.activeTab++,1==this.activeTab?(this.tabName="Calibration",this.FetchData()):2==this.activeTab?(this.tabName="Audit",this.FetchData()):(this.tabName="ImageCapturing",this.FetchData()))},FetchData(){var t=this;"undefined"!=typeof t.locationId&&null!=t.locationId||(t.locationId=""),t.isLoading=!0;var a=`tabName=${t.tabName}&itemUniqueName=${t.itemUniqueName}&locationid=${t.locationId}&frequency=${t.frequency}&dueDate=${t.dueDate}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNum=${t.PageNum}`;o["a"].GetListScheduleUpdate(a).then(a=>{null!=a.data&&(JSON.parse(a.data).length>0?(t.CalibrationData=JSON.parse(a.data),t.TotalRecord=t.CalibrationData[0].TOTALRECORDS,t.TotalPage=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1,t.isLoading=!1):(t.noRecord=!0,t.CalibrationData=[],t.TotalRecord=0,t.isLoading=!1))})},sortdata:function(t){var a="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",a="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",a="sort tb_headerSortUp"):(this.SortExp="ASC",a="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",a)},Search:function(){var t=this;t.locationId=t.FormSchema[0].Data[0].value,t.frequency=t.FormSchema[0].Data[1].value,t.itemName=t.FormSchema[0].Data[2].value,t.itemUniqueName=t.FormSchema[0].Data[3].value,t.dueDate=t.FormSchema[0].Data[4].value,t.FetchData()},Clear:function(){var t=this;t.FormSchema[0].Data[0].value=null,t.FormSchema[0].Data[1].value="",t.FormSchema[0].Data[2].value="",t.FormSchema[0].Data[3].value="",t.FormSchema[0].Data[4].value="",t.locationId="",t.changeTab(this.activeTab)},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNum=t.PageNumber,this.FetchData()},Edit:function(t){var a=this;a.EditItems=t,a.isEditModel=!0},ClosePopup(){var t=this;t.isEditModel=!1},commonHeaderButtonClick:function(){},renderActions(){},renderRowActionMethod(){}}},A=p,C=(e("600b"),Object(u["a"])(A,i,s,!1,null,null,null));a["default"]=C.exports},"600b":function(t,a,e){"use strict";e("6caa")},"6caa":function(t,a,e){var i=e("fec7");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("36ae5d15",i,!0,{sourceMap:!1,shadowMode:!1})},"77f2":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".my-popups .modal-content .expand-list{z-index:-86!important}",""]),t.exports=a},ab16:function(t,a,e){var i=e("77f2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("4bfb1cc6",i,!0,{sourceMap:!1,shadowMode:!1})},ba16:function(t,a,e){"use strict";e("ab16")},fec7:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,"tr.high-profile-bar td:first-child:after{background:#de0303}.center-icon{display:flex;justify-content:center;align-items:center}.vc-popover-content-wrapper{z-index:9999!important}",""]),t.exports=a}}]);
//# sourceMappingURL=chunk-16310ddf.js.map