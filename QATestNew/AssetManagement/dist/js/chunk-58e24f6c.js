(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58e24f6c"],{"13d5":function(t,e,a){"use strict";var s=a("23e7"),i=a("d58f").left,n=a("a640"),o=a("2d00"),c=a("605d"),r=!c&&o>79&&o<83,l=r||!n("reduce");s({target:"Array",proto:!0,forced:l},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},"34ef":function(t,e,a){"use strict";a("a3e6")},"5f25":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" Description : "+t._s(t.description)+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.ClosePopup(e)}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"modal-body"},[t.isCommentAvailable?t._e():e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-2"},[e("div",{staticClass:"border p-3"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),t.isFormSubmitted?e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))]):t._e()],1)]),t.isCommentAvailable?e("div",{staticClass:"col-lg-12"},[e("div",{},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center text-danger no_records"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])])])]):t._e(),t.isCommentAvailable?t._e():e("div",{staticClass:"listing",staticStyle:{"max-height":"465px","overflow-y":"auto"},attrs:{id:"CommentsData"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"w-100 activity-tab",attrs:{id:"accordion"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"conversation-main"},t._l(t.viewTransistData,(function(a,s){return e("div",{key:s,staticClass:"d-flex w-100 me-3"},[""!=a.comment?[e("div",{staticClass:"conversation-time"},[e("span",[t._v(t._s(t.$options.filters.formatTimeFromDateTime(a.standardtUsertm)))])]),e("div",{staticClass:"conversation-box-con"},[e("div",{staticClass:"conversation-box"},[t._m(0,!0),e("div",{staticClass:"conversation-header addednote-ticket"},[e("span",{staticClass:"sender-department",staticStyle:{"margin-left":"10px"}},[e("span",{staticClass:"sender-name"}),e("p",[a.comment.length>1?e("span",{attrs:{id:"more-49"}},[t._v(" "+t._s(a.comment)+" "),e("br")]):a.comment.length<49?e("span",{staticStyle:{display:"none"},attrs:{id:"less-49"}},[e("br"),e("a",{staticClass:"font12 readLessLink comments editbtn pullleft",attrs:{value:"49",href:"javascript:;",title:"less"}},[t._v(" less ")])]):t._e()])])]),null!=a.catalogueName?e("div",{staticClass:"conversation-content"},[e("div",{staticClass:"col-12 p-0 notesdata"},[e("h6",{staticClass:"text-muted time"},[e("i",[e("b",[t._v(" "+t._s(t.$t("PRODUCT_NAME"))+":")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(a.catalogueName))])])])])]):t._e(),null!=a.disputed_category?e("div",{staticClass:"conversation-content"},[e("div",{staticClass:"col-12 p-0 notesdata"},[e("h6",{staticClass:"text-muted time"},[e("i",[e("b",[t._v(" "+t._s(t.$t("category_name"))+":")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(a.disputed_category))])])])])]):t._e(),e("div",{staticClass:"conversation-content"},[e("div",{staticClass:"col-12 p-0 notesdata"},[e("h6",{staticClass:"text-muted time"},[e("i",[e("b",[t._v(" "+t._s(t.$t("Status"))+":")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(a.operation_code))])])])])]),e("div",{staticClass:"conversation-content"},[e("div",{staticClass:"col-12 p-0 notesdata"},[e("h6",{staticClass:"text-muted time"},[e("i",[e("b",[t._v(t._s(a.created_by))]),t._v(", "+t._s(t.$t("PostedOn"))+": "),e("span",{staticClass:"text-danger",attrs:{title:""}},[t._v(t._s(t.$options.filters.formatDate(a.created_at))+" "+t._s(a.postedTime))])])])])]),null!=a.disputed_category?e("div",{staticClass:"conversation-content"},[e("div",{staticClass:"col-12 p-0 notesdata"},[e("h6",{staticClass:"text-muted time"},[e("em",[e("b",[t._v(t._s(t.$t("DisputeDate")))]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.$options.filters.formatDate(a.disputed_date)))])])])])]):t._e()])])]:t._e()],2)})),0)])])])])])])])])])])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"name-circle"},[e("img",{staticClass:"img-circle w-100 avatar",attrs:{src:"/Content/images/DefaultImages/avatar-icon.jpg",alt:"Image"}})])}],n=a("1115"),o={props:{assetTransferdetailId:Number,assetTransferBatchId:Number,itemName:String,description:String},data(){return{viewTransistData:[],disputeFields:!0,InputTypeStatus:!1,relatedInfoId:0,locationId:0,isCommentAvailable:!1,isFormSubmitted:!0,FormSchema:[{layoutType:"single",Data:[{astype:"SelectField",label:this.$t("Category"),name:"Category",value:"",placeholder:"",visibility:!0,validationRules:{required:!0},config:{options:[{value:"RESOLVED",name:"Resolved"},{value:"PENDING",name:"Pending"},{value:"OTHER",name:"Other"}],onChange:this.changeField}}]},{layoutType:"single",Data:[{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",visibility:!1,validationRules:{required:!0},placeholder:"",config:{options:[{value:"Lost",name:"Lost/Stolen"},{value:"Damaged",name:"Damaged"},{value:"Receivedatdestination",name:"Received at destination"},{value:"Returntosource",name:"Return to source"}]}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",visibility:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Clear All",onClick:this.onCancel,visibility:!0},{type:"button",class:"btn btn-primary",visibility:!1,value:"1",text:"<i class='fa fa-close pr-2'></i>ReOpen All",onClick:this.ReopenButton}]}},created(){this.GetTransistData()},methods:{changeField(t){var e=this;"RESOLVED"==e.FormSchema[0].Data[0].value?e.FormSchema[1].Data[0].visibility=!0:e.FormSchema[1].Data[0].visibility=!1},ReopenButtonClick:function(){vm=this,vm.disputeFields=!1},ReopenButton:function(t){var e=this;"RESOLVED"==e.viewTransistData[0].operation_code?(e.buttons[2].visibility=!0,e.FormSchema[0].Data[0].visibility=!0,e.FormSchema[2].Data[0].visibility=!0,e.buttons[1].visibility=!0,e.buttons[0].visibility=!0,e.buttons[0].class="btn btn-success ",e.buttons[1].class="btn btn-danger",e.buttons[2].class="btn btn-primary d-none"):(e.buttons[2].class="btn btn-primary",e.buttons[0].class="btn btn-success  d-none",e.buttons[1].class="btn btn-danger d-none")},HideShowButtons(){var t=this;"RESOLVED"==t.viewTransistData[0].operation_code?(t.FormSchema[0].Data[0].visibility=!1,t.FormSchema[2].Data[0].visibility=!1,t.buttons[0].class="btn btn-success d-none",t.buttons[1].class="btn btn-danger d-none",t.buttons[2].class="btn btn-primary",t.isFormSubmitted=!1):(t.FormSchema[0].Data[0].visibility=!0,t.FormSchema[2].Data[0].visibility=!0,t.buttons[2].class="btn btn-primary d-none",t.buttons[0].class="btn btn-success",t.buttons[1].class="btn btn-danger",t.isFormSubmitted=!0)},GetTransistData(){var t=this,e=`relatedInfoId=${t.relatedInfoId}&locationId=${t.locationId}&itemName=${t.itemName}&assetTransferDetailId=${t.assetTransferdetailId}&assetTransferBatchId=${t.assetTransferBatchId}`;n["a"].GetViewCommentData(e).then(e=>{e.data&&(t.viewTransistData=e.data,t.checkCommentEmpty(),this.HideShowButtons())})},checkCommentEmpty:function(){var t=this;let e=0,a=0;t.viewTransistData.forEach(t=>{e=++e,""==t.comment&&(a=++a)}),t.isCommentAvailable=e==a},ClosePopup:function(t){this.$emit("ClosePopup",t)},onCancel:function(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[1].Data[0].value="",t.FormSchema[2].Data[0].value="",t.FormSchema[3].Data[0].value=""},onSubmit:function(t){var e=this;e.isLoading=!0;const a={RelatedInfoId:e.relatedInfoId,OperationCode:t.Category,Comment:t.Comment,Status:t.Status,ASSET_TRANSFER_BATCH_ID:e.assetTransferBatchId,ASSET_TRANSFER_DETAILS_ID:e.assetTransferdetailId};JSON.stringify(a);n["a"].ResolveDisputeProduct(a).then(t=>{1==t.data?(e.ShowAlert(e.$t("Resolve Disputed Product successfully"),"success",e.$t("Alert")),e.ClosePopup(),e.isLoading=!1):(e.isLoading=!1,e.ShowAlert(e.$t("Error while returning item."),"warning",e.$t("Alert")))})}}},c=o,r=a("2877"),l=Object(r["a"])(c,s,i,!1,null,null,null);e["a"]=l.exports},"605d":function(t,e,a){"use strict";(function(e){var s=a("c6b6");t.exports="undefined"!=typeof e&&"process"==s(e)}).call(this,a("4362"))},a3e6:function(t,e,a){var s=a("fc45");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("febf4400",s,!0,{sourceMap:!1,shadowMode:!1})},a640:function(t,e,a){"use strict";var s=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&s((function(){a.call(null,e||function(){return 1},1)}))}},d58f:function(t,e,a){"use strict";var s=a("59ed"),i=a("7b0b"),n=a("44ad"),o=a("07fa"),c=TypeError,r=function(t){return function(e,a,r,l){s(a);var d=i(e),u=n(d),p=o(d),m=t?p-1:0,h=t?-1:1;if(r<2)while(1){if(m in u){l=u[m],m+=h;break}if(m+=h,t?m<0:p<=m)throw c("Reduce of empty array with no initial value")}for(;t?m>=0:p>m;m+=h)m in u&&(l=a(l,u[m],m,d));return l}};t.exports={left:r(!1),right:r(!0)}},d71c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",PageSize:t.PageSize,IdentityColumn:"btach_Id",HeaderText:"In-Transit List",ListData:t.IntransitListData,HeaderData:t.Headers,widgets:t.widgets,showCheckBox:!0,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["shippedquantity"==a.column.COLUMN_NAME?[e("td",{staticClass:"text-center single-action"},[e("span",{staticClass:"text-dark",attrs:{title:a.row.NUMBER_OF_ITEM}},[e("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(a.row[a.column.COLUMN_NAME]))])])])]:t._e(),"status"==a.column.COLUMN_NAME?["In-Transit"==a.row.status?e("td",{staticClass:"text-center single-action"},[e("span",{staticClass:"active-disabled"},[e("span",{staticClass:"btn d-inline-block text-center text-truncate btn-info"},[t._v(t._s(a.row[a.column.COLUMN_NAME]))])])]):t._e(),"Dispute Raised"==a.row.status?e("td",{staticClass:"active-disabled"},[e("span",{staticClass:"active-disabled"},[e("span",{staticClass:"btn d-inline-block text-center text-truncate legend-pending"},[t._v(" "+t._s(a.row[a.column.COLUMN_NAME]))])])]):t._e()]:t._e(),"description"==a.column.COLUMN_NAME?[e("td",{staticClass:"text-center single-action"},[e("span",{staticClass:"text-dark",attrs:{title:a.row.NUMBER_OF_ITEM}},[e("a",{attrs:{href:"javascript:;","data-original-title":"Comments"},on:{click:function(e){return t.OpenCommentpopup(a.row)}}},[e("em",{staticClass:"fa fa-eye text-info"})])])])]:t._e()]}}])}),t.IsShowPopup?e("IProductAcceptReject",{attrs:{DetalisData:t.DetalisData},on:{CloseAddAcceptRejectPopup:t.CloseAddAcceptRejectPopup}}):t._e(),t.Commentpopup?e("DescriptionPopUp",{attrs:{assetTransferdetailId:t.assetTransferdetailId,description:t.description,assetTransferBatchId:t.assetTransferBatchId,itemName:t.itemName,relatedInfoId:t.relatedInfoId},on:{ClosePopup:t.ClosePopup}}):t._e()],1)},i=[],n=(a("14d9"),a("13d5"),a("1115"));let o=[{title:"Accept/Reject",iconClass:"fa fa-check-circle",callbackfunction:"acceptrejectpopup",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Transferred List",iconClass:"<fa fa fa-exchange",callbackfunction:"TransferredList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Back to List",iconClass:"fa fa-angle-double-left pr-2",callbackfunction:"BacktoList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],c=[{fieldName:"LOCATION FROM",fieldType:"ddl-multilevel",fieldIcon:"fa fa-map-marker",paramName:"LocationIdFrom",fieldSearchConditionName:[""],isSearch:!1,value:null,listOptions:[]},{fieldName:"LOCATION TO",fieldType:"ddl-multilevel",fieldIcon:"fa fa-map-marker",paramName:"LocationId",fieldSearchConditionName:[""],isSearch:!1,value:null,listOptions:[]},{fieldName:"DISPUTE",fieldType:"radio",fieldIcon:"fa fa-hand-pointer-o",paramName:"disputedVal",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[{value:"",name:"All"},{value:"ASSET_TRANSIT",name:"No"},{value:"DISPUTE_RAISED",name:"Yes"}]},{fieldName:"DESCRIPTION",fieldType:"text",fieldIcon:"fa fa-suitcase",paramName:"search",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}];async function r(t,e,a){var s=t,i=[];if("Location"==a||"Locationto"==a){var o="reqForm=";await n["a"].GetLocationByCompanyId(o).then((function(t){var e=JSON.parse(t.data).data;e.forEach(e=>{var a=i.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==a.length&&null==e.PARENT_LOCATION_ID){let a=e.COMPANY_LOCATION_ID,s=l(a,e,JSON.parse(t.data).data);i.push(s)}}),console.log(i),s.leftSearchFields[0].listOptions=i,s.leftSearchFields[1].listOptions=i}))}}function l(t,e,a){let s={};s={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let i=s;var n=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let o=[];return n.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var i=o.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==i.length){var n=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=n&&n.length>0){let s=l(e,t,a);o.push(s)}else s={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},o.push(s)}}),i.children=o,i}var d={buttons:o,leftsearchSchema:c,bindleftCommonSearchdropdown:r},u=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("InTransitItems"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.CloseAddAcceptRejectPopup()}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"modal-body"},[e("tg-list",{attrs:{showCheckBox:!0,IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"asseT_TRANSFER_DETAILS_ID",HeaderText:t.$t("AssetManagement"),widgets:t.widgets,ListData:t.InTransitData,HeaderData:t.Headers,callbackfunction:t.FetchData,LegendArray:t.LegendArray,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NorecordfoundText"),TotalRecords:t.TotalRecords,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["quantityShipped"==a.column.COLUMN_NAME?[a.row.creatE_UNIQUE_NAME_LIST?e("span",{staticClass:"text-dark",attrs:{title:t.ShippedQuantity}},[e("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(a.row.quantityShipped))])]):e("span",{staticClass:"text-dark",attrs:{title:t.Quantity}},[e("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(a.row.quantityShipped))])])]:t._e(),"currentQuantity"==a.column.COLUMN_NAME?[e("Form",{ref:"currentQuantity"},[e("Field",{attrs:{name:"Requested Quantity",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.row.currentQuantity,expression:"data.row.currentQuantity"}],class:{"txtitems form-control ":!0,"is-invalid":!(!s[0]&&0!=a.row.currentQuantity)},attrs:{inputmode:"numeric",id:"",min:"1",value:"1",maxlength:"8"},domProps:{value:a.row.currentQuantity},on:{keyup:function(e){return t.checkQuantity(a.row)},input:function(e){e.target.composing||t.$set(a.row,"currentQuantity",e.target.value)}}}),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1)]:t._e(),"isAcceptReject"==a.column.COLUMN_NAME?[e("label",{staticClass:"switch medium"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.row.isAcceptReject,expression:"data.row.isAcceptReject"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic custom-switch inTransit_Accept",attrs:{type:"checkbox"},domProps:{checked:a.row.isAcceptReject,checked:Array.isArray(a.row.isAcceptReject)?t._i(a.row.isAcceptReject,null)>-1:a.row.isAcceptReject},on:{change:function(e){var s=a.row.isAcceptReject,i=e.target,n=!!i.checked;if(Array.isArray(s)){var o=null,c=t._i(s,o);i.checked?c<0&&t.$set(a.row,"isAcceptReject",s.concat([o])):c>-1&&t.$set(a.row,"isAcceptReject",s.slice(0,c).concat(s.slice(c+1)))}else t.$set(a.row,"isAcceptReject",n)}}}),e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Accept")]),e("span",{staticClass:"slider-no"},[t._v("Reject")])])])]:t._e(),"acceptRejectComment"==a.column.COLUMN_NAME?[e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.row.acceptRejectComment,expression:"data.row.acceptRejectComment"}],attrs:{name:"comments",onkeypress:"return",maxlength:"2000",rows:"3",cols:"40"},domProps:{value:a.row.acceptRejectComment},on:{input:function(e){e.target.composing||t.$set(a.row,"acceptRejectComment",e.target.value)}}})]:t._e(),"RaiseDispute"==a.column.COLUMN_NAME?[e("a",{attrs:{href:"javascript:void(0);","data-toggle-tooltip":"tooltip","data-original-title":"Raise Dispute"},on:{click:function(e){return t.RaiseDisputePopUp(a.row)}}},[e("i",{staticClass:"fa fa-hand-pointer-o fa-2x"})])]:t._e()]}}])})],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-4 text-right"},[e("span",[t.isAcceptAll?e("a",{staticClass:"btn btn-info formbtn text-white m-1",attrs:{"data-toggle-tooltip":"tooltip","data-original-title":"AcceptAll"},on:{click:function(e){return t.ChangeStatus(e)}}},[e("i",{staticClass:"fa fa-check pr-2"}),t._v("AcceptAll")]):t._e()]),e("span",[t.isAcceptAll?t._e():e("a",{staticClass:"btn btn-danger formbtn text-white m-1",attrs:{title:"","data-toggle-tooltip":"tooltip","data-original-title":"Reject All"},on:{click:function(e){return t.ChangeStatus(e)}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(" RejectAll")])]),e("a",{staticClass:"btn btn-success formbtn text-white m-1",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.SubmitData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),e("span",[t._v(t._s(t.$t("Save")))])]),e("a",{staticClass:"btn btn-danger formbtn text-white m-2",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.onCancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),e("span",[t._v(t._s(t.$t("Cancel")))])])])])])])])])]),t.Raisepopup?e("RaiseDisputePopUp",{attrs:{Raisedata:t.Raisedata},on:{CloseRaiseDisputePopUp:t.CloseRaiseDisputePopUp}}):t._e()],1)},p=[],m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" Raise Dispute ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.CloseRaiseDisputePopUp(e)}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-2"},[e("div",{staticClass:"border p-3"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),e("span",{staticClass:"mandatory"},[t._v("Fields marked with an asterisk (*) are mandatory.")])],1)])])])])])},h=[],f={props:{Raisedata:{type:Array,required:!0}},data(){return{viewTransistData:[],InputTypeStatus:!1,relatedInfoId:0,locationId:0,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("DisputeDate"),name:"DisputeDate",value:"",disabled:!0,validationRules:{required:!0},placeholder:""},{astype:"SelectField",label:this.$t("Category"),name:"Category",value:"",placeholder:"",validationRules:{required:!0},config:{options:[{value:"Missing",name:"Missing"},{value:"Damage",name:"Damage"},{value:"Other",name:"Other"}]}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save")},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>"+this.$t("Cancel"),onClick:this.CloseRaiseDisputePopUp}],Today:new Date}},created(){var t=this;console.log("res",t.Raisedata),t.FormSchema[0].Data[0].value=t.$options.filters.formatDateTimeMMDDYY(t.Today)},methods:{CloseRaiseDisputePopUp:function(){this.$emit("CloseRaiseDisputePopUp")},onCancel:function(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[1].Data[0].value="",t.FormSchema[2].Data[0].value="",t.FormSchema[3].Data[0].value=""},onSubmit:async function(t){var e=this;e.isLoading=!0;const a={AssetTransferDetailsId:e.Raisedata.asseT_TRANSFER_DETAILS_ID,RelatedInfoId:e.Raisedata.relateD_INFO_ID,DisputeQty:e.Raisedata.quantity,DisputeCategory:t.Category,DisputeComment:t.Description,ActionType:"DISPUTE_RAISED",ActionType2:"ALL",DisputedDate:t.DisputeDate};JSON.stringify(a);await n["a"].DisputedProductSave(a).then(t=>{1==t.data?(e.ShowAlert(e.$t("Raise Dispute successfully"),"success",e.$t("Alert")),e.CloseRaiseDisputePopUp(),e.$parent.$parent.FetchData(),e.$parent.CloseAddAcceptRejectPopup(),e.isLoading=!1):(e.isLoading=!1,e.ShowAlert(e.$t("Error while returning item."),"warning",e.$t("Alert")))})}}},A=f,C=a("2877"),v=Object(C["a"])(A,m,h,!1,null,null,null),D=v.exports,S={components:{RaiseDisputePopUp:D},props:{DetalisData:{type:Array,required:!0}},data(){return{InTransitData:[],TransitRecords:"",IsShowPopup:!1,assetCatelogueId:"",locationId:"",assetTransferDetailsId:"",assetTransferBatchId:"",IsAcceptReject:1,isSlider:!1,data:[],checkedArray:[],Raisepopup:!1,Raisedata:[],AcceeptBtn:!1,RejectBtn:!0,selectAll:!1,isAcceptAll:!0,Headers:[{COLUMN_NAME:"name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ItemName"),DISPLAY_ORDER:1},{COLUMN_NAME:"uniqueName",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("UniqueName"),DISPLAY_ORDER:2},{COLUMN_NAME:"locationName",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("FromLocation"),DISPLAY_ORDER:3},{COLUMN_NAME:"itemCode",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ItemCode"),DISPLAY_ORDER:4},{COLUMN_NAME:"quantityShipped",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ShippedQuantity"),DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"currentQuantity",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ReceivedQuantity"),DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"isAcceptReject",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("AcceptRejectTicket"),DISPLAY_ORDER:7,settings:{isInSlot:!0}},{COLUMN_NAME:"acceptRejectComment",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Comments"),DISPLAY_ORDER:8,settings:{isInSlot:!0}},{COLUMN_NAME:"RaiseDispute",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Action"),DISPLAY_ORDER:9,settings:{isInSlot:!0}}],listheaderbuttons:[],LegendArray:[],widgets:[],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,SortBy:"",SortExp:"",PageNumber:1,isPaged:1,PageSize:10,isSubmit:!1}},async created(){var t=this;await t.FetchData()},methods:{columnDataFormatter:function(t,e){return t[e.COLUMN_NAME]},CloseAddAcceptRejectPopup:function(){this.$emit("CloseAddAcceptRejectPopup")},onCancel:function(){this.CloseAddAcceptRejectPopup()},FetchData:async function(){var t=this;t.data=[],t.DetalisData.forEach(e=>{var a={AssetCatalogueId:e.assetCatalogueId,LocationId:e.locationto,AssetTransferDetailId:e.asset_transfer_deatails_Id,AssetTransferBatchId:e.btach_Id,CreatedAt:e.createdAt};t.data.push(a)}),await n["a"].SaveMultipleInTransitItems(t.data).then(e=>{t.InTransitData=[],null!=e.data&&(e.data.result.length>0?(t.InTransitData=e.data.result,t.InTransitData.forEach(e=>{e.isSelected=!1,e.ischecked=!1,e.isAcceptReject=!0,e.quantityShipped=e.quantity,e.currentQuantity=e.quantity,1==e.quantity&&(e.isDisabled=!0),t.isAcceptAll=!1}),t.noRecord=!1):t.noRecord=!0,setTimeout((function(){t.CheckBoxBootstrap()}),100),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500))})},async SubmitData(){var t=this,e="",a="",s=[];if(t.$refs.currentQuantity.validate().then(t=>{if(!t)return!1}),$(".modal-body .chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val(),s.push($(this).val())})),a.length>0){s.forEach(a=>{t.InTransitData.forEach(s=>{s.asseT_TRANSFER_DETAILS_ID==a&&(t.atid=s.asseT_TRANSFER_DETAILS_ID,t.rid=s.relateD_INFO_ID,t.qty=s.quantityShipped,t.rdo=1==s.isAcceptReject?1:0,t.rqty=s.currentQuantity,t.rcom=void 0==s.acceptRejectComment?"":s.acceptRejectComment,e+=t.atid+"*"+t.rid+"*"+t.rqty+"*"+t.rdo+"*"+t.qty+"*"+t.rcom+"|")})});var i=`MoveToInTransitInfo=${e}&assetTransferBatchId=${t.DetalisData[0].btach_Id}`;await n["a"].UpdateInTransitItems(i).then(e=>{"success"==e.data.result?(t.ShowAlert(e.data.msg,"success",t.$t("Alert")),t.$parent.FetchData(),t.CloseAddAcceptRejectPopup(),t.isLoading=!1):(t.isLoading=!1,t.ShowAlert(e.data.msg,"faliure",t.$t("Alert")))})}else t.ShowAlert(t.$t("Please select at least one record."),"warning",t.$t("Alert"))},ChangeStatus:function(){var t=this,e=t.InTransitData;t.InTransitData=[],t.isAcceptAll?(e.forEach(e=>{var a=e;a.isAcceptReject=!0,t.InTransitData.push(a)}),t.isAcceptAll=!1):(e.forEach(e=>{var a=e;a.isAcceptReject=!1,t.InTransitData.push(a)}),t.isAcceptAll=!0)},RaiseDisputePopUp(t){var e=this;e.Raisedata=t,e.Raisepopup=!0},CloseRaiseDisputePopUp:function(){var t=this;t.Raisepopup=!1},onCancel:function(){this.$emit("CloseAddAcceptRejectPopup")},pagerMethod:function(t){this.pageSize=t.pageSize,this.PageNumber=t.PageNumber,this.FetchData()},commonHeaderButtonClick:function(){},renderActions(){},checkQuantity(t){var e=this;let a=t.quantityShipped,s=t.currentQuantity.replace(/[^0-9]/g,"");if(parseInt(s)>a){const a=e.InTransitData.find(e=>e.assetcatalougeid===t.assetcatalougeid);return a.currentQuantity="",e.ShowAlert(e.$t("Received quantity can not be greater than Shipped quantity."),"warning",e.$t("Alert"))}if(0==parseInt(s)){const a=e.InTransitData.find(e=>e.assetcatalougeid===t.assetcatalougeid);return a.currentQuantity="",t.currentQuantity=""}{const a=e.InTransitData.find(e=>e.assetcatalougeid===t.assetcatalougeid);return a.currentQuantity=s.replace(/[^0-9]/g,""),void(e.isSubmit=!0)}}}},_=S,I=(a("34ef"),Object(C["a"])(_,u,p,!1,null,null,null)),g=I.exports,b=a("5f25"),T={components:{IProductAcceptReject:g,DescriptionPopUp:b["a"]},data(){return{listheaderbuttons:d.buttons,leftSearchFields:d.leftsearchSchema,listActions:d.listActions,LegendArray:[],IntransitListData:[],pageNum:1,search:"",PageSize:10,PageNumber:1,isPaged:1,PageSizeOption:null,StatusListForListing:[],DetalisData:[],Headers:[{COLUMN_NAME:"description",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Description"),DISPLAY_ORDER:1},{COLUMN_NAME:"sourceLocation",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Location From"),DISPLAY_ORDER:2},{COLUMN_NAME:"destinationLocation",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("LocationTo"),DISPLAY_ORDER:3},{COLUMN_NAME:"shippedquantity",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ShippedQuantity"),DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"status",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"shippedby",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Shipped By"),DISPLAY_ORDER:6},{COLUMN_NAME:"description",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Comments"),DISPLAY_ORDER:7,settings:{isInSlot:!0}}],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,sortBy:"",sortExp:"",IsShowPopup:!1,PageSize:10,pageNum:1,locationId:"",locationfrom:"",searchcondition:"",datefromate:"",disputeval:"",statusId:"",Commentpopup:!1,assetTransferdetailId:"",assetTransferBatchId:"",itemName:"",OperationCode:"",relatedInfoId:"",description:"",privilegeParams:null}},async created(){var t=this;await t.GetPageSize(),t.privilegeParams="controller=Assetcatalog&action=",t.Userid=this.GetUserInfo.ID,d.bindleftCommonSearchdropdown(t,"Asset","Location"),d.bindleftCommonSearchdropdown(t,"Asset","Locationto"),t.LegendArray=[{class:"legend-pending colorboxsquare",text:"Disputed Products"}],t.FetchData()},methods:{async GetPageSize(){var t=this,e="key=DefaultPageSize";await n["a"].GetConfigurationValueForCompanyByKey(e).then(e=>{null!=e.data&&(t.PageSize=parseInt(e.data))})},columnDataFormatter:function(t,e){return t[e.COLUMN_NAME]},async FetchData(){var t=this,e=`StatusIds=${t.statusId}&dateFormat=${t.datefromate}&pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.sortBy}&sortExp=${t.sortExp}&${t.searchCondition}`;await n["a"].GetTransitItemsList(e).then(e=>{null!=e.data&&(console.log("resp",e.data),e.data.length>0?(t.IntransitListData=e.data,t.IntransitListData.forEach(t=>{t.isCheckBoxDisabled=!1,t.additionalClass="",t.CreateUniqueNameListing&&t.additionalClass,"DISPUTE_RAISED"==t.status_code&&(t.additionalClass="warning-bar"),"Dispute Raised"==t.status&&(t.isCheckBoxDisabled=!0)}),t.TotalRecords=e.data[0].total,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1,$(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked")):(t.noRecord=!0,t.IntransitListData=[],t.TotalRecords=0)),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)})},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchConditionJson:this.searchCondition="",this.FetchData()},currentPageMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},GetPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},commonHeaderButtonClick(t){switch(t.callbackfunction){case"acceptrejectpopup":n["a"].CheckPrivilege(this.privilegeParams+"SaveInTransitItems").then(t=>{t.data?this.AddAcceptRejectPopup():this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")});break;case"TransferredList":this.OpenTransferredList();break;case"BacktoList":this.OpenBacktoList();break}},ClosePopup:function(){var t=this;t.Commentpopup=!1},OpenTransferredList(){var t=this;t.$router.push({path:"ViewTransferedItem"})},OpenBacktoList(){var t=this;t.$router.push({path:"Index"})},AddAcceptRejectPopup:function(){var t=this,e="",a=[];if($(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){for(let e=0;e<t.IntransitListData.length;e++)t.IntransitListData[e].btach_Id==$(this).val()&&(a.push(t.IntransitListData[e]),console.log("new",t.DetalisData));e.length>0&&(e+=","),e+=$(this).val()})),a=a.reduce((t,e)=>{const a=t.find(t=>t.batchId===e.batchId);return a?t:t.concat([e])},[]),""==e)return t.ShowAlert(t.$t("Please select at least one record."),"warning",t.$t("Alert")),!1;t.DetalisData=a,t.IsShowPopup=!0},OpenCommentpopup(t){var e=this;e.relatedInfoId=t.relateD_INFO_ID,e.assetTransferdetailId=t.asset_transfer_deatails_Id,e.assetTransferBatchId=t.btach_Id,e.description=t.description,e.itemName=t.name,e.Commentpopup=!0},CloseAddAcceptRejectPopup(){var t=this;t.IsShowPopup=!1},sortdata:function(t){var e="sort tb_headerSortDown";this.sortBy=t,t===this.sortBy&&(""==this.sortBy?(this.sortBy="ASC",e="sort tb_headerSortDown"):"ASC"==this.sortExp?(this.sortExp="DESC",e="sort tb_headerSortUp"):(this.sortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)}}},y=T,R=Object(C["a"])(y,s,i,!1,null,null,null);e["default"]=R.exports},fc45:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".custom-checkbox .custom-control-input:checked~.custom-control-label:after,.custom-radio .custom-control-input:checked~.custom-control-label:after{display:block}.my-popups .modal-dialog{max-width:1400px}@media (max-width:1600px){.my-popups .modal-dialog{max-width:1200px}}",""]),t.exports=e}}]);
//# sourceMappingURL=chunk-58e24f6c.js.map