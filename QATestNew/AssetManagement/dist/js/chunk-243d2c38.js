(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-243d2c38"],{4932:function(e,t,a){"use strict";a("5ba5")},"56f6":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"modal"}},[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"900px !important"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Tag"))+" "+e._s(e.$t("Name")))]),t("button",{staticClass:"close",attrs:{type:"button",title:"Close"},on:{click:e.ClosePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("Form",{ref:"tagForm",attrs:{autocomplete:"off"}},[t("div",{staticClass:"col-md-12 float-left px-0"},[t("div",{staticClass:"row",staticStyle:{"max-height":"450px"}},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"form-group"},[t("label",[t("span",{attrs:{id:""}},[e._v("Title :")])]),t("span",{staticClass:"text-danger"},[e._v("*")]),t("Field",{attrs:{name:"TagName",rules:{required:!0},label:"Title"}},[t("div",{staticClass:"input-group mb-3",staticStyle:{position:"relative"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tagname,expression:"tagname"}],class:{"form-control":!0},attrs:{name:"TagName",id:"TagName",type:"text"},domProps:{value:e.tagname},on:{keyup:e.searchTag,input:function(t){t.target.composing||(e.tagname=t.target.value)}}}),t("div",{staticClass:"unique_dynamicdatalist"},e._l(e.TagsArray,(function(a){return t("ul",{key:a,staticStyle:{"z-index":"auto"},on:{click:function(t){return e.setTagName(a)}}},[e.showTagDropdown?t("li",{staticStyle:{"text-transform":"capitalize"},attrs:{value:a.TAG_ID}},[e._v(" "+e._s(a.TAG_NAME))]):e._e()])})),0),e.FromAddProduct?e._e():t("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none"},attrs:{href:"javascript:;"},on:{click:e.showTagList}},[t("em",{staticClass:"dropdown-toggle float-right"})])])])],1)])])])])],1),t("div",{staticClass:"modal-footer"},[t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"row flex-row-reverse"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success save-btn mr-1",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveTag()}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Save")))]),t("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:"Cancel"},on:{click:e.ClosePopup}},[t("em",{staticClass:"fa fa-times pr-2"}),e._v(e._s(e.$t("Cancel"))+" ")])]),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("small",{staticClass:"text-danger"},[e._v(e._s(e.$t("MandatoryString"))+" ")])])])])])])])])])])])},l=[],o=(a("14d9"),a("1115")),i=a("8e5f"),n=a.n(i),r={components:{Multiselect:n.a},props:{FromAddProduct:{type:Boolean}},data(){return{tagname:"",tagId:"",TagsArray:[],showTagDropdown:!1,options:[]}},created:function(){var e=this;e.GetTagsByModuleId()},methods:{ClosePopup(){var e=this;e.$parent.CloseTagPopup()},SaveTag:function(){var e=this;if(e.tagname.length>0){var t={TagId:""==e.tagId?"":e.tagId,tagStatusId:1001,tagName:e.tagname.toLowerCase(),tagDesc:"",moduleName:"Asset"},a=JSON.stringify(t);o["a"].SaveTag(a).then((function(t){"Success"==t.data[0].Status&&t.data[0].Value>"0"&&(e.ShowAlert(e.$t("Tag has been saved successfully!"),"success",!0,e.$t("Alert")),e.$parent.CloseTagPopup(),e.$parent.GetTagsByModuleI()),"Success"==t.data[0].Status&&"0"==t.data[0].Value?(e.ShowAlert(e.$t("Tag has been updated successfully!"),"success",!0,e.$t("Alert")),e.$parent.CloseTagPopup(),e.$parent.GetTagsByModuleI()):"Exist"==t.data[0].Status&&(e.ShowAlert(e.$t("Tag Already Exist"),"failure",!0,e.$t("Alert")),e.$parent.CloseTagPopup())}))}else e.ShowAlert(e.$t("TagNameIsRequired"),"failure",!0,e.$t("Alert"))},setTagName:function(e){var t=this;t.tagname=e.TAG_NAME,t.tagId=e.TAG_ID,t.showTagDropdown=!1},GetTagsByModuleId:function(){var e=this;e.TagsArray=[],o["a"].GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},showTagList:function(){var e=this;e.showTagDropdown?e.showTagDropdown=!1:e.showTagDropdown=!0},searchTag(){var e=this;e.showTagDropdown=!0,e.TagsArray=e.TagsArray.filter(t=>t.TAG_NAME.toLowerCase().includes(e.tagname.toLowerCase())),""==e.tagname&&(e.GetTagsByModuleId(),e.showTagDropdown=!1)}}},c=r,d=a("2877"),u=Object(d["a"])(c,s,l,!1,null,null,null);t["a"]=u.exports},"5ba5":function(e,t,a){var s=a("fe8d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var l=a("499e").default;l("0f0ae1d4",s,!0,{sourceMap:!1,shadowMode:!1})},f6fa:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"border p-3"},[e.DataLoaded?t("dynamic-form",{ref:"updateValues",attrs:{buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-GracePeriod",fn:function({data:a}){return[t("div",{staticClass:"form-group"},[t("Field",{staticClass:"w-100",attrs:{rules:{required:!0},name:"Grace Period"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("div",{staticClass:"d-flex"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.GracePeriod,expression:"GracePeriod"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{type:"text",name:"GracePeriod"},domProps:{value:e.GracePeriod},on:{keyup:function(t){return e.handleChange(e.GracePeriod)},input:function(t){t.target.composing||(e.GracePeriod=t.target.value)}}}),t("span",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[e._v("Days")])])]),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"GracePeriod"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1)]}},{key:"tgslot-ProductTypeCode",fn:function({data:a}){return[t("div",{staticClass:"form-group"},[t("div",{staticClass:"d-flex"},[t("a",{attrs:{href:"javascript:;","data-toggle":"tooltip","data-trigger":"click",title:"Please enter the product type code. Else four digit product type code will be generated by system."},on:{click:e.toggleTip}},[t("i",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.ProductTypeCode,expression:"ProductTypeCode"}],staticClass:"form-control",attrs:{type:"text",name:"ProductTypeCode",maxlength:4},domProps:{value:e.ProductTypeCode},on:{input:function(t){t.target.composing||(e.ProductTypeCode=t.target.value)}}})])])]}},{key:"tgslot-tblContainer",fn:function({data:a}){return[e.IsShowCompartments?t("div",{staticClass:"table-responsive"},[t("Form",{ref:"AddProductType"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 m-0",attrs:{id:"tblContainerList"}},[t("thead",{staticClass:"thead-bg",attrs:{id:"divgrid"}},[t("th",{staticStyle:{"min-width":"142px"}},[t("span",{staticClass:"float-left"},[e._v("Compartments")]),t("span",{staticClass:"text-danger float-left"},[e._v("*")])]),t("th",{staticClass:"text-center",staticStyle:{"min-width":"100px"}},[t("span",[e._v("Action")])])]),t("tbody",e._l(e.tableRows,(function(a,s){return t("tr",{key:s,attrs:{id:"datarow"}},[t("td",[t("Field",{attrs:{name:e.$t("CompartmentName"),rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:l}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.InputContainervalue,expression:"item.InputContainervalue"}],class:{"form-control":!0,"is-invalid":l[0]},attrs:{id:"container_name_"+s,type:"text",maxlength:"200",placeholder:"Fill the compartment name"},domProps:{value:a.InputContainervalue},on:{input:[function(t){t.target.composing||e.$set(a,"InputContainervalue",t.target.value)},function(t){return e.startValidationTimer(s)}]}}),l[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:e.$t("CompartmentName")}},[e._v(e._s(l[0]))]):e._e()]}}],null,!0)})],1),t("td",[t("a",{staticClass:"round-icon-small btn-danger-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Delete"}},[t("em",{staticClass:"recyclebin fa fa-trash",on:{click:function(t){return e.RemoveContainerRow(s)}}})]),t("a",{staticClass:"add round-icon-small btn-success-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Add"},on:{click:function(t){return e.AddContainerRow()}}},[t("em",{staticClass:"fa fa-plus"})])])])})),0)])])],1):e._e()]}}],null,!1,1361151138)}):e._e(),t("div",{staticClass:"left-content row flex-row-reverse mt-3"},[t("div",{staticClass:"col-lg-12 text-left"},[t("div",{staticClass:"py-2 mandatory"},[e._v(" "+e._s(e.$t("MandatoryString"))+" ")])])])],1),e.IsTagNamePopup?t("TagNamePopup",{attrs:{FromAddProduct:e.FromAddProduct}}):e._e()],1)},l=[],o=(a("14d9"),a("1115")),i=a("56f6"),n={props:{popupCondition:{type:Boolean,required:!0},AseetTypeIde:{type:Number,required:!1},FromPage:{type:String,required:!1}},components:{TagNamePopup:i["a"]},data(){return{isLoading:!1,FormSchema:[{layoutType:"triple",group_name:"Product Type",group_display_name:this.$t("ItemType"),Data:[{astype:"TextField",label:this.$t("ItemNameType"),name:"ItemNameType",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}},{astype:"SlotField",label:this.$t("ProductTypeCode"),name:"ProductTypeCode",value:"",placeholder:"",validationRules:{max:4}},{astype:"toggleField",label:this.$t("Container"),name:"Container",value:"",placeholder:"",config:{onChange:this.ShowCompartments}},{astype:"SlotField",showLabel:!1,label:this.$t("Container"),name:"tblContainer",value:"",placeholder:"",config:{options:[]},visibility:!0}]},{layoutType:"triple",Data:[{astype:"FileField",showLabel:!0,label:this.$t("AttachItemImage"),name:"AttachItemImage",value:"",placeholder:"",validationRules:"",FieldIndex:0,config:{maxSize:5,accept:[{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"}],showSelectedFiles:[{attachmentId:"1",attachmentName:"",attachmentPath:""}],onClickSelectedFiles:this.onClickSelectedFile,onDeleteSelectedFiles:this.onDeleteSelectedFiles,onChange:this.setFile1,showAddIcon:!1,onAddButtonClick:this.AddFileMore,multiple:!1}}]},{layoutType:"Single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:""}]},{layoutType:"four",group_name:"Product Categories",group_display_name:this.$t("ProductCategories"),Data:[{astype:"toggleField",label:this.$t("Asset_No"),name:"Asset_No",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Consumable"),name:"Consumable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("License"),name:"License",value:"",placeholder:""},{astype:"toggleField",label:this.$t("MaterialSpareParts"),name:"MaterialSpareParts",value:"",placeholder:""}]},{layoutType:"single",Data:[{astype:"MultiSelectField",label:this.$t("Tags"),name:"Tags",value:"",mode:"tag",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddTagPopup}}]},{layoutType:"four",group_name:"Hardware Integration Type",group_display_name:this.$t("HardwareIntegrationType"),Data:[{astype:"toggleField",label:this.$t("Time_n_Attendance"),name:"Time_n_Attendance",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Camera"),name:"Camera",value:"",placeholder:""},{astype:"toggleField",label:this.$t("RFID"),name:"RFID",value:"",placeholder:""},{astype:"toggleField",label:this.$t("GPSTracking"),name:"GPSTracking",value:"",placeholder:""}]},{layoutType:"four",group_name:"Action Based Properties",group_display_name:this.$t("ActionBasedProperties"),Data:[{astype:"toggleField",label:this.$t("IsTransferable"),name:"IsTransferable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("IsSelfCheckOut"),name:"IsSelfCheckOut",value:"",placeholder:"",config:{onChange:this.OnIsSelfCheckOut}},{astype:"toggleField",label:this.$t("SelfieEnable"),name:"SelfieEnable",value:"",placeholder:"",visibility:!1},{astype:"toggleField",label:this.$t("EmployeeAcceptance"),name:"EmployeeAcceptance",value:"",placeholder:""},{astype:"toggleField",label:this.$t("EnableTerms"),name:"EnableTerms",value:"",placeholder:""},{astype:"toggleField",label:this.$t("GPS_Enable"),name:"GPS_Enable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Fleet_Management"),name:"Fleet_Management",value:"",placeholder:""},{astype:"toggleField",label:this.$t("PenaltyOnStatus"),name:"PenaltyOnStatus",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnStatus}},{astype:"SelectField",label:this.$t("Status"),name:"AssetReplacementType",value:"",placeholder:"",visibility:!1,config:{options:[]},validationRules:{required:!0}},{astype:"toggleField",label:this.$t("PenaltyOnReturnOverdue"),name:"PenaltyOnReturnOverdue",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnReturnOverdue}},{astype:"SlotField",label:this.$t("GracePeriod"),name:"GracePeriod",value:"",placeholder:"",config:{options:[]},visibility:!1,validationRules:{required:!0}}]},{layoutType:"four",group_name:"Deployment Properties",group_display_name:this.$t("DeploymentProperties"),Data:[{astype:"toggleField",label:this.$t("InsurancePolicy"),name:"InsurancePolicy",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Calibration"),name:"Calibration",value:"",placeholder:""},{astype:"toggleField",label:this.$t("ItemCost"),name:"ItemCost",value:"",placeholder:""},{astype:"toggleField",label:this.$t("IsWarranty"),name:"IsWarranty",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Depreciable"),name:"Depreciable",value:"",placeholder:""}]}],buttons:[{type:"button",class:"btn btn-secondary",text:"Skip",onClick:this.Skip,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",value:"Save",name:"Save"},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",name:"SaveAndNew",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",name:"SaveAndNext",isVisible:!1},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CancelButton,isVisible:!0}],StatusDDL:[{label:"Active",value:1001},{label:"Inactive",value:1002}],AssetReplacementTypeDDL:[],IsTagNamePopup:!1,FromAddProduct:!1,IsShowCompartments:!1,lbl:!1,tableRows:[],currentInputIndex:0,AssetTypeCode:"",userId:null,companyId:null,DataLoaded:0,TagsArray:[],file:[],file1:[],ShowAddProduct:!1,CompartmentListData:[],Count:0,checkFieldsvalue:!1,TypeData:[],TagsSelectedArray:[],ProductTypeCode:"",validationTimer:null}},created:async function(){var e=this;e.userId=e.GetUserInfo.ID,e.companyId=e.GetUserInfo.Name,await e.GetTagsByModuleI(),await e.BindStatus(),await e.AdvancedSetupFields(),e.AseetTypeIde>0?(await e.GetAssetTagsById(),await e.FetchData()):delete e.FormSchema[1].Data[0].config.showSelectedFiles,e.DataLoaded=1},methods:{onDeleteSelectedFiles:function(e){this.$delete(this.FormSchema[1].Data[0].config,"showSelectedFiles")},onClickSelectedFile(e){var t=this;t.isLoading=!0;var a=t.TypeData[0].ATTACHMENT_PATH.split("/")[4]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[5]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[6]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[7],s=t.TypeData[0].ATTACHMENT_PATH.split(".")[5],l=t.TypeData[0].ATTACHMENT_NAME,i="filePath="+a;o["a"].DownloadAttachment(i).then(e=>{if(null!=e.data&&200===e.status){const o=e.data,i=`data:${s};base64,${o}`;var a=document.createElement("a");a.href=i,a.setAttribute("download",l),document.body.appendChild(a),a.click(),t.isLoading=!1}else t.isLoading=!1})},toggleTip(){$('[data-toggle="tooltip"]').tooltip({trigger:"click"}).on("shown.bs.tooltip",(function(){var e=$(this);setTimeout((function(){e.tooltip("hide")}),2e3)}))},onChangeContainer(e,t,a){var s=this;s.FormSchema[0].Data[4].value=a.target._value},handleChange(e){var t=this;if(""!==e.trim()){if(e=parseInt(e,10),isNaN(e))return t.ShowAlert(t.$t("EnterValidNumber"),"warning",t.$t("Alert")),void(t.GracePeriod="");e<1?t.GracePeriod=1:e>365&&(t.GracePeriod=365)}},async OnPenaltyOnStatus(e){var t=this;t.FormSchema[6].Data[8].config.options=[],t.FormSchema[6].Data[8].visibility=!0,1==e?await o["a"].GetAssetItemStatusList().then((function(e){t.AssetReplacementTypeDDL=e.data,t.AssetReplacementTypeDDL.forEach(e=>{t.FormSchema[6].Data[8].config.options.push({name:e.STATUS_NAME,value:e.STATUS_ID})}),t.$refs.updateValues.UpdateKeyValue()})):0==e&&(t.FormSchema[6].Data[8].value="",t.FormSchema[6].Data[8].visibility=!1)},OnIsSelfCheckOut(e){var t=this;1==e?t.FormSchema[6].Data[2].visibility=!0:0==e&&(t.FormSchema[6].Data[2].visibility=!1)},OnPenaltyOnReturnOverdue(e){var t=this;1==e?t.FormSchema[6].Data[10].visibility=!0:0==e&&(t.FormSchema[6].Data[10].visibility=!1)},Skip:function(){var e=this;e.$parent.SkipTab(3)},AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!1,e.buttons[2].isVisible=!0,e.buttons[3].isVisible=!0,e.buttons[4].isVisible=!1)},OpenAddTagPopup(){var e=this;e.IsTagNamePopup=!0},setFile1:function(e){var t=this;for(let a=0;a<e.target.files.length;a++){const s=e.target.files[a];t.file1.push(s)}},BindStatus(){var e=this;e.StatusDDL.forEach(t=>{e.FormSchema[0].Data[1].config.options.push({name:t.label,value:t.value})})},onSubmit:function(e,t){var a=this;if(a.buttons[1].class+=" disabled",a.isLoading=!0,a.Count=0,0==e.Asset_No&&0==e.Consumable&&0==e.License&&0==e.MaterialSpareParts?(a.ShowAlert(a.$t("At least one Product category must be selected!"),"failure",a.$t("Alert")),a.Count=1,a.buttons[1].class="btn btn-success"):1==a.IsShowCompartments&&a.tableRows.forEach((e,t)=>{""==e.InputContainervalue&&(a.checkFieldsvalue,a.Count=1)}),0==a.Count){let n={};a.tableRows.forEach((e,t)=>{n={container_Id:0,asset_type_id:a.AseetTypeIde>0?a.AseetTypeIde:0,container_name:e.InputContainervalue,status_id:1001,modified_by:a.userId},a.CompartmentListData.push(n)});let r={};a.AseetTypeIde>0?r.AssetTypeId=a.AseetTypeIde:r.AssetTypeId=0,r.AssetType=e.ItemNameType,r.status_id=e.Status,r.Description=e.Description,r.created_at=null,r.modified_at=null,r.modified_by=a.userId,r.company_id=a.companyId,r.AssetTypeCategory=1==e.Asset_No?1:0,r.IsContainer=1==e.Container?1:0,r.IsSelfCheckOut=1==e.IsSelfCheckOut?1:0,r.IsTransferable=1==e.IsTransferable?1:0,r.IsEnableTerms=1==e.EnableTerms?1:0,r.InsurancePolicy=1==e.InsurancePolicy?1:0,r.AssetTypeCode=a.ProductTypeCode,r.IsAsset=1==e.Asset_No?1:0,r.IsConsumable=1==e.Consumable?1:0,r.IsLicense=1==e.License?1:0,r.IsSpare=1==e.MaterialSpareParts?1:0,r.IsItemCost=1==e.ItemCost?1:0,r.IsDepreciable=1==e.Depreciable?1:0,r.IsCalibration=1==e.Calibration?1:0,r.IsWarranty=1==e.IsWarranty?1:0,r.IsEmployeeAcceptance=1==e.EmployeeAcceptance?1:0,r.IsPenalty=1==e.PenaltyOnStatus?1:0;var s=1==e.PenaltyOnStatus?1:0;r.penalty_type=0==s?null:e.AssetReplacementType,r.IsPenaltyOnReturnOverdue=1==e.PenaltyOnReturnOverdue?1:0;var l=1==e.PenaltyOnReturnOverdue?1:0;r.GracePeriod=0==l?null:a.GracePeriod,r.IsGPSTracking=1==e.GPSTracking?1:0,r.IsFleetManagement=1==e.Fleet_Management?1:0,r.IsTimeAttendance=1==e.Time_n_Attendance?1:0,r.IsCamera=1==e.Camera?1:0,r.IsRFID=1==e.RFID?1:0,r.IsGPS=1==e.GPS_Enable?1:0,r.IsSelfieEnable=1,r.IsSampleData=1,r.container_name="",r.BatchId="",r.AssetTagIds=Array.prototype.map.call(e.Tags,(function(e){return e.value})).join(","),r.CompartmentList=a.CompartmentListData;var i=new FormData;i.append("postString",JSON.stringify(r)),i.append("Files",a.file1[0]),o["a"].AddProductType(i).then((function(e){"SaveAndNew"==t&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"1"==e.data.status?(a.ShowAlert(a.$t("AddProductType"),"success",a.$t("Alert")),a.$emit("RefresComp"),a.isLoading=!1):"3"==e.data.status?(a.ShowAlert(a.$t("ProductTypeExist"),"success",a.$t("Alert")),a.$parent.ClosePopupProductType(),a.$parent.FetchData()):"AlreadyExists"==e.data.status?(a.ShowAlert(a.$t("ProductTypeExist"),"warning",a.$t("Alert")),a.CancelButton()):(a.ShowAlert(a.$t("UnknownError"),"failure",a.$t("Alert")),a.CancelButton()),a.isLoading=!1,a.buttons[1].class="btn btn-success"),"SaveAndNext"==t&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"1"==e.data.status?(a.ShowAlert(a.$t("AddProductType"),"success",a.$t("Alert")),a.$parent.SkipTab(3)):"3"==e.data.status?(a.ShowAlert(a.$t("ProductTypeExist"),"success",a.$t("Alert")),a.$parent.ClosePopupProductType(),a.$parent.FetchData()):"AlreadyExists"==e.data.status?(a.ShowAlert(a.$t("ProductTypeExist"),"warning",a.$t("Alert")),a.CancelButton()):(a.ShowAlert(a.$t("UnknownError"),"failure",a.$t("Alert")),a.CancelButton()),a.buttons[1].class="btn btn-success",a.isLoading=!1),"Save"==t&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"1"==e.data.status?(a.ShowAlert(a.$t("AddProductType"),"success",a.$t("Alert")),a.CancelButton(),"EditProduct"==a.FromPage&&a.$parent.FetchData()):"2"==e.data.status?(a.ShowAlert(a.$t("UpdatedProductType"),"success",a.$t("Alert")),a.$parent.ClosePopupProductType(),a.$parent.FetchData()):"3"==e.data.status?(a.ShowAlert(a.$t("ProductTypeExist"),"success",a.$t("Alert")),a.$parent.ClosePopupProductType(),a.$parent.FetchData()):"AlreadyExists"==e.data.status?(a.ShowAlert(a.$t("ProductTypeExist"),"warning",a.$t("Alert")),a.CancelButton()):(a.ShowAlert(a.$t("UnknownError"),"failure",a.$t("Alert")),a.CancelButton()),a.buttons[1].class="btn btn-success",a.isLoading=!1)}))}else a.buttons[1].class="btn btn-success",a.isLoading=!1},startValidationTimer(e){clearTimeout(this.validationTimer),this.validationTimer=setTimeout(()=>{this.validateDuplicate(e)},1e3)},validateDuplicate(e){const t=this.tableRows[e].InputContainervalue.trim().toLowerCase(),a=this.tableRows.some((a,s)=>s!==e&&a.InputContainervalue.trim().toLowerCase()===t);a&&(this.ShowAlert("Duplicate "+this.$t("CompartmentName")+" is not allowed","failure",this.$t("Alert")),this.tableRows[e].InputContainervalue="")},AddContainerRow(){var e=this;this.tableRows.length>=10?e.ShowAlert("Maximum number of "+this.$t("Compartments")+" reached. You cannot add more "+this.$t("Compartments")+".","failure",this.$t("Alert")):e.$refs.AddProductType.validate().then(e=>{e&&this.tableRows.push({InputContainervalue:""})})},RemoveContainerRow(e){var t=this;t.confirmR(t.$t("Are you sure you want to delete these record(s)?"),!0,!1,(function(a){1==t.tableRows.length?(t.lbl=!0,t.ShowCompartments(),t.FormSchema[0].Data[3].value=!1,t.tableRows=[]):t.tableRows.splice(e,1)}))},ShowCompartments(){var e=this;this.tableRows.length>0?e.lbl=!0:e.lbl=!1,0==e.lbl?(e.IsShowCompartments=!0,this.tableRows.push({InputContainervalue:""}),e.lbl=!0):1==e.lbl&&(e.IsShowCompartments=!1,e.tableRows=[],e.lbl=!1)},CancelButton(){var e=this;("EditProduct"==e.FromPage||"AddProduct"==e.FromPage)&&e.$parent.ClosePopupProductType()},divDialogAddTags(){var e=this;e.FromAddProduct=!1,e.IsTagNamePopup=!0},CloseTagPopup(){var e=this;e.IsTagNamePopup=!1},async GetTagsByModuleI(){var e=this;e.TagsArray=[],e.FormSchema[4].Data[0].config.options=[],await o["a"].GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.FormSchema[4].Data[0].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},async GetAssetTagsById(){var e=this,t=`id=${e.AseetTypeIde}&is_for=ASSET_TYPE`;await o["a"].GetAssetTagsById(t).then(t=>{e.tagsData=JSON.parse(t.data),e.tagsData.forEach((t,a)=>{e.TagsSelectedArray.push({label:t.TAG_NAME,value:t.TAG_ID})}),e.FormSchema[4].Data[0].value=e.TagsSelectedArray})},FetchData(){var e=this;e.isLoading=!0;var t="Id="+e.AseetTypeIde;o["a"].AssetGetById(t).then(t=>{if(null!=t.data)if(t.data.length>0){e.TypeData=t.data,e.FormSchema[0].Data[0].value=e.TypeData[0].ASSET_TYPE,e.FormSchema[0].Data[1].value=e.TypeData[0].STATUS_ID,e.ProductTypeCode=e.TypeData[0].TYPE_CODE,e.FormSchema[0].Data[3].value=1==e.TypeData[0].IS_CONTAINER,1==e.TypeData[0].IS_CONTAINER&&(e.IsShowCompartments=!0,e.TypeData.forEach((t,a)=>{e.tableRows.push({InputContainervalue:t.CONTAINER_NAME})})),null!=e.TypeData[0].ATTACHMENT_PATH&&""!=e.TypeData[0].ATTACHMENT_PATH?(e.FormSchema[1].Data[0].config.showSelectedFiles[0].attachmentPath=e.TypeData[0].ATTACHMENT_PATH,e.FormSchema[1].Data[0].config.showSelectedFiles[0].attachmentName=e.TypeData[0].ATTACHMENT_PATH.split("/")[7]):delete e.FormSchema[1].Data[0].config.showSelectedFiles,e.FormSchema[2].Data[0].value=e.TypeData[0].DESCRIPTION,e.FormSchema[3].Data[0].value=1==e.TypeData[0].IS_ASSET,e.FormSchema[3].Data[1].value=1==e.TypeData[0].IS_CONSUMABLE,e.FormSchema[3].Data[2].value=1==e.TypeData[0].IS_LICENSE,e.FormSchema[3].Data[3].value=1==e.TypeData[0].IS_SPARE,e.FormSchema[5].Data[0].value=1==e.TypeData[0].IS_TIME_N_ATTENDANCE,e.FormSchema[5].Data[1].value=1==e.TypeData[0].IS_CAMERA,e.FormSchema[5].Data[2].value=1==e.TypeData[0].IS_RFID,e.FormSchema[5].Data[3].value=1==e.TypeData[0].IS_GPS_TRACKING,e.FormSchema[6].Data[0].value=1==e.TypeData[0].IS_TRANSFERABLE,e.FormSchema[6].Data[1].value=1==e.TypeData[0].IS_SELF_CHECKOUT;var a=1==e.TypeData[0].IS_SELF_CHECKOUT;1==a?(e.FormSchema[6].Data[2].visibility=!0,e.FormSchema[6].Data[2].value=e.TypeData[0].is_selfie_enable):e.FormSchema[6].Data[2].visibility=!1,e.FormSchema[6].Data[3].value=1==e.TypeData[0].IS_EMPLOYEE_ACCEPTANCE,e.FormSchema[6].Data[4].value=1==e.TypeData[0].IS_ENABLE_TERMS,e.FormSchema[6].Data[5].value=1==e.TypeData[0].IS_GPS,e.FormSchema[6].Data[6].value=1==e.TypeData[0].IS_FLEET_MANAGEMENT,e.FormSchema[6].Data[7].value=1==e.TypeData[0].IS_PENALTY;var s=1==e.TypeData[0].IS_PENALTY;if(1==s){e.FormSchema[6].Data[8].visibility=!0,e.OnPenaltyOnStatus(!0);const t=""!==e.TypeData[0].PENALTY_TYPE?e.TypeData[0].PENALTY_TYPE.split(","):[],a=t.length>0?t[0]:null;e.FormSchema[6].Data[8].value=a}else e.FormSchema[6].Data[8].visibility=!1;e.FormSchema[6].Data[9].value=1==e.TypeData[0].IS_PENALTY_ON_OVERDUE;var l=1==e.TypeData[0].IS_PENALTY_ON_OVERDUE;1==l?(e.FormSchema[6].Data[10].visibility=!0,e.GracePeriod=e.TypeData[0].GRACE_PERIOD):e.FormSchema[6].Data[10].visibility=!1,e.FormSchema[7].Data[0].value=1==e.TypeData[0].IS_INSURANCE_POLICY,e.FormSchema[7].Data[1].value=1==e.TypeData[0].IS_CALIBRATION,e.FormSchema[7].Data[2].value=1==e.TypeData[0].IS_ITEM_COST,e.FormSchema[7].Data[3].value=1==e.TypeData[0].IS_WARRANTY,e.FormSchema[7].Data[4].value=1==e.TypeData[0].IS_DEPRECIABLE,e.isLoading=!1}else e.TypeData=[],e.isLoading=!1;else e.isLoading=!1})}}},r=n,c=(a("4932"),a("2877")),d=Object(c["a"])(r,s,l,!1,null,null,null);t["a"]=d.exports},fe8d:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,"#ProductTypeCode .form-group a{position:absolute;top:-24px;left:144px}",""]),e.exports=t}}]);
//# sourceMappingURL=chunk-243d2c38.js.map