(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0727bee0"],{"0be5":function(t,e,s){var a=s("d161");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("6adf17e6",a,!0,{sourceMap:!1,shadowMode:!1})},"333c":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".listing[data-v-753ec045]{float:none;width:100%;position:relative}#returnrecordBulk[data-v-753ec045]{overflow:visible}#returnrecordBulk .table tr td[data-v-753ec045]{overflow:visible!important}",""]),t.exports=e},4969:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"span#action-list{display:flex;align-items:center}",""]),t.exports=e},"9c9c":function(t,e,s){"use strict";s("ba99")},aaec:function(t,e,s){"use strict";s("0be5")},b5ef:function(t,e,s){"use strict";s("c5d0")},ba99:function(t,e,s){var a=s("333c");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("4bcb9864",a,!0,{sourceMap:!1,shadowMode:!1})},c5d0:function(t,e,s){var a=s("4969");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("8927524a",a,!0,{sourceMap:!1,shadowMode:!1})},cabd:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{ref:"tgList",attrs:{IsShowAction:!0,showCheckBox:!0,listType:["List"],ModuleName:"Asset",PageSize:t.PageSize,SubModuleCode:"PRODUCT_ASSIGNMENT",ViewList:t.ViewList,IdentityColumn:"ASSIGNMENT_DETAIL_ID",HeaderText:"Product Assignment",ListData:t.AssetAssignmentData,IsFilterApplied:!!t.searchCondition,IsSearchFieldsOnTop:!1,HeaderData:t.Headers,widgets:t.widgets,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,NorecordfoundText:t.$t("NoRecordfound"),RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,SortExp:t.SortExp,SortBy:t.SortBy},on:{ApplyView:t.OnApplyView,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata,RefreshManageView:t.FetchData},scopedSlots:t._u([{key:"slotdata",fn:function({data:s}){return["unique_name"==s.column.COLUMN_NAME?[0==s.row.CREATE_UNIQUE_NAME_LIST?e("span",{staticClass:"text-dark",attrs:{title:""}}):e("span",{staticClass:"text-dark",attrs:{title:s.row.UNIQUE_NAME}},[t._v(" "+t._s(s.row.UNIQUE_NAME)+" ")])]:t._e(),"NUMBER_OF_ITEMS_ASSIGNED"==s.column.COLUMN_NAME?[0==s.row.CREATE_UNIQUE_NAME_LIST?e("span",{staticClass:"text-dark"},[e("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}}),s.row.IS_RETURN?e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(s.row.RETURN_REQUEST_QTY))]):e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(s.row.NUMBER_OF_ITEMS_ASSIGNED))])]):e("span",{staticClass:"text-dark"},[e("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(" "+t._s(s.row.NUMBER_OF_ITEMS_ASSIGNED)+" ")])])]:t._e(),"ASSIGNED_FROM"==s.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:t.$options.filters.formatDateTime(s.row.ASSIGNED_FROM)}},[t._v(" "+t._s(t.$options.filters.formatDateTime(s.row.ASSIGNED_FROM))+" ")])]:t._e(),"ASSIGNED_TILL"==s.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:t.$options.filters.formatDateTime(s.row.ASSIGNED_TILL)}},[t._v(" "+t._s(t.$options.filters.formatDateTime(s.row.ASSIGNED_TILL))+" ")])]:t._e(),"RETURN_DATE"==s.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:t.$options.filters.formatDateTime(s.row.RETURN_DATE)}},[t._v(" "+t._s(t.$options.filters.formatDateTime(s.row.RETURN_DATE))+" ")])]:t._e()]}}])}),t.ReturnProductPopup?e("ReturnPopup",{attrs:{assDetailIDs:t.assDetailIDs},on:{CloseReurnProductPopup:t.CloseReurnProductPopup}}):t._e(),t.NotReturnedPopup?e("NotReturnedPopup",{attrs:{selectedUserDetail:t.selectedUserDetail},on:{CloseNotReurnedProductPopup:t.CloseNotReurnedProductPopup}}):t._e(),t.IsRequestForReturn?e("ReturnForRequest",{attrs:{IsRequestForReturnData:t.IsRequestForReturnData},on:{CloseReturnPopup:t.CloseReturnPopup}}):t._e(),t.isVisibleComponentPopup?e("CommentPopUp",{attrs:{assDetailIDs:t.assDetailIDs},on:{CloseCommentPopup:t.CloseCommentPopup}}):t._e(),t.isSharedPopupOpen?e("SharePopUp",{attrs:{assignmentIdDetail:t.assDetailIDs},on:{CloseSharePopup:t.CloseSharePopup}}):t._e(),t.ApproveRejectpopup?e("ApproveReject",{attrs:{assDetailIDs:t.assDetailIDs},on:{CloseApproveRejectopup:t.CloseApproveRejectopup}}):t._e(),t.isRequestForReturnProduct?e("RequestForReturnProduct",{attrs:{assDetailIDs:t.assDetailIDs,newValue:t.newValue},on:{CloseRequestForReturnProduct:t.CloseRequestForReturnProduct}}):t._e(),t.showFilter?e("searchFilter",{attrs:{submodulecode:"PRODUCT_ASSIGNMENT",modulename:"Asset",callbackfunction:t.FetchData},on:{close:function(e){t.showFilter=!1},FilterData:t.FilterData}},[e("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Search")))])]):t._e(),t.ShowManageView?e("ManageView",{attrs:{submodulecode:"PRODUCT_ASSIGNMENT",modulename:"Asset",callbackfunction:t.FetchData,usertype:t.usertype},on:{close:function(e){t.ShowManageView=!1}}},[e("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Search")))])]):t._e(),t.showquickviewModal?e("modalquickviewdetails",{attrs:{submodulecode:"PRODUCT_ASSIGNMENT",modulename:"Asset",WorkOrderDetails:t.IsWorkOrderDetails},on:{close:function(e){t.showquickviewModal=!1}}}):t._e(),t.showFilter?e("SearchFilter",{attrs:{submodulecode:"PRODUCT_ASSIGNMENT",modulename:"Asset",callbackfunction:t.FetchData},on:{close:function(e){t.showFilter=!1},FilterData:t.FilterData}},[e("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Search")))])]):t._e()],1)},i=[],o=(s("14d9"),s("1115"));let r=[{title:"Reset",iconClass:"fa-filter text-danger",callbackfunction:"removeFilter",href:"",additionalClass:"",isdisabled:!1,isvisible:!1,checkPrivilege:!1},{title:"Filters",iconClass:"fa-filter",callbackfunction:"openFilterPopUp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Assign Product",iconClass:"fa fa-plus",callbackfunction:"AssignProduct",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Return Product",iconClass:"fa fa-undo",callbackfunction:"ReturnProduct",href:"",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Request For Return",iconClass:"fa fa-user",callbackfunction:"RequestForReturnProduct",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],n=[{fieldName:"Issued To",fieldType:"text",fieldIcon:"fa fa-user",paramName:"search",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Issued By",fieldType:"radio",fieldIcon:"fa fa-user",paramName:"issuedBy",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Product Name",fieldType:"text",fieldIcon:"fa fa-suitcase",paramName:"searchItemCode",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Show By",fieldType:"radio",fieldIcon:"fa fa-file-text-o",paramName:"Show",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[{value:"0",name:"Assigned"},{value:"1",name:"Returned"},{value:"2",name:"Return Overdue"},{value:"3",name:"Approval Pending for Return"}]}],l=[{title:"Share",callbackfunction:"Share",href:"javascript:void(0)",icon:"fa fa-share-alt assetsharing action-icon",isVisible:!0,isDisabled:!1,additionalSpan:""},{title:"Approve/Reject Request",callbackfunction:"AcceptRejectRequest",href:"",icon:"fa fa-file-text-o action-icon",isDisabled:!1,isVisible:!0,additionalSpan:""},{title:"Returned",callbackfunction:"Returned",href:"javascript:void(0)",icon:"fa fa-undo text-danger action-icon",additionalSpan:"",isDisabled:!1,isVisible:!0},{title:"Not Returned",callbackfunction:"NotReturned",href:"",icon:"fa fa-undo action-icon text-danger",isVisible:!0,isDisabled:!1,additionalSpan:""},{title:"Request For Return",callbackfunction:"RequestForReturn",href:"javascript:void(0)",icon:"fa fa-user action-icon text-primary",isVisible:!0,isDisabled:!1,additionalSpan:""},{title:"Request Already Sent",callbackfunction:"RequestAlreadySent",href:"javascript:void(0)",icon:"fa fa-user action-icon text-success",isVisible:!0,isDisabled:!1,additionalSpan:""},{title:"Comment",callbackfunction:"Comment",href:"javascript:void(0)",icon:"fa fa-comment action-icon",isVisible:!0,isDisabled:!1,additionalSpan:""}];function c(t,e,s){var a=t;a.leftSearchFields[1].listOptions=[];var i=`moduleName=${e}&department_ids=`;o["a"].GetCompanyUsers(i).then(t=>{var e=t.data;if(null!=e)return e.forEach((function(t,e){let s={name:t.USERNAME,value:""+t.USER_ID};a.leftSearchFields[1].listOptions.push(s)})),a.LeadStatusList})}var u={buttons:r,leftsearchSchema:n,listActions:l,bindleftCommonSearchdropdown:c},d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Return"))+" ")]),e("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){return t.CloseReurnProductPopup(e)}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"listing"},[t.noRecordForTab?t._e():e("div",{staticClass:"table-responsive tableborder",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"table-sorting table table-bordered",staticStyle:{width:"1500px !important"},attrs:{id:"table-openactivities-content"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v(t._s(t.$t("ProductName")))])]),e("th",[e("span",[t._v(t._s(t.$t("UniqueName"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("LocationName"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("IssuedTo"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("IssuedBy"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("AssignedFrom")))])]),e("th",[e("span",[t._v(t._s(t.$t("AssignedTill"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("NumberofProducts"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("Quantity"))+" ")])])])]),e("tbody",[t._l(t.AssignmentData,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s.AssetName))]),e("td",[t._v(t._s(s.UniqueName))]),e("td",[t._v(t._s(s.LocationName))]),e("td",[t._v(t._s(s.IssuedToName))]),e("td",[t._v(t._s(s.IssuedByName))]),e("td",[t._v(t._s(s.AssignedFrom))]),e("td",[t._v(t._s(s.AssignedTill))]),e("td",[e("span",{staticClass:"text-dark",attrs:{title:s.NumberOfItemsToAssign}},[e("em",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(s.NumberOfItemsToAssign))])])]),e("td",[(Boolean(s.HasUniqueNames),e("input",{directives:[{name:"model",rawName:"v-model",value:s.quantity,expression:"item.quantity"}],class:{"form-control":!0,"is-invalid":!t.isQuantityValid},attrs:{type:"decimal"},domProps:{value:s.quantity},on:{input:[function(e){e.target.composing||t.$set(s,"quantity",e.target.value)},function(e){return t.checkQuantity(s)}],keypress:function(e){return t.preventMinusSign(e)}}}))])])})),t.noRecordForTab?e("div",{staticClass:"text-center text-danger p-4 border no-record"},[t._v(" "+t._s(t.$t("NoRecordfound")))]):t._e()],2)])])])]),e("div",{staticClass:"form-content mt-2 p-3",staticStyle:{width:"1200px !important"},attrs:{id:"dvReturnStatus"}},[e("Form",{ref:"ReturnForm"},[e("div",{staticClass:"collapse show py-3"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"form-group"},[e("span",[t._v(t._s(t.$t("Title:")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtTitle,expression:"txtTitle"}],staticClass:"form-control",attrs:{type:"text",name:"txtTitle",maxlength:"150"},domProps:{value:t.txtTitle},on:{input:function(e){e.target.composing||(t.txtTitle=e.target.value)}}})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"form-group"},[e("span",[t._v(" "+t._s(t.$t("Comment")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtComment,expression:"txtComment"}],staticClass:"form-control",attrs:{name:"txtComment",maxlength:"400"},domProps:{value:t.txtComment},on:{input:function(e){e.target.composing||(t.txtComment=e.target.value)}}})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success formbtn text-white mr-1",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:function(e){return t.SubmitData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),e("span",[t._v(t._s(t.$t("Save")))])]),e("a",{staticClass:"btn btn-danger formbtn text-white",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.onCancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),e("span",[t._v(t._s(t.$t("Cancel")))])])])])])])])],1)])])])],1)},m=[],p={props:{assDetailIDs:{type:String,required:!0}},data(){return{noRecordForTab:!1,isLoading:!1,AssignmentData:[],txtTitle:"",txtComment:"",selectedItems:"",isQuantityValid:!0}},created:function(){this.GetAssignmentDetailByID()},methods:{preventMinusSign(t){"-"!==t.key&&"."!==t.key&&"+"!==t.key||t.preventDefault()},CloseReurnProductPopup:function(){this.$parent.CloseReurnProductPopup()},onCancel:function(){this.$parent.CloseReurnProductPopup()},async GetAssignmentDetailByID(){var t="assDetailIDs="+this.assDetailIDs;await o["a"].GetAssignmentDetailByID(t).then(t=>{null!=t.data?(this.AssignmentData=t.data,this.AssignmentData.forEach(t=>{t.quantity=t.NumberOfItemsToAssign}),this.noRecordForTab=!1):this.noRecordForTab=!0})},SubmitData(){var t=this,e="",s="",a=!0,i="";t.$refs.ReturnForm.validate().then(r=>{if(r){if(t.AssignmentData.forEach(a=>{t.checkQuantity(a),t.qty=a.quantity,t.assDetailID=a.AssignmentDetailId,t.userid=a.IssuedToId,t.RelatedInfoID=a.RelatedInfoID,t.NumberOfItemsToAssign=a.NumberOfItemsToAssign,t.UniqueName=a.UniqueName,""!=e&&(e+="|"),e+=t.assDetailID+","+t.qty+","+t.userid,""!=s&&(s+="|"),s+=t.assDetailID+","+t.RelatedInfoID+","+i+","+t.UniqueName}),""==e)return t.ShowAlert(t.$t("Minimum One Product should be selected."),"warning",t.$t("Alert")),!1;if(0==a||!t.isQuantityValid)return!1;var n={itemdetails:e,title:t.txtTitle,comment:t.txtComment,relatedInfoIDs:s},l=JSON.stringify(n);o["a"].BulkReturnItem(l).then(e=>{null!=e.data&&1==e.data.result&&("Success"==e.data.msg[0].MessageCode?t.ShowAlert(t.$t("Item(s) are returned successfully."),"success",t.$t("Alert")):t.ShowAlert(t.$t(e.data.msg[0].MessageCode),"success",t.$t("Alert")),t.CloseReurnProductPopup())})}})},checkQuantity(t){var e=this;t.quantity>0?(e.selectedItems=e.AssignmentData.filter(e=>e.AssetAssignmentId===t.AssetAssignmentId),0!==t.NumberOfItemsToAssign&&null!==t.NumberOfItemsToAssign&&""!==t.NumberOfItemsToAssign&&t.NumberOfItemsToAssign<parseInt(t.quantity)?(e.ShowAlert(e.$t("Please enter a quantity less than or equal to Number Of Products."),"warning",!0,e.$t("Alert")),e.isQuantityValid=!1):e.isQuantityValid=!0):(e.ShowAlert(e.$t("Please enter a quantity less than or equal to Number Of Products."),"warning",!0,e.$t("Alert")),e.isQuantityValid=!1)}}},h=p,f=s("2877"),v=Object(f["a"])(h,d,m,!1,null,null,null),_=v.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Comment"))+" ")]),e("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){return t.CloseCommentPopup(e)}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"popupscroller modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"}},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"collapse show py-0"},[e("div",{staticClass:"card-body comments"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[e("div",{staticClass:"panel panel-white post panel-shadow"},[e("div",{staticClass:"post-heading"},[t._m(0),e("div",{staticStyle:{padding:"10px"}},[e("div",{staticClass:"title h6"},[e("b",[t._v(t._s(t.commentData.TITLE))])]),e("span",{staticClass:"text-muted time"},[e("i",[e("b",[t._v(t._s(t.commentData.USERNAME))]),t._v(", "+t._s(t.$t("Postedon"))+" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.formatTimeToCustomFormat(t.commentData.RETURN_DATE)))])])]),t._m(1)])])])])])])])])])])])])],1)},C=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"pull-left image"},[e("img",{staticClass:"img-circle avatar pr-5",attrs:{src:"/Content/images/DefaultImages/avatar-icon.jpg",alt:"Image"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"post-description",staticStyle:{width:"85%"}},[e("p",{attrs:{title:""}},[e("br")])])}],R=s("1315"),A={props:{assDetailIDs:{type:Number,required:!0}},data(){return{commentData:[]}},created(){this.GetCommentUserDetail()},methods:{CloseCommentPopup:function(t){this.$emit("CloseCommentPopup",t)},async GetCommentUserDetail(){const t="assignmentId="+this.assDetailIDs;await o["a"].GetAssetReturnComment(t).then(t=>{null!=t.data?(this.commentData=t.data.DATA[0],console.log("comment",this.commentData)):this.commentData=""})},formatTimeToCustomFormat(t){if(null!=t&&""!=t){const e=R["DateTime"].fromISO(t,{zone:"utc"}),s=Intl.DateTimeFormat().resolvedOptions().timeZone,a=e.setZone(s),i=a.toFormat("MM/dd/yyyy h:mm a");return i}return"NA"}}},D=A,b=Object(f["a"])(D,S,C,!1,null,null,null),g=b.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Request For Return"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:t.CloseRequestReturnPopup}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"border p-3"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},N=[],E={props:{IsRequestForReturnData:{type:Object,required:!0}},data(){return{IsShowAddNamePopup:!1,isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"NumericField",label:"Number of Products",name:"NumberofProducts",value:""+(this.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED>0?this.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED:1),placeholder:"",disabled:!!this.IsRequestForReturnData.CREATE_UNIQUE_NAME_LIST,validationRules:{required:!0,min_value:1,max:7},config:{onKeyUp:this.checkQuantity}},{astype:"DateField",label:"Return Until (M/D/YYYY)",name:"ReturnUntil",value:new Date,placeholder:"",validationRules:!1,config:{format:"M/D/YYYY",minDate:new Date}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",placeholder:"",validationRules:{required:!1},config:{rows:5}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CloseRequestReturnPopup}]}},created:function(){console.log("r1",this.IsRequestForReturnData),this.FetchRequestForReturn()},methods:{FetchRequestForReturn:function(){this.FormSchema[0].Data[0].value=this.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED,this.FormSchema[0].Data[1].value=this.IsRequestForReturnData.ASSIGNED_TILL},GetPrivilege:function(t){return!0},checkQuantity:function(t){var e=this;let s=this.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED,a=t.currentTarget.value.replace(/[^0-9]/g,""),i="";return parseInt(a)>s?(e.ShowAlert(e.$t("Please enter a value less than or equal to "+s),"warning",e.$t("Alert")),this.FormSchema[0].Data[0].value=i):void(this.FormSchema[0].Data[0].value=a)},CloseRequestReturnPopup:function(){this.$emit("CloseReturnPopup")},RequstForReturn:function(t){this.IsRequestForReturnData=t,this.IsRequstForReturn=!0},onSubmit:function(t,e){var s=this;if(s.isLoading=!0,s.GetPrivilege("controller=AssetAssignment&action=AssetRequestForReturn")){let e={Comment:t.Comment,RelatedInfoID:s.IsRequestForReturnData.RELATED_INFO_ID,NumberOfItems:s.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED,ReturnUntil:t.ReturnUntil,Status_Code:1001,UserID:s.IsRequestForReturnData.ISSUED_TO_ID,AssetAssignmentDetailId:s.IsRequestForReturnData.ASSIGNMENT_DETAIL_ID,UniqueName:s.IsRequestForReturnData.UNIQUE_NAME,Status_Name:"Manager"};var a=JSON.stringify(e);o["a"].SaveRequestForReturn(a).then(t=>{1==t.data.result?(s.ShowAlert(s.$t("Request for Return saved successfully."),"success",s.$t("Alert")),s.CloseRequestReturnPopup(),s.isLoading=!1,s.$parent.FetchData()):(s.isLoading=!1,s.ShowAlert(s.$t("Error while returning item."),"warning",s.$t("Alert")))}),s.isLoading=!1}s.isLoading=!1}}},y=E,T=Object(f["a"])(y,I,N,!1,null,null,null),P=T.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Product Sharing"))+" ")]),e("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){return t.CloseSharePopup(e)}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"d-flex flex-wrap border p-1 mb-2"},[e("div",{staticClass:"col-sm-12 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("IssuedTo"))+" ")]),t._v(": "),e("span",{staticClass:"detailtxt"},[t._v(t._s(t.assignmentIdDetail.ISSUED_TO))])])])]),e("div",{staticClass:"col-sm-12 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Product"))+" ")]),t._v(": "),e("span",{staticClass:"detailtxt"},[t._v(t._s(t.assignmentIdDetail.NAME))])])])]),e("div",{staticClass:"col-sm-12 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("UniqueName")))]),t._v(" : "),e("span",{staticClass:"detailtxt"},[t._v(t._s(t.assignmentIdDetail.UNIQUE_NAME))])])])]),e("div",{staticClass:"col-sm-12 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("AssignedFrom"))+" ")]),t._v(": "),e("span",{staticClass:"detailtxt"},[t._v(t._s(t.$options.filters.formatDateTime(t.assignmentIdDetail.ASSIGNED_FROM)))])])])]),e("div",{staticClass:"col-sm-12 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("AssignedTill"))+" ")]),t._v(": "),e("span",{staticClass:"detailtxt"},[t._v(t._s(t.$options.filters.formatDateTime(t.assignmentIdDetail.ASSIGNED_TILL)))])])])])]),e("Form",{ref:"addEmployeform",scopedSlots:t._u([{key:"default",fn:function({valid:s,errors:a}){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 float-left"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Location")))]),t._v(":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Location",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("tree-view",{class:{"":!0,"is-invalid":s[0]},attrs:{options:t.options,placeholder:"Select Location","show-count":!0},model:{value:t.TreeValue,callback:function(e){t.TreeValue=e},expression:"TreeValue"}}),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 float-left"},[e("div",{staticClass:"form-group",staticStyle:{position:"relative"}},[e("label",[e("b",[t._v(t._s(t.$t("EmployeeCode"))+":")]),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{attrs:{name:"name"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtEmployeNameCode,expression:"txtEmployeNameCode"}],class:{"form-control":!0},attrs:{placeholder:"Search Employee Name(Code)",type:"text"},domProps:{value:t.txtEmployeNameCode},on:{keyup:function(e){return t.getEmploye()},input:function(e){e.target.composing||(t.txtEmployeNameCode=e.target.value)}}})]),e("div",{staticClass:"unique_dynamicdatalist p-sharing-name"},[0==t.employe.length&&""!=t.txtEmployeNameCode?e("ul",[e("li",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e(),t._l(t.employe,(function(s,a){return e("ul",{key:a,on:{click:function(e){return t.setUserName(s.USERNAME,s.USER_ID)}}},[t.showProductDropdown?e("li",{staticStyle:{"text-transform":"capitalize"},attrs:{value:s.USER_ID}},[t._v(t._s(s.USERNAME))]):t._e()])}))],2)],1)]),e("div",{staticClass:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"search-btm-btn background-0 text-left py-4"},[e("a",{staticClass:"btn btn-success float-left",attrs:{href:"javascript:;"},on:{click:function(e){return t.addemployeInTable(s,a)}}},[e("i",{staticClass:"fa fa-plus mr-2"}),t._v(t._s(t.$t("Add")))])])])])]}}])}),e("div",{staticClass:"listing mt-2 mb-2"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered nowrap mt-0",attrs:{id:"tblEmployeeList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"ui-resizable",staticStyle:{width:"228px","min-width":"228px","max-width":"228px"}},[t._v(" "+t._s(t.$t("EmployeeCode"))+" "),e("div",{staticClass:"sizer"}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})]),e("th",{staticClass:"text-center ui-resizable",staticStyle:{width:"85px","min-width":"85px","max-width":"85px"}},[t._v(" "+t._s(t.$t("Action"))+" "),e("div",{staticClass:"sizer"}),e("div",{staticClass:"ui-resizable-handle ui-resizable-e",staticStyle:{"z-index":"90"}})])])]),e("tbody",[null==t.employeNameCode||""==t.employeNameCode?e("tr",[e("td",{staticClass:"text-center text-danger p-4 border no-record"},[t._v(" "+t._s(t.$t("NoRecordfound")))])]):e("tr",[e("td",[t._v(t._s(t.employeNameCode))]),e("td",{staticClass:"text-center"},[e("a",{attrs:{href:"javascript:;",title:"Delete"},on:{click:function(e){return t.RemoveRow(t.employeNameCode)}}},[e("i",{staticClass:"recyclebin fa fa-trash action-icon text-danger inactive"})])])])])])])]),e("div",{staticClass:"col-lg-12 float-left p-0"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-12 text-right"},[e("a",{staticClass:"btn btn-success",on:{click:function(e){return t.saveEmploye()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),t._v("Â  "),e("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;"},on:{click:function(e){return t.CloseSharePopup(e)}}},[e("i",{staticClass:"fa fa-close mr-2"}),t._v(t._s(t.$t("Cancel")))])])])])],1)])])])],1)},x=[],U=s("ca17"),F=s.n(U),k=(s("542c"),{components:{"tree-view":F.a},props:{assignmentIdDetail:{type:Object,required:!0}},data(){return{LocationData:[],txtEmployeNameCode:"",employeNameCode:"",noRecordForTab:!1,employe:"",isValueShow:"",showProductDropdown:!1,UserId:"",msg:{},selectedValue:"",TreeValue:null,options:[]}},created(){this.GetLocationByuserId()},methods:{CloseSharePopup:function(t){this.$emit("CloseSharePopup",t)},async GetLocationByuserId(){var t=this;t.FindalLocationArray=[],await o["a"].GetLocationByuserId().then(e=>{t.LocationData=e.data.data,t.LocationData.forEach(s=>{var a=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==s.COMPANY_LOCATION_ID}));if(0==a.length&&null==s.PARENT_LOCATION_ID){let a=s.COMPANY_LOCATION_ID,i=t.getChildLocation(a,s,e.data.data);t.FindalLocationArray.push(i)}}),t.options=t.FindalLocationArray})},getChildLocation:function(t,e,s){let a=this,i={};i={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=i;var r=s.filter((function(e){return e.PARENT_LOCATION_ID==t}));let n=[];return r.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=n.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var r=s.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=r&&r.length>0){let i=a.getChildLocation(e,t,s);n.push(i)}else i={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},n.push(i)}}),o.children=n,o},setUserName:function(t,e){this.txtEmployeNameCode=t,this.selectedValue=this.txtEmployeNameCode,this.UserId=e,this.showProductDropdown=!1},addemployeInTable:function(t){var e=this;e.$refs.addEmployeform.validate().then(t=>{if(""!=e.TreeValue)return""==e.txtEmployeNameCode?e.ShowAlert(e.$t("Please Select an Employee"),"failure",e.$t("Alert")):void(e.txtEmployeNameCode==e.selectedValue?(e.employeNameCode=e.txtEmployeNameCode,this.txtEmployeNameCode=null):(e.txtEmployeNameCode=null,e.employeNameCode=null,e.ShowAlert(e.$t("Please Select an Employee"),"failure",e.$t("Alert"))))})},RemoveRow:function(){this.employeNameCode=null},getEmploye(){var t=this;t.$refs.addEmployeform.validate().then(t=>{const e=`name=${this.txtEmployeNameCode}&locationId=${this.TreeValue}&modulename=assetassignment&relatedInfoId=${this.assignmentIdDetail.RELATED_INFO_ID}`;o["a"].GetEmployeeAutoComplete(e).then(t=>{null!=t.data?(this.employe=t.data,this.showProductDropdown=!0):this.employe=""})})},async saveEmploye(){var t=this;if(""==this.UserId||null==this.employeNameCode)return t.ShowAlert(t.$t("No Employee selected, please select an Employee to share this Product."),"failure",t.$t("Alert"));{const e=`relatedInfoId=${this.assignmentIdDetail.RELATED_INFO_ID}&IssuedToId=${this.assignmentIdDetail.ISSUED_TO_ID}&employeeIds=${this.UserId}`;await o["a"].ItemSharing(e).then(e=>{console.log("response",e),null!=e.data&&(this.msg=e.data[0],100==this.msg.STATUS?(this.CloseSharePopup(),t.ShowAlert(t.$t("Item shared successfully."),""+this.msg.MESSAGE,t.$t("Alert"))):(this.CloseSharePopup(),t.ShowAlert(t.$t("Error occur while Item Shared "),""+this.msg.MESSAGE,t.$t("Alert"))))})}}}}),O=k,L=(s("aaec"),Object(f["a"])(O,w,x,!1,null,null,null)),M=L.exports,q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Return"))+" ")]),e("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){return t.CloseNotReurnedProductPopup(e)}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"border p-3"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),e("span",{staticClass:"mandatory"},[t._v(" "+t._s(t.$t("Required")))])],1)])])])],1)},V=[],B={props:{selectedUserDetail:{type:Array,required:!0}},data(){return{result:null,noRecordForTab:!1,isLoading:!1,AssignmentData:[],txtTitle:"",txtComment:"",UserId:null,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Titlee"),name:"Title",value:"",placeholder:"",validationRules:{required:!0}},{astype:"NumericField",label:this.$t("Number of Product"),name:"NumberofProduct",placeholder:"",validationRules:{required:!0,min_value:1,max:7},disabled:!!this.selectedUserDetail.CREATE_UNIQUE_NAME_LIST,config:{onKeyUp:this.checkQuantity}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",placeholder:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save")},{type:"button",class:"btn btn-danger",text:this.$t("Skip")+"&nbsp;<i class='fa fa-fast-forward pr-2'></i>",onClick:this.onSkip}]}},created:function(){this.UserId=this.GetUserInfo.ID,this.fetchNotReturnData()},methods:{fetchNotReturnData(){this.FormSchema[0].Data[1].value=this.selectedUserDetail.NUMBER_OF_ITEMS_ASSIGNED},checkQuantity:function(t){this.FormSchema[0].Data[1].value;let e=this.selectedUserDetail.NUMBER_OF_ITEMS_ASSIGNED,s=t.currentTarget.value.replace(/[^0-9]/g,"");return parseInt(s)>e?this.FormSchema[0].Data[1].value=e:void(this.FormSchema[0].Data[1].validationRules.min_value=e)},CloseNotReurnedProductPopup:function(){this.$emit("CloseNotReurnedProductPopup")},onSkip:function(){this.onSubmit(),this.CloseNotReurnedProductPopup()},async onSubmit(t){let e=this;const s={RequestID:0,AssetAssignmentDetailId:this.selectedUserDetail.ASSIGNMENT_DETAIL_ID,NumberOfItems:parseInt(t.NumberofProduct),UserId:this.selectedUserDetail.ISSUED_TO_ID,RelatedInfoID:0,Comment:t.Comment,Title:t.Title};let a=JSON.stringify(s);await o["a"].UpdateAssetAssignmentStatus(a).then(t=>{if(null!=t.data){if(this.result=t.data.result,1==this.result)return this.$parent.FetchData(),this.$parent.NotReturnedPopup=!1,e.ShowAlert(e.$t("Item has been return Successfully"),"success",e.$t("Alert"));if(0==this.result){if("NotReturnedSuccessfully"==t.data.msg)return this.$parent.FetchData(),this.$parent.NotReturnedPopup=!1,e.ShowAlert(e.$t("Already Returned"),"success",e.$t("Alert"))}else this.CloseNotReurnedProductPopup(),this.$parent.FetchData(),e.ShowAlert(e.$t("ErrorMessage"),"Failure",e.$t("Alert"))}})}}},G=B,Q=Object(f["a"])(G,q,V,!1,null,null,null),j=Q.exports,Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Approve/Reject Request"))+" ")]),e("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){return t.CloseApproveRejectopup(e)}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive tableborder",staticStyle:{"overflow-x":"auto"}},[e("table",{staticClass:"table-sorting table table-bordered",staticStyle:{width:"1500px !important"},attrs:{id:"table-openactivities-content"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("div",{staticClass:"custom-control custom-checkbox",on:{click:function(e){return t.checkSelectedRecord()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.SelectAll,expression:"SelectAll"}],staticClass:"chkItems custom-control-input",attrs:{type:"checkbox",id:"chkAll",name:"checkbox"},domProps:{checked:Array.isArray(t.SelectAll)?t._i(t.SelectAll,null)>-1:t.SelectAll},on:{change:function(e){var s=t.SelectAll,a=e.target,i=!!a.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);a.checked?r<0&&(t.SelectAll=s.concat([o])):r>-1&&(t.SelectAll=s.slice(0,r).concat(s.slice(r+1)))}else t.SelectAll=i}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1"})])]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14)])]),e("tbody",[t._l(t.AssetReplacelistData,(function(s,a){return e("tr",{key:s.ASSET_ASSIGNMENT_ID,attrs:{index:a}},[e("td",{staticClass:"text-center"},[1001==s.STATUS_ID&&s.QTY>0?e("div",{staticClass:"custom-control custom-checkbox",on:{click:function(e){return t.singleCheckRecord(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.isSelectProduct,expression:"item.isSelectProduct"}],staticClass:"chkItems custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",name:"checkbox"},domProps:{checked:Array.isArray(s.isSelectProduct)?t._i(s.isSelectProduct,null)>-1:s.isSelectProduct},on:{change:function(e){var a=s.isSelectProduct,i=e.target,o=!!i.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);i.checked?n<0&&t.$set(s,"isSelectProduct",a.concat([r])):n>-1&&t.$set(s,"isSelectProduct",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(s,"isSelectProduct",o)}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1"})]):e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.isSelectProduct,expression:"item.isSelectProduct"}],staticClass:"chkItems custom-control-input",staticStyle:{display:"none"},attrs:{disabled:"disabled",type:"checkbox",name:"checkbox"},domProps:{checked:Array.isArray(s.isSelectProduct)?t._i(s.isSelectProduct,null)>-1:s.isSelectProduct},on:{change:function(e){var a=s.isSelectProduct,i=e.target,o=!!i.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);i.checked?n<0&&t.$set(s,"isSelectProduct",a.concat([r])):n>-1&&t.$set(s,"isSelectProduct",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(s,"isSelectProduct",o)}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1"})])]),e("td",[t._v(t._s(s.USER_NAME))]),e("td",[t._v(t._s(s.NAME))]),e("td",[t._v(t._s(s.UNIQUE_NAME))]),e("td",[t._v(t._s(s.RETURN_REASON_NAME))]),e("td",[t._v(t._s(s.COMMENTS))]),e("td",[t._v(t._s(s.APPROVAL_COMMENT))]),(1001==s.STATUS_ID||"Approved"==s.STATUS_NAME||1002==s.STATUS_ID||s.STATUS_ID,e("td",{staticClass:"text-center single-action"},[e("em",{staticClass:"active-disabled",attrs:{statusid:"1001"}},[e("span",{staticClass:"btn d-inline-block w-80 text-center text-truncate btn-success"},[t._v(t._s(s.STATUS_NAME))])])])),e("td",{staticClass:"text-center single-action"},[e("i",{staticClass:"fa fa-shopping-basket",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue",attrs:{title:"Quantity"}},[t._v(t._s(s.QTY))])]),e("td",[t._v(t._s(s.ITEM_COST))]),e("td",[t._v(t._s(s.BOOK_VALUE))]),e("td",[1001==s.STATUS_ID?e("span",[t._v(t._s(s.totalDaysDue))]):e("span",[t._v(t._s(s.GraceOverdueDays))])]),e("td",[1001==s.StatusId&&s.QTY>0&&1==s.IS_PENALTY?e("select",[e("option")]):t._e()]),e("td",[1001==s.STATUS_ID?e("span",[t._v(t._s(t.totalDaysDue))]):e("span",[t._v(t._s(s.GRACE_OVERDUE_DAYS))])]),e("td",[1001==s.STATUS_ID&&s.NUMBER_OF_ITEMS>0&&1==s.IS_PENALTY?e("select",{directives:[{name:"model",rawName:"v-model",value:t.StatusID,expression:"StatusID"}],class:{"form-control w-100":!0},attrs:{name:"StatusID"},on:{click:function(e){return t.GetAssetstatusList()},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.StatusID=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.StatusData,(function(s,a){return e("option",{key:a,domProps:{value:s.value}},[t._v(t._s(s.name))])}))],2):1001!=s.STATUS_ID?e("span",[0==s.PenaltyStatusType?e("span",[t._v("N/A")]):e("span",[t._v(t._s(s.PenaltyStatusType))])]):e("span",[t._v("N/A")])]),e("td",[1001==s.STATUS_ID&&s.QTY>0&&(1==s.IS_PENALTY||1==t.ISOVERDUE)?e("input",{staticClass:"form-control",attrs:{type:"text"}}):1001!=s.STATUS_ID?[s.PENALITY_AMOUNT<0?e("span",[t._v("N/A")]):e("span",[t._v(t._s(s.PENALITY_AMOUNT))])]:e("span",[t._v("N/A")])],2),e("td",[t._v(t._s(t.$options.filters.formatDateTime(s.ReplaceRequestDate)))])])})),t.noRecord?e("tr",[e("td",{staticClass:"text-center text-danger p-4 border no-record",attrs:{colspan:"20"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])]),e("div",{staticClass:"form-content mt-2 p-3",staticStyle:{width:"1200px !important"},attrs:{id:"dvReturnStatus"}},[e("Form",{ref:"ApproveRejectForm"},[e("div",{staticClass:"collapse show py-3"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"form-group"},[e("span",[t._v("Status:"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Status",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.txtStatus,expression:"txtStatus"}],staticClass:"form-control",class:{"form-control":!0,"is-invalid":s[0]},attrs:{name:"Status",maxlength:"150"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.txtStatus=e.target.multiple?s:s[0]}}},t._l(t.statusvalue,(function(s,a){return e("option",{key:a,domProps:{value:s.ID}},[t._v(t._s(s.Text))])})),0),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Status"}},[t._v(t._s(s[0]))]):t._e()]}}])})],1)]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"form-group"},[e("span",[t._v("Comment:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.txtComment,expression:"txtComment"}],staticClass:"form-control",attrs:{name:"txtComment",maxlength:"400"},domProps:{value:t.txtComment},on:{input:function(e){e.target.composing||(t.txtComment=e.target.value)}}})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success formbtn text-white mr-1",attrs:{href:"javascript:;",type:"submit",title:t.$t("Save"),disabled:t.noRecord},on:{click:function(e){return t.SubmitStatus()}}},[e("i",{staticClass:"fa fa-save pr-2"}),e("span",[t._v(t._s(t.$t("Save")))])]),e("a",{staticClass:"btn btn-danger formbtn text-white",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:function(e){return t.onCancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),e("span",[t._v(t._s(t.$t("Cancel")))])])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("small",{staticClass:"text-danger"},[t._v("Fields marked with an asterisk (*) are mandatory.")])])])])])])])],1)])])])],1)},z=[function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("User Name")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Product")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Unique Name")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Reason")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Comment")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Approval Comment")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Status")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Quantity")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Product Cost")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Book Value")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Overdue days")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Penalty Status")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Penalty ")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Return Date ")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Penalty Amount")])])}],W={props:{assDetailIDs:{type:Number,required:!0}},data(){return{isLoading:!1,AssignmentData:[],txtComment:"",txtStatus:"",statusvalue:[{ID:"Approve",Text:"Approve"},{ID:"Reject",Text:"Reject"}],AssetReplacelistData:[],SortBy:"",SortExp:"",PageSizees:10,PageNumberes:1,CreatedBy:"",relatedInfoID:"",username:"",searchStatus:"",PenaltyOnStatus:"",PenaltyOnOverdue:"",SelectAll:!1,suser:[],mulipleSelect:!1,noRecord:!1}},created:function(){this.GetApproveUnApprovelist()},methods:{CloseApproveRejectopup:function(t){this.$emit("CloseApproveRejectopup",t)},onCancel:function(){this.CloseApproveRejectopup()},GetApproveUnApprovelist(){if(this.assDetailIDs)var t=`sortBy=${this.SortBy}&sortExp=${this.SortExp}&pageSize=${this.PageSizees}&pageNum=${this.PageNumberes}&createdby=${this.CreatedBy}&relatedInfoID=${this.assDetailIDs}&username=${this.username}&searchStatus=${this.searchStatus}&PenaltyOnStatus=${this.PenaltyOnStatus}&PenaltyOnOverdue=${this.PenaltyOnOverdue}`;else t=`sortBy=${this.SortBy}&sortExp=${this.SortExp}&pageSize=${this.PageSizees}&pageNum=${this.PageNumberes}&createdby=${this.CreatedBy}&relatedInfoID=${this.relatedInfoID}&username=${this.username}&searchStatus=${this.searchStatus}&PenaltyOnStatus=${this.PenaltyOnStatus}&PenaltyOnOverdue=${this.PenaltyOnOverdue}`;o["a"].GetAssetReturnRequest(t).then(t=>{null!=t.data&&(t.data.length>0&&"[]"!=t.data?(this.AssetReplacelistData=JSON.parse(t.data),this.TotalRecordes=t.data[0].TOTAL_PAGES,this.TotalPagees=Math.ceil(this.TotalRecordses/this.PageSizees),this.CurrentPagees=this.PageNumberes,this.noRecord=!1):(this.noRecord=!0,this.AssetReplacelistData=[],this.TotalRecorded=0))})},singleCheckRecord:function(t){var e=this;e.SelectAll=!0,t.isSelectProduct=!t.isSelectProduct,t.isSelectProduct?e.AssetReplacelistData.forEach(t=>{t.isSelectProduct||(e.SelectAll=!1)}):e.SelectAll=!1},checkSelectedRecord:function(){var t=this;t.SelectAll=!t.SelectAll,t.SelectAll?t.AssetReplacelistData.forEach(t=>{t.isSelectProduct=!0}):t.AssetReplacelistData.forEach(t=>{t.isSelectProduct=!1})},SubmitStatus(){var t=this,e=[];t.$refs.ApproveRejectForm.validate().then(s=>{if(s){if(""==t.txtStatus||e.length>0)return!1;t.isLoading=!0,e=t.AssetReplacelistData.filter(t=>1==t.isSelectProduct);const s={RequestData:e,RetrunRequeststatus:""!=t.txtStatus?"Approve"==t.txtStatus?"ACCEPT":"REJECT":"",comment:t.txtComment};if(null==s||0==s.RequestData.length)return t.ShowAlert(t.$t("PleaseSelectAtleastOneProduct"),"failure",!0,t.$t("Alert")),t.isLoading=!1,!1;o["a"].AddRejectStatus(s).then(e=>{"ReturnedSuccessfully"==e.data.msg||"RejectedSuccessfully"==e.data.msg?"Approve"==t.txtStatus?(t.ShowAlert(t.$t("CommonApprove",[t.$t("CRM_PRODUCTS")]),"success",!0,t.$t("Alert")),t.isLoading=!1,t.$parent.FetchData()):(t.ShowAlert(t.$t("CommonReject",[t.$t("CRM_PRODUCTS")]),"success",!0,t.$t("Alert")),t.isLoading=!1,t.$parent.FetchData()):"NotReturnedSuccessfully"==e.data.result?"Approve"==t.txtStatus?(t.isLoading=!1,t.ShowAlert(t.$t("CommonApprove",[t.$t("CRM_PRODUCTS")]),"failure",!0,t.$t("Alert")),t.$parent.FetchData()):(t.isLoading=!1,t.ShowAlert(t.$t("CommonReject",[t.$t("CRM_PRODUCTS")]),"failure",!0,t.$t("Alert")),t.$parent.FetchData()):(t.ShowAlert(t.$t("ReturnError"),"warning",t.$t("Alert")),t.isLoading=!1)})}})}}},H=W,J=Object(f["a"])(H,Y,z,!1,null,null,null),Z=J.exports,K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Request For Return"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.CloseRequestForReturnProduct(e)}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"returnrecordBulk"}},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblReturnRequestBulk"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v(t._s(t.$t("ProductName")))])]),e("th",[e("span",[t._v(t._s(t.$t("UniqueName"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("LocationName"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("IssuedTo"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("IssuedBy"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("AssignedFrom")))])]),e("th",[e("span",[t._v(t._s(t.$t("AssignedTill"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("NumberofProducts"))+" ")])]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[e("span",[t._v(t._s(t.$t("Quantity"))+" ")])]),e("th",[e("span",[t._v(t._s(t.$t("ReturnUntil")))])])])]),t._l(t.requestForReturnData,(function(s,a){return e("tbody",{key:a},[e("tr",[e("td",[t._v(t._s(s.AssetName))]),e("td",[t._v(t._s(s.UniqueName))]),e("td",[t._v(t._s(s.LocationName))]),e("td",[t._v(t._s(s.IssuedToName))]),e("td",[t._v(t._s(s.IssuedByName))]),e("td",[t._v(t._s(s.AssignedFrom))]),e("td",[t._v(t._s(s.AssignedTill))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.NumberOfItemsToAssign))]),e("td",[s.CreateUniqueNameListing?e("input",{directives:[{name:"model",rawName:"v-model",value:s.NumberOfItemsToAssign,expression:"item.NumberOfItemsToAssign"}],staticClass:"form-control",attrs:{type:"number",maxlength:"5",disabled:"disabled"},domProps:{value:s.NumberOfItemsToAssign},on:{input:function(e){e.target.composing||t.$set(s,"NumberOfItemsToAssign",e.target.value)}}}):t._e(),e("Form",{ref:"currentQuantity",refInFor:!0},[e("Field",{attrs:{name:"Quantity",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:s.Quantity,expression:"item.Quantity"}],class:{"txtitems form-control ":!0,"is-invalid":!(!i[0]&&0!=s.Quantity)},attrs:{inputmode:"numeric",id:"",min:"1",maxlength:"8"},domProps:{value:s.Quantity},on:{keyup:function(e){return t.checkQuantity(s,s.Quantity,a)},input:function(e){e.target.composing||t.$set(s,"Quantity",e.target.value)}}}),i[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1)],1),e("td",[e("v-date-picker",{staticClass:"timedate input-group",attrs:{popover:t.popover,name:s.ReturnUntill,"min-date":t.getMinDate(),mode:"date","minute-increment":5},scopedSlots:t._u([{key:"default",fn:function({inputValue:s,togglePopover:a}){return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"M/D/YYYY h:mm A","on-select":"close"},domProps:{value:s},on:{click:function(t){return a()}}},t.inputEvents)),e("div",{staticClass:"input-group-append",on:{click:function(t){return a()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:s.ReturnUntill,callback:function(e){t.$set(s,"ReturnUntill",e)},expression:"item.ReturnUntill"}})],1)]),t.noRecordForTab?e("div",{staticClass:"text-center text-danger p-4 border no-record"},[t._v(" "+t._s(t.$t("NoRecordfound")))]):t._e()])}))],2)])]),e("div",{staticClass:"form-content mt-2",attrs:{id:"dvReturnStatus"}},[e("div",{staticClass:"collapse show py-3"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Comment")))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{name:"txtComment",id:"txtComment",maxlength:"200"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"search-btm-btn"},[e("a",{staticClass:"btn btn-success formbtn text-white m-2",attrs:{title:"Save",id:"btnBulkRequestForReturnItem"},on:{click:function(e){return t.SubmitData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),e("a",{staticClass:"btn btn-danger formbtn text-white",attrs:{title:"Cancel"},on:{click:function(e){return t.CloseRequestForReturnProduct(e)}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])])])])])])])])])])])},X=[],tt={props:{assDetailIDs:{type:String,required:!0},newValue:{type:String,required:!0}},data(){return{noRecordForTab:!1,itemdetails:"",comment:"",datebind:"",selectedDate:new Date,requestForReturnData:[],tempArray:[],popover:{visibility:"click"},Quantity:1,Timezone:""}},created:function(){this.GetAssignmentDetailByID(this.newValue),this.UserId=this.GetUserInfo.ID,this.Timezone=this.GetUserInfo.TimeZone},methods:{async GetAssignmentDetailByID(t){var e="assDetailIDs="+t;await o["a"].GetAssignmentDetailByID(e).then(t=>{null!=t.data?(this.requestForReturnData=t.data,this.requestForReturnData.map(t=>{t.Quantity=this.Quantity,t.ReturnUntill=new Date}),this.noRecordForTab=!1):this.noRecordForTab=!0})},CloseRequestForReturnProduct:function(){this.$parent.CloseRequestForReturnProduct()},checkQuantity:function(t,e,s){var a=this;let i=t.NumberOfItemsToAssign,o=e;""!=t.Quantity&&a.requestForReturnData.forEach((t,r)=>{r==s&&(parseInt(o)>i?(a.ShowAlert(a.$t("Please enter a value less than or equal to "+i),"warning",a.$t("Alert")),a.requestForReturnData[s].Quantity=i,a.$forceUpdate()):(a.requestForReturnData[s].Quantity=e,a.$forceUpdate()))})},SubmitData:function(){var t=this;let e="",s="",a=!0;var i=!1;if(t.requestForReturnData.forEach(a=>{""!=a.Quantity&&0!=a.Quantity||(i=!0),t.qty=parseInt(a.Quantity),t.assDetailID=a.AssignmentDetailId,t.userid=a.IssuedToId,t.RelatedInfoID=a.RelatedInfoID,t.NumberOfItemsToAssign=a.NumberOfItemsToAssign,t.UniqueName=a.UniqueName,t.requestUntill=t.$options.filters.formatDateTimeYYMMDD(a.ReturnUntill),""!=e&&(e+="|"),e+=t.assDetailID+","+t.qty+","+t.userid,""!=s&&(s+="|"),s+=t.assDetailID+","+t.RelatedInfoID+","+t.qty+","+this.UserId+","+t.requestUntill}),1==i)return t.ShowAlert(t.$t("Quantity is required"),"warning",t.$t("Alert"));if(""==e)return t.ShowAlert(t.$t("Minimum One Product should be selected."),"warning",t.$t("Alert")),!1;if(0==a)return!1;var r=`itemdetails=${s}&comment=${t.comment}`;o["a"].BulkRequestForReturn(r).then(e=>{"False"==e.data?(t.ShowAlert(t.$t("Request for Return saved successfully."),"success",t.$t("Alert")),t.$parent.FetchData(),t.CloseRequestForReturnProduct()):(t.ShowAlert(t.$t("Error while returning item."),"failure",t.$t("Alert")),t.$parent.FetchData(),t.CloseRequestForReturnProduct())})}}},et=tt,st=(s("9c9c"),Object(f["a"])(et,K,X,!1,null,"753ec045",null)),at=st.exports,it=s("87de"),ot=s("69d3"),rt={components:{NotReturnedPopup:j,ReturnPopup:_,CommentPopUp:g,ReturnForRequest:P,SharePopUp:M,RequestForReturnProduct:at,ApproveReject:Z,viewlayout:it["a"],ManageView:it["a"],searchFilter:ot["a"]},data(){return{View_List:[],ViewList:[],ShowManageView:!1,ViewListId:"",viewId:0,searchCondition:"",showFilter:!1,conditionForInstantSearch:"",isLoading:!1,listheaderbuttons:u.buttons,leftSearchFields:u.leftsearchSchema,listActions:u.listActions,LegendArray:[],Headers:[],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,SortBy:"",SortExp:"",widgets:[],legendProgress:[{class:"",backgroundColor:"#17a2b8",name:"Draft"},{class:"legend-Progress",backgroundColor:"",name:"Approved"},{class:"legend-pending",backgroundColor:"",name:"Pending"},{class:"",backgroundColor:"#fe6847",name:"SendForCorrection"},{class:"",backgroundColor:"#ee1313",name:"Rejected"}],ProductData:[],LeadStatusList:[],PageSize:10,PageNumber:1,isPaged:1,AssetAssignmentData:[],ReturnProductPopup:!1,isVisibleComponentPopup:!1,isSharedPopupOpen:!1,NotReturnedPopup:!1,IsRequestForReturn:!1,ApproveRejectpopup:!1,isRequestForReturnProduct:!1,assDetailIDs:"",canRequestforReturn:0,requestForReturnData:[],newValue:"",selectedUserDetail:"",IsRequestForReturnData:{},Userid:null,privilegeParams:null,UserDateTime:(new Date).toISOString().slice(0,19),Timezone:"",isTrueForcheck:!1}},created:async function(){var t=this;t.Timezone=t.GetUserInfo.TimeZone,await t.GetPageSize(),void 0!=window.location.href.split("/")[5]?t.assDetailIDs=window.location.href.split("/")[5]:t.assDetailIDs="",await t.GetDdlRecords_ViewList(),t.privilegeParams="controller=AssetAssignment&action=",u.bindleftCommonSearchdropdown(t,"ASSETASSIGNMENT","IssueBy"),t.Userid=this.GetUserInfo.ID,o["a"].CheckPrivilege(t.privilegeParams+"Index").then(e=>{1==e.data?t.FetchData():t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert")}),t.LegendArray=[{class:"legend-pending colorboxsquare",text:"Overdue"}]},methods:{GetDdlRecords_ViewList:async function(){var t=this;t.ViewList=[];var e="moduleName=ASSET&subModuleCode=PRODUCT_ASSIGNMENT&viewId=0&pageSize=10&pageNum=1&sortBy=&sortExp=";await o["a"].GetViewList(e).then((function(e){e.data&&"undefined"!=typeof e.data.DATA&&(t.ViewList=e.data.DATA);var s=0;t.ViewListId="0",null==t.ViewList||""==t.ViewList||t.ViewList.forEach((function(e){e.IS_SLECTED_USER_ID>0&&(s+=1,t.ViewListId=e.VIEW_ID)}));var a=0;s>0?t.ViewList.splice(a,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):null==t.ViewList||""==t.ViewList?t.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):t.ViewList.splice(a,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}),setTimeout(()=>{t.ViewListId>0?t.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=t.ViewListId:t.$refs.tgList.$refs.tgListHeaderButtons.ViewListId="0"},1e3)}))},async GetPageSize(){var t=this,e="key=DefaultPageSize";await o["a"].GetConfigurationValueForCompanyByKey(e).then(e=>{null!=e.data&&(t.PageSize=parseInt(e.data))})},async FetchData(){var t=this;t.isLoading=!0;var e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&isReturn=&issuedTo=&assetCatalogId=${t.assDetailIDs}&uniqueNames=&showWithoutPaging=&barcode=&UserStatus=&${t.searchCondition}`;await o["a"].AssetAssignmentListing(e).then(e=>{if(t.isLoading=!1,null!=e.data&&0!=e.data)if(t.Headers=JSON.parse(e.data).schema,console.log("headers",t.Headers),t.Headers.forEach(t=>{"unique_name"==t.COLUMN_NAME&&(t.settings={isInSlot:!0,isSortable:!0})}),JSON.parse(e.data).data.length>0){for(var s in t.AssetAssignmentData=JSON.parse(e.data).data,t.AssetAssignmentData.forEach(e=>{e.additionalClass="";var s=new Date,a=!1;a=t.$options.filters.formatDateTimeYYMMDD(s)>t.$options.filters.formatDateTimeYYMMDD(e.ASSIGNED_TILL)&&0==e.IS_RETURN,a&&(e.additionalClass="high-bar")}),t.AssetAssignmentData)t.AssetAssignmentData[s].isCheckBoxDisabled=!1,1==t.AssetAssignmentData[s].IS_RETURN&&(t.AssetAssignmentData[s].isCheckBoxDisabled=!0);t.TotalRecords=JSON.parse(e.data).data[0].TOTAL,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.noRecord=!1}else t.noRecord=!0,t.AssetAssignmentData=[],t.TotalRecords=0,t.isLoading=!1;else t.noRecord=!0,t.AssetAssignmentData=[],t.TotalRecords=0,t.isLoading=!1;setTimeout((function(){t.CheckBoxBootstrap()}),100),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)}),t.isLoading=!1},renderActions:function(t){var e=this;let s=[];var a=this;return e.listActions.forEach(e=>{let i={...e};switch(i.title){case"Share":Boolean(t.CREATE_UNIQUE_NAME_LIST)&&!t.IS_RETURN&&a.$options.filters.formatDateTimeMMDDYY(t.ASSIGNED_TILL)>a.$options.filters.formatDateTimeMMDDYY(a.UserDateTime)?i.isDisabled=!1:i.isDisabled=!0;break;case"Approve/Reject Request":"YES"==t.RETURN_REQUEST?0==t.IS_RETURN?(i.isDisabled=!1,i.isVisible=!0):(i.isDisabled=!0,i.isVisible=!1):"NO"==t.RETURN_REQUEST&&(i.isDisabled=!0,i.isVisible=!1);break;case"Returned":"YES"==t.RETURN_REQUEST?0==t.IS_RETURN?(i.isDisabled=!0,i.isVisible=!1):(i.isDisabled=!1,i.isVisible=!0,a.isTrueForcheck=!0):"NO"==t.RETURN_REQUEST&&(1==t.IS_RETURN?(i.isDisabled=!0,i.isVisible=!0):(i.isDisabled=!0,i.isVisible=!1));break;case"Not Returned":if("YES"==t.RETURN_REQUEST)if(1==t.IS_RETURN){if(1==a.isTrueForcheck){i.isDisabled=!0,i.isVisible=!1;break}i.isDisabled=!1,i.isVisible=!0}else i.isDisabled=!0,i.isVisible=!1;else 1==t.IS_RETURN?(i.isDisabled=!0,i.isVisible=!1):(i.isDisabled=!1,i.isVisible=!0);break;case"Request For Return":if(0==t.IS_RETURN&&"NO"==t.RETURN_REQUEST&&t.ISSUED_TO_ID!=a.Userid){if(0!=t.REQUEST_ID)return i.isDisabled=!0,i.isVisible=!1;i.isDisabled=!1,i.isVisible=!0}else i.isDisabled=!0,i.isVisible=!0;break;case"Request Already Sent":if(0==t.IS_RETURN&&"NO"==t.RETURN_REQUEST&&t.ISSUED_TO_ID!=a.Userid){if(0==t.REQUEST_ID)return i.isDisabled=!0,i.isVisible=!1;i.isDisabled=!1,i.isVisible=!0}else i.isDisabled=!1,i.isVisible=!1;break;case"Comment":1==t.IS_RETURN&&""!=t.TITLE&&null!=t.TITLE||""!=t.COMMENT&&null!=t.COMMENT?i.isDisabled=!1:i.isDisabled=!0;break;default:i.isDisabled=!1}s.push(i)}),s},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchConditionJson:this.searchCondition="",this.FetchData()},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"openFilterPopUp":this.openFilterPopUp();break;case"AssignProduct":this.AssignProduct();break;case"ReturnProduct":this.ReturnProduct();break;case"RequestForReturnProduct":this.RequestForReturnProduct();break;case"removeFilter":var e=this;e.searchCondition="";const t=e.listheaderbuttons.findIndex(t=>"removeFilter"===t.callbackfunction);e.listheaderbuttons[t].isvisible=!1;const a=e.listheaderbuttons.findIndex(t=>"openFilterPopUp"===t.callbackfunction);e.listheaderbuttons[a].iconClass="fa fa-filter";try{e.appliedFilter=[]}catch(s){}e.FetchData();break;case"ManageView":this.ManageView();break}},ManageView:function(){var t=this;t.ShowManageView=!0,setTimeout((function(){$("#modalManageView").modal("show")}),1e3)},FilterData:function(t,e,s,a,i,o){this.pageNum=t,this.pageSize=e,this.sortBy=s,this.sortExp=a,this.searchCondition=i,null!=typeof o&&this.appliedFilter.push(o),this.FetchData()},openFilterPopUp:function(t){this.showFilter=!0},OnApplyView(t){var e=this;if(0==t)e.DefaultView();else{var s={ViewId:t,ModuleName:"Asset",SubmoduleCode:"PRODUCT_ASSIGNMENT"},a=JSON.stringify(s);o["a"].ApplyView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ApplySuccess",[e.$t("View")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("AddedError",[e.$t("View")]),"failure",!0,e.$t("Alert"))}))}},actionButtonClick:function(t,e){var s=this;switch(t){case"Share":s.ShareButtonClick(e);break;case"AcceptRejectRequest":s.openApproveRejectpopup(e.RELATED_INFO_ID);break;case"Returned":break;case"NotReturned":s.NotReturnedProduct(e);break;case"RequestForReturn":s.RequestForReturn(e);break;case"RequestAlreadySent":break;case"Comment":s.commentButtonClick(e.ASSIGNMENT_DETAIL_ID);break}},commentButtonClick:function(t){this.assDetailIDs=t,this.isVisibleComponentPopup=!0},ShareButtonClick:function(t){this.assDetailIDs=t,this.isSharedPopupOpen=!0},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},getRequestParams:function(t,e,s,a,i,o){let r={};return t&&(r["pageNum"]=t),o&&(r["searchcondition"]=o),i&&(r["isPaged"]=i),s&&(r["sortBy"]=s),a&&(r["sortExp"]=a),e&&(r["pageSize"]=e),r},AssignProduct:function(){o["a"].CheckPrivilege(this.privilegeParams+"Add").then(t=>{1==t.data?this.$router.push({name:"AddAssetAssignment",params:{reqForm:"AssetAssignment"}}):this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},ReturnProduct:function(t){var e=this;o["a"].CheckPrivilege(e.privilegeParams+"ItemReturnMultiple").then(t=>{if(1==t.data){var s="";if($(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){s.length>0&&(s+=","),s+=$(this).val()})),""==s)return e.ShowAlert(e.$t("Minimum One Product should be selected."),"failure",e.$t("Alert")),!1;e.assDetailIDs=s,e.ReturnProductPopup=!0}else e.ShowAlert(e.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},openApproveRejectpopup(t){var e=this;e.assDetailIDs=t,e.ApproveRejectpopup=!0},RequestForReturnProduct(){var t=this;let e=[],s="",a="";o["a"].CheckPrivilege(t.privilegeParams+"ItemRequstForReturnMultiple").then(i=>{if(1==i.data){$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.unshift(t.AssetAssignmentData.filter(t=>t.ASSIGNMENT_DETAIL_ID==this.value))}));for(let i in e)for(var o in e[i])a=e[i][o].ASSIGNMENT_DETAIL_ID,""!=t.newValue&&(t.newValue+=","),t.newValue+=a,"0"==this.canRequestforReturn&&(0==e[i][o].CREATE_UNIQUE_NAME_LIST||(""!=s&&(s+=","),s+=e[i][o].UNIQUE_NAME));if(""==e)return t.ShowAlert(t.$t("Minimum One Product should be selected."),"warning",t.$t("Alert"));t.isRequestForReturnProduct=!0}else this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},CloseReurnProductPopup:function(){this.ReturnProductPopup=!1,this.assDetailIDs="",this.FetchData()},CloseCommentPopup:function(){this.isVisibleComponentPopup=!1},CloseSharePopup:function(){this.isSharedPopupOpen=!1},RequestForReturn:function(t){this.IsRequestForReturnData=t,this.IsRequestForReturn=!0},CloseReturnPopup:function(){this.IsRequestForReturn=!1},CloseApproveRejectopup:function(){var t=this;t.ApproveRejectpopup=!1},CloseRequestForReturnProduct:function(){this.isRequestForReturnProduct=!1},CloseNotReurnedProductPopup:function(){this.NotReturnedPopup=!1},NotReturnedProduct:function(t){this.selectedUserDetail=t,this.NotReturnedPopup=!0},formatTimeToCustomFormat(t){if(null!=t&&""!=t){const e=R["DateTime"].fromISO(t,{zone:"utc"}),s=Intl.DateTimeFormat().resolvedOptions().timeZone,a=e.setZone(s),i=a.toFormat("MM/dd/yyyy h:mm a");return i}return"--"}}},nt=rt,lt=(s("b5ef"),Object(f["a"])(nt,a,i,!1,null,null,null));e["default"]=lt.exports},d161:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".unique_dynamicdatalist{border:none}.vue-treeselect--searchable .vue-treeselect__input-container{padding:0!important}.vue-treeselect__placeholder{color:#303030!important}.vue-treeselect__control-arrow{color:#000}.vue-treeselect__placeholder{line-height:24px}.p-sharing-name{min-height:166px!important;top:60px!important}.vue-treeselect.is-invalid .vue-treeselect__control{border-color:red!important}",""]),t.exports=e}}]);
//# sourceMappingURL=chunk-0727bee0.js.map