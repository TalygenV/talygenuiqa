(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df0a2"],{"87e2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.matchValue.module_id?"Edit Feature":"Add Feature")+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-2"},[t("div",{staticClass:"p-3"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),t("span",{staticClass:"mandatory"},[e._v(e._s(e.$t("MandatoryString")))])],1)])])])]),e.IsModule?t("PrivilegePopUp",{attrs:{moduelId:e.moduelId,subModuleId:e.subModuleId},on:{"Check-Privilege":e.CheckPrivilege}}):e._e()],1)},s=[],i=(a("14d9"),a("1115")),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Privilege"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblReturnRequestBulk"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[e._v(e._s(e.$t("Privilege")))]),t("th",{staticClass:"text-center"},[e._v(e._s(e.$t("Select All"))+" "),t("input",{attrs:{type:"checkbox"},on:{click:e.SelectAllCheckedvalue}})])])]),t("tbody",e._l(e.ModuleName,(function(a,l){return t("tr",{key:l},[t("td",[e._v(" "+e._s(a.privilege_desc))]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"custom-control-input chkItems",class:{chkItems:1==a.sorting_order},staticStyle:{display:"none"},attrs:{type:"checkbox",id:"chk_2"},domProps:{checked:a.is_enable,value:a.privilege_id},on:{click:function(t){return e.checkedValue(a.privilege_id)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_2"}})])])])})),0)])])])]),t("div",{staticClass:"modal-footer"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-info float-right",attrs:{type:"submit"},on:{click:e.save}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v("Save")])])])])])])])])},d=[],u={props:{moduelId:{},subModuleId:{},comment:[]},data(){return{checkCheckBox:!1,selectAll:!1,ModuleName:[]}},created:function(){this.GetPrivilegeListFeature()},methods:{SelectAllCheckedvalue:function(){var e=this;0==e.selectAll?e.ModuleName.forEach(t=>{e.selectAll=!0,t.is_enable=1}):e.ModuleName.forEach(t=>{e.selectAll=!1,t.is_enable=0})},ClosePopup:function(){this.$parent.IsModule=!1},async GetPrivilegeListFeature(){var e=this;e.isLoading=!0;var t=`userTypeId=1&moduleId=${e.moduelId}&subModuleId=${e.subModuleId}&privilegeGroupCode=&roleId=`;await i["a"].GetPrivilegeListForEnableDisable(t).then(t=>{e.ModuleName=t.data.PrivilegeVertical,e.isLoading=!1}),setTimeout((function(){e.CheckBoxBootstrap()}),100)},save(){var e=this,t=[];$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){t.push({privilege_id:$(this).val(),is_enable:1})})),e.$emit("Check-Privilege",t),e.ClosePopup()}}},c=u,n=a("2877"),r=Object(n["a"])(c,o,d,!1,null,null,null),m=r.exports,h={components:{PrivilegePopUp:m},props:{matchValue:{type:Object,required:!0}},created(){this.GetModuleName(),null!=this.matchValue.module_id&&(this.moduleId=this.matchValue.module_id,this.GetSubModule()),"Privilege"==this.matchValue.feature_based_on&&(this.moduelId=this.matchValue.module_id,this.subModuleId=this.matchValue.sub_module_id,this.IsModule=!0)},watch:{watchValue(e,t){if(null!=this.matchValue){let e=this.matchValue.module_id;this.GetSubModule(e)}}},data(){return{featureid:0,moduleId:null,watchValue:!1,ModuleName:[],IsModule:!1,CheckPrivilegeValue:"",FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:"Module Name",name:"ModuleName",value:this.matchValue.module_id?this.matchValue.module_id:"",validationRules:{required:!0},placeholder:"",config:{options:[],onChange:this.GetSubModule}},{astype:"SelectField",label:"Sub Module",name:"SubModule",value:this.matchValue.sub_module_id?this.matchValue.sub_module_id:"",placeholder:"",validationRules:{required:!0},config:{options:[]}}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Based On"),name:"BasedOn",value:this.matchValue.feature_based_on?this.matchValue.feature_based_on:"",placeholder:"",validationRules:{required:!0},config:{options:[{value:"Module",name:"SubModule"},{value:"Privilege",name:"Privilege"}],onChange:this.GetPrivilege}},{astype:"TextField",label:this.$t("GroupName"),name:"GroupName",value:this.matchValue.group_name?this.matchValue.group_name:"",placeholder:"",validationRules:{required:!1}},{astype:"TextField",label:this.$t("GroupCode"),name:"GroupCode",value:this.matchValue.group_code?this.matchValue.group_code:"",placeholder:"",validationRules:{required:!1}},{astype:"TextField",label:this.$t("SectionName"),name:"SectionName",value:this.matchValue.enable_disable_sections_name?this.matchValue.enable_disable_sections_name:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("SectionCode"),name:"SectionCode",value:this.matchValue.section_code?this.matchValue.section_code:"",placeholder:"",validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:this.matchValue.comment?this.matchValue.comment:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save")},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}]}},methods:{async CheckPrivilege(e){this.CheckPrivilegeValue=e},async GetModuleName(){var e=this;e.isLoading=!0;var t="moduleId=&userTypeId=&requestFrom=&isCustomFieldEnable";await i["a"].GetModuleList(t).then(t=>{e.AssetType=t.data.Data,console.log(e.AssetType),e.AssetType.forEach(t=>{e.FormSchema[0].Data[0].config.options.push({name:t.module_name,value:t.module_id})}),e.isLoading=!1}).catch(e=>{console.error(e)})},async GetSubModule(e){var t=this;if(t.isLoading=!0,t.FormSchema[0].Data[1].config.options=[],void 0==e)var a=`moduleId=${this.moduleId}&userTypeId=&requestFrom=&isCustomFieldEnable`;else a=`moduleId=${e.target.value}&userTypeId=&requestFrom=&isCustomFieldEnable`;await i["a"].GetModuleList(a).then(e=>{t.ModuleName=e.data.Data,console.log(t.ModuleName),t.ModuleName.forEach(e=>{t.FormSchema[0].Data[1].config.options.push({name:e.sub_module_name,value:e.sub_module_id})}),t.isLoading=!1}).catch(e=>{console.error(e)})},ClosePopup:function(){this.$parent.IsAddFeature=!1},async GetPrivilege(e){"Privilege"==e.target.value?(this.moduelId=this.FormSchema[0].Data[0].value,this.subModuleId=this.FormSchema[0].Data[1].value,this.IsModule=!0):this.IsModule=!1},async onSubmit(e,t){var a=this;a.isLoading=!0,null!=a.matchValue.enable_disable_sections_id&&(a.featureid=a.matchValue.enable_disable_sections_id);var l={feature_id:a.featureid,module_id:e.ModuleName,sub_module_id:e.SubModule,feature_based_on:e.BasedOn,feature_name:e.SectionName,section_code:""==e.SectionCode?"DuplicateValue":e.SectionCode,group_name:""==e.GroupName?"Default":e.GroupName,group_code:""==e.GroupCode?"DuplicateValue":e.GroupCode,status_id:1001,comment:e.Description,postString:"Module"==e.BasedOn?"":JSON.stringify(a.CheckPrivilegeValue)},s=`feature_id=${l.feature_id}&module_id=${l.module_id}&sub_module_id=${l.sub_module_id}&feature_based_on=${l.feature_based_on}&feature_name=${l.feature_name}&section_code=${l.section_code}&group_name=${l.group_name}&group_code=${l.group_code}&status_id=${l.status_id}&comment=${l.comment}&postString=${l.postString}`;await i["a"].SaveEnableDisableSections(s).then(e=>{a.isLoading=!1,0===e.data?a.ShowAlert(a.$t("AddedError"),"failure",!1,a.$t("Alert")):1===e.data?a.ShowAlert(a.$t("PrivilegeSave"),"success",!0,a.$t("Alert")):2===e.data?a.ShowAlert(a.$t("PrivilegeUpdated"),"success",!0,a.$t("Alert")):a.ShowAlert(a.$t("DuplicateRecords"),"Warning",!1,a.$t("Alert")),a.$parent.FetchData(),a.ClosePopup()})}}},p=h,v=Object(n["a"])(p,l,s,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0df0a2.js.map