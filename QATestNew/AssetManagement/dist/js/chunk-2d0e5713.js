(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5713"],{9501:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"assetCatalogueId",PageSize:t.PageSize,HeaderText:t.$t("DepreciationList"),ListData:t.DepreciationListData,HeaderData:t.Headers,widgets:t.widgets,callbackfunction:t.GetDepreciationList,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.GetDepreciationList,LegendArray:t.LegendArray,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NorecordfoundText")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata}})],1)},o=[],n=(a("14d9"),a("1115"));let r=[{title:"Back to list",iconClass:"fa fa-angle-double-left pr-2",callbackfunction:"BacktoList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],s=[{fieldName:"Product Name",fieldType:"text",fieldIcon:"fa fa-suitcase",paramName:"search",fieldSearchConditionName:[""],isSearch:!1,value:""},{fieldName:"Product Type",fieldType:"ddl-check",fieldIcon:"fa fa-map-marker",paramName:"ProductTypeId",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Select Location",fieldType:"ddl-multilevel",fieldIcon:"fa fa-map-marker",paramName:"LocationId",fieldSearchConditionName:[""],isSearch:!1,value:null,listOptions:[]},{fieldName:"Depreciation Date",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"DepreciationDate ",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}}];async function A(t,e,a){var i=t,o=[],r=[];if("Location"==a){var s="reqForm=";await n["a"].GetLocationByCompanyId(s).then((function(t){var e=JSON.parse(t.data).data;e.forEach(e=>{var a=o.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==a.length&&null==e.PARENT_LOCATION_ID){let a=e.COMPANY_LOCATION_ID,i=A(a,e,JSON.parse(t.data).data);o.push(i)}}),i.leftSearchFields[2].listOptions=o}))}if("Product Type"==a){s="type=ITEMCODE&issueTo=&locationId=";n["a"].GetAssetTypeCustom(s).then((function(t){if("Product Type"==a){let e={};JSON.parse(t.data).forEach(t=>{e={name:t.ASSETTYPE,value:""+t.ASSETID},r.push(e)}),i.leftSearchFields[1].listOptions=r}}))}if("DepreciationDate"==a){s="modulename="+e;n["a"].GetTagsByModuleId(s).then((function(t){if("Depreciation Date"==a){let e={};JSON.parse(t.data).data.forEach(t=>{e={name:t.TAG_NAME,value:""+t.TAG_ID},TagData.push(e)}),i.leftSearchFields[3].listOptions=TagData}}))}function A(t,e,a){let i={};i={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=i;var n=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let r=[];return n.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=r.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var n=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=n&&n.length>0){let i=A(e,t,a);r.push(i)}else i={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},r.push(i)}}),o.children=r,o}}var c={buttons:r,leftsearchSchema:s,bindleftCommonSearchdropdown:A},l={name:"Depreciation",components:{},data(){return{leftSearchFields:c.leftsearchSchema,listheaderbuttons:c.buttons,LegendArray:[],noRecordForTab:!1,isLoading:!1,DepreciationListData:[],widgets:[],Headers:[{COLUMN_NAME:"itemTypeName",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductType"),DISPLAY_ORDER:1},{COLUMN_NAME:"itemCode",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductCode"),DISPLAY_ORDER:2},{COLUMN_NAME:"itemName",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductName"),DISPLAY_ORDER:3},{COLUMN_NAME:"uniqueName",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("UniqueName"),DISPLAY_ORDER:4},{COLUMN_NAME:"locationName",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Location"),DISPLAY_ORDER:5},{COLUMN_NAME:"usefulLife",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("UsefulLifeYear"),DISPLAY_ORDER:6},{COLUMN_NAME:"percentageOfAssetLife",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("PercentageOfAssetsLife"),DISPLAY_ORDER:7},{COLUMN_NAME:"depreciationMethodName",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DepreciationRule"),DISPLAY_ORDER:8},{COLUMN_NAME:"deploymentDate",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("InstallDate"),DISPLAY_ORDER:9},{COLUMN_NAME:"quantityOpening",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("QuantityOpening"),DISPLAY_ORDER:10},{COLUMN_NAME:"quantityAddition",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("QuantityAddition"),DISPLAY_ORDER:11},{COLUMN_NAME:"QuantityDeletion",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("QuantityDeletion"),DISPLAY_ORDER:12},{COLUMN_NAME:"quantityClosing",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("QuantityClosing"),DISPLAY_ORDER:13},{COLUMN_NAME:"grossBlockOpening",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Opening"),DISPLAY_ORDER:14},{COLUMN_NAME:"grossBlockAddition",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Addition"),DISPLAY_ORDER:15},{COLUMN_NAME:"grossBlockDeletion",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Deletion"),DISPLAY_ORDER:16},{COLUMN_NAME:"grossBlockClosing",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Closing"),DISPLAY_ORDER:17},{COLUMN_NAME:"balanceValue",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("BalanceValue"),DISPLAY_ORDER:18},{COLUMN_NAME:"depreciationUptoPreviousMonth",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DepreciationUptoPreviousMonth"),DISPLAY_ORDER:19},{COLUMN_NAME:"depreciationOnYTD",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("AccumulatedDepricationonYTD"),DISPLAY_ORDER:20},{COLUMN_NAME:"currentBookValue",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("CurrentbookValue"),DISPLAY_ORDER:21}],productName:"",LocationId:"",search:"",ProductTypeId:"",FromDate:"",ToDate:"",SortBy:"",SortExp:"",PageSize:10,PageNumber:1,TotalRecords:0,CurrentPage:1,TotalPages:0,privilegeParams:null,UserType:null}},created:async function(){var t=this;await t.GetPageSize(),t.privilegeParams="controller=Asset&action=",await t.CheckPrivilege(),c.bindleftCommonSearchdropdown(t,"Asset","Product Type"),c.bindleftCommonSearchdropdown(t,"Asset","Location"),c.bindleftCommonSearchdropdown(t,"Asset","DepreciationDate"),t.UserType=t.GetUserInfo.UserType},methods:{async GetPageSize(){var t=this,e="key=DefaultPageSize";await n["a"].GetConfigurationValueForCompanyByKey(e).then(e=>{null!=e.data&&(t.PageSize=parseInt(e.data))})},CheckPrivilege(){var t=this;"CA"==t.UserType?n["a"].CheckPrivilege(t.privilegeParams+"Depreciation").then(e=>{e.data?t.GetDepreciationList():t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert")}):t.GetDepreciationList()},async GetDepreciationList(){var t=`productName=${this.productName}&searchCondition=${this.search}&fromDate=${this.FromDate}&toDate=${this.ToDate}&pageSize=${this.PageSize}&pageNum=${this.PageNumber}&sortBy=${this.SortBy}&sortExp=${this.SortExp}&location_id=${this.LocationId}&productTypeIds=${this.ProductTypeId}`;await n["a"].GetDepreciationList(t).then(t=>{null!=t.data&&(t.data.length>0?(this.DepreciationListData=t.data,this.TotalRecords=t.data[0].totalrecords,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.CurrentPage=this.PageNumber,this.noRecord=!1):(this.noRecord=!0,this.DepreciationList=[],this.TotalRecorded=0))})},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.GetDepreciationList()},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchConditionJson:this.searchCondition="",this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},renderActions(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};a.push(e)}),a},commonHeaderButtonClick(t){switch(t.callbackfunction){case"BacktoList":this.OpenBacktoList();break}},actionButtonClick(){},OpenBacktoList(){var t=this;t.$router.push({path:"/AssetCatalog/Index"})}}},d=l,D=a("2877"),h=Object(D["a"])(d,i,o,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0e5713.js.map