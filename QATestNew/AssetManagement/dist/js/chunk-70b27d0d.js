(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70b27d0d","chunk-0bf64657"],{"09d7":function(e,t,a){"use strict";a("d6a3")},"191f":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal my-popups right fade",attrs:{id:"modelAddProduct",role:"dialog"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("AddItem")))]),t("span",{staticClass:"user-guide"},[t("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e._v(" User Guide")]),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("UserGuideAddProduct"))}})])])])]),t("div",{staticClass:"modal-body"},["setup"==e.popupCondition?t("div",{staticClass:"left-menu-tab new_tab"},[t("div",{staticClass:"col-md-12 pb-0"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-8 pr-0 font-weight-medium"},[e._v(e._s(e.$t("CompleteYourProfile")))]),t("div",{staticClass:"col-4 pl-0 text-right"},[t("small",[t("i",{staticClass:"fa fa-check-circle pr-1",class:{"text-success":"Completed"==e.SetupProgresText,"text-muted":"Completed"!==e.SetupProgresText}}),e._v(" "+e._s(e.SetupProgresText)+" ")])])]),t("div",{staticClass:"progress smaller my-2"},[t("div",{staticClass:"progress-bar progress-bar-primary progress-bar px-0 text-center memoryused",class:""+e.progressBarColor,style:`width: ${e.SetupProgress}%; font-weight:500; font-size:14px`,attrs:{s:"",id:"divConsumendStorage",title:e.SetupProgress}},[e._v(e._s(e.SetupProgress)+"% ")])]),t("div",{staticClass:"level_info my-2 d-block float-left w-100",staticStyle:{height:"auto"}},[t("ul",[t("li",[t("b",{attrs:{id:"divConsumendStorage"}},[t("span",[e._v(e._s(e.$t("Progress"))+" "+e._s(e.CurrentTab)+" of 3")])])])])])])])]),t("div",{staticClass:"mt-0",staticStyle:{"max-height":"calc(100vh - 2px)"},attrs:{id:"divscrollsetuptabs"}},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix newtab_des"},[t("li",{staticClass:"nav-item FourthScreen",on:{click:function(t){return e.SkipTab(1)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:1==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa-random pr-2 text-muted",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("SetUpLocation")))])])]),t("li",{staticClass:"nav-item SecondScreen",on:{click:function(t){return e.SkipTab(2)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:2==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa fa-cog pr-2 text-muted",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("SetUpProductType")))])])]),t("li",{staticClass:"nav-item ThirdScreen",on:{click:function(t){return e.SkipTab(3)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:3==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa-plus pr-2 text-muted",attrs:{"aria-hidden":"true"}}),e.IsClientStoragesCopmleted?t("i",{staticClass:"fa fa-check-circle font-18 pr-2 text-success",attrs:{"aria-hidden":"true"}}):e._e(),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("AddDeployeItem")))])])])])])]):e._e(),3==e.step?t("div",{staticClass:"border p-3"},[t("Form",{ref:"AddProduct"},[t("dynamic-form",{ref:"AddProductForm",attrs:{buttons:e.buttons,schema:e.FormSchema},scopedSlots:e._u([{key:"tgslot-location_id",fn:function({data:a}){return[t("div",{staticClass:"input-group"},[t("Field",{attrs:{name:"Location",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("tree-view",{class:{"form-control":!0,"is-invalid":a[0]},attrs:{options:e.options,placeholder:"Select Location","show-count":!0},model:{value:e.TreeValue,callback:function(t){e.TreeValue=t},expression:"TreeValue"}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1)]}}],null,!1,14167659)})],1)],1):e._e(),3==e.step?t("div",{staticClass:"right-content row flex-row-reverse mt-3"},[t("div",{staticClass:"col-lg-12 text-left"},[t("div",{staticClass:"py-2 mandatory"},[e._v(" "+e._s(e.$t("MandatoryString"))+" ")])])]):e._e(),t("div",{staticClass:"right-content"},["setup"==e.popupCondition?t("div",{staticClass:"col-md-12 p-0"},[1==e.step?t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active show",attrs:{id:"step1"}},[t("section",{staticClass:"page-action w-100"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{staticClass:"col-md-12 p-0s addpopuplocation"},[t("AddLocationPopup",{attrs:{popupCondition:e.popupCondition}})],1)])])])])]):e._e(),2==e.step?t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active show",attrs:{id:"step2"}},[t("section",{staticClass:"page-action w-100"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{staticClass:"col-md-12 p-0"},[t("AddProductType",{attrs:{popupCondition:e.popupCondition}})],1)])])])])]):e._e()]):e._e()])])])])]),e.ShowAddLocation?t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Location"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.CloseLocationPopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("AddLocationPopup")],1)])])]):e._e(),e.IsTagNamePopup?t("TagNamePopup",{attrs:{FromAddProduct:e.FromAddProduct}}):e._e(),e.ShowAddProductType?t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("ProductType"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopupProductType()}}},[t("em",{staticClass:"fa fa-times"})])]),t("AddProductType",{attrs:{FromPage:e.FromPage}})],1)])])]):e._e()],1)},i=[],l=(a("b7ef"),a("14d9"),a("1115")),o=a("56f6"),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border p-3"},[e.DataLoaded?t("dynamic-form",{ref:"AddlocationRef",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}):e._e()],1)},n=[],c=a("240d"),d={props:{popupCondition:{type:Boolean,required:!0}},components:{"tree-view":c["TreeSelectField"]},data(){return{FormSchema:[{layoutType:"triple",Data:[{astype:"TreeSelectField",label:this.$t("ParentLocation"),name:"Location",value:null,placeholder:"Select Location",config:{options:[]},validationRules:{required:!1}},{astype:"TextField",label:this.$t("LocationName"),name:"LocationName",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!0,max:250},config:{options:[],onChange:()=>{}}},{astype:"TextField",label:this.$t("AddressLine1"),name:"AddressLine1",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"TextField",label:this.$t("City"),name:"City",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Country"),name:"Country",value:"",placeholder:"",validationRules:{required:!0,max:250},config:{options:[],onChange:this.onChangeDropdown}},{astype:"SelectField",label:this.$t("State"),name:"State",value:"",placeholder:"",config:{options:[]}},{astype:"TextField",label:this.$t("PostalCode"),name:"PostalCode",value:"",placeholder:""},{astype:"TextField",label:this.$t("Email"),name:"Email",value:"",placeholder:""},{astype:"TextField",label:this.$t("Phone1"),name:"Phone1",value:"",placeholder:""},{astype:"TextField",label:this.$t("Phone2"),name:"Phone2",value:"",placeholder:""},{astype:"TextField",label:this.$t("LocationCode"),name:"LocationCode",value:"",placeholder:""},{astype:"SelectField",label:this.$t("Tag"),name:"Tag",value:"",placeholder:"",config:{options:[]}}]}],buttons:[{type:"button",class:"btn btn-secondary",text:"Skip",onClick:this.Skip,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",name:"SaveAndNew",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",name:"SaveAndNext",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",name:"Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}],myObj:[],LocationData:[],CountryData:[],StatusData:[{name:"Active",value:1001},{name:"Inactive",value:1002}],StateData:[],TagData:[],CreatedAt:"",CreatedBy:"",ModifiedAt:"",ModifiedBy:"",DataLoaded:0,UserId:"",SetupProgresText:""}},created:async function(){var e=this;await e.GetLocationByCompanyId(),e.GetStatusDDL(),e.GetCountryDDL(),await e.GetTagsByModuleId(),await e.AdvancedSetupFields(),e.UserId=e.GetUserInfo.ID,e.DataLoaded=1},methods:{Skip:function(){var e=this;e.$parent.SkipTab(2)},async AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.FormSchema[0].Data[6].visibility=!1,e.FormSchema[0].Data[7].visibility=!1,e.FormSchema[0].Data[8].visibility=!1,e.FormSchema[0].Data[9].visibility=!1,e.FormSchema[0].Data[10].visibility=!1,e.FormSchema[0].Data[11].visibility=!1,e.FormSchema[0].Data[12].visibility=!1,e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!0,e.buttons[2].isVisible=!0,e.buttons[3].isVisible=!1,e.buttons[4].isVisible=!1)},GetCountryDDL:function(){var e="moduleName=CRM&type=COUNTRIES";l["a"].GetCountryDDL(e).then(e=>{e.data.DATA.forEach(e=>{this.FormSchema[0].Data[5].config.options.push({name:""+e.name,value:""+e.value}),this.$refs.AddlocationRef.UpdateKeyValue()})})},async GetTagsByModuleId(){var e=this,t="modulename=Asset";await l["a"].GetTagsByModuleId(t).then((function(t){e.TagData=JSON.parse(t.data),e.TagData.data.forEach((t,a)=>{e.FormSchema[0].Data[12].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})}),console.log(" GetTagsByModuleId  call end")}))},onChangeDropdown(e){var t=this,a="countryId="+e.target.value;l["a"].GetStateListwithIDByCountryId(a).then((function(e){t.StateData=JSON.parse(e.data).data,t.StateData=t.StateData.map(e=>({name:e.name,value:e.state_id})),$.each(t.FormSchema,(function(e,a){$.each(a.Data,(function(e,a){"State"==a.name&&(a.value="",a.config.options=t.StateData)}))})),t.$refs.AddlocationRef.UpdateKeyValue()}))},async GetLocationByCompanyId(){var e=this;e.isLoading=!0;var t="reqForm=";await l["a"].GetLocationByCompanyId(t).then((function(t){e.FindalLocationArray=[],e.LocationData=JSON.parse(t.data).data,e.LocationData.forEach(a=>{var s=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==s.length&&null==a.PARENT_LOCATION_ID){let s=a.COMPANY_LOCATION_ID,i=e.getChildLocation(s,a,JSON.parse(t.data).data);e.FindalLocationArray.push(i)}}),e.FormSchema[0].Data[0].config.options=e.FindalLocationArray})),e.LocationData.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0},getChildLocation:function(e,t,a){let s=this,i={};i={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let l=i;var o=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let r=[];return o.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var l=r.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==l.length){var o=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=o&&o.length>0){let i=s.getChildLocation(t,e,a);r.push(i)}else i={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},r.push(i)}}),l.children=r,l},GetStatusDDL(){var e=this;e.StatusData.forEach((t,a)=>{e.FormSchema[0].Data[2].config.options.push({name:t.name,value:t.value})})},ClosePopup(){var e=this;e.$parent.CloseLocationPopup()},onSubmit(e,t){var a=this,s=`LocationName=${e.LocationName}&LocationId=0`;l["a"].LocationExist(s).then((function(s){if(a.LocationId=s.data.result,s.data.result>0)a.ShowAlert(a.$t("Location already exist",[a.$t("Location")]),"warning",!0,a.$t("Alert"));else{let s={LocationId:a.LocationId,LocationName:e.LocationName,Country:parseInt(e.Country),State:e.State,Address1:e.AddressLine1,Address2:"",City:e.City,PinCode:e.PostalCode,Email:e.Email,Phone1:e.Phone1,Phone2:e.Phone2,CreatedAt:null,CreatedBy:a.UserId,ModifiedAt:null,ModifiedBy:a.UserId,StatusId:e.Status,State_id:""==e.State?null:e.State,LocationCode:e.LocationCode,ParentLocationId:""==e.Location?null:e.Location,TagId:e.Tag.length<=0?null:Array.prototype.map.call(e.Tag,(function(e){return e.value})).join(","),CampusId:"",ClientId:1};JSON.stringify(s);l["a"].SaveUpdateLocation(s).then((function(e){"SaveAndNew"==t?"1"!=e.data&&null!=e.data||(a.ShowAlert(a.$t("Location has been added successfully ",[a.$t("Location")]),"success",!0,a.$t("Alert")),a.resetForm()):"SaveAndNext"==t?"1"!=e.data&&null!=e.data||(a.ShowAlert(a.$t("Location has been added successfully ",[a.$t("Location")]),"success",!0,a.$t("Alert")),a.$parent.SkipTab(2)):"Save"==t?"1"!=e.data&&null!=e.data||a.ShowAlert(a.$t("Location has been added successfully ",[a.$t("Location")]),"success",!0,a.$t("Alert")):"2"==e.data?a.ShowAlert(a.$t("Location has been updated successfully",[a.$t("Location")]),"success",!0,a.$t("Alert")):"0"==e.data?a.ShowAlert(a.$t("unknown error",[a.$t("Location")]),"success",!0,a.$t("Alert")):null==e.data&&a.ShowAlert(a.$t("Location has been added successfully",[a.$t("Location")]),"success",!0,a.$t("Alert")),a.$parent.CloseLocationPopup()}))}}))},resetForm(){this.FormSchema[0].Data.forEach(e=>{"TreeSelectField"==e.astype?e.value=null:(e.value="",e.validationRules.required=!0)})}}},u=d,m=a("2877"),p=Object(m["a"])(u,r,n,!1,null,null,null),f=p.exports,h=a("f6fa"),v=a("ca17"),_=a.n(v),C=(a("542c"),{props:{popupCondition:{type:String,required:!1},FromPage:{type:String,required:!1}},components:{TagNamePopup:o["a"],AddLocationPopup:f,AddProductType:h["a"],"tree-view":_.a},data(){return{options:[],TreeValue:null,isLoading:!1,AssetType:[],BarcodeType:[],userLoggedIn2:!1,IsDeployment:!1,IsTagNamePopup:!1,LocationData:[],ShowAddLocation:!1,ShowAddProductType:!1,FromAddProduct:!1,DeploymentType:"",IsEnableAssetManagement:!1,fileUploaded:"",tagData:[],isCheckDeployItem:"",DeployProductValue:!1,StaticObj:[{layoutType:"single",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:null,placeholder:"Select Location",config:{options:[],showAddIcon:!0,onAddButtonClick:this.AddLocation},validationRules:{required:!0}}]}],FormSchema:[],buttons:[{type:"submit",class:"btn btn-secondary",text:"<i class='fa fa-angle-double-left pr-2'></i>Back",onClick:this.BackButton,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Close",name:"SaveAndClose",onClick:this.onSubmit},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And New",name:"SaveAndNew",onClick:this.onSubmit},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.close,isVisible:!0},{type:"button",class:"btn btn-success",text:"<i class='fa fa-check' aria-hidden='true'></i> Finish",isVisible:!1}],DataLoaded:0,TagsArray:[],tags:[],file:[],CurrentTab:1,step:3,SetupProgress:0,count:0,PageSize:10,PageNumber:1,SortBy:"",SortExp:"",IsClientStoragesCopmleted:!1,UserType:"",FromPage:"AddProduct",fileMulitpleData:[],AllowedFileType:[]}},watch:{CurrentTab:{handler(e,t){3==e&&this.getForm()}}},async created(){var e=this;await e.EnableAssetManagement(),await e.getForm(),await e.GetLocationByCompanyId(),e.DataLoaded=1},mounted(){$("#modelAddProduct").modal({backdrop:"static",keyboard:!1})},methods:{getForm:async function(e){var t=this;t.isLoading=!0;var a="recordId=0&moduleName=Asset&subModuleCode=MANAGE_PRODUCT&usefor=Add";await l["a"].GetDynamicForm(a).then((function(e){if(null!=e&&null!=e.data){if(e.data.configdata.length>0){var a=e.data.configdata;a.forEach((function(e){"TicketDisallowedFileTypes"==e.CORE_CONFIG_KEY&&(t.AllowedFileType=e.CONFIG_DATA_VALUE)}))}var s=e.data.data;t.FormSchema=t.$refs.AddProductForm.ConvertCustomFieldIntoDynamicFormObj(e.data.data),s.forEach(e=>{t.FormSchema.forEach((a,s)=>{a.Data.forEach((s,i)=>{if("DEPLOY PRODUCT"!=a.group_name&&"DEPLOY PRODUCT DETAILS"!=a.group_name||(a.visibility=!1,"deployement_type"!=s.name&&"location_id"!=s.name&&"quantity"!=s.name&&"unit_price"!=s.name&&"asset_cost"!=s.name&&"status_id"!=s.name||(s.visibility=!1)),"quantity"==s.name&&"quantity"==e.name&&(s.validationRules={required:e.is_required,max:e.length}),"unit_price"==s.name&&"unit_price"==e.name&&(s.validationRules={required:e.is_required,max:e.length}),"location_id"==s.name&&(s.astype="SlotField",s.is_required=!1,s.config.showAddIcon=!0,s.config.onAddButtonClick=t.AddLocation),"deployement_type"==s.name&&(s.value="1"),"type"==s.name&&(s.value=!1),"create_unique_name_list"==s.name&&(s.value="0"),"asset_type_id"==s.name&&(s.config.showAddIcon=!0,s.config.onAddButtonClick=t.OpenAddProductTypePopup),"tag_id"==s.name&&(s.mode="tag",s.config.showAddIcon=!0,s.config.onAddButtonClick=t.OpenAddTagPopup),"type"==s.name&&(s.value="0",s.is_required=!0),"status_id"==s.name)s.value="1001",s.visibility=!1;else if("attachment_path"==s.name){s.showLabel=!1;let e=t.AttachmentDisallowedFileType(t.AllowedFileType);null!=e&&(s.config={maxSize:5,accept:[{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"}],showAddIcon:!1,onAddButtonClick:"",multiple:!0})}s.config.onChange=t.onChangeEventForFields})})}),t.isLoading=!1}}))},onChangeEventForFields:function(e,t,a){let s=this;"type"==t.name&&s.FormSchema.forEach((e,a)=>{e.Data.forEach((a,s)=>{t.value?"DEPLOY PRODUCT"!=e.group_name&&"DEPLOY PRODUCT DETAILS"!=e.group_name||(e.visibility=!0,"deployement_type"!=a.name&&"location_id"!=a.name&&"quantity"!=a.name&&"unit_price"!=a.name&&"asset_cost"!=a.name||(a.visibility=!0)):"DEPLOY PRODUCT"!=e.group_name&&"DEPLOY PRODUCT DETAILS"!=e.group_name||("DEPLOY PRODUCT DETAILS"==e.group_name&&(e.visibility=!1),"deployement_type"!=a.name&&"location_id"!=a.name&&"quantity"!=a.name&&"unit_price"!=a.name&&"asset_cost"!=a.name||(a.visibility=!1))})}),"attachment_path"==t.name&&s.GetBase64String(t.value);var i=parseFloat(""==s.FormSchema[2].Data[1].value?0:s.FormSchema[2].Data[1].value),l=parseFloat(""==s.FormSchema[2].Data[2].value?0:s.FormSchema[2].Data[2].value);if("quantity"==t.name)if(parseFloat(t.value)>0&&l>0){var o=parseFloat(t.value)*parseFloat(l);s.FormSchema[2].Data[3].value=o.toFixed(3)}else s.FormSchema[2].Data[3].value="0.000";if("unit_price"==t.name)if(parseFloat(t.value)>0&&i>0){o=parseFloat(t.value)*parseFloat(i);s.FormSchema[2].Data[3].value=o.toFixed(3)}else s.FormSchema[2].Data[3].value="0.000";if("asset_cost"==t.name)if(parseFloat(t.value)>0&&i>0&&l>0){o=parseFloat(l)*parseFloat(i);s.FormSchema[2].Data[3].value=o.toFixed(3)}else s.FormSchema[2].Data[3].value="0.000"},GetBase64String:function(e){try{var t=this,a=e[0],s=new FileReader;let i={};s.onload=function(e){return function(e){var s=e.target.result,l=window.btoa(s),o=a.name;t.fileName=o;var r=o.lastIndexOf("."),n=o.substring(r+1,o.length);t.fileExt+="."+n;var c='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+n+'"}',d=a.size;t.fileSize=d,i.attachement_mime=c,i.fileName=o,i.base64String=l,i.fileSize=a.size,i.contentType=a.type,i.ModuleName="Asset",i.SubModuleCode="Manage_Products",t.fileMulitpleData.push(i)}}(),s.readAsBinaryString(a)}catch(i){}},OnDeplymentType(e,t){t.value=e.target.getAttribute("data-value"),console.log(e.target.getAttribute("data-value"))},async AssetCatalogueListing(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&${e.searchCondition}`;await l["a"].AssetCatalogueListing(t).then(t=>{t.data.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0,e.isLoading=!1})},GetProgress(){var e=this;1==e.count?e.SetupProgress=33.33:2==e.count?e.SetupProgress=66.66:3==e.count&&(e.SetupProgress=100)},BackButton(){var e=this;e.SkipTab(2)},SkipTab:function(e){var t=this;t.step=e,t.CurrentTab=e},AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.FormSchema[0].Data[5].visibility=!1,e.FormSchema[2].Data[0].visibility=!1,e.step=1,e.buttons[1].isVisible=!1,e.buttons[0].isVisible=!0,e.buttons[3].isVisible=!1,e.buttons[4].isVisible=!0)},async GetTagsByModuleI(){var e=this;await l["a"].GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.FormSchema[0].Data[5].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},HideShowDeployProductFields(e){var t=this;1==e?("setup"==t.popupCondition?(t.FormSchema[2].Data[0].visibility=!1,t.FormSchema[3].Data[0].visibility=!0):(t.FormSchema[2].Data[0].visibility=!0,t.FormSchema[3].Data[0].visibility=!1),t.FormSchema[4].Data[0].visibility=!0,t.FormSchema[4].Data[1].visibility=!0,t.FormSchema[4].Data[2].visibility=!0,t.FormSchema[4].Data[3].visibility=!0):(t.popupCondition,t.FormSchema[2].Data[0].visibility=!1,t.FormSchema[3].Data[0].visibility=!1,t.FormSchema[4].Data[0].visibility=!1,t.FormSchema[4].Data[1].visibility=!1,t.FormSchema[4].Data[2].visibility=!1,t.FormSchema[4].Data[3].visibility=!1)},onSubmit:function(e){var t=this;t.$refs.AddProduct.validate().then(a=>{if(a){t.isLoading=!0;var s=t.$refs.AddProductForm.ConvertDynamicFormObjToCustomFieldObj(t.FormSchema);s.forEach((e,a)=>{"type"==e.field_name&&(1==e.field_value?e.field_value=1:e.field_value=2),"create_unique_name_list"==e.field_name&&(1==e.field_value?e.field_value=1:e.field_value=0),"location_id"==e.field_name&&(e.field_value=t.TreeValue)});var i={data:s,moduleCode:"Asset",subModuleCode:"Manage_Product",attachmentData:t.fileMulitpleData.length>0?t.fileMulitpleData:null};l["a"].IsDuplicateAssetCatalog(JSON.stringify(i)).then((function(a){if(a.data.isSave){let s={field_name:"item_code",field_value:a.data.itemCode};i.data.push(s),l["a"].SaveDynamicForm(JSON.stringify(i)).then((function(a){null!=a&&null!=a.data&&"Success"==a.data[0].Status?(t.ShowAlert(t.$t("Product has been Saved Successfully"),"success",t.$t("Alert")),t.close(),"SaveAndNew"==e.name&&(t.close(),setTimeout(()=>{""==t.popupCondition?t.$parent.OpenModelAddProduct():t.$parent.showadvancesettingpopup(t.popupCondition)},400),t.isLoading=!1)):(t.ShowAlert(t.$t("ErrorWhileSaving",[t.$t("Product")]),"danger",!0,t.$t("Alert")),"setup"==t.popupCondition?t.$parent.ShowAddProduct=!1:t.$parent.FetchData(),t.isLoading=!1)}))}else t.ShowAlert(a.data.msg,"danger",!0,t.$t("Alert")),t.isLoading=!1}))}})},setFile:function(e){var t=this;for(let a=0;a<e.target.files.length;a++){const s=e.target.files[a];t.file.push(s)}},isDeployProduct(){var e=this;e.FormSchema[3].Data[0].isVisible=!0},GetAssetCost(e,t,a){var s=this;"e"===e.key&&e.preventDefault();var i=s.FormSchema[4].Data[1].value,l=s.FormSchema[4].Data[1];i.length>7&&(i=i.slice(0,7)),l.value=i;var o=s.FormSchema[4].Data[2].value,r=s.FormSchema[4].Data[2];o.length>5&&(o=o.slice(0,5),r.value=o,s.ShowAlert(s.$t("The Unit Price field may not be greater than 5 characters"),"failure",s.$t("Alert"))),s.GetUnitPrice(i)},GetUnitPrice(e){var t=this,a=t.FormSchema[4].Data[1].value;a.startsWith("0")&&a.length>1&&(a=a.slice(1));var s=t.FormSchema[4].Data[2].value;if(s.startsWith("0")&&s.length>1&&(s=s.slice(1)),a.length>0&&!a.startsWith("0"))if(s.length>0&&!s.startsWith("0")){var i=parseFloat(s)*parseFloat(a);t.FormSchema[4].Data[3].value=i.toFixed(3)}else t.FormSchema[4].Data[3].value="0.000";else if(s.length>0&&!s.startsWith("0")){var l=parseFloat(s);t.FormSchema[4].Data[3].value=l.toFixed(3)}else t.FormSchema[4].Data[3].value="0.000"},UploadFile(e){var t=this;t.fileUploaded=e.target.files[0]},removeTag:function(e){var t=this;t.confirmR(t.$t("ConfirmRemoveTag"),!0,t.$t("Delete"),(function(){var a=t.tagData.findIndex(t=>t.TAG_ID===e);a>-1&&t.tagData.splice(a,1)}))},AddLocation(){var e=this;e.IsDeployment=!0,e.ShowAddLocation=!0},GetLocationByCompanyId:async function(){var e=this,t="reqForm=assetassignment";await l["a"].GetLocationByuserId(t).then(t=>{e.FindalLocationArray=[],"pendingRequest"==e.$route.params.reqForm&&""!=e.GetParentDetails&&null!=e.GetParentDetails||(e.TreeValue=t.data.data[0].COMPANY_LOCATION_ID),t.data.data.forEach(a=>{var s=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==s.length&&null==a.PARENT_LOCATION_ID){let s=a.COMPANY_LOCATION_ID,i=e.getChildLocation(s,a,t.data.data);e.FindalLocationArray.push(i)}}),e.options=e.FindalLocationArray})},getChildLocation:function(e,t,a){let s=this,i={};i={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let l=i;var o=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let r=[];return o.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var l=r.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==l.length){var o=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=o&&o.length>0){let i=s.getChildLocation(t,e,a);r.push(i)}else i={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},r.push(i)}}),l.children=r,l},OpenAddTagPopup(){var e=this;e.ShowAddProduct=!0,$("#modelAddProduct").modal("show"),setTimeout((function(){$("#modelAddProduct").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3),e.FromAddProduct=!0,e.IsTagNamePopup=!0},close(){var e=this;"setup"==e.popupCondition?e.$parent.showpopup=!1:($("#modelAddProduct").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),e.$parent.FetchData(),e.$parent.ShowAddProduct=!1)},CloseTagPopup(){var e=this;e.IsTagNamePopup=!1},async CloseLocationPopup(){var e=this;e.LocationData=[],e.FindalLocationArray=[],e.FormSchema[4].Data[0].config.options=[],await e.GetLocationByCompanyId(),e.HideShowDeployProductFields(!1),setTimeout((function(){e.HideShowDeployProductFields(!0)}),500),e.isLoading=!1,e.ShowAddLocation=!1},async EnableAssetManagement(){let e="moduleName=Asset&configkey=CanSeeAssetManagement";await l["a"].EnableAssetManagement(e).then(e=>{this.IsEnableAssetManagement=e.data})},OpenAddProductTypePopup(){var e=this;e.FromPage="AddProduct",e.ShowAddProductType=!0},ClosePopupProductType(){var e=this;e.ShowAddProductType=!1,e.getForm()}}}),g=C,b=(a("7aae"),Object(m["a"])(g,s,i,!1,null,null,null));t["a"]=b.exports},"3da3":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,"#modelAddProduct .modal-dialog{max-width:1200px!important}#Location .vue-treeselect__control .vue-treeselect__x-container{display:none}#Location .vue-treeselect{position:relative;text-align:left;border:1px solid #abb5bf}#Location .vue-treeselect--single .vue-treeselect__input{width:100%;height:100%;box-sizing:border-box;border:none}#modelAddProduct .custom-checkbox.custom-checkbox .custom-control-label:before,.custom-checkbox .custom-control-input:checked~.custom-control-label:after{display:none}",""]),e.exports=t},"55a7":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header d-flex"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("ProductAvailability"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePOPuP(e.event)}}},[t("em",{staticClass:"fa fa-times"})]),t("span",{staticClass:"user-guide"},[e._m(0),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("USERGUIDE_AC_CHECK_AVAILABILITY"))}})])])])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"rad_value",attrs:{type:"radiobutton"}},[t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{staticClass:"custom-control-input dynamic IssuedByIds",attrs:{type:"radio",id:"SearchProductName",name:"SearchProduct",value:"CheckedCheckBox"},domProps:{checked:e.SearchByBarcode},on:{change:function(t){return e.searchByProduct("barcode")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"SearchProductName"}},[e._v(e._s(e.$t("SearchbyBarcodeRFID")))])]),t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{staticClass:"custom-control-input dynamic IssuedByIds",attrs:{type:"radio",id:"SearchProducts",name:"SearchProduct",value:"CheckedCheckBox"},domProps:{checked:!e.SearchByBarcode},on:{change:function(t){return e.searchByProduct("product")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"SearchProducts"}},[e._v(e._s(e.$t("SearchbyProduct")))])])])]),t("Form",{ref:"BarCodeForm",staticClass:"d-block w-100"},[t("div",{staticClass:"col-12 mt-3 p-0",attrs:{id:"searchByBarcode"}},[e.SearchByBarcode?t("div",{staticClass:"col-12 col-sm-9 col-md-9 col-lg-10 float-left"},[t("div",{staticClass:"form-group mb-2"},[t("label",[t("span",{attrs:{id:""}},[e._v(e._s(e.$t("SearchbyBarcodeRFID")))])]),t("span",{staticClass:"text-danger"},[e._v("*")]),t("Field",{attrs:{name:"Barcode",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.txtBarcode,expression:"txtBarcode"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{id:"txtBarcode",name:"Barcode",placeholder:"Enter Barcode",type:"text"},domProps:{value:e.txtBarcode},on:{input:function(t){t.target.composing||(e.txtBarcode=t.target.value)}}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Barcode"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!1,1560806471)})],1)]):e._e(),e.SearchByBarcode?t("div",{staticClass:"col-12 col-sm-3 col-md-3 col-lg-2 float-left pl-md-0 mt-0 mt-md-4 mt-sm-4"},[t("div",{staticClass:"background-0 text-left w-100 form-check-inline"},[t("input",{attrs:{type:"hidden",id:"hdnSearch",value:""}}),t("a",{staticClass:"btn btn-success w-50 mr-1 px-4 hlsearch",attrs:{title:"",id:"Searchassest_barcode",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:e.SearchassestBarcode}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger w-50 clearsearchtext px-4",attrs:{id:"aClear",href:"javascript:;",title:"Clear all ","data-toggle-tooltip":"tooltip","data-original-title":"Clear"},on:{click:e.CleareAssestBarcode}},[t("em",{staticClass:"fa fa-refresh"})])])]):e._e()])]),e.SearchByBarcode?e._e():t("div",{staticClass:"col-12 float-left searchByProduct"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"Subject"}},[e._v(e._s(e.$t("Location"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{attrs:{name:"Location",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("tree-view",{class:{"form-control":!0,"is-invalid":a[0]},attrs:{options:e.options,placeholder:"Select Location","show-count":!0},on:{input:function(t){return e.GetddlProduct(e.location_id)}},model:{value:e.location_id,callback:function(t){e.location_id=t},expression:"location_id"}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!1,3091994094)})],1)]),e.SearchByBarcode?e._e():t("div",{staticClass:"col-12 float-left",attrs:{id:"searchByProduct"}},[t("div",{staticClass:"col-12 float-left p-0"},[t("div",{staticClass:"rad_value",attrs:{type:"radiobutton"}},[t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"ProductNameItem",value:"ProductName"},domProps:{checked:e.IsProductName},on:{change:function(t){return e.searchByItemName("ProductName")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"ProductNameItem"}},[e._v(e._s(e.$t("AssetId")))])]),t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"ItemName",value:"Product"},domProps:{checked:!e.IsProductName},on:{change:function(t){return e.searchByItemName("Product")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"ItemName"}},[e._v(e._s(e.$t("ItemName")))])])])]),e.IsProductName?t("div",{staticClass:"col-12 float-left mt-3 p-0 productName"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"Subject"}},[e._v(e._s(e.$t("AssetId"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{attrs:{name:"Product Name",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:e.Product_Id,expression:"Product_Id"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"Product Name"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.Product_Id=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v("Select")]),e._l(e.productDDLData,(function(a,s){return t("option",{key:s,domProps:{value:a.value}},[e._v(e._s(a.name))])}))],2),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Product Name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!1,1611160448)})],1)]):e._e(),e.IsProductName?e._e():t("div",{staticClass:"col-12 float-left mt-3 p-0 product"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("ItemName"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("div",{staticClass:"input-group mb-3",staticStyle:{position:"relative"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.assetUniqueItem,expression:"assetUniqueItem"}],staticClass:"form-control",attrs:{id:"txtAssetItems",name:"txtAssetItems",value:"iselectVal",placeholder:"Enter Product Name",type:"text",autocomplete:"off"},domProps:{value:e.assetUniqueItem},on:{input:[function(t){t.target.composing||(e.assetUniqueItem=t.target.value)},function(t){return e.GetAssetUniqueData(e.location_id)}]}}),t("div",{staticClass:"unique_dynamicdatalist"},[e.IsDDLShowHide?t("ul",{staticClass:"listOfProduct"},e._l(e.assetUniqueData,(function(a,s){return t("li",{key:s,staticClass:"listitem all-items",on:{click:function(t){return e.uniqueItemChange(a)}}},[e._v(e._s(a.name)+" ")])})),0):e._e()]),t("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none"},attrs:{href:"javascript:;",id:"customddlinput"},on:{click:e.itemDDLShowHide}},[t("em",{staticClass:"dropdown-toggle float-right"})])])])])]),t("div",{staticClass:"col-12 mb-3 mt-3"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.$t("AvailableBetween"))+" ")])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-xl-6 avail-calender"},[t("div",{staticClass:"input-group"},[t("label",[e._v(e._s(e.$t("From"))+":")]),t("span",{staticClass:"text-danger"},[e._v("*")]),t("v-date-picker",{staticClass:"timedate input-group",attrs:{popover:e.popover,"min-date":e.getMinDate(new Date),name:e.fromDate,dateformat:e.dateformat,"minute-increment":5},on:{input:function(t){return e.onDateChange(t,"fromdate")}},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({class:{"form-control":!0},attrs:{placeholder:"M/D/YYYY"},domProps:{value:a},on:{focus:function(t){return e.togglePopoverClick()}}},s)),t("div",{staticClass:"input-group-append cal",attrs:{id:"toggles"},on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],1)]),t("div",{staticClass:"col-sm-12 col-md-6 col-xl-6"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("EventStartTime")))]),t("div",{staticClass:"input-group"},[t("v-date-picker",{staticClass:"input-group",attrs:{mode:"Time",dateformat:e.dateformat},on:{input:e.resetAvailabilityStatus},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({staticClass:"form-control",domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-clock-o"})])])]}}]),model:{value:e.StartTime,callback:function(t){e.StartTime=t},expression:"StartTime"}})],1)])]),t("div",{staticClass:"col-sm-12 col-md-6 col-xl-6 avail-calender"},[t("div",{staticClass:"input-group"},[t("label",[e._v(e._s(e.$t("Till"))+" ")]),t("span",{staticClass:"text-danger"},[e._v("*")]),t("v-date-picker",{staticClass:"timedate input-group",attrs:{popover:e.popover,"min-date":e.getMinDate(),name:e.toDate,"minute-increment":5},on:{input:function(t){return e.onDateChange(t,"toDate")}},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({class:{"form-control":!0},attrs:{placeholder:"M/D/YYYY"},domProps:{value:a},on:{focus:function(t){return e.togglePopoverClick1()}}},s)),t("div",{staticClass:"input-group-append",attrs:{id:"toggled"},on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)]),t("div",{staticClass:"col-sm-12 col-md-6 col-xl-6"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("CAEndTime")))]),t("div",{staticClass:"input-group"},[t("v-date-picker",{staticClass:"input-group",attrs:{mode:"Time"},on:{input:e.resetAvailabilityStatus},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({staticClass:"form-control",domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-clock-o"})])])]}}]),model:{value:e.EndTime,callback:function(t){e.EndTime=t},expression:"EndTime"}})],1)])]),e.tblassestgroupinfoIsShow?t("CheckBarCodeAvalibility",{attrs:{BarCodeData:e.BarCodeData,RequestFrom:e.RequestFrom}}):e._e(),e.divAvailabilityStatusIsShow?t("AvailabilityStatus",{attrs:{GetUniqueProductIdData:e.GetUniqueProductIdData,noOfAvailableItems:e.noOfAvailableItems,statusAvailable:e.statusAvailable,uniqueItems:e.uniqueItems,statusReserved:e.statusReserved,statusUnAvailable:e.statusUnAvailable,divAvailabilityStatus:e.divAvailabilityStatusIsShow},on:{onUniqueItemClick:function(t){return e.onUniqueItemClick(t)}}}):e._e(),e._m(1),t("div",{staticClass:"col-12 text-right mt-3"},[e.btnReserve?t("a",{staticClass:"btn btn-warning mr-2",attrs:{href:"javascript:;"},on:{click:function(t){return e.ProceedToAction("reserve")}}},[e._v(e._s(e.$t("ProceedtoReserve")))]):e._e(),e.btnCheckAvailability?t("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;"},on:{click:e.checkAssetAvailability}},[e._v(e._s(e.$t("Check_Availability")))]):e._e(),e.btnCheckout?t("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;"},on:{click:function(t){return e.ProceedToAction("checkout")}}},[e._v(e._s(e.$t("ProceedtoCheckout")))]):e._e(),e.btnAssign?t("a",{staticClass:"btn btn-primary mr-2",attrs:{href:"javascript:;"},on:{click:function(t){return e.ProceedToAction("assign")}}},[e._v(e._s(e.$t("ProceedtoAssign")))]):e._e()]),t("div",{staticClass:"col-12 mt-3 flex-row-reverse mt-3"},[t("div",{staticClass:"col-lg-12 text-left"},[t("div",{staticClass:"py-2"},[t("span",{staticClass:"text-danger",attrs:{id:"spnSelfCheckOutError"}},[e._v(e._s(e.ErrorText))])])])])],1)])])])])])],1)},i=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t("em",{staticClass:"fa fa-files-o pr-2"}),e._v("User Guide")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 mt-3 flex-row-reverse mt-3"},[t("div",{staticClass:"col-lg-12 text-left"},[t("div",{staticClass:"py-2"},[t("span",{staticClass:"text-danger",attrs:{id:"spnSelfCheckOutError"}})])])])}],l=(a("14d9"),a("1115")),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 mt-3 listing tblassestgroupinfo"},[t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblassestgroupinfo"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{"max-width":"120px"}},[t("span",[e._v(e._s(e.$t("SerialNumber")))])]),t("th",[t("span",[e._v(e._s(e.$t("PRODUCT_NAME")))])]),t("th",[t("span",[e._v(e._s(e.$t("Location")))])])])]),0!=e.NoRecordLength?e._l(e.BarCodeData,(function(a,s){return t("tbody",{key:s},[a.CreateUniqueNameListing?[t("tr",{staticClass:"showassetcataloguegroup",class:{"insertedrow bg-gold":a.AssetCatalogueGroup.length>0}},[t("td",{staticClass:"textaligncenter align-middle text-center",style:e.containercolor},[e._v(" "+e._s(s+1)+" ")]),t("td",{staticClass:"align-middle ad"},[e._v(e._s(a.AssetCatalogName))]),t("td",{staticClass:"align-middle ad"},[1==e.BarCodeData.length?[t("select",{class:{"form-control disabled":!0},attrs:{name:"location"}},[t("option",{domProps:{value:a.LocationId}},[e._v(e._s(a.LocationName))])])]:[t("select",{class:{"form-control":!0},attrs:{name:"location"}},[t("option",{domProps:{value:a.LocationId}},[e._v(e._s(a.LocationName))])])]],2)])]:[t("tr",{staticClass:"showassetcataloguegroup",class:{"insertedrow bg-gold":a.AssetCatalogueGroup.length>0}},[t("td",{staticClass:"textaligncenter align-middle text-center",style:e.containercolor},[a.AssetCatalogueGroup.length>0?t("span",{staticClass:"togglearrow arrowwhitecollapse_roles fa fa-caret-right fa-2x showcatalog showassetcatalog"},[e._v(e._s(s+1))]):t("span",{staticClass:"showcatalog showassetcatalog"},[e._v(" "+e._s(s+1))])]),t("td",{staticClass:"align-middle ad"},[e._v(e._s(a.AssetCatalogName))]),t("td",{staticClass:"align-middle ad"},[1==e.BarCodeData.length?[t("select",{class:{"form-control disabled":!0},attrs:{name:"location"}},[t("option",{domProps:{value:a.LocationId}},[e._v(e._s(a.LocationName))])])]:[t("select",{class:{"form-control":!0},attrs:{name:"location"}},[t("option",{domProps:{value:a.LocationId}},[e._v(e._s(a.LocationName))])])]],2)]),"assetassignment"==e.RequestFrom?t("tr",[t("td",{staticClass:"textaligncenter align-middle no_records",attrs:{colspan:"8"}},[e._v(e._s("NoItemAvailable")+" ")])]):e._e()]],2)})):[t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v(e._s(e.NoProductAvailable))])]],2)])])},r=[],n={props:{BarCodeData:{type:Array,required:!0},RequestFrom:{type:String,required:!0}},data(){return{containercolor:"",NoProductAvailable:"No Product Available",NoRecordLength:null}},created:function(){this.NoRecordLength=this.BarCodeData.length,this.BarCodeData.forEach(e=>{1==e.IsContainer&&(this.containercolor="border-left: 6px solid #227003 !important;")})}},c=n,d=(a("09d7"),a("2877")),u=Object(d["a"])(c,o,r,!1,null,null,null),m=u.exports,p=function(){var e=this,t=e._self._c;return e.divAvailabilityStatus?t("div",{staticClass:"col-12 mt-3"},[t("div",{staticClass:"col-12 border p-2 float-left"},[t("label",{staticClass:"font-weight-bold"},[e._v(e._s(e.$t("Availability")))]),e.statusAvailable?t("div",{staticClass:"col-12 p-0"},[t("small",[t("i",{staticClass:"text-success fa fa-circle"}),e._v(" "+e._s(e.$t("Available"))),t("span",{attrs:{id:"noOfAvailableItems"}}),e._v("-("+e._s(e.noOfAvailableItems)+")")]),e.uniqueItems?t("div",{staticClass:"col-12 px-0 mt-2"},[e.GetUniqueProductIdData.length>0?t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblUniqueItems"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.allSelected,expression:"allSelected"}],staticClass:"custom-control-input",attrs:{id:"chkAllUniqueItems",type:"checkbox",name:"checkbox"},domProps:{checked:Array.isArray(e.allSelected)?e._i(e.allSelected,null)>-1:e.allSelected},on:{click:function(t){return e.selectAll(t)},change:function(t){var a=e.allSelected,s=t.target,i=!!s.checked;if(Array.isArray(a)){var l=null,o=e._i(a,l);s.checked?o<0&&(e.allSelected=a.concat([l])):o>-1&&(e.allSelected=a.slice(0,o).concat(a.slice(o+1)))}else e.allSelected=i}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chkAllUniqueItems"}})])]),t("th",{staticClass:"text-center"},[e._v(e._s(e.$t("AssetId")))]),t("th",{staticClass:"text-center"},[e._v(e._s(e.$t("AvailableItems")))])])]),t("tbody",e._l(e.GetUniqueProductIdData,(function(a,s){return t("tr",{key:s},[t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.isSelected,expression:"item.isSelected"}],staticClass:"custom-control-input",attrs:{id:a.UNIQUE_ID,type:"checkbox",name:"checkbox"},domProps:{value:a.UNIQUE_ID,checked:Array.isArray(a.isSelected)?e._i(a.isSelected,a.UNIQUE_ID)>-1:a.isSelected},on:{change:[function(t){var s=a.isSelected,i=t.target,l=!!i.checked;if(Array.isArray(s)){var o=a.UNIQUE_ID,r=e._i(s,o);i.checked?r<0&&e.$set(a,"isSelected",s.concat([o])):r>-1&&e.$set(a,"isSelected",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(a,"isSelected",l)},function(t){return e.select(t,a)}]}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:a.UNIQUE_ID}})])]),t("td",{staticClass:"text-center"},[e._v(e._s(a.NAME))]),t("td",{staticClass:"text-center"},[e._v(e._s(a.AVAILABLE_QUANTIY))])])})),0)])])]):e._e()]):e._e()]):e._e(),e.statusReserved?t("div",[t("small",[t("i",{staticClass:"text-warning fa fa-circle"}),e._v(" "+e._s(e.$t("Reserved"))+" - "),t("span",{staticClass:"text-primary cursor-pointer",attrs:{id:"resvation"},on:{click:function(t){return e.select()}}},[e._v(e._s(e.$t("ViewReservations")))])]),t("div",{staticClass:"col-12 px-0",attrs:{id:"divCalendar"}})]):e._e(),e.statusUnAvailable?t("div",[t("small",[t("i",{staticClass:"text-danger fa fa-circle"}),e._v(" "+e._s(e.$t("Not_Available")))])]):e._e()])]):e._e()},f=[],h={props:{GetUniqueProductIdData:{type:Array,required:!0},noOfAvailableItems:{type:Number,required:!0},statusAvailable:{type:Boolean,required:!0},uniqueItems:{type:Boolean,required:!0},statusReserved:{type:Boolean,required:!0},statusUnAvailable:{type:Boolean,required:!0},divAvailabilityStatus:{type:Boolean,required:!0}},created:function(){},data(){return{CheckCatlougeValue:null,CheckeduniqueId:"",selected:[],allSelected:!1,userIds:[]}},methods:{selectAll:function(e){var t=this;let a=[],s="",i={};t.allSelected=!t.allSelected,t.allSelected?t.GetUniqueProductIdData.forEach(e=>{e.isSelected=!0}):t.GetUniqueProductIdData.forEach(e=>{e.isSelected=!1}),t.GetUniqueProductIdData.forEach(e=>{1==e.isSelected&&(i={productId:e.UNIQUE_ID,productName:e.NAME},a.push(i))}),console.log("Productdetails",a.length),s=a.map(e=>e.productId).join(","),this.$emit("onUniqueItemClick",s)},select:function(e,t){var a=this;let s={},i=[],l="";1==e.target.checked?a.GetUniqueProductIdData.forEach(e=>{e.UNIQUE_ID==t.UNIQUE_ID&&(e.isSelected=!0,a.allSelected=!1)}):a.GetUniqueProductIdData.forEach(e=>{e.UNIQUE_ID==t.UNIQUE_ID&&(e.isSelected=!1,a.allSelected=!1)}),a.GetUniqueProductIdData.forEach(e=>{1==e.isSelected&&(s={productId:e.UNIQUE_ID,productName:e.NAME},i.push(s))}),a.GetUniqueProductIdData.length==i.length?a.allSelected=!0:a.allSelected=!1,l=i.map(e=>e.productId).join(","),this.$emit("onUniqueItemClick",l)}}},v=h,_=Object(d["a"])(v,p,f,!1,null,null,null),C=_.exports,g=a("ca17"),b=a.n(g),I=(a("542c"),{props:{CalledFrom:String},components:{CheckBarCodeAvalibility:m,AvailabilityStatus:C,"tree-view":b.a},data(){return{productDDLData:[],locationDDLData:[],assetUniqueData:[],checkAvailabilityList:[],location_id:null,SearchByBarcode:!0,IsProductName:!0,IsDDLShowHide:!1,assetUniqueItem:"",txtBarcode:"",tblassestgroupinfoIsShow:!1,divAvailabilityStatusIsShow:!1,popover:{visibility:"click"},isLoading:!1,BarCodeData:[],RequestFrom:"",IsShowButton:!0,CheckedCheckBox:"SearchProductName",BarcodeSelected:"BarCodeSearch",StartTime:new Date,EndTime:new Date,UniqueNameListing:1,IsProduct:"ProductName",Product_Id:null,fromDate:new Date,toDate:new Date,GetUniqueProductIdData:[],SpnSelfCheckOutError:"",ErrorText:"",ASSETUniqueId:null,noOfAvailableItems:null,statusAvailable:!1,uniqueItems:!0,statusReserved:!1,statusUnAvailable:!1,btnCheckAvailability:!0,btnCheckout:!1,btnAssign:!1,btnReserve:!1,IsDefault:null,UserType:null,module_id:null,GetKeyData:[],isUserSelfCheckoutEnabled:!1,iselectVal:null,CheckeduniqueIds:[],LocationName:"",uniqueProductName:"",hdnQuantity:null,LocationDataTree:[],dateformat:null,urlroute:""}},created:async function(){var e=this;await e.GetddlLocation(),e.searchByProduct("barcode"),e.fromDate=e.$options.filters.formatDate(e.fromDate),e.toDate=e.$options.filters.formatDate(e.toDate),e.EndTime=e.addHoursToDate(e.EndTime,1),e.UniqueNameListing="BarCodeSearch"!=e.BarcodeSelected?e.UniqueNameListing=1:e.UniqueNameListing=0;var t=e.GetUserInfo;e.UserId=t.ID,e.UserName=t.Name,e.IsDefault=t.IsDefault,e.UserType=t.UserType,e.dateformat=t.DateFormat,await e.GetKey()},methods:{addHoursToDate(e,t){return new Date(new Date(e).setHours(e.getHours()+t))},onDateChange(e,t){var a=this;null!=e&&("fromdate"==t?a.fromDate=a.$options.filters.formatDateYear(e):"toDate"==t&&(a.toDate=a.$options.filters.formatDateYear(e)))},GetKey:async function(){var e=this;await e.GetModuleByName();var t=`moduleId=${e.module_id}&code=USR`;await l["a"].GetKeys(t).then(t=>{t.data.length>0?(e.GetKeyData=t.data,e.GetKeyData.filter(t=>{if("SelfCheckout"==t.coreConfigKey||"SelfTransfer"==t.coreConfigKey)return e.isUserSelfCheckoutEnabled=!0})):e.isUserSelfCheckoutEnabled=!1})},GetModuleByName:async function(e){var t="moduleName=Asset";await l["a"].GetModuleByName(t).then(e=>{this.module_id=e.data})},GetAssetAvailability:async function(){var e=this,t="",a="",s="";"BarCodeSearch"==e.BarcodeSelected?(t=""==e.BarCodeData?null:e.BarCodeData[0].AssetCatalogueId,a=""==e.BarCodeData?null:e.BarCodeData[0].ParentUniqueId,s=""==e.BarCodeData?null:e.BarCodeData[0].LocationId):(t=e.Product_Id,a=e.iselectVal),null!=e.fromDate&&""!=e.fromDate||(e.fromDate=new Date),null!=e.toDate&&""!=e.toDate||(e.toDate=new Date);var i=e.$options.filters.formatDateYear(e.fromDate),o=e.$options.filters.formatDateYear(e.toDate),r=e.$options.filters.formatTime(e.StartTime),n=e.$options.filters.formatTime(e.EndTime),c=e.compareDatetime(e.$options.filters.formatDate(e.fromDate),e.$options.filters.formatTimee(e.StartTime),e.$options.filters.formatDate(e.toDate),e.$options.filters.formatTimee(e.EndTime));if(1==c)return e.ShowAlert(e.$t("From date should be less than or equal To Till date"),"failure",e.$t("Alert")),!1;if(null!=a&&""!=a&&0!=a||null!=t&&""!=t&&0!=t)if(e.isLoading=!0,"BarCodeSearch"==e.BarcodeSelected&&0==e.UniqueNameListing){var d=`assetUniqueId=${t}&assignedFrom=${i}&assignedTill=${o}&startTime=${r}&endTime=${n}&locationId=${s}&type=ProductName`;await l["a"].GetAssetAvailability(d).then(t=>{if("ERROR"!=t.data.availabilty)if(t.data.availability.length>0)if("AVAILABLE"==t.data.availability[0].availabilty){const a={status:"available",AvailableItems:t.data.availability[0].availablE_QUANTITY||0,IS_SELF_CHECKOUT:t.data.availability[0].iS_SELF_CHECKOUT||!1,UNIQUE_ITEMS:t.data.availability[0].uniquE_ITEMS&&t.data.availability[0].uniquE_ITEMS.length>0?t.data.availability[0].uniquE_ITEMS:""};e.DisplayAvailability(a)}else if("RESERVED"==t.data.availability[0].availabilty){var a={status:"reserved"};e.DisplayAvailability(a)}else e.DisplayAvailability("unAvailable");else e.DisplayAvailability("unAvailable");else e.DisplayAvailability("unAvailable");e.isLoading=!1})}else{if("ProductName"==e.IsProduct)if("BarCodeSearch"==e.BarcodeSelected){if(null==e.location_id&&0==e.location_id)return e.ShowAlert(e.$t("CostCentreReq"),"failure",e.$t("Alert")),e.isLoading=!1,!1}else await e.GetUniqueProductId(),a=e.ASSETUniqueId;if(null!=a&&""!=a&&0!=a&&"Product"!=e.IsProduct){d=`assetUniqueId=${t}&assignedFrom=${i}&assignedTill=${o}&startTime=${r}&endTime=${n}&locationId=${e.location_id}&type=ProductName`;await l["a"].GetAssetAvailability(d).then(t=>{if("ERROR"!=t.data.availabilty)if(t.data.availability.length>0)if("AVAILABLE"==t.data.availability[0].availabilty){const a={status:"available",AvailableItems:t.data.availability[0].availablE_QUANTITY||0,IS_SELF_CHECKOUT:t.data.availability[0].iS_SELF_CHECKOUT||!1,UNIQUE_ITEMS:t.data.availability[0].uniquE_ITEMS&&t.data.availability[0].uniquE_ITEMS.length>0?t.data.availability[0].uniquE_ITEMS:""};e.DisplayAvailability(a)}else if("RESERVED"==t.data.availability[0].availabilty){var a={status:"reserved"};e.DisplayAvailability(a)}else e.DisplayAvailability("unAvailable");else e.DisplayAvailability("unAvailable");else e.DisplayAvailability("unAvailable");e.isLoading=!1})}else{d=`assetUniqueId=${a}&assignedFrom=${i}&assignedTill=${o}&startTime=${r}&endTime=${n}&locationId=${e.location_id}&type=Product`;await l["a"].GetAssetAvailability(d).then(t=>{if("ERROR"!=t.data.availabilty)if(t.data.availability.length>0)if("AVAILABLE"==t.data.availability[0].availabilty){const a={status:"available",AvailableItems:t.data.availability[0].availablE_QUANTITY||0,IS_SELF_CHECKOUT:t.data.availability[0].iS_SELF_CHECKOUT||!1};e.DisplayAvailability(a)}else if("RESERVED"==t.data.availability[0].availabilty){var a={status:"reserved"};e.DisplayAvailability(a)}else e.DisplayAvailability("unAvailable");else e.DisplayAvailability("unAvailable");else e.DisplayAvailability("unAvailable");e.isLoading=!1})}}else null==a||""==a||0==a?e.ShowAlert(e.$t("ProductRequired"),"failure",e.$t("Alert")):e.ShowAlert(e.$t("InvalidProduct"),"failure",e.$t("Alert"))},compareDatetime:function(e,t,a,s){const i=this.concatenateDateAndTime(e,t),l=this.concatenateDateAndTime(a,s);return i<l?-1:i>l?1:0},concatenateDateAndTime:function(e,t){const a=new Date(e),[s,i]=t.split(" ");let[l,o]=s.split(":").map(e=>parseInt(e));return"PM"===i&&l<12?l+=12:"AM"===i&&12===l&&(l=0),l<0?l=0:l>23&&(l=23),a.setHours(l),a.setMinutes(o),a},DisplayAvailability:function(e){var t=this;if(t.divAvailabilityStatusIsShow=!0,e.status)if("available"==e.status){if(t.statusAvailable=!0,"ProductName"==t.IsProduct&&"BarCodeSearch"!=t.BarcodeSelected&&1!=t.UniqueNameListing&&(t.noOfAvailableItems=e.AvailableItems),e.UNIQUE_ITEMS){if(t.GetUniqueProductIdData=JSON.parse(e.UNIQUE_ITEMS),t.GetUniqueProductIdData.forEach(e=>{e.isSelected=!1}),""!=t.txtBarcode){var a=[];t.GetUniqueProductIdData.forEach((function(e){e.UNIQUE_ID==t.BarCodeData[0].ParentUniqueId&&a.push(e)})),t.GetUniqueProductIdData=a}}else t.uniqueItems=!0;var s=t.fromDate,i=t.StartTime,l=new Date(new Date(Date.parse(s)).setHours(0,0,0,0)),o=s+" "+i.getTime()/6e4;o=o.split(" "),o=o[1];var r=new Date((new Date).setHours(0,0,0,0));t.hdnQuantity=e.AvailableItems,t.statusReserved=!1,t.statusUnAvailable=!1,t.btnCheckAvailability=!1,t.btnCheckout=!1,t.btnAssign=!1,+l===+r&&("CA"==t.UserType&&""+t.IsDefault==1?(t.btnCheckout=!0,t.btnAssign=!0):("True"==t.isUserSelfCheckoutEnabled&&(t.btnAssign=!0),1==t.isUserSelfCheckoutEnabled&&1==e.IS_SELF_CHECKOUT?t.btnCheckout=!0:0==e.IS_SELF_CHECKOUT?t.ErrorText="Self checkout is not enabled for this product.":"CA"==t.UserType?t.ErrorText="Please enable your self checkout option under user configuration.":t.ErrorText="Please ask the company admin to enable your self checkout option under user configuration."),o-(new Date).getTime()/6e4>=5&&(t.btnReserve=!0)),l>r&&(t.btnReserve=!0,"CA"==t.UserType&&1==t.IsDefault&&(t.btnAssign=!0))}else"reserved"==e.status&&(t.noOfAvailableItems=null,t.statusReserved=!0,t.statusUnAvailable=!1,t.btnCheckAvailability=!1,t.btnReserve=!1,t.btnCheckout=!1,t.btnAssign=!1);else t.noOfAvailableItems=null,t.statusReserved=!1,t.statusUnAvailable=!0,t.btnCheckAvailability=!1,t.btnReserve=!1,t.btnCheckout=!1,t.btnAssign=!1},GetUniqueProductId:async function(){var e=this,t=`name=&assetCatalogId=${e.Product_Id}&issueTo=0&locationId=${e.location_id}&requestFrom=CHECKASSETAVAILABILITY&assetType=`;await l["a"].GetUniqueAssetItems(t).then((function(t){e.ASSETUniqueId=t.data[0].Value}))},onUniqueItemClick:function(e){this.CheckeduniqueIds=[],this.CheckeduniqueIds=e},ProceedToAction:function(e){var t=this,a="",s=t.$options.filters.formatDateYear(t.fromDate),i=t.$options.filters.formatDateYear(t.toDate),l=t.$options.filters.formatTime(t.StartTime),o=t.$options.filters.formatTime(t.EndTime),r=t.StartTime.getHours(),n=t.EndTime.getHours(),c=new Date(Date.parse(s)),d=new Date(Date.parse(i));function u(e){return e>=12?"PM":"AM"}var m=u(r),p=u(n);if("BarCodeSearch"==t.BarcodeSelected?t.urlroute="?id=&isView=1&assetType=&barcode="+t.txtBarcode+"&assetUniqueId=&issueTo=&reqFrom=CheckBarcodeAssetAvailability&assignedFrom="+t.fromDate+"&assignedTill="+t.toDate+"&startTime="+l+" "+m+"&endTime="+o+" "+p+"&locationId="+t.BarCodeData[0].LocationId+"&RFID=&uniqueIds=":t.urlroute="?id=&isView=1&assetType=&barcode=&assetUniqueId=&issueTo="+t.UserId+"&reqFrom=assetrequisition&From="+t.CalledFrom+"&assignedFrom="+t.$options.filters.formatDate(t.fromDate)+"&assignedTill="+t.$options.filters.formatDate(t.toDate)+"&startTime="+l+" "+m+"&endTime="+o+" "+p+"&locationId="+t.location_id+"&RFID=&uniqueIds=",!(c<=d))return t.ShowAlert(t.$t("DateRangeValidation"),"failure",t.$t("Alert")),!1;if("BarCodeSearch"==t.BarcodeSelected&&1==t.UniqueNameListing)a=t.BarCodeData[0].ParentUniqueId;else if("ProductName"==t.IsProduct){if(a=t.CheckeduniqueIds,""==a)return t.ShowAlert(t.$t("Please Select at least one Item"),"warning",t.$t("Alert"))}else a=t.iselectVal;if("ProductName"==t.IsProduct&&"BarCodeSearch"!=t.BarcodeSelected){t.ASSETUniqueId,t.LocationName;t.location_id;t.Product_Id,t.noOfAvailableItems}else if("BarCodeSearch"==t.BarcodeSelected&&0==t.UniqueNameListing){t.BarCodeData[0].ParentUniqueId,t.BarCodeData[0].LocationName;t.BarCodeData[0].LocationId;t.BarCodeData[0].AssetUniqueName,t.BarCodeData[0].AvailableItems}else if("BarCodeSearch"==t.BarcodeSelected&&1==t.UniqueNameListing){t.BarCodeData[0].ParentUniqueId,t.BarCodeData[0].LocationName;t.BarCodeData[0].LocationId;this.BarCodeData[0].AssetCatalogueId,t.BarCodeData[0].AvailableItems}else{t.iselectVal,t.LocationName;t.location_id;t.assetUniqueItem,t.hdnQuantity}t.fromDate,t.toDate,l=t.StartTime,t.EndTime,t.uniqueProductName;0!=t.CheckeduniqueIds.length||1==t.UniqueNameListing||"Product"==t.IsProduct?"assign"==e?t.$router.push({name:"AddAssetAssignment",params:{reqForm:"checkAssetAvailability",items:t.BarCodeData[0]}}):""!=t.txtBarcode?t.$router.push({path:"/AssetAssignment/AddCheckOutRequest"+t.urlroute}):t.$router.push({path:"/AssetAssignment/AddCheckOutRequest"+t.urlroute+a}):t.ShowAlert(t.$t("OneItemRequired"),"failure",t.$t("Alert"))},GetddlLocation:async function(){var e=this,t="reqForm=";await l["a"].GetLocationByCompanyId(t).then((function(t){e.FindalLocationArray=[],e.LocationDataTree=JSON.parse(t.data).data,e.LocationDataTree.forEach(a=>{var s=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==s.length&&null==a.PARENT_LOCATION_ID){let s=a.COMPANY_LOCATION_ID,i=e.getChildLocation(s,a,JSON.parse(t.data).data);e.FindalLocationArray.push(i)}}),e.options=e.FindalLocationArray}))},getChildLocation:function(e,t,a){let s=this,i={};i={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let l=i;var o=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let r=[];return o.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var l=r.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==l.length){var o=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=o&&o.length>0){let i=s.getChildLocation(t,e,a);r.push(i)}else i={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},r.push(i)}}),l.children=r,l},GetddlProduct:async function(e){var t=this;t.assetUniqueData=[],t.assetUniqueItem="";var a=`id=&issueTo=&locationId=${t.location_id}&requestFrom=TRANSFER`;await l["a"].GetAssetCatalogWithContainer(a).then((function(a){let s={};var i=[];a.data.forEach(e=>{s={name:e.NAME,value:e.ASSET_CATALOGUE_ID},i.push(s)}),t.productDDLData=i,t.GetAssetUniqueData(e),t.filterName=t.LocationDataTree.find(t=>t.COMPANY_LOCATION_ID==parseInt(e)),t.btnCheckAvailability=!0,t.btnCheckout=!1,t.LocationName=t.filterName.LOCATION_NAME,t.GetUniqueProductIdData=[],t.Product_Id=null,t.statusReserved=!1,t.statusUnAvailable=!1,t.fromDate=new Date,t.StartTime=new Date,t.toDate=new Date,t.addHoursToDate(t.EndTime,1)}))},GetAssetUniqueData:async function(e){var t=this;if(t.isLoading=!0,null==e)return t.isLoading=!1,t.assetUniqueItem="",void t.ShowAlert(t.$t("Please Select location First"),"warning",t.$t("Alert"));var a=`assetCatalogId=&name=${t.assetUniqueItem}&issueTo=&locationId=${e}&requestFrom=CHECKASSETAVAILABILITY&assetType=`;await l["a"].GetUniqueAssetItems(a).then((function(e){if(null!=e.data){let s={};var a=[];e.data.forEach(e=>{s={name:e.Name,value:e.Value},a.push(s)}),t.assetUniqueData=a}""==t.assetUniqueItem?t.IsDDLShowHide=!1:t.IsDDLShowHide=!0})),t.isLoading=!1},checkAssetAvailability:function(){this.GetAssetAvailability()},searchByProduct:function(e){this.SearchByBarcode=!1,"barcode"==e?(this.SearchByBarcode=!0,this.CheckedCheckBox="SearchProductName",this.BarcodeSelected="BarCodeSearch"):(this.SearchByBarcode=!1,this.CheckedCheckBox="SearchProducts",this.BarcodeSelected="ProductSearch"),this.ClearhdnIdsOnChange()},SearchassestBarcode:function(){var e=this;e.isLoading=!0,this.$refs.BarCodeForm.validate().then(t=>{if(t){var a=`id=&isView=1&barcode=${this.txtBarcode}&assetType=&assetUniqueId=&selfCheckout=&reqFrom=CheckBarcodeAssetAvailability&isFor=search&isuniqueSearch=&issueTo=&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;l["a"].GetCompanyAssestCatalogsDetalis(a).then(t=>{if(t.data.length>0){var a=e.options.filter(e=>e.id==t.data[0].LocationId);a.length>0?(e.tblassestgroupinfoIsShow=!0,e.BarCodeData=t.data,e.RequestFrom="",e.isLoading=!1):(e.isLoading=!1,e.ShowAlert(e.$t(`${t.data[0].LocationName} Location's Product not Assigning To ${e.UserName}`),"warning",!0,e.$t("Alert")))}else e.ShowAlert(e.$t("NoRecordfound"),"warning",!0,e.$t("Alert")),e.isLoading=!1})}else e.isLoading=!1})},CleareAssestBarcode:function(){this.txtBarcode="",this.tblassestgroupinfoIsShow=!1},searchByItemName:function(e){this.IsProductName=!1,"ProductName"==e?(this.IsProductName=!0,this.IsProduct="ProductName"):(this.IsProductName=!1,this.IsProduct="Product")},itemDDLShowHide:function(){this.IsDDLShowHide=!this.IsDDLShowHide},uniqueItemChange:function(e){this.iselectVal=e.value,this.assetUniqueItem=e.name,this.IsDDLShowHide=!1,this.getRelations()},ClosePOPuP:function(e){this.$parent.ClosePOPuP(e)},searchfilter:function(){this.SearchassestBarcode()},getRelations:function(){var e=this,t="",a=e.IsProduct;e.fromDate,e.toDate,e.startTime,e.endTime;"ProductName"==a||(t=e.iselectVal);var s=`id=${t}&type=${a}`;l["a"].GetRelatedAssets(s).then(e=>{JSON.parse(e.data.result)})},resetAvailabilityStatus:function(){var e=this;e.statusAvailable=!0,e.btnCheckAvailability=!0,e.statusReserved=!1,e.noOfAvailableItems=null,e.statusUnAvailable=!1,e.btnReserve=!1,e.btnCheckout=!1,e.btnAssign=!1,e.divAvailabilityStatusIsShow=!1},ClearhdnIdsOnChange:function(){var e=this;e.txtBarcode="",e.Product_Id="",e.assetUniqueItem="",e.location_id=null,e.tblassestgroupinfoIsShow=!1,e.BarCodeData="",e.noOfAvailableItems="",e.divAvailabilityStatusIsShow=!1,e.GetUniqueProductIdData=[]},getMinDate(){return new Date},togglePopoverClick(){$("#toggles").click()},togglePopoverClick1(){$("#toggled").click()}}}),S=I,A=(a("fe5c"),Object(d["a"])(S,s,i,!1,null,null,null));t["a"]=A.exports},"69d3":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"modal"}},[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title",attrs:{name:"header"}},[e._v(e._s(e.$t("Search")))]),t("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(t){return e.$emit("close")}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[t("div",{staticClass:"form-content"},[e.showListData?t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divshowSearchCriteriaList"}},[e.filterData.length>=10?t("div",{staticClass:"form-group is-invalid"},[t("div",{staticClass:"invalid-feedback alert alert-danger",staticStyle:{display:"block"},attrs:{role:"alert"}},[e._v(" "+e._s(e.$t("NotAddMoreThanTen"))+" "),t("a",{attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-close float-right text-danger"})])])]):e._e(),t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(" "+e._s(e.$t("Filter")))]),e.filterData.length<10?t("small",{staticClass:"float-right"},[t("a",{attrs:{href:"javascript:;",title:e.$t("Add")},on:{click:function(t){e.showListData=!1,e.showAddData=!0,e.filterName="",e.filterId=0,e.conditionText=""}}},[t("em",{staticClass:"fa fa-plus pr-2"}),e._v(" "+e._s(e.$t("Add"))+" ")])]):e._e()])]),t("div",{staticClass:"listing mt-2"},[t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline",attrs:{"aria-describedby":"serachfilter"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticStyle:{"min-width":"480px"},attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("Name")))])]),t("th",{staticClass:"text-center",staticStyle:{"min-width":"70px"},attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("Edit")))])]),t("th",{staticClass:"text-center",staticStyle:{"min-width":"70px"},attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("Apply")))])]),t("th",{staticClass:"text-center",staticStyle:{"min-width":"70px"},attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("Delete")))])])])]),t("tbody",[e._l(e.$parent.appliedFilter,(function(a,s){return t("tr",{key:s},[t("td",[e._v(e._s(a.field_name))]),t("td",{staticClass:"text-center single-action"},[t("a",{staticClass:"pr-2",attrs:{href:"javascript:;",title:e.$t("Edit")},on:{click:function(t){return e.EditFilter(a,"NotSaved")}}},[t("em",{staticClass:"fa fa-pencil text-success action-icon",attrs:{"aria-hidden":"true"}})])]),t("td",{staticClass:"text-center single-action"},[t("a",{staticClass:"pr-2",attrs:{href:"javascript:;",title:e.$t("Apply")},on:{click:function(t){return e.ApplyFilter(a.searchCondition)}}},[t("em",{class:{"fa fa-check action-icon":!0,"text-success":e.$parent.searchCondition==a.searchCondition,"text-primary":e.$parent.searchCondition!=a.searchCondition},attrs:{"aria-hidden":"true"}})])]),t("td",{staticClass:"text-center single-action"},[t("a",{attrs:{href:"javascript:;",title:e.$t("Delete")},on:{click:function(t){return e.ClearFilter()}}},[t("em",{staticClass:"fa fa-trash text-danger action-icon",attrs:{"aria-hidden":"true"}})])])])})),e._l(e.filterData,(function(a,s){return t("tr",{key:s},[t("td",[e._v(e._s(a.FILTER_NAME))]),t("td",{staticClass:"text-center single-action"},[t("a",{staticClass:"pr-2",attrs:{href:"javascript:;",title:e.$t("Edit")},on:{click:function(t){return e.EditFilter(a,"")}}},[t("em",{staticClass:"fa fa-pencil text-success action-icon",attrs:{"aria-hidden":"true"}})])]),t("td",{staticClass:"text-center single-action"},[t("a",{staticClass:"pr-2",attrs:{href:"javascript:;",title:e.$t("Apply")},on:{click:function(t){return e.ApplyFilter(a.DATABASE_CONDITION)}}},[t("em",{class:{"fa fa-check action-icon":!0,"text-success":e.$parent.searchCondition==a.DATABASE_CONDITION,"text-primary":e.$parent.searchCondition!=a.DATABASE_CONDITION},attrs:{"aria-hidden":"true"}})])]),t("td",{staticClass:"text-center single-action"},[t("a",{attrs:{href:"javascript:;",title:e.$t("Delete")},on:{click:function(t){return e.deleteFilter(a)}}},[t("em",{staticClass:"fa fa-trash text-danger action-icon",attrs:{"aria-hidden":"true"}})])])])})),null!=e.filterData&&0!=e.filterData.length||void 0!=e.$parent.appliedFilter&&null!=e.$parent.appliedFilter&&(void 0==e.$parent.appliedFilter||0!=e.$parent.appliedFilter.length)?e._e():t("tr",[t("td",{staticClass:"text-center text-danger py-3",attrs:{colspan:"3"}},[e._v(e._s(e.$t("NoRecordfound")))])])],2)])])])]):e._e(),e.showAddData?t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divManageSearchCriteria"}},[t("Form",{ref:"form",scopedSlots:e._u([{key:"default",fn:function({values:a,meta:s}){return[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 px-0"},[t("div",{staticClass:"form-group mb-0"},[t("label",[e._v(" "+e._s(e.$t("Name"))+": "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{attrs:{name:"name",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filterName,expression:"filterName",modifiers:{trim:!0}}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"name",maxlength:"100",type:"text"},domProps:{value:e.filterName},on:{input:function(t){t.target.composing||(e.filterName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a[0]?t("span",{staticClass:"invalid-feedback",attrs:{name:"name"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1)]),t("div",{staticClass:"listing mt-2 below768 p-0"},[t("div",{staticClass:"table-responsive overflow-visible"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline",attrs:{"aria-describedby":"search-filter-table"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticStyle:{"min-width":"110px","max-width":"110px"},attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("fieldName")))])]),t("th",{staticStyle:{"min-width":"160px","max-width":"110px"},attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("ConditionalOperator")))])]),t("th",{staticStyle:{"min-width":"350px"},attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("Value")))])]),t("th",{staticClass:"text-center",attrs:{scope:"col"}},[t("a",{staticClass:"text-success",attrs:{href:"javascript:void(0)"},on:{click:e.AddSearchData}},[t("em",{staticClass:"fa fa-plus pr-2"}),e._v(" "+e._s(e.$t("Add"))+" ")])])])]),t("tbody",e._l(e.filterItemData,(function(a,s){return t("tr",{key:s},[t("td",[t("Field",{attrs:{name:"field_name"+(s+1),rules:{required:!0},label:"Field Name"},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.field_name,expression:"item.field_name"}],class:{"form-control disableAria":!0,"is-invalid":i[0]},attrs:{name:"field_name"+(s+1)},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"field_name",t.target.multiple?s:s[0])},function(t){return e.GetOperatorData(t,a,s)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.fieldNameData,(function(a,s){return t("option",{key:s,domProps:{value:String(a.custom_field_id)}},[e._v(" "+e._s(e.GetFieldDisplayName(a.label,a.display_name)))])}))],2)]}}],null,!0)})],1),t("td",[t("Field",{attrs:{name:"operator"+(s+1),rules:{required:!0},label:"operator"},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.operator,expression:"item.operator"}],class:{"form-control":!0,disableAria:!0,"is-invalid":i[0]},attrs:{name:"operator"+(s+1)},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"operator",t.target.multiple?s:s[0])},function(t){return e.ShowFieldValue(t,a,s)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(a.operator_list,(function(a,s){return t("option",{key:s,domProps:{value:String(a.OPERATOR_ID)}},[e._v(" "+e._s(a.OPERATOR_DISPLAY_NAME))])}))],2)]}}],null,!0)})],1),t("td",{staticClass:"overflow-visible"},["date"==a.dt_code||"datetime"==a.dt_code?t("div",{class:{"col-5 p-0 float-left pr-1":"between"==a.operator_expression}},[t("Field",{attrs:{name:"date"+a.label+s,rules:{required:a.is_required},label:a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return["date"==a.dt_code||"datetime"==a.dt_code?t("v-date-picker",{staticClass:"input-group",class:{disableAria:!0,"is-invalid":("date"==a.dt_code||"datetime"==a.dt_code)&&i[0]},attrs:{popover:e.popover,"minute-increment":5,masks:e.masks,name:"date"+a.label+s,value:e.$options.filters.formatDate(a.value)},on:{dayclick:function(t){return e.SetValues(t,a)}},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({staticClass:"form-control",domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}}):e._e()]}}],null,!0)})],1):e._e(),"date"!=a.dt_code&&"datetime"!=a.dt_code||"between"!=a.operator_expression?e._e():t("div",{staticClass:"col-2 float-left",staticStyle:{"margin-top":"6px"}},[e._v(" "+e._s(e.$t("And","And")))]),"date"!=a.dt_code&&"datetime"!=a.dt_code||"between"!=a.operator_expression?e._e():t("div",{class:{"input-group":!0,"col-5 p-0 float-left":"between"==a.operator_expression}},[t("Field",{attrs:{name:"second"+a.label+s,rules:{required:a.is_required},label:a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return["date"==a.dt_code||"datetime"==a.dt_code?t("v-date-picker",{ref:"SecondDatePicker",refInFor:!0,staticClass:"input-group",class:{disableAria:!0,"is-invalid":("date"==a.dt_code||"datetime"==a.dt_code)&&i[0]},attrs:{popover:e.popover,"minute-increment":5,masks:e.masks,name:"second"+a.label+s},on:{dayclick:function(t){return e.SetValues(t,a,"second")}},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({staticClass:"form-control",domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.second_value,callback:function(t){e.$set(a,"second_value",t)},expression:"item.second_value"}}):e._e()]}}],null,!0)})],1),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code?t("Field",{attrs:{name:a.label+s,rules:{required:a.is_required},label:"Value"},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],class:{"form-control disableAria":!0,"is-invalid":i[0],"col-5 float-left":"between"==a.operator_expression},attrs:{id:a.label+s,name:a.label+s,type:"text"},domProps:{value:a.value},on:{input:[function(t){t.target.composing||e.$set(a,"value",t.target.value)},function(t){return e.SetValues(t,a)}]}})]}}],null,!0)}):e._e(),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code&&"between"==a.operator_expression?t("div",{staticClass:"col-2 float-left",staticStyle:{"margin-top":"6px"}},[e._v(" "+e._s(e.$t("And","And"))+" ")]):e._e(),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code&&"between"==a.operator_expression?t("Field",{attrs:{name:"second"+a.label+s,rules:{required:a.is_required},label:"second"+a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.second_value,expression:"item.second_value"}],class:{"form-control disableAria":!0,"is-invalid":i[0],"col-5 float-left":"between"==a.operator_expression},attrs:{type:"text",id:a.label,name:"second"+a.label+s},domProps:{value:a.second_value},on:{input:[function(t){t.target.composing||e.$set(a,"second_value",t.target.value)},function(t){return e.SetValues(t,a,"second")}]}})]}}],null,!0)}):e._e(),"textarea"==a.dt_code?t("Field",{attrs:{name:"textarea"+a.label+s,rules:{required:a.is_required},label:a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("textarea",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],class:{"form-control":!0,"is-invalid":"textarea"==a.dt_code&&s[0]},attrs:{id:a.label},domProps:{value:a.value},on:{change:function(t){return e.SetValues(t,a)},input:function(t){t.target.composing||e.$set(a,"value",t.target.value)}}})]}}],null,!0)}):e._e(),"radio"==a.dt_code?t("div",{staticClass:"form-control pl-4 border-0 bg-transparent"},[t("div",{staticClass:"form-check form-check-inline"},e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(s,i){return t("div",{key:i,staticClass:"form-check form-check-inline custom-control mx-4 pl-2 custom-radio",attrs:{key:s.name}},[t("Field",{attrs:{name:"rdo_"+a.custom_field_id+s.value,rules:{required:a.is_required},label:a.label}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],staticClass:"dynamic form-check-input custom-control-input",attrs:{id:"rdo_"+a.custom_field_id+s.value,name:"rdo_"+a.custom_field_id+s.value,"data-resource":s.name,type:"radio"},domProps:{value:s.value,checked:s.value==a.value,checked:e._q(a.value,s.value)},on:{change:[function(t){return e.$set(a,"value",s.value)},function(t){return e.SetValues(t,a)}]}})]),t("label",{staticClass:"custom-control-label universalradio-custom-control-label pl-0 pt-0 dynamic",attrs:{for:"rdo_"+a.custom_field_id+s.value}},[e._v(e._s(s.name))])],1)})),0)]):e._e(),"checkbox"==a.dt_code?t("div",{staticClass:"form-control pl-0 border-0 bg-transparent"},[t("div",{staticClass:"form-check form-check-inline"},e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(s,i){return t("div",{key:i,staticClass:"custom-control custom-checkbox"},[t("Field",{attrs:{name:"chk_"+a.custom_field_id+s.value,rules:{required:a.is_required},label:a.label}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.select_value,expression:"item.select_value"}],staticClass:"dynamic custom-control-input",attrs:{id:"chk_"+a.custom_field_id+s.value,name:"chk_"+a.custom_field_id+s.value,"data-resource-id":s.name,type:"checkbox"},domProps:{value:s.value,checked:Array.isArray(a.select_value)?e._i(a.select_value,s.value)>-1:a.select_value},on:{change:[function(t){var i=a.select_value,l=t.target,o=!!l.checked;if(Array.isArray(i)){var r=s.value,n=e._i(i,r);l.checked?n<0&&e.$set(a,"select_value",i.concat([r])):n>-1&&e.$set(a,"select_value",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(a,"select_value",o)},function(t){return e.SetValues(t,a)}]}})]),t("label",{staticClass:"custom-control-label universal-custom-control-label pl-2 pr-1 dynamic",attrs:{for:"chk_"+a.custom_field_id+s.value}},[e._v(e._s(s.name))])],1)})),0)]):e._e(),"Lookup"!=a.picklist_options||"select"!=a.dt_code||"custom"!=a.dropdown_type&&("normal"!=a.dropdown_type||"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression)?e._e():t("Field",{attrs:{name:"Multiselect"+a.label+s,rules:{required:a.is_required},label:a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("Multiselect",{class:{disableAria:!0,"is-invalid":"Lookup"==a.picklist_options&&"select"==a.dt_code&&"custom"==a.dropdown_type&&i[0]},attrs:{multiple:"IN"==a.operator_expression||"NOT IN"==a.operator_expression,name:"Multiselect"+a.label+s,placeholder:"Search a value",value:a.value,"filter-results":!1,searchable:!0,"track-by":"value","show-no-results":!1,"internal-search":!1,"clear-on-select":!1,"close-on-select":!0,options:"normal"==a.dropdown_type?e.MakeNormalArray(a.select_options):a.select_options,object:!0,label:"name",showNoOptions:!0},on:{"search-change":function(t){return e.onSearch(t,a)},select:function(t){return e.setSelectedValue(a,t)}},model:{value:a.select_value,callback:function(t){e.$set(a,"select_value",t)},expression:"item.select_value"}},[t("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v(" Type to search "+e._s(e.$t(a.label,a.display_name))+" ")])])]}}],null,!0)}),"Lookup"==a.picklist_options&&"select"==a.dt_code&&"normal"==a.dropdown_type&&"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression?t("Field",{attrs:{name:"select"+a.label+s,rules:{required:a.is_required}},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("select",{class:{"form-control disableAria":!0,"is-invalid":i[0]},attrs:{name:"select"+a.label+s},on:{change:function(t){return e.SetValues(t,a,s)}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.MakeNormalArray(a.select_options),(function(a,s){return t("option",{key:s,domProps:{value:a.value}},[e._v(e._s(a.name))])}))],2)]}}],null,!0),model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}}):e._e(),"Lookup"!=a.picklist_options&&"select"==a.dt_code&&"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression?t("Field",{attrs:{name:"select2"+a.label+s,rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("select",{class:{"form-control disableAria":!0,"is-invalid":i[0]},attrs:{name:"select2"+a.label+s},on:{change:function(t){return e.SetValues(t,a,s)}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(s){return null!=a.picklist_options?t("option",{domProps:{selected:a.value==s.value,value:s.value}},[e._v(" "+e._s(s.name)+" ")]):e._e()}))],2)]}}],null,!0),model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}}):e._e(),"Lookup"==a.picklist_options||null==a.picklist_options||"select"!=a.dt_code||"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression?e._e():t("Field",{attrs:{name:"Multiselect2"+a.label+s,rules:{required:a.is_required},label:"name"},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("Multiselect",{class:{disableAria:!0,"is-invalid":"Lookup"==a.picklist_options&&"select"==a.dt_code&&"custom"==a.dropdown_type&&s[0]},attrs:{multiple:"IN"==a.operator_expression||"NOT IN"==a.operator_expression,taggable:"IN"==a.operator_expression||"NOT IN"==a.operator_expression,placeholder:"Search a value",showNoOptions:!0,"filter-results":!1,searchable:!0,"track-by":"value","show-no-results":!1,"internal-search":!1,"clear-on-select":!1,"close-on-select":!0,options:e.MakeArray(a.picklist_options,a.dt_code),object:!0,label:"name"},on:{"search-change":function(t){return e.onSearch(t,a)},select:function(t){return e.setSelectedValue(a,t)}},model:{value:a.select_value,callback:function(t){e.$set(a,"select_value",t)},expression:"item.select_value"}},[t("span",{attrs:{slot:"noOptions"},slot:"noOptions"},[e._v(" Type to search "+e._s(e.$t(a.label,a.display_name))+" ")])])]}}],null,!0)})],1),t("td",{staticClass:"text-center single-action"},[0!=s?t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.DeleteSearchItem(a,s)}}},[t("em",{staticClass:"fa fa-trash action-icon text-danger"})]):e._e()])])})),0)])])]),e.isBlank(e.condition)?e._e():t("div",{staticClass:"col-12 float-left p-0 mt-2"},[t("div",{staticClass:"alert alert-secondary py-2"},[t("label",{staticClass:"font-weight-bold mb-0"},[e._v(e._s(e.$t("Condition"))+" :")]),t("label",{staticClass:"mb-0 ml-1"},[e._v(e._s(e.condition))])])]),t("div",{staticClass:"col-12 float-left p-0 mt-2 d-none"},[t("div",{staticClass:"alert alert-secondary py-2"},[t("label",{staticClass:"font-weight-bold mb-0"},[e._v(" Database Condition: ")]),t("label",{staticClass:"mb-0 ml-1"},[e._v(" "+e._s(e.databaseCondition)+" ")])])])])])]),t("div",{staticClass:"modal-footer text-right pr-0 pb-0"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[t("a",{class:{"btn btn-success mr-2":!0},attrs:{href:"javascript:;",title:e.$t("SaveAndSearch")},on:{click:function(t){return e.SubmitData("save",a,s)}}},[t("em",{staticClass:"fa fa-floppy-o pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("SaveAndSearch"))+" ")]),t("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;",title:e.$t("Search")},on:{click:function(t){return e.SubmitData("search",a,s)}}},[t("em",{staticClass:"fa fa-search pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Search"))+" ")]),t("a",{staticClass:"btn btn-primary delete-btn",attrs:{href:"javascript:;",title:e.$t("Cancel")},on:{click:function(t){e.showListData=!0,e.showAddData=!1,e.filterItemData=[],e.GetSearchFilterItemData()}}},[t("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])])]}}],null,!1,541094710)})],1):e._e()])])])])])])])])])},i=[],l=(a("14d9"),a("1115")),o={props:{submodulecode:{type:String,required:!0},modulename:{type:String,required:!0},callbackfunction:{type:Function}},data:function(){return{filterData:[],showListData:!0,showAddData:!1,filterItemData:[],fieldNameData:[],options:null,submited:!1,databaseCondition:"",condition:"",filterName:"",validationForName:"",filterId:0,isDefault:!1,FormatForSecond:"",isFirstTime:!1,exitstingFilterNameArray:[],ApiURL:"",BaseUrl:"",ImageVal:"Image",popover:{visibility:"click"},masks:{input:"MM-DD-YYYY",CompanyType:""}}},created:async function(){await this.GetSearchFilterData(),await this.GetSearchFilterItemData(),await this.GetFieldNameData()},methods:{IsExtraMapFeature:function(){var e=this;l["a"].IsExtraMapFeature().then((function(t){e.CompanyType="",null!=t.data&&""!=t.data?e.CompanyType=t.data:e.CompanyType="normal"}))},MakeArray:function(e,t){var a=[],s=String(e).split(",");if("radio"==t||"checkbox"==t){if(s.length>0)for(var i of s)if(i.split("|").length>1){var l={name:i.split("|")[0],value:i.split("|")[1]};a.push(l)}else{l={name:i,value:i};a.push(l)}}else if(s.length>0)for(var i of s){l={name:i,value:i.trim()};a.push(l)}return a},GetLocalizedValue:function(e,t){try{if(this.isBlank(t)){var a=this.$t(String(e));return a!=String(e)?a:(a=this.$t(String(e)),a||/^\s*$/.test(a)?a:e)}a=this.$t(String(t));return a!=String(t)?a:(a=this.$t(String(t)),a||/^\s*$/.test(a)?a:t)}catch(s){console.log(s)}},MakeNormalArray:function(e){if(e)try{return JSON.parse(e)}catch(t){return e}else e=[]},isBlank:function(e){return!e||/^\s*$/.test(e)},returnDateObject:function(e){var t=null;return e=void 0==e?"":e,""!=e&&(t=new Date(Date.parse(e))),{format:String(Globalize.culture().calendar.patterns.d).toUpperCase(),useStrict:!0,useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:t,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},GetValidationF:function(e){var t=this;if(null!=t.filterName&&""!=t.filterName&&!t.submited)return this.$validator.reset(),e;var a={};return e.is_required&&(a["required"]=!0),e.length>0&&("textarea"==e.dt_code?a["max"]=200:a["max"]=e.length),"email"==e.validation_type&&(a["email"]=!0),"date"!=e.dt_code&&"datetime"!=e.dt_code||(a["date_format"]=String(Globalize.culture().calendar.patterns.d).toUpperCase()),"decimal"==e.dt_code&&(a["decimal"]=2),"int"!=e.dt_code&&"bigint"!=e.dt_code||(a["numeric"]=!0),"url"==e.dt_code&&(a["url"]="require_protocol"),null!=e.regular_expression&&""!=e.regular_expression&&(a["regex"]=e.regular_expression),t.submited=!1,a},onSearch:function(e,t){this.searchSelectData(e,this,t)},searchSelectData:function(e,t,a){this.ShowSearchData(e,t,a)},ShowSearchData:function(e,t,a,s){"undefined"==typeof s&&(s=0);var i="id=&moduleName="+t.modulename+"&type="+a.field_code;"fill"==a.dependent_type&&(i+="&refId="+s),l["a"].getDDLData(i+"&search="+escape(e)).then(e=>{var t=[];return e.data,""!=e.data&&(t=e.data),a.select_options=t.DATA})},setSelectedValue:function(e,t){var a=this;try{setTimeout(()=>{e.value=e.select_value,a.SetCondition()},100)}catch(s){}},AddSearchData:function(){this.GetSearchFilterItemData()},DeleteSearchItem:function(e,t){var a=this,s=a.$t("ConfirmDelete");a.confirmR(s,!0,null,(function(){a.filterItemData.splice(t,1),a.SetCondition()}))},GetSearchFilterData:async function(){var e=this,t=`companyId=${e.GetUserInfo.CompanyId}&userId=${e.GetUserInfo.ID}&moduleName=${e.modulename}&subModuleCode=${e.submodulecode}`;this.filterData=[],await l["a"].SearchCriteriaListing(t).then((function(t){var a=t.data;null!=a&&(e.filterData=a.DATA)}))},GetFieldNameData:async function(){var e=this,t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode;this.fieldNameData=[],await l["a"].GetFieldName(t).then((function(t){var a=t.data;if(null!=a){if("nonlocating"!=e.CompanyType)return e.fieldNameData=a.DATA.length>0?a.DATA:void 0;a.DATA.forEach((t,s)=>{if("parent_sub_status_id"==t.label||"sub_status_id"==t.label)return a.DATA.splice(s,1),e.fieldNameData=a.DATA})}}))},GetOperatorData:async function(e,t,a){var s=this,i=e.target.value,o=$.grep(this.fieldNameData,(function(e,t){return e.custom_field_id==i})),r="";if(t.dt_code="",t.picklist_options=[],t.label="",t.dropdown_type="",t.select_options="",t.select_value="",t.length=0,t.operator="",t.field_code="",t.second_value="",t.display_name="",t.is_required=!0,o.length>0){if(r=o[0].sql_type,t.dt_code=o[0].dt_code,t.picklist_options=o[0].picklist_options,t.label=o[0].label,t.dropdown_type=o[0].dropdown_type,"normal"==o[0].dropdown_type&&"Lookup"==o[0].picklist_options&&"EVENT.event_reminder_id"==o[0].name){var n=s.MakeNormalArray(o[0].select_options);$.each(n,(function(e,t){n[e].name=s.$t(t.name)})),t.select_options=n}else t.select_options=o[0].select_options;t.length=o[0].length,t.display_name=o[0].display_name,t.field_code=o[0].field_code,t.is_required=o[0].is_required,t.validation_type=o[0].validation_type}var c="dataType="+r+"&customField="+i;t.operator_list=[],await l["a"].GetOperator(c).then((function(e){var a=e.data;if(null!=a)return t.operator_list=a.DATA})),t.field_name=i,t.value="",this.SetCondition()},SetValues:function(e,t,a){if("date"==t.dt_code||"datetime"==t.dt_code||"decimal"==t.dt_code){var s=/^(\+|-)?(\d*\.?\d*)$/;if(s.test(t.value)||"decimal"!=t.dt_code||(t.value=""),s.test(t.second_value)||"decimal"!=t.dt_code||(t.second_value=""),"second"==a){var i=t.second_value?this.$options.filters.formatDate(t.second_value):t.second_value;t.second_value=i}else if("decimal"==t.dt_code){i=t.value;t.value=i,t.second_value=i}else if("FSM_WORKORDER"==this.submodulecode||"SA_Scheduled_StartTime"!=t.label&&"SA_Scheduled_EndTime"!=t.label&&"SA_Actual_StartTime"!=t.label&&"SA_Actual_EndTime"!=t.label&&"ArrivalWindowStartTime"!=t.label&&"ArrivalWindowEndTime"!=t.label){i=t.value?this.$options.filters.formatDate(t.value):t.value;t.value=i,t.second_value=i}else{var i=t.value?this.$options.filters.formatDatee(t.value):t.value;t.value=i,t.second_value=i}}else"second"==a?t.second_value=e.target.value:e.target.value&&(t.value=e.target.value);this.SetCondition()},SetCondition:function(){var e=this,t="",a="",s="";$.each(e.filterItemData,(function(i,l){i>0&&(t+=" And ",a+=" and ");var o=l.field_name,r=$.grep(e.fieldNameData,(function(e,t){return e.custom_field_id==o}));if("undefined"!=typeof r&&r.length>0)if(t+=e.GetLocalizedValue(r[0].label,r[0].display_name),"date"==r[0].dt_code||"datetime"==r[0].dt_code)if("datetimeoffset"==r[0].actual_data_type){var n="'+00:00'";a+=`convert(date, replace(${r[0].name}, ${n}, ''), 23)`}else a+="convert(date, "+r[0].name+", 23)";else a+=""+r[0].name.trimEnd();var c=l.operator;if(r=$.grep(l.operator_list,(function(e,t){return e.OPERATOR_ID==c})),"undefined"!=typeof r&&r.length>0&&(t=t+" "+r[0].OPERATOR_DISPLAY_NAME,s=r[0].OPERATOR_EXPRESSION,a+=" "+s),!e.isBlank(l.value)){var d=l.value,u=l.value;if("select"==l.dt_code&&"normal"==l.dropdown_type&&"IN"!=s&&"NOT IN"!=s){var m=e.MakeNormalArray(l.select_options);r=$.grep(m,(function(e,t){return e.value==l.value})),"undefined"!=typeof r&&r.length>0&&(d=r[0].name)}else if("select"==l.dt_code&&"custom"==l.dropdown_type||"select"==l.dt_code&&"normal"==l.dropdown_type&&("IN"==s||"NOT IN"==s))Array.isArray(l.value)?(u=e.createString(l.value,"value"),d=e.createString(l.value,"name")):(u=l.value.value?l.value.value:l.value,d=l.value.name),"IN"!=s&&"NOT IN"!=s||(u="("+u+")");else if("select"==l.dt_code&&"custom"!=l.dropdown_type&&"normal"!=l.dropdown_type)if("IN"==s||"NOT IN"==s)Array.isArray(l.value)?(u=e.createString(l.value,"value"),d=e.createString(l.value,"name")):(u=l.value.value,d=l.value.name),u="("+u+")";else{m=e.MakeArray(l.picklist_options,l.dt_code);r=$.grep(m,(function(e,t){return e.value==l.value})),"undefined"!=typeof r&&r.length>0&&(d=r[0].name),u=" '"+u+"'"}else if("date"==l.dt_code)"between"==s?(d=l.value+" And "+l.second_value,u="'"+l.value+"' and '"+l.second_value+"'"):(d=l.value,u="'"+l.value+"'");else if("radio"==l.dt_code){m=e.MakeArray(l.picklist_options,l.dt_code);r=$.grep(m,(function(e,t){return e.value==l.value})),"undefined"!=typeof r&&r.length>0&&(d=r[0].name,u="'"+r[0].value+"'")}else if("Like"==s||"Not Like"==s)u="'%"+l.value+"%'";else if("Starts With"==s)u="'"+l.value+"%'",a=a.replcae("Starts With","like");else if("Ends With"==s)u="'%"+l.value+"'",a=a.replcae("Ends With","like");else if("between"==s)d=l.value+" And "+l.second_value,u="'"+l.value+"' and '"+l.second_value+"'";else if("IN"==s||"NOT IN"==s){for(var p=String(l.value).split(","),f="",h=0;h<p.length;h++)h>0&&(f+=" , "),f+="'"+p[h]+"'";u="("+f+")"}else u="'"+u+"'";"select"==l.dt_code&&"normal"==l.dropdown_type&&"event_location"==l.label?a+=" '"+u+"'":"select"==l.dt_code&&"normal"==l.dropdown_type&&"forecast_category_name"==l.label?a+=s.indexOf("IN")>-1?" ("+d+")":" '"+d+"'":"select"==l.dt_code&&"normal"==l.dropdown_type&&"display_icon"==l.label||"select"==l.dt_code&&"normal"==l.dropdown_type&&"contract_currency"==l.label?a+=s.indexOf("IN")>-1?" "+u:" '"+u+"'":a+=" "+u,t=t+" "+d}})),this.condition=t,this.databaseCondition=a},ShowFieldValue:function(e,t,a){var s=e.target.value,i=$.grep(t.operator_list,(function(e,t){return e.OPERATOR_ID==s})),l="";i.length>0&&(l=i[0].OPERATOR_EXPRESSION),t.showSecondValue="between"==l,t.operator=s,t.value="",t.select_value=[],t.operator_expression=l,this.SetCondition()},GetSearchFilterItemData:async function(){var e={field_name:"",dt_code:"",operator:"",operator_expression:"",operator_list:[],first_value:"",second_value:"",showSecondValue:!1,picklist_options:[],label:"",display_name:"",dropdown_type:"",select_options:"",length:0,field_code:"",select_value:"",is_required:!0};this.filterItemData.push(e)},ApplyFilter:function(e){this.databaseCondition=e,this.$parent.searchCondition=this.databaseCondition,"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction?(this.$emit("FilterData",1,10,"","",this.databaseCondition,this.filterItemData),this.$parent.appliedFilter=[],this.callbackfunction()):(this.$parent.PageSize=10,this.$parent.fetchRecords()),this.$emit("close")},EditFilter:function(e,t){this.showListData=!1,this.showAddData=!0,"NotSaved"!=t?(this.filterId=e.FILTER_ID,this.EditSearchFilterData(this.filterId)):(this.filterName=this.$parent.appliedFilter[0].field_name.split("(")[0],this.filterItemData=this.$parent.appliedFilter[0],this.SetCondition())},deleteFilter:function(e){this.filterId=e.FILTER_ID;var t=this;t.confirmR(t.$t("ConfirmDeleteFilter"),!0,null,(function(){var a="id="+e.FILTER_ID+"&moduleName="+t.modulename+"&subModuleCode="+t.submodulecode+"&isDelete=1";l["a"].SearchCriteriaById(a).then((function(a){var s=a.data;null!=s&&"SUCCESS"==s.MSG&&(t.GetSearchFilterData(),e.DATABASE_CONDITION==t.$parent.searchCondition&&(t.$parent.searchCondition="","undefined"!=typeof t.callbackfunction&&null!=t.callbackfunction?t.callbackfunction():t.$parent.fetchRecords()),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Filter")]),"success",!0,t.$t("Alert")))}))}))},checkEncodeURI(e){return/\%/i.test(e)},EditSearchFilterData:function(e){var t=this,a="id="+e+"&moduleName="+this.modulename+"&subModuleCode="+this.submodulecode;t.filterItemData=[],l["a"].SearchCriteriaById(a).then((function(a){var s=a.data;if(null!=s){var i=s.DATA,l=$.grep(i,(function(t,a){return t.FILTER_ID==e})),o=t.checkEncodeURI(l[0].DATABASE_CONDITION);o||(t.databaseCondition=l[0].DATABASE_CONDITION),t.filterName=l[0].FILTER_NAME,t.condition=l[0].FILTER_CONDITION,t.isDefault=l[0].IS_DEFAULT,$.each(i,(function(e,a){var s=a.FIRST_VALUE,i=a.SECOND_VALUE;"date"==a.DT_CODE&&a.OPERATOR_EXPRESSION;var l=[];if("select"!=a.DT_CODE||"normal"!=a.DROPDOWN_TYPE&&(null!=a.DROPDOWN_TYPE||"Lookup"==a.PICKLIST_OPTIONS)||"IN"!=a.OPERATOR_EXPRESSION&&" NOT IN"!=a.OPERATOR_EXPRESSION)l="Lookup"==a.PICKLIST_OPTIONS||"IN"!=a.OPERATOR_EXPRESSION&&" NOT IN"!=a.OPERATOR_EXPRESSION?t.MakeNormalArray(a.SELECT_OPTIONS):t.MakeArray(s.replcae(/'/g,""),a.dt_code);else{var o=t.MakeArray(s.replcae(/'/g,""),a.dt_code);$.each(o,(function(e,s){if(-1==a.SELECT_OPTIONS.indexOf("[{")&&a.SELECT_OPTIONS.length>0){var i=a.SELECT_OPTIONS.split(","),o=[],r=[];$.each(i,(function(e,t){var a={name:t,value:t};o.push(a)})),r=o.filter((function(e){return e.value==s.value}))}else r=t.MakeNormalArray(a.SELECT_OPTIONS).filter((function(e){return e.value==s.value}));r.length>0&&l.push(r[0])}))}var r={field_name:a.FIELD_ID,dt_code:a.DT_CODE,operator:a.OPERATOR_ID,operator_expression:a.OPERATOR_EXPRESSION,operator_list:t.MakeNormalArray(a.OPERATOR_LIST),value:s,second_value:i,showSecondValue:!t.isBlank(a.SECOND_VALUE),picklist_options:a.PICKLIST_OPTIONS,label:a.LABEL,dropdown_type:a.DROPDOWN_TYPE,select_options:"Lookup"==a.PICKLIST_OPTIONS||"IN"!=a.OPERATOR_EXPRESSION&&" NOT IN"!=a.OPERATOR_EXPRESSION?t.MakeNormalArray(a.SELECT_OPTIONS):a.SELECT_OPTIONS,length:a.LENGTH,field_code:a.FIELD_CODE,select_value:l,is_required:a.IS_REQUIRED};t.filterItemData.push(r)}))}}))},ClearFilter:function(){this.$parent.appliedFilter[0].searchCondition==this.$parent.searchCondition&&(this.$parent.searchCondition="","undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction?this.callbackfunction():this.$parent.fetchRecords()),this.$parent.appliedFilter=[]},SubmitData:function(e,t,a){var s=this;s.submited=!0,s.$refs.form.validate().then(a=>{for(var i in console.log(this.$refs.form.errors),a.errors){var o=document.getElementsByName(i);t[i]||0==o.length?delete a.errors[i]:t.hasOwnProperty(i)||delete a.errors[i]}if(a)if("search"==e)s.$parent.searchcondition=s.databaseCondition,""==s.filterName?s.filterItemData.field_name="New Created Filter(Not Saved)":s.filterItemData.field_name=s.filterName+"(Not Saved)",s.filterItemData.searchCondition=s.databaseCondition,s.$parent.appliedFilter=[],s.$parent.PageNumber=1,s.$parent.PageSize=10,s.$parent.SortBy="",s.$parent.SortExp="","undefined"!=typeof s.callbackfunction&&null!=s.callbackfunction?s.$emit("FilterData",1,10,"","",s.databaseCondition,s.filterItemData):s.$parent.fetchRecords(),s.$emit("close");else{var r=[];if(0==s.filterId&&(r=$.grep(s.filterData,(function(e,t){return e.FILTER_NAME==$.trim(s.filterName)}))),0==r.length){s.$parent.appliedFilter=[];var n=s.filterItemData,c=[];$.each(n,(function(e,t){var a=t.value,i=t.second_value;("select"==t.dt_code&&"custom"==t.dropdown_type||"select"==t.dt_code&&"Lookup"!=t.picklist_options&&("IN"==t.operator_expression||"NOT IN"==t.operator_expression)||"select"==t.dt_code&&"normal"==t.dropdown_type&&("IN"==t.operator_expression||"NOT IN"==t.operator_expression))&&(a=Array.isArray(t.value)?s.createString(t.value,"value"):t.value.value?t.value.value:t.value),"date"==t.dt_code&&!s.isBlank(i)&&t.operator_expression;var l={fieldId:t.field_name,operatorId:t.operator,firstValue:a,secondValue:i};c.push(l)}));var d={filterId:s.filterId,filterName:s.filterName,condition:s.condition,databaseCondition:s.databaseCondition,isDefault:s.isDefault,moduleName:s.modulename,subModuleCode:s.submodulecode,userId:s.GetUserInfo.ID,companyId:s.GetUserInfo.CompanyId,data:c},u=JSON.stringify(d);l["a"].SaveFilter(u).then((function(e){s.$parent.PageNumber=1,s.$parent.PageSize=10,s.$parent.SortBy="",s.$parent.SortExp="",s.$parent.searchCondition=s.databaseCondition,"undefined"!=typeof s.callbackfunction&&null!=s.callbackfunction?(s.$emit("FilterData",1,10,"","",s.databaseCondition,null),s.$parent.appliedFilter=[]):s.$parent.fetchRecords(),s.$emit("close")}))}else this.ShowAlert(this.$t("FilterNameAlreadyExist"))}})}}},r=o,n=a("2877"),c=Object(n["a"])(r,s,i,!1,null,null,null);t["a"]=c.exports},7132:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".disabled{color:#b3b3b3!important;cursor:not-allowed!important;pointer-events:none}select.form-control.disabled{opacity:.7;COLOR:#222!important;background:#f5f5f5}",""]),e.exports=t},"76aa":function(e,t,a){var s=a("89f9");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("0e165f8e",s,!0,{sourceMap:!1,shadowMode:!1})},"7aae":function(e,t,a){"use strict";a("9c39")},"7e1b":function(e,t,a){"use strict";a("c3f7")},"81a1":function(e,t,a){"use strict";a("d6e6")},"87de":function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal my-popups right fade",attrs:{id:"modalManageView",role:"dialog"}},[t("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("ManageView")))]),t("span",{staticClass:"user-guide"},[e.ShowLisiting?e._e():t("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"javascript:void(0)",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},on:{click:function(t){return e.ShowUserGuide()}}},[e._v("User Guide")]),t("div",{class:"divancuserguide collapse"+e.toggleUserGuide,attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("MangeViewUG1"))}})])])])]),t("div",{staticClass:"modal-body"},[t("loader",{attrs:{"is-visible":e.isLoading}}),e.ShowLisiting?t("div",{staticClass:"w-100 float-left"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.$t("ManageView")))]),t("small",{staticClass:"float-right"},[t("a",{attrs:{href:"javascript:;",title:e.$t("AddNew")},on:{click:function(t){return e.AddNewView()}}},[t("em",{staticClass:"fa fa-plus pr-1"}),e._v(" "+e._s(e.$t("AddNew"))+" ")]),t("a",{class:{disabled:e.isClearViewDisabled},attrs:{href:"javascript:;",title:e.$t("Clear")},on:{click:function(t){return e.ClearView()}}},[t("em",{staticClass:"fa fa-refresh pr-1 ml-3"}),e._v(" "+e._s(e.$t("Clear"))+" ")])])])]),t("div",{staticClass:"listing mt-3"},[t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"example","aria-describedby":"viewlayout"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("Name")))]),t("th",{staticClass:"text-center",attrs:{scope:"col",width:"100"}},[e._v(e._s(e.$t("Apply")))]),t("th",{staticClass:"text-center",attrs:{scope:"col",width:"100"}},[e._v(e._s(e.$t("Edit")))]),t("th",{staticClass:"text-center",attrs:{scope:"col",width:"100"}},[e._v(e._s(e.$t("Delete")))])])]),t("tbody",[e._l(e.ListingData,(function(a,s){return t("tr",{key:s},[t("td",[e._v(e._s(a.VIEW_NAME))]),t("td",{staticClass:"text-center single-action"},[0==a.IS_SLECTED_USER_ID?t("a",{attrs:{href:"javascript:;",title:e.$t("Apply")},on:{click:function(t){return e.ApplyView(a.VIEW_ID,a.VIEW_NAME)}}},[t("em",{staticClass:"fa fa-check text-info"})]):e._e(),a.IS_SLECTED_USER_ID>0?t("a",{attrs:{title:e.$t("Applied")}},[t("em",{staticClass:"fa fa-check text-success"})]):e._e()]),t("td",{staticClass:"text-center single-action"},[a.CAN_EDIT?t("a",{attrs:{href:"javascript:;",title:e.$t("Edit")},on:{click:function(t){return e.EditManageView(a.VIEW_ID)}}},[t("em",{staticClass:"fa fa-pencil text-success"})]):e._e(),a.CAN_EDIT?e._e():t("a",{staticClass:"disabled",staticStyle:{cursor:"no-drop !important"},attrs:{href:"javascript:;",title:" $t('Edit') "}},[t("em",{staticClass:"fa fa-pencil text-success disabled"})])]),t("td",{staticClass:"text-center single-action"},[a.CAN_EDIT?t("a",{attrs:{href:"javascript:;",title:e.$t("Delete")},on:{click:function(t){return e.deleteView(a.VIEW_ID)}}},[t("em",{staticClass:"fa fa-trash text-danger"})]):e._e(),a.CAN_EDIT?e._e():t("a",{class:{disabled:!a.CAN_EDIT},attrs:{href:"javascript:;",title:e.$t("Delete")},on:{click:function(t){return e.deleteView(a.VIEW_ID)}}},[t("em",{staticClass:"fa fa-trash text-danger disabled"})])])])})),e.noRecord?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[e._v(" "+e._s(e.$t("NoRecordfound")))])])]):e._e()],2)])])])]):e._e(),e.ShowLisiting?e._e():t("section",{staticClass:"tab mt-2"},[t("div",{staticClass:"tab-style"},[t("div",{staticClass:"tab_container"},[t("div",{staticClass:"responsive-tabs-container view_tab"},[t("ul",{staticClass:"nav nav-tabs all-tabs responsive-tabs cust"},[t("li",{staticClass:"nav-item general"},[t("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"javascript:void(0)"},on:{click:function(t){return e.ShowTabData(1)}}},[t("span",{staticClass:"numb"},[e._v("1")]),e._v(" "+e._s(e.$t("General"))+" ")])]),t("li",{staticClass:"nav-item selectcolumn"},[t("a",{class:{"nav-link":!0,disabled:""==e.ViewData.Name||2==e.ViewData.ApplyTo&&0==e.ListSelectedUsers.length},attrs:{"data-toggle":"tab",href:"javascript:void(0)"},on:{click:function(t){return e.ShowTabData(2)}}},[t("span",{staticClass:"numb"},[e._v("2")]),e._v(" "+e._s(e.$t("Select Column"))+" ")])]),t("li",{staticClass:"nav-item filter"},[t("a",{class:{"nav-link":!0,disabled:""==e.ViewData.Name||2==e.ViewData.ApplyTo&&0==e.ListSelectedUsers.length||0==e.SelectedItems.length},attrs:{"data-toggle":"tab",href:"javascript:void(0)"},on:{click:function(t){return e.ShowTabData(3)}}},[t("span",{staticClass:"numb"},[e._v("3")]),e._v(" "+e._s(e.$t("Filter"))+" ")])])]),t("Form",{ref:"ManageViewLayoutData"},[t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active",attrs:{id:"step1"}},[t("div",{staticClass:"container-fluid p-0",staticStyle:{"min-height":"416px"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"form-group"},[t("label",[e._v(" "+e._s(e.$t("ViewName"))+": "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.ViewData.Name,expression:"ViewData.Name",modifiers:{trim:!0}}],staticClass:"form-control",domProps:{value:e.ViewData.Name},on:{input:function(t){t.target.composing||e.$set(e.ViewData,"Name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),t("div",{staticClass:"col-lg-6 float-left"},[t("div",{staticClass:"col-12 float-left p-0"},[t("div",{staticClass:"form-group"},[t("label",[e._v(" "+e._s(e.$t("ApplyTo"))+": "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ViewData.ApplyTo,expression:"ViewData.ApplyTo"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customRadio",name:"viewapplyto",value:"1"},domProps:{checked:e._q(e.ViewData.ApplyTo,"1")},on:{change:function(t){return e.$set(e.ViewData,"ApplyTo","1")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"customRadio"}},[e._v("Only For Me")])]),"CA"==e.usertype?t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ViewData.ApplyTo,expression:"ViewData.ApplyTo"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customRadio2",name:"viewapplyto",value:"2"},domProps:{checked:e._q(e.ViewData.ApplyTo,"2")},on:{change:function(t){return e.$set(e.ViewData,"ApplyTo","2")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"customRadio2"}},[e._v(e._s(e.$t("Others")))])]):e._e(),"CA"==e.usertype?t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ViewData.ApplyTo,expression:"ViewData.ApplyTo"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customRadio3",name:"viewapplyto",value:"3"},domProps:{checked:e._q(e.ViewData.ApplyTo,"3")},on:{change:function(t){return e.$set(e.ViewData,"ApplyTo","3")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"customRadio3"}},[e._v(e._s(e.$t("ALL")))])]):e._e()])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:2==e.ViewData.ApplyTo,expression:"ViewData.ApplyTo == 2"}],staticClass:"w-100 float-left mb-2 mt-2"},[e.ListUnselectedUsers.length>0?t("moveuser",{attrs:{leftItems:e.ListUnselectedUsers,"right-items":e.ListSelectedUsers,"title-left":e.$t("Available"),"title-right":e.$t("Selectedusers"),"moved-item-location":"bottom","target-id":"ListViewUsers"}}):e._e()],1),t("div",{staticClass:"col-lg-12 text-right mt-3"},[t("a",{staticClass:"btn btn-secondary mr-1",attrs:{href:"javascript:;",title:e.$t("BacktoList")},on:{click:function(t){return e.BackToList()}}},[t("em",{staticClass:"fa fa-angle-double-left pr-2"}),e._v(" "+e._s(e.$t("BacktoList"))+" ")]),t("a",{staticClass:"btn btn-success mr-1",attrs:{href:"javascript:;",title:e.$t("Next")},on:{click:function(t){return e.ShowNextTab(2)}}},[t("em",{staticClass:"fa fa-angle-double-right pr-2"}),e._v(" "+e._s(e.$t("Next"))+" ")])])])])]),t("div",{staticClass:"tab-pane",attrs:{id:"step2"}},[t("div",{staticClass:"container-fluid p-0",staticStyle:{"min-height":"416px"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[e.UnselectedItems&&e.UnselectedItems.length>0?t("mover",{attrs:{"left-items":e.UnselectedItems,"right-items":e.SelectedItems,"title-left":e.$t("AvailableFields"),"title-right":e.$t("SelectedFields"),"moved-item-location":"bottom","max-item":"25"}}):e._e()],1),t("div",{staticClass:"col-12 text-right mt-3"},[t("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",title:e.$t("Next")},on:{click:function(t){return e.ShowNextTab(3)}}},[t("em",{staticClass:"fa fa-angle-double-right pr-2"}),e._v(" "+e._s(e.$t("Next"))+" ")])])])])]),t("div",{staticClass:"tab-pane",attrs:{id:"step3"}},[t("div",{staticClass:"container-fluid p-0",staticStyle:{"min-height":"416px"}},[t("div",{staticClass:"container-fluid p-0",staticStyle:{"min-height":"416px"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("searchfilter",{attrs:{submodulecode:e.SubmoduleCode,modulename:e.ModuleName,viewId:e.ViewData.ViewId,"filter-type":"VIEW"}},[t("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])])],1),t("div",{staticClass:"col-12 text-right mt-3"},[t("a",{staticClass:"btn btn-success mr-1",attrs:{href:"javascript:;",title:e.$t("Save")},on:{"~click":function(t){return e.SaveViewData()}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("Save"))+" ")])])])])])])])])],1)])])])],1)])])])},i=[],l=(a("14d9"),a("1115")),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"listing mover-panel",attrs:{id:e.targetId}},[t("div",{staticClass:"border-0 p-0 d-flex flex-wrap"},[t("div",{staticClass:"mover-panel-box leftpanel",attrs:{id:"MoverLeft"}},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.titleLeft))])])]),t("div",{staticClass:"col-12 pl-0 mt-2 px-small-0"},[t("div",{staticClass:"col-sm-12 col-md-8 col-lg-8 float-left pr-1 pl-0 px-small-0"},[t("div",{staticClass:"form-group mb-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.Search,expression:"Search"}],staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search by Name",autocomplete:"off"},domProps:{value:e.Search},on:{keyup:function(t){return e.SearchData()},input:function(t){t.target.composing||(e.Search=t.target.value)}}})])]),t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 float-left pl-0 px-small-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:e.$t("Search"),href:"javascript:;"},on:{click:function(t){return e.SearchData()}}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:e.$t("Clear")},on:{click:function(t){return e.ClearData()}}},[t("em",{staticClass:"fa fa-refresh"})])])])]),t("div",{staticClass:"listing mt-2"},[t("vue-scroll",[t("div",{staticClass:"table-responsive scrollmoverdiv",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered",attrs:{"aria-describedby":"fildname"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{attrs:{role:"row"}},[t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("fieldName")))])])]),t("tbody",{attrs:{id:e.targetId+"LeftItems"}},[e._l(e.unselectedItems,(function(a,s){return t("tr",{class:{"low-bar":a.isSelected,even:s%2==2,odd:s%2>0},attrs:{Key:a,"data-id":a.value,"data-side":"left","data-index":s},on:{click:function(t){return e.selectItem(a,e.unselectedItems)}}},[t("td",{staticClass:"sorting_1"},[e._v(e._s(a.displayValue))])])})),null==e.unselectedItems||0==e.unselectedItems.length?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{staticClass:"text-center text-danger"},[e._v(" "+e._s(e.$t("NoRecordfound")))])]):e._e()],2)])])])],1)]),t("div",{staticClass:"mover-controls"},["false"!=e.moveAll?t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveAllRight")},on:{click:function(t){return e.moveAllRight()}}},[t("em",{staticClass:"fa fa-angle-double-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-double-right fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]):e._e(),t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveRight")},on:{click:function(t){return e.moveRight()}}},[t("em",{staticClass:"fa fa-angle-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-right fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]),t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveLeft")},on:{click:function(t){return e.moveLeft()}}},[t("em",{staticClass:"fa fa-angle-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-left fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]),"false"!=e.moveAll?t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveAllLeft")},on:{click:function(t){return e.moveAllLeft()}}},[t("em",{staticClass:"fa fa-angle-double-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa fa-angle-double-left fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]):e._e()]),t("div",{staticClass:"mover-panel-box rightpanel",attrs:{id:"MoverRight"}},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.titleRight))])])]),e._m(0),t("div",{staticClass:"listing mt-2"},[t("vue-scroll",[t("div",{staticClass:"table-responsive scrollmoverdiv",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered",attrs:{id:"example","aria-describedby":"mover"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{attrs:{scope:"col"}},[t("span",[e._v(" "+e._s(e.$t("fieldName"))+" ")])]),t("th",{staticClass:"text-center",staticStyle:{width:"100px"},attrs:{scope:"col"}},[e._v(" "+e._s(e.$t("Sortable")))])])]),t("tbody",{attrs:{id:e.targetId+"RightItems"}},[e._l(e.selectedItems,(function(a,s){return t("tr",{class:{even:s%2==2,odd:s%2>0,"low-bar":a.isSelected},attrs:{"data-id":a.value,"data-side":"right","data-index":s,Key:a},on:{click:function(t){return e.selectItem(a,e.selectedItems)}}},[t("td",[t("span",{staticClass:"my-handle"},[e._v(e._s(a.displayValue))])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.isSortable,expression:"item.isSortable"}],staticClass:"form-check-input float-right custom-control-input multilevel",staticStyle:{display:"none"},attrs:{disabled:0==a.isSortableEnabled,id:a.value,name:a.value,type:"checkbox"},domProps:{value:a.isSortable,checked:Array.isArray(a.isSortable)?e._i(a.isSortable,a.isSortable)>-1:a.isSortable},on:{change:function(t){var s=a.isSortable,i=t.target,l=!!i.checked;if(Array.isArray(s)){var o=a.isSortable,r=e._i(s,o);i.checked?r<0&&e.$set(a,"isSortable",s.concat([o])):r>-1&&e.$set(a,"isSortable",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(a,"isSortable",l)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:a.value}})])])])})),null==e.selectedItems||0==e.selectedItems.length?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{staticClass:"text-center text-danger",attrs:{colspan:"2"}},[e._v(" "+e._s(e.$t("NoFieldSelected")))])]):e._e()],2)])])])],1)])])])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 pl-0 mt-2 d-none"},[t("div",{staticClass:"col-4 float-left pr-1 pl-0"},[t("div",{staticClass:"form-group mb-0"},[t("input",{staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search By Title",autocomplete:"off"}})])]),t("div",{staticClass:"col-4 float-left pr-1 pl-0"},[t("div",{staticClass:"form-group mb-0"},[t("input",{staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search By Title",autocomplete:"off"}})])]),t("div",{staticClass:"col-4 float-left pl-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"Go",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[t("em",{staticClass:"fa fa-refresh"})])])])])}],n=a("aa47"),c={props:{titleLeft:{type:String,default:"Available"},titleRight:{type:String,default:"Selected"},movedItemLocation:{type:String,default:"top"},leftItems:Array,rightItems:Array,targetId:{type:String,default:"Mover"},normalizeLists:{type:Boolean,default:!0},fontAwesome:{type:Boolean,default:!0},moveAll:{type:Boolean,default:!0},maxItem:{type:String,default:null}},methods:{raiseItemMoved:function(e,t,a){this.lastMovedItem={item:e,targetList:t,listType:a},this.$emit("item-moved",this.lastMovedItem)}},data:function(){var e={selectedSortable:null,unselectedSortable:null,selectedItem:{},selectedList:null,selectedItems:this.rightItems,unselectedItems:[],AllItems:[],lastMovedItem:null,Search:"",initialize:function(t){var a={group:"_mvgp_"+(new Date).getTime(),ghostClass:"mover-ghost",chosenClass:"mover-selected",onAdd:e.onListDrop,onUpdate:e.onSorted,sort:!1,disabled:!0},s={group:"_mvgp_"+(new Date).getTime(),ghostClass:"mover-ghost",chosenClass:"mover-selected",onAdd:e.onListDrop,onUpdate:e.onSorted,handle:".my-handle",nodeName:"tr"},i=t.targetId,l=document.getElementById(i+"LeftItems");e.unselectedSortable=n["a"].create(l,a);var o=document.getElementById(i+"RightItems");e.selectedSortable=n["a"].create(o,s),t.normalizeLists&&e.normalizeListValues()},selectItem:function(e,t){var a=this;if(e.hasOwnProperty("length")){if(t.length>0&&(e=t[0]),!e)return}else e.isSelected=!e.isSelected,a.selectedItem=e,a.selectedList=t},moveRight:function(e,t){var a=this;if(!e)e=$.grep(a.unselectedItems,(function(e,t){return e.isSelected}));e&&(a.selectedItems.length>a.maxItem-1&&a.maxItem>0||e.length+a.selectedItems.length>a.maxItem&&a.maxItem>0?a.ShowAlert(a.$t("SelectFieldMessage",[a.maxItem]),"warning",!0,a.$t("Alert")):($.each(e,(function(e,t){t.isSelected=!1;var s=a.unselectedItems.indexOf(t);if(a.unselectedItems.splice(s,1),"number"===typeof e)a.selectedItems.splice(e,0,t);else if("top"==a.movedItemLocation)a.selectedItems.unshift(t);else{a.selectedItems.push(t);var i=a.$el.querySelector(".mover-right>.mover-panel");setTimeout((function(){i.scrollTop=i.scrollHeight}))}})),setTimeout((function(){a.selectItem(e,a.selectedItems),a.raiseItemMoved(e,a.selectedItems,"right")}),1),a.SetCheckbox("right",a)))},moveLeft:function(){var e=this,t=$.grep(e.selectedItems,(function(e,t){return e.isSelected}));t&&($.each(t,(function(t,a){a.isSelected=!1;var s=e.selectedItems.indexOf(a);if(e.selectedItems.splice(s,1),"number"===typeof t)e.unselectedItems.splice(t,0,a);else if("top"==e.movedItemLocation)e.unselectedItems.unshift(a);else{e.unselectedItems.push(a);var i=e.$el.querySelector(".mover-left>.mover-panel");setTimeout((function(){i.scrollTop=i.scrollHeight}))}})),setTimeout((function(){e.selectItem(t,e.unselectedItems),e.raiseItemMoved(t,e.unselectedItems,"left")}),10),e.SetCheckbox("left",e))},SetCheckbox:function(e,t){setTimeout((function(){t.CheckBoxBootstrap(),$(".mover-panel :checkbox").prop("checked",!0)}),100)},moveAllRight:function(){for(var e=this,t=e.unselectedItems.length-1;t>=0;t--){var a=e.unselectedItems[t];e.unselectedItems.splice(t,1),e.selectedItems.push(a)}},moveAllLeft:function(){for(var e=this,t=e.selectedItems.length-1;t>=0;t--){var a=e.selectedItems[t];e.selectedItems.splice(t,1),e.unselectedItems.push(a)}},refreshListDisplay:function(){setTimeout((function(){var t=e.selectedItems;e.selectedItems=[],e.selectedItems=t,t=e.unselectedItems,e.unselectedItems=[],e.unselectedItems=t}),10)},SearchData:function(){var e=this,t=e.Search;t=t.toLowerCase(),e.unselectedItems=e.AllItems.filter((function(t){return 0==e.selectedItems.filter((function(e){return e.value==t.value})).length})),e.unselectedItems=$.grep(e.unselectedItems,(function(e){return-1!=e.displayValue.toLowerCase().indexOf(t)}))},ClearData:function(){var e=this;e.Search="",e.unselectedItems=e.AllItems.filter((function(t){return 0==e.selectedItems.filter((function(e){return e.value==t.value})).length}))},onSorted:function(t){var a=t.item.dataset["id"],s=t.item.dataset["side"],i=t.item.dataset["index"];if("left"==s){var l=e.SortItemOfList(e.unselectedItems,a,i,t.newIndex);e.unselectedItems=[],setTimeout((function(){e.unselectedItems=l}),1)}else l=e.SortItemOfList(e.selectedItems,a,i,t.newIndex),e.selectedItems=[],setTimeout((function(){e.selectedItems=l}),1)},SortItemOfList:function(t,a,s,i){var l=t.find((function(e){return e.value==a}));return l?(t.splice(s,1),t.splice(i,0,l),t.forEach((function(e){e.isSelected=!1})),e.selectItem(l,t),t):t},onListDrop:function(e){return!1},normalizeListValues:function(){if(e.selectedItems&&0!=e.selectedItems.length&&e.unselectedItems&&0!=e.unselectedItems.length)for(var t of e.selectedItems){var a=t,s=e.unselectedItems.findIndex((function(e){return e.value==a.value}));s>-1&&e.unselectedItems.splice(s,1)}}},t=this;return setTimeout((function(){e.initialize(t)}),100),e},created:function(){var e=this;setTimeout((function(){var t=JSON.parse(JSON.stringify(e.leftItems));$.each(t,(function(t,a){let s=e.AllItems.filter((function(e){return e.value==a.value}));0==s.length&&e.AllItems.push(a)})),e.unselectedItems=JSON.parse(JSON.stringify(e.leftItems));var a=JSON.parse(JSON.stringify(e.rightItems));$.each(a,(function(t,a){let s=e.AllItems.filter((function(e){return e.value==a.value}));0==s.length&&e.AllItems.push(a)}))}),1e3),setTimeout((function(){e.SetBootstraptoolTip()}),200),setTimeout((function(){e.CheckBoxBootstrap()}),100)}},d=c,u=a("2877"),m=Object(u["a"])(d,o,r,!1,null,null,null),p=m.exports,f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid mover-panel"},[t("div",{staticClass:"border-0 p-0 d-flex flex-wrap"},[t("div",{staticClass:"mover-panel-box leftpanel"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.titleLeft))])])]),t("div",{staticClass:"col-12 pl-0 mt-2 px-small-0"},[t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 float-left pr-1 pl-0 px-small-0"},[t("div",{staticClass:"form-group mb-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.UserName,expression:"UserName"}],staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:e.GetPlaceHoder(),autocomplete:"off"},domProps:{value:e.UserName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.SearchData()},input:function(t){t.target.composing||(e.UserName=t.target.value)}}})])]),t("div",{staticClass:"col-sm-12 col-md-5 col-lg-5 float-left pr-1 pl-0 px-small-0"},[t("div",{staticClass:"form-group mb-1"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.DepartmentName,expression:"DepartmentName"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.DepartmentName=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("SelectDepartment")))]),e._l(e.GetDistinctArray(e.leftItems),(function(a,s){return t("option",{key:s,domProps:{value:a}},[e._v(e._s(a))])}))],2)])]),t("div",{staticClass:"col-sm-12 col-md-3 col-lg-3 float-left pl-0 px-small-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline d-flex"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:e.$t("Search"),href:"javascript:;"},on:{click:function(t){return e.SearchData()}}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:e.$t("Clear")},on:{click:function(t){return e.ClearData()}}},[t("em",{staticClass:"fa fa-refresh"})])])])]),t("div",{staticClass:"listing mt-2"},[t("vue-scroll",[t("div",{staticClass:"table-responsive scrollmoverdiv",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered",attrs:{"aria-describedby":"moveruser"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{attrs:{role:"row"}},[t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("UserName")))]),t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("Department")))])])]),t("tbody",{attrs:{id:e.targetId+"LeftItems"}},[e._l(e.unselectedItems,(function(a,s){return t("tr",{key:s,class:{"low-bar":a.isSelected,even:s%2==2,odd:s%2>0},attrs:{"data-id":a.value,"data-side":"left","data-index":s},on:{click:function(t){return e.selectItem(a,e.unselectedItems)}}},[t("td",{staticClass:"sorting_1"},[e._v(e._s(a.displayValue))]),t("td",{staticClass:"sorting_1"},[e._v(e._s(a.departmentName))])])})),null==e.unselectedItems||0==e.unselectedItems.length?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{staticClass:"text-center text-danger",attrs:{colspan:"2"}},[e._v(e._s(e.$t("NoUserFound")))])]):e._e()],2)])])])],1)]),t("div",{staticClass:"mover-controls"},["false"!=e.moveAll?t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveAllRight")},on:{click:function(t){return e.moveAllRight()}}},[t("em",{staticClass:"fa fa-angle-double-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-double-right fa-2x d-block d-md-block",attrs:{"aria-hidden":"true"}})]):e._e(),t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveRight")},on:{click:function(t){return e.moveRight()}}},[t("em",{staticClass:"fa fa-angle-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-right fa-2x d-block d-md-block",attrs:{"aria-hidden":"true"}})]),t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveLeft")},on:{click:function(t){return e.moveLeft()}}},[t("em",{staticClass:"fa fa-angle-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-left fa-2x d-block d-md-block",attrs:{"aria-hidden":"true"}})]),"false"!=e.moveAll?t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveAllLeft")},on:{click:function(t){return e.moveAllLeft()}}},[t("em",{staticClass:"fa fa-angle-double-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa fa-angle-double-left fa-2x d-block d-md-block",attrs:{"aria-hidden":"true"}})]):e._e()]),t("div",{staticClass:"mover-panel-box rightpanel"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.titleRight))])])]),e._m(0),t("div",{staticClass:"listing mt-2"},[t("vue-scroll",[t("div",{staticClass:"table-responsive scrollmoverdiv",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered",attrs:{id:"example","aria-describedby":"mover"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("UserName")))]),t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("Department")))])])]),t("tbody",{attrs:{id:e.targetId+"RightItems"}},[e._l(e.selectedItems,(function(a,s){return t("tr",{key:s,class:{even:s%2==2,odd:s%2>0,"low-bar":a.isSelected},attrs:{"data-id":a.value,"data-side":"right"},on:{click:function(t){return e.selectItem(a,e.selectedItems)}}},[t("td",[t("span",{staticClass:"my-handle"},[e._v(e._s(a.displayValue))])]),t("td",[e._v(e._s(a.departmentName))])])})),null==e.selectedItems||0==e.selectedItems.length?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{staticClass:"text-center text-danger",attrs:{colspan:"2"}},[e._v(e._s(e.$t("UserNotSelect")))])]):e._e()],2)])])])],1)])])])},h=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 pl-0 mt-2 d-none"},[t("div",{staticClass:"col-4 float-left pr-1 pl-0"},[t("div",{staticClass:"form-group mb-0"},[t("input",{staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search By Title",autocomplete:"off"}})])]),t("div",{staticClass:"col-4 float-left pr-1 pl-0"},[t("div",{staticClass:"form-group mb-0"},[t("input",{staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search By Title",autocomplete:"off"}})])]),t("div",{staticClass:"col-4 float-left pl-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline d-flex"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"Go",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[t("em",{staticClass:"fa fa-refresh"})])])])])}],v={props:{titleLeft:{type:String,default:"Available"},titleRight:{type:String,default:"Selected"},movedItemLocation:{type:String,default:"top"},leftItems:Array,rightItems:Array,targetId:{type:String,default:"Mover"},normalizeLists:{type:Boolean,default:!0},fontAwesome:{type:Boolean,default:!0},moveAll:{type:Boolean,default:!0},maxItem:{type:Number,default:0}},methods:{raiseItemMoved:function(e,t,a){this.lastMovedItem={item:e,targetList:t,listType:a},this.$emit("item-moved",this.lastMovedItem)},GetDistinctArray:function(e){return e.map((function(e){return e.departmentName})).filter((function(e,t,a){return a.indexOf(e)===t}))},GetPlaceHoder:function(){return this.$t("SearchbyFieldName"),this.$t("Name")}},data:function(){var e={selectedSortable:null,unselectedSortable:null,selectedItem:{},selectedList:null,selectedItems:this.rightItems,AllItems:[],unselectedItems:[],lastMovedItem:null,DepartmentArray:this.department,UserName:"",DepartmentName:"",initialize:function(t){var a={group:"_mvgp_"+(new Date).getTime(),ghostClass:"mover-ghost",chosenClass:"mover-selected",onAdd:e.onListDrop,onUpdate:e.onSorted,sort:!1,disabled:!0},s={group:"_mvgp_"+(new Date).getTime(),ghostClass:"mover-ghost",chosenClass:"mover-selected",onAdd:e.onListDrop,onUpdate:e.onSorted,handle:".my-handle"},i=t.targetId,l=document.getElementById(i+"LeftItems");e.unselectedSortable=n["a"].create(l,a);var o=document.getElementById(i+"RightItems");e.selectedSortable=n["a"].create(o,s),t.normalizeLists&&e.normalizeListValues()},selectItem:function(e,t){var a=this;(e||(t.length>0&&(e=t[0]),e))&&(e.isSelected=!e.isSelected,a.selectedItem=e,a.selectedList=t)},SetCheckbox:function(e){setTimeout((function(){$(".mover-panel :checkbox").prop("checked",!1)}),100)},moveRight:function(e,t){var a=this;if(!e)e=$.grep(a.unselectedItems,(function(e,t){return e.isSelected}));e&&(a.selectedItems.length>a.maxItem-1&&a.maxItem>0?alertR(this.$t("SelectFieldMessage")+a.maxItem,!0,this.$t("Alert")):($.each(e,(function(e,t){t.isSelected=!1;var s=a.unselectedItems.indexOf(t);if(a.unselectedItems.splice(s,1),console.log(a.selectedItems),"number"===typeof e)e=a.selectedItems.hasOwnProperty("length")?a.selectedItems.length:0,a.selectedItems.splice(e,0,t);else if("top"==a.movedItemLocation)a.selectedItems.unshift(t);else{a.selectedItems.push(t);var i=a.$el.querySelector(".mover-right>.mover-panel");setTimeout((function(){i.scrollTop=i.scrollHeight}))}console.log(a.selectedItems)})),setTimeout((function(){a.selectItem(e,a.selectedItems),a.raiseItemMoved(e,a.selectedItems,"right")}),10),a.SetCheckbox("right")))},moveLeft:function(e,t){var a=this;e=$.grep(a.selectedItems,(function(e,t){return e.isSelected}));e&&($.each(e,(function(e,t){t.isSelected=!1;var s=a.selectedItems.indexOf(t);if(a.selectedItems.splice(s,1),"number"===typeof e)a.unselectedItems.splice(e,0,t);else if("top"==a.movedItemLocation)a.unselectedItems.unshift(t);else{a.unselectedItems.push(t);var i=a.$el.querySelector(".mover-left>.mover-panel");setTimeout((function(){i.scrollTop=i.scrollHeight}))}})),setTimeout((function(){a.selectItem(e,a.unselectedItems),a.raiseItemMoved(e,a.unselectedItems,"left")}),10),a.SetCheckbox("left"))},moveAllRight:function(){for(var e=this,t=e.unselectedItems.length-1;t>=0;t--){var a=e.unselectedItems[t];e.unselectedItems.splice(t,1),e.selectedItems.push(a)}e.SetCheckbox()},moveAllLeft:function(){for(var e=this,t=e.selectedItems.length-1;t>=0;t--){var a=e.selectedItems[t];e.selectedItems.splice(t,1),e.unselectedItems.push(a)}e.SetCheckbox()},refreshListDisplay:function(){var e=this;setTimeout((function(){var t=e.selectedItems;e.selectedItems=[],e.selectedItems=t,t=e.unselectedItems,e.unselectedItems=[],e.unselectedItems=t}),10)},SearchData:function(){var e=this,t=e.UserName,a=e.DepartmentName;e.unselectedItems=e.AllItems.filter((function(t){return 0==e.selectedItems.filter((function(e){return e.value==t.value})).length})),""!=$.trim(t)&&""==$.trim(a)?(t=t.toLowerCase(),e.unselectedItems=$.grep(e.unselectedItems,(function(e){return-1!=e.displayValue.toLowerCase().indexOf(t)}))):""==$.trim(t)&&""!=$.trim(a)?e.unselectedItems=$.grep(e.unselectedItems,(function(e){return e.departmentName==a})):""!=$.trim(t)&&""!=$.trim(a)&&(t=t.toLowerCase(),e.unselectedItems=$.grep(e.unselectedItems,(function(e){return-1!=e.displayValue.toLowerCase().indexOf(t)&&e.departmentName==a})))},ClearData:function(){var e=this;e.UserName="",e.DepartmentName="",e.unselectedItems=e.AllItems.filter((function(t){return 0==e.selectedItems.filter((function(e){return e.value==t.value})).length}))},onSorted:function(t){var a=t.item.dataset["id"],s=t.item.dataset["side"],i=t.item.dataset["index"];if("left"==s){var l=e.SortItemOfList(e.unselectedItems,a,i,t.newIndex);e.unselectedItems=[],setTimeout((function(){e.unselectedItems=l}),1)}else l=e.SortItemOfList(e.selectedItems,a,i,t.newIndex),e.selectedItems=[],setTimeout((function(){e.selectedItems=l}),1)},SortItemOfList:function(e,t,a,s){var i=this,l=e.find((function(e){return e.value==t}));return l?(e.splice(a,1),e.splice(s,0,l),e.forEach((function(e){e.isSelected=!1})),i.selectItem(l,e),e):e},onListDrop:function(e){var t=this,a=e.item.dataset["id"],s=e.item.dataset["side"],i=e.newIndex;if("left"==s){var l=t.unselectedItems.find((function(e){return e.value==a}));t.moveRight(l,i),l.isSelected=!0;var o=t.unselectedItems;t.unselectedItems=[],setTimeout((function(){t.unselectedItems=o}))}else{l=t.selectedItems.find((function(e){return e.value==a}));l.isSelected=!0,t.moveLeft(l,i);o=t.selectedItems;t.selectedItems=[],setTimeout((function(){t.selectedItems=o}))}},normalizeListValues:function(){var e=this;if(e.selectedItems&&0!=e.selectedItems.length&&e.unselectedItems&&0!=e.unselectedItems.length)for(var t of e.selectedItems){var a=t,s=e.unselectedItems.findIndex((function(e){return e.value==a.value}));s>-1&&e.unselectedItems.splice(s,1)}}},t=this;return setTimeout((function(){e.initialize(t)}),100),e},created:function(){var e=this;setTimeout((function(){var t=JSON.parse(JSON.stringify(e.leftItems));$.each(t,(function(t,a){let s=e.AllItems.filter((function(e){return e.value==a.value}));0==s.length&&e.AllItems.push(a)})),e.unselectedItems=JSON.parse(JSON.stringify(e.leftItems));var a=JSON.parse(JSON.stringify(e.rightItems));$.each(a,(function(t,a){0==e.AllItems.filter((function(e){return e.value==a.value})).length&&e.AllItems.push(a)}))}),1e3),setTimeout((function(){e.SetBootstraptoolTip()}),200)}},_=v,C=Object(u["a"])(_,f,h,!1,null,null,null),g=C.exports,b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-100 float-left px-3 listing"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("div",{staticClass:"form-content border-0"},[e.showAddData?t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divManageSearchCriteria"}},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("Form",{ref:"form",scopedSlots:e._u([{key:"default",fn:function({values:a,meta:s}){return[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("div",{staticClass:"table-responsive overflow-visible"},[t("table",{staticClass:"table table-bordered nowrap mt-0 mb-0",attrs:{"aria-describedby":"layoutfilter"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("fieldName")))])]),t("th",{attrs:{scope:"col"}},[t("span",[e._v(" "+e._s(e.$t("ConditionalOperator")))])]),t("th",{attrs:{scope:"col"}},[t("span",[e._v(" "+e._s(e.$t("Value")))])]),t("th",{staticClass:"text-center",attrs:{scope:"col"}})])]),t("tbody",e._l(e.filterItemData,(function(a,s){return t("tr",{key:s},[t("td",[t("Field",{attrs:{name:"field_name"+(s+1),"data-vv-name":"SearchFilter.fieldName"+(s+1),rules:{required:a.is_required},label:"Field Name"},scopedSlots:e._u([{key:"default",fn:function({errors:i,changed:l}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.field_name,expression:"item.field_name"}],class:{"form-control disableAria":!0,"is-invalid":i[0]},attrs:{name:"field_name"+(s+1)},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"field_name",t.target.multiple?s:s[0])},function(t){return e.GetOperatorData(t,a,s)}],"update:modelValue":l}},[t("option",{attrs:{"data-index":s,value:""}},[e._v(e._s(e.$t("Select"))+" ")]),e._l(e.fieldNameData,(function(a,s){return t("option",{key:s,domProps:{value:String(a.custom_field_id)}},[e._v(" "+e._s(e.$t(a.display_name)))])}))],2)]}}],null,!0)})],1),t("td",[t("Field",{attrs:{name:"operator"+(s+1),rules:{required:a.is_required},label:"operator"},scopedSlots:e._u([{key:"default",fn:function({errors:i,changed:l}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.operator,expression:"item.operator"}],class:{"form-control":!0,disableAria:!0,"is-invalid":i[0]},attrs:{name:"operator"+(s+1)},on:{"update:modelValue":l,change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"operator",t.target.multiple?s:s[0])},function(t){return e.ShowFieldValue(t,a,s)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(a.operator_list,(function(a,s){return t("option",{key:s,domProps:{value:String(a.OPERATOR_ID)}},[e._v(" "+e._s(a.OPERATOR_DISPLAY_NAME))])}))],2)]}}],null,!0)})],1),t("td",{staticClass:"overflow-visible"},["date"==a.dt_code||"datetime"==a.dt_code?t("div",{class:{"col-5 p-0 float-left pr-1":"between"==a.operator_expression}},[t("Field",{attrs:{name:"date"+a.label+s,rules:{required:a.is_required},label:a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:i,changed:l}){return[t("v-date-picker",{staticClass:"input-group",class:{disableAria:!0,"is-invalid":("date"==a.dt_code||"datetime"==a.dt_code)&&i[0]},attrs:{popover:e.popover,"minute-increment":5,name:"date"+a.label+s},on:{"dp-hide":function(t){a.second_value="",e.SetValues(t,a)},"update:modelValue":l,input:function(t){return e.SetValues(t,a)}},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({staticClass:"form-control",domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]}}],null,!0)})],1):e._e(),"date"!=a.dt_code&&"datetime"!=a.dt_code||"between"!=a.operator_expression?e._e():t("div",{staticClass:"col-2 float-left",staticStyle:{"margin-top":"6px"}},[e._v(" "+e._s(e.$t("And","And")))]),"date"!=a.dt_code&&"datetime"!=a.dt_code||"between"!=a.operator_expression?e._e():t("div",{class:{"input-group":!0,"col-5 p-0 float-left":"between"==a.operator_expression}},[t("Field",{attrs:{name:"second"+a.label+s,rules:{required:a.is_required},label:a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:i,changed:l}){return[t("v-date-picker",{ref:"SecondDatePicker",refInFor:!0,staticClass:"input-group",class:{disableAria:!0,"is-invalid":("date"==a.dt_code||"datetime"==a.dt_code)&&i[0]},attrs:{popover:e.popover,"minute-increment":5,name:"second"+a.label+s},on:{"dp-hide":function(t){a.second_value="",e.SetValues(t,a)},"update:modelValue":l,input:function(t){return e.SetValues(t,a)}},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[t("input",e._g({staticClass:"form-control",domProps:{value:a}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return i()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.second_value,callback:function(t){e.$set(a,"second_value",t)},expression:"item.second_value"}})]}}],null,!0)})],1),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code&&"Is Null"!=a.operator_expression&&"Is Not Null"!=a.operator_expression?t("Field",{attrs:{name:a.label+s,rules:{required:a.is_required},label:"Value"},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],class:{"form-control disableAria":!0,"is-invalid":i[0],"col-5 float-left":"between"==a.operator_expression},attrs:{id:a.label+s,name:a.label+s,type:"text"},domProps:{value:a.value},on:{input:[function(t){t.target.composing||e.$set(a,"value",t.target.value)},function(t){return e.SetValues(t,a)}]}})]}}],null,!0)}):e._e(),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code&&"between"==a.operator_expression?t("div",{staticClass:"col-2 float-left",staticStyle:{"margin-top":"6px"}},[e._v(" "+e._s(e.$t("And","And"))+" ")]):e._e(),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code&&"between"==a.operator_expression?t("Field",{attrs:{name:"second"+a.label+s,rules:{required:a.is_required},label:"second"+a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.second_value,expression:"item.second_value"}],class:{"form-control disableAria":!0,"is-invalid":i[0],"col-5 float-left":"between"==a.operator_expression},attrs:{type:"text",id:a.label,name:"second"+a.label+s},domProps:{value:a.second_value},on:{input:[function(t){t.target.composing||e.$set(a,"second_value",t.target.value)},function(t){return e.SetValues(t,a,"second")}]}})]}}],null,!0)}):e._e(),"textarea"==a.dt_code?t("Field",{attrs:{name:"textarea"+a.label+s,rules:{required:a.is_required},label:a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("textarea",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],class:{"form-control":!0,"is-invalid":"textarea"==a.dt_code&&s[0]},attrs:{id:a.label},domProps:{value:a.value},on:{change:function(t){return e.SetValues(t,a)},input:function(t){t.target.composing||e.$set(a,"value",t.target.value)}}})]}}],null,!0)}):e._e(),"radio"==a.dt_code?t("div",{staticClass:"form-control pl-4 border-0 bg-transparent"},[t("div",{staticClass:"form-check form-check-inline"},e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(s,i){return t("div",{key:i,staticClass:"form-check form-check-inline custom-control mx-4 pl-2 custom-radio",attrs:{key:s.name}},[t("Field",{attrs:{name:"rdo_"+a.custom_field_id+s.value,rules:{required:a.is_required},label:a.label}},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],staticClass:"custom-control-input",attrs:{name:"rdo_"+a.custom_field_id+s.value,id:"rdo_"+a.custom_field_id+s.value,type:"radio","data-resource":s.name},domProps:{checked:s.value==a.value,value:s.value,checked:e._q(a.value,s.value)},on:{change:[function(t){return e.$set(a,"value",s.value)},function(t){return e.SetValues(t,a)}]}}),t("label",{staticClass:"custom-control-label",attrs:{for:"rdo_"+a.custom_field_id+s.value}},[e._v(e._s(s.name))])])])])],1)})),0)]):e._e(),"checkbox"==a.dt_code?t("div",{staticClass:"form-control pl-0 border-0 bg-transparent"},[t("div",{staticClass:"form-check form-check-inline"},e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(s,i){return t("div",{key:i,staticClass:"custom-control custom-checkbox"},[t("Field",{attrs:{name:"chk_"+a.custom_field_id+s.value,rules:{required:a.is_required},label:a.label}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.select_value,expression:"item.select_value"}],staticClass:"dynamic custom-control-input",attrs:{id:"chk_"+a.custom_field_id+s.value,name:"chk_"+a.custom_field_id+s.value,"data-resource-id":s.name,type:"checkbox"},domProps:{value:s.value,checked:Array.isArray(a.select_value)?e._i(a.select_value,s.value)>-1:a.select_value},on:{change:[function(t){var i=a.select_value,l=t.target,o=!!l.checked;if(Array.isArray(i)){var r=s.value,n=e._i(i,r);l.checked?n<0&&e.$set(a,"select_value",i.concat([r])):n>-1&&e.$set(a,"select_value",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(a,"select_value",o)},function(t){return e.SetValues(t,a)}]}})]),t("label",{staticClass:"custom-control-label universal-custom-control-label pl-2 pr-1 dynamic",attrs:{for:"chk_"+a.custom_field_id+s.value}},[e._v(e._s(s.name))])],1)})),0)]):e._e(),"Lookup"!=a.picklist_options||"select"!=a.dt_code||"custom"!=a.dropdown_type&&("normal"!=a.dropdown_type||"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression)?e._e():t("Field",{attrs:{name:"Multiselect"+a.label+s,rules:{required:a.is_required},label:a.label+s},scopedSlots:e._u([{key:"default",fn:function({errors:i,changed:l}){return[t("Multiselect",{class:{disableAria:!0,"is-invalid":"Lookup"==a.picklist_options&&"select"==a.dt_code&&"custom"==a.dropdown_type&&i[0]},attrs:{multiple:"IN"==a.operator_expression||"NOT IN"==a.operator_expression,name:"Multiselect"+a.label+s,placeholder:"Search a value","filter-results":!1,searchable:!0,"track-by":"value","show-no-results":!1,"internal-search":!1,"clear-on-select":!1,"close-on-select":!0,options:"normal"==a.dropdown_type?e.MakeNormalArray(a.select_options):a.select_options,object:!0,label:"name"},on:{"search-change":function(t){return e.onSearch(t,a)},select:e.setSelectedValue,"update:modelValue":l},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]}}],null,!0)}),"Lookup"==a.picklist_options&&"select"==a.dt_code&&"normal"==a.dropdown_type&&"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression&&"Is Null"!=a.operator_expression&&"Is Not Null"!=a.operator_expression?t("Field",{attrs:{name:"select"+a.label+s,rules:{required:!0},label:a.operator},scopedSlots:e._u([{key:"default",fn:function({errors:i,changed:l}){return[t("select",{class:{"form-control disableAria":!0,"is-invalid":i[0]},attrs:{name:"select"+a.label+s},on:{"update:modelValue":l,change:function(t){return e.SetValues(t,a,s)}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.MakeNormalArray(a.select_options),(function(s,i){return t("option",{key:i,domProps:{selected:a.value==s.value,value:s.value}},[e._v(e._s(s.name)+" ")])}))],2)]}}],null,!0)}):e._e(),"Lookup"!=a.picklist_options&&"select"==a.dt_code&&"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression?t("Field",{attrs:{name:"select2"+a.label+s,rules:{required:!0},label:a.operator},scopedSlots:e._u([{key:"default",fn:function({errors:i,changed:l}){return[t("select",{class:{"form-control disableAria":!0,"is-invalid":i[0]},attrs:{name:"select2"+a.label+s},on:{"update:modelValue":l,change:function(t){return e.SetValues(t,a,s)}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(s,i){return null!=a.picklist_options?t("option",{key:i,domProps:{selected:a.value==s.value,value:s.value}},[e._v(e._s(s.name)+" ")]):e._e()}))],2)]}}],null,!0)}):e._e(),"Lookup"==a.picklist_options||null==a.picklist_options||"select"!=a.dt_code||"custom"!=a.dropdown_type&&("normal"!=a.dropdown_type||"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression)?e._e():t("Field",{attrs:{name:"Multiselect2"+a.label+s,rules:{required:a.is_required},label:"name"},scopedSlots:e._u([{key:"default",fn:function({errors:s,changed:i}){return[t("Multiselect",{class:{disableAria:!0,"is-invalid":"Lookup"==a.picklist_options&&"select"==a.dt_code&&"custom"==a.dropdown_type&&s[0]},attrs:{placeholder:"Search a value","filter-results":!1,searchable:!0,"track-by":"value","show-no-results":!1,"internal-search":!1,"clear-on-select":!1,"close-on-select":!0,options:a.select_options,object:!0,label:"name"},on:{"search-change":function(t){return e.onSearch(t,a)},select:function(t){return e.setSelectedValue(a,t)},"update:modelValue":i},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]}}],null,!0)})],1),t("td",{staticClass:"text-center single-action"},[t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.DeleteSearchItem(a,s)}}},[t("em",{staticClass:"fa fa-trash action-icon text-danger"})])])])})),0)]),t("div",{staticClass:"col-lg-12 text-right py-3"},[t("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",title:e.$t("Add")},on:{click:e.AddSearchData}},[t("em",{staticClass:"fa fa-plus pr-2",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("Add")))])])])]),e.isBlank(e.condition)?e._e():t("div",{staticClass:"col-12 float-left p-0 mt-2"},[t("div",{staticClass:"alert alert-secondary py-2"},[t("label",{staticClass:"font-weight-bold mb-0"},[e._v(" "+e._s(e.$t("Condition"))+" :")]),t("label",{staticClass:"mb-0 ml-1"},[e._v(e._s(e.condition))])])]),t("div",{staticClass:"col-12 float-left p-0 mt-2 d-none"},[t("div",{staticClass:"alert alert-secondary py-2"},[t("label",{staticClass:"font-weight-bold mb-0"},[e._v("Database Condition:")]),t("label",{staticClass:"mb-0"},[e._v(e._s(e.databaseCondition))])])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left py-3 d-none"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"search-btm-btn"},[t("a",{staticClass:"btn btn-success formbtn widthhalf",attrs:{href:"javascript:;",title:e.$t("SaveAndSearch")},on:{click:function(t){return e.SubmitData("save")}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndSearch"))+" ")]),t("a",{staticClass:"btn btn-success formbtn widthhalf",attrs:{href:"javascript:;",title:e.$t("Search")},on:{click:function(t){return e.SubmitData("search")}}},[t("em",{staticClass:"fa fa-search pr-2"}),e._v(e._s(e.$t("Search")))]),t("a",{staticClass:"btn btn-danger formbtn widthhalf",attrs:{href:"javascript:;",title:e.$t("Cancel")},on:{click:function(t){e.showListData=!0,e.showAddData=!1,e.filterItemData=[],e.GetSearchFilterItemData()}}},[t("em",{staticClass:"fa fa-close pr-2"}),e._v(e._s(e.$t("Cancel")))])])])])]}}],null,!1,1439735755)})],1)]):e._e()])])])])},I=[],S=a("1157"),A=a.n(S),y={props:{submodulecode:{type:String,required:!0},modulename:{type:String,required:!0},callbackfunction:{type:Function},control:{type:Object},viewId:{type:Number},filterType:{type:String},tabId:{type:Number}},data:function(){return{filterData:[],showListData:!1,showAddData:!0,filterItemData:[],fieldNameData:[],options:"",submited:!1,databaseCondition:"",condition:"",filterName:"",validationForName:"",filterId:0,isDefault:!1,FormatForSecond:"",isFirstTime:!1,exitstingFilterNameArray:[],ApiURL:"",CurrentObject:null,ViewId:0,FilterType:"",TabId:0,popover:{visibility:"click"},CompanyType:"",isEmpty:!1}},created:function(){this.ViewId=this.viewId,this.FilterType=this.filterType,this.CurrentObject=this.control,this.TabId=this.tabId,this.GetSearchFilterItemData(),this.GetFieldNameData(),this.ViewId>0&&this.EditSearchFilterData(this.ViewId),setTimeout((function(){A()(".modal-dialog").draggable({handle:".modal-header"})}),1e3)},methods:{IsExtraMapFeature:function(){var e=this;l["a"].IsExtraMapFeature().then((function(t){e.CompanyType="",null!=t.data&&""!=t.data?e.CompanyType=t.data:e.CompanyType="locating"}))},MakeArray:function(e,t){var a=[],s=String(e).split(",");if("radio"==t||"checkbox"==t){if(s.length>0)for(var i of s)if(i.split("|").length>1){var l={name:i.split("|")[0],value:i.split("|")[1]};a.push(l)}else{l={name:i,value:i};a.push(l)}}else if(s.length>0)for(var i of s){l={name:i,value:i};a.push(l)}return a},GetLocalizedValue:function(e,t){try{if(this.isBlank(t)){var a=this.$t(String(e).toUpperCase());return a!=String(e).toUpperCase()?a:(a=this.$t(String(e)),a||/^\s*$/.test(a)?a:e)}a=this.$t(String(t).toUpperCase());return a!=String(t).toUpperCase()?a:(a=this.$t(String(t)),a||/^\s*$/.test(a)?a:t)}catch(s){console.log(s)}},MakeNormalArray:function(e){if(e)try{return JSON.parse(e)}catch(t){return e}else e=[]},isBlank:function(e){return!e||/^\s*$/.test(e)},returnDateObject:function(e){var t=null;return e=void 0==e?"":e,""!=e&&(t=new Date(Date.parse(e))),{format:"MM-dd-yyyy",useStrict:!0,useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:t,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},GetValidationF:function(e){var t={};return e.is_required&&(t["required"]=!0),e.length>0&&(t["max"]=e.length),"email"==e.validation_type&&(t["email"]=!0),"date"!=e.dt_code&&"datetime"!=e.dt_code||(t["date_format"]=String(Globalize.culture().calendar.patterns.d).toUpperCase()),"decimal"==e.dt_code&&(t["decimal"]=2),"mobile_phone"!=e.name&&"business_phone"!=e.name&&"fax"!=e.name&&"zipcode"!=e.name||"CRM_CONTACTS"!=this.submodulecode||(t["numeric"]=!0,t["max"]=15),"int"!=e.dt_code&&"bigint"!=e.dt_code||(t["numeric"]=!0),"url"==e.dt_code&&(t["url"]="require_protocol"),null!=e.regular_expression&&""!=e.regular_expression&&(t["regex"]=e.regular_expression),t},onSearch:async function(e,t){var a=t.value;"undefined"==typeof a&&(a=0);var s="id=&moduleName="+this.modulename+"&type="+t.field_code+"&search="+escape(e);"fill"==t.dependent_type&&(s+="&refId="+a),await l["a"].getDDLData(s).then((function(e){var a=[];return e.data,""!=e.data&&(a=e.data),t.select_options=a.DATA}))},setSelectedValue:function(e,t){try{setTimeout(()=>{this.SetCondition(),this.validateFilterData()},100)}catch(a){}},AddSearchData:function(){this.GetSearchFilterItemData()},DeleteSearchItem:function(e,t){var a=this,s=a.$t("ConfirmDelete");a.confirmR(s,!0,null,(function(){a.filterItemData.splice(t,1),a.SetCondition()}))},GetSearchFilterData:function(){var e=this,t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode;this.filterData=[],l["a"].SearchCriteriaListing(t).then((function(e){var t=e.data;if(null!=t)return this.filterData=t.DATA,this.filterData}))},GetFieldNameData:function(){var e=this,t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode;"VIEW"==this.FilterType&&(t+="&reqFrom=MANAGEVIEW"),this.fieldNameData=[],l["a"].GetFieldName(t).then((function(t){var a=t.data;if(null!=a){if(e.fieldNameData=a.DATA,"nonlocating"!=e.CompanyType)return e.fieldNameData;e.fieldNameData.forEach((t,a)=>{if("parent_sub_status_id"==t.label||"sub_status_id"==t.label)return e.fieldNameData.splice(a,1)})}}))},GetOperatorData:function(e,t){var a=e.target.value,s=A.a.grep(this.fieldNameData,(function(e,t){return e.custom_field_id==a})),i="";t.dt_code="",t.picklist_options=[],t.label="",t.dropdown_type="",t.select_options="",t.select_value="",t.length=0,t.operator="",t.field_code="",t.second_value="",t.display_name="",t.is_required=!1,s.length>0&&(i="ModifiedBy"==s[0].display_name||"Modified By"==s[0].display_name?"nvarchar":s[0].sql_type,t.dt_code=s[0].dt_code,t.picklist_options=s[0].picklist_options,t.label=s[0].label,t.dropdown_type=s[0].dropdown_type,t.select_options=s[0].select_options,t.length=s[0].length,t.display_name=s[0].display_name,t.field_code=s[0].field_code,t.is_required=s[0].is_required,t.validation_type=s[0].validation_type);var o="dataType="+i+"&customField="+a;t.operator_list=[],l["a"].GetOperator(o).then((function(e){var a=e.data;if(null!=a)return t.operator_list=a.DATA,t.operator_list})),t.field_name=a,t.value="",setTimeout(()=>{this.SetCondition(),this.validateFilterData()},1e3)},SetValues:function(e,t,a){if("datetime"==t.dt_code||"decimal"==t.dt_code||"date"==t.dt_code){if("second"==a){var s=t.second_value;t.second_value=s}else{s=t.value;t.value=s}this.isEmpty=!0}else"second"==a?t.second_value=e.target.value:t.value=e.target.value,this.isEmpty=!0;this.SetCondition(),this.validateFilterData()},SetCondition:function(){var e="",t="",a=this,s="";A.a.each(a.filterItemData,(function(i,l){i>0&&(e+=" And ",t+=" and ");var o=l.field_name,r=A.a.grep(a.fieldNameData,(function(e){return e.custom_field_id==o}));"undefined"!=typeof r&&r.length>0&&(e+=a.GetLocalizedValue(r[0].label,r[0].display_name),"date"==r[0].dt_code||"datetime"==r[0].dt_code?t+="convert(date, "+r[0].name+", 23)":"CL.client"==r[0].name?r[0].name="CL.UserNames":"PMU.pm"==r[0].name?r[0].name="PMU.UserNames":t+=r[0].name.trimEnd());var n=l.operator;if(r=A.a.grep(l.operator_list,(function(e,t){return e.OPERATOR_ID==n})),"undefined"!=typeof r&&r.length>0&&(e=e+" "+r[0].OPERATOR_DISPLAY_NAME,s=r[0].OPERATOR_EXPRESSION,t+=" "+s),!a.isBlank(l.value)){var c=l.value,d=l.value;if("select"==l.dt_code&&"normal"==l.dropdown_type&&"IN"!=s&&"NOT IN"!=s&&"Is Null"!=s&&"Is Not Null"!=s){var u=a.MakeNormalArray(l.select_options);r=A.a.grep(u,(function(e,t){return e.value==l.value})),"undefined"!=typeof r&&r.length>0&&(c=r[0].name)}else if("select"==l.dt_code&&"custom"==l.dropdown_type||"select"==l.dt_code&&"normal"==l.dropdown_type&&("IN"==s||"NOT IN"==s)){if(Array.isArray(l.value)?(d=a.createString(l.value,"value"),c=a.createString(l.value,"name")):(d=l.value.value,c=l.value.name),"IN"==s||"NOT IN"==s){u=a.MakeNormalArray(l.select_options);r=A.a.grep(u,(function(e,t){return e.value==l.value})),"undefined"!=typeof r&&r.length>0&&(c=r[0].name),d="("+d+")"}}else if("select"!=l.dt_code||"normal"!=l.dropdown_type||"Is Null"!=s&&"Is Not Null"!=s)if("select"==l.dt_code&&"custom"!=l.dropdown_type&&"normal"!=l.dropdown_type)if("IN"==s||"NOT IN"==s)Array.isArray(l.value)?(d=a.createString(l.value,"value"),c=a.createString(l.value,"name")):(d=l.value.value,c=l.value.name),d="("+d+")";else{u=a.MakeArray(l.picklist_options,l.dt_code);r=A.a.grep(u,(function(e,t){return e.value==l.value})),"undefined"!=typeof r&&r.length>0&&(c=r[0].name),d=" '"+d+"'"}else if("date"==l.dt_code||"datetime"==l.dt_code)"between"==s?(c=l.value+" And "+l.second_value,d="'"+a.$options.filters.formatDatee(l.value)+"' and '"+a.$options.filters.formatDatee(l.second_value)+"'"):(c=l.value,d="'"+a.$options.filters.formatDatee(l.value)+"'");else if("radio"==l.dt_code){u=a.MakeArray(l.picklist_options,l.dt_code);r=A.a.grep(u,(function(e,t){return e.value==l.value})),"undefined"!=typeof r&&r.length>0&&(c=r[0].name,d="'"+r[0].value+"'")}else if("Like"==s||"Not Like"==s)d="'%"+l.value+"%'";else if("Starts With"==s)d="'"+l.value+"%'",t=t.replace("Starts With","like");else if("Ends With"==s)d="'%"+l.value+"'",t=t.replace("Ends With","like");else if("between"==s)c=l.value+" And "+l.second_value,d="'"+l.value+"' and '"+l.second_value+"'";else if("IN"==s||"NOT IN"==s){for(var m=String(l.value).split(","),p="",f=0;f<m.length;f++)f>0&&(p+=" , "),p+="'"+m[f]+"'";d="("+p+")"}else d="'"+d+"'";else"Is Null"==l.operator_expression&&(d="",c=""),"Is Not Null"==l.operator_expression&&(d="",c="");"select"==l.dt_code&&"normal"==l.dropdown_type&&"frequency"==l.label?t+=" '"+d+"'":"select"==l.dt_code&&"normal"==l.dropdown_type&&"forecast_category_name"==l.label?t+=" '"+c+"'":"select"==l.dt_code&&"normal"==l.dropdown_type&&"display_icon"==l.label?t+=" '"+d+"'":t+=" "+d,e=e+" "+c}})),a.condition=e,a.databaseCondition=encodeURIComponent(t).replace(/'/g,"%27"),"undefined"!=typeof a.CurrentObject&&null!=a.CurrentObject?(a.CurrentObject.TabCondition=a.condition,a.CurrentObject.TabDatabaseCondition=a.databaseCondition):(a.$parent.$parent.ViewData.Condition=a.condition,a.$parent.$parent.ViewData.DatabaseCondition=a.databaseCondition),a.SubmitData()},ShowFieldValue:function(e,t){var a=e.target.value,s=A.a.grep(t.operator_list,(function(e,t){return e.OPERATOR_ID==a})),i="";s.length>0&&(i=s[0].OPERATOR_EXPRESSION),t.showSecondValue="between"==i,t.operator=a,t.operator_expression=i,"Is Null"==t.operator_expression||"Is Not Null"==t.operator_expression?(this.isEmpty=!0,t.is_required=!1,this.SetCondition()):(console.log("UnCheck"),this.SetCondition(),this.validateFilterData())},GetSearchFilterItemData:function(){var e={field_name:"",dt_code:"",operator:"",operator_expression:"",operator_list:[],first_value:"",second_value:"",showSecondValue:!1,picklist_options:[],label:"",display_name:"",dropdown_type:"",select_options:"",length:0,field_code:"",select_value:"",is_required:!1};this.filterItemData.push(e)},ApplyFilter:function(e){this.databaseCondition=e,checkVue.searchCondition=this.databaseCondition,"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction?this.callbackfunction():(this.$parent.PageSize=10,this.$parent.FetchData()),this.$emit("close")},EditFilter:function(e,t){this.showListData=!1,this.showAddData=!0,"NotSaved"!=t?(this.filterId=e.FILTER_ID,this.EditSearchFilterData(this.filterId)):(this.filterName=this.$parent.appliedFilter[0].field_name.split("(")[0],this.filterItemData=this.$parent.appliedFilter[0])},deleteFilter:function(e){this.filterId=e.FILTER_ID;var t=this,a=t.$t("Delete"),s=t.$t("ConfirmDeleteFilter")+t.$t("Remove");t.confirmR(s,!0,a,(function(){var a="id="+e.FILTER_ID+"&moduleName="+t.modulename+"&subModuleCode="+t.submodulecode+"&isDelete=1";l["a"].SearchCriteriaById(a).then((function(a){var s=a.data;null!=s&&"SUCCESS"==s.MSG&&(t.GetSearchFilterData(),e.DATABASE_CONDITION==t.$parent.searchCondition&&(t.$parent.searchCondition="","undefined"!=typeof t.callbackfunction&&null!=t.callbackfunction?t.callbackfunction():t.$parent.FetchData()),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Filter")]),"success",!0,t.$t("Filter")))}))}))},EditSearchFilterData:function(e){var t=this,a=0;t.TabId>0&&(a=t.TabId);var s="id="+e+"&type="+t.FilterType+"&tabId="+a+"&moduleName="+t.modulename+"&subModuleCode="+t.submodulecode;t.filterItemData=[],l["a"].SearchCriteriaByIdView(s).then((function(a){var s=a.data;if(null!=s){var i=s.DATA,l=A.a.grep(i,(function(t,a){return t.VIEW_ID==e}));if(null!=l&&l.length>0&&(t.condition=l[0].CONDITION,t.databaseCondition=l[0].DATABASE_CONDITION),0==i.length){var o={field_name:"",dt_code:"",operator:"",operator_expression:"",operator_list:"",value:"",second_value:"",showSecondValue:!1,picklist_options:"",label:"",dropdown_type:"",select_options:"",length:"",field_code:"",select_value:"",is_required:!1};t.filterItemData.push(o)}A.a.each(i,(function(e,a){var s=a.FIRST_VALUE,i=a.SECOND_VALUE;"date"==a.DT_CODE&&(s=t.formatDate(s),"between"==a.OPERATOR_EXPRESSION&&(i=t.formatDate(i)));var l={field_name:a.FIELD_ID,dt_code:a.DT_CODE,operator:a.OPERATOR_ID,operator_expression:a.OPERATOR_EXPRESSION,operator_list:t.MakeNormalArray(a.OPERATOR_LIST),value:t.MakeNormalArray(s),second_value:i,showSecondValue:!t.isBlank(a.SECOND_VALUE),picklist_options:a.PICKLIST_OPTIONS,label:a.LABEL,dropdown_type:a.DROPDOWN_TYPE,select_options:t.MakeNormalArray(a.SELECT_OPTIONS),length:a.LENGTH,field_code:a.FIELD_CODE,select_value:t.MakeNormalArray(a.SELECT_OPTIONS),is_required:a.IS_REQUIRED};t.filterItemData.push(l)})),t.SubmitData()}}))},ClearFilter:function(){this.$parent.appliedFilter[0].searchCondition==this.$parent.searchCondition&&(this.$parent.searchCondition="","undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction?this.callbackfunction():this.$parent.FetchData()),this.$parent.appliedFilter=[]},SubmitData:function(e){var t=this;t.$refs.form.validate().then(e=>{if(e=!!t.isEmpty,e){t.$parent.appliedFilter=[];var a=t.filterItemData,s=[];A.a.each(a,(function(e,a){var i=a.value,l=a.second_value;"select"==a.dt_code&&"custom"==a.dropdown_type&&(i=Array.isArray(a.value)?t.createString(a.value,"value"):a.value.value),"date"==a.dt_code&&(t.isBlank(l)||"between"!=a.operator_expression||(l=t.$options.filters.formatDate(l)),i=t.$options.filters.formatDate(a.value));var o={fieldId:a.field_name,operatorId:a.operator,firstValue:i,secondValue:l};s.push(o)})),"undefined"!=typeof t.CurrentObject&&null!=t.CurrentObject?t.CurrentObject.TabData=s:t.$parent.$parent.ViewData.FilterData=s}})},validateFilterData:function(){var e=this;e.filterItemData.length>0&&""!=e.filterItemData[0].field_name&&null!=e.filterItemData[0].field_name?void 0!=e.$parent.$parent.isFilterDataValidationError&&e.$refs.form.validate().then(t=>{e.$parent.$parent.isFilterDataValidationError=!t}):e.$parent.$parent.isFilterDataValidationError=!1},inputEvents(){},inputValue(){}}},D=y,N=Object(u["a"])(D,b,I,!1,null,null,null),w=N.exports,T={components:{mover:p,moveuser:g,searchfilter:w},props:{submodulecode:{type:String,required:!0},modulename:{type:String,required:!0},callbackfunction:{type:Function},show:{type:Boolean},usertype:{type:String}},data:function(){return{isLoading:!1,StatusId:this.dataselected,ViewData:{ViewId:0,Name:"",Description:"",ApplyTo:1,ApplicableUser:"",SelectedUser:"",Selectoptions:"",ViewTabData:[],Condition:"",FilterData:[],DatabaseCondition:""},ListUnselectedUsers:[],ListSelectedUsers:[],ListDepartment:[],UnselectedItems:[],SelectedItems:[],SubmoduleCode:this.submodulecode,ModuleName:this.modulename,ShowLisiting:!0,ListingData:[],TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,noRecord:!0,isClearViewDisabled:!0,isFilterDataValidationError:!1,toggleUserGuide:"d-none"}},created:function(){var e=this;e.GetViewList()},watch:{dataselected:function(e){this.StatusId=e}},methods:{close:function(){this.$parent.ShowManageView=!1,$("#modalManageView").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()},AddNewView:function(){this.ShowLisiting=!1,this.ViewData.ViewId=0,this.ViewData.Name="",this.FetchData()},BackToList:function(){this.ShowLisiting=!0},ClearView:function(){var e=this,t={ModuleName:e.ModuleName,SubmoduleCode:e.submodulecode},a=e.$t("Leave_Confirm_Part1")+" "+e.$t("Clear")+" "+e.$t("View")+"?";e.confirmR(a,!0,e.$t("Confirm"),(function(){var a=JSON.stringify(t);l["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.body.Code)?(e.ShowAlert(e.$t("ClearedSuccess",[e.$t("View")]),"Success",!0,e.$t("Alert")),e.close(),e.callbackfunction()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))}))},DefaultView:function(){var e=this,t={ModuleName:e.ModuleName,SubmoduleCode:e.submodulecode},a=JSON.stringify(t);l["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ApplySuccess",[e.$t("Default View")]),"success",!0,e.$t("Alert")),e.close(),e.callbackfunction(),e.GetViewList()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))},OnChangeToggle:function(e){var t=this;e.target.checked?t.ViewData.ApplyTo=1:t.ViewData.ApplyTo=0},isBlank:function(e){return!e||/^\s*$/.test(e)},GetLocalizedValue:function(e,t){if(this.isBlank(t)){var a=this.$t(String(e).toUpperCase());return a||/^\s*$/.test(a)?a:(a=$t(String(e)),a||/^\s*$/.test(a)?a:e)}a=this.$t(String(t).toUpperCase());return a||/^\s*$/.test(a)?a:(a=this.$t(String(t)),a||/^\s*$/.test(a)?a:t)},CreateString:function(e,t,a){return e.map((function(e){return"int"==a?e[t]:"'"+e[t]+"'"})).join(",")},GetViewList:function(){var e=this,t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode+"&viewId="+e.ViewData.ViewId+"&pageSize="+this.PageSize+"&pageNum="+this.PageNumber+"&sortBy="+this.SortBy+"&sortExp="+this.SortExp;l["a"].GetViewList(t).then((function(t){if(null!=t.data&&""!=t.data){e.ListingData=t.data.DATA,e.TotalRecords=e.ListingData[0].TOTAL_RECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1;var a=0;e.ListingData.forEach((function(e){e.IS_SLECTED_USER_ID>0&&(a+=1)}));var s=0;a>0?e.ListingData.splice(s,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:parseInt(e.TotalRecords+1),VIEW_TYPE:"",USER_LIST:""}):e.ListingData.splice(s,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:parseInt(e.TotalRecords+1),VIEW_TYPE:"",USER_LIST:""})}else e.noRecord=!1,e.TotalRecords=1,e.ListingData.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:e.TotalRecords,VIEW_TYPE:"",USER_LIST:""});setTimeout((function(){e.SetBootstraptoolTip()}),200),e.checkIfClearViewDisabled()}))},deleteView:function(e){var t=this;t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Remove"),(function(){var a={ids:e,moduleName:"",subModuleCode:"",refCode:"DELETE_HOME_MANAGE_VIEW"};t.isLoading=!0;var s=JSON.stringify(a);l["a"].CommonCommonDelete(s).then((function(e){t.isLoading=!1;"Success"==e.data[0].Status?(t.ShowAlert(t.$t("DeletedSuccess",[t.$t("View")]),"success",!0,t.$t("Alert")),t.callbackfunction(),$("#modalManageView").modal("hide"),window.location.reload()):t.ShowAlert(t.$t("DeletedError",[t.$t("View")]),"warning",!0,t.$t("Alert"))}))}))},EditManageView:function(e){var t=this;t.ViewData.ViewId=e;var a="moduleName="+t.modulename+"&subModuleCode="+t.submodulecode+"&id="+t.ViewData.ViewId;l["a"].GetViewById(a).then((function(e){if(null!=e.data){var a=e.data.DATA;a.length>0&&(a=a[0],t.ViewData.Name=a.VIEW_NAME,t.ViewData.Description=a.DESCRIPTION,t.ViewData.ApplyTo=a.IS_APPLICABLE_TO_ALL,t.ViewData.Condition=a.CONDITION,t.ViewData.DatabaseCondition=encodeURIComponent(a.DATABASE_CONDITION)),t.ShowLisiting=!1,t.FetchData()}}))},ApplyView:function(e,t){var a=this;if(0==e)a.DefaultView();else{var s={ViewId:e,ModuleName:a.ModuleName,SubmoduleCode:a.submodulecode},i=JSON.stringify(s);l["a"].ApplyView(i).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(a.ShowAlert(a.$t("ApplySuccess",[a.$t(t)]),"success",!0,a.$t("Alert")),a.$emit("refreshViewDropdown"),a.callbackfunction(),a.close()):a.ShowAlert(a.$t("AddedError",[a.$t("View")]),"failure",!0,a.$t("Alert"))}))}},SaveViewData:function(){var e=this;$("#spnlistfieldssmessage").hide(),$("#spnusersmessage").hide(),$("#spncardfieldssmessage").hide(),$("#spncardtabsmessage").hide(),null!=e.SelectedItems&&0!=e.SelectedItems.length||$("#spnlistfieldssmessage").show(),"0"!=e.ViewData.IsApplicableToAll||null!=e.ListSelectedUsers&&0!=e.ListSelectedUsers.length||$("#spnusersmessage").show(),e.$refs.ManageViewLayoutData.validate().then(t=>{if(t){var a=[];$.each(e.SelectedItems,(function(e,t){var s={id:t.value,order:e+1,isSortable:t.isSortable};a.push(s)})),e.ViewData.DatabaseCondition=decodeURIComponent(e.ViewData.DatabaseCondition);var s={ViewData:e.ViewData,ListFields:a,FilterData:e.ViewData.FilterData,ShareUsers:e.CreateString(e.ListSelectedUsers,"value","int"),ModuleName:e.ModuleName,SubmoduleCode:e.submodulecode},i=JSON.stringify(s);l["a"].SaveView(i).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ViewData.ViewId>0?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("View")]),"success",!0,e.$t("Alert")),e.$emit("refreshViewDropdown"),e.callbackfunction()):(e.ShowAlert(e.$t("AddedSuccess",[e.$t("View")]),"success",!0,e.$t("Alert")),e.$emit("refreshViewDropdown"),e.callbackfunction()),e.GetViewList(),e.ShowLisiting=!0,e.close()):e.ShowAlert(e.$t("AddedError",[e.$t("View")]),"failure",!0,e.$t("Alert"))}))}else console.log(this.$refs.ManageViewLayoutData.errors)})},FetchData:function(){var e=this;e.isLoading=!0;var t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode+"&viewId="+e.ViewData.ViewId;e.UnselectedItems=[],e.SelectedItems=[],l["a"].ViewListFields(t).then((function(t){if(t.data.AVAILABLE_FIELDS.length!==t.data.SELECTED_FIELDS.length)for(var a=t.data.AVAILABLE_FIELDS.length-1;a>=0;a--)for(var s=0;s<t.data.SELECTED_FIELDS.length;s++)t.data.AVAILABLE_FIELDS[a]&&t.data.AVAILABLE_FIELDS[a].NAME===t.data.SELECTED_FIELDS[s].NAME&&t.data.AVAILABLE_FIELDS.splice(a,1);t.data.AVAILABLE_FIELDS.length>0&&$.each(t.data.AVAILABLE_FIELDS,(function(t,a){var s={value:a.CUSTOM_FIELD_ID,displayValue:a.DISPLAY_NAME,isSortable:a.IS_SORTABLE,displayOrder:a.DISPLAY_ORDER,isSelected:!1,isSystemGenerated:a.IS_SYSTEM_GENERATED,isSortableEnabled:a.IS_SORTABLE_ENABLE};e.UnselectedItems.push(s)})),$.each(t.data.SELECTED_FIELDS,(function(t,a){var s={value:a.CUSTOM_FIELD_ID,displayValue:a.DISPLAY_NAME,isSortable:a.IS_SORTABLE,displayOrder:a.DISPLAY_ORDER,isSelected:!1,isSystemGenerated:a.IS_SYSTEM_GENERATED,isSortableEnabled:a.IS_SORTABLE_ENABLE};e.SelectedItems.push(s)})),e.isLoading=!1,e.FetchUserData()}))},FetchUserData:function(){var e=this;e.isLoading=!0,e.ListUnselectedUsers=[],e.ListSelectedUsers=[];var t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode+"&viewId="+e.ViewData.ViewId;l["a"].ViewListUsers(t).then((function(t){e.isLoading=!1;$.each(t.data.AVAILABLE_FIELDS,(function(t,a){var s={value:a.USER_ID,displayValue:a.USER_NAME,departmentName:a.DEPARTMENT_NAME,isSelected:!1};e.ListUnselectedUsers.push(s)})),$.each(t.data.SELECTED_FIELDS,(function(t,a){var s={value:a.USER_ID,displayValue:a.USER_NAME,departmentName:a.DEPARTMENT_NAME,isSelected:!1};e.ListSelectedUsers.push(s)}))}))},ShowNextTab:function(e){var t=this;if(2==e)$("#scrollbarreplyuserguideMangeView .con").html(t.$t("MangeViewUG2")),""==$.trim(t.ViewData.Name)?t.ShowAlert(t.$t("Required",[t.$t("ViewName")]),"warning",!0,t.$t("Alert")):2==t.ViewData.ApplyTo&&0==t.ListSelectedUsers.length?t.ShowAlert(t.$t("PleaseSelectAtleastOneUser"),"warning",!0,t.$t("Alert")):($(".view_tab a").removeClass("active show"),$("li.selectcolumn").find("a").addClass("active"),$(".view_tab .tab-pane").removeClass("active show"),$(".view_tab a[href='#step2']").addClass("active show"),$(".view_tab #step2").addClass("active show"));else if(3==e){$("#scrollbarreplyuserguideMangeView .con").html(t.$t("MangeViewUG3"));var a=25;""==$.trim(t.ViewData.Name)?t.ShowAlert(t.$t("Required",[t.$t("ViewName")]),!0,"warning",t.$t("Alert")):2==t.ViewData.ApplyTo&&0==t.ListSelectedUsers.length?t.ShowAlert(t.$t("PleaseSelectAtleastOneUser")):0==t.SelectedItems.length?t.ShowAlert(t.$t("Pleaseselectatleastonecolumn"),"warning",!0,t.$t("Alert")):t.SelectedItems.length>a?t.ShowAlert(t.$t("SelectFieldMessage",[a]),"warning",!0,t.$t("Alert")):($(".view_tab a").removeClass("active show"),$("li.filter").find("a").addClass("active"),$(".view_tab .tab-pane").removeClass("active show"),$(".view_tab a[href='#step3']").addClass("active show"),$(".view_tab #step3").addClass("active show"))}},checkIfClearViewDisabled:function(){var e=this;if(null!=e.ListingData&&e.ListingData.length>0){var t=e.ListingData.filter((function(e){return e.IS_SLECTED_USER_ID>0}));t.length>0?e.isClearViewDisabled=!1:e.isClearViewDisabled=!0}else e.isClearViewDisabled=!0},ShowTabData:function(e){"1"==e?($("#scrollbarreplyuserguideMangeView .con").html(this.$t("MangeViewUG1")),$("li.general").find("a").addClass("active"),$("li.selectcolumn").find("a").removeClass("active"),$("li.filter").find("a").removeClass("active"),$("div#step1").addClass("active show"),$("div#step2").removeClass("active show"),$("div#step3").removeClass("active show")):"2"==e?($("#scrollbarreplyuserguideMangeView .con").html(this.$t("MangeViewUG2")),$("li.general").find("a").removeClass("active"),$("li.selectcolumn").find("a").addClass("active"),$("li.filter").find("a").removeClass("active"),$("div#step1").removeClass("active show"),$("div#step2").addClass("active show"),$("div#step3").removeClass("active show")):"3"==e&&($("#scrollbarreplyuserguideMangeView .con").html(this.$t("MangeViewUG3")),$("li.general").find("a").removeClass("active"),$("li.selectcolumn").find("a").removeClass("active"),$("li.filter").find("a").addClass("active"),$("div#step1").removeClass("active show"),$("div#step2").removeClass("active show"),$("div#step3").addClass("active show")),this.$forceUpdate()},ShowUserGuide(){var e=this;"d-none"==e.toggleUserGuide&&(e.toggleUserGuide="d-block")}}},P=T,L=Object(u["a"])(P,s,i,!1,null,null,null);t["a"]=L.exports},"89f9":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".vue-treeselect__control{border:none;height:24px;padding:0}.vue-treeselect--searchable .vue-treeselect__input-container{padding:0!important}.vue-treeselect__placeholder{color:#303030!important}.vue-treeselect__control-arrow{color:#000}.vue-treeselect__placeholder{line-height:24px}.avail-calender .is-interactive,.divancuserguide{z-index:100000!important}.searchByProduct .vue-treeselect--single .vue-treeselect__control{border:none!important;box-shadow:none}.searchByProduct .vue-treeselect--single .vue-treeselect__control .vue-treeselect__placeholder{padding:0}.searchByProduct .vue-treeselect--single .vue-treeselect__control .vue-treeselect__single-value{padding:0;line-height:27px}",""]),e.exports=t},"9c39":function(e,t,a){var s=a("3da3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("0e41de82",s,!0,{sourceMap:!1,shadowMode:!1})},a872:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,"#tblassestgroupinfo .pair_select{max-width:278px}.table-responsive .unique_dynamicdatalist{margin-bottom:3px;position:unset}#tblassestgroupinfo .pair_select .form-control{height:37.2px!important}input#isCheck:checked+.slider{text-indent:0!important}",""]),e.exports=t},b6cc:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,"span#action-list{display:flex;align-items:center}.vue-treeselect__input{border:1px solid #abb5bf;padding:4px 12px}.vue-treeselect__single-value{padding-left:12px}.custom-checkbox .custom-control-input:checked~.custom-control-label:after,.custom-radio .custom-control-input:checked~.custom-control-label:after{display:block}#accordionEx .vue-treeselect__control{border:none;height:35px;padding:0}",""]),e.exports=t},c3f7:function(e,t,a){var s=a("a872");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("92a33bee",s,!0,{sourceMap:!1,shadowMode:!1})},d5ea:function(e,t,a){var s=a("f06c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("603b985a",s,!0,{sourceMap:!1,shadowMode:!1})},d6a3:function(e,t,a){var s=a("7132");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("42158aa0",s,!0,{sourceMap:!1,shadowMode:!1})},d6e6:function(e,t,a){var s=a("b6cc");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("088ba432",s,!0,{sourceMap:!1,shadowMode:!1})},e660:function(e,t,a){"use strict";a("d5ea")},f06c:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".vue-treeselect__menu-container{z-index:99999!important}.vue-treeselect__control{border:1px solid #abb5bf!important;overflow:hidden}.unique_dynamicdatalist{border:none;border-top:none;margin-top:1px}.pair_select .form-control{height:37px!important}.vue-treeselect--single .vue-treeselect__input{box-sizing:border-box;border:none;padding:0}.searchByProduct .vue-treeselect--single .vue-treeselect__control .vue-treeselect__placeholder{padding:0}",""]),e.exports=t},f9bd:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header d-flex"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("AddRelationship"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button",title:"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})]),t("span",{staticClass:"user-guide"},[e._m(0),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("USERGUIDE_AC_ADD_RELATIONSHIP"))}})])])])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"rad_value",attrs:{type:"radiobutton"}},[t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{staticClass:"custom-control-input dynamic IssuedByIds",attrs:{type:"radio",id:"SearchProductName",name:"SearchProduct",value:"CheckedCheckBox"},domProps:{checked:e.SearchByBarcode},on:{change:function(t){return e.searchByProduct("barcode")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"SearchProductName"}},[e._v(e._s(e.$t("SearchbyBarcodeRFID")))])]),t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{staticClass:"custom-control-input dynamic IssuedByIds",attrs:{type:"radio",id:"SearchProducts",name:"SearchProduct",value:"CheckedCheckBox"},domProps:{checked:!e.SearchByBarcode},on:{change:function(t){return e.searchByProduct("product")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"SearchProducts"}},[e._v(e._s(e.$t("SearchbyProduct")))])])])]),e.SearchByBarcode?[t("Form",{ref:"ProductSearch",staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[t("div",{staticClass:"col-12 float-left mt-3 SearchByBarcode p-0"},[t("div",{staticClass:"col-12 col-sm-12 float-left"},[t("div",{staticClass:"form-group mb-3"},[t("label",[t("span",{attrs:{id:""}},[e._v(e._s(e.$t("Searchby"))+" "+e._s(e.$t("Barcode"))+"/"+e._s(e.$t("SerialNumber"))+"/"+e._s(e.$t("RFID"))+":")])]),t("span",{staticClass:"text-danger"},[e._v("*")]),t("Field",{staticClass:"w-100",attrs:{name:"BarCode",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.txtBarcode,expression:"txtBarcode"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"BarCode",placeholder:"Enter Barcode",type:"text"},domProps:{value:e.txtBarcode},on:{keyup:function(t){return e.GetLocationDataByBarcode()},input:function(t){t.target.composing||(e.txtBarcode=t.target.value)}}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"BarCode"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!1,1518215686)})],1)])]),t("div",{staticClass:"col-9 float-left searchByProduct"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"Subject"}},[e._v(e._s(e.$t("Location"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{staticClass:"w-100",attrs:{name:"Location",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:e.LocationValueForBarCode,expression:"LocationValueForBarCode"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"Location"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.LocationValueForBarCode=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select"))+" ")]),""!=e.LocationValueForBarCode?t("option",{attrs:{disabled:e.LocationValueForBarCode},domProps:{value:e.LocationValueForBarCode}},[e._v(" "+e._s(e.LocationName)+" ")]):e._e()]),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!1,652108480)})],1)]),t("div",{staticClass:"col-sm-6 col-md-6 col-lg-3 float-left pl-md-0 mt-0 mt-md-4 mt-sm-4"},[t("div",{staticClass:"background-0 text-left w-100 form-check-inline"},[t("input",{attrs:{type:"hidden",id:"hdnSearch",value:""}}),t("a",{staticClass:"btn btn-success w-50 mr-1 px-4 hlsearch",attrs:{title:"Search",id:"Searchassest_barcode",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:function(t){return e.SearchAssetByBarCode()}}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger w-50 clearsearchtext px-4",attrs:{id:"aClear",href:"javascript:;",title:"Clear all ","data-toggle-tooltip":"tooltip","data-original-title":"Clear"},on:{click:function(t){return e.ClearhdnIdsOnChange()}}},[t("em",{staticClass:"fa fa-refresh"})])])])])]:e._e(),e.SearchByBarcode?e._e():[t("Form",{ref:"ProductSearchBar",staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[t("div",{staticClass:"col-12 float-left searchByProduct"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("Location"))),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{staticClass:"w-100",attrs:{name:"Location",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("tree-view",{class:{"form-control":!0,"is-invalid":a[0]},attrs:{options:e.options,placeholder:"Select Location","show-count":!0,flat:!0},on:{input:function(t){return e.BindItemTypeByUserId(e.TreeValue)}},model:{value:e.TreeValue,callback:function(t){e.TreeValue=t},expression:"TreeValue"}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!1,3113012843)})],1)]),t("div",{staticClass:"col-12 float-left",attrs:{id:"searchByProduct"}},[t("div",{staticClass:"col-12 float-left pl-0 py-2"},[t("div",{staticClass:"rad_value",attrs:{type:"radiobutton"}},[t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"ProductNameItem",value:"ProductName"},domProps:{checked:e.IsProductName},on:{change:function(t){return e.searchByItemName("ProductName")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"ProductNameItem"}},[e._v(e._s(e.$t("AssetId")))])]),t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"ItemName",value:"Product"},domProps:{checked:!e.IsProductName},on:{change:function(t){return e.searchByItemName("Product")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"ItemName"}},[e._v(e._s(e.$t("ItemName")))])])])]),t("br"),e.IsProductName?t("div",{staticClass:"col-9 float-left pl-0"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("ProductName"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{staticClass:"w-100",attrs:{name:"Product",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:e.txtAssetType,expression:"txtAssetType"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"AssetTypeData"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.txtAssetType=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v("Select")]),e._l(e.AssetTypeData,(function(a,s){return t("option",{key:s,domProps:{value:a.Value}},[e._v(e._s(a.Text)+" ")])}))],2),a[0]?t("span",{staticClass:"invalid-feedback d-block"},[e._v(e._s(a[0]))]):e._e()]}}],null,!1,4283199202)})],1)]):e._e(),e.IsProductName?e._e():t("div",{staticClass:"col-9 float-left pl-0"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("ItemName"))+":"),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("Field",{staticClass:"d-flex pair_select",attrs:{name:"Item Name",rules:{required:!0},label:"Item Name"},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("div",{staticClass:"input-group mb-3",staticStyle:{position:"relative"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.assetUniqueItem,expression:"assetUniqueItem"}],staticClass:"form-control",class:{"form-control":!0,"is-invalid":a[0]},attrs:{id:"txtAssetItems",name:"Item Name",placeholder:"Enter Product Name",type:"text"},domProps:{value:e.assetUniqueItem},on:{keyup:e.Filterditems,input:function(t){t.target.composing||(e.assetUniqueItem=t.target.value)}}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Item Name"}},[e._v(e._s(a[0]))]):e._e(),t("div",{staticClass:"unique_dynamicdatalist"},[e.IsDDLShowHide?t("ul",{staticClass:"listOfProduct"},e._l(e.UniqueItemData,(function(a,s){return t("li",{key:s,staticClass:"listitem all-items",attrs:{value:a.Value},on:{click:function(t){return e.uniqueItemChange(a)}}},[e._v(" "+e._s(a.Name))])})),0):e._e()])]),t("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none","max-height":"37px"},attrs:{href:"javascript:;",id:"customddlinput"},on:{click:e.itemDDLShowHide}},[t("em",{staticClass:"dropdown-toggle float-right"})])]}}],null,!1,2000878517)})],1)]),t("div",{staticClass:"col-sm-8 col-md-8 col-lg-3 float-left pl-md-0 mt-0 mt-md-4 mt-sm-4 pr-0"},[t("div",{staticClass:"background-0 text-left w-100 form-check-inline"},[t("input",{attrs:{type:"hidden",id:"hdnSearch",value:""}}),t("a",{staticClass:"btn btn-success w-50 mr-1 px-4 hlsearch",attrs:{title:"Search",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:function(t){return e.SearchAssetByProduct()}}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger w-50 clearsearchtext px-4",attrs:{id:"aClear",href:"javascript:;",title:"Clear all ","data-toggle-tooltip":"tooltip","data-original-title":"Clear"},on:{click:function(t){return e.ClearhdnIdsOnChange()}}},[t("em",{staticClass:"fa fa-refresh"})])])])])])]],2),e.searchResult?t("AddrelationListing",{attrs:{ProductData:e.ProductData,UniqueData:e.UniqueData,isDataLoaded:e.isDataLoaded,LocationValueForBarCode:e.LocationValueForBarCode,iselectVal:e.iselectVal,txtBarcode:e.txtBarcode,txtAssetType:e.txtAssetType,LocationValue:e.TreeValue,AssetData:e.AssetData,FetchData:e.FetchData,ClosePopup:e.ClosePopup,IsProduct:e.IsProduct,checkItem:e.checkItem,assignTillDate:e.assignTillDate,CreateUniqueNameListing:e.CreateUniqueNameListing,AssetCatalogueId:e.AssetCatalogueId}}):e._e()],1)])])])])])],1)},i=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t("em",{staticClass:"fa fa-files-o pr-2"}),e._v("User Guide")])}],l=(a("14d9"),a("1115")),o=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"col-12 listing tblassestgroupinfo px-0"},[t("div",{staticClass:"col-0 productNote"},["ProductName"==e.IsProduct?t("small",[e._v(e._s(e.$t("NoteUniqueItems")))]):e._e(),"Product"==e.IsProduct?t("small",[e._v(e._s(e.$t("UniqueItems")))]):e._e()]),t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblassestgroupinfo"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("SerialNumber")))])]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("ItemName")))])]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("PairProduct")))])]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("ItemMandatoryForCheckOut")))])]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("Action")))])])])]),t("tbody",[e._l(e.ProductData,(function(a,s){return t("tr",{key:s},[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s+1)+" ")]),t("td",[e._v(e._s(a.Name))]),0==e.CreateUniqueNameListing?t("td",{staticClass:"text-center"},[null==e.LocationValueForBarCode?t("select",{ref:"productn",refInFor:!0,staticClass:"form-control",class:{"is-invalid":!a.isValidation},on:{change:function(t){return e.bindProductItem(t,a.count)}}},[t("option",{attrs:{value:""}},[e._v("Select Product Name")]),e._l(e.AssetData,(function(a,s){return t("option",{key:s,domProps:{value:a.Value}},[e._v(" "+e._s(a.Text)+" ")])}))],2):t("select",{ref:"barcode",refInFor:!0,staticClass:"form-control",class:{"is-invalid":!a.isValidation},on:{change:function(t){return e.bindProductItem(t,a.count)}}},[t("option",{attrs:{value:""}},[e._v("Select Product Name")]),e._l(e.AssetData,(function(a,s){return t("option",{key:s,domProps:{value:a.Value}},[e._v(" "+e._s(a.Text)+" ")])}))],2)]):t("td",{staticClass:"text-center"},e._l(a.PairProductDetails,(function(s){return t("Field",{key:s.index,staticClass:"d-flex pair_select",attrs:{name:"Item Name",rules:{required:!0},label:"Item Name"},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("div",{staticClass:"input-group",staticStyle:{position:"relative"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.pairProductName,expression:"nitem.pairProductName"}],staticClass:"form-control",class:{"form-control":!0,"is-invalid":i[0]},attrs:{id:"txtAssetItems",name:"Item Name",placeholder:"Enter Product Name",type:"text"},domProps:{value:s.pairProductName},on:{keyup:e.Filterditems,input:function(t){t.target.composing||e.$set(s,"pairProductName",t.target.value)}}}),t("div",{staticClass:"unique_dynamicdatalist"},[e.IsDDLShowHide?t("ul",{staticClass:"listOfProduct"},e._l(e.UniqueItemData1,(function(s,i){return t("li",{key:i,staticClass:"listitem all-items",attrs:{value:s.Value},on:{click:function(t){return e.bindUniqueItem(t,a.count)}}},[e._v(" "+e._s(s.Name))])})),0):e._e()])]),t("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none","max-height":"37px"},attrs:{href:"javascript:;",id:"customddlinput"},on:{click:e.itemDDLShowHide}},[t("em",{staticClass:"dropdown-toggle float-right"})])]}}],null,!0)})})),1),t("td",{staticClass:"text-center"},[t("div",{staticClass:"form-group mb-0"},[t("label",{staticClass:"switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.IsMandatory,expression:"item.IsMandatory"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"isCheck",type:"checkbox"},domProps:{checked:Array.isArray(a.IsMandatory)?e._i(a.IsMandatory,null)>-1:a.IsMandatory},on:{change:[function(t){var s=a.IsMandatory,i=t.target,l=!!i.checked;if(Array.isArray(s)){var o=null,r=e._i(s,o);i.checked?r<0&&e.$set(a,"IsMandatory",s.concat([o])):r>-1&&e.$set(a,"IsMandatory",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(a,"IsMandatory",l)},function(t){return e.ChangeCheck(t)}]}}),e._m(0,!0)])])]),t("td",{staticClass:"text-center single-action"},[parseInt(e.result)==parseInt(s+1)?t("a",{attrs:{href:"javascript:;",id:"addProduct",title:"Add Product"},on:{click:function(t){return e.AddMoreItem(a)}}},[t("i",{staticClass:"fa fa-plus px-4 text-success"})]):e._e(),t("a",{attrs:{href:"javascript:;",title:"Delete"},on:{click:function(t){return e.deleteItem(a.count)}}},[t("i",{staticClass:"fa fa-trash px-4 text-danger"})])])])})),0==e.NoRecordLength?t("tr",[t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v("No Record Found")])]):e._e()],2)])]),e.ProductData.length>0?t("div",{staticClass:"col-12 text-right mt-3"},[t("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SubmitData()}}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Save"))+" ")]),e._v("  "),t("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:"Cancel",id:"ancCancelgroupRequisition"},on:{click:e.RelationPopUpClose}},[t("i",{staticClass:"fa fa-close pr-2"}),e._v(e._s(e.$t("Cancel")))])]):e._e()])])},r=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"slider round"},[t("span",{staticClass:"slider-yes"},[e._v("Yes")]),t("span",{staticClass:"slider-no"},[e._v("No")])])}],n={props:{UniqueData:{type:Array,required:!0},ProductData:{type:Array},LocationValue:{type:Number},txtAssetType:{type:Number},iselectVal:{type:Number},ClosePopup:{type:Function},LocationValueForBarCode:{type:Number},txtBarcode:{type:String},FetchData:{type:Function},AssetData:{type:Array},IsProduct:{type:String},assignTillDate:{type:String},checkItem:{type:Number},AssetCatalogueId:{type:Number},CreateUniqueNameListing:{}},data(){return{NoRecordLength:0,noDataAvailable:"No Product is available in the items list.",isCheckDeployItem:"",product:{},Relations:[],sliderValue:0,IsMandatory:!1,ChildId:null,result:1,isVal:!1,UniqueItemData1:[],IsDDLShowHide:!1,assetUniqueItemValue:"",filterRecodes:[]}},created:function(){var e=this;if(null!=e.assignTillDate||null!=e.checkItem)return e.isVisible=!1,e.$parent.searchResult=!1,e.ShowAlert(e.$t("Product is already assigned to someone untill  "+e.assignTillDate),"warning",e.$t("Alert"));if(e.isVisible=!0,e.NoRecordLength=e.ProductData.length,e.UniqueItemData1=e.UniqueData,e.UniqueItemData1.length>0){let t=[],a={pairProductName:"",pairProductId:null};t.unshift(a),e.ProductData.forEach(e=>{e.PairProductDetails=t})}},updated(){var e=this;e.UniqueItemData1=e.UniqueData,e.lastItem()},methods:{lastItem(){var e=this;e.result=this.ProductData.length,e.NoRecordLength=this.ProductData.length},itemDDLShowHide:function(){this.IsDDLShowHide=!this.IsDDLShowHide},uniqueItemChange:function(e){var t=this;t.iselectValue=e.Value,t.assetUniqueItemValue=e.Name,t.IsDDLShowHide=!1},Filterditems:async function(){let e=this;e.filterRecodes=[],e.isLoading=!0;let t="";t=`assetCatalogId=&name=${e.assetUniqueItemValue}&issueTo=&locationId=${e.LocationValue}&requestFrom=addAssetRelationShip&assetType=`,await l["a"].GetUniqueAssetItems(t).then((function(t){e.filterRecodes=t.data,e.SuniqueItemData=t.data,null!=e.filterRecodes?(1==e.filterRecodes.length?(e.IsDDLShowHide=!0,e.uniqueItemChange(...e.filterRecodes)):(e.UniqueItemData1=[],e.UniqueItemData1=e.filterRecodes,e.IsDDLShowHide=!0),e.isLoading=!1):e.isLoading=!1}))},ChangeCheck:function(e){var t=this;return t.IsMandatory=!1,1==e.target.checked?void(null!=t.ChildId&&(t.Relations.forEach(e=>{var a=t.Relations.some(e=>e.ChildId===t.ChildId);e.IsMandatory=1==a}),t.IsMandatory=!1)):t.IsMandatory=!1},AddMoreItem(e){var t=this;if(null!=t.ChildId){if(null!=t.iselectVal){let a=[],s={pairProductName:"",pairProductId:null};a.push(s);const i={Name:0==t.CreateUniqueNameListing?e.AssetCatalogName:e.AssetCatalogName+"("+e.AssetUniqueName+")",count:t.ProductData.length+1,isValidation:!1,PairProductDetails:a};return t.ProductData.push(i),void(t.ChildId=null)}{const a={Name:0==t.CreateUniqueNameListing?e.AssetCatalogName:e.AssetCatalogName+"("+e.AssetUniqueName+")",count:t.ProductData.length+1,isValidation:!1};t.ProductData.push(a),t.ChildId=null}}else t.ProductData.map(e=>{if(1==e.count)return e.isValidation=!1}),t.ShowAlert(t.$t("Product Name is required."),"warning",t.$t("Alert"))},bindProductItem(e,t){var a=this,s=[];let i=!1;if(a.ChildId=parseInt(e.target.value),1==t&&(a.Relations=[],0==a.Relations.length)){let e={ChildId:a.ChildId,IsMandatory:!1};return a.Relations.unshift(e),void a.ProductData.map(e=>{if(e.count==t)return e.isValidation=!0})}s.push(a.Relations),s.forEach(s=>{if(i=a.Relations.some(t=>t.ChildId===parseInt(e.target.value)),0==i){let e={ChildId:a.ChildId,IsMandatory:!1};return a.Relations.push(e),void a.ProductData.forEach(e=>{e.count==t&&(e.isValidation=!0)})}return e.target.value=null,a.ChildId=null,a.ShowAlert(a.$t("Relation with this Product Has already been added."),"failure",a.$t("Alert"))})},bindUniqueItem(e,t){var a=this,s=[];let i=!1,l=[],o=a.UniqueItemData1.find(t=>t.Value==e.target.value);if(a.ChildId=parseInt(e.target.value),1==t){if(void 0==o)return;if(a.ProductData.forEach(e=>{e.count==t&&e.PairProductDetails.forEach(e=>{e.pairProductId=parseInt(o.Value),e.pairProductName=o.Name})}),a.Relations=[],0==a.Relations.length){let e={ChildId:a.ChildId,IsMandatory:!1};return a.Relations.unshift(e),a.ProductData.map(e=>{if(e.count==t)return e.isValidation=!0}),void(a.IsDDLShowHide=!1)}}let r={pairProductName:o.Name,pairProductId:parseInt(o.Value)};l.unshift(r),a.ProductData.forEach(e=>{e.count==t&&(e.PairProductDetails=l)}),s.push(a.Relations),s.forEach(s=>{if(i=a.Relations.some(t=>t.ChildId===parseInt(e.target.value)),0==i){let e={ChildId:a.ChildId,IsMandatory:!1};return a.Relations.push(e),a.ProductData.forEach(e=>{e.count==t&&(e.isValidation=!0)}),void(a.IsDDLShowHide=!1)}return e.target.value=null,a.ChildId=null,a.ShowAlert(a.$t("Relation with this Product Has already been added."),"failure",a.$t("Alert"))})},deleteItem(e){var t=this;t.confirmR(t.$t("Are you sure you want to delete these record(s)?"),!0,!1,(function(a){const s=t.ProductData.findIndex(t=>t.count===e);if(-1!==s&&t.ProductData.splice(s,1),t.ShowAlert(t.$t("Item has been deleted Successfully "),"success",t.$t("Alert")),0==t.ProductData.length)return t.UniqueItemData1=[],t.$parent.searchResult=!1}))},SubmitData:function(){var e=this;let t={};if(""==this.LocationValueForBarCode||null==e.LocationValueForBarCode){if(0==e.Relations.length)return e.ProductData.forEach(e=>{if(1==e.count)return e.isValidation=!1}),e.ShowAlert(e.$t("Product Name is required."),"warning",e.$t("Alert"));t={ParentId:this.txtAssetType?parseInt(this.txtAssetType):this.iselectVal,type:this.txtAssetType?"ProductName":"Product",LocationId:this.LocationValue,Relations:e.Relations}}else{if(e.Relations.length<=0)return e.ShowAlert(e.$t("Pair Product Name is required."),"warning",e.$t("Alert"));t={ParentId:this.AssetCatalogueId,type:"ProductName",LocationId:this.LocationValueForBarCode,Relations:e.Relations}}l["a"].SaveAssetRelationship(t).then(t=>{if(null!=t.data){var a=t.data;if(0==a.status)return this.RelationPopUpClose(),e.ShowAlert(e.$t("Add relationship Submitted successfully "),""+a.msg,e.$t("Alert"));e.ShowAlert(e.$t("Something went wrong"),""+a.msg,e.$t("Alert"))}})},RelationPopUpClose(){this.$parent.ClosePopup()}}},c=n,d=(a("7e1b"),a("2877")),u=Object(d["a"])(c,o,r,!1,null,null,null),m=u.exports,p=a("ca17"),f=a.n(p),h=(a("542c"),{components:{AddrelationListing:m,"tree-view":f.a},props:{FetchData:{type:Function}},data(){return{SearchByBarcode:!0,IsProductName:!0,SearchByProduct:!1,LocationData:null,TreeValue:null,LocationValueForBarCode:null,AssetTypeData:[],txtBarcode:null,txtAssetType:0,searchResult:!1,isLoading:!1,IsDDLShowHide:!1,assetUniqueItem:"",iselectVal:null,UniqueItemData:[],LocationName:"",ProductData:[],options:[],isuniqueSearch:"No",AssetData:[],UniqueData:[],filterRecodes:[],SuniqueItemData:[],showProductDropdown:!1,IsProduct:"ProductName",assignTillDate:null,checkItem:null,isDataLoaded:!1,UniqueItems:[],AssetCatalogueId:null,CreateUniqueNameListing:!1}},created:function(){var e=this;e.searchByProduct("barcode"),e.GetLocationByCompanyId()},methods:{GetLocationDataByBarcode:async function(){var e=this;e.isLoading=!0;var t=`barcode=${this.txtBarcode}&reqFrom=addAssetRelationShip`;await l["a"].GetLocationByBarcode(t).then(t=>{null!=t.data[0]?(e.LocationName=t.data[0].LOCATION_NAME,e.LocationValueForBarCode=t.data[0].LOCATION_ID,e.isLoading=!1):e.isLoading=!1})},searchByProduct:function(e){var t=this;this.SearchByBarcode=!1,"barcode"==e?(t.isdata=!1,t.searchResult=!1,t.SearchByBarcode=!0,t.CheckedCheckBox="SearchProductName",t.BarcodeSelected="BarCodeSearch",t.ProductData=[]):(t.isdata=!0,t.SearchByBarcode=!1,t.searchResult=!1,t.CheckedCheckBox="SearchProducts",t.BarcodeSelected="ProductSearch",t.ProductData=[])},ClearhdnIdsOnChange:function(){var e=this;e.txtBarcode="",e.ProductData=[],e.LocationValueForBarCode="",e.TreeValue=null,e.assetUniqueItem="",e.searchByProduct("barcode")},itemDDLShowHide:function(){this.IsDDLShowHide=!this.IsDDLShowHide},uniqueItemChange:function(e){var t=this;t.iselectVal=e.Value,t.assetUniqueItem=e.Name,t.IsDDLShowHide=!1},searchByItemName:function(e){var t=this;t.IsProductName=!1,"ProductName"==e?(t.IsProductName=!0,t.IsProduct="ProductName",t.assetUniqueItem="",t.searchResult=!1):(t.IsProductName=!1,t.searchResult=!1,t.IsProduct="Product")},BindItemTypeByUserId:async function(e){var t=this;if(t.isLoading=!0,"undefined"!=typeof e){var a=`id=&isView=&barcode=&assetType=&assetUniqueId=&selfCheckout=&reqFrom=addAssetRelationShip&isFor=&isuniqueSearch=&issueTo=&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=${t.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;await l["a"].GetCompanyAssestCatalogsDetalis(a).then(e=>{t.AssetTypeData=e.data.Result,t.GetAssetUniqueData(),t.isLoading=!1})}else t.isLoading=!1},GetLocationByCompanyId:async function(){var e=this,t="reqForm=assetassignment";await l["a"].GetLocationByuserId(t).then(t=>{e.FindalLocationArray=[],t.data.data.forEach(a=>{var s=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==s.length&&null==a.PARENT_LOCATION_ID){let s=a.COMPANY_LOCATION_ID,i=e.getChildLocation(s,a,t.data.data);e.FindalLocationArray.push(i)}}),e.options=e.FindalLocationArray})},getChildLocation:function(e,t,a){let s=this,i={};i={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let l=i;var o=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let r=[];return o.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var l=r.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==l.length){var o=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=o&&o.length>0){let i=s.getChildLocation(t,e,a);r.push(i)}else i={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},r.push(i)}}),l.children=r,l},ClosePopup(){this.$parent.CloseAddRelationShipPopup()},SearchAssetByBarCode:async function(){var e=this;e.isLoading=!0,e.isuniqueSearch="yes",null==e.LocationValueForBarCode?e.isLoading=!1:await e.getNonUniqueProductsByBarcodeLocation();var t=`id=&catalogueIds=&uniqueIds=&isView=1&assetType=&barcode=${e.txtBarcode}&assetUniqueId=&issueTo=&reqFrom=addAssetRelationShip&isFor=search&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=${e.LocationValueForBarCode}&RFID=&isuniqueSearch=no`;e.$refs.ProductSearch.validate().then(async a=>{if(a){let a=await l["a"].GetCompanyAssestCatalogsDetalis(t);if(a.data.length>0){var s,i;if(e.CreateUniqueNameListing=null===(s=a.data[0])||void 0===s?void 0:s.CreateUniqueNameListing,1==e.CreateUniqueNameListing){var o,r;let t=null===(o=a.data[0])||void 0===o?void 0:o.ParentUniqueId,s=null===(r=a.data[0])||void 0===r?void 0:r.LocationId;await e.getUniqueAssetItemsExceptItemName(t,s)}e.ProductData=a.data,e.AssetCatalogueId=null===(i=a.data[0])||void 0===i?void 0:i.AssetCatalogueId;let t=!0,l=1;e.ProductData.map(e=>{e.isValidation=t,e.count=l,1==e.CreateUniqueNameListing?e.Name=e.AssetCatalogName+"("+e.AssetUniqueName+")":e.Name=e.AssetCatalogName});let n=!1;e.AssetData=[],e.AssetTypeData.forEach(t=>{n=e.ProductData.some(e=>e.AssetCatalogueId==t.Value),n?console.log("isMatchRecord",n):e.AssetData.push(t)}),e.isLoading=!1,e.searchResult=!0}else e.searchResult=!0,e.NoRecordLength=0,e.ProductData=[],e.isLoading=!1}})},Filterditems:async function(){let e=this;e.filterRecodes=[];let t="";if(""!==e.assetUniqueItem){if(null==e.TreeValue)return e.isLoading=!1,e.assetUniqueItem="",void e.ShowAlert(e.$t("Please Select location First"),"warning",e.$t("Alert"));e.assetUniqueItem.toLowerCase();t=null==e.LocationValueForBarCode||""==e.LocationValueForBarCode?`assetCatalogId=&name=${e.assetUniqueItem}&issueTo=&locationId=${e.TreeValue}&requestFrom=addAssetRelationShip&assetType=`:`assetCatalogId=&name=&issueTo=&locationId=${e.LocationValueForBarCode}&requestFrom=addAssetRelationShip&assetType=`,await l["a"].GetUniqueAssetItems(t).then((function(t){e.filterRecodes=t.data,e.SuniqueItemData=t.data,null!=e.filterRecodes?(1==e.filterRecodes.length?(e.IsDDLShowHide=!0,e.uniqueItemChange(...e.filterRecodes)):(e.UniqueItemData=e.filterRecodes,e.IsDDLShowHide=!0),e.isLoading=!1):e.isLoading=!1}))}else e.isLoading=!1},GetAssetUniqueData:async function(){var e=this;let t="";e.UniqueItemData=[],t=null==e.LocationValueForBarCode||""==e.LocationValueForBarCode?`assetCatalogId=&name=&issueTo=&locationId=${e.TreeValue}&requestFrom=addAssetRelationShip&assetType=`:`assetCatalogId=&name=&issueTo=&locationId=${e.LocationValueForBarCode}&requestFrom=addAssetRelationShip&assetType=`,await l["a"].GetUniqueAssetItems(t).then((function(t){e.UniqueItemData=t.data,e.SuniqueItemData=t.data}))},SearchAssetByProduct:async function(){let e="";var t=this;t.isLoading=!0,t.AssetData=[],t.UniqueData=[],""!=t.txtAssetType&&t.AssetTypeData.forEach(e=>{e.Value!=t.txtAssetType&&t.AssetData.push(e)}),null==t.iselectVal?e=`id=${t.txtAssetType}&isView=1&barcode=&assetType=&assetUniqueId=&selfCheckout=&reqFrom=addAssetRelationShip&isFor=search&isuniqueSearch=no&issueTo=&assignedFrom=&assignedTill=&&startTime=&endTime=&locationId=${t.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=${t.txtAssetType}`:(t.ProductData=[],e=`id=&isView=1&barcode=&assetType=0&assetUniqueId=${t.iselectVal}&selfCheckout=&reqFrom=addAssetRelationShip&isFor=search&isuniqueSearch=no&issueTo=&assignedFrom=&assignedTill=&&startTime=&endTime=&locationId=${t.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=${t.iselectVal}&catalogueIds=`),t.getUniqueAssetItemsExceptItemName(),t.$refs.ProductSearchBar.validate().then(a=>{a?l["a"].GetCompanyAssestCatalogsDetalis(e).then(e=>{if(e.data.length>0){var a,s;t.ProductData=e.data,t.CreateUniqueNameListing=null===(a=e.data[0])||void 0===a?void 0:a.CreateUniqueNameListing,t.AssetCatalogueId=null===(s=e.data[0])||void 0===s?void 0:s.AssetCatalogueId;let i=!0,l=1;return t.ProductData.map(e=>{e.isValidation=i,e.count=l,1==e.CreateUniqueNameListing?e.Name=e.AssetCatalogName+"("+e.AssetUniqueName+")":e.Name=e.AssetCatalogName}),t.isLoading=!1,void(t.searchResult=!0)}return t.isLoading=!1,1==e.data.checkItem||2==e.data.checkItem?(t.checkItem=null,t.assignTillDate=null,t.checkItem=e.data.checkItem,t.assignTillDate=e.data.assignTillDate):(t.searchResult=!0,t.NoRecordLength=0),t.searchResult=!0,t.NoRecordLength=0,t.ProductData=[],t.isDataLoaded=!0,t.isLoading=!1}):t.isLoading=!1})},async getUniqueAssetItemsExceptItemName(e,t){var a=this,s=`relatedInfoId=${null==a.iselectVal?e:a.iselectVal}&name=&issueTo=&locationId=${null==a.TreeValue?t:a.TreeValue}&requestFrom=ASSETREQUISITION&assetType=`;await l["a"].GetUniqueAssetItemsExceptItemName(s).then(e=>{a.UniqueItems=e.data,a.UniqueItems.forEach(e=>{e.Value!=a.iselectVal&&a.UniqueData.push(e)})})},getNonUniqueProductsByBarcodeLocation:function(){var e=this,t=`id=&isView=&barcode=&assetType=&assetUniqueId=&selfCheckout=&reqFrom=addAssetRelationShip&isFor=&isuniqueSearch=&issueTo=&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=${e.LocationValueForBarCode}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;l["a"].GetCompanyAssestCatalogsDetalis(t).then(t=>{e.AssetTypeData=t.data.Result})}}}),v=h,_=(a("e660"),Object(d["a"])(v,s,i,!1,null,null,null));t["a"]=_.exports},fb56:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("tg-list",{ref:"tgList",attrs:{IsShowAction:!0,showCheckBox:!0,listType:["List"],ModuleName:"Asset",SubModuleCode:"MANAGE_PRODUCT",PageSize:e.PageSize,ViewList:e.ViewList,IdentityColumn:"asset_catalogue_id",HeaderText:e.$t("AssetManagement"),ListData:e.ProductData,HeaderData:e.Headers,widgets:e.widgets,callbackfunction:e.FetchData,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,IsFilterApplied:!!e.searchCondition,IsSearchFieldsOnTop:!1,SearchFields:e.leftSearchFields,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchData,LegendArray:e.LegendArray,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{ApplyView:e.OnApplyView,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata,RefreshManageView:e.FetchData},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["status_id"==a.column.COLUMN_NAME?[t("a",{staticClass:"inactive-disabled"},[t("span",{class:{"btn d-inline-block text-center text-truncate btn-success":"Active"==a.row.status_name,"btn d-inline-block text-center text-truncate btn-danger":"Inactive"==a.row.STATUS_NAME,"btn d-inline-block text-center text-truncate btn-info":"In Stock"==a.row.status_name,"btn d-inline-block text-center text-truncate btn-warning":"In Use"==a.row.STATUS_NAME,"btn d-inline-block text-center text-truncate btn-primary":"In-Transit"==a.row.status_name,"btn d-inline-block text-center text-truncate btn-danger valid":"Retired"==a.row.status_name,"btn d-inline-block text-center text-truncate btn-danger":"Inactive"==a.row.status_name}},[e._v(" "+e._s(a.row.status_name)+" ")])])]:e._e(),"number_of_item"==a.column.COLUMN_NAME?[t("span",{staticClass:"text-dark",attrs:{title:a.row.number_of_item}},[t("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"noti-circle noti-blue"},[e._v(e._s(a.row.number_of_item>0?a.row.number_of_item:0))])])]:e._e(),"available_items"==a.column.COLUMN_NAME?[t("span",{staticClass:"text-dark",attrs:{title:a.row.available_items}},[t("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"noti-circle noti-green"},[e._v(e._s(a.row.available_items>0?a.row.available_items:0))])])]:e._e(),"attachment_path"==a.column.COLUMN_NAME?[null!=a.row.attachment_path?t("div",{staticClass:"form-control p-0 border-0 text-center",attrs:{alt:"",title:""}},[t("img",{staticStyle:{"max-height":"80px"},attrs:{src:a.row.attachment_path,title:""}})]):e._e(),null==a.row.attachment_path?t("div",{staticClass:"form-control p-0 border-0 text-center"},[t("img",{staticStyle:{"max-height":"60px"},attrs:{src:"/Content/images/imagenotavailable.jpg",alt:"No Image Available",title:""}})]):e._e()]:e._e(),"has_related_products"==a.column.COLUMN_NAME?[t("div",{staticClass:"form-control p-0 border-0 text-center"},[a.row.has_related_products?t("span",{staticClass:"text-dark"},[t("a",{staticClass:"relatedproduct",attrs:{href:"javascript:;",id:a.row.asset_catalogue_id,title:"Related Products "},on:{click:function(t){return e.RelatedProductsPopup(a.row.asset_catalogue_id)}}},[t("i",{staticClass:"fa fa-sitemap text-primary",attrs:{"aria-hidden":"true"}})])]):e._e()])]:e._e(),"name"==a.column.COLUMN_NAME?[a.row.asset_catalog_name?t("span",{staticClass:"text-dark"},[t("a",{staticClass:"relatedproduct",attrs:{href:"javascript:;",id:a.row.asset_catalogue_id,title:a.row.asset_catalog_name},on:{click:function(t){return e.clickEventOfColumn1(a.row.asset_catalogue_id)}}},[t("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[e._v(e._s(a.row.asset_catalog_name))])])]):e._e()]:e._e()]}}])}),e.IsShowRelation?t("RelationPopup"):e._e(),e.ShowClonePopup?t("ClonePopup",{attrs:{AssetCatCloneId:e.AssetCatCloneId}}):e._e(),e.ShowViewFilePopup?t("AttachFilePopup",{attrs:{AssetDetails:e.AssetDetails}}):e._e(),e.ShowCheckAvailablity?t("CheckAvailablity",{attrs:{CalledFrom:e.CalledFrom}}):e._e(),e.ShowAddProduct?t("AddProduct",{attrs:{popupCondition:e.popupCondition,FromPage:e.FromPage}}):e._e(),e.ShowRelatedProducts?t("RelatedProducts",{attrs:{AssetCatId:e.AssetCatId}}):e._e(),e.showFilter?t("searchFilter",{attrs:{submodulecode:"MANAGE_PRODUCT",modulename:"Asset",callbackfunction:e.FetchData},on:{close:function(t){e.showFilter=!1},FilterData:e.FilterData}},[t("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e(),e.ShowManageView?t("ManageView",{attrs:{submodulecode:"MANAGE_PRODUCT",modulename:"Asset",callbackfunction:e.FetchData,usertype:e.usertype},on:{refreshViewDropdown:e.refreshViewDropdown,close:function(t){e.ShowManageView=!1}}},[t("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e(),e.showquickviewModal?t("modalquickviewdetails",{attrs:{submodulecode:"MANAGE_PRODUCT",modulename:"Asset",WorkOrderDetails:e.IsWorkOrderDetails},on:{close:function(t){e.showquickviewModal=!1}}}):e._e(),e.showFilter?t("SearchFilter",{attrs:{submodulecode:"MANAGE_PRODUCT",modulename:"Asset",callbackfunction:e.FetchData},on:{close:function(t){e.showFilter=!1},FilterData:e.FilterData}}):e._e()],1)},i=[],l=(a("14d9"),a("1115"));let o=[{title:"Reset",iconClass:"fa-filter text-danger",callbackfunction:"removeFilter",href:"",additionalClass:"",isdisabled:!1,isvisible:!1,checkPrivilege:!1},{title:"Filters",iconClass:"fa-filter",callbackfunction:"openFilterPopUp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Product List",href:"/AssetCatalog/RelatedInformation",iconClass:"fa fa-list",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Add Relationship",iconClass:"fa fa-plus",callbackfunction:"addRelationShip",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Check Availability",iconClass:"fa fa-check",callbackfunction:"CheckAvailablity",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Add Product",iconClass:"fa fa-plus",callbackfunction:"OpenModelAddProduct",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Product Transfer",callbackfunction:"TransferItem",iconClass:"fa fa fa-exchange",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"In-Transit Products",iconClass:"fa fa-recycle",callbackfunction:"ViewInTransitItems",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Transferred List",iconClass:"fa fa fa-exchange",href:"/AssetCatalog/ViewTransferedItem",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Depreciation",iconClass:"fa fa-sort-amount-asc",href:"/Asset/Depreciation",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Import Product",iconClass:"fa fa-download",callbackfunction:"ImportProduct",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Delete",iconClass:"fa fa-trash",callbackfunction:"DeletData",additionalClass:"",id:"DeleteMultiple",isdisabled:!0,isvisible:!0,checkPrivilege:!0,isEnabledOnSelectedRow:!0}],r=[{fieldName:"Location",fieldType:"ddl-multilevel",fieldIcon:"fa-map-marker",fieldSearchConditionName:["AC.LOCATION_ID"],isSearch:!1,value:null,listOptions:[]},{fieldName:"Product Name/Code",fieldType:"text",fieldIcon:"fa fa-suitcase",fieldSearchConditionName:["AC.NAME"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"radio",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["statusIds"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Tag",fieldType:"ddl-check",fieldIcon:"fa fa-tag",fieldSearchConditionName:["tagIds"],isSearch:!1,value:"",listOptions:[]}],n=[{title:"Edit",href:"/AssetCatalog/Update/{asset_catalogue_id}",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isVisible:!0},{title:"Clone",href:"javascript:void(0)",callbackfunction:"OpenClonePopup",icon:"fa fa-clone text-success action-icon",additionalSpan:"",isVisible:!0},{title:"Detail Products History",href:"/AssetAssignment/Index/{asset_catalogue_id}",icon:"fa fa-file text-warning action-icon",additionalSpan:"",isVisible:!0},{title:"View attached file(s)",callbackfunction:"OpenViewFilePopup",href:"javascript:void(0)",icon:"fa fa-eye text-primary action-icon",additionalSpan:"",isVisible:!0}];async function c(e,t,a){var s=e,i=[],o=[];if("Location"==a){var r="reqForm=";await l["a"].GetLocationByCompanyId(r).then((function(e){var t=JSON.parse(e.data).data;t.forEach(t=>{var a=i.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==a.length&&null==t.PARENT_LOCATION_ID){let a=t.COMPANY_LOCATION_ID,s=d(a,t,JSON.parse(e.data).data);i.push(s)}}),s.leftSearchFields[0].listOptions=i}))}if("Tag"==a){r="modulename="+t;l["a"].GetTagsByModuleId(r).then((function(e){if("Tag"==a){let t={};JSON.parse(e.data).data.forEach(e=>{t={name:e.TAG_NAME,value:""+e.TAG_ID},o.push(t)}),s.leftSearchFields[3].listOptions=o}}))}if("Status"==a){r="langCode=en&statusType=AssetManagement&hasglobal=true";l["a"].GetStatusList(r).then((function(e){if("Status"==a){let t={};JSON.parse(e.data).forEach(e=>{1003!=e.STATUS_ID&&(t={name:e.STATUS,value:e.STATUS_ID},o.push(t))}),s.leftSearchFields[2].listOptions=o}}))}}function d(e,t,a){let s={};s={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let i=s;var l=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let o=[];return l.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var i=o.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==i.length){var l=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=l&&l.length>0){let s=d(t,e,a);o.push(s)}else s={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},o.push(s)}}),i.children=o,i}var u={buttons:o,leftsearchSchema:r,listActions:n,bindleftCommonSearchdropdown:c},m=a("f9bd"),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("CloneProduct"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"border p-3"},[e.DataLoaded?t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}):e._e(),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("span",{staticClass:"mandatory"},[e._v(" "+e._s(e.$t("MandatoryString"))+" ")])])])],1)])])])])},f=[],h={props:{AssetCatCloneId:{type:String}},data(){return{DataLoaded:0,FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("Product"),name:"Title",value:"",placeholder:"",validationRules:{required:!0,max:250}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}]}},created:function(){this.DataLoaded=1},methods:{ClosePopup(){var e=this;e.$parent.ShowClonePopup=!1},onSubmit(e,t){var a=this;let s={};s.AssetcatalogId=a.AssetCatCloneId,s.ProductName=e.Title.trim();var i=JSON.stringify(s);l["a"].CloneProductSave(i).then(e=>{""!=e?"ALREADYEXIST"==e.data?a.ShowAlert(a.$t("ProductAlready"),"warning",a.$t("Alert")):"CLONE"==e.data?(a.ShowAlert(a.$t("ProductClone"),"success",a.$t("Alert")),a.ClosePopup(),a.$parent.FetchData()):a.ShowAlert(a.$t("ProductCloneFail"),"failure",a.$t("Alert")):a.ShowAlert(a.$t("ProductCloneFail"),"failure",a.$t("Alert"))})}}},v=h,_=a("2877"),C=Object(_["a"])(v,p,f,!1,null,null,null),g=C.exports,b=a("55a7"),I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"900px !important"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("HAS_RELATED_PRODUCTS")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.ClosePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"listing py-3 px-3"},[t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblRElatedProductsList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v(e._s(e.$t("PRODUCT_NAME")))])]),t("th",[t("span",[e._v(e._s(e.$t("Mandatory_Non_Mandatory")))])])])]),t("tbody",[e._l(e.RelatedProductsData,(function(a){return t("tr",[t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.NAME)+" ")])]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(1==a.Mandatory?"Mandatory":"Non-Mandatory")+" ")])])])})),t("tr",[0==e.RelatedProductsData.length?t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v("No Record Found")]):e._e()])],2)])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:e.ClosePopup}},[e._v("Close")])])])])])])])},S=[],A={props:{AssetCatId:{type:String}},data(){return{RelatedProductsData:[]}},created:function(){var e=this;e.FetchData()},methods:{FetchData(){var e=this;e.isLoading=!0;var t=`catId=${e.AssetCatId}&type=ProductName`;l["a"].GetRelatedProduct(t).then(t=>{e.RelatedProductsData=JSON.parse(JSON.parse(t.data.result).RESULT)})},ClosePopup(){var e=this;e.$parent.CloseRelatedProductsPopup()}}},y=A,D=Object(_["a"])(y,I,S,!1,null,null,null),N=D.exports,w=a("191f"),T=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"1200px !important"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Attachments"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"listing tblassestgroupinfodetails px-1 mt-3"},[t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"tblassestgroupinfodetails"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[e._v(e._s(e.$t("SerialNumber")))]),t("th",[e._v(e._s(e.$t("AttachmentName")))]),t("th",[e._v(e._s(e.$t("FileName")))]),t("th",[e._v(e._s(e.$t("ForTermCondition")))]),t("th",[e._v(e._s(e.$t("TermConditionStartDate")))]),t("th",[e._v(e._s(e.$t("Action")))])])]),t("tbody",e._l(e.arryaofData,(function(a,s){return t("tr",{key:s},[t("td",{staticClass:"text-overflow-dynamic-container w-auto"},[e._v(" "+e._s(a.SERIAL_NUMBER)+" ")]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container w-auto"},[e._v(e._s(a.ATTACHMENT_TITLE))])]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container w-auto"},[e._v(e._s(a.ATTACHMENT_NAME))])]),t("td",[a.IS_FOR_TERMS_CONDITION?t("span",{staticClass:"text-overflow-dynamic-container w-auto"},[e._v("Yes")]):t("span",{staticClass:"text-overflow-dynamic-container w-auto"},[e._v("No")])]),t("td",[null!=a.TERMS_CONDITION_STARTS_AT?t("span",{staticClass:"text-overflow-dynamic-container w-auto"},[e._v(e._s(e.formatTimeToCustomFormat(a.TERMS_CONDITION_STARTS_AT)))]):t("span",{staticClass:"text-overflow-dynamic-container w-auto"},[e._v("NA")])]),t("td",{staticClass:"text-center single-action"},[t("a",{staticClass:"downloadfile",attrs:{href:"javascript:;",title:"Download Attachment"},on:{click:function(t){return e.Downloadfiles(a)}}},[t("em",{staticClass:"fa fa-download text-primary action-icon",attrs:{title:"Download Attachment"}})]),e._v("  "),t("a",{staticClass:"deletefile mr-2",attrs:{href:"javascript:;",title:"Remove Attachment"},on:{click:function(t){return e.DeleteAtachmentFile(a.ASSET_ATTACHMENT_ID,a.ASSET_CATALOGUE_ID)}}},[t("em",{staticClass:"fa fa-trash text-danger action-icon",attrs:{title:"Remove Attachment"}})])])])})),0)])])])])])])])])},P=[],L=a("1315"),k={props:{AssetDetails:{type:String}},data(){return{arryaofData:[]}},created:function(){var e=this;e.privilegeParams="controller=AssetCatalog&action=",e.GetViewFiles()},methods:{ClosePopup(){var e=this;e.$parent.CloseViewFilePopup()},GetViewFiles(){var e=this,t=`catalogueId=${e.AssetDetails.asset_catalogue_id}&isDelete=1&flag=`;l["a"].AttachViewFiles(t).then(t=>{e.arryaofData=JSON.parse(t.data).data})},Downloadfiles(e){l["a"].CheckPrivilege(this.privilegeParams+"DownloadFile").then(t=>{if(t.data){var a="filePath="+e.ATTACHMENT_PATH;l["a"].DownloadAttachment(a).then((function(t){const a=t.data,s=`data:${e.ATTACHMENT_TYPE};base64,${a}`;var i=document.createElement("a");i.href=s,i.setAttribute("download",e.ATTACHMENT_NAME),document.body.appendChild(i),i.click()}))}else this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},DeleteAtachmentFile(e,t){var a=this;l["a"].CheckPrivilege(a.privilegeParams+"DeleteFile").then(s=>{s.data?a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("REPORT_ID"),(function(){var s=`fileId=${e}&catId=${t}`;l["a"].DeleteViewAttachmentFile(s).then(e=>{a.ShowAlert(a.$t("FileDeleted"),"success",a.$t("Alert")),a.$parent.FetchData(),a.$parent.CloseViewFilePopup()})})):a.ShowAlert(a.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},formatTimeToCustomFormat(e){if(null!=e&&""!=e){const t=L["DateTime"].fromISO(e,{zone:"utc"}),a=Intl.DateTimeFormat().resolvedOptions().timeZone,s=t.setZone(a),i=s.toFormat("MM/dd/yyyy h:mm a");return i}return"NA"}}},x=k,E=Object(_["a"])(x,T,P,!1,null,null,null),O=E.exports,F=a("87de"),V=a("69d3"),R={components:{RelationPopup:m["a"],ClonePopup:g,CheckAvailablity:b["a"],AddProduct:w["a"],RelatedProducts:N,AttachFilePopup:O,viewlayout:F["a"],ManageView:F["a"],searchFilter:V["a"]},data(){return{listheaderbuttons:u.buttons,leftSearchFields:u.leftsearchSchema,listActions:u.listActions,View_List:[],ViewList:[],ShowManageView:!1,showquickviewModal:!1,ViewListId:"",viewId:0,searchCondition:"",showFilter:!1,conditionForInstantSearch:"",LegendArray:[],ProductData:[],PageSize:10,PageNumber:1,PageSizeOption:null,StatusListForListing:[],Headers:[],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,SortBy:"",SortExp:"",widgets:[],catalogId:"",legendProgress:[{class:"",backgroundColor:"#17a2b8",name:"Draft"},{class:"legend-Progress",backgroundColor:"",name:"Approved"},{class:"legend-pending",backgroundColor:"",name:"Pending"},{class:"",backgroundColor:"#fe6847",name:"SendForCorrection"},{class:"",backgroundColor:"#ee1313",name:"Rejected"}],IsShowRelation:!1,ShowClonePopup:!1,ShowViewFilePopup:!1,ShowCheckAvailablity:!1,ShowAddProduct:!1,isLoading:!1,ShowRelatedProducts:!1,AssetCatId:"",AssetCatCloneId:"",AssetDetails:"",homeLink:!1,privilegeParams:null,UserType:null,CalledFrom:"ManageProdcut",appliedFilter:[],popupCondition:"",userid:null,usertype:null,companyId:null}},async created(){var e=this;this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,e.UserType=e.GetUserInfo.UserType,"PM"==e.UserType&&(e.listheaderbuttons[8].isvisible=!1),await e.GetDdlRecords_ViewList(),e.privilegeParams="controller=AssetCatalog&action=",u.bindleftCommonSearchdropdown(e,"Asset","Location"),u.bindleftCommonSearchdropdown(e,"Asset","Tag"),u.bindleftCommonSearchdropdown(e,"Asset","Status"),e.UserType=e.GetUserInfo.UserType,e.LegendArray=[{class:"legend-Progress colorboxsquare",text:e.$t("AssetsHavingUniqueNames")}],e.PageSize=await e.GetPageSize(),await e.CheckPrivilege()},methods:{async CheckPrivilege(){var e=this;await l["a"].CheckPrivilege(e.privilegeParams+"Index").then(t=>{t.data?e.FetchData():e.ShowAlert(e.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},RelatedProductsPopup(e){var t=this;t.AssetCatId=e,t.ShowRelatedProducts=!0},columnDataFormatter:function(e,t){return e[t.COLUMN_NAME]},getRequestParams:function(e,t,a,s,i,l){let o={};return e&&(o["pageNum"]=e),l&&(o["searchcondition"]=l),i&&(o["isPaged"]=i),a&&(o["sortBy"]=a),s&&(o["sortExp"]=s),t&&(o["pageSize"]=t),o},async FetchData(){var e=this;e.isLoading=!0;const t=this.getRequestParams(this.pageNum,this.pageSize,this.sortBy,this.sortExp,this.isPaged,this.searchCondition);t.pageSize=e.PageSize,t.pageNum=e.PageNumber,t.searchCondition=e.searchCondition,e.PageNumber?t.pageNum=e.PageNumber:e.PageNumber=t.pageNum=1,"undefined"!=typeof e.isPaged?t.isPaged=e.isPaged:e.isPaged=t.isPaged=1,t.isPaged=e.isPaged,t.sortBy=e.SortBy,t.sortExp=e.SortExp;var a="";if(this.isBlank(this.searchCondition)||(a+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(a+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=a&&(t.searchCondition=a,e.appliedFilter.length>0)){const t=e.listheaderbuttons.findIndex(e=>"removeFilter"===e.callbackfunction);e.listheaderbuttons[t].isvisible=!0;const a=e.listheaderbuttons.findIndex(e=>"openFilterPopUp"===e.callbackfunction);e.listheaderbuttons[a].iconClass="fa fa-filter text-success"}await l["a"].AssetCatalogueListing(t).then(t=>{var a;null!=t.data||0!=t.data?t.data.length>0?(e.Headers=JSON.parse(t.data).schema,e.Headers.forEach(e=>{"attachment_path"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"type"==e.COLUMN_NAME&&(e.settings={isInSlot:!0,isSortable:!0}),"name"==e.COLUMN_NAME&&(e.settings={isInSlot:!0,isSortable:!0}),"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0,isSortable:!0}),"number_of_item"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"available_items"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"create_unique_name_list"==e.COLUMN_NAME&&(e.VISIBLE=!0,e.settings={isInSlot:!0}),"has_related_products"==e.COLUMN_NAME&&(e.VISIBLE=!0,e.settings={isInSlot:!0})}),e.ProductData=JSON.parse(t.data).data,e.ProductData.forEach(e=>{e.rowDetailsUrl="",e.additionalClass="",e.isCheckBoxDisabled=!1,1==e.is_sample_data&&(e.additionalClass="sample-bar"),e.has_unique_names&&(e.additionalClass="low-bar odd"),e.number_of_item!=e.available_items&&(e.isCheckBoxDisabled=!0)}),e.TotalRecords=null===(a=JSON.parse(t.data).data[0])||void 0===a?void 0:a.total,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.listheaderbuttons[9].isdisabled=!1,e.CurrentPage=e.PageNumber,e.noRecord=!1,e.isLoading=!1,setTimeout(()=>{e.checkboxSetting()},800)):(e.noRecord=!0,e.ProductData=[],e.TotalRecords=0,e.isLoading=!1):(e.noRecord=!0,e.ProductData=[],e.TotalRecords=0,e.isLoading=!1);e.isLoading=!1,setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),setTimeout((function(){$("#tablelistingdata tbody td span[title|='true']").attr("title",""),$("#tablelistingdata tbody td span[title|='false']").attr("title","")}),500)})},DeleteData:function(){var e=this,t="";l["a"].CheckPrivilege(e.privilegeParams+"Delete").then(a=>{a.data?($(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){t.length>0&&(t+=","),t+=$(this).val(),""!=t&&(e.listheaderbuttons[9].isdisabled=!1)})),t.length>0&&e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("asset_catalogue_id"),(function(){let a=`ids=${t}&tableName=TALYGEN_asset_catalogue&primaryKey=asset_catalogue_id`;l["a"].Delete(a).then(t=>{t.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Product")]),"Success",!0,e.$t("Alert"))):e.ShowAlert(e.$t("DeletedError",[e.$t("val")]),"failure",!0,e.$t("Alert")),e.FetchData()})}))):e.ShowAlert(e.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},clickEventOfColumn1:function(e,t){var a=this;l["a"].CheckPrivilege(a.privilegeParams+"update").then(t=>{t.data?a.$router.push({path:"/AssetCatalog/Update/"+e}):a.ShowAlert(a.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},currentPageMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},GetPageSizeOption:function(){for(var e=[],t=10,a=t;a<t+95;a+=5)e.push(a);this.PageSizeOption=e},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},commonHeaderButtonClick(e){switch(e.callbackfunction){case"openFilterPopUp":this.openFilterPopUp();break;case"addRelationShip":this.AddRelationShipPopup();break;case"CheckAvailablity":this.OpenCheckAvailablity();break;case"TransferItem":this.OpenTransferItem();break;case"OpenModelAddProduct":this.OpenModelAddProduct();break;case"ViewInTransitItems":this.InTransitProducts();break;case"ImportProduct":this.ImportProduct();break;case"DeletData":this.DeleteData();break;case"removeFilter":var t=this;t.searchCondition="";const e=t.listheaderbuttons.findIndex(e=>"removeFilter"===e.callbackfunction);t.listheaderbuttons[e].isvisible=!1;const s=t.listheaderbuttons.findIndex(e=>"openFilterPopUp"===e.callbackfunction);t.listheaderbuttons[s].iconClass="fa fa-filter";try{t.appliedFilter=[]}catch(a){}t.FetchData();break;case"ManageView":this.ManageView();break}},ManageView:function(){var e=this;e.ShowManageView=!0,setTimeout((function(){$("#modalManageView").modal("show")}),1e3)},FilterData:function(e,t,a,s,i,l){this.pageNum=e,this.pageSize=t,this.sortBy=a,this.sortExp=s,this.searchCondition=i,null!=typeof l&&this.appliedFilter.push(l),this.FetchData()},openFilterPopUp:function(e){this.showFilter=!0},refreshViewDropdown(){this.GetDdlRecords_ViewList()},DefaultView:function(){var e=this,t={ModuleName:"Asset",SubmoduleCode:"MANAGE_PRODUCT"},a=JSON.stringify(t);l["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ClearSuccess",[e.$t("DefaultView")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))},OnApplyView(e){var t=this;if(0==e)t.DefaultView();else{var a={ViewId:e,ModuleName:"Asset",SubmoduleCode:"MANAGE_PRODUCT"},s=JSON.stringify(a);l["a"].ApplyView(s).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(t.ShowAlert(t.$t("ApplySuccess",[t.$t("View")]),"success",!0,t.$t("Alert")),t.$emit("RefreshManageView"),t.FetchData()):t.ShowAlert(t.$t("AddedError",[t.$t("View")]),"failure",!0,t.$t("Alert"))}))}},OpenTransferItem(){l["a"].CheckPrivilege(this.privilegeParams+"TransferItem").then(e=>{e.data?window.location.href="/AssetCatalog/TransferItem":this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},ProductTransfer(){this.$router.push({name:"Transferred Items"})},InTransitProducts(){var e=this;l["a"].CheckPrivilege(e.privilegeParams+"ViewInTransitItems").then(t=>{t.data?e.$router.push({path:"/AssetCatalog/ViewInTransitItems"}):(e.ShowAlert(e.$t("NotAuthorizedSection"),"failure",!0,"Alert"),e.$router.push({path:"/unauthorized"}))})},OpenModelAddProduct(){var e=this;l["a"].CheckPrivilege(e.privilegeParams+"Add").then(t=>{t.data?(e.FromPage="ProductListing",e.popupCondition="",e.ShowAddProduct=!0):e.ShowAlert(e.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},OpenCheckAvailablity(){var e=this;l["a"].CheckPrivilege(e.privilegeParams+"CheckProductAvailability").then(t=>{t.data?e.ShowCheckAvailablity=!0:e.ShowAlert(e.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},RelatedInformation(){this.$router.push({name:"RelatedInformation"})},movetodepreciationlist:function(){this.$router.push({name:"Depreciation"})},MovetoTransferredList:function(){this.$router.push({name:"TransferredItemsList"})},ImportProduct:function(){var e=this;"CA"==e.UserType?l["a"].CheckPrivilege(e.privilegeParams+"ImportAssetItem").then(t=>{t.data?e.$router.push({name:"ImportAssetitem"}):e.ShowAlert(e.$t("NotAuthorizedSection"),"failure",!0,"Alert")}):e.$router.push({name:"ImportAssetitem"})},AddRelationShipPopup(){l["a"].CheckPrivilege(this.privilegeParams+"AddRelationship").then(e=>{1==e.data?this.IsShowRelation=!0:this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},CloseAddRelationShipPopup(){var e=this;e.FetchData(),e.IsShowRelation=!1},OpenClonePopup(e){var t=this;t.AssetCatCloneId=e,t.ShowClonePopup=!0},OpenViewFilePopup(e){var t=this;l["a"].CheckPrivilege(t.privilegeParams+"ViewFiles").then(a=>{a.data?(t.AssetDetails=e,t.ShowViewFilePopup=!0):t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},actionButtonClick(e,t){var a=this;switch(e){case"ProductList":a.ProductList();break;case"OpenClonePopup":a.OpenClonePopup(t.asset_catalogue_id);break;case"OpenViewFilePopup":a.OpenViewFilePopup(t);break}},checkboxSetting(){$("#DeleteMultiple").addClass("disabled"),$(".chkItems").change((function(){$("#tablelistingdata tbody .chkItems").each((function(e,t){$(this).prop("checked")&&$("#DeleteMultiple").removeClass("disabled")})),$("#tablelistingdata tbody tr input ").not(":disabled").length==$("#tablelistingdata tbody tr :checked").length?$("#tablelistingdata thead input:checkbox").prop("checked",!0):$("#tablelistingdata thead input:checkbox").prop("checked",!1)}))},CloseClonePopup(){var e=this;e.ShowClonePopup=!1},ClosePOPuP(e){var t=this;t.ShowCheckAvailablity=!1},CloseRelatedProductsPopup(){var e=this;e.ShowRelatedProducts=!1},CloseViewFilePopup(){var e=this;e.ShowViewFilePopup=!1},sortdata:function(e){var t="sort tb_headerSortDown";this.SortBy=e,e===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",t="sort tb_headerSortUp"):(this.SortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)},renderActions(e){var t=this;let a=[];return t.listActions.forEach(t=>{let s={...t};switch(s.title){case"Edit":s.isVisible=!0;break;case"Clone":s.isVisible=!0;break;case"Detail Products History":s.isVisible=!0;break;case"View attached file(s)":0==e.filecount&&(s.isDisabled=!0);break;default:s.isVisible=!0;break}a.push(s)}),a},GetDdlRecords_ViewList:async function(){var e=this;e.ViewList=[];var t="moduleName=ASSET&subModuleCode=MANAGE_PRODUCT&viewId=0&pageSize=10&pageNum=1&sortBy=&sortExp=";await l["a"].GetViewList(t).then((function(t){if(t.data&&"undefined"!=typeof t.data.DATA){e.ViewList=t.data.DATA;var a=0;null==e.ViewList||""==e.ViewList||e.ViewList.forEach((function(t){t.IS_SLECTED_USER_ID>0&&(a+=1,e.ViewListId=t.VIEW_ID)}));var s=0;a>0?e.ViewList.splice(s,0,{SUB_MODULE_NAME:"MANAGE_PRODUCT",SUB_MODULE_CODE:"AssetCatalog",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"Asset",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):null==e.ViewList||""==e.ViewList?e.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):e.ViewList.splice(s,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""})}else""!=t.data&&null!=t.data||(e.ViewListId="0");setTimeout(()=>{e.ViewListId>0?e.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=e.ViewListId:e.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=0},1e3)}))}},updated:function(){this.BindActionButtonEvent()}},U=R,M=(a("81a1"),Object(_["a"])(U,s,i,!1,null,null,null));t["default"]=M.exports},fe5c:function(e,t,a){"use strict";a("76aa")}}]);
//# sourceMappingURL=chunk-70b27d0d.js.map