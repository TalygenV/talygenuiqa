(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b143901"],{"191f":function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal my-popups right fade",attrs:{id:"modelAddProduct",role:"dialog"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),"setup"==e.popupCondition?t("h4",{staticClass:"modal-title",attrs:{id:"conditionalTitle"}},[e._v(e._s(e.$t("Setup"))+" ")]):t("h4",{staticClass:"modal-title",attrs:{id:"conditionalTitle"}},[e._v(e._s(e.$t("AddItem")))]),"setup"!=e.popupCondition?t("span",{staticClass:"user-guide"},[t("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e._v(" User Guide")]),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("UserGuideAddProduct"))}})])])]):e._e()]),t("div",{staticClass:"modal-body"},["setup"==e.popupCondition?t("div",{staticClass:"left-menu-tab new_tab"},[t("div",{staticClass:"col-md-12 pb-0"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-8 pr-0 font-weight-medium"},[e._v(e._s(e.$t("CompleteYourProfile"))+" ")]),t("div",{staticClass:"col-4 pl-0 text-right"},[t("small",[t("i",{staticClass:"fa fa-check-circle pr-1",class:{"text-success":"Completed"==e.SetupProgresText,"text-muted":"Completed"!==e.SetupProgresText}}),e._v(e._s(e.SetupProgresText))])])]),t("div",{staticClass:"progress smaller my-2"},[t("div",{staticClass:"progress-bar progress-bar-primary progress-bar px-0 text-center memoryused",class:""+e.progressBarColor,style:`width: ${e.SetupProgress}%; font-weight:500; font-size:14px`,attrs:{s:"",id:"divConsumendStorage",title:e.SetupProgress}},[e._v(e._s(e.SetupProgress)+"% ")])]),t("div",{staticClass:"level_info my-2 d-block float-left w-100",staticStyle:{height:"auto"}},[t("ul",[t("li",[t("b",{attrs:{id:"divConsumendStorage"}},[t("span",[e._v(e._s(e.$t("Progress"))+" "+e._s(e.CurrentTab)+" of 3")])])])])])])])]),t("div",{staticClass:"mt-0",staticStyle:{"max-height":"calc(100vh - 2px)"},attrs:{id:"divscrollsetuptabs"}},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix newtab_des"},[t("li",{staticClass:"nav-item FourthScreen",on:{click:function(t){return e.SkipTab(1)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:1==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa-random pr-2 text-muted",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("SetUpLocation")))])])]),t("li",{staticClass:"nav-item SecondScreen",on:{click:function(t){return e.SkipTab(2)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:2==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa fa-cog pr-2 text-muted",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("SetUpProductType")))])])]),t("li",{staticClass:"nav-item ThirdScreen",on:{click:function(t){return e.SkipTab(3)}}},[t("a",{staticClass:"nav-link left-menu",class:{active:3==e.step},staticStyle:{cursor:"pointer"}},[t("i",{staticClass:"fa fa-plus pr-2 text-muted",attrs:{"aria-hidden":"true"}}),e.IsClientStoragesCopmleted?t("i",{staticClass:"fa fa-check-circle font-18 pr-2 text-success",attrs:{"aria-hidden":"true"}}):e._e(),t("span",{staticClass:"font-14"},[e._v(e._s(e.$t("AddDeployeItem")))])])])])])]):e._e(),3==e.step?t("div",{staticClass:"border p-3"},[e.DataLoaded?t("dynamic-form",{ref:"modalAddCustomForm",attrs:{buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-UnitPrice",fn:function({data:a}){return[t("div",{staticClass:"input-group"},[t("span",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[e._v("(USD)")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control",attrs:{type:"Number",maxlength:5,step:"any"},domProps:{value:a.fieldInfo.value},on:{keyup:function(t){return e.GetAssetCost(t,a.fieldInfo.value,"UnitPrice")},input:function(t){t.target.composing||e.$set(a.fieldInfo,"value",t.target.value)}}})])]}},{key:"tgslot-TotalCost",fn:function({data:a}){return[t("div",{staticClass:"input-group"},[t("span",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[e._v("(USD)")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control",attrs:{type:"number",pattern:"\\d+\\.?\\d?(?!\\d)",step:"any"},domProps:{value:a.fieldInfo.value},on:{keyup:function(t){return e.GetUnitPrice(a.fieldInfo.value)},input:function(t){t.target.composing||e.$set(a.fieldInfo,"value",t.target.value)}}})])]}}],null,!1,2009166643)}):e._e()],1):e._e(),3==e.step?t("div",{staticClass:"right-content row flex-row-reverse mt-3"},[t("div",{staticClass:"col-lg-12 text-left"},[t("div",{staticClass:"py-2 mandatory"},[e._v(" "+e._s(e.$t("MandatoryString"))+" ")])])]):e._e(),t("div",{staticClass:"right-content"},["setup"==e.popupCondition?t("div",{staticClass:"col-md-12 p-0"},[1==e.step?t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active show",attrs:{id:"step1"}},[t("section",{staticClass:"page-action w-100"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{staticClass:"col-md-12 p-0s addpopuplocation"},[t("AddLocationPopup",{attrs:{popupCondition:e.popupCondition}})],1)])])])])]):e._e(),2==e.step?t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active show",attrs:{id:"step2"}},[t("section",{staticClass:"page-action w-100"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{staticClass:"col-md-12 p-0"},[t("AddProductType",{key:e.refreshComponent,attrs:{popupCondition:e.popupCondition},on:{RefresComp:e.RefresComp}})],1)])])])])]):e._e()]):e._e()])])])])]),e.ShowAddLocation?t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Location"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.CloseLocationPopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("AddLocationPopup")],1)])])]):e._e(),e.IsTagNamePopup?t("TagNamePopup",{attrs:{FromAddProduct:e.FromAddProduct}}):e._e(),e.ShowAddProductType?t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("ProductType"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopupProductType()}}},[t("em",{staticClass:"fa fa-times"})])]),t("AddProductType",{key:e.refreshComponent,attrs:{FromPage:e.FromPage},on:{RefresComp:e.RefresComp}})],1)])])]):e._e()],1)},i=[],s=(a("14d9"),a("1115")),l=a("56f6"),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border p-3"},[e.DataLoaded?t("dynamic-form",{ref:"AddlocationRef",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}):e._e()],1)},r=[],d=a("240d"),c={props:{popupCondition:{type:Boolean,required:!0}},components:{"tree-view":d["TreeSelectField"]},data(){return{FormSchema:[{layoutType:"triple",Data:[{astype:"TreeSelectField",label:this.$t("ParentLocation"),name:"Location",value:null,placeholder:"Select Location",config:{options:[]},validationRules:{required:!1}},{astype:"TextField",label:this.$t("LocationName"),name:"LocationName",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!0,max:250},config:{options:[],onChange:()=>{}}},{astype:"TextField",label:this.$t("AddressLine1"),name:"AddressLine1",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"TextField",label:this.$t("City"),name:"City",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Country"),name:"Country",value:"",placeholder:"",validationRules:{required:!0,max:250},config:{options:[],onChange:this.onChangeDropdown}},{astype:"SelectField",label:this.$t("State"),name:"State",value:"",placeholder:"",config:{options:[]}},{astype:"TextField",label:this.$t("PostalCode"),name:"PostalCode",value:"",placeholder:""},{astype:"TextField",label:this.$t("Email"),name:"Email",value:"",placeholder:""},{astype:"TextField",label:this.$t("Phone1"),name:"Phone1",value:"",placeholder:""},{astype:"TextField",label:this.$t("Phone2"),name:"Phone2",value:"",placeholder:""},{astype:"TextField",label:this.$t("LocationCode"),name:"LocationCode",value:"",placeholder:""},{astype:"SelectField",label:this.$t("Tag"),name:"Tag",value:"",placeholder:"",config:{options:[]}}]}],buttons:[{type:"button",class:"btn btn-secondary",text:"Skip",onClick:this.Skip,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",name:"SaveAndNew",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",name:"SaveAndNext",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",name:"Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}],myObj:[],LocationData:[],CountryData:[],StatusData:[{name:"Active",value:1001},{name:"Inactive",value:1002}],StateData:[],TagData:[],CreatedAt:"",CreatedBy:"",ModifiedAt:"",ModifiedBy:"",DataLoaded:0,UserId:"",SetupProgresText:""}},created:async function(){var e=this;await e.GetLocationByCompanyId(),e.GetStatusDDL(),e.GetCountryDDL(),await e.GetTagsByModuleId(),await e.AdvancedSetupFields(),e.UserId=e.GetUserInfo.ID,e.DataLoaded=1},methods:{Skip:function(){var e=this;e.$parent.SkipTab(2)},async AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.FormSchema[0].Data[6].visibility=!1,e.FormSchema[0].Data[7].visibility=!1,e.FormSchema[0].Data[8].visibility=!1,e.FormSchema[0].Data[9].visibility=!1,e.FormSchema[0].Data[10].visibility=!1,e.FormSchema[0].Data[11].visibility=!1,e.FormSchema[0].Data[12].visibility=!1,e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!0,e.buttons[2].isVisible=!0,e.buttons[3].isVisible=!1,e.buttons[4].isVisible=!1)},GetCountryDDL:function(){var e="moduleName=CRM&type=COUNTRIES";s["a"].GetCountryDDL(e).then(e=>{e.data.DATA.forEach(e=>{this.FormSchema[0].Data[5].config.options.push({name:""+e.name,value:""+e.value}),this.$refs.AddlocationRef.UpdateKeyValue()})})},async GetTagsByModuleId(){var e=this,t="modulename=Asset";await s["a"].GetTagsByModuleId(t).then((function(t){e.TagData=JSON.parse(t.data),e.TagData.data.forEach((t,a)=>{e.FormSchema[0].Data[12].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})}),console.log(" GetTagsByModuleId  call end")}))},onChangeDropdown(e){var t=this,a="countryId="+e.target.value;s["a"].GetStateListwithIDByCountryId(a).then((function(e){t.StateData=JSON.parse(e.data).data,t.StateData=t.StateData.map(e=>({name:e.name,value:e.state_id})),$.each(t.FormSchema,(function(e,a){$.each(a.Data,(function(e,a){"State"==a.name&&(a.value="",a.config.options=t.StateData)}))})),t.$refs.AddlocationRef.UpdateKeyValue()}))},async GetLocationByCompanyId(){var e=this;e.isLoading=!0;var t="reqForm=";await s["a"].GetLocationByCompanyId(t).then((function(t){e.FindalLocationArray=[],e.LocationData=JSON.parse(t.data).data,e.LocationData.forEach(a=>{var o=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==o.length&&null==a.PARENT_LOCATION_ID){let o=a.COMPANY_LOCATION_ID,i=e.getChildLocation(o,a,JSON.parse(t.data).data);e.FindalLocationArray.push(i)}}),e.FormSchema[0].Data[0].config.options=e.FindalLocationArray})),e.LocationData.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0},getChildLocation:function(e,t,a){let o=this,i={};i={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let s=i;var l=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let n=[];return l.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var s=n.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==s.length){var l=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=l&&l.length>0){let i=o.getChildLocation(t,e,a);n.push(i)}else i={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},n.push(i)}}),s.children=n,s},GetStatusDDL(){var e=this;e.StatusData.forEach((t,a)=>{e.FormSchema[0].Data[2].config.options.push({name:t.name,value:t.value})})},ClosePopup(){var e=this;e.$parent.CloseLocationPopup()},onSubmit(e,t){var a=this,o=`LocationName=${e.LocationName}&LocationId=0`;s["a"].LocationExist(o).then((function(o){if(a.LocationId=o.data.result,o.data.result>0)a.ShowAlert(a.$t("Location already exist",[a.$t("Location")]),"warning",!0,a.$t("Alert"));else{let o={LocationId:a.LocationId,LocationName:e.LocationName,Country:parseInt(e.Country),State:e.State,Address1:e.AddressLine1,Address2:"",City:e.City,PinCode:e.PostalCode,Email:e.Email,Phone1:e.Phone1,Phone2:e.Phone2,CreatedAt:null,CreatedBy:a.UserId,ModifiedAt:null,ModifiedBy:a.UserId,StatusId:e.Status,State_id:""==e.State?null:e.State,LocationCode:e.LocationCode,ParentLocationId:""==e.Location?null:e.Location,TagId:e.Tag.length<=0?null:Array.prototype.map.call(e.Tag,(function(e){return e.value})).join(","),CampusId:"",ClientId:1};JSON.stringify(o);s["a"].SaveUpdateLocation(o).then((function(e){"SaveAndNew"==t?"1"!=e.data&&null!=e.data||(a.ShowAlert(a.$t("Location has been added successfully ",[a.$t("Location")]),"success",!0,a.$t("Alert")),a.resetForm()):"SaveAndNext"==t?"1"!=e.data&&null!=e.data||(a.ShowAlert(a.$t("Location has been added successfully ",[a.$t("Location")]),"success",!0,a.$t("Alert")),a.$parent.SkipTab(2)):"Save"==t?"1"!=e.data&&null!=e.data||a.ShowAlert(a.$t("Location has been added successfully ",[a.$t("Location")]),"success",!0,a.$t("Alert")):"2"==e.data?a.ShowAlert(a.$t("Location has been updated successfully",[a.$t("Location")]),"success",!0,a.$t("Alert")):"0"==e.data?a.ShowAlert(a.$t("unknown error",[a.$t("Location")]),"success",!0,a.$t("Alert")):null==e.data&&a.ShowAlert(a.$t("Location has been added successfully",[a.$t("Location")]),"success",!0,a.$t("Alert")),a.$parent.CloseLocationPopup()}))}}))},resetForm(){this.FormSchema[0].Data.forEach(e=>{"TreeSelectField"==e.astype?e.value=null:(e.value="",e.validationRules.required=!0)})}}},u=c,p=a("2877"),m=Object(p["a"])(u,n,r,!1,null,null,null),h=m.exports,y=a("f6fa"),v={props:{popupCondition:{type:String,required:!1},FromPage:{type:String,required:!1}},components:{TagNamePopup:l["a"],AddLocationPopup:h,AddProductType:y["a"]},data(){return{isLoading:!1,progressBarColor:"",AssetType:[],BarcodeType:[],userLoggedIn2:!1,IsDeployment:!1,IsTagNamePopup:!1,LocationData:[],ShowAddLocation:!1,ShowAddProductType:!1,FromAddProduct:!1,DeploymentType:"",IsEnableAssetManagement:!1,fileUploaded:"",tagData:[],isCheckDeployItem:"",refreshComponent:0,DeployProductValue:!1,FormSchema:[{layoutType:"double",group_name:"Product Information",group_display_name:this.$t("ProductInformation"),Data:[{astype:"SelectField",label:this.$t("ProductType"),name:"ProductType",value:"",placeholder:"Select Product Type",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddProductTypePopup},validationRules:{required:!0}},{astype:"TextField",label:this.$t("ProductName"),name:"ProductName",value:"",placeholder:"",config:{},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("BarcodeType"),name:"BarcodeType",value:"",placeholder:"Select Barcode Type",config:{options:[]},validationRules:{required:!0}},{astype:"toggleField",label:this.$t("CreateUniqueNameListing"),name:"CreateUniqueNameListing",value:"",placeholder:"",validationRules:{required:!1}},{astype:"FileField",showLabel:!0,label:this.$t("DisplayImage"),name:"DisplayImage",value:"",placeholder:"",validationRules:"",FieldIndex:0,config:{maxSize:5,accept:[{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"}],onChange:this.setFile,showAddIcon:!1,onAddButtonClick:this.AddFileMore,multiple:!1}},{astype:"MultiSelectField",label:this.$t("Tags"),name:"Tags",value:"",mode:"tag",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddTagPopup}}]},{layoutType:"Single",group_name:"Deploy Product",group_display_name:this.$t("DEPLOY_ITEM"),Data:[{astype:"toggleField",label:this.$t("DeployProduct"),name:"DeployProduct",value:"",placeholder:"",config:{onChange:this.HideShowDeployProductFields}}]},{layoutType:"Single",Data:[{astype:"RadioField",label:this.$t("DeploymentType"),name:"DeploymentType",value:"1",placeholder:"",config:{options:[{value:"1",name:"Product"},{value:"2",name:"Inventory"}],onChange:this.OnDeplymentType},visibility:!0,validationRules:{required:!1}}]},{layoutType:"Single",Data:[{astype:"RadioField",label:this.$t("DeploymentType"),name:"SetupDeploymentType",value:"1",placeholder:"",config:{options:[{value:"1",name:"Asset"}],onChange:this.OnDeplymentType},visibility:!0,validationRules:{required:!1}}]},{layoutType:"double",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:null,placeholder:"Select Location",config:{options:[],showAddIcon:!0,onAddButtonClick:this.AddLocation},validationRules:{required:!0}},{astype:"NumericField",label:this.$t("Quantity"),name:"Quantity",value:"0",placeholder:"",visibility:!0,config:{onKeyUp:this.GetAssetCost},validationRules:{required:!0,max:7,min_value:1}},{astype:"SlotField",label:this.$t("UnitPrice"),name:"UnitPrice",value:"0",placeholder:"",validationRules:{required:!1,max:5,min_value:0},visibility:!0,config:{onKeyUp:this.GetAssetCost}},{astype:"SlotField",label:this.$t("TotalCost"),name:"TotalCost",value:"0",placeholder:"",visibility:!0,config:{onKeyUp:this.GetUnitPrice}}]}],buttons:[{type:"submit",class:"btn btn-secondary",text:"<i class='fa fa-angle-double-left pr-2'></i>Back",onClick:this.BackButton,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Close",name:"SaveAndClose"},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And New",name:"SaveAndNew"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.close,isVisible:!0},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-check' aria-hidden='true'></i> Finish",name:"Finish",isVisible:!1}],DataLoaded:0,TagsArray:[],tags:[],file:[],CurrentTab:1,step:3,SetupProgress:0,count:0,PageSize:10,PageNumber:1,SortBy:"",SortExp:"",IsClientStoragesCopmleted:!1,UserType:"",FromPage:""}},async created(){var e=this;await e.EnableAssetManagement(),await e.GetAssetType(),await e.GetBarcodeType(),await e.GetLocationByCompanyId(),await e.GetTagsByModuleI(),await e.AdvancedSetupFields(),await e.AssetCatalogueListing(),await e.GetProgress(),e.HideShowDeployProductFields("false"),e.UserType=this.GetUserInfo.UserType,"NU"==e.UserType||"PM"==e.UserType?(e.FormSchema[0].Data[0].config.showAddIcon=!1,e.FormSchema[4].Data[0].config.showAddIcon=!1):(e.FormSchema[0].Data[0].config.showAddIcon=!0,e.FormSchema[4].Data[0].config.showAddIcon=!0),e.DataLoaded=1},mounted(){$("#modelAddProduct").modal({backdrop:"static",keyboard:!1})},methods:{RefresComp:function(){var e=this;e.refreshComponent+=1},OnDeplymentType(e,t){t.value=e.target.getAttribute("data-value"),console.log(e.target.getAttribute("data-value"))},async AssetCatalogueListing(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&${e.searchCondition}`;await s["a"].AssetCatalogueListing(t).then(t=>{t.data.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0,e.isLoading=!1})},GetProgress(){var e=this;1==e.count?e.SetupProgress=33.33:2==e.count?e.SetupProgress=66.66:3==e.count&&(e.SetupProgress=100)},BackButton(){var e=this;e.SkipTab(2)},SkipTab:function(e){var t=this;t.step=e,t.CurrentTab=e},AdvancedSetupFields(){var e=this;"setup"==e.popupCondition&&(e.FormSchema[0].Data[5].visibility=!1,e.FormSchema[2].Data[0].visibility=!1,e.step=1,e.buttons[1].isVisible=!1,e.buttons[0].isVisible=!0,e.buttons[3].isVisible=!1,e.buttons[4].isVisible=!0)},async GetTagsByModuleI(){var e=this;e.FormSchema[0].Data[5].config.options=[],await s["a"].GetTagsByModuleId("moduleName=Asset").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((t,a)=>{e.FormSchema[0].Data[5].config.options.push({name:t.TAG_NAME,value:t.TAG_ID})})}))},HideShowDeployProductFields(e){var t=this;1==e?("setup"==t.popupCondition?(t.FormSchema[2].Data[0].visibility=!1,t.FormSchema[3].Data[0].visibility=!0):(t.FormSchema[2].Data[0].visibility=!0,t.FormSchema[3].Data[0].visibility=!1),t.FormSchema[4].Data[0].visibility=!0,t.FormSchema[4].Data[1].visibility=!0,t.FormSchema[4].Data[2].visibility=!0,t.FormSchema[4].Data[3].visibility=!0):(t.popupCondition,t.FormSchema[2].Data[0].visibility=!1,t.FormSchema[3].Data[0].visibility=!1,t.FormSchema[4].Data[0].visibility=!1,t.FormSchema[4].Data[1].visibility=!1,t.FormSchema[4].Data[2].visibility=!1,t.FormSchema[4].Data[3].visibility=!1)},onSubmit:function(e,t){var a=this;if(a.buttons[1].class+=" disabled",a.isLoading=!0,a.IsEnableAssetManagement){let i={};1==e.DeployProduct?(i.DeployProduct=e.DeployProduct,i.DeployId="0",i.LocationId=e.Location,i.Quantity=parseInt(e.Quantity),i.UnitPrice=parseFloat(e.UnitPrice),i.DeploymentType=""==e.DeploymentType?e.SetupDeploymentType:e.DeploymentType):(i.DeployProduct=""!=e.DeployProduct,i.DeployId="0",i.LocationId="-1",i.Quantity="0",i.UnitPrice="0"),i.AssetCatalogueId="0",i.Name=e.ProductName,i.AssetTypeId=e.ProductType,i.BarcodeTypeId=e.BarcodeType,i.StatusId="1001",i.TotalCost=e.TotalCost,i.AssetCost=e.TotalCost,i.ParentUniqueId="",i.ChildUniqueId="",i.ChildCatalogueId="",i.CatalogueId="",i.CatalogHdnId="",i.SelfieEnabled="",i.ChildCategoryName="",i.AssetUniqueName="",i.AssetCatalogName="",i.Description="",i.AssetTagIdsWizard=Array.prototype.map.call(e.Tags,(function(e){return e.value})).join(","),i.AssetTypeTagIdsWizard="",i.Manufacturer="",i.NumberOfItems=e.Quantity,i.AsseetGroupQuantity="",i.ItemCode="",i.ChildItemCode="",i.ChildCatalogName="",i.ChildRequestQuantity="",i.ChildAssetType="",i.AssetType="",i.StandardTypeId="",i.AssetCompartmentId="",i.AssetGroupId="",i.IsSelfCheckout="",i.IsEnableTerms="",i.SubLocationId="",i.Attachment="",i.CreatedAt="",i.CreatedBy="",i.ModifiedAt="",i.ModifiedBy="",i.Asset_Type="",i.Status="",i.ForCompany="",i.ForEmployee="",i.MoveToInTransitInfo="",i.AvailableItems=e.Quantity,i.PendingAvailableQuantity="",i.PendingTotalAvailableItems="",i.TotalQuantity="",i.ChildAvailableItems="",i.TotalFilesCount="",i.AssetTypeCategory="",i.AssetTypeCategoryName="",i.AssetTypeCategoryCode="",i.AttachmentName="",i.DisplayImage="",i.IsTermsAndCondition="",i.TotalTermsConditionFilesCount="",i.RelatedInfoId="",i.UniqueName=1==e.CreateUniqueNameListing?1:0,i.AssetCatalogueGroup="",i.ChildCreateUniqueNameListing="",i.IsTransitItems="",i.AttachmentPath="",i.LocationName="",i.SubLocationName="",i.AuditFrequency="",i.ImageCaptureFrequency="",i.CalibrationFrequency="",i.CR="",i.DR="",i.IsDisplayImage="",i.PurchaseValue="",i.CurrentBookValue="",i.SalvageValue="",i.Unit="",i.ReqFrom="",i.IsContainer="",i.IsSampleData="",i.Model="",i.Vendor="",i.ManufacturerId="",i.PurchaseOrder="",i.WarrantyDuration="",i.DepreciationRuleId="",i.OrderDate="",i.SalvageCost="",i.ItemLife="",i.InvoiceNumber="",i.InvoiceDate="",i.InsurerName="",i.InsuranceRefNumber="",i.InsuranceTo="",i.DeployedBy="",i.DeployedAt="",i.EnableWarranty="",i.EnableInsurance="",i.EnableItemCost="",i.EnableCalibration="",i.EnableDepreciation="";var o=new FormData;o.append("postString",JSON.stringify(i)),o.append("Files",e.DisplayImage[0]),o.append("Is_DisplayImage","Yes"),s["a"].AddAssetWizard(o).then((function(e){"SaveAndClose"==t?(a.$parent.ShowAddProduct=!1,a.$parent.FetchData(),"size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"alreadyexist"==e.data.msg?a.ShowAlert(a.$t("Already exist record!"),"warning",a.$t("Alert")):"ValidFileUploadMsg"==e.data.msg?a.ShowAlert(a.$t("Please upload valid file!"),"warning",a.$t("Alert")):"add"==e.data.msg?(a.ShowAlert(a.$t("Product has been Saved Successfully"),"success",a.$t("Alert")),a.$parent.ShowAddProduct=!1,"setup"==a.popupCondition?($("#modelAddProduct").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()):a.$parent.FetchData(),a.isLoading=!1):(a.ShowAlert(a.$t("Unknown Error"),"failure",a.$t("Alert")),a.$parent.ShowAddProduct=!1,"setup"==a.popupCondition?($("#modelAddProduct").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()):a.$parent.FetchData(),a.isLoading=!1)):"SaveAndNew"==t?(a.buttons[2].class+=" disabled","size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"alreadyexist"==e.data.msg?(a.ShowAlert(a.$t("Already exist record!"),"warning",a.$t("Alert")),a.buttons[2].class=a.buttons[2].class.replace("disabled","").trim()):"ValidFileUploadMsg"==e.data.msg?a.ShowAlert(a.$t("Please upload valid file!"),"warning",a.$t("Alert")):"add"==e.data.msg?"setup"==a.popupCondition?(a.$parent.ShowAddProduct=!1,a.ShowAlert(a.$t("Product has been Saved Successfully"),"success",a.$t("Alert")),a.resetForm(),a.buttons[2].class=a.buttons[2].class.replace("disabled","").trim()):(a.$parent.ShowAddProduct=!1,a.ShowAlert(a.$t("Product has been Saved Successfully"),"success",a.$t("Alert")),"RelatedInfo"==a.FromPage?(a.$parent.ShowAddProduct=!1,a.$nextTick(()=>{a.$parent.ShowAddProduct=!0,a.$parent.OpenModelAddProduct(),a.HideShowDeployProductFields("false")})):"ProductListing"==a.FromPage&&(a.HideShowDeployProductFields("false"),a.$parent.OpenModelAddProduct()),a.isLoading=!1):(a.ShowAlert(a.$t("UnknownError"),"failure",a.$t("Alert")),a.$parent.ShowAddProduct=!1,"setup"==a.popupCondition?(a.$parent.ShowAddProduct=!1,a.resetForm(),a.buttons[2].class=a.buttons[2].class.replace("disabled","").trim()):a.$parent.FetchData(),a.isLoading=!1),a.$refs.modalAddCustomForm.validateForm.reset()):"Finish"==t&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?a.ShowAlert((a.$t("size_exceed",[a.$t("Asset")]),a.$t("Alert"))):"alreadyexist"==e.data.msg?(a.ShowAlert(a.$t("Already exist record!"),"warning",a.$t("Alert")),a.buttons[2].class=a.buttons[2].class.replace("disabled","").trim()):"ValidFileUploadMsg"==e.data.msg?a.ShowAlert(a.$t("Please upload valid file!"),"warning",a.$t("Alert")):"add"==e.data.msg?"setup"==a.popupCondition&&(a.$parent.ShowAddProduct=!1,a.ShowAlert(a.$t("Product has been Saved Successfully"),"success",a.$t("Alert")),a.close()):(a.ShowAlert(a.$t("UnknownError"),"failure",a.$t("Alert")),a.$parent.ShowAddProduct=!1,"setup"==a.popupCondition?a.$parent.ShowAddProduct=!1:a.$parent.FetchData(),a.isLoading=!1),a.$refs.modalAddCustomForm.validateForm.reset()),a.$refs.modalAddCustomForm.validateForm.reset(),a.isLoading=!1}))}else a.isLoading=!1,a.ShowAlert(a.$t("Unauthorized Access"),"warning",a.$t("Alert"));a.isLoading=!1},resetForm(){this.FormSchema.forEach(e=>{e.Data.forEach(e=>{"SelectField"===e.astype||"RadioField"===e.astype||"TextField"===e.astype?e.value="":"NumericField"===e.astype?e.value="0":"MultiSelectField"===e.astype?e.value=[]:"TreeSelectField"===e.astype?e.value=null:"ToggleField"===e.astype?e.value=!1:("FileField"===e.astype||"SlotField"===e.astype)&&(e.value="")})})},setFile:function(e){var t=this;for(let a=0;a<e.target.files.length;a++){const o=e.target.files[a];t.file.push(o)}},isDeployProduct(){var e=this;e.FormSchema[3].Data[0].isVisible=!0},GetAssetCost(e,t,a){var o=this;"e"===e.key&&e.preventDefault();var i=o.FormSchema[4].Data[1].value,s=o.FormSchema[4].Data[1];i.length>7&&(i=i.slice(0,7)),s.value=i;var l=o.FormSchema[4].Data[2].value,n=o.FormSchema[4].Data[2];l.length>5&&(l=l.slice(0,5),n.value=l,o.ShowAlert(o.$t("The Unit Price field may not be greater than 5 characters"),"failure",o.$t("Alert"))),o.GetUnitPrice(i)},GetUnitPrice(e){var t=this,a=t.FormSchema[4].Data[1].value;a.startsWith("0")&&a.length>1&&(a=a.slice(1));var o=t.FormSchema[4].Data[2].value;if(o.startsWith("0")&&o.length>1&&(o=o.slice(1)),a.length>0&&!a.startsWith("0"))if(o.length>0&&!o.startsWith("0")){var i=parseFloat(o)*parseFloat(a);t.FormSchema[4].Data[3].value=i.toFixed(3)}else t.FormSchema[4].Data[3].value="0.000";else if(o.length>0&&!o.startsWith("0")){var s=parseFloat(o);t.FormSchema[4].Data[3].value=s.toFixed(3)}else t.FormSchema[4].Data[3].value="0.000"},UploadFile(e){var t=this;t.fileUploaded=e.target.files[0]},removeTag:function(e){var t=this;t.confirmR(t.$t("ConfirmRemoveTag"),!0,t.$t("Delete"),(function(){var a=t.tagData.findIndex(t=>t.TAG_ID===e);a>-1&&t.tagData.splice(a,1)}))},AddLocation(){var e=this;e.IsDeployment=!0,e.ShowAddLocation=!0},async GetLocationByCompanyId(){var e=this;e.isLoading=!0,e.LocationData=[];var t="reqForm=";await s["a"].GetLocationByCompanyId(t).then((function(t){e.FindalLocationArray=[],e.LocationData=JSON.parse(t.data).data,e.LocationData.forEach(a=>{var o=e.FindalLocationArray.filter((function(e){return e.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==o.length&&null==a.PARENT_LOCATION_ID){let o=a.COMPANY_LOCATION_ID,i=e.getChildLocation(o,a,JSON.parse(t.data).data);e.FindalLocationArray.push(i)}}),e.FormSchema[4].Data[0].config.options=e.FindalLocationArray})),e.LocationData.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0},getChildLocation:function(e,t,a){let o=this,i={};i={id:t.COMPANY_LOCATION_ID,label:t.LOCATION_NAME};let s=i;var l=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));let n=[];return l.forEach(e=>{let t=e.COMPANY_LOCATION_ID;var s=n.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==s.length){var l=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));if(null!=l&&l.length>0){let i=o.getChildLocation(t,e,a);n.push(i)}else i={id:""+e.COMPANY_LOCATION_ID,label:""+e.LOCATION_NAME},n.push(i)}}),s.children=n,s},OpenAddTagPopup(){var e=this;e.ShowAddProduct=!0,$("#modelAddProduct").modal("show"),setTimeout((function(){$("#modelAddProduct").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3),e.FromAddProduct=!0,e.IsTagNamePopup=!0},async GetBarcodeType(){var e=this;e.isLoading=!0;var t="BarcodeTypeId=";await s["a"].GetBarcodetype(t).then(t=>{e.BarcodeType=JSON.parse(t.data.result),e.BarcodeType.forEach((t,a)=>{e.FormSchema[0].Data[2].config.options.push({name:t.BARCODE_TYPE,value:t.BARCODE_TYPE_ID})}),e.isLoading=!1})},GetAssetType(){var e=this;e.FormSchema[0].Data[0].config.options=[],e.isLoading=!0;var t="type=ITEMCODE&issueTo=&locationId=";s["a"].GetAssetTypeCustom(t).then(t=>{e.AssetType=JSON.parse(t.data),e.AssetType.forEach((t,a)=>{e.FormSchema[0].Data[0].config.options.push({name:t.ASSETTYPE,value:t.ASSETID})}),e.isLoading=!1,e.$refs.modalAddCustomForm.UpdateKeyValue()}),e.AssetType.length>0?(e.count=e.count+1,e.SetupProgresText="Completed"):e.SetupProgress=0},close(){var e=this;"setup"==e.popupCondition?e.$parent.showpopup=!1:($("#modelAddProduct").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),e.$parent.FetchData(),e.$parent.ShowAddProduct=!1)},CloseTagPopup(){var e=this;e.IsTagNamePopup=!1},async CloseLocationPopup(){var e=this;e.LocationData=[],e.FindalLocationArray=[],e.FormSchema[4].Data[0].config.options=[],await e.GetLocationByCompanyId(),e.HideShowDeployProductFields(!1),setTimeout((function(){e.HideShowDeployProductFields(!0)}),500),e.isLoading=!1,e.ShowAddLocation=!1},async EnableAssetManagement(){let e="moduleName=Asset&configkey=CanSeeAssetManagement";await s["a"].EnableAssetManagement(e).then(e=>{this.IsEnableAssetManagement=e.data})},OpenAddProductTypePopup(){var e=this;e.FromPage="AddProduct",e.ShowAddProductType=!0},ClosePopupProductType(){var e=this;e.ShowAddProductType=!1}}},g=v,C=(a("e058"),Object(p["a"])(g,o,i,!1,null,null,null));t["a"]=C.exports},"5e59":function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,"#modelAddProduct .modal-dialog{max-width:1200px!important}#Location .invalid-feedback{white-space:normal;font-size:80%;position:absolute!important;margin-top:7%!important;padding-bottom:10%!important}#Location .vue-treeselect__control .vue-treeselect__x-container{display:none}#Location .vue-treeselect{position:relative;text-align:left;border:1px solid #abb5bf}#Location .vue-treeselect--single .vue-treeselect__input{width:100%;height:100%;box-sizing:border-box;border:none}#modelAddProduct .custom-checkbox.custom-checkbox .custom-control-label:before,.custom-checkbox .custom-control-input:checked~.custom-control-label:after{display:none}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}#Location .vue-treeselect__control{border:none!important;height:31px}",""]),e.exports=t},b595:function(e,t,a){var o=a("5e59");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=a("499e").default;i("da783e02",o,!0,{sourceMap:!1,shadowMode:!1})},e058:function(e,t,a){"use strict";a("b595")}}]);
//# sourceMappingURL=chunk-3b143901.js.map