(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0282a5e","chunk-2d0df0a2"],{"38c2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{attrs:{IsShowAction:!1,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",IdentityColumn:"feature_id",ListData:e.ModuleFeatureList,HeaderData:e.Headers,widgets:e.widgets,showCheckBox:!1,callbackfunction:e.FetchData,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:"FetchData",LegendArray:e.LegendArray,SortExp:e.SortExp,SortBy:e.SortBy,SearchFields:e.leftSearchFields,NorecordfoundText:e.$t("NoRecordfound")},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["Action"==a.column.COLUMN_NAME?[t("em",{staticClass:"fa fa-pencil text-success action-icon center-icon",attrs:{title:a.column.COLUMN_NAME},on:{click:function(t){return e.Edit(a.row.enable_disable_sections_id)}}})]:e._e(),"status_id"==a.column.COLUMN_NAME?[t("td",{staticClass:"text-center single-action"},[t("div",{staticClass:"cstm-drop-btn"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.row.status_id,expression:"data.row.status_id"}],class:1001==a.row.status_id?"ddlupdatestatus w-80 btn-success":"ddlupdatestatus w-80 btn-danger",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a.row,"status_id",t.target.multiple?s:s[0])},function(t){return e.DrpdownUpdataStatus(a.row.status_id,a.row.enable_disable_sections_id)}]}},[t("option",{attrs:{value:"1001",selected:"selected"}},[e._v("Active")]),t("option",{attrs:{value:"1002"}},[e._v("Inactive")])])])])]:e._e()]}}])}),e.IsAddFeature?t("AddFeature",{attrs:{matchValue:e.matchValue}}):e._e()],1)},i=[],o=a("1115"),l=a("87e2");a("14d9");let d=[{fieldName:"Module Name",fieldType:"radio",fieldIcon:"fa fa-user",paramName:"module_id",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Sub Module Name",fieldType:"ddl-check",fieldIcon:"fa fa-user",paramName:"sub_module_id",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Section Name",fieldType:"text",fieldIcon:"fa fa-suitcase",paramName:"sections_name",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}];async function u(e,t,a){var s=e;if("Module_Name"==a){var i="moduleId=&userTypeId=&requestFrom=&isCustomFieldEnable";await o["a"].GetModuleList(i).then((function(e){s.AssetType=e.data.Data,s.AssetType.forEach(e=>{let t={name:e.module_name,value:e.module_id};s.leftSearchFields[0].listOptions.push(t)})}))}if("sub_module_name"==a){i="moduleId=&userTypeId=&requestFrom=&isCustomFieldEnable";await o["a"].GetModuleList(i).then((function(e){s.ModuleName=e.data.Data,s.ModuleName.forEach(e=>{let t={name:e.sub_module_name,value:e.sub_module_id};s.leftSearchFields[1].listOptions.push(t)})}))}}var n={leftsearchSchema:d,bindleftCommonSearchdropdown:u},c={components:{AddFeature:l["default"]},data(){return{leftSearchFields:n.leftsearchSchema,ModuleFeatureList:[],IsAddFeature:!1,sortBy:"",sortExp:"",TotalRecords:0,pageNumber:1,pageSize:10,CurrentPage:1,Headers:[{COLUMN_NAME:"module_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("moduleName"),DISPLAY_ORDER:1},{COLUMN_NAME:"sub_module_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("SubModuleName"),DISPLAY_ORDER:2},{COLUMN_NAME:"group_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("GroupName"),DISPLAY_ORDER:3},{COLUMN_NAME:"group_code",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("GroupCode"),DISPLAY_ORDER:4},{COLUMN_NAME:"enable_disable_sections_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Section Name"),DISPLAY_ORDER:5},{COLUMN_NAME:"section_code",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("SectionCode"),DISPLAY_ORDER:6},{COLUMN_NAME:"status_id",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:7,settings:{isInSlot:!0}},{COLUMN_NAME:"feature_based_on",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("BasedOn"),DISPLAY_ORDER:8},{COLUMN_NAME:"Action",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Action"),DISPLAY_ORDER:9,settings:{isInSlot:!0}}],listheaderbuttons:[{title:"Add Feature",iconClass:"fa fa-plus",callbackfunction:"AddModule",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],widgets:[],LegendArray:[],matchValue:{}}},created(){n.bindleftCommonSearchdropdown(this,"Asset","Module_Name"),n.bindleftCommonSearchdropdown(this,"Asset","Sub_Module_Name"),this.FetchData()},methods:{AddModule:function(){this.matchValue={},this.IsAddFeature=!0},Edit:function(e){this.matchValue=this.ModuleFeatureList.find(t=>t.enable_disable_sections_id===e),this.IsAddFeature=!0},async FetchData(){var e=this;e.isLoading=!0;var t=`feature_id=&sortBy=${e.sortBy}&sortExp=${e.sortExp}&pageSize=${e.pageSize}&pageNumber=${e.pageNumber}&${e.searchCondition}`;await o["a"].GetEnableDisableSectionsListing(t).then(t=>{e.isLoading=!1,null!=t.data&&0!=t.data&&t.data.length>0?(e.ModuleFeatureList=t.data,e.TotalRecords=t.data[0].Totals,e.TotalPages=Math.ceil(e.TotalRecords/e.pageSize),e.CurrentPage=e.pageNumber,e.noRecord=!1):(e.noRecord=!0,e.ModuleFeatureList=[],e.TotalRecords=0),setTimeout((function(){e.CheckBoxBootstrap()}),100)})},renderActions:function(){},pagerMethod:function(e){this.pageSize=e.PageSize,this.pageNumber=e.PageNumber,this.FetchData()},sortdata:function(e){var t="sort tb_headerSortDown";this.sortBy=e,e===this.sortBy&&(""==this.sortExp?(this.sortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.sortExp?(this.sortExp="DESC",t="sort tb_headerSortUp"):(this.sortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)},DrpdownUpdataStatus(e,t){var a=this,s={ID:t,StatusId:e,IsFor:"Talygen_Enable_Disable_Sections",primaryKey:"enable_disable_sections_id"};s=JSON.stringify(s),a.confirmR(a.$t("Are you sure to update this record?"),!0,!1,(function(t){o["a"].UpdateStatus12(s).then(t=>{var s="";s="1001"==e?"Active":"Inactive",a.ShowAlert(s+a.$t(" Successfully"),"success","Alert"),a.FetchData()})})),a.FetchData()},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"AddModule":this.AddModule();break}},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchConditionJson:this.searchCondition="",this.FetchData()}}},r=c,m=a("2877"),h=Object(m["a"])(r,s,i,!1,null,null,null);t["default"]=h.exports},"87e2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.matchValue.module_id?"Edit Feature":"Add Feature")+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-2"},[t("div",{staticClass:"p-3"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),t("span",{staticClass:"mandatory"},[e._v(e._s(e.$t("MandatoryString")))])],1)])])])]),e.IsModule?t("PrivilegePopUp",{attrs:{moduelId:e.moduelId,subModuleId:e.subModuleId},on:{"Check-Privilege":e.CheckPrivilege}}):e._e()],1)},i=[],o=(a("14d9"),a("1115")),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Privilege"))+" ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblReturnRequestBulk"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[e._v(e._s(e.$t("Privilege")))]),t("th",{staticClass:"text-center"},[e._v(e._s(e.$t("Select All"))+" "),t("input",{attrs:{type:"checkbox"},on:{click:e.SelectAllCheckedvalue}})])])]),t("tbody",e._l(e.ModuleName,(function(a,s){return t("tr",{key:s},[t("td",[e._v(" "+e._s(a.privilege_desc))]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"custom-control-input chkItems",class:{chkItems:1==a.sorting_order},staticStyle:{display:"none"},attrs:{type:"checkbox",id:"chk_2"},domProps:{checked:a.is_enable,value:a.privilege_id},on:{click:function(t){return e.checkedValue(a.privilege_id)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_2"}})])])])})),0)])])])]),t("div",{staticClass:"modal-footer"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-info float-right",attrs:{type:"submit"},on:{click:e.save}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v("Save")])])])])])])])])},d=[],u={props:{moduelId:{},subModuleId:{},comment:[]},data(){return{checkCheckBox:!1,selectAll:!1,ModuleName:[]}},created:function(){this.GetPrivilegeListFeature()},methods:{SelectAllCheckedvalue:function(){var e=this;0==e.selectAll?e.ModuleName.forEach(t=>{e.selectAll=!0,t.is_enable=1}):e.ModuleName.forEach(t=>{e.selectAll=!1,t.is_enable=0})},ClosePopup:function(){this.$parent.IsModule=!1},async GetPrivilegeListFeature(){var e=this;e.isLoading=!0;var t=`userTypeId=1&moduleId=${e.moduelId}&subModuleId=${e.subModuleId}&privilegeGroupCode=&roleId=`;await o["a"].GetPrivilegeListForEnableDisable(t).then(t=>{e.ModuleName=t.data.PrivilegeVertical,e.isLoading=!1}),setTimeout((function(){e.CheckBoxBootstrap()}),100)},save(){var e=this,t=[];$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){t.push({privilege_id:$(this).val(),is_enable:1})})),e.$emit("Check-Privilege",t),e.ClosePopup()}}},n=u,c=a("2877"),r=Object(c["a"])(n,l,d,!1,null,null,null),m=r.exports,h={components:{PrivilegePopUp:m},props:{matchValue:{type:Object,required:!0}},created(){this.GetModuleName(),null!=this.matchValue.module_id&&(this.moduleId=this.matchValue.module_id,this.GetSubModule()),"Privilege"==this.matchValue.feature_based_on&&(this.moduelId=this.matchValue.module_id,this.subModuleId=this.matchValue.sub_module_id,this.IsModule=!0)},watch:{watchValue(e,t){if(null!=this.matchValue){let e=this.matchValue.module_id;this.GetSubModule(e)}}},data(){return{featureid:0,moduleId:null,watchValue:!1,ModuleName:[],IsModule:!1,CheckPrivilegeValue:"",FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:"Module Name",name:"ModuleName",value:this.matchValue.module_id?this.matchValue.module_id:"",validationRules:{required:!0},placeholder:"",config:{options:[],onChange:this.GetSubModule}},{astype:"SelectField",label:"Sub Module",name:"SubModule",value:this.matchValue.sub_module_id?this.matchValue.sub_module_id:"",placeholder:"",validationRules:{required:!0},config:{options:[]}}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Based On"),name:"BasedOn",value:this.matchValue.feature_based_on?this.matchValue.feature_based_on:"",placeholder:"",validationRules:{required:!0},config:{options:[{value:"Module",name:"SubModule"},{value:"Privilege",name:"Privilege"}],onChange:this.GetPrivilege}},{astype:"TextField",label:this.$t("GroupName"),name:"GroupName",value:this.matchValue.group_name?this.matchValue.group_name:"",placeholder:"",validationRules:{required:!1}},{astype:"TextField",label:this.$t("GroupCode"),name:"GroupCode",value:this.matchValue.group_code?this.matchValue.group_code:"",placeholder:"",validationRules:{required:!1}},{astype:"TextField",label:this.$t("SectionName"),name:"SectionName",value:this.matchValue.enable_disable_sections_name?this.matchValue.enable_disable_sections_name:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("SectionCode"),name:"SectionCode",value:this.matchValue.section_code?this.matchValue.section_code:"",placeholder:"",validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:this.matchValue.comment?this.matchValue.comment:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save")},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}]}},methods:{async CheckPrivilege(e){this.CheckPrivilegeValue=e},async GetModuleName(){var e=this;e.isLoading=!0;var t="moduleId=&userTypeId=&requestFrom=&isCustomFieldEnable";await o["a"].GetModuleList(t).then(t=>{e.AssetType=t.data.Data,console.log(e.AssetType),e.AssetType.forEach(t=>{e.FormSchema[0].Data[0].config.options.push({name:t.module_name,value:t.module_id})}),e.isLoading=!1}).catch(e=>{console.error(e)})},async GetSubModule(e){var t=this;if(t.isLoading=!0,t.FormSchema[0].Data[1].config.options=[],void 0==e)var a=`moduleId=${this.moduleId}&userTypeId=&requestFrom=&isCustomFieldEnable`;else a=`moduleId=${e.target.value}&userTypeId=&requestFrom=&isCustomFieldEnable`;await o["a"].GetModuleList(a).then(e=>{t.ModuleName=e.data.Data,console.log(t.ModuleName),t.ModuleName.forEach(e=>{t.FormSchema[0].Data[1].config.options.push({name:e.sub_module_name,value:e.sub_module_id})}),t.isLoading=!1}).catch(e=>{console.error(e)})},ClosePopup:function(){this.$parent.IsAddFeature=!1},async GetPrivilege(e){"Privilege"==e.target.value?(this.moduelId=this.FormSchema[0].Data[0].value,this.subModuleId=this.FormSchema[0].Data[1].value,this.IsModule=!0):this.IsModule=!1},async onSubmit(e,t){var a=this;a.isLoading=!0,null!=a.matchValue.enable_disable_sections_id&&(a.featureid=a.matchValue.enable_disable_sections_id);var s={feature_id:a.featureid,module_id:e.ModuleName,sub_module_id:e.SubModule,feature_based_on:e.BasedOn,feature_name:e.SectionName,section_code:""==e.SectionCode?"DuplicateValue":e.SectionCode,group_name:""==e.GroupName?"Default":e.GroupName,group_code:""==e.GroupCode?"DuplicateValue":e.GroupCode,status_id:1001,comment:e.Description,postString:"Module"==e.BasedOn?"":JSON.stringify(a.CheckPrivilegeValue)},i=`feature_id=${s.feature_id}&module_id=${s.module_id}&sub_module_id=${s.sub_module_id}&feature_based_on=${s.feature_based_on}&feature_name=${s.feature_name}&section_code=${s.section_code}&group_name=${s.group_name}&group_code=${s.group_code}&status_id=${s.status_id}&comment=${s.comment}&postString=${s.postString}`;await o["a"].SaveEnableDisableSections(i).then(e=>{a.isLoading=!1,0===e.data?a.ShowAlert(a.$t("AddedError"),"failure",!1,a.$t("Alert")):1===e.data?a.ShowAlert(a.$t("PrivilegeSave"),"success",!0,a.$t("Alert")):2===e.data?a.ShowAlert(a.$t("PrivilegeUpdated"),"success",!0,a.$t("Alert")):a.ShowAlert(a.$t("DuplicateRecords"),"Warning",!1,a.$t("Alert")),a.$parent.FetchData(),a.ClosePopup()})}}},_=h,p=Object(c["a"])(_,s,i,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-d0282a5e.js.map