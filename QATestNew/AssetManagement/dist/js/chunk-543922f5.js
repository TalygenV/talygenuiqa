(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-543922f5"],{"2f8a":function(t,e,a){"use strict";a("6364")},"4cad":function(t,e,a){"use strict";a("93d5")},"4db9":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}",""]),t.exports=e},6364:function(t,e,a){var s=a("6cc2");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("437e3bc7",s,!0,{sourceMap:!1,shadowMode:!1})},"67f5":function(t,e,a){var s=a("4db9");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("b00f25e0",s,!0,{sourceMap:!1,shadowMode:!1})},"6cc2":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".vue-treeselect__control{border:none;height:24px;padding:0}.vue-treeselect--searchable .vue-treeselect__input-container{padding:0!important}.vue-treeselect__placeholder{color:#303030!important}.vue-treeselect__control-arrow{color:#000}.vue-treeselect__placeholder{line-height:24px}",""]),t.exports=e},"87ac":function(t,e,a){var s=a("9701");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("2ac42022",s,!0,{sourceMap:!1,shadowMode:!1})},"8ab7":function(t,e,a){"use strict";a("67f5")},"8fcf":function(t,e,a){"use strict";a("87ac")},"8fd3":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"input.custom-control-input[data-v-6ae26166]{z-index:1}span.btn.d-inline-block.w-80.h-20.text-center.text-truncate.btn-success[data-v-6ae26166],span.btn.d-inline-block.w-80.text-center.text-truncate.btn-warning[data-v-6ae26166]{padding:0}.p-action-btn[data-v-6ae26166]{border-left:0 solid #4d5a60}",""]),t.exports=e},"93d5":function(t,e,a){var s=a("8fd3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("5139a479",s,!0,{sourceMap:!1,shadowMode:!1})},9701:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".vue-treeselect__control{border:none;height:24px;padding:0}.form-control .vue-treeselect__control{border:none!important}.vue-treeselect--searchable .vue-treeselect__input-container{padding:0!important}.vue-treeselect__placeholder{color:#303030!important}.vue-treeselect__control-arrow{color:#000}.vue-treeselect__placeholder{line-height:24px}.vue-treeselect__single-value{color:#333;line-height:22px}.vue-treeselect .vue-treeselect__placeholder.vue-treeselect-helper-zoom-effect-off{padding:1px}.form-control .vue-treeselect__control .vue-treeselect__single-value{padding-left:0}.vue-treeselect--single .vue-treeselect__input{width:100%;height:100%;border:none;padding:0}",""]),t.exports=e},"97c9":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main-content"},[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("RelatedProduct"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.ClosePopup()}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap my-0",attrs:{id:"tblRelatedDataItems"}},[t._m(0),e("tbody",t._l(t.GetRelatedProductData,(function(a){return e("tr",{key:a},[e("td",{staticClass:"text-center"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.isSelected,expression:"item.isSelected"}],staticClass:"custom-control-input",attrs:{type:"checkbox",name:"checkbox"},domProps:{checked:Array.isArray(a.isSelected)?t._i(a.isSelected,null)>-1:a.isSelected},on:{change:[function(e){var s=a.isSelected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(a,"isSelected",s.concat([r])):n>-1&&t.$set(a,"isSelected",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(a,"isSelected",o)},function(e){return t.singleSelect(e,a)}]}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1"})])]),e("td",[t._v(t._s(a.NAME))]),e("td",[t._v(t._s(a.AVAILIABLE_ITEM))]),e("td",[e("Field",{attrs:{name:"Quantity",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Quantity,expression:"item.Quantity"}],class:{"txtitems form-control ":!0,"is-invalid":!(!s[0]&&0!=a.Quantity)},attrs:{inputmode:"numeric",id:"",min:"1",maxlength:"8"},domProps:{value:a.Quantity},on:{keyup:function(e){return t.checkQuantity(a,a.Quantity,t.index)},input:function(e){e.target.composing||t.$set(a,"Quantity",e.target.value)}}}),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1)])})),0)])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.ClosePopup}},[t._v(t._s(t.$t("Close")))]),e("button",{staticClass:"btn btn-success",attrs:{type:"button",id:"relatedprdct"},on:{click:t.SaveChanges}},[t._v(t._s(t.$t("SaveChanges")))])])])])])])])])])},i=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",{staticStyle:{"max-width":"7px"}},[t._v("#")])]),e("th",[e("span",[t._v("Product Name")])]),e("th",{staticStyle:{"min-width":"300px"}},[e("span",[t._v("Available Quantity")])]),e("th",[e("span",[t._v("Required Quantity")])])])])}],o=(a("14d9"),a("1115")),r={props:{RelatedProductDaata:{type:Array,required:!0},AssetListData:{type:Array,required:!0},GetRelatedProduct:{type:Array},ItemIndex:{type:Number}},data(){return{widgets:[],leftSearchFields:"",listheaderbuttons:[],LegendArray:[],GetRelatedProductData:[],IsChecked:!1,txtAssetQuentity:1,RelatedProduct:[],SortBy:"",SortExp:"",CurrentPage:1,TotalPage:0,TotalRecord:0,noRecord:!0,PageNumber:1,PageSize:10,UserId:null}},created:function(){var t=this,e=t.GetUserInfo;t.UserId=e.ID,null!=t.GetRelatedProduct&&t.GetRelatedProduct.length>0?t.GetRelatedProductData=t.GetRelatedProduct:t.FetchData()},methods:{singleSelect(t,e){var a=this;1==t.target.checked?a.GetRelatedProductData.forEach(t=>{t.ID==e.ID&&(t.isSelected=!0)}):a.GetRelatedProductData.forEach(t=>{t.ID==e.ID&&(t.isSelected=!1)})},FetchData:function(){var t=this;t.isLoading=!0;var e=`catId=${this.RelatedProductDaata[0].AssetCatalogueId}&type=ProductName`;o["a"].GetRelatedProduct(e).then(t=>{t.data.result.length>0?(this.GetRelatedProductData=JSON.parse(JSON.parse(t.data.result).RESULT),this.noRecord=!1):(this.noRecord=!0,this.GetRelatedProductData=[],this.TotalRecords=0)})},SaveChanges(){let t=this,e="",a=[];if(t.GetRelatedProductData.forEach(t=>{t.isSelected&&(""!==e&&(e+=","),e+=t.ID,a.push(t))}),console.log("relatedProductIds",e),""==e)return t.ShowAlert(t.$t("PleaseSelectAtleastOneProduct"),"warning",t.$t("Alert"));{let l=new Date,d=new Date,c=new Date;var s=t.$options.filters.formatDateYear(l),i=t.$options.filters.formatDateYear(d),r=t.$options.filters.formatTimee(c),n=t.$options.filters.formatTimee("12:00 AM");a.forEach(a=>{let l=e,d=a.itemDetail.AssetTypeId,c=a.itemDetail.LocationId,u=t.UserId;var m=null,p=`id=${l}&isView=1&barcode=&assetType=${d}&assetUniqueId=&selfCheckout=&reqFrom=assetrequisition&isFor=&isuniqueSearch=no&issueTo=${u}&assignedFrom=${s}&assignedTill=${i}&startTime=${r}&endTime=${n}&locationId=${c}&RFID=0&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=${m}&catalogueIds=${l}`;o["a"].GetCompanyAssestCatalogsDetalis(p).then(e=>{t.RelatedProduct=[],t.RelatedProduct=e.data,t.$emit("RelatedProduct",t.RelatedProduct),t.ClosePopup()})})}},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNum=t.PageNumber,this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),1==this.activeTab||4==this.activeTab?this.FetchData():2==this.activeTab?this.GetAssetReplacement():this.GetAssetReturnRequestList(),$("#"+t+"  span:first-child").attr("class",e)},ClosePopup:function(){this.$parent.CloseRelatedPopup()},handleClick(){this.$refs.theCheckbox[0].checked?this.IsChecked=!0:this.IsChecked=!1},commonHeaderButtonClick:function(){},renderActions(){},renderRowActionMethod(){}}},n=r,l=(a("4cad"),a("2877")),d=Object(l["a"])(n,s,i,!1,null,"6ae26166",null);e["a"]=d.exports},b8a9:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main-content"},[e("loader",{attrs:{"is-visible":t.isLoadinges}}),e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("NewCheckout")))])])])])]),e("div",{staticClass:"border p-3"},[e("Form",{ref:"addCheckOut",attrs:{id:"formCheckOut"}},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 float-left"},[e("div",{staticClass:"input-group"},[e("label",[t._v(" "+t._s(t.$t("DateofAssignment"))+":")]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("v-date-picker",{class:{"timedate input-group":!0,disabled:t.datepickerDisabled},attrs:{popover:t.popover,name:t.DateofAssignment,mode:"dateTime",disabled:t.datepickerDisabled},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s}){return[e("input",t._g({class:{"form-control":!0,disabled:!!t.datepickerDisabled},attrs:{placeholder:"M/D/YYYY h:mm A"},domProps:{value:a}},s)),e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text"},[e("em",t._g({staticClass:"fa fa-calendar"},s))])])]}}]),model:{value:t.DateofAssignment,callback:function(e){t.DateofAssignment=e},expression:"DateofAssignment"}})],1)]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 float-left"},[e("div",{staticClass:"input-group"},[e("label",[t._v(t._s(t.$t("DateofAssignmentTill"))+": ")]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("v-date-picker",{class:{"timedate input-group":!0,disabled:t.datepickerDisabled},attrs:{popover:t.popover,mode:"dateTime",disabled:t.datepickerDisabled,name:t.DateofAssignmentTill},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s}){return[e("input",t._g({class:{"form-control":!0,disabled:!!t.datepickerDisabled},attrs:{placeholder:"M/D/YYYY h:mm A"},domProps:{value:a}},s)),e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text"},[e("em",t._g({staticClass:"fa fa-calendar"},s))])])]}}]),model:{value:t.DateofAssignmentTill,callback:function(e){t.DateofAssignmentTill=e},expression:"DateofAssignmentTill"}})],1)]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 float-left"},[e("label",[t._v(t._s(t.$t("Location"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Location",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("tree-view",{class:{"form-control":!0,"is-invalid":a[0]},attrs:{options:t.options,placeholder:"Select Location",disabled:t.treeViewDisabled,"show-count":!0},on:{input:function(e){return t.BindItemTypeByUserId(t.TreeValue)}},model:{value:t.TreeValue,callback:function(e){t.TreeValue=e},expression:"TreeValue"}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a[0]))]):t._e()]}}])})],1),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Comment"}},[t._v(t._s(t.$t("Comment"))),e("span",{staticClass:"text-danger"})]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Remarks,expression:"Remarks"}],class:{"form-control w-100":!0},attrs:{cols:"3",rows:"3"},domProps:{value:t.Remarks},on:{input:function(e){e.target.composing||(t.Remarks=e.target.value)}}})])])])]),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"heading-border mt-2"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("List Of Product")))]),e("small",{staticClass:"float-right"},[e("a",{staticClass:"additems",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add Products"},on:{click:function(e){return t.SearchItems()}}},[e("i",{staticClass:"fa fa-plus pr-1"}),t._v(t._s(t.$t("AddProducts"))+" ")])])])])])]),t.IsSearchItem?e("SearchItems",{attrs:{TreeValue:t.TreeValue},on:{CloseSearchItem:t.CloseSearchItem,addListData:t.addListData}}):t._e()],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-2 mt-2"},[e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"legend-Progress colorboxsquare"}),t._v(t._s(t.$t("ContainerProducts"))+" ")]),e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"text-danger font-weight-bold"},[t._v("*")]),t._v(" "+t._s(t.$t("MandatoryItems"))+" ")]),t.requsitionTime>0?e("span",{staticClass:"font-weight-bold",attrs:{id:"spnRemainingTime"}},[t._v(t._s(t.$t("RemainingTime")))]):t._e(),t.requsitionTime>0?e("div",{staticClass:"mr-2 d-inline-block"},[e("div",{staticClass:"DivRequisition text-primary countdown_req counttimer",attrs:{id:"timer","data-ison":"0","data-totaltime":"5"}},[e("div",{staticClass:"newdiv pullleft"},[t._v("  "+t._s(t.formattedTime))])])]):t._e()])]),e("listOfProduct",{attrs:{listData:t.listData}})],1)},i=[],o=(a("14d9"),a("88a7"),a("271a"),a("5494"),a("1115")),r=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),[e("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{id:"manageProjectModal",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.$emit("CloseSearchItem")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("SearchItems")))])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"form--group"},[e("div",{staticClass:"custom-control p-0 custom-radio mr-4 ml-4 custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.SearchValue,expression:"SearchValue"}],staticClass:"mr-2",attrs:{type:"radio",value:"Barcode"},domProps:{checked:t._q(t.SearchValue,"Barcode")},on:{change:[function(e){t.SearchValue="Barcode"},function(e){return t.ChangeSearchValue("Barcode")}]}}),t._v(" "+t._s(t.$t("SearchbyBarcode"))+" ")]),e("div",{staticClass:"custom-control p-0 custom-radio mr-4 ml-4 custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.SearchValue,expression:"SearchValue"}],staticClass:"mr-2",attrs:{type:"radio",value:"searchproduct"},domProps:{checked:t._q(t.SearchValue,"searchproduct")},on:{change:[function(e){t.SearchValue="searchproduct"},function(e){return t.ChangeSearchValue("searchproduct")}]}}),t._v(t._s(t.$t("CASearchbyAssetType"))+" ")])])]),t.showFirst?e("div",{staticClass:"barcode-boxes col-12 mt-3"},[e("Form",{ref:"barcode"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 searchpanel tablehead search float-left p-0"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 Search-panel float-left pt-2 p-0"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row mt-0"},[e("div",{staticClass:"col-md-12 pl-0"},[e("div",{staticClass:"form-group mb-3"},[e("label",[e("span",{attrs:{id:""}},[t._v(t._s(t.$t("SearchbyBarcode"))+" "+t._s(t.$t("Barcode"))+"/"+t._s(t.$t("SerialNumber"))+"/"+t._s(t.$t("RFID"))+":")])]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("Field",{staticClass:"w-100",attrs:{name:"BarCode",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtBarcode,expression:"txtBarcode"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"BarCode",placeholder:"Enter Barcode",type:"text"},domProps:{value:t.txtBarcode},on:{keyup:function(e){return t.searchfilter()},input:function(e){e.target.composing||(t.txtBarcode=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"BarCode"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,777179284)})],1)])])])])]),e("div",{staticClass:"col-md-12 pl-0"},[e("div",{staticClass:"form-group col-12 col-sm-9 col-md-9 col-lg-9 float-left pl-0"},[e("label",[t._v(t._s(t.$t("Location"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Location",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.LocationValueForBarCode,expression:"LocationValueForBarCode"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"Location"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.LocationValueForBarCode=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"",disabled:t.LocationValueForBarCode}},[t._v(t._s(t.$t("Select")))]),""!=t.LocationValueForBarCode?e("option",{attrs:{disabled:t.LocationValueForBarCode},domProps:{value:t.LocationValueForBarCode}},[t._v(" "+t._s(t.LocationName)+" ")]):t._e()]),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,1777892348)})],1),e("div",{staticClass:"col-12 col-sm-3 col-md-3 col-lg-3 float-left pl-md-0 pr-md-0 mt-0 mt-md-4 mt-sm-4"},[e("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline m-0 w-100"},[e("a",{staticClass:"btn btn-success mr-1 px-4 w-50",attrs:{href:"javascript:;",title:"Search"},on:{click:t.searchByBarcode}},[e("em",{staticClass:"fa fa-search text-white"})]),e("a",{staticClass:"btn btn-danger clearsearchtext px-4 w-50",attrs:{title:"Clear",href:"javascript:;"},on:{click:function(e){return t.clear()}}},[e("em",{staticClass:"fa fa-refresh"})])])])])])],1):t._e(),t.showFirst?t._e():e("Form",{ref:"product",staticClass:"product-type col-12 mt-3"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 pl-0"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("ProductType"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Product Type",as:"select",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.txtProductType,expression:"txtProductType"}],class:{"form-control w-100":!0,"is-invalid":a[0]},attrs:{name:"Product Type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.txtProductType=e.target.multiple?a:a[0]},function(e){return t.getProductNameList(t.txtProductType)}]}},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select"))+" ")]),t._l(t.productTypeList,(function(a,s){return e("option",{key:s,domProps:{value:a.ASSETID}},[t._v(t._s(a.ASSETTYPE)+" ")])}))],2),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Product Type"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,3961963749)})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("ProductName"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Product Name",as:"select",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.txtProductName,expression:"txtProductName"}],class:{"form-control w-100":!0,"is-invalid":a[0]},attrs:{name:"Product Name"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.txtProductName=e.target.multiple?a:a[0]},function(e){return t.getProductItemNameList(t.txtProductName)}]}},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select"))+" ")]),t._l(t.productNameList,(function(a,s){return e("option",{key:s,domProps:{value:a.Value}},[t._v(t._s(a.Text)+" ")])}))],2),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Product Name"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,3330480780)})],1)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 pl-0"},[e("label",[t._v(" "+t._s(t.$t("SelectItem")))]),e("div",{staticClass:"d-flex",staticStyle:{"align-items":"flex-start"}},[e("Field",{staticStyle:{width:"85%"},attrs:{name:"Products",rules:{required:!1},label:"ItemName"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("div",{staticClass:"input-group mb-3",staticStyle:{position:"relative"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.productUniqueName,expression:"productUniqueName"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"Products",id:"Products",type:"text",value:"iselectVal"},domProps:{value:t.productUniqueName},on:{input:function(e){e.target.composing||(t.productUniqueName=e.target.value)}}}),e("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none"},attrs:{href:"javascript:;"},on:{click:t.itemListOnClick}},[e("em",{staticClass:"dropdown-toggle float-right"})]),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Products"}},[t._v(t._s(a[0]))]):t._e(),e("div",{staticClass:"unique_dynamicdatalist"},t._l(t.productItemNameList,(function(a,s){return e("ul",{key:s,staticStyle:{"z-index":"auto"},on:{click:function(e){return t.setProductItemName(a)}}},[t.showProductDropdown?e("li",{staticStyle:{"text-transform":"capitalize"},attrs:{value:a.Value}},[t._v(t._s(a.Name))]):t._e()])})),0)])]}}],null,!1,1329315915)}),e("div",{staticClass:"input-group mb-3 w-auto"},[e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[e("a",{staticClass:"btn btn-outline-success float-left",attrs:{href:"javascript:;",title:"","data-original-title":"Click here to search"},on:{click:function(e){return t.searchByProduct()}}},[e("i",{staticClass:"fa fa-search"}),t._v(" Search")])])])])],1)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-2 mt-2"},[e("div",{staticClass:"mr-2 d-inline-block"},[e("span",{staticClass:"legend-Progress colorboxsquare"}),t._v(t._s(t.$t("ContainerProducts"))+" ")])])]),e("Form",{ref:"Quantity",staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap my-0",attrs:{id:"tableuniquename"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",{staticStyle:{"max-width":"7px"}},[t._v("#")])]),e("th",[e("span",[t._v(t._s(t.$t("ProductName")))])]),e("th",[e("span",[t._v(t._s(t.$t("AvailableQuantity")))])]),e("th",[e("span",[t._v(t._s(t.$t("PendingCheckOutRequests")))])]),e("th",[e("span",[t._v(t._s(t.$t("RequestQuantity")))])]),e("th",[e("span",[t._v(t._s(t.$t("Compartment")))])])])]),0==t.NoRecordfound?e("tbody",t._l(t.searchProductData,(function(a,s){return e("tr",{key:s,class:{showassetcataloguegroup:!0,"low-bar":a.IsContainer}},[0==a.AvailableItems?e("td",{staticClass:"textaligncenter align-middle item-data"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{attrs:{disabled:"",type:"checkbox",name:"checkbox"}})])]):e("td",{staticClass:"textaligncenter align-middle item-data"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.IsChecked,expression:"item.IsChecked"}],staticClass:"chkItems",attrs:{type:"checkbox",name:"checkbox"},domProps:{checked:Array.isArray(a.IsChecked)?t._i(a.IsChecked,null)>-1:a.IsChecked},on:{change:function(e){var s=a.IsChecked,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=null,n=t._i(s,r);i.checked?n<0&&t.$set(a,"IsChecked",s.concat([r])):n>-1&&t.$set(a,"IsChecked",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(a,"IsChecked",o)}}})])]),e("td",{staticClass:"align-middle ad item-name"},[t._v(t._s(a.Name))]),e("td",{staticClass:"textalignright align-middle"},[t._v(" "+t._s(a.AvailableItems)+" ")]),e("td",{staticClass:"textalignright align-middle"},[t._v(" "+t._s(a.PendingAvailableQuantity)+" ")]),a.AvailableItems>0?e("td",{staticClass:"align-middle"},[e("Field",{attrs:{name:"Requested Quantity",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.PendingTotalAvailableItems,expression:"item.PendingTotalAvailableItems"}],class:{"form-control":!0,"is-invalid":s[0],disabled:1==a.AvailableItems},attrs:{type:"number",min:"1",maxlength:"8"},domProps:{value:a.PendingTotalAvailableItems},on:{keyup:function(e){return t.checkQuantity(a)},input:function(e){e.target.composing||t.$set(a,"PendingTotalAvailableItems",e.target.value)}}})]}}],null,!0)})],1):e("td",{staticClass:"align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.PendingTotalAvailableItems,expression:"item.PendingTotalAvailableItems"}],class:{"form-control txtitems textfield txtAssetQuentity textalignright align-middle":!0},attrs:{disabled:"",type:"text"},domProps:{value:a.PendingTotalAvailableItems},on:{input:function(e){e.target.composing||t.$set(a,"PendingTotalAvailableItems",e.target.value)}}}),e("span")]),e("td",{staticClass:"align-middle"},[e("span",[t._v("N/A")])])])})),0):e("tbody",[e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"8"}},[t._v(t._s(t.$t("NoRecordfound")))])])])])]),1==t.isButtonVisible?e("div",{staticClass:"col-lg-12 text-right mt-3 float-left"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",id:"btnSave",title:"Save"},on:{click:t.addToList}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("AddToList"))+" ")]),e("a",{staticClass:"btn btn-danger m-1",on:{click:function(e){return t.$emit("CloseSearchItem")}}},[e("em",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Close")))])]):t._e()])],1)])])])])]],2)},n=[],l=(a("542c"),{props:{TreeValue:{type:Number}},data(){return{LocationData:[],productNameList:[],productTypeList:[],NoRecordfound:!0,txtLocation:"",showFirst:!0,SearchValue:"searchproduct",UserId:null,options:[],txtProductName:"",txtProductType:"",productItemNameList:[],showProductDropdown:!1,productUniqueName:"",productUniqueId:null,searchProductData:[],addListData:[],selectedValues:"",isSelected:!1,isButtonVisible:!1,LocationValueForBarCode:"",isLoading:!1,maxRequisitionTime:0,isTimeron:0,requsitionTime:0,UserName:""}},created(){var t=this;console.log("h1",t.TreeValue);var e=t.GetUserInfo;t.UserId=e.ID,t.UserName=e.Name,t.ChangeSearchValue(t.SearchValue),t.getProductTypeList()},methods:{searchByProduct(){var t=this;t.isLoading=!0,t.$refs.product.validate().then(e=>{if(e){let e=new Date,n=new Date,l=new Date;n.setDate(e.getDate()+1),e=t.$options.filters.formatDateYear(e);var a=t.$options.filters.formatDateYear(n),s=t.$options.filters.formatTimee(l),i=t.$options.filters.formatTimee("12:00 AM"),r=`id=${t.txtProductType}&isView=1&barcode=&assetType=${t.txtProductType}&assetUniqueId=${null!=t.productUniqueId?t.productUniqueId:""}&selfCheckout=&reqFrom=assetrequisition&isFor=&isuniqueSearch=&issueTo=${t.UserId}&assignedFrom=${e}&assignedTill=${a}&locationId=${t.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&startTime=${s}&endTime=${i}&uniqueIds=${null!=t.productUniqueId?t.productUniqueId:""}&catalogueIds=${t.txtProductName}`;o["a"].GetCompanyAssestCatalogsDetalis(r).then(e=>{e.data.length>0?(t.searchProductData=e.data,t.searchProductData.forEach(t=>{t.IsChecked=!1,t.ReqQty=""}),t.NoRecordfound=!1,t.isButtonVisible=!0,setTimeout((function(){t.CheckBoxBootstrap()}),100),t.isLoading=!1):(t.NoRecordfound=!0,t.searchProductData=[],t.isLoading=!1)})}else t.isLoading=!1})},searchByBarcode:function(){var t=this;t.isLoading=!0,t.$refs.barcode.validate().then(t=>{if(t){var e=this;e.isuniqueSearch="yes";var a=`id=&isView=1&barcode=${this.txtBarcode}&assetType=&assetUniqueId=&selfCheckout=&reqFrom=assetrequisition&isFor=search&isuniqueSearch=${e.isuniqueSearch}&issueTo=&assignedFrom=&assignedTill=&&startTime=&endTime=&locationId=${e.LocationValueForBarCode}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;o["a"].GetCompanyAssestCatalogsDetalis(a).then(t=>{t.data.length>0?(e.isLoading=!1,e.searchProductData=t.data,e.NoRecordfound=!1,e.searchProductData.forEach(t=>{t.IsChecked=!1,t.ReqQty=""}),e.isButtonVisible=!0):(e.isLoading=!1,e.NoRecordfound=!0,e.isButtonVisible=!0)})}this.isLoading=!1})},clear:function(){var t=this;t.txtBarcode="",t.LocationValueForBarCode=""},searchfilter:function(){var t=this;t.LocationValueForBarCode="";var e=`id=&isView=1&barcode=${t.txtBarcode}&assetType=&assetUniqueId=&selfCheckout=&reqFrom=assetrequisition&isFor=search&isuniqueSearch=&issueTo=&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;o["a"].GetCompanyAssestCatalogsDetalis(e).then(e=>{null!=e.data[0]?e.data.length>0?(t.isLoading=!1,t.LocationName=e.data[0].LocationName,t.LocationValueForBarCode=e.data[0].LocationId,t.isButtonVisible=!0):(t.isLoading=!1,t.ShowAlert(t.$t(`${e.data[0].LocationName} Location's Product not Assigning To ${t.UserName}`),"warning",!0,t.$t("Alert"))):(t.ShowAlert(t.$t("NoRecordfound"),"warning",!0,t.$t("Alert")),t.isLoading=!1)})},addToList:async function(){var t=this;t.isLoading=!0;let e=new Date,a=new Date,s=new Date;e=t.$options.filters.formatDateYear(e);var i=t.$options.filters.formatDateYear(a),r=t.$options.filters.formatTimee(s),n=t.$options.filters.formatTimee("12:00 AM"),l=t.searchProductData.filter(t=>t.IsChecked);t.txtProductType,t.txtProductName;t.addListData=l,await o["a"].GetCheckOut().then(a=>{if(0!=a.data.maxRequisition_Time){var s=l.map(t=>t.ParentUniqueId).join(",");0==l.length&&(t.isLoading=!1,t.ShowAlert(t.$t("Please select one/multiple checkbox(s) to add the record(s)."),"warning",t.$t("Alert")));var d=`id=${l[0].AssetCatalogueId}&isView=1&barcode=&assetType=${l[0].AssetTypeId}&assetUniqueId=&selfCheckout=&reqFrom=assetrequisition&isFor=&isuniqueSearch=no&issueTo=${t.UserId}&assignedFrom=${e}&assignedTill=${i}&locationId=${t.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&startTime=${r}&endTime=${n}&uniqueIds=${s}&catalogueIds=`;"Barcode"==t.SearchValue&&(d=`id=&isView=1&barcode=${t.txtBarcode}&assetType=&assetUniqueId=${t.searchProductData[0].ParentUniqueId}&selfCheckout=&reqFrom=assetrequisition&isFor=&isuniqueSearch=no&issueTo=${t.UserId}&assignedFrom=${e}&assignedTill=${i}&locationId=${t.searchProductData[0].LocationId}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&startTime=${r}&endTime=${n}&uniqueIds=${t.searchProductData[0].ParentUniqueId}&catalogueIds=`),l.forEach((function(e,s){""==e.PendingTotalAvailableItems||0==e.PendingTotalAvailableItems?(t.ShowAlert(t.$t("Quantity should more then 1"),"warning",t.$t("Alert")),t.isLoading=!1):o["a"].GetCompanyAssestCatalogsAddToList(d).then(e=>{e.data.length>0&&(t.addListData=e.data,t.addListData.forEach((function(t,e){1==t.IsContainer&&t.AssetCatalogueGroup.length>0&&(t.IsArrowRight=!0),l.forEach((function(e,a){e.AssetCatalogueId==t.AssetCatalogueId&&(t.PendingTotalAvailableItems=e.PendingTotalAvailableItems)}))})),t.updateListData(),t.maxRequisitionTime=a.data.maxRequisitionTime,t.requsitionTime=parseInt(t.maxRequisitionTime)/60,t.isTimeron=0,parseInt(t.maxRequisitionTime)<=0&&(t.isTimeron=1),t.$parent.GetCheckOutDetails(),t.isLoading=!1)})}))}else t.ShowAlert(t.$t("MaxRequisitionCountMessage"),"failure",!0,t.$t("Alert")),t.isLoading=!1})},updateListData:function(){var t=this;t.addListData.forEach(e=>{t.$emit("addListData",e)}),t.$parent.CloseSearchItem()},checkQuantity:function(t){var e=this;let a=t.AvailableItems,s=t.PendingTotalAvailableItems;s>a&&e.searchProductData.forEach(s=>s.AvailableItems==s.PendingAvailableQuantity?(s.PendingTotalAvailableItems="",e.ShowAlert(e.$t("Requested quantity not available. "),"warning",e.$t("Alert"))):s.AssetCatalogueId==t.AssetCatalogueId?(s.PendingTotalAvailableItems="",e.ShowAlert(e.$t("RequestQuanitityNotMoreThen",[a]),"warning",!0,e.$t("Alert"))):void 0)},ChangeSearchValue:function(t){this.showFirst="searchproduct"!=t},setProductItemName:function(t){var e=this;e.productUniqueId=t.Value,e.productUniqueName=t.Name,e.showProductDropdown=!1},itemListOnClick:function(){0==this.showProductDropdown?this.showProductDropdown=!0:this.showProductDropdown=!1},getProductTypeList:function(){var t=this;t.isLoading=!0,t.productNameList=[],t.productUniqueName="";var e=`type=&issueTo=${this.UserId}&locationId=${this.TreeValue}&requestType=&requestFrom=assetrequisition`;o["a"].AssignGetAssetType(e).then(e=>{t.isLoading=!1,t.productTypeList=e.data})},getProductNameList(t){var e=this;if(""!=t){e.productItemNameList=[],e.productUniqueName="",e.productUniqueId="",e.showProductDropdown=!1,e.isLoading=!0;var a=`id=${e.txtProductType}&isView=&barcode=&assetType=&assetUniqueId=&selfCheckout=&reqFrom=assetrequisition&isFor=&isuniqueSearch=&issueTo=${e.UserId}&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=${e.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;console.log("url",a),o["a"].GetCompanyAssestCatalogsDetalis(a).then(t=>{t.data.Result.length>0?(e.productNameList=t.data.Result,e.isLoading=!1):(e.productNameList=[],e.isLoading=!1)})}else e.productNameList=[]},getProductItemNameList:function(){var t=this;t.isLoading=!0,t.productUniqueName="",t.productUniqueId="",t.showProductDropdown=!1;var e=`assetCatalogId=${this.txtProductName}&name=&issueTo=${this.UserId}&locationId=${this.TreeValue}&requestFrom=assetrequisition&assetType=`;o["a"].GetUniqueAssetItems(e).then(e=>{e.data.length>0?(t.isLoading=!1,t.productItemNameList=e.data):(t.isLoading=!1,t.productItemNameList=[])})}}}),d=l,c=(a("2f8a"),a("2877")),u=Object(c["a"])(d,r,n,!1,null,null,null),m=u.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listing mt-2"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"itmgrplisting"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[t._m(0),e("th",{staticClass:"text-center"},[e("span",{attrs:{href:"javascript:;",id:"TAG"}},[t._v(t._s(t.$t("ProductName")))])]),e("th",{staticClass:"text-center"},[e("span",{attrs:{href:"javascript:;"}},[t._v(t._s(t.$t("TermsAndConditions")))])]),e("th",{staticClass:"text-center"},[e("span",{attrs:{href:"javascript:;"}},[t._v(t._s(t.$t("AvailableQuantity")))])]),e("th",{staticClass:"text-center"},[e("span",{attrs:{id:"group_name"}},[t._v(t._s(t.$t("PendingCheckOutRequest")))])]),e("th",{staticClass:"text-center"},[e("span",{attrs:{id:"ReadTime"}},[t._v(t._s(t.$t("RequestQuantity"))+" ")])]),e("th",{staticClass:"text-center"},[e("span",{attrs:{id:"AttachedItems"}},[t._v(t._s(t.$t("Compartment")))])]),e("th",{staticClass:"text-center"},[e("span",{attrs:{id:"AttachedItems"}},[t._v(t._s(t.$t("Action"))+" ")])])])]),t.listData.length>0?e("tbody",[t._l(t.listData,(function(a,s){return[e("tr",{key:s,class:{showassetcataloguegroup:!0,"insertedrow bg-gold":a.AssetCatalogueGroup.length>0,"low-bar":1==a.IsContainer}},[e("td",{staticClass:"textaligncenter align-middle item-data text-center"},[a.AssetCatalogueGroup.length>0?e("span",{class:{"togglearrow arrowwhitecollapse_roles  fa-2x showcatalog showassetcatalog":!0,"fa fa-caret-right":1==a.IsArrowRight,"fa fa-caret-down":1==!a.IsArrowRight},on:{click:function(e){return t.ShowChild(a)}}}):t._e()]),e("td",{staticClass:"align-middle ad item-name text-center"},[t._v(t._s(`${a.AssetCatalogName} (${a.AssetUniqueName})`)+" "),a.Mandatory?e("span",{staticClass:"text-danger font-weight-bold mandatory"},[t._v("*")]):t._e()]),0==a.IsEnableTerms?e("td",{staticClass:"align-middle terms-condition text-center",staticStyle:{"white-space":"normal"}},[e("span",[t._v("N/A")])]):e("td",{staticClass:"align-middle terms-condition text-center"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"chkItems custom-control-input",attrs:{type:"checkbox",name:"checkbox"},domProps:{checked:1==a.IsEnableTerms}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1"})])]),e("td",{staticClass:"textalignright align-middle text-center"},[t._v(" "+t._s(a.AvailableItems)+" ")]),e("td",{staticClass:"textalignright align-middle text-center"},[t._v(" "+t._s(a.PendingAvailableQuantity)+" ")]),e("td",{staticClass:"align-middle"},[a.AssetGroupId>0?e("span",[1==a.CreateUniqueNameListing?e("span",[e("input",{staticClass:"form-control txtitems textfield txtAssetQuentity textalignright align-middle",attrs:{disabled:"",type:"text"},domProps:{value:1==a.CreateUniqueNameListing?1:a.PendingTotalAvailableItems}})]):e("span",[e("Field",{attrs:{name:"Requested Quantity",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.PendingTotalAvailableItems,expression:"item.PendingTotalAvailableItems"}],class:{"form-control":!0,"is-invalid":s[0]},attrs:{min:1,type:"Number",maxlength:8},domProps:{value:a.PendingTotalAvailableItems},on:{input:[function(e){e.target.composing||t.$set(a,"PendingTotalAvailableItems",e.target.value)},function(e){return t.checkQuantity(e,a)}]}})]}}],null,!0)})],1)]):e("span",[1==a.CreateUniqueNameListing?e("span",[e("input",{staticClass:"form-control txtitems textfield txtAssetQuentity textalignright align-middle",attrs:{disabled:"",type:"text"},domProps:{value:1==a.CreateUniqueNameListing?1:a.PendingTotalAvailableItems}})]):e("span",[e("Field",{attrs:{name:"Requested Quantity",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.PendingTotalAvailableItems,expression:"item.PendingTotalAvailableItems"}],class:{"form-control":!0,"is-invalid":s[0]},attrs:{type:"Number",maxlength:8,min:1},domProps:{value:a.PendingTotalAvailableItems},on:{input:[function(e){e.target.composing||t.$set(a,"PendingTotalAvailableItems",e.target.value)},function(e){return t.checkQuantity(e,a)}]}})]}}],null,!0)})],1)])]),t._m(1,!0),e("td",{staticClass:"text-center align-middle single-action action-group"},[a.HasRelatedProducts?e("a",{staticClass:"relatedproduct",attrs:{href:"javascript:;",title:"Related items"},on:{click:function(e){return t.relatedProductDetails(a,s)}}},[e("i",{staticClass:"fa fa-sitemap text-primary",attrs:{"aria-hidden":"true"}})]):t._e(),a.IsDelete?e("a",{staticClass:"recyclebin enable",attrs:{href:"javascript:;",title:"Delete"},on:{click:function(e){return t.deleteItem(a)}}},[e("i",{staticClass:"fa fa-trash text-danger action-icon"})]):t._e()])]),t._l(a.AssetCatalogueGroup,(function(s,i){return e("tr",{key:i,class:{insertedrowchild:!0,"low-bar":1==s.IsContainer}},[t._m(2,!0),e("td",{staticClass:"align-middle item-name text-center"},[t._v(" "+t._s(s.AssetCatalogName)+" ")]),e("td",{staticClass:"align-middle terms-condition text-center"},[1==s.IsEnableTerms?e("span",[e("div",{staticClass:"form-group custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.AssetCatalogueId,expression:"citem.AssetCatalogueId"}],staticClass:"assertermscondition custom-control-input aa",attrs:{type:"checkbox",name:"example1"},domProps:{checked:Array.isArray(s.AssetCatalogueId)?t._i(s.AssetCatalogueId,null)>-1:s.AssetCatalogueId},on:{change:function(e){var a=s.AssetCatalogueId,i=e.target,o=!!i.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);i.checked?n<0&&t.$set(s,"AssetCatalogueId",a.concat([r])):n>-1&&t.$set(s,"AssetCatalogueId",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(s,"AssetCatalogueId",o)}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label mt-1"},[t._v(" "+t._s(t.$t("AgreeToTermsConditions"))+" "),e("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:;","data-path":s.AttachmentPath,"data-name":s.AttachmentName}})])])]):e("span",[t._v("NA")])]),e("td",{staticClass:"align-middle text-center"},[t._v(" "+t._s(s.AvailableItems)+" ")]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(s.PendingAvailableQuantity)+" ")]),e("td",{staticClass:"align-middle"},[a.AssetGroupId>0?e("input",{directives:[{name:"model",rawName:"v-model",value:s.AsseetGroupQuantity,expression:"citem.AsseetGroupQuantity"}],staticClass:"form-control txtitems textfield txtAssetQuentity",attrs:{"data-numberonly":"yes",type:"decimal"},domProps:{value:s.AsseetGroupQuantity},on:{input:function(e){e.target.composing||t.$set(s,"AsseetGroupQuantity",e.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.AsseetGroupQuantity,expression:"citem.AsseetGroupQuantity"}],class:{"form-control txtitems textfield txtAssetQuentity":!0,"is-invalid":0==s.AsseetGroupQuantity||""==s.AsseetGroupQuantity||null==s.AsseetGroupQuantity},attrs:{"data-numberonly":"yes",type:"decimal"},domProps:{value:s.AsseetGroupQuantity},on:{input:function(e){e.target.composing||t.$set(s,"AsseetGroupQuantity",e.target.value)}}}),e("span")]),e("td",{staticClass:"lastrow align-middle"},[e("select",{staticClass:"disabled_grey form-control text-secondary disabled",attrs:{disabled:"disabled"}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(a.ContainerList,(function(a){return e("option",{attrs:{selected:"selected"},domProps:{value:a.Value}},[t._v(" "+t._s(a.Text))])}))],2)]),e("td",{staticClass:"text-center align-middle action-group"},[e("a",{staticClass:"ancremoveData recyclebin enable",attrs:{href:"javascript:;",title:"Delete"},on:{click:function(e){return t.deleteChild(a)}}},[e("i",{staticClass:"fa fa-trash text-danger action-icon"})])])])}))]}))],2):e("tbody",[t.NoRecordfound?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"8"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()])]),t.isVisible?e("RelatedProduct",{attrs:{ItemIndex:t.ItemIndex,GetRelatedProduct:t.GetRelatedProduct},on:{RelatedProduct:t.RelatedProduct}}):t._e()],1),e("div",{staticClass:"col-lg-12 text-right mt-3 float-left"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",id:"btnSave",disabled:t.isButtonDisabled,title:"Save",name:"btnSave",isclicked:"No"},on:{click:function(e){return e.preventDefault(),t.handleClick.apply(null,arguments)}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save"))+" ")]),e("a",{staticClass:"btn btn-danger HideTab m-1",attrs:{title:"Cancel"},on:{click:function(e){return t.onCancel()}}},[e("em",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])])],1)},h=[function(){var t=this,e=t._self._c;return e("th",{staticClass:"text-center"},[e("span",{attrs:{href:"javascript:;",id:"TAG"}},[t._v("#")])])},function(){var t=this,e=t._self._c;return e("td",{staticClass:"align-middle text-center"},[e("span",[t._v("N/A")])])},function(){var t=this,e=t._self._c;return e("td",{staticClass:"align-middle item-data"},[e("span",{staticClass:"hidden showcatalog",attrs:{id:"cataloguegroup_id"}})])}],g=a("97c9"),v=a("1315"),f={components:{RelatedProduct:g["a"]},props:{listData:{type:Array}},data(){return{NoRecordfound:!0,isVisible:!1,GetRelatedProduct:[],isArrowRight:!0,Timezone:"",isButtonDisabled:!1,isLoading:!1}},created:function(){var t=this;t.Timezone=this.GetUserInfo.TimeZone},methods:{RelatedProduct(t){var e=this;e.CloseRelatedPopup()},ShowChild:function(t){t.IsArrowRight=!t.IsArrowRight},deleteChild:function(t){t.AssetCatalogueGroup=[]},onCancel:function(){const t=new URLSearchParams(window.location.search),e=(t.get("From"),t.get("From"));"ManageProdcut"==e?this.$router.push({name:"ProductListing"}):this.$router.push({name:"MyProducts"})},handleClick(){this.isButtonDisabled||(this.isButtonDisabled=!0,this.saveCheckout())},saveCheckout:function(){var t=this,e=[],a={},s="",i=[],r=!0;if(t.isLoading=!0,0==t.listData.length)return t.isLoading=!1,t.ShowAlert(t.$t("Please add at least one item"),"warning",t.$t("Alert"));if(r){t=this;if(t.listData.forEach(a=>{if(void 0!=a.AssetCatalogueId){let n={};n=a.ParentUniqueId>0?{AssetCatalogUniqueId:a.ParentUniqueId,AssetCatalogId:a.AssetCatalogueId,AssetQuantity:a.PendingTotalAvailableItems,LocationId:a.LocationId}:{AssetCatalogUniqueId:0,AssetCatalogId:a.AssetCatalogueId,AssetQuantity:a.PendingTotalAvailableItems,LocationId:a.LocationId};var o=`${a.AssetCatalogName}(${a.ItemCode})`;-1==i.indexOf(o)&&i.push(o),e.some(t=>t.AssetCatalogUniqueId==n.AssetCatalogUniqueId&&t.AssetCatalogId==n.AssetCatalogId)||e.push(n),a.AssetCatalogueGroup.length>0&&a.AssetCatalogueGroup.forEach(a=>{if(a.AsseetGroupQuantity=null==a.AsseetGroupQuantity?0:a.AsseetGroupQuantity,0==parseInt(a.AsseetGroupQuantity))return t.isLoading=!1,r=!1,t.ShowAlert(t.$t("CorrectHighlightedErrors"),"warning",t.$t("Alert"));var s={AssetCatalogUniqueId:0,AssetCatalogId:a.AssetCatalogueId,AssetQuantity:a.AsseetGroupQuantity,LocationId:a.LocationId};o=`${a.AssetCatalogName}(${a.ItemCode})`,-1==i.indexOf(o)&&i.push(o),e.some(t=>t.AssetCatalogUniqueId==s.AssetCatalogUniqueId&&t.AssetCatalogId==s.AssetCatalogId)||e.push(s)}),s=i.join(",")}}),!r)return!1;var n={UserId:t.$parent.UserId,AssignedFrom:t.$parent.DateofAssignment,AssignedTill:t.$parent.DateofAssignmentTill,Comment:t.$parent.Remarks,GroupRequistionAssestInfo:e,itemNames:s};a=JSON.stringify(n);o["a"].GetCheckOut().then(e=>{0!=e.data.maxRequisition_Time?o["a"].SaveGroupRequisition(a).then(e=>{"success"==e.data.msg?(t.isLoading=!1,t.isButtonDisabled=!1,t.ShowAlert(t.$t("Check out request Submitted successfully"),"success",t.$t("Alert")),t.$router.push({path:"/AssetRequisition/MyRequisitions"})):(t.isLoading=!1,t.isButtonDisabled=!1,t.ShowAlert(t.$t("Something went wrong "),"warning",t.$t("Alert")))}):(t.ShowAlert(t.$t("MaxRequisitionCountMessage"),"failure",!0,t.$t("Alert")),t.isLoading=!1)})}else t.isLoading=!1,t.isButtonDisabled=!1,t.ShowAlert(t.$t("Please Correct the Highlighted errors"),"warning",t.$t("Alert"))},checkQuantity:function(t,e){var a=this;if("-"===t.data||"e"===t.data)return e.PendingTotalAvailableItems="",a.ShowAlert(a.$t("Please enter a valid quantity."),"warning",a.$t("Alert"));if("0"==t.target.value)return e.PendingTotalAvailableItems="",a.ShowAlert(a.$t("Quantity must be at least 1. "),"warning",a.$t("Alert"));let s=e.AvailableItems,i=e.PendingTotalAvailableItems;i>s&&a.listData.forEach(t=>t.AvailableItems==t.PendingAvailableQuantity?(t.PendingTotalAvailableItems="",void a.ShowAlert(a.$t("Requested quantity not available. "),"warning",a.$t("Alert"))):t.AssetCatalogueId==e.AssetCatalogueId?(a.ShowAlert(a.$t("RequestQuanitityNotMoreThen"),"warning",!0,a.$t("Alert")),void(t.PendingTotalAvailableItems="")):void(null!==i&&void 0!==i||a.ShowAlert(a.$t("Please enter a valid quantity."),"warning",a.$t("Alert"))))},relatedProductDetails(t,e){var a=this;a.GetRelatedProduct=[];let s=JSON.parse(t.objProduct),i=s.RESULT,o=JSON.parse(i);o.forEach((function(e){e.Quantity=1,e.itemDetail=t,1==e.Mandatory||a.GetRelatedProduct.push(e)})),a.GetRelatedProduct.length>0&&(a.isVisible=!0)},deleteItem(t){var e=this;e.confirmR(e.$t("Please verify that you want to delete this record"),!0,!1,(function(a){const s=e.listData.findIndex(e=>e.AssetCatalogueId===t.AssetCatalogueId);return-1!==s&&e.listData.splice(s,1),e.ShowAlert(e.$t("Item has been deleted Successfully "),"success",e.$t("Alert"))}))},CloseRelatedPopup(){var t=this;t.isVisible=!1},UpdateProductList(t,e){var a=this;a.listData[e].PendingTotalAvailableItems=t,a.isVisible=!1},formatTimeToCustomFormat(t){if(null!=t&&""!==t){const e=v["DateTime"].fromJSDate(new Date(t),{zone:"utc"}),a="Etc/GMT"+this.Timezone,s=e.setZone(a),i=s.toFormat("MM/dd/yyyy h:mm");return i}return""}}},C=f,A=(a("8ab7"),Object(c["a"])(C,p,h,!1,null,null,null)),b=A.exports,I=a("ca17"),y=a.n(I),_={components:{SearchItems:m,listOfProduct:b,"tree-view":y.a},data(){return{isLoadinges:!1,DepartmentData:[],txtDepartment:"",UsersData:[],DateofAssignment:"",Users:"",Remarks:"",DateofAssignmentTill:"",Groupname:"",popover:{visibility:"click"},UserId:null,GetParentDetails:null,SelfCheckout:null,RequestFrom:"",isUsedFor:"",selectedOption:"",checked:!0,unchecked:!1,txtAssignUserType:"",disabled:!1,NoRecordfound:!0,ClientData:[],LegendArray:[],txtLocation:"",LocationData:[],GroupData:"",IsSearchItem:!1,options:[],TreeValue:null,listData:[],dataArray:[],assignToGroup:!1,assignedFrom:"",startTime:"",assignedTill:"",endTime:"",maxRequisitionTime:0,isTimeron:0,requsitionTime:0,Timezone:"",time:0,timerInterval:null,datepickerDisabled:!1,treeViewDisabled:!1}},computed:{formattedTime(){const t=Math.floor(this.time/6e4),e=(this.time%6e4/1e3).toFixed(0);return`${t}:${e<10?"0":""}${e}`}},beforeDestroy(){clearInterval(this.timerInterval)},created:function(){var t=this;if(t.Timezone=this.GetUserInfo.TimeZone,t.GetLocationCheckOutByuserId(),t.LegendArray=[{class:"legends_profile colorboxsquare",text:"Pending Approval"}],t.UserId=t.GetUserInfo.ID,t.searchByProductFromCheckAvailablity(),"undefined"!=t.$route.query.assignedFrom&&""!=t.$route.query.assignedFrom&&null!=t.$route.query.assignedFrom){var e=t.$route.query.assignedFrom,a=t.$route.query.assignedTill,s=t.$route.query.startTime,i=t.$route.query.endTime,o=e+" "+s,r=a+" "+i;t.DateofAssignment=null,t.DateofAssignmentTill=null,t.DateofAssignment=this.formatAMPM(new Date(o)),t.DateofAssignmentTill=this.formatAMPMM(new Date(r)),t.datepickerDisabled=!0,t.treeViewDisabled=!0,setTimeout(()=>{t.TreeValue=t.$route.query.locationId},1e3)}else t.DateofAssignment=this.formatAMPM(new Date),t.DateofAssignmentTill=new Date,t.DateofAssignmentTill.setDate(this.DateofAssignmentTill.getDate()+1),t.DateofAssignmentTill=this.formatAMPMM(this.DateofAssignmentTill);null!=t.TreeValue&&""!=t.TreeValue||t.GetLocationByCompanyId()},methods:{formatAMPM:function(t){var e=t.getHours(),a=t.getMinutes(),s=t.getDate(),i=t.getMonth(),o=t.getFullYear(),r=e>=12?"PM":"AM";e%=12,e=e||12,a=a<10?"0"+a:a;var n=i+1+"/"+s+"/"+o+" "+e+":"+a+" "+r;return n},formatAMPMM:function(t){var e=t.getHours(),a=t.getMinutes(),s=t.getDate(),i=t.getMonth(),o=t.getFullYear(),r=e>=12?"PM":"AM";e%=12,e=e||12,a=a<10?"0"+a:a;var n=i+1+"/"+s+"/"+o+" "+e+":"+a+" "+r;return n},searchByProductFromCheckAvailablity:function(){var t=this;t.isLoadinges=!0,t.txtProductType="",t.txtProductName="",t.productUniqueId="";t.$route.query.assetrequisition,t.$route.query.issueTo,t.$route.query.assignedFrom,t.$route.query.assignedTill;t.TreeValue=t.$route.query.locationId;t.$route.query.startTime,t.$route.query.endTime;t.productUniqueId=t.$route.query.uniqueIds;var e=""!=t.$route.fullPath?t.$route.fullPath.split("?")[1]:"";void 0!=e?o["a"].GetCompanyAssestCatalogsDetalis(e).then(e=>{e.data.length>0&&(e.data.forEach(t=>{t.IsChecked=!1,t.ReqQty="",t.Mandatory=!1,t.IsDelete=!0}),t.listData=e.data,t.isLoadinges=!1,"undefined"!=t.$route.query.assignedFrom&&""!=t.$route.query.assignedFrom&&null!=t.$route.query.assignedFrom?t.GetCheckOutDetails():(t.DateofAssignment=this.formatAMPM(new Date),t.DateofAssignmentTill=new Date,t.DateofAssignmentTill.setDate(this.DateofAssignmentTill.getDate()+1),t.DateofAssignmentTill=this.formatAMPMM(this.DateofAssignmentTill)),setTimeout((function(){t.CheckBoxBootstrap()}),100))}):t.isLoadinges=!1},GetLocationByCompanyId:async function(){var t=this;t.isLoading=!0;var e="reqForm=ASSETREQUISITION";await o["a"].GetLocationByCompanyId(e).then((function(e){try{let a=JSON.parse(e.data).data;a.length>1?t.TreeValue=null:t.TreeValue=a[0].COMPANY_LOCATION_ID}catch(a){console.error("Error parsing JSON:",a)}setTimeout((function(){this.$refs.addCheckOut.reset()}),500)}))},GetLocationCheckOutByuserId:async function(){var t=this;let e=null;var a="reqForm=transfer";await o["a"].GetLocationByuserId(a).then(a=>{t.FindalLocationArray=[],a.data.data.forEach(s=>{var i=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==s.COMPANY_LOCATION_ID}));if(0==i.length&&null==s.PARENT_LOCATION_ID){e=s.COMPANY_LOCATION_ID;let i=t.getChildLocation(e,s,a.data.data);t.FindalLocationArray.push(i)}}),t.options=t.FindalLocationArray})},getChildLocation:function(t,e,a){let s=this,i={};i={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=i;var r=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let n=[];return r.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=n.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var r=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=r&&r.length>0){let i=s.getChildLocation(e,t,a);n.push(i)}else i={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},n.push(i)}}),o.children=n,o},SearchItems:function(){null!=this.TreeValue?this.IsSearchItem=!0:this.ShowAlert(this.$t("Please Select location First"),"warning",this.$t("Alert"))},CloseSearchItem:function(){this.IsSearchItem=!1},onCancel:function(){this.$router.push({name:"ProductTypeCheckOutRequest"})},addListData:function(t){var e=this;void 0!=t&&e.listData.push(t)},async GetCheckOutDetails(){var t=this;await o["a"].GetCheckOut().then(e=>0!=e.data.maxRequisition_Time?(t.maxRequisitionTime=e.data.maxRequisitionTime,t.requsitionTime=parseInt(t.maxRequisitionTime)/60,t.isTimeron=0,parseInt(t.maxRequisitionTime)<=0&&(t.isTimeron=1),this.time=6e4*parseInt(t.requsitionTime),this.timerInterval=setInterval(()=>{if(this.time-=1e3,0===this.time){if("CheckBarcodeAssetAvailability"==this.$route.query.reqFrom)return this.$router.push({name:"ProductListing"});if("assetrequisition"==this.$route.query.reqFrom)return this.$router.push({name:"ProductListing"});const e=new URLSearchParams(window.location.search),a=(e.get("From"),e.get("From"));"ManageProdcut"==a?t.Redirect():"MyProdcut"==a?t.Redirects():location.reload(!0)}},1e3),!0):0==e.data.maxRequisition_Time?(t.ShowAlert(t.$t("MaxRequisitionCountMessage"),"failure",!0,t.$t("Alert")),!1):void 0)},Redirect:function(){this.$router.push({name:"ProductListing"})},Redirects:function(){this.$router.push({name:"MyProducts"})},saveCheckout:function(){var t=this;if(t.isLoadinges=!0,0==t.listData.length)return t.isLoadinges=!1,t.ShowAlert(t.$t("Please add at least one item"),"warning",t.$t("Alert"));t.$refs.addCheckOut.validate().then(t=>{if(t){var e=this,a="",s=[];e.listData.forEach(t=>{if(void 0!=t.AssetCatalogueId){let o={AssetCatalogUniqueId:t.ParentUniqueId>0?t.ParentUniqueId:0,AssetCatalogId:t.AssetCatalogueId,AssetQuantity:t.PendingTotalAvailableItems,LocationId:t.LocationId};var i=`${t.AssetCatalogName}(${t.ItemCode})`;-1==s.indexOf(i)&&s.push(i),e.dataArray.some(t=>t.AssetCatalogUniqueId==o.AssetCatalogUniqueId&&t.AssetCatalogId==o.AssetCatalogId)||e.dataArray.push(o),a=s.join(","),e.isLoadinges=!1}});var i={UserId:e.UserId,AssignedFrom:e.formatTimeToCustomFormat(e.DateofAssignment),AssignedTill:e.formatTimeToCustomFormat(e.DateofAssignmentTill),Comment:e.Remarks,GroupRequistionAssestInfo:e.dataArray,itemNames:a},r=JSON.stringify(i);o["a"].SaveGroupRequisition(r).then(t=>{"success"==t.data.msg?(e.isLoadinges=!1,e.ShowAlert(e.$t("Check out request Submitted successfully"),"success",e.$t("Alert")),e.$router.push({path:"/AssetRequisition/MyRequisitions"})):(e.isLoadinges=!1,e.ShowAlert(e.$t("Something went wrong "),"warning",e.$t("Alert")))})}else e.isLoadinges=!1,e.ShowAlert(e.$t("Please Correct the Highlighted errors"),"warning",e.$t("Alert"))})},BindItemTypeByUserId:function(t){let e=`type=ITEMCODE&issueTo=&locationId=${t}&requestType=ASSIGN&requestFrom=TRANSFER`;o["a"].AssignGetAssetType(e).then(t=>{this.AssetTypeData=t.data})},formatTimeToCustomFormat(t){if(null!=t&&""!==t){const t=this.Timezone.split(":"),e=parseInt(t[0],10),a=parseInt(t[1],10),s=60*e+a,i=`Etc/GMT${s>=0?"+":""}${s}`,o=inputLuxonDateTime.setZone(i),r=o.toFormat("MM/dd/yyyy h:mm");return r}return""}}},T=_,P=(a("8fcf"),Object(c["a"])(T,s,i,!1,null,null,null));e["default"]=P.exports}}]);
//# sourceMappingURL=chunk-543922f5.js.map