(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59110af5"],{"0019":function(t,e,a){"use strict";a("8743")},"0624":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".vue-treeselect__control{border:none;height:24px;padding:0}.vue-treeselect--searchable .vue-treeselect__input-container{padding:0!important}.vue-treeselect__placeholder{color:#303030!important}.vue-treeselect__control-arrow{color:#000}.vue-treeselect__placeholder{line-height:24px}.avail-calender .is-interactive,.divancuserguide{z-index:100000!important}",""]),t.exports=e},"07b7":function(t,e,a){var s=a("1bef");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("57c4e828",s,!0,{sourceMap:!1,shadowMode:!1})},"1bef":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"span#action-list{display:flex;align-items:center}.vue-treeselect__input{border:1px solid #abb5bf;padding:4px 12px}.vue-treeselect__single-value{padding-left:12px}.custom-checkbox .custom-control-input:checked~.custom-control-label:after,.custom-radio .custom-control-input:checked~.custom-control-label:after{display:block}",""]),t.exports=e},"38ec":function(t,e,a){"use strict";a("07b7")},"55a7":function(t,a,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header d-flex"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("ProductAvailability"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.ClosePOPuP(t.event)}}},[e("em",{staticClass:"fa fa-times"})]),e("span",{staticClass:"user-guide"},[t._m(0),e("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[e("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("USERGUIDE_AC_CHECK_AVAILABILITY"))}})])])])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"rad_value",attrs:{type:"radiobutton"}},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic IssuedByIds",attrs:{type:"radio",id:"SearchProductName",name:"SearchProduct",value:"CheckedCheckBox"},domProps:{checked:t.SearchByBarcode},on:{change:function(e){return t.searchByProduct("barcode")}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"SearchProductName"}},[t._v(t._s(t.$t("SearchbyBarcodeRFID")))])]),e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic IssuedByIds",attrs:{type:"radio",id:"SearchProducts",name:"SearchProduct",value:"CheckedCheckBox"},domProps:{checked:!t.SearchByBarcode},on:{change:function(e){return t.searchByProduct("product")}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"SearchProducts"}},[t._v(t._s(t.$t("SearchbyProduct")))])])])]),e("Form",{ref:"BarCodeForm",staticClass:"d-block w-100"},[e("div",{staticClass:"col-12 mt-3 p-0",attrs:{id:"searchByBarcode"}},[t.SearchByBarcode?e("div",{staticClass:"col-12 col-sm-9 col-md-9 col-lg-10 float-left"},[e("div",{staticClass:"form-group mb-2"},[e("label",[e("span",{attrs:{id:""}},[t._v(t._s(t.$t("SearchbyBarcodeRFID")))])]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("Field",{attrs:{name:"Barcode",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtBarcode,expression:"txtBarcode"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{id:"txtBarcode",name:"Barcode",placeholder:"Enter Barcode",type:"text"},domProps:{value:t.txtBarcode},on:{input:function(e){e.target.composing||(t.txtBarcode=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Barcode"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,1560806471)})],1)]):t._e(),t.SearchByBarcode?e("div",{staticClass:"col-12 col-sm-3 col-md-3 col-lg-2 float-left pl-md-0 mt-0 mt-md-4 mt-sm-4"},[e("div",{staticClass:"background-0 text-left w-100 form-check-inline"},[e("input",{attrs:{type:"hidden",id:"hdnSearch",value:""}}),e("a",{staticClass:"btn btn-success w-50 mr-1 px-4 hlsearch",attrs:{title:"",id:"Searchassest_barcode",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:t.SearchassestBarcode}},[e("em",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger w-50 clearsearchtext px-4",attrs:{id:"aClear",href:"javascript:;",title:"Clear all ","data-toggle-tooltip":"tooltip","data-original-title":"Clear"},on:{click:t.CleareAssestBarcode}},[e("em",{staticClass:"fa fa-refresh"})])])]):t._e()])]),t.SearchByBarcode?t._e():e("div",{staticClass:"col-12 float-left searchByProduct"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Subject"}},[t._v(t._s(t.$t("Location"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{attrs:{name:"Location",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("tree-view",{class:{"form-control":!0,"is-invalid":a[0]},attrs:{options:t.options,placeholder:"Select Location","show-count":!0},on:{input:function(e){return t.GetddlProduct(t.location_id)}},model:{value:t.location_id,callback:function(e){t.location_id=e},expression:"location_id"}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,3091994094)})],1)]),t.SearchByBarcode?t._e():e("div",{staticClass:"col-12 float-left",attrs:{id:"searchByProduct"}},[e("div",{staticClass:"col-12 float-left p-0"},[e("div",{staticClass:"rad_value",attrs:{type:"radiobutton"}},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"ProductNameItem",value:"ProductName"},domProps:{checked:t.IsProductName},on:{change:function(e){return t.searchByItemName("ProductName")}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"ProductNameItem"}},[t._v(t._s(t.$t("AssetId")))])]),e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"ItemName",value:"Product"},domProps:{checked:!t.IsProductName},on:{change:function(e){return t.searchByItemName("Product")}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"ItemName"}},[t._v(t._s(t.$t("ItemName")))])])])]),t.IsProductName?e("div",{staticClass:"col-12 float-left mt-3 p-0 productName"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Subject"}},[t._v(t._s(t.$t("AssetId"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{attrs:{name:"productName",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Product_Id,expression:"Product_Id"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"productName"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.Product_Id=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.productDDLData,(function(a,s){return e("option",{key:s,domProps:{value:a.value}},[t._v(t._s(a.name))])}))],2),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"productName"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,2255477632)})],1)]):t._e(),t.IsProductName?t._e():e("div",{staticClass:"col-12 float-left mt-3 p-0 product"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("ItemName"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group mb-3",staticStyle:{position:"relative"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.assetUniqueItem,expression:"assetUniqueItem"}],staticClass:"form-control",attrs:{id:"txtAssetItems",name:"txtAssetItems",value:"iselectVal",placeholder:"Enter Product Name",type:"text",autocomplete:"off"},domProps:{value:t.assetUniqueItem},on:{input:[function(e){e.target.composing||(t.assetUniqueItem=e.target.value)},t.GetAssetUniqueData]}}),e("div",{staticClass:"unique_dynamicdatalist"},[t.IsDDLShowHide?e("ul",{staticClass:"listOfProduct"},t._l(t.assetUniqueData,(function(a,s){return e("li",{key:s,staticClass:"listitem all-items",on:{click:function(e){return t.uniqueItemChange(a)}}},[t._v(t._s(a.name)+" ")])})),0):t._e()]),e("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none"},attrs:{href:"javascript:;",id:"customddlinput"},on:{click:t.itemDDLShowHide}},[e("em",{staticClass:"dropdown-toggle float-right"})])])])])]),e("div",{staticClass:"col-12 mb-3 mt-3"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("AvailableBetween"))+" ")])])])]),e("div",{staticClass:"col-sm-12 col-md-6 col-xl-6 avail-calender"},[e("div",{staticClass:"input-group"},[e("label",[t._v(t._s(t.$t("From"))+":")]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("v-date-picker",{staticClass:"timedate input-group",attrs:{popover:t.popover,"min-date":t.getMinDate(new Date),name:t.fromDate,dateformat:t.dateformat,"minute-increment":5},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"M/D/YYYY h:mm A"},domProps:{value:a},on:{focus:function(e){return t.togglePopoverClick()}}},s)),e("div",{staticClass:"input-group-append cal",attrs:{id:"toggles"},on:{click:function(t){return i()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)]),e("div",{staticClass:"col-sm-12 col-md-6 col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("EventStartTime")))]),e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"input-group",attrs:{mode:"Time",dateformat:t.dateformat},on:{input:t.resetAvailabilityStatus},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[e("input",t._g({staticClass:"form-control",domProps:{value:a}},s)),e("div",{staticClass:"input-group-append",on:{click:function(t){return i()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-clock-o"})])])]}}]),model:{value:t.StartTime,callback:function(e){t.StartTime=e},expression:"StartTime"}})],1)])]),e("div",{staticClass:"col-sm-12 col-md-6 col-xl-6 avail-calender"},[e("div",{staticClass:"input-group"},[e("label",[t._v(t._s(t.$t("Till"))+" ")]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("v-date-picker",{staticClass:"timedate input-group",attrs:{popover:t.popover,"min-date":t.getMinDate(),name:t.toDate,"minute-increment":5},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"M/D/YYYY h:mm A"},domProps:{value:a},on:{focus:function(e){return t.togglePopoverClick1()}}},s)),e("div",{staticClass:"input-group-append",attrs:{id:"toggled"},on:{click:function(t){return i()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)]),e("div",{staticClass:"col-sm-12 col-md-6 col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("CAEndTime")))]),e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"input-group",attrs:{mode:"Time"},on:{input:t.resetAvailabilityStatus},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:s,togglePopover:i}){return[e("input",t._g({staticClass:"form-control",domProps:{value:a}},s)),e("div",{staticClass:"input-group-append",on:{click:function(t){return i()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-clock-o"})])])]}}]),model:{value:t.EndTime,callback:function(e){t.EndTime=e},expression:"EndTime"}})],1)])]),t.tblassestgroupinfoIsShow?e("CheckBarCodeAvalibility",{attrs:{BarCodeData:t.BarCodeData,RequestFrom:t.RequestFrom}}):t._e(),t.divAvailabilityStatusIsShow?e("AvailabilityStatus",{attrs:{GetUniqueProductIdData:t.GetUniqueProductIdData,noOfAvailableItems:t.noOfAvailableItems,statusAvailable:t.statusAvailable,uniqueItems:t.uniqueItems,statusReserved:t.statusReserved,statusUnAvailable:t.statusUnAvailable,divAvailabilityStatus:t.divAvailabilityStatusIsShow},on:{onUniqueItemClick:function(e){return t.onUniqueItemClick(e)}}}):t._e(),t._m(1),e("div",{staticClass:"col-12 text-right mt-3"},[t.btnReserve?e("a",{staticClass:"btn btn-warning mr-2",attrs:{href:"javascript:;"},on:{click:function(e){return t.ProceedToAction("reserve")}}},[t._v(t._s(t.$t("ProceedtoReserve")))]):t._e(),t.btnCheckAvailability?e("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;"},on:{click:t.checkAssetAvailability}},[t._v(t._s(t.$t("Check_Availability")))]):t._e(),t.btnCheckout?e("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;"},on:{click:function(e){return t.ProceedToAction("checkout")}}},[t._v(t._s(t.$t("ProceedtoCheckout")))]):t._e(),t.btnAssign?e("a",{staticClass:"btn btn-primary mr-2",attrs:{href:"javascript:;"},on:{click:function(e){return t.ProceedToAction("assign")}}},[t._v(t._s(t.$t("ProceedtoAssign")))]):t._e()]),e("div",{staticClass:"col-12 mt-3 flex-row-reverse mt-3"},[e("div",{staticClass:"col-lg-12 text-left"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"text-danger",attrs:{id:"spnSelfCheckOutError"}},[t._v(t._s(t.ErrorText))])])])])],1)])])])])])],1)},o=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e("em",{staticClass:"fa fa-files-o pr-2"}),t._v("User Guide")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 mt-3 flex-row-reverse mt-3"},[e("div",{staticClass:"col-lg-12 text-left"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"text-danger",attrs:{id:"spnSelfCheckOutError"}})])])])}],l=(s("14d9"),s("1115")),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 mt-3 listing tblassestgroupinfo"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblassestgroupinfo"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{"max-width":"120px"}},[e("span",[t._v(t._s(t.$t("SerialNumber")))])]),e("th",[e("span",[t._v(t._s(t.$t("PRODUCT_NAME")))])]),e("th",[e("span",[t._v(t._s(t.$t("Location")))])])])]),0!=t.NoRecordLength?t._l(t.BarCodeData,(function(a,s){return e("tbody",{key:s},[a.CreateUniqueNameListing?[e("tr",{staticClass:"showassetcataloguegroup",class:{"insertedrow bg-gold":a.AssetCatalogueGroup.length>0}},[e("td",{staticClass:"textaligncenter align-middle text-center",style:t.containercolor},[t._v(" "+t._s(s+1)+" ")]),e("td",{staticClass:"align-middle ad"},[t._v(t._s(a.AssetCatalogName))]),e("td",{staticClass:"align-middle ad"},[1==t.BarCodeData.length?[e("select",{class:{"form-control disabled":!0},attrs:{name:"location"}},[e("option",{domProps:{value:a.LocationId}},[t._v(t._s(a.LocationName))])])]:[e("select",{class:{"form-control":!0},attrs:{name:"location"}},[e("option",{domProps:{value:a.LocationId}},[t._v(t._s(a.LocationName))])])]],2)])]:[e("tr",{staticClass:"showassetcataloguegroup",class:{"insertedrow bg-gold":a.AssetCatalogueGroup.length>0}},[e("td",{staticClass:"textaligncenter align-middle text-center",style:t.containercolor},[a.AssetCatalogueGroup.length>0?e("span",{staticClass:"togglearrow arrowwhitecollapse_roles fa fa-caret-right fa-2x showcatalog showassetcatalog"},[t._v(t._s(s+1))]):e("span",{staticClass:"showcatalog showassetcatalog"},[t._v(" "+t._s(s+1))])]),e("td",{staticClass:"align-middle ad"},[t._v(t._s(a.AssetCatalogName))]),e("td",{staticClass:"align-middle ad"},[1==t.BarCodeData.length?[e("select",{class:{"form-control disabled":!0},attrs:{name:"location"}},[e("option",{domProps:{value:a.LocationId}},[t._v(t._s(a.LocationName))])])]:[e("select",{class:{"form-control":!0},attrs:{name:"location"}},[e("option",{domProps:{value:a.LocationId}},[t._v(t._s(a.LocationName))])])]],2)]),"assetassignment"==t.RequestFrom?e("tr",[e("td",{staticClass:"textaligncenter align-middle no_records",attrs:{colspan:"8"}},[t._v(t._s("NoItemAvailable")+" ")])]):t._e()]],2)})):[e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v(t._s(t.NoProductAvailable))])]],2)])])},n=[],c={props:{BarCodeData:{type:Array,required:!0},RequestFrom:{type:String,required:!0}},data(){return{containercolor:"",NoProductAvailable:"No Product Available",NoRecordLength:null}},created:function(){this.NoRecordLength=this.BarCodeData.length,this.BarCodeData.forEach(t=>{1==t.IsContainer&&(this.containercolor="border-left: 6px solid #227003 !important;")})}},d=c,u=s("2877"),h=Object(u["a"])(d,r,n,!1,null,null,null),m=h.exports,p=function(){var t=this,e=t._self._c;return t.divAvailabilityStatus?e("div",{staticClass:"col-12 mt-3"},[e("div",{staticClass:"col-12 border p-2 float-left"},[e("label",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("Availability")))]),t.statusAvailable?e("div",{staticClass:"col-12 p-0"},[e("small",[e("i",{staticClass:"text-success fa fa-circle"}),t._v(" "+t._s(t.$t("Available"))),e("span",{attrs:{id:"noOfAvailableItems"}}),t._v("-("+t._s(t.noOfAvailableItems)+")")]),t.uniqueItems?e("div",{staticClass:"col-12 px-0 mt-2"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblUniqueItems"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.allSelected,expression:"allSelected"}],staticClass:"custom-control-input",attrs:{id:"chkAllUniqueItems",type:"checkbox",name:"checkbox"},domProps:{checked:Array.isArray(t.allSelected)?t._i(t.allSelected,null)>-1:t.allSelected},on:{click:function(e){return t.selectAll(e)},change:function(e){var a=t.allSelected,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=null,l=t._i(a,o);s.checked?l<0&&(t.allSelected=a.concat([o])):l>-1&&(t.allSelected=a.slice(0,l).concat(a.slice(l+1)))}else t.allSelected=i}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chkAllUniqueItems"}})])]),e("th",{staticClass:"text-center"},[t._v(t._s(t.$t("AssetId")))]),e("th",{staticClass:"text-center"},[t._v(t._s(t.$t("AvailableItems")))])])]),e("tbody",t._l(t.GetUniqueProductIdData,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"text-center"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userIds,expression:"userIds"}],staticClass:"custom-control-input",attrs:{id:a.UNIQUE_ID,type:"checkbox",name:"checkbox"},domProps:{value:a.UNIQUE_ID,checked:Array.isArray(t.userIds)?t._i(t.userIds,a.UNIQUE_ID)>-1:t.userIds},on:{change:[function(e){var s=t.userIds,i=e.target,o=!!i.checked;if(Array.isArray(s)){var l=a.UNIQUE_ID,r=t._i(s,l);i.checked?r<0&&(t.userIds=s.concat([l])):r>-1&&(t.userIds=s.slice(0,r).concat(s.slice(r+1)))}else t.userIds=o},function(e){return t.select(a)}]}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:a.UNIQUE_ID}})])]),e("td",{staticClass:"text-center"},[t._v(t._s(a.NAME))]),e("td",{staticClass:"text-center"},[t._v(t._s(a.AVAILABLE_QUANTIY))])])})),0)])])])]):t._e()]):t._e(),t.statusReserved?e("div",[e("small",[e("i",{staticClass:"text-warning fa fa-circle"}),t._v(" "+t._s(t.$t("Reserved"))+" - "),e("span",{staticClass:"text-primary cursor-pointer",attrs:{id:"resvation"},on:{click:function(e){return t.select()}}},[t._v(t._s(t.$t("ViewReservations")))])]),e("div",{staticClass:"col-12 px-0",attrs:{id:"divCalendar"}})]):t._e(),t.statusUnAvailable?e("div",[e("small",[e("i",{staticClass:"text-danger fa fa-circle"}),t._v(" "+t._s(t.$t("Not_Available")))])]):t._e()])]):t._e()},C=[],v={props:{GetUniqueProductIdData:{type:Array,required:!0},noOfAvailableItems:{type:Number,required:!0},statusAvailable:{type:Boolean,required:!0},uniqueItems:{type:Boolean,required:!0},statusReserved:{type:Boolean,required:!0},statusUnAvailable:{type:Boolean,required:!0},divAvailabilityStatus:{type:Boolean,required:!0}},created:function(){},data(){return{CheckCatlougeValue:null,CheckeduniqueId:"",selected:[],allSelected:!1,userIds:[]}},methods:{selectAll:function(t){this.userIds=[],this.checkedName=[];var e=[];if(t.target.checked?this.allSelected=!0:this.allSelected=!1,this.allSelected)for(let a in this.GetUniqueProductIdData)this.userIds.push(this.GetUniqueProductIdData[a].UNIQUE_ID),this.checkedName.push(this.GetUniqueProductIdData[a].NAME);e.push(this.userIds.toString()),e.push(this.checkedName.toString()),this.$emit("onUniqueItemClick",e)},select:function(t){var e=this;this.userIdss=[],this.checkedNames=[];var a=[];this.GetUniqueProductIdData.length==this.userIdss.length&&this.GetUniqueProductIdData.length==this.checkedNames.length?e.allSelected=!0:e.allSelected=!1;for(let s in this.GetUniqueProductIdData)t.UNIQUE_ID==this.GetUniqueProductIdData[s].UNIQUE_ID&&(this.userIdss.push(this.GetUniqueProductIdData[s].UNIQUE_ID),this.checkedNames.push(this.GetUniqueProductIdData[s].NAME));e.allSelected=!0,$("#tblUniqueItems tbody tr").each((function(t,a){$(a).find("input[type=checkbox]").prop("checked")||(e.allSelected=!1)})),a.push(this.userIdss.toString()),a.push(this.checkedNames.toString()),this.$emit("onUniqueItemClick",a)}}},f=v,A=Object(u["a"])(f,p,C,!1,null,null,null),I=A.exports,_=s("ca17"),g=s.n(_),b=(s("542c"),{components:{CheckBarCodeAvalibility:m,AvailabilityStatus:I,"tree-view":g.a},data(){return{productDDLData:[],locationDDLData:[],assetUniqueData:[],checkAvailabilityList:[],location_id:null,SearchByBarcode:!0,IsProductName:!0,IsDDLShowHide:!1,assetUniqueItem:"",txtBarcode:"",tblassestgroupinfoIsShow:!1,divAvailabilityStatusIsShow:!1,popover:{visibility:"click"},isLoading:!1,BarCodeData:[],RequestFrom:"",IsShowButton:!0,CheckedCheckBox:"SearchProductName",BarcodeSelected:"BarCodeSearch",StartTime:new Date,EndTime:new Date,UniqueNameListing:1,IsProduct:"ProductName",Product_Id:null,fromDate:new Date,toDate:new Date,GetUniqueProductIdData:[],SpnSelfCheckOutError:"",ErrorText:"",ASSETUniqueId:null,noOfAvailableItems:null,statusAvailable:!1,uniqueItems:!0,statusReserved:!1,statusUnAvailable:!1,btnCheckAvailability:!0,btnCheckout:!1,btnAssign:!1,btnReserve:!1,IsDefault:null,UserType:null,module_id:null,GetKeyData:[],isUserSelfCheckoutEnabled:!1,iselectVal:null,CheckeduniqueIds:[],LocationName:"",uniqueProductName:"",hdnQuantity:null,LocationDataTree:[],dateformat:null,urlroute:""}},created:async function(){var t=this;await t.GetddlLocation(),t.searchByProduct("barcode"),t.fromDate=t.$options.filters.formatDate(t.fromDate),t.toDate=t.$options.filters.formatDate(t.toDate),t.EndTime=t.addHoursToDate(t.EndTime,1),t.UniqueNameListing="BarCodeSearch"!=t.BarcodeSelected?t.UniqueNameListing=1:t.UniqueNameListing=0;var e=t.GetUserInfo;t.UserId=e.ID,t.UserName=e.Name,t.IsDefault=e.IsDefault,t.UserType=e.UserType,t.dateformat=e.DateFormat,await t.GetKey()},methods:{addHoursToDate(t,e){return new Date(new Date(t).setHours(t.getHours()+e))},GetKey:async function(){var t=this;await t.GetModuleByName();var e=`moduleId=${t.module_id}&code=USR`;await l["a"].GetKeys(e).then(e=>{e.data.length>0?(t.GetKeyData=e.data,t.GetKeyData.filter(e=>{if("SelfCheckout"==e.coreConfigKey||"SelfTransfer"==e.coreConfigKey)return t.isUserSelfCheckoutEnabled=!0})):t.isUserSelfCheckoutEnabled=!1})},GetModuleByName:async function(t){var e="moduleName=Asset";await l["a"].GetModuleByName(e).then(t=>{this.module_id=t.data})},GetAssetAvailability:async function(){var t=this,e="",a="",s="";if("BarCodeSearch"==t.BarcodeSelected?(e=""==t.BarCodeData?null:t.BarCodeData[0].AssetCatalogueId,a=""==t.BarCodeData?null:t.BarCodeData[0].ParentUniqueId,s=""==t.BarCodeData?null:t.BarCodeData[0].LocationId):(e=t.Product_Id,a=t.iselectVal),null!=t.fromDate&&""!=t.fromDate||(t.fromDate=new Date),null!=t.toDate&&""!=t.toDate||(t.toDate=new Date),t.fromDate>t.toDate)return t.ShowAlert(t.$t("From date should be less than or equal To Till date"),"failure",t.$t("Alert")),!1;var i=t.$options.filters.formatDateYear(t.fromDate),o=t.$options.filters.formatDateYear(t.toDate),r=t.$options.filters.formatTime(t.StartTime),n=t.$options.filters.formatTime(t.EndTime),c=t.StartTime.getHours(),d=t.EndTime.getHours(),u=new Date(Date.parse(i)),h=new Date(Date.parse(o));if("BarCodeSearch"==t.BarcodeSelected?t.urlroute="?id=&isView=1&assetType=&barcode="+t.txtBarcode+"&assetUniqueId=&issueTo=&reqFrom=CheckBarcodeAssetAvailability&assignedFrom="+t.fromDate+"&assignedTill="+t.toDate+"&startTime=&endTime=&locationId="+t.BarCodeData[0].LocationId+"&RFID=&uniqueIds=":t.urlroute="?id=&isView=1&assetType=&barcode=&assetUniqueId=&issueTo="+t.UserId+"&reqFrom=assetrequisition&assignedFrom="+t.$options.filters.formatDate(t.fromDate)+"&assignedTill="+t.$options.filters.formatDate(t.toDate)+"&startTime="+r+"&endTime="+n+"&locationId="+t.location_id+"&RFID=&uniqueIds=",u>=h&&c>=d)return t.ShowAlert(t.$t("TimeRangeValidation"),"failure",t.$t("Alert")),!1;if(null!=a&&""!=a&&0!=a||null!=e&&""!=e&&0!=e)if(t.isLoading=!0,"BarCodeSearch"==t.BarcodeSelected&&0==t.UniqueNameListing){var m=`assetUniqueId=${e}&assignedFrom=${i}&assignedTill=${o}&startTime=${r}&endTime=${n}&locationId=${s}&type=ProductName`;await l["a"].GetAssetAvailability(m).then(e=>{if("ERROR"!=e.data.availability)if(e.data.availability.length>0)if("AVAILABLE"==e.data.availability[0].availabilty){var a={status:"available",AvailableItems:e.data.availability[0].availablE_QUANTITY,IS_SELF_CHECKOUT:e.data.availability[0].iS_SELF_CHECKOUT,UNIQUE_ITEMS:e.data.availability[0].uniquE_ITEMS};t.DisplayAvailability(a)}else if("RESERVED"==e.data.availabilty[0].availabilty){a={status:"reserved"};t.DisplayAvailability(a)}else t.DisplayAvailability("unAvailable");else t.DisplayAvailability("unAvailable");else t.DisplayAvailability("unAvailable");t.isLoading=!1})}else{if("ProductName"==t.IsProduct)if("BarCodeSearch"==t.BarcodeSelected){if(null==t.location_id&&0==t.location_id)return t.ShowAlert(t.$t("CostCentreReq"),"failure",t.$t("Alert")),t.isLoading=!1,!1}else await t.GetUniqueProductId(),a=t.ASSETUniqueId;if(null!=a&&""!=a&&0!=a&&"Product"!=t.IsProduct){m=`assetUniqueId=${e}&assignedFrom=${i}&assignedTill=${o}&startTime=${r}&endTime=${n}&locationId=${t.location_id}&type=ProductName`;await l["a"].GetAssetAvailability(m).then(e=>{if("ERROR"!=e.data.availabilty)if(e.data.availability.length>0)if("AVAILABLE"==e.data.availability[0].availabilty){var a={status:"available",AvailableItems:e.data.availability[0].availablE_QUANTITY,UNIQUE_ITEMS:e.data.availability[0].uniquE_ITEMS,IS_SELF_CHECKOUT:e.data.availability[0].iS_SELF_CHECKOUT};t.DisplayAvailability(a)}else if("RESERVED"==e.data.availabilty[0].availabilty){a={status:"reserved"};t.DisplayAvailability(a)}else t.DisplayAvailability("unAvailable");else t.DisplayAvailability("unAvailable");else t.DisplayAvailability("unAvailable");t.isLoading=!1})}else{m=`assetUniqueId=${a}&assignedFrom=${i}&assignedTill=${o}&startTime=${r}&endTime=${n}&locationId=${t.location_id}&type=Product`;await l["a"].GetAssetAvailability(m).then(e=>{if("ERROR"!=e.data.availability)if(e.data.availability.length>0)if("AVAILABLE"==e.data.availability[0].availability){var a={status:"available",AvailableItems:e.data.availability[0].availablE_QUANTITY,IS_SELF_CHECKOUT:e.data.availability[0].iS_SELF_CHECKOUT};t.DisplayAvailability(a)}else if("RESERVED"==e.data.availability[0].AVAILABILTY){a={status:"reserved"};t.DisplayAvailability(a)}else t.DisplayAvailability("unAvailable");else t.DisplayAvailability("unAvailable");else t.DisplayAvailability("unAvailable");t.isLoading=!1})}}else null==a||""==a||0==a?t.ShowAlert(t.$t("ProductRequired"),"failure",t.$t("Alert")):t.ShowAlert(t.$t("InvalidProduct"),"failure",t.$t("Alert"))},DisplayAvailability:function(t){var e=this;if(e.divAvailabilityStatusIsShow=!0,t.status)if(e.statusAvailable=!0,"available"==t.status){if("ProductName"==e.IsProduct&&"BarCodeSearch"!=e.BarcodeSelected&&1!=e.UniqueNameListing&&(e.noOfAvailableItems=t.AvailableItems),t.UNIQUE_ITEMS){if(e.GetUniqueProductIdData=JSON.parse(t.UNIQUE_ITEMS),""!=e.txtBarcode){var a=[];e.GetUniqueProductIdData.forEach((function(t){t.UNIQUE_ID==e.BarCodeData[0].ParentUniqueId&&a.push(t)})),e.GetUniqueProductIdData=a}}else e.uniqueItems=!0;var s=e.fromDate,i=e.StartTime,o=new Date(new Date(Date.parse(s)).setHours(0,0,0,0)),l=s+" "+i.getTime()/6e4;l=l.split(" "),l=l[1];var r=new Date((new Date).setHours(0,0,0,0));e.hdnQuantity=t.AvailableItems,e.statusReserved=!1,e.statusUnAvailable=!1,e.btnCheckAvailability=!1,e.btnCheckout=!1,e.btnAssign=!1,+o===+r&&("CA"==e.UserType&&""+e.IsDefault==1?(e.btnCheckout=!0,e.btnAssign=!0):("True"==e.isUserSelfCheckoutEnabled&&(e.btnAssign=!0),1==e.isUserSelfCheckoutEnabled&&1==t.IS_SELF_CHECKOUT?e.btnCheckout=!0:0==t.IS_SELF_CHECKOUT?e.ErrorText="Self checkout is not enabled for this product.":"CA"==e.UserType?e.ErrorText="Please enable your self checkout option under user configuration.":e.ErrorText="Please ask the company admin to enable your self checkout option under user configuration."),l-(new Date).getTime()/6e4>=5&&(e.btnReserve=!0)),o>r&&(e.btnReserve=!0,"CA"==e.UserType&&1==e.IsDefault&&(e.btnAssign=!0))}else"reserved"==t.status&&(e.noOfAvailableItems=null,e.statusReserved=!0,e.statusUnAvailable=!1,e.btnCheckAvailability=!1,e.btnReserve=!1,e.btnCheckout=!1,e.btnAssign=!1);else e.noOfAvailableItems=null,e.statusReserved=!1,e.statusUnAvailable=!0,e.btnCheckAvailability=!1,e.btnReserve=!1,e.btnCheckout=!1,e.btnAssign=!1},GetUniqueProductId:async function(){var t=this,e=`name=&assetCatalogId=${t.Product_Id}&issueTo=0&locationId=${t.location_id}&requestFrom=CHECKASSETAVAILABILITY&assetType=`;await l["a"].GetUniqueAssetItems(e).then((function(e){t.ASSETUniqueId=e.data[0].Value}))},onUniqueItemClick:function(t){let e=this.CheckeduniqueIds.findIndex(e=>e.UniqcatId===t[0]);if(-1===e){let e={UniqcatId:t[0],UniqName:t[1]};this.CheckeduniqueIds.push(e)}else-1!==e&&this.CheckeduniqueIds.splice(e,1)},ProceedToAction:function(t){var e=this,a="";a="BarCodeSearch"==e.BarcodeSelected&&1==e.UniqueNameListing?e.BarCodeData[0].ParentUniqueId:"ProductName"==e.IsProduct?e.CheckeduniqueIds.map(t=>t.UniqcatId).join(","):e.iselectVal;if("ProductName"==e.IsProduct&&"BarCodeSearch"!=e.BarcodeSelected){e.ASSETUniqueId,e.LocationName;e.location_id;e.Product_Id,e.noOfAvailableItems}else if("BarCodeSearch"==e.BarcodeSelected&&0==e.UniqueNameListing){e.BarCodeData[0].ParentUniqueId,e.BarCodeData[0].LocationName;e.BarCodeData[0].LocationId;e.BarCodeData[0].AssetUniqueName,e.BarCodeData[0].AvailableItems}else if("BarCodeSearch"==e.BarcodeSelected&&1==e.UniqueNameListing){e.BarCodeData[0].ParentUniqueId,e.BarCodeData[0].LocationName;e.BarCodeData[0].LocationId;this.BarCodeData[0].AssetCatalogueId,e.BarCodeData[0].AvailableItems}else{e.iselectVal,e.LocationName;e.location_id;vmassetUniqueItem,e.hdnQuantity}e.fromDate,e.toDate,e.StartTime,e.EndTime,e.uniqueProductName;0!=e.CheckeduniqueIds.length||1==e.UniqueNameListing||"Product"==e.IsProduct?"assign"==t?e.$router.push({name:"AddAssetAssignment",params:{reqForm:"checkAssetAvailability",items:e.BarCodeData[0]}}):""!=e.txtBarcode?e.$router.push({path:"/AssetAssignment/AddCheckOutReuest"+e.urlroute}):e.$router.push({path:"/AssetAssignment/AddCheckOutReuest"+e.urlroute+a}):e.ShowAlert(e.$t("OneItemRequired"),"failure",e.$t("Alert"))},GetddlLocation:async function(){var t=this,e="reqForm=";await l["a"].GetLocationByCompanyId(e).then((function(e){t.FindalLocationArray=[],t.LocationDataTree=JSON.parse(e.data).data,t.LocationDataTree.forEach(a=>{var s=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==s.length&&null==a.PARENT_LOCATION_ID){let s=a.COMPANY_LOCATION_ID,i=t.getChildLocation(s,a,JSON.parse(e.data).data);t.FindalLocationArray.push(i)}}),t.options=t.FindalLocationArray}))},getChildLocation:function(t,e,a){let s=this,i={};i={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=i;var l=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let r=[];return l.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=r.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var l=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=l&&l.length>0){let i=s.getChildLocation(e,t,a);r.push(i)}else i={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},r.push(i)}}),o.children=r,o},GetddlProduct:async function(t){var a=this;a.assetUniqueData=[],a.assetUniqueItem="";var s=`id=&issueTo=&locationId=${a.location_id}&requestFrom=TRANSFER`;await l["a"].GetAssetCatalogWithContainer(s).then((function(s){let i={};var o=[];s.data.forEach(t=>{i={name:t.NAME,value:t.ASSET_CATALOGUE_ID},o.push(i)}),a.productDDLData=o,a.GetAssetUniqueData(t),a.filterName=a.LocationDataTree.find(t=>t.COMPANY_LOCATION_ID==parseInt(e)),a.btnCheckAvailability=!0,a.btnCheckout=!1,a.LocationName=a.filterName.LOCATION_NAME}))},GetAssetUniqueData:async function(t){var e=this;e.isLoading=!0;var a=`assetCatalogId=&name=&issueTo=&locationId=${t}&requestFrom=CHECKASSETAVAILABILITY&assetType=`;await l["a"].GetUniqueAssetItems(a).then((function(t){let a={};var s=[];t.data.forEach(t=>{a={name:t.Name,value:t.Value},s.push(a)}),e.assetUniqueData=s})),e.isLoading=!1},checkAssetAvailability:function(){this.GetAssetAvailability()},searchByProduct:function(t){this.SearchByBarcode=!1,"barcode"==t?(this.SearchByBarcode=!0,this.CheckedCheckBox="SearchProductName",this.BarcodeSelected="BarCodeSearch"):(this.SearchByBarcode=!1,this.CheckedCheckBox="SearchProducts",this.BarcodeSelected="ProductSearch"),this.ClearhdnIdsOnChange()},SearchassestBarcode:function(){var t=this;t.isLoading=!0,this.$refs.BarCodeForm.validate().then(e=>{if(e){var a=`id=&isView=1&barcode=${this.txtBarcode}&assetType=&assetUniqueId=&selfCheckout=&reqFrom=CheckBarcodeAssetAvailability&isFor=search&isuniqueSearch=&issueTo=&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;l["a"].GetCompanyAssestCatalogsDetalis(a).then(e=>{if(e.data.length>0){var a=t.options.filter(t=>t.id==e.data[0].LocationId);a.length>0?(t.tblassestgroupinfoIsShow=!0,t.BarCodeData=e.data,t.RequestFrom="",t.isLoading=!1):(t.isLoading=!1,t.ShowAlert(t.$t(`${e.data[0].LocationName} Location's Product not Assigning To ${t.UserName}`),"warning",!0,t.$t("Alert")))}else t.ShowAlert(t.$t("NoRecordfound"),"warning",!0,t.$t("Alert")),t.isLoading=!1})}})},CleareAssestBarcode:function(){this.txtBarcode="",this.tblassestgroupinfoIsShow=!1},searchByItemName:function(t){this.IsProductName=!1,"ProductName"==t?(this.IsProductName=!0,this.IsProduct="ProductName"):(this.IsProductName=!1,this.IsProduct="Product")},itemDDLShowHide:function(){this.IsDDLShowHide=!this.IsDDLShowHide},uniqueItemChange:function(t){this.iselectVal=t.value,this.assetUniqueItem=t.name,this.IsDDLShowHide=!1,this.getRelations()},ClosePOPuP:function(t){this.$parent.ClosePOPuP(t)},searchfilter:function(){this.SearchassestBarcode()},getRelations:function(){var t=this,e="",a=t.IsProduct;t.fromDate,t.toDate,t.startTime,t.endTime;"ProductName"==a||(e=t.iselectVal);var s=`id=${e}&type=${a}`;l["a"].GetRelatedAssets(s).then(t=>{JSON.parse(t.data.result)})},resetAvailabilityStatus:function(){var t=this;t.statusAvailable=!0,t.btnCheckAvailability=!0,t.statusReserved=!1,t.noOfAvailableItems=null,t.statusUnAvailable=!1,t.btnReserve=!1,t.btnCheckout=!1,t.btnAssign=!1,t.divAvailabilityStatusIsShow=!1},ClearhdnIdsOnChange:function(){var t=this;t.txtBarcode="",t.Product_Id="",t.assetUniqueItem="",t.location_id=null,t.tblassestgroupinfoIsShow=!1,t.BarCodeData="",t.noOfAvailableItems="",t.divAvailabilityStatusIsShow=!1,t.GetUniqueProductIdData=[]},getMinDate(){return new Date},togglePopoverClick(){$("#toggles").click()},togglePopoverClick1(){$("#toggled").click()}}}),S=b,y=(s("0019"),Object(u["a"])(S,i,o,!1,null,null,null));a["a"]=y.exports},8743:function(t,e,a){var s=a("0624");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("c065d3c6",s,!0,{sourceMap:!1,shadowMode:!1})},f9bd:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header d-flex"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("AddRelationship"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button",title:"Close"},on:{click:function(e){return t.ClosePopup()}}},[e("em",{staticClass:"fa fa-times"})]),e("span",{staticClass:"user-guide"},[t._m(0),e("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[e("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("USERGUIDE_AC_ADD_RELATIONSHIP"))}})])])])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"rad_value",attrs:{type:"radiobutton"}},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic IssuedByIds",attrs:{type:"radio",id:"SearchProductName",name:"SearchProduct",value:"CheckedCheckBox"},domProps:{checked:t.SearchByBarcode},on:{change:function(e){return t.searchByProduct("barcode")}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"SearchProductName"}},[t._v(t._s(t.$t("SearchbyBarcodeRFID")))])]),e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic IssuedByIds",attrs:{type:"radio",id:"SearchProducts",name:"SearchProduct",value:"CheckedCheckBox"},domProps:{checked:!t.SearchByBarcode},on:{change:function(e){return t.searchByProduct("product")}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"SearchProducts"}},[t._v(t._s(t.$t("SearchbyProduct")))])])])]),t.SearchByBarcode?[e("Form",{ref:"ProductSearch",staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[e("div",{staticClass:"col-12 float-left mt-3 SearchByBarcode p-0"},[e("div",{staticClass:"col-12 col-sm-12 float-left"},[e("div",{staticClass:"form-group mb-3"},[e("label",[e("span",{attrs:{id:""}},[t._v(t._s(t.$t("Searchby"))+" "+t._s(t.$t("Barcode"))+"/"+t._s(t.$t("SerialNumber"))+"/"+t._s(t.$t("RFID"))+":")])]),e("span",{staticClass:"text-danger"},[t._v("*")]),e("Field",{staticClass:"w-100",attrs:{name:"BarCode",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.txtBarcode,expression:"txtBarcode"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"BarCode",placeholder:"Enter Barcode",type:"text"},domProps:{value:t.txtBarcode},on:{keyup:function(e){return t.GetLocationDataByBarcode()},input:function(e){e.target.composing||(t.txtBarcode=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"BarCode"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,1518215686)})],1)])]),e("div",{staticClass:"col-9 float-left searchByProduct"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Subject"}},[t._v(t._s(t.$t("Location"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Location",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.LocationValueForBarCode,expression:"LocationValueForBarCode"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"Location"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.LocationValueForBarCode=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select"))+" ")]),""!=t.LocationValueForBarCode?e("option",{attrs:{disabled:t.LocationValueForBarCode},domProps:{value:t.LocationValueForBarCode}},[t._v(" "+t._s(t.LocationName)+" ")]):t._e()]),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,652108480)})],1)]),e("div",{staticClass:"col-sm-6 col-md-6 col-lg-3 float-left pl-md-0 mt-0 mt-md-4 mt-sm-4"},[e("div",{staticClass:"background-0 text-left w-100 form-check-inline"},[e("input",{attrs:{type:"hidden",id:"hdnSearch",value:""}}),e("a",{staticClass:"btn btn-success w-50 mr-1 px-4 hlsearch",attrs:{title:"",id:"Searchassest_barcode",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:function(e){return t.SearchAssetByBarCode()}}},[e("em",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger w-50 clearsearchtext px-4",attrs:{id:"aClear",href:"javascript:;",title:"Clear all ","data-toggle-tooltip":"tooltip","data-original-title":"Clear"},on:{click:function(e){return t.ClearhdnIdsOnChange()}}},[e("em",{staticClass:"fa fa-refresh"})])])])])]:t._e(),t.SearchByBarcode?t._e():[e("Form",{ref:"ProductSearchBar",staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[e("div",{staticClass:"col-12 float-left searchByProduct"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Location"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Location",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("tree-view",{class:{"is-invalid":a[0]},attrs:{options:t.options,placeholder:"Select Location","show-count":!0,flat:!0},on:{input:function(e){return t.BindItemTypeByUserId(t.TreeValue)}},model:{value:t.TreeValue,callback:function(e){t.TreeValue=e},expression:"TreeValue"}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,1376239831)})],1)]),e("div",{staticClass:"col-12 float-left",attrs:{id:"searchByProduct"}},[e("div",{staticClass:"col-12 float-left pl-0 py-2"},[e("div",{staticClass:"rad_value",attrs:{type:"radiobutton"}},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"ProductNameItem",value:"ProductName"},domProps:{checked:t.IsProductName},on:{change:function(e){return t.searchByItemName("ProductName")}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"ProductNameItem"}},[t._v(t._s(t.$t("AssetId")))])]),e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"ItemName",value:"Product"},domProps:{checked:!t.IsProductName},on:{change:function(e){return t.searchByItemName("Product")}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"ItemName"}},[t._v(t._s(t.$t("ItemName")))])])])]),e("br"),t.IsProductName?e("div",{staticClass:"col-9 float-left pl-0"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("ProductName"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"w-100",attrs:{name:"Product",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.txtAssetType,expression:"txtAssetType"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{name:"AssetTypeData"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.txtAssetType=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.AssetTypeData,(function(a,s){return e("option",{key:s,domProps:{value:a.Value}},[t._v(t._s(a.Text)+" ")])}))],2),a[0]?e("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(a[0]))]):t._e()]}}],null,!1,4283199202)})],1)]):t._e(),t.IsProductName?t._e():e("div",{staticClass:"col-9 float-left pl-0"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("ItemName"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{staticClass:"d-flex",attrs:{name:"Item Name",rules:{required:!0},label:"Item Name"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("div",{staticClass:"input-group mb-3",staticStyle:{position:"relative"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.assetUniqueItem,expression:"assetUniqueItem"}],staticClass:"form-control",class:{"form-control":!0,"is-invalid":a[0]},attrs:{id:"txtAssetItems",name:"Item Name",placeholder:"Enter Product Name",type:"text"},domProps:{value:t.assetUniqueItem},on:{keyup:t.Filterditems,input:function(e){e.target.composing||(t.assetUniqueItem=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Item Name"}},[t._v(t._s(a[0]))]):t._e(),e("div",{staticClass:"unique_dynamicdatalist"},[t.IsDDLShowHide?e("ul",{staticClass:"listOfProduct"},t._l(t.UniqueItemData,(function(a,s){return e("li",{key:s,staticClass:"listitem all-items",attrs:{value:a.Value},on:{click:function(e){return t.uniqueItemChange(a)}}},[t._v(" "+t._s(a.Name))])})),0):t._e()])]),e("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none","max-height":"37px"},attrs:{href:"javascript:;",id:"customddlinput"},on:{click:t.itemDDLShowHide}},[e("em",{staticClass:"dropdown-toggle float-right"})])]}}],null,!1,2000878517)})],1)]),e("div",{staticClass:"col-sm-8 col-md-8 col-lg-3 float-left pl-md-0 mt-0 mt-md-4 mt-sm-4 pr-0"},[e("div",{staticClass:"background-0 text-left w-100 form-check-inline"},[e("input",{attrs:{type:"hidden",id:"hdnSearch",value:""}}),e("a",{staticClass:"btn btn-success w-50 mr-1 px-4 hlsearch",attrs:{title:"",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:function(e){return t.SearchAssetByProduct()}}},[e("em",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger w-50 clearsearchtext px-4",attrs:{id:"aClear",href:"javascript:;",title:"Clear all ","data-toggle-tooltip":"tooltip","data-original-title":"Clear"},on:{click:function(e){return t.ClearhdnIdsOnChange()}}},[e("em",{staticClass:"fa fa-refresh"})])])])])])]],2),t.searchResult?e("AddrelationListing",{attrs:{ProductData:t.ProductData,UniqueData:t.UniqueData,isDataLoaded:t.isDataLoaded,LocationValueForBarCode:t.LocationValueForBarCode,iselectVal:t.iselectVal,txtBarcode:t.txtBarcode,txtAssetType:t.txtAssetType,LocationValue:t.TreeValue,AssetData:t.AssetData,FetchData:t.FetchData,ClosePopup:t.ClosePopup,IsProduct:t.IsProduct,checkItem:t.checkItem,assignTillDate:t.assignTillDate}}):t._e()],1)])])])])])],1)},i=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e("em",{staticClass:"fa fa-files-o pr-2"}),t._v("User Guide")])}],o=(a("14d9"),a("1115")),l=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"col-12 listing tblassestgroupinfo px-0"},[e("div",{staticClass:"col-0 productNote"},["ProductName"==t.IsProduct?e("small",[t._v(t._s(t.$t("NoteUniqueItems")))]):t._e(),"Product"==t.IsProduct?e("small",[t._v(t._s(t.$t("UniqueItems")))]):t._e()]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblassestgroupinfo"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("SerialNumber")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("ItemName")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("PairProduct")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("ItemMandatoryForCheckOut")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("Action")))])])])]),e("tbody",[t._l(t.ProductData,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"text-center"},[t._v(" "+t._s(s+1)+" ")]),null!=t.iselectVal?e("td",[t._v(t._s(a.Name))]):e("td",[t._v(t._s(a.AssetCatalogName))]),null==t.iselectVal?e("td",{staticClass:"text-center"},[null==t.LocationValueForBarCode?e("select",{ref:"productn",refInFor:!0,staticClass:"form-control",class:{"is-invalid":!a.isValidation},on:{change:function(e){return t.bindProductItem(e,a.count)}}},[e("option",{attrs:{value:""}},[t._v("Select Product Name")]),t._l(t.AssetData,(function(a,s){return e("option",{key:s,domProps:{value:a.Value}},[t._v(" "+t._s(a.Text)+" ")])}))],2):e("select",{ref:"barcode",refInFor:!0,staticClass:"form-control",class:{"is-invalid":!a.isValidation},on:{change:function(e){return t.bindProductItem(e,a.count)}}},[e("option",{attrs:{value:""}},[t._v("Select Product Name")]),t._l(t.AssetData,(function(a,s){return e("option",{key:s,domProps:{value:a.Value}},[t._v(" "+t._s(a.Text)+" ")])}))],2)]):t._e(),null!=t.iselectVal?e("td",{staticClass:"text-center"},[e("select",{staticClass:"form-control",class:{"is-invalid":!a.isValidation},on:{change:function(e){return t.bindProductItem(e,a.count)}}},[e("option",{attrs:{value:""}},[t._v("Select Product Name")]),t._l(t.UniqueItemData1,(function(a,s){return e("option",{key:s,domProps:{value:a.Value}},[t._v(t._s(a.Name)+" ")])}))],2)]):t._e(),e("td",{staticClass:"text-center"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.IsMandatory,expression:"item.IsMandatory"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"isCheck",type:"checkbox"},domProps:{checked:Array.isArray(a.IsMandatory)?t._i(a.IsMandatory,null)>-1:a.IsMandatory},on:{change:[function(e){var s=a.IsMandatory,i=e.target,o=!!i.checked;if(Array.isArray(s)){var l=null,r=t._i(s,l);i.checked?r<0&&t.$set(a,"IsMandatory",s.concat([l])):r>-1&&t.$set(a,"IsMandatory",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(a,"IsMandatory",o)},function(e){return t.ChangeCheck(e)}]}}),t._m(0,!0)])])]),e("td",{staticClass:"text-center single-action"},[parseInt(t.result)==parseInt(s+1)?e("a",{attrs:{href:"javascript:;",id:"addProduct",title:"Add Product"},on:{click:function(e){return t.AddMoreItem(a)}}},[e("i",{staticClass:"fa fa-plus px-4 text-success"})]):t._e(),e("a",{attrs:{href:"javascript:;",title:"Delete"},on:{click:function(e){return t.deleteItem(a.count)}}},[e("i",{staticClass:"fa fa-trash px-4 text-danger"})])])])})),0==t.NoRecordLength?e("tr",[e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record Found")])]):t._e()],2)])]),t.ProductData.length>0?e("div",{staticClass:"col-12 text-right mt-3"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",title:"Save"},on:{click:function(e){return t.SubmitData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save"))+" ")]),t._v("  "),e("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:"Cancel",id:"ancCancelgroupRequisition"},on:{click:t.RelationPopUpClose}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel")))])]):t._e()])])},r=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Yes")]),e("span",{staticClass:"slider-no"},[t._v("No")])])}],n={props:{UniqueData:{type:Array},ProductData:{type:Array},LocationValue:{type:Number},txtAssetType:{type:Number},iselectVal:{type:Number},ClosePopup:{type:Function},LocationValueForBarCode:{type:Number},txtBarcode:{type:String},FetchData:{type:Function},AssetData:{type:Array},IsProduct:{type:String},assignTillDate:{type:String},checkItem:{type:Number}},data(){return{NoRecordLength:0,noDataAvailable:"No Product is available in the items list.",isCheckDeployItem:"",product:{},Relations:[],sliderValue:0,IsMandatory:!1,ChildId:null,result:1,isVal:!1,UniqueItemData1:[]}},created:function(){var t=this;if(null!=t.assignTillDate||null!=t.checkItem)return t.isVisible=!1,t.$parent.searchResult=!1,t.ShowAlert(t.$t("Product is already assigned to someone untill  "+t.assignTillDate),"warning",t.$t("Alert"));t.isVisible=!0,t.NoRecordLength=t.ProductData.length,t.UniqueItemData1=t.UniqueData},updated(){var t=this;t.lastItem()},methods:{lastItem(){var t=this;t.result=this.ProductData.length,t.NoRecordLength=this.ProductData.length,t.UniqueItemData1=t.UniqueData},ChangeCheck:function(t){var e=this;return e.IsMandatory=!1,1==t.target.checked?void(null!=e.ChildId&&(e.Relations.forEach(t=>{var a=e.Relations.some(t=>t.ChildId===e.ChildId);t.IsMandatory=1==a}),e.IsMandatory=!1)):e.IsMandatory=!1},AddMoreItem(t){var e=this;if(null!=e.ChildId){const a={AssetCatalogName:t.AssetCatalogName,count:e.ProductData.length+1,isValidation:!1};e.ProductData.push(a),e.ChildId=null}else e.ProductData.map(t=>{if(1==t.count)return t.isValidation=!1}),e.ShowAlert(e.$t("Product Name is required."),"warning",e.$t("Alert"))},bindProductItem(t,e){var a=this,s=[];let i=!1;if(a.ChildId=parseInt(t.target.value),1==e&&(a.Relations=[],0==a.Relations.length)){let t={ChildId:a.ChildId,IsMandatory:!1};return a.Relations.unshift(t),void a.ProductData.map(t=>{if(t.count==e)return t.isValidation=!0})}s.push(a.Relations),s.forEach(s=>{if(i=a.Relations.some(e=>e.ChildId===parseInt(t.target.value)),0==i){let t={ChildId:a.ChildId,IsMandatory:!1};return a.Relations.push(t),void a.ProductData.forEach(t=>{t.count==e&&(t.isValidation=!0)})}return t.target.value=null,a.ChildId=null,a.ShowAlert(a.$t("Relation with this Product Has already been added."),"failure",a.$t("Alert"))})},deleteItem(t){var e=this;e.confirmR(e.$t("Are you sure you want to delete these record(s)?"),!0,!1,(function(a){const s=e.ProductData.findIndex(e=>e.count===t);return-1!==s&&e.ProductData.splice(s,1),e.ShowAlert(e.$t("Item has been deleted Successfully "),"success",e.$t("Alert"))}))},SubmitData:function(){var t=this;let e={};if(""==this.LocationValueForBarCode||null==t.LocationValueForBarCode){if(0==t.Relations.length)return t.ProductData.forEach(t=>{if(1==t.count)return t.isValidation=!1}),t.ShowAlert(t.$t("Product Name is required."),"warning",t.$t("Alert"));e={ParentId:this.txtAssetType?parseInt(this.txtAssetType):this.iselectVal,type:this.txtAssetType?"ProductName":"Product",LocationId:this.LocationValue,Relations:t.Relations}}else e={ParentId:parseInt(this.txtBarcode),type:"ProductName",LocationId:this.LocationValueForBarCode,Relations:t.Relations};o["a"].SaveAssetRelationship(e).then(e=>{if(null!=e.data){var a=e.data;if(0==a.status)return this.RelationPopUpClose(),t.ShowAlert(t.$t("Add relationship Submitted successfully "),""+a.msg,t.$t("Alert"));t.ShowAlert(t.$t("Something went wrong"),""+a.msg,t.$t("Alert"))}})},RelationPopUpClose(){this.$parent.ClosePopup()}}},c=n,d=a("2877"),u=Object(d["a"])(c,l,r,!1,null,null,null),h=u.exports,m=a("ca17"),p=a.n(m),C=(a("542c"),{components:{AddrelationListing:h,"tree-view":p.a},props:{FetchData:{type:Function}},data(){return{SearchByBarcode:!0,IsProductName:!0,SearchByProduct:!1,LocationData:null,TreeValue:null,LocationValueForBarCode:null,AssetTypeData:[],txtBarcode:null,txtAssetType:0,searchResult:!1,isLoading:!1,IsDDLShowHide:!1,assetUniqueItem:"",iselectVal:null,UniqueItemData:[],LocationName:"",ProductData:[],options:[],isuniqueSearch:"No",AssetData:[],UniqueData:[],filterRecodes:[],SuniqueItemData:[],showProductDropdown:!1,IsProduct:"ProductName",assignTillDate:null,checkItem:null,isDataLoaded:!1,UniqueItems:[]}},created:function(){var t=this;t.searchByProduct("barcode"),t.GetLocationByCompanyId()},methods:{GetLocationDataByBarcode:async function(){var t=this;t.isLoading=!0;var e=`barcode=${this.txtBarcode}&reqFrom=addAssetRelationShip`;await o["a"].GetLocationByBarcode(e).then(e=>{null!=e.data[0]?(t.LocationName=e.data[0].LOCATION_NAME,t.LocationValueForBarCode=e.data[0].LOCATION_ID,t.isLoading=!1):t.isLoading=!1})},searchByProduct:function(t){var e=this;this.SearchByBarcode=!1,"barcode"==t?(e.isdata=!1,e.searchResult=!1,e.SearchByBarcode=!0,e.CheckedCheckBox="SearchProductName",e.BarcodeSelected="BarCodeSearch",e.ProductData=[]):(e.isdata=!0,e.SearchByBarcode=!1,e.searchResult=!1,e.CheckedCheckBox="SearchProducts",e.BarcodeSelected="ProductSearch",e.ProductData=[])},ClearhdnIdsOnChange:function(){var t=this;t.txtBarcode="",t.ProductData=[],t.LocationValueForBarCode="",t.TreeValue=null,t.assetUniqueItem="",t.searchByProduct("barcode")},itemDDLShowHide:function(){this.IsDDLShowHide=!this.IsDDLShowHide},uniqueItemChange:function(t){var e=this;e.iselectVal=t.Value,e.assetUniqueItem=t.Name,e.IsDDLShowHide=!1},searchByItemName:function(t){var e=this;e.IsProductName=!1,"ProductName"==t?(e.IsProductName=!0,e.IsProduct="ProductName",e.assetUniqueItem="",e.searchResult=!1):(e.IsProductName=!1,e.searchResult=!1,e.IsProduct="Product")},BindItemTypeByUserId:async function(t){var e=this;e.isLoading=!0;var a=`id=&isView=&barcode=&assetType=&assetUniqueId=&selfCheckout=&reqFrom=addAssetRelationShip&isFor=&isuniqueSearch=&issueTo=&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=${e.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;await o["a"].GetCompanyAssestCatalogsDetalis(a).then(t=>{e.AssetTypeData=t.data.Result,e.GetAssetUniqueData(),e.isLoading=!1})},GetLocationByCompanyId:async function(){var t=this,e="reqForm=assetassignment";await o["a"].GetLocationByuserId(e).then(e=>{t.FindalLocationArray=[],e.data.data.forEach(a=>{var s=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==s.length&&null==a.PARENT_LOCATION_ID){let s=a.COMPANY_LOCATION_ID,i=t.getChildLocation(s,a,e.data.data);t.FindalLocationArray.push(i)}}),t.options=t.FindalLocationArray})},getChildLocation:function(t,e,a){let s=this,i={};i={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=i;var l=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let r=[];return l.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=r.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var l=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=l&&l.length>0){let i=s.getChildLocation(e,t,a);r.push(i)}else i={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},r.push(i)}}),o.children=r,o},ClosePopup(){this.$parent.CloseAddRelationShipPopup()},SearchAssetByBarCode:async function(){var t=this;t.isLoading=!0,t.isuniqueSearch="yes",await t.getNonUniqueProductsByBarcodeLocation(),null==t.LocationValueForBarCode&&(t.isLoading=!1);var e=`id=&catalogueIds=&uniqueIds=&isView=1&assetType=&barcode=${t.txtBarcode}&assetUniqueId=&issueTo=&reqFrom=addAssetRelationShip&isFor=search&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=${t.LocationValueForBarCode}&RFID=&isuniqueSearch=no`;t.$refs.ProductSearch.validate().then(a=>{a?o["a"].GetCompanyAssestCatalogsDetalis(e).then(e=>{if(e.data.length>0){t.searchResult=!0,t.ProductData=e.data;let a=!0,s=1,i=!1;t.AssetData=[],t.AssetTypeData.map(e=>{i=t.ProductData.some(t=>t.AssetCatalogueId==e.Value),0==i?t.AssetData.push(e):console.log("isMatchRecord",i)}),t.ProductData.map(t=>{t.isValidation=a,t.count=s})}else t.searchResult=!0,t.NoRecordLength=0,t.ProductData=[];t.isDataLoaded=!0,t.isLoading=!1}):t.isLoading=!1})},Filterditems:async function(){let t=this;t.filterRecodes=[],t.isLoading=!0;let e="";if(""!==t.assetUniqueItem){t.assetUniqueItem.toLowerCase();e=null==t.LocationValueForBarCode||""==t.LocationValueForBarCode?`assetCatalogId=&name=${t.assetUniqueItem}&issueTo=&locationId=${t.TreeValue}&requestFrom=addAssetRelationShip&assetType=`:`assetCatalogId=&name=&issueTo=&locationId=${t.LocationValueForBarCode}&requestFrom=addAssetRelationShip&assetType=`,await o["a"].GetUniqueAssetItems(e).then((function(e){t.filterRecodes=e.data,t.SuniqueItemData=e.data,null!=t.filterRecodes&&(1==t.filterRecodes.length?(t.IsDDLShowHide=!0,t.uniqueItemChange(...t.filterRecodes)):(t.UniqueItemData=t.filterRecodes,t.IsDDLShowHide=!0)),t.isLoading=!1})),t.isLoading=!1}},GetAssetUniqueData:async function(){var t=this;let e="";t.UniqueItemData=[],e=null==t.LocationValueForBarCode||""==t.LocationValueForBarCode?`assetCatalogId=&name=&issueTo=&locationId=${t.TreeValue}&requestFrom=addAssetRelationShip&assetType=`:`assetCatalogId=&name=&issueTo=&locationId=${t.LocationValueForBarCode}&requestFrom=addAssetRelationShip&assetType=`,await o["a"].GetUniqueAssetItems(e).then((function(e){t.UniqueItemData=e.data,t.SuniqueItemData=e.data}))},SearchAssetByProduct:async function(){let t="";var e=this;e.isLoading=!0,e.AssetData=[],e.UniqueData=[],""!=e.txtAssetType&&e.AssetTypeData.forEach(t=>{t.Value!=e.txtAssetType&&e.AssetData.push(t)}),null==e.iselectVal?t=`id=${e.txtAssetType}&isView=1&barcode=&assetType=&assetUniqueId=&selfCheckout=&reqFrom=addAssetRelationShip&isFor=search&isuniqueSearch=no&issueTo=&assignedFrom=&assignedTill=&&startTime=&endTime=&locationId=${e.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=${e.txtAssetType}`:(e.ProductData=[],t=`id=&isView=1&barcode=&assetType=0&assetUniqueId=${e.iselectVal}&selfCheckout=&reqFrom=addAssetRelationShip&isFor=search&isuniqueSearch=no&issueTo=&assignedFrom=&assignedTill=&&startTime=&endTime=&locationId=${e.TreeValue}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=${e.iselectVal}&catalogueIds=`),e.getUniqueAssetItemsExceptItemName(),e.$refs.ProductSearchBar.validate().then(a=>{a?o["a"].GetCompanyAssestCatalogsDetalis(t).then(t=>{if(t.data.length>0){e.searchResult=!0,e.ProductData=t.data;let a=!0,s=1;return e.ProductData.map(t=>{t.isValidation=a,t.count=s}),void(e.isLoading=!1)}return e.isLoading=!1,1==t.data.checkItem||2==t.data.checkItem?(e.checkItem=null,e.assignTillDate=null,e.checkItem=t.data.checkItem,e.assignTillDate=t.data.assignTillDate):(e.searchResult=!0,e.NoRecordLength=0),e.searchResult=!0,e.NoRecordLength=0,e.ProductData=[],e.isDataLoaded=!0,e.isLoading=!1}):e.isLoading=!1})},getUniqueAssetItemsExceptItemName:function(){var t=this,e=`relatedInfoId=${t.iselectVal}&name=&issueTo=&locationId=${t.TreeValue}&requestFrom=ASSETREQUISITION&assetType=`;o["a"].GetUniqueAssetItemsExceptItemName(e).then(e=>{t.UniqueItems=e.data,t.UniqueItems.forEach(e=>{e.Value!=t.iselectVal&&t.UniqueData.push(e)})})},getNonUniqueProductsByBarcodeLocation:function(){var t=this;t.isLoading=!0;var e=`id=&isView=&barcode=&assetType=&assetUniqueId=&selfCheckout=&reqFrom=addAssetRelationShip&isFor=&isuniqueSearch=&issueTo=&assignedFrom=&assignedTill=&startTime=&endTime=&locationId=${t.LocationValueForBarCode}&RFID=&pageSize=&pageNum=&assignedFromDateTime=&assignedTillDateTime=&uniqueIds=&catalogueIds=`;o["a"].GetCompanyAssestCatalogsDetalis(e).then(e=>{t.AssetTypeData=e.data.Result,t.isLoading=!1})}}}),v=C,f=Object(d["a"])(v,s,i,!1,null,null,null);e["a"]=f.exports},fb56:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{attrs:{IsShowAction:!0,showCheckBox:!0,listType:["List"],ModuleName:"Asset",SubModuleCode:"Asset",PageSize:t.PageSize,IdentityColumn:"ASSET_CATALOGUE_ID",HeaderText:t.$t("ProductList"),ListData:t.ProductData,HeaderData:t.Headers,widgets:t.widgets,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["STATUS_NAME"==a.column.COLUMN_NAME?[e("a",{staticClass:"inactive-disabled"},[e("span",{class:{"btn d-inline-block text-center text-truncate btn-success":"Active"==a.row.STATUS_NAME,"btn d-inline-block text-center text-truncate btn-danger":"Inactive"==a.row.STATUS_NAME,"btn d-inline-block text-center text-truncate btn-info":"In Stock"==a.row.STATUS_NAME,"btn d-inline-block text-center text-truncate btn-warning":"In Use"==a.row.STATUS_NAME,"btn d-inline-block text-center text-truncate btn-primary":"In-Transit"==a.row.STATUS_NAME,"btn d-inline-block text-center text-truncate btn-danger valid":"Retired"==a.row.STATUS_NAME}},[t._v(" "+t._s(a.row[a.column.COLUMN_NAME])+" ")])])]:t._e(),"NUMBER_OF_ITEM"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:a.row.NUMBER_OF_ITEM}},[e("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(a.row.NUMBER_OF_ITEM>0?a.row.NUMBER_OF_ITEM:0))])])]:t._e(),"AVAILABLE_ITEMS"==a.column.COLUMN_NAME?[e("span",{staticClass:"text-dark",attrs:{title:a.row.AVAILABLE_ITEMS}},[e("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"noti-circle noti-green"},[t._v(t._s(a.row.AVAILABLE_ITEMS>0?a.row.AVAILABLE_ITEMS:0))])])]:t._e(),"ATTACHMENT_PATH"==a.column.COLUMN_NAME?[null!=a.row.ATTACHMENT_PATH?e("div",{staticClass:"form-control p-0 border-0 text-center",attrs:{alt:"",title:""}},[e("img",{staticStyle:{"max-height":"80px"},attrs:{src:a.row.ATTACHMENT_PATH,title:""}})]):t._e(),null==a.row.ATTACHMENT_PATH?e("div",{staticClass:"form-control p-0 border-0 text-center"},[e("img",{staticStyle:{"max-height":"60px"},attrs:{src:"/Content/images/imagenotavailable.jpg",alt:"No Image Available",title:""}})]):t._e()]:t._e(),"HAS_RELATED_PRODUCTS"==a.column.COLUMN_NAME?[e("div",{staticClass:"form-control p-0 border-0 text-center"},[a.row.HAS_RELATED_PRODUCTS?e("span",{staticClass:"text-dark"},[e("a",{staticClass:"relatedproduct",attrs:{href:"javascript:;",id:a.row.ASSET_CATALOGUE_ID,title:"Related Products "},on:{click:function(e){return t.RelatedProductsPopup(a.row.ASSET_CATALOGUE_ID)}}},[e("i",{staticClass:"fa fa-sitemap text-primary",attrs:{"aria-hidden":"true"}})])]):t._e()])]:t._e(),"NAME"==a.column.COLUMN_NAME?[a.row.NAME?e("span",{staticClass:"text-dark"},[e("a",{staticClass:"relatedproduct",attrs:{href:"javascript:;",id:a.row.ASSET_CATALOGUE_ID,title:a.row.NAME},on:{click:function(e){return t.clickEventOfColumn1(a.row.ASSET_CATALOGUE_ID)}}},[e("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[t._v(t._s(a.row.NAME))])])]):t._e()]:t._e()]}}])}),t.IsShowRelation?e("RelationPopup"):t._e(),t.ShowClonePopup?e("ClonePopup",{attrs:{AssetCatCloneId:t.AssetCatCloneId}}):t._e(),t.ShowViewFilePopup?e("AttachFilePopup",{attrs:{AssetDetails:t.AssetDetails}}):t._e(),t.ShowCheckAvailablity?e("CheckAvailablity"):t._e(),t.ShowAddProduct?e("AddProduct",{attrs:{popupCondition:t.popupCondition,FromPage:t.FromPage}}):t._e(),t.ShowRelatedProducts?e("RelatedProducts",{attrs:{AssetCatId:t.AssetCatId}}):t._e()],1)},i=[],o=(a("14d9"),a("1115"));let l=[{title:"Product List",href:"/AssetCatalog/RelatedInformation",iconClass:"fa fa-list",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Add Relationship",iconClass:"fa fa-plus",callbackfunction:"addRelationShip",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Check Availability",iconClass:"fa fa-check",callbackfunction:"CheckAvailablity",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Add Product",iconClass:"fa fa-plus",callbackfunction:"OpenModelAddProduct",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Product Transfer",callbackfunction:"TransferItem",iconClass:"fa fa fa-exchange",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"In-Transit Products",iconClass:"fa fa-recycle",callbackfunction:"ViewInTransitItems",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Transferred List",iconClass:"fa fa fa-exchange",href:"/AssetCatalog/ViewTransferedItem",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Depreciation",iconClass:"fa fa-sort-amount-asc",href:"/Asset/Depreciation",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Import Product",iconClass:"fa fa-download",callbackfunction:"ImportProduct",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Delete",iconClass:"fa fa-trash",callbackfunction:"DeletData",additionalClass:"",id:"DeleteMultiple",isdisabled:!0,isvisible:!0,checkPrivilege:!0,isEnabledOnSelectedRow:!0}],r=[{fieldName:"Location",fieldType:"ddl-multilevel",fieldIcon:"fa-map-marker",paramName:"LocationId",fieldSearchConditionName:[""],isSearch:!1,value:null,listOptions:[]},{fieldName:"Product Name/Code",fieldType:"text",fieldIcon:"fa fa-suitcase",paramName:"search",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"radio",fieldIcon:"fa fa-file-text-o",paramName:"statusIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Tag",fieldType:"ddl-check",fieldIcon:"fa fa-tag",paramName:"tagIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}],n=[{title:"Edit",href:"/AssetCatalog/Update/{ASSET_CATALOGUE_ID}",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isVisible:!0},{title:"Clone",href:"javascript:void(0)",callbackfunction:"OpenClonePopup",icon:"fa fa-clone text-success action-icon",additionalSpan:"",isVisible:!0},{title:"Detail Products History",href:"/AssetAssignment/Index/{ASSET_CATALOGUE_ID}",icon:"fa fa-file text-warning action-icon",additionalSpan:"",isVisible:!0},{title:"View attached file(s)",callbackfunction:"OpenViewFilePopup",href:"javascript:void(0)",icon:"fa fa-eye text-primary action-icon",additionalSpan:"",isVisible:!0}];async function c(t,e,a){var s=t,i=[],l=[];if("Location"==a){var r="reqForm=";await o["a"].GetLocationByCompanyId(r).then((function(t){var e=JSON.parse(t.data).data;e.forEach(e=>{var a=i.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==a.length&&null==e.PARENT_LOCATION_ID){let a=e.COMPANY_LOCATION_ID,s=d(a,e,JSON.parse(t.data).data);i.push(s)}}),s.leftSearchFields[0].listOptions=i}))}if("Tag"==a){r="modulename="+e;o["a"].GetTagsByModuleId(r).then((function(t){if("Tag"==a){let e={};JSON.parse(t.data).data.forEach(t=>{e={name:t.TAG_NAME,value:""+t.TAG_ID},l.push(e)}),s.leftSearchFields[3].listOptions=l}}))}if("Status"==a){r="langCode=en&statusType=AssetManagement&hasglobal=true";o["a"].GetStatusList(r).then((function(t){if("Status"==a){let e={};JSON.parse(t.data).forEach(t=>{e={name:t.STATUS,value:t.STATUS_ID},l.push(e)}),s.leftSearchFields[2].listOptions=l}}))}}function d(t,e,a){let s={};s={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let i=s;var o=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let l=[];return o.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var i=l.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==i.length){var o=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=o&&o.length>0){let s=d(e,t,a);l.push(s)}else s={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},l.push(s)}}),i.children=l,i}var u={buttons:l,leftsearchSchema:r,listActions:n,bindleftCommonSearchdropdown:c},h=a("f9bd"),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("CloneProduct"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.ClosePopup()}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"border p-3"},[t.DataLoaded?e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}):t._e(),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(" "+t._s(t.$t("MandatoryString"))+" ")])])])],1)])])])])},p=[],C={props:{AssetCatCloneId:{type:String}},data(){return{DataLoaded:0,FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("Product"),name:"Title",value:"",placeholder:"",validationRules:{required:!0,max:250}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.ClosePopup}]}},created:function(){this.DataLoaded=1},methods:{ClosePopup(){var t=this;t.$parent.ShowClonePopup=!1},onSubmit(t,e){var a=this;let s={};s.AssetcatalogId=a.AssetCatCloneId,s.ProductName=t.Title;var i=JSON.stringify(s);o["a"].CloneProductSave(i).then(t=>{""!=t?"ALREADYEXIST"==t.data?a.ShowAlert(a.$t("Product name already exist"),"warning",a.$t("Alert")):"CLONE"==t.data?(a.ShowAlert(a.$t("Product Clone successfully"),"success",a.$t("Alert")),a.ClosePopup(),a.$parent.FetchData()):a.ShowAlert(a.$t("Product Clone failed"),"failure",a.$t("Alert")):a.ShowAlert(a.$t("Product Clone failed"),"failure",a.$t("Alert"))})}}},v=C,f=a("2877"),A=Object(f["a"])(v,m,p,!1,null,null,null),I=A.exports,_=a("55a7"),g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"900px !important"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("HAS_RELATED_PRODUCTS")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.ClosePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"listing py-3 px-3"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblRElatedProductsList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v(t._s(t.$t("PRODUCT_NAME")))])]),e("th",[e("span",[t._v(t._s(t.$t("Mandatory_Non_Mandatory")))])])])]),e("tbody",[t._l(t.RelatedProductsData,(function(a){return e("tr",[e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.NAME)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(1==a.Mandatory?"Mandatory":"NonMandatory")+" ")])])])})),e("tr",[0==t.RelatedProductsData.length?e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record Found")]):t._e()])],2)])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.ClosePopup}},[t._v("Close")])])])])])])])},b=[],S={props:{AssetCatId:{type:String}},data(){return{RelatedProductsData:[]}},created:function(){var t=this;t.FetchData()},methods:{FetchData(){var t=this;t.isLoading=!0;var e=`catId=${t.AssetCatId}&type=ProductName`;o["a"].GetRelatedProduct(e).then(e=>{t.RelatedProductsData=JSON.parse(JSON.parse(e.data.result).RESULT)})},ClosePopup(){var t=this;t.$parent.CloseRelatedProductsPopup()}}},y=S,P=Object(f["a"])(y,g,b,!1,null,null,null),D=P.exports,T=a("191f"),N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"1200px !important"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Attachments"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.ClosePopup()}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"listing tblassestgroupinfodetails px-1 mt-3"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"tblassestgroupinfodetails"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[t._v(t._s(t.$t("SerialNumber")))]),e("th",[t._v(t._s(t.$t("AttachmentName")))]),e("th",[t._v(t._s(t.$t("FileName")))]),e("th",[t._v(t._s(t.$t("ForTermCondition")))]),e("th",[t._v(t._s(t.$t("TermConditionStartDate")))]),e("th",[t._v(t._s(t.$t("Action")))])])]),e("tbody",t._l(t.arryaofData,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"text-overflow-dynamic-container w-auto"},[t._v(" "+t._s(a.SERIAL_NUMBER)+" ")]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container w-auto"},[t._v(t._s(a.ATTACHMENT_TITLE))])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container w-auto"},[t._v(t._s(a.ATTACHMENT_NAME))])]),e("td",[a.IS_FOR_TERMS_CONDITION?e("span",{staticClass:"text-overflow-dynamic-container w-auto"},[t._v("Yes")]):e("span",{staticClass:"text-overflow-dynamic-container w-auto"},[t._v("No")])]),e("td",[null!=a.TERMS_CONDITION_STARTS_AT?e("span",{staticClass:"text-overflow-dynamic-container w-auto"},[t._v(t._s(t.formatTimeToCustomFormat(a.TERMS_CONDITION_STARTS_AT)))]):e("span",{staticClass:"text-overflow-dynamic-container w-auto"},[t._v("NA")])]),e("td",{staticClass:"text-center single-action"},[e("a",{staticClass:"downloadfile",attrs:{href:"javascript:;",title:"Download Attachment"},on:{click:function(e){return t.Downloadfiles(a)}}},[e("em",{staticClass:"fa fa-download text-primary action-icon",attrs:{title:"Download Attachment"}})]),t._v("  "),e("a",{staticClass:"deletefile mr-2",attrs:{href:"javascript:;",title:"Remove Attachment"},on:{click:function(e){return t.DeleteAtachmentFile(a.ASSET_ATTACHMENT_ID,a.ASSET_CATALOGUE_ID)}}},[e("em",{staticClass:"fa fa-trash text-danger action-icon",attrs:{title:"Remove Attachment"}})])])])})),0)])])])])])])])])},k=[],L=a("1315"),E={props:{AssetDetails:{type:String}},data(){return{arryaofData:[]}},created:function(){var t=this;t.privilegeParams="controller=AssetCatalog&action=",t.GetViewFiles()},methods:{ClosePopup(){var t=this;t.$parent.CloseViewFilePopup()},GetViewFiles(){var t=this,e=`catalogueId=${t.AssetDetails.ASSET_CATALOGUE_ID}&isDelete=1&flag=`;o["a"].AttachViewFiles(e).then(e=>{t.arryaofData=JSON.parse(e.data).data})},Downloadfiles(t){o["a"].CheckPrivilege(this.privilegeParams+"DownloadFile").then(e=>{if(e.data){var a="filePath="+t.ATTACHMENT_PATH;o["a"].DownloadAttachment(a).then((function(e){const a=e.data,s=`data:${t.ATTACHMENT_TYPE};base64,${a}`;var i=document.createElement("a");i.href=s,i.setAttribute("download",t.ATTACHMENT_NAME),document.body.appendChild(i),i.click()}))}else this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},DeleteAtachmentFile(t,e){var a=this;o["a"].CheckPrivilege(a.privilegeParams+"DeleteFile").then(s=>{s.data?a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("REPORT_ID"),(function(){var s=`fileId=${t}&catId=${e}`;o["a"].DeleteViewAttachmentFile(s).then(t=>{a.ShowAlert(a.$t("FileDeleted"),"success",a.$t("Alert")),a.$parent.FetchData(),a.$parent.CloseViewFilePopup()})})):a.ShowAlert(a.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},formatTimeToCustomFormat(t){if(null!=t&&""!=t){const e=L["DateTime"].fromISO(t,{zone:"utc"}),a=Intl.DateTimeFormat().resolvedOptions().timeZone,s=e.setZone(a),i=s.toFormat("MM/dd/yyyy h:mm a");return i}return"NA"}}},w=E,B=Object(f["a"])(w,N,k,!1,null,null,null),x=B.exports,U={components:{RelationPopup:h["a"],ClonePopup:I,CheckAvailablity:_["a"],AddProduct:T["a"],RelatedProducts:D,AttachFilePopup:x},data(){return{listheaderbuttons:u.buttons,leftSearchFields:u.leftsearchSchema,listActions:u.listActions,View_List:[],LegendArray:[],ProductData:[],PageSize:10,PageNumber:1,PageSizeOption:null,StatusListForListing:[],Headers:[{COLUMN_NAME:"ATTACHMENT_PATH",DATA_TYPE:"image",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Image"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"ASSET_TYPE",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ItemNameType"),DISPLAY_ORDER:2},{COLUMN_NAME:"ITEM_CODE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ITEM_CODE"),DISPLAY_ORDER:3},{COLUMN_NAME:"NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("PRODUCT_NAME"),DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"NUMBER_OF_ITEM",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("NUMBER_OF_ITEM"),DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"AVAILABLE_ITEMS",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("AVAILABLE_ITEMS"),DISPLAY_ORDER:7,settings:{isInSlot:!0}},{COLUMN_NAME:"HAS_RELATED_PRODUCTS",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("HAS_RELATED_PRODUCTS"),DISPLAY_ORDER:8,settings:{isInSlot:!0}}],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,SortBy:"",SortExp:"",widgets:[],catalogId:"",legendProgress:[{class:"",backgroundColor:"#17a2b8",name:"Draft"},{class:"legend-Progress",backgroundColor:"",name:"Approved"},{class:"legend-pending",backgroundColor:"",name:"Pending"},{class:"",backgroundColor:"#fe6847",name:"SendForCorrection"},{class:"",backgroundColor:"#ee1313",name:"Rejected"}],IsShowRelation:!1,ShowClonePopup:!1,ShowViewFilePopup:!1,ShowCheckAvailablity:!1,ShowAddProduct:!1,isLoading:!1,ShowRelatedProducts:!1,AssetCatId:"",AssetCatCloneId:"",AssetDetails:"",homeLink:!1,privilegeParams:null,UserType:null}},async created(){var t=this;await t.GetPageSize(),t.UserType=t.GetUserInfo.UserType,"PM"==t.UserType&&(t.listheaderbuttons[8].isvisible=!1),t.privilegeParams="controller=AssetCatalog&action=",u.bindleftCommonSearchdropdown(t,"Asset","Location"),u.bindleftCommonSearchdropdown(t,"Asset","Tag"),u.bindleftCommonSearchdropdown(t,"Asset","Status"),t.UserType=t.GetUserInfo.UserType,t.LegendArray=[{class:"legend-Progress colorboxsquare",text:t.$t("AssetsHavingUniqueNames")}],await t.CheckPrivilege()},methods:{async GetPageSize(){var t=this,e="key=DefaultPageSize";o["a"].GetConfigurationValueForCompanyByKey(e).then(e=>{null!=e.data&&(t.PageSize=parseInt(e.data))})},async CheckPrivilege(){var t=this;await o["a"].CheckPrivilege(t.privilegeParams+"Index").then(e=>{e.data?t.FetchData():t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},RelatedProductsPopup(t){var e=this;e.AssetCatId=t,e.ShowRelatedProducts=!0},columnDataFormatter:function(t,e){return t[e.COLUMN_NAME]},async FetchData(){var t=this;t.isLoading=!0;var e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&${t.searchCondition}`;await o["a"].AssetCatalogueListing(e).then(e=>{null!=e.data&&e.data.length>0?(t.ProductData=e.data,t.ProductData.forEach(t=>{t.rowDetailsUrl="",t.additionalClass="",t.isCheckBoxDisabled=!1,1==t.IS_SAMPLE_DATA&&(t.additionalClass="sample-bar"),t.HAS_UNIUQE_NAMES&&(t.additionalClass="low-bar odd"),t.NUMBER_OF_ITEM!=t.AVAILABLE_ITEMS&&(t.isCheckBoxDisabled=!0)}),t.TotalRecords=e.data[0].TOTAL,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.listheaderbuttons[9].isdisabled=!1,t.CurrentPage=t.PageNumber,t.noRecord=!1,t.isLoading=!1,setTimeout(()=>{t.checkboxSetting()},800)):(t.noRecord=!0,t.ProductData=[],t.TotalRecords=0,t.isLoading=!1),t.isLoading=!1,setTimeout((function(){t.CheckBoxBootstrap()}),100),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),setTimeout((function(){$("#tablelistingdata tbody td span[title|='true']").attr("title",""),$("#tablelistingdata tbody td span[title|='false']").attr("title","")}),500)})},DeleteData:function(){var t=this,e="";o["a"].CheckPrivilege(t.privilegeParams+"Delete").then(a=>{a.data?($(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.length>0&&(e+=","),e+=$(this).val(),""!=e&&(t.listheaderbuttons[9].isdisabled=!1)})),e.length>0&&t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("ASSET_CATALOGUE_ID"),(function(){let a=`ids=${e}&tableName=TALYGEN_asset_catalogue&primaryKey=asset_catalogue_id`;o["a"].Delete(a).then(e=>{e.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Product")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("val")]),"failure",!0,t.$t("Alert")),t.FetchData()})}))):t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},clickEventOfColumn1:function(t,e){var a=this;o["a"].CheckPrivilege(a.privilegeParams+"update").then(e=>{e.data?a.$router.push({path:"/AssetCatalog/Update/"+t}):a.ShowAlert(a.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchConditionJson:this.searchCondition="",this.FetchData()},currentPageMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},GetPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},commonHeaderButtonClick(t){switch(t.callbackfunction){case"addRelationShip":this.AddRelationShipPopup();break;case"CheckAvailablity":this.OpenCheckAvailablity();break;case"TransferItem":this.OpenTransferItem();break;case"OpenModelAddProduct":this.OpenModelAddProduct();break;case"ViewInTransitItems":this.InTransitProducts();break;case"ImportProduct":this.ImportProduct();break;case"DeletData":this.DeleteData();break}},OpenTransferItem(){o["a"].CheckPrivilege(this.privilegeParams+"TransferItem").then(t=>{t.data?window.location.href="/AssetCatalog/TransferItem":this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},ProductTransfer(){this.$router.push({name:"Transferred Items"})},InTransitProducts(){var t=this;o["a"].CheckPrivilege(t.privilegeParams+"ViewInTransitItems").then(e=>{e.data?t.$router.push({path:"/AssetCatalog/ViewInTransitItems"}):(t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert"),t.$router.push({path:"/unauthorized"}))})},OpenModelAddProduct(){var t=this;o["a"].CheckPrivilege(t.privilegeParams+"Add").then(e=>{e.data?(t.FromPage="ProductListing",t.popupCondition="",t.ShowAddProduct=!0):t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},OpenCheckAvailablity(){var t=this;o["a"].CheckPrivilege(t.privilegeParams+"CheckProductAvailability").then(e=>{e.data?t.ShowCheckAvailablity=!0:t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},RelatedInformation(){this.$router.push({name:"RelatedInformation"})},movetodepreciationlist:function(){this.$router.push({name:"Depreciation"})},MovetoTransferredList:function(){this.$router.push({name:"TransferredItemsList"})},ImportProduct:function(){var t=this;"CA"==t.UserType?o["a"].CheckPrivilege(t.privilegeParams+"ImportAssetItem").then(e=>{e.data?t.$router.push({name:"ImportAssetitem"}):t.ShowAlert(t.$t("NotAuthorizedSection"),"failure",!0,"Alert")}):t.$router.push({name:"ImportAssetitem"})},AddRelationShipPopup(){o["a"].CheckPrivilege(this.privilegeParams+"AddRelationship").then(t=>{1==t.data?this.IsShowRelation=!0:this.ShowAlert(this.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},CloseAddRelationShipPopup(){var t=this;t.FetchData(),t.IsShowRelation=!1},OpenClonePopup(t){var e=this;e.AssetCatCloneId=t,e.ShowClonePopup=!0},OpenViewFilePopup(t){var e=this;o["a"].CheckPrivilege(e.privilegeParams+"ViewFiles").then(a=>{a.data?(e.AssetDetails=t,e.ShowViewFilePopup=!0):e.ShowAlert(e.$t("NotAuthorizedSection"),"failure",!0,"Alert")})},actionButtonClick(t,e){var a=this;switch(t){case"ProductList":a.ProductList();break;case"OpenClonePopup":a.OpenClonePopup(e.ASSET_CATALOGUE_ID);break;case"OpenViewFilePopup":a.OpenViewFilePopup(e);break}},checkboxSetting(){$("#DeleteMultiple").addClass("disabled"),$(".chkItems").change((function(){$("#tablelistingdata tbody .chkItems").each((function(t,e){$(this).prop("checked")&&$("#DeleteMultiple").removeClass("disabled")})),$("#tablelistingdata tbody tr input ").not(":disabled").length==$("#tablelistingdata tbody tr :checked").length?$("#tablelistingdata thead input:checkbox").prop("checked",!0):$("#tablelistingdata thead input:checkbox").prop("checked",!1)}))},CloseClonePopup(){var t=this;t.ShowClonePopup=!1},ClosePOPuP(t){var e=this;e.ShowCheckAvailablity=!1},CloseRelatedProductsPopup(){var t=this;t.ShowRelatedProducts=!1},CloseViewFilePopup(){var t=this;t.ShowViewFilePopup=!1},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},renderActions(t){var e=this;let a=[];return e.listActions.forEach(e=>{let s={...e};switch(s.title){case"Edit":s.isVisible=!0;break;case"Clone":s.isVisible=!0;break;case"Detail Products History":s.isVisible=!0;break;case"View attached file(s)":0==t.FILECOUNT&&(s.isDisabled=!0);break;default:s.isVisible=!0;break}a.push(s)}),a}},updated:function(){this.BindActionButtonEvent()}},O=U,R=(a("38ec"),Object(f["a"])(O,s,i,!1,null,null,null));e["default"]=R.exports}}]);
//# sourceMappingURL=chunk-59110af5.js.map