(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-984a7ac0"],{"08dd":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.flowfsm .formsfieldmainunique_condition div.innercontbase{width:100%}.flowfsm .formsfieldmainunique_condition div.innercont{width:200px}.flowfsm .fc_parentchild .div-li p.shape_oval{margin:-4px 0 0 295px}.flowfsm .fc_parentchild .div-li.arrowdown{background-position:bottom}.flowfsm .fc_parentchild .div-li a i{font-size:2em!important}.customddl,.customddl:focus{margin-top:32px;padding:5px 15px 5px 1px!important;width:70%!important;margin-left:15px;background-color:#f9d99b;border:1px solid #c89025;color:#604106;font-size:12px}.fc_parentchild .div-li{margin-bottom:1px!important}.multiselect-container{min-height:150px}.minheight310{min-height:310px!important}.multiselect-native-select .btn-group .dropdown-menu{width:200px!important}.sourcediv select{width:47%;margin-right:5px;float:left}.sourcediv.innercont.innercontSource select{width:90%}.outer{padding:50px 10px}.bg-none{background-image:none!important}select#ddlwarningMessageTypeId{width:100%!important;padding:8px 15px 5px 11px!important;margin-left:0;background-color:#f9d99b;border:1px solid #c89025;color:#604106;font-size:12px;margin-top:0}div#divruleflowdatafsmshow{min-width:100%}.bg-color-yellow{background-color:#fbedb7}.flowfsm .fc_parentchild .arrowdown{background-position:50% bottom}#divRuleTargetResultAddDialog .fc_parentchild .arrowdown{background-image:url(/Content/OrganizationChart/FlowChart_DownArrow_90.png);background-repeat:no-repeat;padding-bottom:40px}.formsfieldmainunique_condition{margin-top:0!important}.fc_parentchild .arrowdown{width:auto;height:auto;display:block;clear:both;margin-bottom:60px;position:relative}div#li_0 .innercontbase{width:100%}div#li_0 .innercont{min-width:100%}div#divruleflowdatafsmshow .arrowdown{margin-bottom:20px}.f30{font-size:30px}.fc_parentchild li{margin-bottom:0!important}.flowfsm .fc_parentchild .div-li.arrowdown:last-child:after{display:none}#divruleflowdatafsmshow .fc_parentchild .arrowdown{background-image:url(/Content/OrganizationChart/FlowChart_DownArrow_90.png)!important;background-repeat:no-repeat!important;padding-bottom:40px!important}#divruleflowdatafsmshow .fc_parentchild .AndClass:before{content:"And";position:absolute;left:50%;margin-left:-15px;bottom:-20px}.hs_tag_general .multiselect{padding-top:10px;padding-left:0;padding-right:0;float:left;border:1px solid #c8c8c8!important}.hs_tag_general .multiselect.tt_bod-right{border-right:none!important;width:100%;box-sizing:border-box!important;min-height:calc(2.12rem + 4px)!important;padding-top:5px!important}.hs_tag_general .multiselect__select{top:0!important}.hs_tag_general .multiselect__select:before{z-index:9!important}.hs_tag_general .multiselect__tags{border:none!important}.hs_tag_general .multiselect__content-wrapper{top:0;border-radius:0!important;position:relative}.tt_ddr_01 ul.multiselect__content{width:100%;overflow-x:hidden}.tt_ddr_01 ul.multiselect__content li{margin:10px 7px;width:100%;color:#505050}.tt_ddr_01 ul.multiselect__content li span.multiselect__option{white-space:normal;padding:4px 12px;min-height:24px;font-size:14px}.tt_ddr_01 .multiselect__content-wrapper{border-radius:0}.tt_ddr_01 ul.multiselect__content li:nth-child(4n+1){border-left:3px solid #6ac1ff}.tt_ddr_01 ul.multiselect__content li:nth-child(4n+2){border-left:3px solid #da9c49}.tt_ddr_01 ul.multiselect__content li:nth-child(4n+3){border-left:3px solid #e44d2e}.tt_ddr_01 ul.multiselect__content li:nth-child(4n+4){border-left:3px solid #3f51b5}.multiselect.form-group.is-invalid{border:1px solid red!important}',""]),e.exports=t},1836:function(e,t,a){"use strict";a("44f2")},"44f2":function(e,t,a){var i=a("93ab");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var l=a("499e").default;l("cd2fcd94",i,!0,{sourceMap:!1,shadowMode:!1})},9140:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("section",{staticClass:"main-content"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 padding-t_8"},[t("div",{staticClass:"theme-primary partition-full"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("AddRule")))])])])])]),t("div",{staticClass:"border p-3"},[t("dynamic-form",{ref:"RuleDataList",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-ApplyOnSLA",fn:function({data:a}){return[t("div",{staticClass:"div-scroll"},[e.isShowFlowChart?t("div",{staticClass:"outer DivRuleFlowDataShowCls flowchart-fix",attrs:{id:"divruleflowdatashow"}},[t("ul",{staticClass:"fc_parentchild"},[t("li",{staticClass:"arrowdown"},[t("p",{staticClass:"shape_oval shape_ovalwhen"},[t("span",[e._v("When")])]),t("ul",{staticClass:"fc_subchild fc_subchildWhen"},[t("li",{staticClass:"arrowright top50 m-0"},[t("div",{staticClass:"formsfieldmainunique"},[t("div",{staticClass:"parenthead"},[t("span",{staticClass:"text"},[e._v("When do you want to execute the rule () ?")]),t("span",{class:{icon:!0,"d-none":!e.isShowBackIcon},attrs:{title:"Back","data-event":"hide"},on:{click:e.GotoBack}})]),t("div",{class:{childdivsunique_edit:!0,"d-none":!e.isShowEdit}},[t("div",{staticClass:"childdivsuniqueheader"},[t("span",[e._v("Routing: "+e._s(e.SelectedRouting)+" ")])]),t("div",{staticClass:"childdivediticon_unique textalignright d-block"},[t("a",{staticClass:"d-block"},[t("div",{staticClass:"iconedit_unique",on:{click:e.EditTarget}})])])]),t("div",{class:{childdivsunique_base:!0,"d-none":e.isShowEdit}},e._l(e.RuleEventList,(function(a,i){return t("div",{key:i,staticClass:"childdivsunique childdivsunique_HS color757575"},[t("input",{staticClass:"clsradioevent d-block",staticStyle:{display:"none"},attrs:{type:"radio",name:"radioevent"},on:{change:function(t){return e.OnChangeEvent(a,null,null)}}}),t("label",{staticClass:"offrd"}),t("span",[e._v(e._s(a.EVENT_NAME))])])})),0)])])])]),e._l(e.AddDeleteTarget,(function(a,i){return e.AddDeleteTarget.length>0?[t("li",{staticClass:"clstargetadd arrowdown",attrs:{id:"li_"+i,"data-eventid":a.RULE_EVENT_ID}},[t("p",{staticClass:"shape_polygan"},[t("span",[e._v(e._s(e.$t("Target")))]),t("span",{staticClass:"delete",attrs:{title:"Click here to delete Target"},on:{click:function(t){return e.DeleteTarget(i)}}})]),t("ul",{staticClass:"fc_subchild"},[""==a.TargetRuleCondition?t("li",{staticClass:"arrowright",attrs:{id:"litarger_"+i}},[t("p",{staticClass:"shape_btn"},[t("a",{staticClass:"addtarget_btn",on:{click:function(t){return e.AddTarget(i)}}},[e._v(e._s(e.$t("AddTarget")))])])]):e._e(),""!=a.TargetRuleCondition?t("li",{staticClass:"arrowright",attrs:{id:"litarger_"+i}},[t("div",{staticClass:"formsfieldmainunique_condition"},[t("div",{staticClass:"innercontbase"},[t("div",{staticClass:"innercont"},[e._v(e._s(a.TargetRuleCondition)+" ")]),t("div",{staticClass:"inneredit d-block"},[t("a",{staticClass:"d-block"},[t("div",{staticClass:"iconedit_unique",on:{click:function(t){return e.EditTargetCondition(a.TargetRuleCondition,a.TargetData,a.TargetRuleDataBaseCondition,i)}}})])])])])]):e._e(),""==a.ResultCondition&&""!=a.TargetRuleCondition?t("li",{staticClass:"arrowright",attrs:{id:"litarger_"+i}},[t("p",{staticClass:"shape_btn"},[t("a",{staticClass:"addtarget_btn targetresult",on:{click:function(t){return e.AddResult(i)}}},[e._v(e._s(e.$t("AddResult")))])])]):e._e(),""!=a.ResultCondition?t("li",{staticClass:"arrowright",attrs:{id:"litarger_"+i}},[t("p",{staticClass:"shape_oval"},[t("span",{staticClass:"results",staticStyle:{"white-space":"nowrap"},attrs:{title:"ResultType: "+a.ResultCondition}},[e._v(e._s(e.$t("ResultType"))+":"+e._s(a.ResultCondition))]),t("input",{staticClass:"hdnTargetsResultText",attrs:{type:"hidden",value:""}}),t("a",{staticClass:"resulteditlink mt-3",attrs:{title:"Click here to edit Target Result"},on:{click:function(t){return e.EdiResultCondition(a.ruleResultEditDataArray,i)}}})])]):e._e()])])]:e._e()})),e.isShowAddMoreTarget?t("li",{staticClass:"arrowdown"},[t("p",{staticClass:"shape_roundbtn",attrs:{title:"Click here to add new Target"},on:{click:e.AddMoreTarget}},[t("span",[e._v("+")])])]):e._e()],2)]):e._e()])]}}])})],1),e.isShowTargetModal?t("addtarget",{attrs:{acionId:e.ActionId,eventIds:"",TargetIndex:e.TargetIndex,moduleName:e.ModuleName,TargetConditionData:e.TargetConditionData},on:{close:function(t){e.isShowTargetModal=!1},GetformFields:e.GetformFields}}):e._e(),e.isShowResultModal?t("addResult",{attrs:{acionId:e.ActionId,ResultIndex:e.ResultIndex,ruleResultEditDataArray:e.ruleResultEditDataArray,eventId:e.EventId,moduleGroupId:e.moduleGroupId,moduleName:e.ModuleName},on:{GetformResultFields:e.GetformResultFields,close:function(t){e.isShowResultModal=!1}}}):e._e()],1)},l=[],n=(a("14d9"),a("9769")),o=a("4833"),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Result")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("span",{staticClass:"user-guide"},[t("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t("em",{staticClass:"fa fa-files-o pr-2"}),e._v(e._s(e.$t("GuideForUser")))]),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("UgAddResultTarget"))}})])])])]),t("div",{staticClass:"modal-body"},[t("Form",{ref:"ManageRuleEngineResultTarget"},[e._l(e.Mainleveldiv,(function(a,i){return t("div",{key:i,staticClass:"DivRuleFlowDataShowCls flowfsm",attrs:{id:"divruleflowdatafsmshow"}},[t("div",{staticClass:"fc_parentchild"},[t("div",{staticClass:"row"},[0==i?t("div",{staticClass:"col-md-12 arrowdown"},[t("div",{staticClass:"py-3 px-3 bg-color-yellow"},[t("Field",{attrs:{name:"ddlwarningMessageTypeId",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:e.WarningMessageTypeId,expression:"WarningMessageTypeId"}],class:{"form-control customddl ddlwarningMessageTypeId inline-block text-truncate":!0,"is-invalid":a[0]},attrs:{id:"ddlwarningMessageTypeId",name:"ddlwarningMessageTypeId"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.WarningMessageTypeId=t.target.multiple?a:a[0]},function(t){return e.OnChangeEvent(e.items,t,i)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.GetEventResultTypeDropdown,(function(a){return t("option",{domProps:{value:a.value}},[e._v(" "+e._s(e.$t(a.text))+" ")])}))],2)]}}],null,!0)})],1)]):e._e()]),t("div",{staticClass:"clstargetadd div-li mt-4 float-left w-100",class:a.arrowClass,attrs:{id:"li_0"}},[t("div",{staticClass:"formsfieldmainunique_condition"},[t("div",{staticClass:"innercontbase p-3"},[e.ShowSendResponsediv?t("div",{staticClass:"row"},[1==e.IsShowdisableField?t("div",{staticClass:"col-md-6"},[1==e.CheckExtraFeatures?t("div",{staticClass:"w-100 float-left"},[t("Field",{attrs:{name:"TargetSelectValue"+i,rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.TargetSelectValue,expression:"item.TargetSelectValue"}],class:{"form-control ddlresultCriteria":!0,"is-invalid":i[0]},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"TargetSelectValue",t.target.multiple?i:i[0])},function(t){return e.OnChangeField(e.items,t)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),t("option",{attrs:{value:"offhours"}},[e._v(e._s(e.$t("BasedOnOffHours"))+" ")]),t("option",{attrs:{value:"department"}},[e._v(e._s(e.$t("Department"))+" ")]),t("option",{attrs:{value:"experience"}},[e._v(e._s(e.$t("Experience"))+" ")]),t("option",{attrs:{value:"serviceboard"}},[e._v(e._s(e.$t("ServiceBoard"))+" ")]),t("option",{attrs:{value:"skill"}},[e._v(e._s(e.$t("Skill"))+" ")]),t("option",{attrs:{value:"User"}},[e._v(e._s(e.$t("Users/Technician"))+" ")])])]}}],null,!0)})],1):e._e(),0==e.CheckExtraFeatures?t("div",{staticClass:"w-100 float-left"},[t("Field",{attrs:{name:"TargetSelectValue"+i,rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:l}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.TargetSelectValue,expression:"item.TargetSelectValue"}],class:{"form-control ddlresultCriteria":!0,"is-invalid":l[0]},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"TargetSelectValue",t.target.multiple?i:i[0])},function(t){return e.OnChangeField(e.items,t,i)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),t("option",{attrs:{value:"offhours"}},[e._v(e._s(e.$t("BasedOnOffHours"))+" ")]),t("option",{attrs:{value:"department"}},[e._v(e._s(e.$t("Department"))+" ")]),t("option",{attrs:{value:"experience"}},[e._v(e._s(e.$t("Experience"))+" ")]),t("option",{attrs:{value:"locatorarea"}},[e._v(e._s(e.$t("LocatorArea"))+" ")]),t("option",{attrs:{value:"serviceboard"}},[e._v(e._s(e.$t("ServiceBoard"))+" ")]),t("option",{attrs:{value:"skill"}},[e._v(e._s(e.$t("Skill"))+" ")]),t("option",{attrs:{value:"User"}},[e._v(e._s(e.$t("Users/Technician"))+" ")])])]}}],null,!0)})],1):e._e()]):e._e(),0==e.IsShowdisableField?t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"w-100 float-left"},[t("select",{staticClass:"form-control ddlresultCriteria disabled",attrs:{disabled:"disabled"}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),t("option",{attrs:{value:"offhours"}},[e._v(e._s(e.$t("BasedOnOffHours"))+" ")]),t("option",{attrs:{value:"department"}},[e._v(e._s(e.$t("Department")))]),t("option",{attrs:{value:"experience"}},[e._v(e._s(e.$t("Experience")))]),t("option",{attrs:{value:"locatorarea"}},[e._v(e._s(e.$t("LocatorArea")))]),t("option",{attrs:{value:"serviceboard"}},[e._v(e._s(e.$t("ServiceBoard"))+" ")]),t("option",{attrs:{value:"skill"}},[e._v(e._s(e.$t("Skill"))+" ")]),t("option",{attrs:{value:"User",selected:""}},[e._v(e._s(e.$t("Users/Technician"))+" ")])])])]):e._e(),1==e.SelectAssignTo?t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"input-group"},[t("Field",{attrs:{name:"selectedValue"+i,rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[e.IsShowDdlTarget?t("select",{directives:[{name:"model",rawName:"v-model",value:a.selectedValue,expression:"item.selectedValue"}],class:{"form-control ddlTargetResult":!0,"is-invalid":i[0]},attrs:{"data-id":"1",id:"ddl_1"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"selectedValue",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(a.DDlType,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(e.$t(a.text))+" ")])}))],2):e._e()]}}],null,!0)}),e.IsShowAddBtn&&0==i?t("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[t("a",{staticClass:"d-block ancaddresultrow",staticStyle:{cursor:"pointer"},attrs:{"data-placement":"left","data-index":"0",href:"javascript:;",title:"Add"},on:{click:function(t){return e.AddMoreData()}}},[t("i",{staticClass:"fa f30 fa-plus-circle"})])]):e._e(),0!=i?t("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[t("a",{staticClass:"btn btn-danger text-white deleteresultrow",attrs:{id:"idd_2",title:"Delete"},on:{click:function(t){return e.DeleteUser(i)}}},[t("i",{staticClass:"fa f30 fa-minus-circle"})])]):e._e()],1)]):e._e(),0==e.SelectAssignTo?t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"hs_tag_general tagsModals"},[t("Field",{attrs:{name:"selectedValue",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("multiselect",{class:{"form-group tt_ddr_01 col tt_bod-right ddlfirstfield":!0,"is-invalid":a[0]},attrs:{id:"ddlfirstfield",limit:1,name:"ddlfirstfield",label:"text","track-by":"value",options:e.GetCompanyUserByCompanyId,multiple:!0,taggable:!0},model:{value:e.SelectedUser,callback:function(t){e.SelectedUser=t},expression:"SelectedUser"}}),a[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"selectedValue"}},[e._v(e._s(a[0]))]):e._e()]}}],null,!0)})],1)]):e._e()]):e._e(),0==e.SelectAssignTo&&e.ShowSendResponsediv?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"w-100 float-left"},[e.IsShowDdlTarget?t("select",{directives:[{name:"model",rawName:"v-model",value:e.EmailTemplate,expression:"EmailTemplate"}],staticClass:"form-control ddlTargetResult",attrs:{"data-id":"1",id:"ddl_1"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.EmailTemplate=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("SelectEmailTemplate")))]),e._l(e.GetEmailTemplateDDlList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(e.$t(a.text))+" ")])}))],2):e._e()])]),e.SelectCloseTicketTo?t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"w-100 float-left"},[e.IsShowDdlTarget?t("select",{directives:[{name:"model",rawName:"v-model",value:e.NotificationList,expression:"NotificationList"}],staticClass:"form-control ddlTargetResult",attrs:{"data-id":"1",id:"ddl_1"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.NotificationList=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("SelectManageNotifications")))]),e._l(e.GetNotificationDDlList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(e.$t(a.text))+" ")])}))],2):e._e()])]):e._e()]):e._e()]),t("div",{staticStyle:{clear:"both"}})]),t("div",{staticStyle:{clear:"both"}})])])])})),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 text-right mt-3"},[t("a",{staticClass:"btn btn-success mr-2 mt-3",attrs:{id:"btnSaveTargetResult",title:"Save"},on:{click:e.btnSaveTargetResult}},[t("i",{staticClass:"fa fa-save pr-2"}),t("span",[e._v(e._s(e.$t("Save")))])]),t("a",{staticClass:"btn btn-danger mt-3",attrs:{id:"ancTargetResultDialog",title:"Cancel"},on:{click:function(t){return e.Close()}}},[t("i",{staticClass:"fa fa-close pr-2"}),t("span",[e._v(e._s(e.$t("Cancel")))])])])])],2)],1)])])])],1)},s=[],d={props:{acionId:{type:String,required:!0},eventId:{type:Number,required:!0},moduleGroupId:{type:String,required:!0},moduleName:{type:String,required:!0},ruleResultEditDataArray:{type:Array,required:!0},ResultIndex:{type:Number,required:!0}},data(){return{isLoading:!1,CheckExtraFeatures:!1,GetEventResultTypeDropdown:[],Mainleveldiv:[{selectedValue:"",DDlType:"",TargetSelectValue:"",arrowClass:""}],GetDepartmentListbyCompanyForClient:[],GetSkillTypeList:[],GetExpierenceTypeList:[],GetTicketChainList:[],GetCompanyUserByCompanyId:[],GetEmailTemplateDDlList:[],GetNotificationDDlList:[],SelectedUser:[],IsShowDdlTarget:!0,IsShowAddBtn:!0,SelectAssignTo:!0,SelectCloseTicketTo:!1,ShowSendResponsediv:!0,IsShowdisableField:!0,WarningMessageTypeId:"",EmailTemplate:"",NotificationList:"",selectedMessegeName:"",IsSelectedValue:""}},created:async function(){var e=this;await e.GetEventResultType(e.eventId),await e.CheckFeaturesForCompany(),await e.FetchData(),this.GetSkillListing(),this.GetResolveTicketListing(),await e.GetEditResultCondition()},methods:{FetchData:async function(){var e=this,t=`actionId=${e.moduleGroupId}&eventids=${e.eventids}&moduleName=${e.moduleName}`;await n["a"].AddTarget(t).then((function(t){let a=[];a=t.data.GetTicketChainForDropdownListByCompanyId,a.forEach((t,a)=>{e.GetTicketChainList.push({value:t.ticket_chain_id,text:t.ticket_chain_name})});let i=[];i=t.data.GetExperienceList,i.forEach((t,a)=>{e.GetExpierenceTypeList.push({value:t.ID,text:t.EXPERIENCE})});let l=[];l=t.data.GetEmailTemplateList,l.forEach((t,a)=>{e.GetEmailTemplateDDlList.push({value:t.TEMPLATE_ID,text:t.TEMPLATE_NAME})});let n=[];n=t.data.GetNotificationType,n.forEach((t,a)=>{e.GetNotificationDDlList.push({value:t.ID,text:t.TYPE_NAME})});let o=[];o=t.data.GetDepartmentListbyCompanyForClient.result,null!=o&&o.forEach((t,a)=>{e.GetDepartmentListbyCompanyForClient.push({value:t.departmenT_ID,text:t.departmenT_NAME})})}))},CheckFeaturesForCompany:async function(){var e=this,t="featureCode=ACCOUNTSETUP";await n["a"].CheckExtraFeatures(t).then((function(t){1==t.data?e.CheckExtraFeatures=!0:e.CheckExtraFeatures=!1}))},GetSkillListing:async function(){var e=this,t="id=&&moduleName=FSM&type=USER_SKILLS&search=&refId=";await n["a"].GetDDLDataFSM(t).then((function(t){if(t.data){var a=t.data;null!=a&&t.data.result.DATA.forEach((t,a)=>{e.GetSkillTypeList.push({value:t.value,text:t.name})})}}))},GetResolveTicketListing:async function(){var e=this,t="departmentId=&skillId=";await n["a"].GetResolveTicketUserList(t).then((function(t){if(t.data){var a=t.data;null!=a&&a.forEach((t,a)=>{e.GetCompanyUserByCompanyId.push({value:t.userId,text:t.userName})})}}))},GetEventResultType:async function(e){var t=this,a="eventId="+e;await n["a"].GetEventResultType(a).then((function(e){if(e.data){var a=e.data;null!=a&&a.forEach((e,a)=>{t.GetEventResultTypeDropdown.push({value:e.RESULT_ID,text:e.DISPLAY_NAME})})}}))},AddMoreData(){var e=this;e.Mainleveldiv[e.Mainleveldiv.length-1].arrowClass="arrowdown AndClass",e.Mainleveldiv.push({DDlType:"",TargetSelectValue:"",selectedValue:""})},DeleteUser:function(e){var t=this;t.Mainleveldiv.splice(e,1),t.Mainleveldiv[t.Mainleveldiv.length-1].arrowClass=""},OnChangeField:async function(e,t,a){var i=this,l=t.target.value,n=!0,o=[];i.Mainleveldiv.forEach((e,t)=>{e.TargetSelectValue==l?(o.push({selectValue:e.TargetSelectValue}),o.length>1&&(n=!1)):n=!0}),1==n?(i.IsShowDdlTarget=!0,"department"==l?(i.Mainleveldiv[a].DDlType=i.GetDepartmentListbyCompanyForClient,i.IsShowAddBtn=!0):"skill"==l?(i.Mainleveldiv[a].DDlType=i.GetSkillTypeList,i.IsShowAddBtn=!0):"experience"==l?(i.Mainleveldiv[a].DDlType=i.GetExpierenceTypeList,i.IsShowAddBtn=!0):"serviceboard"==l?(i.Mainleveldiv[a].DDlType=i.GetTicketChainList,i.IsShowAddBtn=!0):"User"==l?a>0?(i.Mainleveldiv[a].TargetSelectValue="",i.ShowAlert(i.$t("cannotcombineresultconditions"),"warning",!0,i.$t("Alert"))):(i.Mainleveldiv[a].DDlType=i.GetCompanyUserByCompanyId,i.IsShowAddBtn=!0):"locatorarea"!=l&&"offhours"!=l||(i.IsSelectedValue=l,a>0?(i.Mainleveldiv[a].TargetSelectValue="",i.Mainleveldiv[a].DDlType="",i.ShowAlert(i.$t("cannotcombineresultconditions"),"warning",!0,i.$t("Alert"))):(i.Mainleveldiv[a].DDlType="",i.IsShowDdlTarget=!1,i.IsShowAddBtn=!1))):(i.Mainleveldiv[a].TargetSelectValue="",i.ShowAlert(i.$t("ServiceSameFieldMessage"),"failure",!0,i.$t("Alert")))},OnChangeEvent:async function(e,t){var a=this;a.WarningMessageTypeId=t.target.value;var i=t.target.selectedOptions[0].innerHTML.trim();a.selectedMessegeName=i,"Send Email Notification"==i?(a.ShowSendResponsediv=!0,a.SelectAssignTo=!1,a.SelectCloseTicketTo=!0,a.IsShowdisableField=!1,a.Mainleveldiv=[{selectedValue:"",DDlType:a.GetCompanyUserByCompanyId,TargetSelectValue:"User"}]):"Close Ticket"==i?(a.ShowSendResponsediv=!0,a.SelectAssignTo=!1,a.SelectCloseTicketTo=!1,a.IsShowdisableField=!1,a.Mainleveldiv=[{selectedValue:"",DDlType:a.GetCompanyUserByCompanyId,TargetSelectValue:"User"}]):"Send Response To Call center"==i?(a.ShowSendResponsediv=!1,a.Mainleveldiv=[{selectedValue:"",DDlType:"",TargetSelectValue:""}]):"Assign To"!=i&&""!=i||(a.ShowSendResponsediv=!0,a.SelectAssignTo=!0,a.SelectCloseTicketTo=!0,a.IsShowdisableField=!0)},Close(){this.$emit("close")},GetEditResultCondition(){var e=this,t=e.ruleResultEditDataArray;"offhours"!=t[0].TargetSelectValue&&"locatorarea"!=t[0].TargetSelectValue||("offhours"==t[0].TargetSelectValue?e.IsSelectedValue="offhours":e.IsSelectedValue="locatorarea",e.IsShowDdlTarget=!1,e.IsShowAddBtn=!1),e.WarningMessageTypeId=t[0].WarningMessageTypeId,e.selectedMessegeName=t[0].WarningMessageTypeName,"Assign To"==e.selectedMessegeName||""==e.selectedMessegeName?(e.ShowSendResponsediv=!0,e.SelectAssignTo=!0,e.SelectCloseTicketTo=!0,e.IsShowdisableField=!0,null!=t&&""!=t&&t.forEach((t,a)=>{a>0&&e.Mainleveldiv.push({selectedValue:"",DDlType:"",TargetSelectValue:""}),e.Mainleveldiv[a].selectedValue=t.selectedValue,e.Mainleveldiv[a].DDlType=t.DDlType,e.Mainleveldiv[a].TargetSelectValue=t.TargetSelectValue})):"Close Ticket"==e.selectedMessegeName?(e.ShowSendResponsediv=!0,e.SelectAssignTo=!1,e.SelectCloseTicketTo=!1,e.IsShowdisableField=!1,null!=t&&""!=t&&t.forEach((t,a)=>{var i="",l=[];if(t.selectedValue.length>1)var n=t.selectedValue.split(",");else n=t.selectedValue;if(n.length>1)t.DDlType.forEach((e,t)=>{n.forEach((t,a)=>{t==e.value&&l.push(e)})}),i=l;else{var o={};o=t.DDlType.filter(e=>e.value==n);i=o}e.SelectedUser=i,e.EmailTemplate=t.ResultChainGroup,e.Mainleveldiv=[{selectedValue:e.SelectedUser,DDlType:e.GetCompanyUserByCompanyId,TargetSelectValue:"User"}]})):"Send Email Notification"==e.selectedMessegeName?(e.ShowSendResponsediv=!0,e.SelectAssignTo=!1,e.SelectCloseTicketTo=!0,e.IsShowdisableField=!1,null!=t&&""!=t&&t.forEach((t,a)=>{var i="",l=[];if(t.selectedValue.length>1)var n=t.selectedValue.split(",");else n=t.selectedValue;if(n.length>1)t.DDlType.forEach((e,t)=>{n.forEach((t,a)=>{t==e.value&&l.push(e)})}),i=l;else{var o={};o=t.DDlType.filter(e=>e.value==n);i=o}e.SelectedUser=i,e.EmailTemplate=t.ResultChainGroup,e.NotificationList=t.ResultOtherId,e.Mainleveldiv=[{selectedValue:e.SelectedUser,DDlType:e.GetCompanyUserByCompanyId,TargetSelectValue:"User"}]})):"Send Response To Call center"==e.selectedMessegeName&&(e.ShowSendResponsediv=!1)},btnSaveTargetResult(){var e=this,t=[],a=[],i="";""==e.WarningMessageTypeId&&e.ShowAlert(e.$t("WarningMessegeTypeReq"),"warning",!0,e.$t("Alert")),e.$refs.ManageRuleEngineResultTarget.validate().then(l=>{if(l||"offhours"==e.IsSelectedValue||"locatorarea"==e.IsSelectedValue||"Send Response To Call center"==e.selectedMessegeName){e.Mainleveldiv.forEach((l,n)=>{var o={};if("offhours"!=e.IsSelectedValue&&"locatorarea"!=e.IsSelectedValue)if("User"==l.TargetSelectValue)r="User";else{o=l.DDlType.filter(e=>e.value==l.selectedValue);var r=o[0].text}if(n>0&&(i+=e.$t("And")+" "),"department"==l.TargetSelectValue)i+=l.TargetSelectValue+" Equals to "+r+" ";else if("skill"==l.TargetSelectValue)i+=l.TargetSelectValue+" Equals to "+r+" ";else if("experience"==l.TargetSelectValue)i+=l.TargetSelectValue+" Equals to "+r+" ";else if("serviceboard"==l.TargetSelectValue)i+=l.TargetSelectValue+" Equals to "+r+" ";else if("User"==l.TargetSelectValue)if("Send Email Notification"==e.selectedMessegeName||"Close Ticket"==e.selectedMessegeName){var s="";e.SelectedUser.forEach((e,t)=>{0==t?s=e.text:s+=","+e.text}),i+=l.TargetSelectValue+" Equals to "+s+" "}else{o=l.DDlType.filter(e=>e.value==l.selectedValue);r=o[0].text;i+=l.TargetSelectValue+" Equals to "+r+" "}else"offhours"==l.TargetSelectValue?i+="Based On Off Hours":"locatorarea"==l.TargetSelectValue&&(i+="Locator Area");var d=null,c=null,u="";if("Send Email Notification"!=e.selectedMessegeName&&"Close Ticket"!=e.selectedMessegeName&&(u=l.selectedValue),"serviceboard"==r)d=e.EmailTemplate;else if("Send Email Notification"==e.selectedMessegeName||"Close Ticket"==e.selectedMessegeName){d=e.EmailTemplate,c=e.NotificationList;var p="";e.SelectedUser.forEach((e,t)=>{0==t?p=e.value:p+=","+e.value}),u=p}var g={WarningMessageTypeId:e.WarningMessageTypeId,ResultChainIds:u,ResultType:l.TargetSelectValue,ResultChainGroup:d,ResultOtherId:c};t.push(g);var h={WarningMessageTypeName:e.selectedMessegeName,WarningMessageTypeId:e.WarningMessageTypeId,selectedValue:u,DDlType:l.DDlType,TargetSelectValue:l.TargetSelectValue,ResultChainGroup:d,ResultOtherId:c};a.push(h)});var n=void 0==e.ResultIndex?0:e.ResultIndex;e.$emit("GetformResultFields",t,i,a,n),e.Close()}})}}},c=d,u=(a("a549"),a("2877")),p=Object(u["a"])(c,r,s,!1,null,null,null),g=p.exports,h={components:{addtarget:o["a"],addResult:g},data(){return{isLoading:!1,ModuleList:[],RuleEventList:[],EventId:0,TargetIndex:0,ResultIndex:0,moduleGroupId:0,AddDeleteTarget:[],isShowFlowChart:!1,isShowEdit:!1,isShowBackIcon:!1,SelectedRouting:"",isShowTargetModal:!1,TargetConditionData:[],ResultConditionData:[],isShowResultModal:!1,isShowAddMoreTarget:!1,ModuleName:"",ActionId:0,FormSchema:[{layoutType:"triple",Data:[{astype:"TextField",label:this.$t("RuleName"),name:"RuleName",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("moduleName"),name:"SelectModule",value:"",config:{options:[],showAddIcon:!1,onChange:this.onChangeDropdown},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("ActionName"),name:"SelectAction",value:"",config:{options:[],showAddIcon:!1,onChange:this.OnChangeRuleAction},validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:"Enter Description",validationRules:"required",config:{rows:5}}]},{layoutType:"single",Data:[{astype:"slotField",label:"",name:"ApplyOnSLA",value:"",placeholder:"",validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancel}],GetDDLTicketCategoryByCompanyId:[],GetCompanyClientByCompanyId:[],GetCompanyUserByCompanyId:[],SlaProductList:[],GetDepartmentListbyCompanyForClient:[],YesorNoList:[],GetDDLTicketZoneByCompanyId:[],GetWorkTypeList:[],GetSkillTypeList:[],GetExpierenceTypeList:[],GetTicketChainList:[]}},created:async function(){var e=this;e.ModuleGroupNameList(),await e.GetWorkTypeListing(),this.$route.params.id>0&&e.GetRuleDetailByRuleId(this.$route.params.id)},methods:{onSubmit:function(e,t){var a=this;a.buttons[0].class+=" disabled";var i=[],l="";if(0==a.AddDeleteTarget.length)return a.ShowAlert(a.$t("SlaWhenAlertMessage"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",!1;if(a.AddDeleteTarget.forEach(e=>{var t=[],n=[];if(""==e.TargetData)return a.ShowAlert(a.$t("TargetResultRequired"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",l="no",!1;if(e.TargetData.forEach((a,i)=>{var l="",n="";null!=a.multiselector&&""!=a.multiselector?(a.multiselector.forEach((e,t)=>{0==t?l=e.value:l+=","+e.value}),n=l):n=a.selectorField;var o={TargetId:i+1,OpeningBrackets:"(",FieldValue:n,FieldSecondValue:a.TextTypeField,ClosingBrackets:")",RelationWithParent:a.condition,FieldId:a.RuleTarget,OperatorId:a.OperatorId,RuleCondition:e.TargetRuleCondition,RuleDatabaseCondition:e.TargetRuleDataBaseCondition,RuleTargetResultCondition:e.ResultCondition,IsTime:0};t.push(o)}),""==e.ruleTargetResultData)return a.ShowAlert(a.$t("TargetResultRequired"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",l="no",!1;e.ruleTargetResultData.forEach((e,t)=>{var a={ResultChainGroup:e.ResultChainGroup,ResultChainIds:e.ResultChainIds,ResultOtherId:e.ResultOtherId,ResultType:e.ResultType,WarningMessageTypeId:e.WarningMessageTypeId};n.push(a)});var o={RuleTargetList:t,RuleTargetResult:n};i.push(o)}),"no"==l)return a.buttons[0].class="btn btn-success",!1;var o={RuleId:void 0==this.$route.params.id?0:this.$route.params.id,RuleName:e.RuleName,ModuleId:e.SelectModule,Description:e.Description,ActionId:e.SelectAction,RuleTarget:i,EventId:a.EventId,IsForSla:0},r=JSON.stringify(o);n["a"].SaveRuleEngine(r).then(e=>{if(0==e.data.STATUS_CODE){e.data.RULE_ID;a.$route.params.id>0?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("RuleEngine")]),"success",!0,a.$t("Alert")),a.onCancel()):a.ShowAlert(a.$t("AddedSuccess",[a.$t("RuleEngine")]),"success",!0,a.$t("Alert")),a.onCancel(),a.$parent.FetchData()}else a.ShowAlert(a.$t("AddedError",[a.$t("Policy")]),"failure",!0,a.$t("Alert")),a.onCancel()})},GetWorkTypeListing:async function(){var e=this,t="id=&&moduleName=FSM&type=FSM_WORKTYPE&search=&refId=";await n["a"].GetDDLDataFSM(t).then((function(t){if(t.data){var a=t.data;null!=a&&t.data.result.DATA.forEach((t,a)=>{e.GetWorkTypeList.push({value:t.value,text:t.name})})}}))},GetSkillListing:async function(){var e=this,t="id=&&moduleName=FSM&type=USER_SKILLS&search=&refId=";await n["a"].GetDDLDataFSM(t).then((function(t){if(t.data){var a=t.data;null!=a&&t.data.result.DATA.forEach((t,a)=>{e.GetSkillTypeList.push({value:t.value,text:t.name})})}}))},GetRuleDetailByRuleId:async function(e){var t=this,a=`actionId=${t.ActionId}&eventids=""&moduleName=${t.moduleName}`;await n["a"].AddTarget(a).then((function(e){t.YesorNoList=e.data.YesNoList;let a=[];a=e.data.companyUserByCompanyId,null!=a&&a.forEach((e,a)=>{t.GetCompanyUserByCompanyId.push({value:e.USERID,text:e.USERNAME})});let i=[];i=e.data.GetExperienceList,null!=i&&i.forEach((e,a)=>{t.GetExpierenceTypeList.push({value:e.ID,text:e.EXPERIENCE})});let l=[];l=e.data.GetTicketChainForDropdownListByCompanyId,null!=l&&l.forEach((e,a)=>{t.GetTicketChainList.push({value:e.ticket_chain_id,text:e.ticket_chain_name})});let n=[];n=e.data.GetDDLTicketCategoryByCompanyId,null!=n&&n.forEach((e,a)=>{t.GetDDLTicketCategoryByCompanyId.push({value:e.value,text:e.name})});let o=[];o=e.data.GetCompanyClientByCompanyId.result,null!=o&&o.forEach((e,a)=>{t.GetCompanyClientByCompanyId.push({value:e.value,text:e.name})});let r=[];r=e.data.ProductsList.result,null!=r&&r.forEach((e,a)=>{t.SlaProductList.push({value:e.value,text:e.name})});let s=[];s=e.data.GetDepartmentListbyCompanyForClient.result,null!=s&&s.forEach((e,a)=>{t.GetDepartmentListbyCompanyForClient.push({value:e.departmenT_ID,text:e.departmenT_NAME})});let d=[];d=e.data.GetDDLTicketZoneByCompanyId,null!=d&&d.forEach((e,a)=>{t.GetDDLTicketZoneByCompanyId.push({value:e.ZONE_ID,text:e.ZONE_NAME})})}));a="id="+e;await n["a"].GetRuleDetaildByRuleId(a).then(e=>{this.onChangeDropdown(null,null,e.data[0].MODULE_GROUP_ID),t.ActionId=e.data[0].MODULE_ACTION_ID,t.EventId=e.data[0].ACTION_EVENT_ID;var a=`actionId=${e.data[0].MODULE_ACTION_ID}&eventids=${e.data[0].ACTION_EVENT_ID}`;n["a"].GetRuleActionFields(a).then((function(e){t.FieldsDropDownList=e.data}))}),await this.GetRuleEventItems(t.ActionId,0);var i={};i=t.RuleEventList.filter(e=>e.RULE_EVENT_ID==t.EventId);var l=i[0].EVENT_NAME;t.OnChangeEvent(null,t.EventId,l);a="fieldId=";await n["a"].GetOperators(a).then((function(e){t.NewOperatorListData=e.data}));a="id="+e;await n["a"].GetRuleDetaildByRuleId(a).then(e=>{if(e.data.length>0){t.FormSchema[0].Data[0].value=e.data[0].RULE_NAME,t.FormSchema[0].Data[1].value=e.data[0].MODULE_GROUP_ID,t.FormSchema[0].Data[2].value=e.data[0].MODULE_ACTION_ID,t.FormSchema[1].Data[0].value=e.data[0].RULE_DESCRIPTION,t.isShowFlowChart=!0;let n=[];t.EventId=e.data[0].ACTION_EVENT_ID,e.data.forEach(e=>{e.RULE_ID,e.RULE_NAME,e.MODULE_GROUP_ID;t.ActionId=e.MODULE_ACTION_ID;e.ACTION_EVENT_ID,e.RULE_DESCRIPTION;const a=e.TARGET_ID;n[a]||(n[a]={RuleTargetResult:[],RuleTargetList:[]});const i=e.RULE_RESULT_ID;n[a].RuleTargetResult.some(e=>e.RuleResultId===i)||n[a].RuleTargetResult.push({RuleResultId:i,WarningMessageTypeId:e.MESSAGE_TYPE_ID,ResultTemplateId:e.TEMPLATE_ID,IsSendToDefaultCA:e.IS_DEFAULT_CA?1:0,WarningMessage:e.RESULT_MESSAGE,RuleTargetResultType:e.TARGET_RESULT_TYPE,RuleTargetResultCode:e.RESULT_CODE,ResultChainIds:e.RESULT_CHAIN_ID,ResultChain:e.TARGET_RESULT_CHAIN,ResultType:e.RESULT_TYPE,ResultChainGroup:e.RESULT_CHAIN_GROUP_ID,ResultOtherId:e.RESULT_ID_OTHER});const l=e.TARGET_CONDITION_ID;n[a].RuleTargetList.some(e=>e.TargetConditionId===l)||n[a].RuleTargetList.push({TargetConditionId:l,FieldId:e.FIELD_ID,OperatorId:e.OPERATOR_ID,FieldValue:e.FIELD_VALUE,FieldSecondValue:e.FIELD_SECOND_VALUE,RelationWithParent:e.RELATION_WITH_PARENT,OpeningBrackets:e.OPENING_BRACKETS,OperatorExpression:e.OPERATOR_EXPRESSION,ClosingBrackets:e.CLOSING_BRACKETS,DataType:e.DATA_TYPE,RuleCondition:e.DISPLAY_CONDITION,RuleDatabaseCondition:e.DATABASE_CONDITION,RuleTargetResultCondition:e.TARGET_RESULT_CONDITION,IsTime:e.IS_TIME})});var a=[],i=[],l=[];n.forEach((e,n)=>{var o=[],r=[],s=[];t.AddDeleteTarget.push({RULE_EVENT_ID:"",ResultCondition:"",TargetData:[],TargetRuleCondition:"",TargetRuleDataBaseCondition:"",ruleResultEditDataArray:[],ruleTargetResultData:[]}),e.RuleTargetList.forEach((e,a)=>{var i="",l="",n="",r="",s="",d="",c="",u={},p=[];if(u=t.FieldsDropDownList.filter(t=>t.COLUMN_ID==e.FieldId),"category"==u[0].DISPLAY_NAME||"client"==u[0].DISPLAY_NAME||"Created By"==u[0].DISPLAY_NAME||"product"==u[0].DISPLAY_NAME||"department"==u[0].DISPLAY_NAME||"Is Field Service"==u[0].DISPLAY_NAME||"Ticket Area"==u[0].DISPLAY_NAME||"Type Of Work"==u[0].DISPLAY_NAME?(t.NewOperatorListData.forEach(e=>{"="==e.OPERATOR_EXPRESSION&&"bigint"==e.OPERATION_DATA_TYPE&&p.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION}),"IN"!=e.OPERATOR_EXPRESSION&&"NOT IN"!=e.OPERATOR_EXPRESSION||"nvarchar"!=e.OPERATION_DATA_TYPE||p.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION})}),c=p):(t.NewOperatorListData.forEach(e=>{"nvarchar"==e.OPERATION_DATA_TYPE&&p.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION})}),c=p),"Is Field Service"==u[0].DISPLAY_NAME&&(i="IsFieldService"),"="==e.OperatorExpression&&"bigint"==e.DataType?l="select":"IN"!=e.OperatorExpression&&"NOT IN"!=e.OperatorExpression||"bigint"!=e.DataType||(l="multiselect"),"nvarchar"==e.DataType&&"IsFieldService"!=i&&(n=null==e.FieldValue?e.FieldSecondValue:e.FieldValue),"bigint"==e.DataType&&"select"==l||"IsFieldService"==i){r=e.FieldValue;var g={};if("IsFieldService"==i){var h="no"==e.FieldValue?"No":"Yes";g=t.YesorNoList.filter(e=>e.text==h),r=g[0].value}}"bigint"==e.DataType&&"multiselect"==l&&(s=e.FieldValue),"bigint"==e.DataType&&"multiselect"==l&&(s=e.FieldValue),"category"==u[0].DISPLAY_NAME?d=t.GetDDLTicketCategoryByCompanyId:"client"==u[0].DISPLAY_NAME?d=t.GetCompanyClientByCompanyId:"Created By"==u[0].DISPLAY_NAME?d=t.GetCompanyUserByCompanyId:"product"==u[0].DISPLAY_NAME?d=t.SlaProductList:"department"==u[0].DISPLAY_NAME?d=t.GetDepartmentListbyCompanyForClient:"Is Field Service"==u[0].DISPLAY_NAME?(d=t.YesorNoList,i="IsFieldService"):d="Ticket Area"==u[0].DISPLAY_NAME?t.GetDDLTicketZoneByCompanyId:"Type Of Work"==u[0].DISPLAY_NAME?t.GetWorkTypeList:"";var f="",m="",v=[],_=s.split(",");if(_.length>0&&""!=_[0])""!=d&&d.forEach((e,t)=>{_.forEach((t,a)=>{t==e.value&&v.push(e)})}),m=v;else if(""!=r&&1==_.length){""!=d&&d.forEach((e,t)=>{e.text,f=e.value});f}var T={RuleTarget:e.FieldId,OperatorId:e.OperatorId,multiselector:m,selectorField:r,TextTypeField:n,DataType:e.DataType,DDlType:d,selectType:l,condition:e.RelationWithParent,selectedValue:i,OperatorDataList:c,ResultTargetCondition:e.RuleTargetResultCondition,TargetDatabaseCondition:e.RuleDatabaseCondition,TargetRuleCondition:e.RuleCondition};o.push(T)}),a.push(o),a.forEach((e,a)=>{t.AddDeleteTarget[a].TargetData=e,t.AddDeleteTarget[a].RULE_EVENT_ID=t.EventId,t.AddDeleteTarget[a].ResultCondition=e[0].ResultTargetCondition,t.AddDeleteTarget[a].TargetRuleDataBaseCondition=e[0].TargetDatabaseCondition,t.AddDeleteTarget[a].TargetRuleCondition=e[0].TargetRuleCondition}),e.RuleTargetResult.forEach((e,a)=>{var i="";"department"==e.ResultType?i=t.GetDepartmentListbyCompanyForClient:"skill"==e.ResultType?i=t.GetSkillTypeList:"experience"==e.ResultType?i=t.GetExpierenceTypeList:"serviceboard"==e.ResultType?i=t.GetTicketChainList:"User"==e.ResultType&&(i=t.GetCompanyUserByCompanyId);var l={DDlType:i,ResultChainGroup:e.ResultChainGroup,ResultOtherId:e.ResultOtherId,TargetSelectValue:e.ResultType,WarningMessageTypeId:e.WarningMessageTypeId,WarningMessageTypeName:e.RuleTargetResultType,selectedValue:e.ResultChainIds};s.push(l);var n={ResultChainGroup:e.ResultChainGroup,ResultOtherId:e.ResultOtherId,ResultType:e.ResultType,WarningMessageTypeId:e.WarningMessageTypeId,ResultChainIds:e.ResultChainIds};r.push(n)}),i.push(s),l.push(r),i.forEach((e,a)=>{t.AddDeleteTarget[a].ruleResultEditDataArray=e}),l.forEach((e,a)=>{t.AddDeleteTarget[a].ruleTargetResultData=e}),console.log("cfdsd",t.AddDeleteTarget)})}})},onCancel:function(){this.$router.push({name:"RuleEngine"})},onChangeDropdown:async function(e,t,a){var i=this;null==e?(i.moduleGroupId=a,i.ModuleName=i.ModuleList.filter(e=>e.value==a)[0].name,await i.GetRuleActionItems(a)):(i.moduleGroupId=e.target.value,i.ModuleName=i.ModuleList.filter(t=>t.value==e.target.value)[0].name,await i.GetRuleActionItems(e.target.value))},ModuleGroupNameList:async function(){var e=this;e.isLoading=!0,await n["a"].ModuleGroupNameList().then((function(t){e.ModuleList=[];var a=t.data;a.length>0&&a.forEach(t=>{let a={name:e.$t(t.MODULE_GROUP_NAME),value:t.MODULE_GROUP_ID};"Ticketing"==a.name&&e.ModuleList.push(a)}),e.FormSchema[0].Data[1].config.options=e.ModuleList.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1),e.$refs.RuleDataList.UpdateKeyValue(),e.isLoading=!1}))},GetformFields:async function(e,t,a,i){var l=this;l.AddDeleteTarget[i].TargetRuleCondition=t,l.AddDeleteTarget[i].TargetRuleDataBaseCondition=a,l.AddDeleteTarget[i].TargetData=e},GetformResultFields:async function(e,t,a,i){var l=this;l.isShowAddMoreTarget=!0,l.AddDeleteTarget[i].ruleResultEditDataArray=a,l.AddDeleteTarget[i].ruleTargetResultData=e,l.AddDeleteTarget[i].ResultCondition=t},GetRuleActionItems:async function(e){var t=this,a="groupId="+e;await n["a"].GetRuleActionItems(a).then((function(e){var a=[],i=e.data;i.length>0&&(i.forEach(e=>{let i={name:t.$t(e.DISPLAY_NAME),value:e.ACTION_ID,firstAttribute:e.MODULE_ID,secondAttribute:e.MODULE_NAME};a.push(i)}),a=a.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1)),t.FormSchema[0].Data[2].config.options=a,t.$refs.RuleDataList.UpdateKeyValue()}))},OnChangeRuleAction:async function(e){var t=this;t.ActionId=e.target.value;var a="actionId="+e.target.value;await n["a"].RuleEventItems(a).then((function(e){e.data.length>0?(t.RuleEventList=e.data,t.isShowFlowChart=!0):(t.RuleEventList=[],t.isShowFlowChart=!1)}),(function(e){t.isShowFlowChart=!1}))},GetRuleEventItems:async function(e,t){var a=this,i="actionId="+e;await n["a"].RuleEventItems(i).then((function(e){a.RuleEventList=e.data}))},OnChangeEvent:async function(e,t,a){var i=this;if(null==e)i.AddDeleteTarget=[],i.SelectedRouting=a,i.isShowEdit=!0,i.isShowBackIcon=!1,i.EventId=t;else{i.AddDeleteTarget=[],i.SelectedRouting=e.EVENT_NAME,i.isShowEdit=!0,i.isShowBackIcon=!1,i.EventId=e.RULE_EVENT_ID;var l={RULE_EVENT_ID:e.RULE_EVENT_ID,TargetRuleCondition:"",TargetRuleDataBaseCondition:"",TargetData:[],ResultCondition:"",ruleTargetResultData:[],ruleResultEditDataArray:[]};i.AddDeleteTarget.push(l)}},GotoBack:async function(){var e=this;e.isShowEdit=!0,e.isShowBackIcon=!1},EditTarget:async function(){var e=this;e.isShowEdit=!1,e.isShowBackIcon=!0,e.isShowFlowChart=!0},AddTarget:async function(e){var t=this;t.TargetConditionData="",t.TargetRuleDataBaseCondition="",t.TargetIndex=e,t.isShowTargetModal=!0},EditTargetCondition:async function(e,t,a,i){var l=this;l.TargetRuleDataBaseCondition=a,l.TargetConditionData=t,l.TargetIndex=i,l.isShowTargetModal=!0},EdiResultCondition:async function(e,t){var a=this;a.ruleResultEditDataArray=e,a.ResultIndex=t,a.isShowResultModal=!0},AddResult:async function(e){var t=this;t.ruleResultEditDataArray=[],t.ResultIndex=e,t.isShowResultModal=!0},AddMoreTarget(){var e=this,t={RULE_EVENT_ID:0,TargetRuleCondition:"",TargetRuleDataBaseCondition:"",TargetData:[],ResultCondition:"",ruleTargetResultData:[],ruleResultEditDataArray:[]};e.AddDeleteTarget.push(t),e.isShowAddMoreTarget=!1},DeleteTarget:async function(e){var t=this;t.confirmR(t.$t("ConfirmDeleteTarget"),!0,t.$t("Delete"),(function(){t.AddDeleteTarget.splice(e,1),t.isShowAddMoreTarget=e>0}))}}},f=h,m=(a("1836"),Object(u["a"])(f,i,l,!1,null,null,null));t["default"]=m.exports},"93ab":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'body{font-size:14px}.outer{float:left;width:100%;box-sizing:border-box;background:#fff;padding:50px}.outer .container{float:left;text-align:center;list-style-type:none;position:relative;padding:20px 5px 0 5px;transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s}.outer .container:after,.outer .container:before{content:"";position:absolute;top:0;right:50%;border-top:1px solid #000;width:50%;height:20px}.outer .container:after{right:auto;left:50%;border-left:1px solid #000}.outer .container:only-child:after,.outer .container:only-child:before{display:none}.outer .container:only-child{padding-top:0}.outer .container:first-child:before,.outer .container:last-child:after{border:0 none}.outer .container:last-child:before{border-right:1px solid #000}.outer .maintree .maintree:before{content:"";position:absolute;top:0;left:50%;border-left:1px solid #000;width:0;height:32px}*,.fc_parentchild{margin:0;padding:0}.fc_parentchild{width:100%;float:left;height:auto}.fc_parentchild li{width:auto;float:left;height:auto;display:block;clear:both;margin-bottom:60px;position:relative}.fc_parentchild li p.shape_ovalwhen{margin:0 0 0 85px}.fc_parentchild li p.shape_oval{background-image:url(/Content/OrganizationChart/round_purple.png);background-repeat:no-repeat;background-size:100% 100%;background-position:50%;border:none;border-radius:36px/62px;height:95px;position:relative;list-style:outside none none;margin:0 0 0 85px;text-align:center;vertical-align:middle;width:100px;border-radius:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;background-color:#fbedb7}.fc_parentchild li p.shape_oval span{margin-top:38px;font-weight:700;color:#000}.fc_parentchild li p.shape_polygan{background:#fff;background-image:url(/Content/OrganizationChart/square_purple.png);background-repeat:no-repeat;background-size:100% 100%;background-position:50%;border:none;z-index:100;border-radius:0;min-height:110px;list-style:none;margin:0 0 0 74px;position:relative;text-align:center;vertical-align:middle;width:120px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:20px 36px;display:inline-block;background-color:#5d6d7e}.fc_parentchild li p.shape_polygan span{margin-top:15px;font-weight:700;color:#fff}.fc_parentchild li p.shape_polygan span.delete{margin-top:5px;cursor:pointer;background-image:url(/Content/OrganizationChart/billing_sprite.png);background-position:2px -43px;height:43px;border-radius:50%!important;position:relative}.fc_subchild li p.shape_oval span.results{margin-top:25px;font-weight:400;text-align:left;width:80%;float:left;color:#303030!important}.fc_subchild li a.resulteditlink{color:#cbc93d;float:right;margin-top:5px;background-image:url(/Content/OrganizationChart/billing_sprite.png);background-position:-5px -2px;height:32px!important;width:32px!important;cursor:pointer;border-radius:50%!important;background-color:#199b14;padding:19px;margin-right:4px}.fc_parentchild li:last-child p:before{border:none!important}.fc_parentchild li p{float:left}.fc_parentchild li p span{display:block;line-height:20px;overflow:hidden;text-overflow:ellipsis;width:100%;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}.fc_subchild li p img{left:50%;margin-left:-12px;position:absolute;top:-35px}.fc_subchild li p.hoctagon{background-image:url(/Content/OrganizationChart/hoctagen.png);background-repeat:no-repeat;background-position:top;color:#000;height:48px;margin:0;padding-top:24px;position:relative;width:190px}.fc_subchild li p.hoctagon span{display:block;padding:0 10px;text-align:center}.fc_subchild li p.shape_oval span{display:inline-block;padding:0 10px;text-align:center}.textbetweenline{font-size:12px;left:-50px;line-height:14px!important;margin:0;padding:0!important;position:absolute;text-align:left!important;top:0;width:auto}.fc_parentchild li.arrowdown:last-child:after{border-left:6px solid transparent}.fc_subchild li.arrowright.Dparent:after{top:40%}.imgdownarrow{left:129px;position:absolute;top:110px;z-index:100}.fc_parentchild li.arrowdown{position:relative;margin-bottom:0;padding-bottom:60px;background-image:url(/Content/OrganizationChart/FlowChart_DownArrow_90.png);background-repeat:no-repeat;background-position:129px bottom}.flowfsm .fc_parentchild li.arrowdown:after{position:absolute;top:67%;left:50%;font-weight:700}.flowfsm .fc_parentchild li.arrowdown:first-child:after,.flowfsm .fc_parentchild li.arrowdown:last-child:after{display:none}.fc_parentchild li.arrowdown:last-child{background:none}.fc_subchild{float:left;margin-left:-2px}.fc_subchild.fc_subchildWhen{width:60%}.fc_subchild li{clear:none;display:inline-block;margin:26px 0;padding-left:60px;background-image:url(/Content/OrganizationChart/FlowChart_RightArrow.png);background-repeat:no-repeat;background-position:left 31px}.fc_subchild li p.shape_oval{background-image:url(/Content/OrganizationChart/rectangle_purple.png);background-repeat:no-repeat;background-size:100% 100%;background-position:50%;border:none;border-radius:36px/62px;height:66px;position:relative;list-style:outside none none;margin:0;text-align:center;vertical-align:middle;width:350px;border-radius:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;background:#fbf3d2;border:1px dashed #bbb392}.fc_subchild li p.shape_oval.oval_red{background-image:url(/Content/OrganizationChart/oval_red.png)}.fc_subchild li p.shape_oval.oval_green{background-image:url(/Content/OrganizationChart/oval_green.png)}.fc_subchild li p.shape_oval.oval_yellow{background-image:url(/Content/OrganizationChart/oval_orange.png)}.formsfieldmainunique{border:1px dashed #aed6f1;background:#ebf5fb;width:100%;box-sizing:border-box;float:left;padding:5px 10px;min-height:140px;width:564px}.formsfieldmainunique .parenthead{background:#c6dae8;color:#303030;padding:10px;font-weight:700}.formsfieldmainunique .childdivsunique_base,.formsfieldmainunique .parenthead{width:100%;box-sizing:border-box;float:left}.formsfieldmainunique .childdivsunique{width:49%;float:left;padding:10px;box-sizing:border-box}.formsfieldmainunique .childdivsunique span{padding-left:2px;font-weight:700}.formsfieldmainunique .childdivsunique div{padding-top:3px;margin-left:35px}.formsfieldmainunique .childdivsunique.childdivsunique_HS span{padding-left:2px;font-weight:700;float:left;padding:3px 0 0 10px}.formsfieldmainunique .childdivsunique.childdivsunique_HS div{padding-top:3px;margin-left:35px;float:left}.fc_subchild li.arrowright.top50{background-position:left 45px!important}.fc_subchild li.arrowright.top30{background-position:left 30px!important}.fc_subchild li p.shape_btn{background:#fff;background-repeat:no-repeat;background-position:50%;border:none;height:70px;position:relative;list-style:outside none none;margin:0;text-align:center;vertical-align:middle;width:120px;display:inline-block;color:#fff}.fc_subchild li a.addtarget_btn{background:#fff;border:1px dashed #33a752;font-weight:700;margin:0;text-align:center;width:120px;display:inline-block;color:#138732;padding-top:10px;padding-bottom:10px;margin-top:15px;cursor:pointer}.fc_subchild li a:hover.addtarget_btn{background:#138732;color:#fff}.childdivsuniqueheader{width:90%;float:left;padding:10px;box-sizing:border-box}.formsfieldmainunique .childdivsunique_edit{width:100%;float:left;padding:10px;box-sizing:border-box}.childdivediticon_unique{width:5%;float:right;padding:2px 0;box-sizing:border-box}.iconedit_unique{background-image:url(/content/images/Black/inner_mono_new.png)!important;display:inline-block;width:32px!important;height:30px!important;background-position:-217px -60px!important}.formsfieldmainunique_condition{border:1px dashed #aed6f1;width:100%;box-sizing:border-box;float:left;margin-top:2px}.formsfieldmainunique_condition div.innercontbase{float:left;background:#ebf5fb;width:390px;max-height:220px;overflow-y:auto;overflow-x:hidden;min-height:60px}.formsfieldmainunique_condition div.innercont{float:left;padding:6px 0 15px 6px;margin-top:10px;max-width:345px;box-sizing:border-box}.formsfieldmainunique_condition div.inneredit{float:right;margin-top:11px;top:0;width:40px}.formsfieldmainunique_condition .iconedit_unique{padding:19px;margin-top:0;background:#fff;border-radius:50%!important}.childdivediticon_unique .iconedit_unique{padding:19px;margin-top:-5px;background:#fff;border-radius:50%!important}.formsfieldmainunique .parenthead span.text{float:left;width:92%}.formsfieldmainunique .parenthead span.icon{float:right;background-image:url(/content/images/Black/inner_mono_new.png)!important;width:30px!important;height:21px!important;background-position:-292px -4px!important;cursor:pointer}.fc_parentchild li p.shape_roundbtn{background:#fff;z-index:100;border:1px dashed #25a5ff;border-radius:30px;min-height:48px;list-style:none;margin:0 0 0 110px;position:relative;text-align:center;vertical-align:middle;width:50px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;cursor:pointer}.fc_parentchild li p.shape_roundbtn span{margin-top:13px;font-weight:700;color:#25a5ff;font-size:20px}.fc_parentchild li p:hover.shape_roundbtn{background:#25a5ff;color:#fff!important}.fc_parentchild li p:hover.shape_roundbtn span{color:#fff!important}#divTargetsdata .recyclebin.enable{border-radius:50%;padding:4px;background-position:6px -138px}#divTargetsdata .recyclebin.disable{background-color:#d2d2d2;border-radius:50%;padding:4px;background-position:-164px -665px}.divflagservicesser{left:-39px;top:-106px}.chkOffDays label{margin:5px 10px!important}.chkOffDays .color757575{text-align:center}.managepopupservice{z-index:9999}table.bottomalign td.up{vertical-align:top!important}.childdivsunique label{display:initial}.shape_polygan{cursor:move}.fc_subchildWhen li{margin:0!important}.childdivsuniqueheader{width:50%!important}',""]),e.exports=t},a19c:function(e,t,a){var i=a("08dd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var l=a("499e").default;l("5519b838",i,!0,{sourceMap:!1,shadowMode:!1})},a549:function(e,t,a){"use strict";a("a19c")}}]);
//# sourceMappingURL=chunk-984a7ac0.js.map