(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38169c80"],{"166a":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".shortcuts-menu li{width:100%;max-width:33%;padding:15px;float:left;display:flex;transition:all .4s}",""]),e.exports=t},"2bf5":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'.multi-collapse[data-v-432b3f26]{padding-left:15px!important;padding-right:15px!important;padding-top:0!important;padding-bottom:0!important;max-width:99%!important}.sub-menu li[data-v-432b3f26]{width:100%;max-width:50%;padding:15px;float:left;display:flex;transition:all .4s}.sub-menu li .short-item-name[data-v-432b3f26]{font-size:15px;color:#000!important}.sub-menu-section-right[data-v-432b3f26]:before{content:"";position:absolute;left:66%;right:0;top:-8px;margin:auto;width:0;height:0;border-style:solid;border-color:transparent transparent rgba(0,0,0,.2) transparent;border-width:0 10px 10px 10px}.sub-menu-section-left[data-v-432b3f26]:before{right:66%}.sub-menu-section-center[data-v-432b3f26]:before,.sub-menu-section-left[data-v-432b3f26]:before{content:"";position:absolute;left:0;top:-8px;margin:auto;width:0;height:0;border-style:solid;border-color:transparent transparent rgba(0,0,0,.2) transparent;border-width:0 10px 10px 10px}.sub-menu-section-center[data-v-432b3f26]:before{right:0}.shortcuts-menu li .left-icon-m i[data-v-432b3f26]{color:#fff!important;font-size:25px!important}.shortcuts-menu li[data-v-432b3f26]:hover{transform:inherit!important}.shortcuts-menu li[data-v-432b3f26]{max-width:33%}.shortcuts-menu li[data-v-432b3f26],.shortcuts-menu li.large[data-v-432b3f26]{width:100%;padding:15px;float:left;display:flex;transition:all .4s}.shortcuts-menu li.large[data-v-432b3f26]{max-width:50%}.shortcuts-menu li .short-item-name[data-v-432b3f26]{color:#000!important}',""]),e.exports=t},"449a":function(e,t,a){var n=a("166a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("17c580ce",n,!0,{sourceMap:!1,shadowMode:!1})},b5b8:function(e,t,a){var n=a("2bf5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("4d0ef97c",n,!0,{sourceMap:!1,shadowMode:!1})},c19b:function(e,t,a){"use strict";a("b5b8")},cd53:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{directives:[{name:"show",rawName:"v-show",value:e.IsGroupView,expression:"IsGroupView"}],attrs:{IsShowAction:!0,ModuleName:"FSM",SubModuleCode:"FSM_Ticketing_Setup_Source",IdentityColumn:"SOURCE_ID",HeaderText:e.$t("Channel Configuration Lis...."),LegendArray:[],RenderRowActionMethod:e.renderActions,widgets:[],listType:["List"],ListData:e.channelConfigList,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,ListDataCallBackFunction:e.FetchData,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["STATUS_ID"==a.column.COLUMN_NAME?[e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?t("listing-status",{ref:"updatestatus",attrs:{isfor:"ChannelConfiguration",dataid:a.row.SOURCE_ID,"data-controller":"Crm",statuslist:e.StatusListForListing,item:a.STATUS_ID,"data-action":"index",dataselected:1001==a.row.STATUS_ID?"Active":"Inactive",callbackfunction:e.FetchData,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?e._e():t("a",{staticClass:"inactive-disabled"},[t("span",{class:e.getStatusClass(a.row.STATUS_ID,"STATUS_ID")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")])])]:e._e()]}}])}),e.AddChannelConfigurationPopup?t("AddChannelConfigurationPopup",{ref:"ChannelConfiguration",attrs:{SourceId:e.SourceId,AddChannel:e.AddChannel,List:e.SettingList,tabChange:e.tabChange}}):e._e()],1)},i=[],o=(a("14d9"),a("9769"));let s=[{title:"Add a Channel Configuration",iconClass:"fa fa-plus",callbackfunction:"openaddAddchannel",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"Addticketing"},{id:"DeleteMultiple",title:"Remove",iconClass:"ffa fa-trash",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,isEnabledOnSelectedRow:!0}],l=[{fieldName:"Account Name",fieldType:"text",fieldIcon:"fa fa-user",fieldSearchConditionName:["TSM.account_name"],paramName:"AccountName",isSearch:!1,value:"",listOptions:[]},{fieldName:"Channel Name",fieldType:"text",fieldIcon:"fa fa-solid fa-tv",fieldSearchConditionName:["TSM.channel_name"],paramName:"ChannelName",isSearch:!1,value:"",listOptions:[]},{fieldName:"Created By",fieldType:"ddl-check",fieldIcon:"fa fa-user-circle",fieldSearchConditionName:["TSM.created_by"],isSearch:!1,paramName:"CreatedBy",value:"",listOptions:[]},{fieldName:"Status",fieldType:"ddl-check",fieldIcon:"fa fa-bar-chart",fieldSearchConditionName:["TSM.Status"],paramName:"Status",isSearch:!1,value:"",listOptions:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]}],c=[{title:"Edit",href:"javascript:void(0)",callbackfunction:"editChannelConfig",icon:"fa action-icon fa fa-pencil",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"commonDeleteData",additionalSpan:""}];async function r(e,t,a,n,i){var s=e,l="moduleName=FSM&type="+a;"FSM_USERS"==a&&await o["a"].GetDDLData(l).then(e=>{e.data.DATA.forEach(e=>{let t={name:e.name,value:e.value};s.leftSearchFields[2].listOptions.push(t)})})}var u={buttons:s,leftsearchSchema:l,listActions:c,bindleftCommonSearchdropdown:r},d=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block!important"},attrs:{"data-keyboard":"false","data-backdrop":"static",id:"manageChannelModal",role:"dialog"}},[t("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.close}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.title))])]),t("div",{staticClass:"modal-body",staticStyle:{background:"white"}},["main"===e.tab?t("ul",{staticClass:"shortcuts-menu pb-3",attrs:{id:"divChannelTypes"}},[e._l(e.channelOptions,(function(a,n){return[t("li",{staticClass:"position-relative",on:{click:function(t){return e.ExpandMenu(a,n)}}},[t("a",{staticClass:"short-menu-item",style:{background:e.shadeColor(a.CHANNEL_COLOR,70)}},[t("span",{staticClass:"left-icon-m m-3 text-white",style:{background:a.CHANNEL_COLOR}},[t("i",{class:a.CHANNEL_ICON})]),t("span",{staticClass:"short-item-name"},[e._v(e._s(a.CHANNEL_DESC))])])]),(n+1)%3==0&&Math.ceil((n+1)/3)==e.subMenuRow?[e.AddSubMenuPopup?t("AddSubMenuPopup",{class:e.subMenuClass,attrs:{size:"s",showBorder:!0,channelOptions:e.subMenuOptions}}):e._e()]:e._e()]}))],2):e._e(),"Email"==e.tab?[e.AddSubMenuPopup?t("AddSubMenuPopup",{attrs:{showBorder:!1,size:"m",channelOptions:e.customEmailOptions}}):e._e()]:e._e(),"imapSettings"==e.tab?t("dynamic-form",{ref:"imapSettings",attrs:{id:"imapSettingTab",buttons:!1,lang:"en",schema:e.FormSchema},on:{OnSubmit:function(t){return e.setEmailType("Custom")}},scopedSlots:e._u([{key:"tgslot-Password",fn:function({data:a}){return[t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control w-100",attrs:{type:"password",name:"Password"},domProps:{value:a.fieldInfo.value},on:{input:function(t){t.target.composing||e.$set(a.fieldInfo,"value",t.target.value)}}})])]}}],null,!1,471427276)}):e._e(),"exchangeSettings"==e.tab?t("dynamic-form",{ref:"exchangeSettings",attrs:{id:"exchangeSettingsTab",buttons:!1,lang:"en",schema:e.FormSchemaExchange},on:{OnSubmit:function(t){return e.setEmailType("Custom")}},scopedSlots:e._u([{key:"tgslot-Password",fn:function({data:a}){return[t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control w-100",attrs:{type:"password",name:"Password"},domProps:{value:a.fieldInfo.value},on:{input:function(t){t.target.composing||e.$set(a.fieldInfo,"value",t.target.value)}}})])]}}],null,!1,471427276)}):e._e(),t("div",{staticClass:"modal-footer fixed-bottom"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6"},["imapSettings"==e.tab||"exchangeSettings"==e.tab?t("span",{staticClass:"text-danger float-left"},[e._m(0)]):e._e()]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-right"},[t("div",{staticClass:"input-group text-right d-block"},["Email"==e.tab?t("button",{staticClass:"btn btn-secondary mr-1",attrs:{type:"button"},on:{click:function(t){return e.openTab("main")}}},[t("i",{staticClass:"fa fa-angle-double-left mr-1"}),e._v(e._s(e.$t("Back")))]):e._e(),"EmailSetUpSuccess"==e.tab?t("button",{staticClass:"btn btn-danger mr-1",attrs:{type:"button"},on:{click:e.close}},[t("i",{staticClass:"fa fa-close mr-1"}),e._v(e._s(e.$t("Close")))]):e._e(),"imapSettings"==e.tab||"exchangeSettings"==e.tab?t("button",{staticClass:"btn btn-success mr-1",attrs:{type:"button"},on:{click:function(t){return e.setEmailType("Custom")}}},[t("i",{staticClass:"fa fa-save mr-1"}),e._v(e._s(e.$t("SaveSettings")))]):e._e(),"imapSettings"==e.tab||"exchangeSettings"==e.tab?t("button",{staticClass:"btn btn-secondary mr-1",attrs:{type:"button"},on:{click:function(t){return e.openTab("Email")}}},[t("i",{staticClass:"fa fa-angle-double-left mr-1"}),e._v(e._s(e.$t("Back")))]):e._e()])])])])],2)])])])])},h=[function(){var e=this,t=e._self._c;return t("small",[t("span",{staticClass:"text-danger"},[e._v("Fields marked with an asterisk (*) are mandatory.")])])}],m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"collapse multi-collapse show position-relative",attrs:{id:"multiCollapse"}},[t("div",{class:{card:e.showBorder}},[t("ul",{class:{"sub-menu":"s"===e.size,"shortcuts-menu":"m"===e.size}},[e._l(e.channelOptions,(function(a){return[t("li",{staticClass:"position-relative large",style:{width:e.menuItemSize+"%!important"},on:{click:function(t){return e.goToAction(a.name)}}},["s"===e.size?t("a",{staticClass:"short-menu-item",style:{background:e.shadeColor(a.color,a.background),"border-color":a.color}},[t("span",{staticClass:"icon m-2 text-white"},[t("i",{class:a.icon,style:{color:a.color}})]),t("span",{staticClass:"short-item-name"},[e._v(e._s(a.title))])]):"m"===e.size?t("a",{staticClass:"short-menu-item",style:{background:e.shadeColor(a.color,a.background),"border-color":a.color}},[t("span",{staticClass:"left-icon-m m-3 text-white",style:{background:a.color}},[t("i",{class:a.icon})]),t("span",{staticClass:"short-item-name"},[e._v(e._s(a.title))])]):e._e()])]}))],2)])])},p=[],S={props:{showBorder:{type:Boolean,required:!1},size:{type:String,required:!0},channelOptions:{type:Array,required:!0}},data(){return{FacebookAppId:"1977869235924234",FacebookConfigurationId:"854925422657929",FacebookAuthCallBackUrl:"https://stage.talygen.com/CallBack/FacebookAuth",menuItemSize:25,subMenuClass:"sub-menu-section-center",isLoading:!1,TicketId:null,tab:"main",showSubMenu:!1,subMenuRow:1,selectedChannel:null,subMenu:"",subMenuOptions:[],isVisible:!1,emailOptions:[{name:"setupTalygenEmail",title:"Talygen Email",icon:"fa fa-envelope",color:"#e5a30ebf",background:60},{name:"setupCustomEmail",title:"Add Custom Email",icon:"fa fa-envelope",color:"#008de0c9",background:60}],imapSettings:{sourceId:0,emailAccountType:"IMAP",displayName:"",email:"",password:"",incomingMailServer:"",isSecureConnection:!1,port:"",portIncomingChecked:!1,outgoingServer:"",isOutgoingSecureConnection:!1,outPort:"",portOutgoingChecked:!1},exchangeSettings:{sourceId:0,exchangeServerVersion:"2013",exchangeDomainName:"",userName:"",password:"",timeZone:""}}},watch:{channelOptions:function(e){var t=this;t.setMenuItemSize()}},created:async function(){var e=this;e.setMenuItemSize()},methods:{setMenuItemSize:function(){var e=this,t=e.channelOptions.length;t>4?e.menuItemSize=25:(e.menuItemSize=Math.ceil(100/t),console.log(e.menuItemSize))},shadeColor:function(e,t){e=6==e.length?e:e.slice(0,-2);var a=e+t.toString(16).toUpperCase().padStart(2,"0");return a},goToAction:function(e){var t=this;"Email"==e&&(t.tab="Email"),"setupTalygenEmail"==e?t.$parent.setEmailType("Talygen"):"twitter"==e?t.$parent.LoginWithTwitter():"facebook"==e?window.location.href="https://graph.facebook.com/oauth/authorize?client_id="+t.FacebookAppId.toString()+"&config_id="+t.FacebookConfigurationId.toString()+"&redirect_uri="+t.FacebookAuthCallBackUrl.toString():"setupCustomEmail"==e?t.$parent.openTab("Email"):"imap"==e?t.$parent.openTab("imapSettings"):"exchange"==e&&t.$parent.openTab("exchangeSettings")},close:function(){this.$parent.AddSubMenuPopup=!1}}},f=S,g=(a("c19b"),a("2877")),C=Object(g["a"])(f,m,p,!1,null,"432b3f26",null),b=C.exports,v={components:{AddSubMenuPopup:b},data(){return{errors:{},SourceId:0,AddSubMenuPopup:!1,AddChannel:null,tabchange:null,title:"Setup Ticket Channel",menuItemSize:25,isLoading:!1,TicketId:null,tab:"main",showSubMenu:!1,subMenuClass:"sub-menu-section-center",subMenuRow:1,channelOptions:[],selectedChannel:null,subMenu:"",subMenuOptions:[],callAndMessageOptions:[],whatsappOptions:[],chatbotOption:[],externalLinkOptions:[],TimeZoneList:[],isVisible:!1,FormSchema:[{layoutType:"double",group_name:"User Information",Data:[{astype:"SelectField",label:this.$t("Emails Account Type"),name:"EmailsAccountType",value:"IMAP",placeholder:"",disabled:!0,config:{options:[{value:"IMAP",name:"IMAP"}],showAddIcon:!1}},{astype:"TextField",label:this.$t("Display Name"),name:"DisplayName",value:"",placeholder:"",validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Email Address"),name:"EmailAddress",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SlotField",label:this.$t("Password"),name:"Password",value:"",placeholder:"",validationRules:{required:!0,max:200}}]},{layoutType:"double",group_name:"Incoming Server Setting",Data:[{astype:"TextField",label:this.$t("Incoming Mail Server"),name:"IncomingMailServer",value:"",placeholder:"",validationRules:{required:!0}},{astype:"CheckBoxField",label:this.$t("Is Secure Connection"),name:"IsSecureConnection",value:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Port"),name:"Port",value:"",placeholder:"",validationRules:{required:!0}},{astype:"CheckBoxField",label:this.$t("Port Incoming Checked"),name:"PortIncomingChecked",value:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!0}}]},{layoutType:"double",group_name:"Outgoing Server Setting",Data:[{astype:"TextField",label:this.$t("Outgoing Server (SMTP)"),name:"OutgoingServer",value:"",placeholder:"",validationRules:{required:!0}},{astype:"CheckBoxField",label:this.$t("Is Secure Connection"),name:"IsSecureConnections",value:!0,config:{options:[{name:"",value:!0}]},validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Port"),name:"Outgoing Port",value:"",placeholder:"",validationRules:{required:!0}},{astype:"CheckBoxField",label:this.$t("Port Outgoing Checked"),name:"PortOutgoingChecked",value:"",config:{options:[{name:"",value:!0}]},validationRules:""}]}],FormSchemaExchange:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Exchange Server Version"),name:"ExchangeServerVersion",value:"2013",placeholder:"",config:{options:[{value:"2013",name:"2013",selected:"selected"}],showAddIcon:!1}},{astype:"TextField",label:this.$t("Exchange Domain Name"),name:"ExchangeDomainName",value:"",placeholder:"",validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"TextField",label:this.$t("User Name"),name:"UserName",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SlotField",label:this.$t("Password"),name:"Password",value:"",placeholder:"",validationRules:{required:!0,max:200}}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Time Zone"),name:"TimeZone",value:"",placeholder:"",config:{options:[],showAddIcon:!1},validationRules:{required:!0}}]}],emailOptions:[{name:"setupTalygenEmail",title:"Talygen Email",icon:"fa fa-envelope",color:"#e5a30ebf",background:60},{name:"setupCustomEmail",title:"Add Custom Email",icon:"fa fa-envelope",color:"#008de0c9",background:60}],customEmailOptions:[{name:"imap",title:"IMAP",icon:"fa fa-envelope",color:"#00000082",background:60},{name:"exchange",title:"Exchange",icon:"fa fa-envelope",color:"#00000082",background:60}],socialMediaOptions:[{name:"facebook",title:"Connect with Facebook",icon:"fa fa-facebook-square",color:"#002d7ef2",background:0},{name:"twitter",title:"Connect with Twitter",icon:"fa fa-twitter-square",color:"#008de0c9",background:0},{name:"instagram",title:"Connect with Instagram",icon:"fa fa-instagram",color:"#cf0949f0",background:0},{name:"linkedin",title:"Connect with Linkedin",icon:"fa fa-linkedin-square",color:"#006bc7f0",background:0}],imapSettings:{sourceId:0,emailAccountType:"IMAP",displayName:"",email:"",password:"",incomingMailServer:"",isSecureConnection:!1,port:"",portIncomingChecked:!1,outgoingServer:"",isOutgoingSecureConnection:!1,outPort:"",portOutgoingChecked:!1},exchangeSettings:{sourceId:0,exchangeServerVersion:"2013",exchangeDomainName:"",userName:"",password:"",timeZone:""}}},props:{tabChange:{type:String,required:!1},SourceId:{type:Number,required:!1},AddChannel:{type:String,required:!1},List:{type:Array,required:!1}},created:async function(){var e=this;e.tabchange=this.tabChange,e.AddChannel=this.AddChannel,e.SourceId=this.SourceId,e.selectedChannel={channelName:this.List.CHANNEL_NAME,channelId:this.List.CHANNEL_ID},"Addticketing"==e.AddChannel&&(e.getChannelOptions(),this.AddChannel=null),null!=e.tabchange&&"Edit"==e.AddChannel&&("imapSettings"==e.tabchange?e.openTab("imapSettings"):e.openTab("exchangeSettings"),this.setMappingList(this.List),this.tabchange=null,this.AddChannel=null)},methods:{GetTimeZoneList:function(){var e=this;o["a"].GetTimeZoneListing().then((function(t){t.data.result.length>0&&(e.TimeZoneList=t.data.result,e.TimeZoneList.forEach((t,a)=>{e.FormSchemaExchange[2].Data[0].config.options.push({value:t.VALUE,name:t.TEXT})}))}))},setMappingList:function(e){var t=this;"IMAP"==e.TYPE?(t.$parent.SOURCE_ID,this.FormSchema[0].Data[1].value=e.USERNAME,this.FormSchema[1].Data[0].value=e.EMAIL,this.FormSchema[1].Data[1].value=e.PASSWORD,this.FormSchema[2].Data[0].value=e.IP,this.FormSchema[3].Data[0].value=e.PORT,this.FormSchema[2].Data[1].value=e.IS_INCOMING_PORT_CHECKED,this.FormSchema[3].Data[1].value=e.IS_INCOMING_CONNECTION_SECURE,this.FormSchema[4].Data[0].value=e.OUTGOING_IP,this.FormSchema[5].Data[0].value=e.OUTGOING_PORT,this.FormSchema[4].Data[1].value=e.IS_OUTGOING_PORT_CHECKED,this.FormSchema[5].Data[1].value=e.IS_OUTGOING_CONNECTION_SECURE):(t.$parent.SourceId,this.FormSchemaExchange[0].Data[0].value=e.EXCHANGE_SERVER_VERSION,this.FormSchemaExchange[0].Data[1].value=e.DOMAIN,this.FormSchemaExchange[1].Data[0].value=e.USERNAME,this.FormSchemaExchange[1].Data[1].value=e.PASSWORD,this.FormSchemaExchange[2].Data[0].value=e.TIMEZONE_ID)},LoginWithTwitter:function(){o["a"].GetTwitterAuth().then((function(e){window.location=e.data}))},shadeColor:function(e,t){e=6==e.length?e:e.slice(0,-2);var a=e+t.toString(16).toUpperCase().padStart(2,"0");return a},openTab:function(e){var t=this;"Email"===e?t.title="Email Setup":"main"===e?(t.title="Setup Ticket Channel",t.selectedChannel=null):"imapSettings"===e?t.title="IMAP Settings":"exchangeSettings"===e&&(t.title="Exchange Settings",t.GetTimeZoneList()),t.tab=e,t.AddSubMenuPopup=!0},ExpandMenu:function(e,t){var a=this;a.showSubMenu=!1;var n=Math.ceil((t+1)/3);a.subMenuRow=n,a.subMenuOptions=[],a.selectedChannel={channelName:e.CHANNEL_NAME,channelId:e.CHANNEL_ID},"Email"===e.CHANNEL_NAME?a.subMenuOptions=a.emailOptions:"SocialMedia"===e.CHANNEL_NAME?a.subMenuOptions=a.socialMediaOptions:"ExternalLink"===e.CHANNEL_NAME?a.subMenuOptions=a.externalLinkOptions:"Chatbot"===e.CHANNEL_NAME?a.subMenuOptions=a.chatbotOption:"WhatsApp"===e.CHANNEL_NAME?a.subMenuOptions=a.whatsappOptions:"CallMessage"===e.CHANNEL_NAME&&(a.subMenuOptions=a.callAndMessageOptions),""==a.subMenu||a.subMenu!=e.CHANNEL_NAME?(a.subMenuClass="sub-menu-section-right",(t+1)%3===2?a.subMenuClass="sub-menu-section-center":(t+1)%3===1&&(a.subMenuClass="sub-menu-section-left"),a.subMenuOptions.length>0&&(a.AddSubMenuPopup=!0),a.subMenu=e.CHANNEL_NAME):(a.AddSubMenuPopup=!1,a.subMenu="",a.selectedChannel=null)},getChannelOptions:function(){var e=this;o["a"].FetchTicketingChannelOptionList().then((function(t){null!=t.data.result.data&&t.data.result.data.length>0&&(e.channelOptions=t.data.result.data)}))},setEmailType:function(e){var t=this;if("Talygen"===e)t.confirmR(t.$t("Are you sure you want to set Talygen email as ticket channel?"),!0,t.$t("Delete"),(function(){let a={CHANNEL_NAME:t.selectedChannel.channelName,CHANNEL_SOURCE_TYPE_NAME:e};var n=JSON.stringify(a);o["a"].SubmitTicketingChannelConfiguration(n).then((function(e){"Success"===e.data.result?(t.tab="EmailSetUpSuccess",t.$parent.getChannelOptions(),t.ShowAlert(t.$t("EmpShareSentSuccessfully"),"success",!0,t.$t("Alert"))):"ALREADY EXISTS"===e.data.result&&t.ShowAlert(t.$t("RequestAlreadySent"),"success",!0,t.$t("Alert"))}))}),(function(e){}));else{var a={};if("Custom"===e){a="imapSettings"===t.tab?{SOURCE_ID:t.SourceId,USERNAME:this.FormSchema[0].Data[1].value,EMAIL:this.FormSchema[1].Data[0].value,PASSWORD:this.FormSchema[1].Data[1].value,IP:this.FormSchema[2].Data[0].value,PORT:this.FormSchema[3].Data[0].value,IS_INCOMING_PORT_CHECKED:null==this.FormSchema[2].Data[1].value?null:this.FormSchema[2].Data[1].value[1],IS_INCOMING_CONNECTION_SECURE:null==this.FormSchema[3].Data[1].value?null:this.FormSchema[3].Data[1].value[1],OUTGOING_IP:this.FormSchema[4].Data[0].value,OUTGOING_PORT:this.FormSchema[5].Data[0].value,IS_OUTGOING_PORT_CHECKED:null==this.FormSchema[4].Data[1].value?null:this.FormSchema[4].Data[1].value[1],IS_OUTGOING_CONNECTION_SECURE:null==this.FormSchema[5].Data[1].value?null:this.FormSchema[5].Data[1].value[1],TYPE:"IMAP"}:{SOURCE_ID:t.SourceId,EXCHANGE_SERVER_VERSION:this.FormSchemaExchange[0].Data[0].value,DOMAIN:this.FormSchemaExchange[0].Data[1].value,USERNAME:this.FormSchemaExchange[1].Data[0].value,PASSWORD:this.FormSchemaExchange[1].Data[1].value,TIMEZONE_ID:this.FormSchemaExchange[2].Data[0].value,TYPE:"EXCHANGE"};var n="imapSettings"===t.tab?this.$refs.imapSettings:this.$refs.exchangeSettings;n.validateForm.validate().then((function(n){let i={CHANNEL_NAME:t.selectedChannel.channelName,CHANNEL_SOURCE_TYPE_NAME:e,CHANNEL_SOURCE_DATA:a};var s=JSON.stringify(i);n?o["a"].SubmitTicketingChannelConfiguration(s).then((function(e){"Success"===e.data.status&&(t.ShowAlert(t.$t("SavedSuccessfully",[t.$t(t.tab)]),"success",!0,t.$t("Alert")),t.close(),t.getChannelOptions(),t.$parent.FetchData()),"INVALID_CREDENTIAL"==e.data&&t.ShowAlert(t.$t("PleaseCheckTheCredentials",[t.$t(t.tab)]),"failure",!0,t.$t("Alert")),"CHECKBOX_UNCHECKED"==e.data&&t.ShowAlert(t.$t("CheckboxPending",[t.$t(t.tab)]),"failure",!0,t.$t("Alert"))})):t.ShowAlert(t.$t("FillTheRequiredFields",[t.$t(t.tab)]),"failure",!0,t.$t("Alert"))}))}}},close:function(){this.$parent.AddChannelConfigurationPopup=!1}}},A=v,E=(a("fc98"),Object(g["a"])(A,d,h,!1,null,null,null)),_=E.exports,T={components:{AddChannelConfigurationPopup:_},data(){return{tabChange:null,channelConfigList:[],SettingList:[],AddChannelConfigurationPopup:!1,showChannelModal:!1,mapStatusId:0,SourceId:0,AddChannel:null,TotalRecords:0,PageSize:10,PageNumber:1,CurrentPage:1,SortBy:"",SortExp:"",user_type:null,user_id:null,companyId:null,listActions:u.listActions,Headers:[{COLUMN_NAME:"ACCOUNT_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Account Name",DISPLAY_ORDER:1},{COLUMN_NAME:"CHANNEL_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Channel Name",DISPLAY_ORDER:2},{COLUMN_NAME:"CREATED_BY",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Created By",DISPLAY_ORDER:3},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:4}],listheaderbuttons:u.buttons,leftSearchFields:u.leftsearchSchema,IsGroupView:!0,noRecord:!1,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}]}},created:async function(){var e=this;this.user_id=this.GetUserInfo.ID,this.user_type=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,await this.FetchData(),await u.bindleftCommonSearchdropdown(e,"FSM","FSM_USERS")},methods:{paramsToObject(e){const t={};for(const[a,n]of e)t[a]=n;return t},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){default:t.isVisible=!0}a.push(t)}),a},actionButtonClick:function(e,t,a,n){switch(e){case"commonDeleteData":this.commonDelete(t.SOURCE_ID);break;case"editChannelConfig":this.editChannelConfig(t.SOURCE_ID,t.CHANNEL_NAME);break}},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"openaddAddchannel":this.openAddchannelConfiguration(e.id);break}},openAddchannelConfiguration:function(e){void 0==e&&(e=0),this.AddChannel=e,this.AddChannelConfigurationPopup=!this.AddChannelConfigurationPopup},editChannelConfig:function(e,t){var a=this;if("Email"===t){var n="postString="+e;o["a"].GetTicketingChannelSourceById(n).then(t=>{if(null!=t.data.result.data&&t.data.result.data.length>0){var n=t.data.result.data[0];"IMAP"===n.TYPE.toUpperCase()?(a.tabChange="imapSettings",a.AddChannel="Edit",a.SettingList=n,a.SourceId=e,a.AddChannelConfigurationPopup=!0):"EXCHANGE"===n.TYPE.toUpperCase()&&(a.tabChange="exchangeSettings",a.AddChannel="Edit",a.SettingList=n,a.AddChannelConfigurationPopup=!0)}})}},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},FetchData:async function(){var e=this,t="";const a=/LIKE '%(.*?)%'/,n=/'([^']+)'/;var i=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}`;if(this.isBlank(this.searchCondition)||(t+=this.searchCondition),!this.isBlank(t))if(t.includes("account_name")){var s=t.match(a);i=i+"&accountName="+s[1]}else if(t.includes("channel_name")){var l=t.match(a);i=i+"&channelName="+l[1]}else if(t.includes("created_by")){var c=t.match(n);i=i+"&createdBy="+c[1]}else if(t.includes("Status")){var r=t.match(n);i=i+"&statusId="+r[1]}await o["a"].FetchFSMTicketingSetupSources(i).then((function(t){""!=t.data&&null!=t.data?(e.Headers.forEach(e=>{e.settings=null,"STATUS_ID"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"Action"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),t.data.result.DATA.length>0?(e.channelConfigList=t.data.result.DATA,e.TotalRecords=t.data.result.DATA.length,e.CurrentPage=e.PageNumber,e.listheaderbuttons[1].isdisabled=!0,e.noRecord=!1):(e.channelConfigList=t.data.result.DATA,e.noRecord=!0,e.TotalRecords=0)):(e.noRecord=!0,e.Headers=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},getStatusClass:function(e){var t="";switch(e){case"Active":t="px-2 text-center bg-success text-white d-block";break;case"Inactive":t="px-2 text-center bg-danger text-white d-block";break;default:t=""}return t},commonDeleteData:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Resource"),(function(){var e={ids:a,companyId:t.companyId,userId:t.user_id,moduleName:"FSM",refCode:"DELETE_FSM_TICKET_SOURCE"},n=JSON.stringify(e);o["a"].deleteActivityData(n).then(e=>{var a="";"Success"==e.data[0].Status?(vueObj.listheaderbuttons[1].isdisabled=!0,t.FetchData(),a=t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Record")]),"Success",!0,t.$t("Alert"))):a=t.ShowAlert(t.$t("DeletedError",[t.$t("Record")]),"failure",!0,t.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)})})):alert(t.$t("Selectanyrecordtodelete"))},commonDelete:function(e){var t=this;e>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Resource"),(function(){var a={ids:e,companyId:t.companyId,userId:t.user_id,moduleName:"FSM",refCode:"DELETE_FSM_TICKET_SOURCE"},n=JSON.stringify(a);o["a"].deleteActivityData(n).then(e=>{var a="";"Success"==e.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteItem']").removeClass("enable").addClass("disabled"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.FetchData(),a=t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Record")]),"Success",!0,t.$t("Alert"))):a=t.ShowAlert(t.$t("DeletedError",[t.$t("Record")]),"failure",!0,t.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)})})):alert(t.$t("Selectanyrecordtodelete"))},UpdateStatus:async function(e){var t=this;e="Active"==e?1001:1002;var a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0&&t.confirmR(t.$t("Confirm"),!0,t.$t("update")+"  "+t.$t("status"),(function(){var n=`id=${a}&status_id=${e}&isFor=group`;o["a"].updatestatus(n).then(e=>{1==e.data&&($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.FetchData())})}))}}},I=T,N=Object(g["a"])(I,n,i,!1,null,null,null);t["default"]=N.exports},fc98:function(e,t,a){"use strict";a("449a")}}]);
//# sourceMappingURL=chunk-38169c80.js.map