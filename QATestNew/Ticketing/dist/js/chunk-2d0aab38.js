(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aab38"],{"11ac":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{directives:[{name:"show",rawName:"v-show",value:e.IsServiceView,expression:"IsServiceView"}],attrs:{IsShowAction:!0,ModuleName:"Ticketing",SubModuleCode:"Ticketing",IdentityColumn:"service_type_id",HeaderText:e.$t("Services"),listType:["List"],LegendArray:[],ListData:e.ServiceListing,RenderRowActionMethod:e.renderActions,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,ListDataCallBackFunction:e.FetchRecords,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{ActionButtonClick:e.actionButtonClick,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,LeftsearchButtonClick:e.leftCommonSearch,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:i}){return["status_id"==i.column.COLUMN_NAME?[e.isCRMShowStausDrop(i.row.status_id,"Ticketing")?t("listing-status",{ref:"updatestatus",attrs:{isfor:"service",dataid:i.row.service_type_id,"data-controller":"Crm",statuslist:e.StatusListForListing,item:i.status_id,"data-action":"index",dataselected:1001==i.row.status_id?"Active":"Inactive",callbackfunction:e.FetchRecords,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(i.row.status_id,"Ticketing")?e._e():t("a",{staticClass:"inactive-disabled"},[t("span",{class:e.getStatusClass(i.row.status_id,"status_id")},[e._v(" "+e._s(i.row[i.column.COLUMN_NAME])+" ")])])]:e._e(),"cost"==i.column.COLUMN_NAME?[t("span",[t("span",[e._v("$")]),e._v(e._s(i.row.cost)+" ")])]:e._e(),"unit_price"==i.column.COLUMN_NAME?[t("span",[t("span",[e._v("$")]),e._v(e._s(i.row.unit_price)+" ")])]:e._e(),"created_at"==i.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDateTime(i.row.created_at))+" ")])]:e._e(),"service_type_name"==i.column.COLUMN_NAME?[t("RouterLink",{attrs:{to:"/Ticketing/AddService/"+i.row.service_type_id,title:i.row[i.column.COLUMN_NAME],"data-toggle-tooltip":"tooltip","data-original-title":"Click here to edit Service"}},[e._v(" "+e._s(i.row[i.column.COLUMN_NAME])+" ")])]:e._e()]}}])})],1)},s=[];i("14d9");let o=[{title:"Add",iconClass:"fa fa-plus",callbackfunction:"openAddService",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddService"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],n=[{COLUMN_NAME:"service_type_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Service Name",DISPLAY_ORDER:1},{COLUMN_NAME:"worktype_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Work Type",DISPLAY_ORDER:2},{COLUMN_NAME:"cost",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Cost",DISPLAY_ORDER:3},{COLUMN_NAME:"markup",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Markup (%)",DISPLAY_ORDER:4},{COLUMN_NAME:"unit_price",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Unit Price",DISPLAY_ORDER:5},{COLUMN_NAME:"service_duration",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Service Duration",DISPLAY_ORDER:6},{COLUMN_NAME:"created_at",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created Dated",DISPLAY_ORDER:7},{COLUMN_NAME:"created_by",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created By",DISPLAY_ORDER:8},{COLUMN_NAME:"status_id",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:10}],c=[{fieldName:"Service Name",fieldType:"text",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["TTS.service_type_name"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Duration Type",fieldType:"ddl-check",fieldIcon:"fa-clock-o",fieldSearchConditionName:["TTS.service_duration"],isSearch:!1,value:"",listOptions:[{name:"Hours",value:"HH"},{name:"Minutes",value:"MM"}]},{fieldName:"Created By",fieldType:"ddl-check",fieldIcon:"fa-user",fieldSearchConditionName:["TTS.created_by"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Work Type",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["TTS.work_type_id"],isSearch:!1,value:"",listOptions:[]}],r=[{title:"View",href:"javascript:void(0)",callbackfunction:"ClickOnView",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"Edit",additionalSpan:""},{title:"Publish",href:"javascript:void(0)",callbackfunction:"ClickOnView",icon:"fa fa-check action-icon",additionalSpan:""}];var d={buttons:o,Headers:n,leftsearchSchema:c,listActions:r},l=i("9769"),u={data(){return{noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,listheaderbuttons:d.buttons,Headers:d.Headers,leftSearchFields:d.leftsearchSchema,listActions:d.listActions,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,SearchCondition:"",ServiceListing:[],conditionForInstantSearch:"",IsServiceView:!0}},created:async function(){var e=this;await e.FetchRecords()},methods:{FetchRecords:async function(){var e=this,t="",i=`sortBy=${e.SortBy}&sortExp=${e.SortExp}&pagesize=${e.PageSize}&pagenumber=${e.PageNumber}`;this.isBlank(this.searchCondition)||(t+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(t+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=t&&(i=i+"&search="+t),await l["a"].GetServiceListing(i).then((function(t){""!=t.data&&null!=t.data?(e.Headers.forEach(e=>{e.settings=null,"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"service_type_name"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"created_at"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"cost"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"unit_price"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),t.data.result.data.length>0?(e.ServiceListing=t.data.result.data,e.TotalRecords=t.data.result.data[0].TOTALRECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1):(e.noRecord=!0,e.TotalRecords=0,e.ServiceListing=[])):(e.noRecord=!0,e.TotalRecords=0,e.ServiceListing=[]),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchRecords()},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchRecords()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},renderActions:function(e){var t=this;let i=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"View":t.isVisible=!0;break;case"Edit":t.isVisible=!0;break;case"Publish":t.isVisible=!0;break;default:t.isVisible=!0}i.push(t)}),i},actionButtonClick(e,t,i,a){switch(e){case"View":break;case"Edit":break;case"Publish":break}},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.DeleteServiceData();break;case"openAddService":this.OpenManagePopup(null);break;case"updateStatus":this.UpdateStatus(e.id);break}},OpenManagePopup:function(){var e=this;e.$router.push({name:"AddService",params:{id:0}})},UpdateStatus:async function(e){var t=this;e="Active"==e?1001:1002;var i="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=$(this).val()})),i.length>0&&t.confirmR(t.$t("ConfirmActiveInactiveStatus"),!0,t.$t("Active")+"  "+t.$t("Inactive"),(function(){var a=`id=${i}&statusId=${e}&isFor=service`;l["a"].updatestatus(a).then(e=>{1==e.data&&($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("Status")]),"success",!0,t.$t("Alert")),t.FetchData())})}))}}},S=u,h=i("2877"),_=Object(h["a"])(S,a,s,!1,null,null,null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0aab38.js.map