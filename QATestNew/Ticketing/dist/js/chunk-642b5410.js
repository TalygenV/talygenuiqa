(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-642b5410"],{"11ac":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"divMainFormData"}},[e("section",[e("tg-list",{directives:[{name:"show",rawName:"v-show",value:t.IsServiceView,expression:"IsServiceView"}],attrs:{IsShowAction:!0,ModuleName:"Ticketing",SubModuleCode:"Ticketing",IdentityColumn:"service_type_id",HeaderText:t.$t("Services"),listType:["List"],LegendArray:[],ListData:t.ServiceListing,RenderRowActionMethod:t.renderActions,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchRecords,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,LeftsearchButtonClick:t.leftCommonSearch,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:i}){return["status_id"==i.column.COLUMN_NAME?[t.isCRMShowStausDrop(i.row.status_id,"Ticketing")?e("listing-status",{ref:"updatestatus",attrs:{isfor:"service",dataid:i.row.service_type_id,"data-controller":"Crm",statuslist:t.StatusListForListing,item:i.status_id,"data-action":"index",dataselected:1001==i.row.status_id?"Active":"Inactive",callbackfunction:t.FetchRecords,isselectedvaluestring:!0}}):t._e(),t.isCRMShowStausDrop(i.row.status_id,"Ticketing")?t._e():e("a",{staticClass:"inactive-disabled"},[e("span",{class:t.getStatusClass(i.row.status_id,"status_id")},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])])]:t._e(),"cost"==i.column.COLUMN_NAME?[e("span",[e("span",[t._v("$")]),t._v(t._s(i.row.cost)+" ")])]:t._e(),"unit_price"==i.column.COLUMN_NAME?[e("span",[e("span",[t._v("$")]),t._v(t._s(i.row.unit_price)+" ")])]:t._e(),"created_at"==i.column.COLUMN_NAME?[e("span",[t._v(" "+t._s(t.$options.filters.formatDateTime(i.row.created_at))+" ")])]:t._e(),"service_type_name"==i.column.COLUMN_NAME?[e("RouterLink",{attrs:{to:"/Ticketing/AddService/"+i.row.service_type_id,title:i.row[i.column.COLUMN_NAME],"data-toggle-tooltip":"tooltip","data-original-title":"Click here to edit Service"}},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])]:t._e()]}}])})],1),t.ServiceDetailPopup?e("ServiceDetail",{attrs:{ServiceDetailRecord:t.ServiceDetailRecord}}):t._e()],1)},s=[];i("14d9");let c=[{title:"Add",iconClass:"fa fa-plus",callbackfunction:"openAddService",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddService"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],o=[{COLUMN_NAME:"service_type_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Service Name",DISPLAY_ORDER:1},{COLUMN_NAME:"worktype_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Work Type",DISPLAY_ORDER:2},{COLUMN_NAME:"cost",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Cost",DISPLAY_ORDER:3},{COLUMN_NAME:"markup",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Markup (%)",DISPLAY_ORDER:4},{COLUMN_NAME:"unit_price",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Unit Price",DISPLAY_ORDER:5},{COLUMN_NAME:"service_duration",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Service Duration",DISPLAY_ORDER:6},{COLUMN_NAME:"created_at",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created Dated",DISPLAY_ORDER:7},{COLUMN_NAME:"created_by",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created By",DISPLAY_ORDER:8},{COLUMN_NAME:"status_id",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:10}],r=[{fieldName:"Service Name",fieldType:"text",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["TTS.service_type_name"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Duration Type",fieldType:"ddl-check",fieldIcon:"fa-clock-o",fieldSearchConditionName:["TTS.service_duration"],isSearch:!1,value:"",listOptions:[{name:"Hours",value:"HH"},{name:"Minutes",value:"MM"}]},{fieldName:"Created By",fieldType:"ddl-check",fieldIcon:"fa-user",fieldSearchConditionName:["TTS.created_by"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Work Type",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["TTS.work_type_id"],isSearch:!1,value:"",listOptions:[]}],l=[{title:"View",href:"javascript:void(0)",callbackfunction:"ClickOnView",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"Edit",additionalSpan:""},{title:"Publish",href:"javascript:void(0)",callbackfunction:"ClickOnView",icon:"fa fa-check action-icon",additionalSpan:""}];var n={buttons:c,Headers:o,leftsearchSchema:r,listActions:l},d=i("9769"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Service Name:"))+" "+t._s(t.ServiceTypeName))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.Close()}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body",staticStyle:{"max-height":"70vh",overflow:"auto"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"panel1"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 mb-2"},[e("span",[t._v(t._s(t.$t("Service Details")))])])]),t._l(t.ServiceDetailData,(function(i,a){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Created Date"))+":")]),t._v(" "+t._s(t.$options.filters.formatDate(i.created_at)))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Created By"))+":")]),t._v(" "+t._s(i.created_by))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Cost"))+":")]),t._v(" "+t._s(t.$t("$")+i.cost))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Markup(%)"))+":")]),t._v(" "+t._s(i.markup))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Unit Price"))+":")]),t._v(" "+t._s(t.$t("$")+i.unit_price))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Service Duration"))+":")]),t._v(" "+t._s(i.service_duration))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Status"))+":")]),t._v(" "+t._s(1001==i.status_id?t.$t("Active"):t.$t("InActive")))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Description"))+":")]),t._v(" "+t._s(i.service_description))])])])])}))],2),e("div",{staticClass:"panel1"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 mb-2"},[e("span",[t._v(t._s(t.$t("Work Type Details")))])])]),t._l(t.ServiceDetailData,(function(i,a){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Work Type Name"))+":")]),t._v(" "+t._s(i.worktype_name))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Duration Type"))+":")]),t._v(" "+t._s(i.duration_type))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Auto Create Service"))+":")]),t._v(" "+t._s(i.auto_create_sa?t.$t("Yes"):t.$t("No")))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Minimum Crew Size"))+":")]),t._v(" "+t._s(i.min_crew_size))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Recommended Crew Size"))+":")]),t._v(" "+t._s(i.rec_crew_size))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Estimate Duration"))+":")]),t._v(" "+t._s(i.estimate_duration))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Max Duration"))+":")]),t._v(" "+t._s(i.maximum_duration))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Color"))+":")])]),e("div",{staticClass:"color-box",style:{backgroundColor:i.color}})])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("Description"))+":")]),t._v(" "+t._s(i.worktype_description))])])])])}))],2)])])])])])],1)},v=[],_={props:{ServiceDetailRecord:{type:Array,required:!0}},data(){return{ServiceDetailData:[],ServiceTypeName:null,isLoading:!1,NoRecord:!1,UserType:null}},created:function(){var t=this;t.isBlank(t.ServiceDetailRecord)||(t.ServiceDetailData=t.ServiceDetailRecord,t.ServiceTypeName=t.ServiceDetailData[0].service_type_name)},methods:{Close(){this.$parent.ServiceDetailPopup=!1,vm.ServiceDetailData=null}}},S=_,p=(i("e857"),i("2877")),h=Object(p["a"])(S,u,v,!1,null,null,null),m=h.exports,C={components:{ServiceDetail:m},data(){return{noRecords:!1,TotalRecords:0,ServiceDetailPopup:!1,CurrentPage:1,TotalPages:0,listheaderbuttons:n.buttons,Headers:n.Headers,leftSearchFields:n.leftsearchSchema,listActions:n.listActions,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,SearchCondition:"",ServiceListing:[],ServiceDetailRecord:[],conditionForInstantSearch:"",IsServiceView:!0}},created:async function(){var t=this;await t.FetchRecords()},methods:{FetchRecords:async function(){var t=this,e="",i=`sortBy=${t.SortBy}&sortExp=${t.SortExp}&pagesize=${t.PageSize}&pagenumber=${t.PageNumber}`;this.isBlank(this.searchCondition)||(e+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(e+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=e&&(i=i+"&search="+e),await d["a"].GetServiceListing(i).then((function(e){""!=e.data&&null!=e.data?(t.Headers.forEach(t=>{t.settings=null,"status_id"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"service_type_name"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"created_at"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"cost"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"unit_price"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),e.data.result.data.length>0?(t.ServiceListing=e.data.result.data,t.TotalRecords=e.data.result.data[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1):(t.noRecord=!0,t.TotalRecords=0,t.ServiceListing=[])):(t.noRecord=!0,t.TotalRecords=0,t.ServiceListing=[]),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchRecords()},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition="",this.FetchRecords()},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},renderActions:function(t){var e=this;let i=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"View":e.isVisible=!0;break;case"Edit":e.isVisible=!0;break;case"Publish":e.isVisible=!0;break;default:e.isVisible=!0}i.push(e)}),i},actionButtonClick(t,e,i,a){switch(t){case"ClickOnView":this.ServiceTypeDetail(e.service_type_id);break;case"Edit":break;case"Publish":break}},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"commonDeleteData":this.DeleteServiceData();break;case"openAddService":this.OpenManagePopup(null);break;case"updateStatus":this.UpdateStatus(t.id);break}},OpenManagePopup:function(){var t=this;t.$router.push({name:"AddService",params:{id:0}})},ServiceTypeDetail:async function(t){var e=this;e.ServiceDetailRecord=[];var i="serviceTypeId="+t;await d["a"].GetServiceDetail(i).then((function(t){e.ServiceDetailRecord=t.data.result.data,e.ServiceDetailPopup=!0,console.log(e.ServiceDetailRecord)}))},UpdateStatus:async function(t){var e=this;t="Active"==t?1001:1002;var i="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=$(this).val()})),i.length>0&&e.confirmR(e.$t("ConfirmActiveInactiveStatus"),!0,e.$t("Active")+"  "+e.$t("Inactive"),(function(){var a=`id=${i}&statusId=${t}&isFor=service`;d["a"].updatestatus(a).then(t=>{1==t.data&&($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Status")]),"success",!0,e.$t("Alert")),e.FetchData())})}))}}},f=C,A=Object(p["a"])(f,a,s,!1,null,null,null);e["default"]=A.exports},2682:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".card-body{padding:0}.color-box{width:60px;height:18px;display:inline-block;border:1px solid #ccc;vertical-align:middle;border-radius:10px}",""]),t.exports=e},ca35:function(t,e,i){var a=i("2682");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("499e").default;s("acee8532",a,!0,{sourceMap:!1,shadowMode:!1})},e857:function(t,e,i){"use strict";i("ca35")}}]);
//# sourceMappingURL=chunk-642b5410.js.map