(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-642b5410"],{"11ac":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"divMainFormData"}},[t("section",[t("tg-list",{directives:[{name:"show",rawName:"v-show",value:e.IsServiceView,expression:"IsServiceView"}],attrs:{IsShowAction:!0,ModuleName:"Ticketing",SubModuleCode:"Ticketing",IdentityColumn:"service_type_id",HeaderText:e.$t("Services"),listType:["List"],LegendArray:[],ListData:e.ServiceListing,RenderRowActionMethod:e.renderActions,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,ListDataCallBackFunction:e.FetchRecords,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{ActionButtonClick:e.actionButtonClick,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,LeftsearchButtonClick:e.leftCommonSearch,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:i}){return["status_id"==i.column.COLUMN_NAME?[e.isCRMShowStausDrop(i.row.status_id,"Ticketing")?t("listing-status",{ref:"updatestatus",attrs:{isfor:"service",dataid:i.row.service_type_id,"data-controller":"Crm",statuslist:e.StatusListForListing,item:i.status_id,"data-action":"index",dataselected:1001==i.row.status_id?"Active":"Inactive",callbackfunction:e.FetchRecords,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(i.row.status_id,"Ticketing")?e._e():t("a",{staticClass:"inactive-disabled"},[t("span",{class:e.getStatusClass(i.row.status_id,"status_id")},[e._v(" "+e._s(i.row[i.column.COLUMN_NAME])+" ")])])]:e._e(),"cost"==i.column.COLUMN_NAME?[t("span",[t("span",[e._v("$")]),e._v(e._s(i.row.cost)+" ")])]:e._e(),"unit_price"==i.column.COLUMN_NAME?[t("span",[t("span",[e._v("$")]),e._v(e._s(i.row.unit_price)+" ")])]:e._e(),"created_at"==i.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDateTime(i.row.created_at))+" ")])]:e._e(),"service_type_name"==i.column.COLUMN_NAME?[t("RouterLink",{attrs:{to:"/Ticketing/AddService/"+i.row.service_type_id,title:i.row[i.column.COLUMN_NAME],"data-toggle-tooltip":"tooltip","data-original-title":"Click here to edit Service"}},[e._v(" "+e._s(i.row[i.column.COLUMN_NAME])+" ")])]:e._e()]}}])})],1),e.ServiceDetailPopup?t("ServiceDetail",{attrs:{ServiceDetailRecord:e.ServiceDetailRecord}}):e._e()],1)},s=[],o=(i("14d9"),i("9769"));let c=[{title:"Export",iconClass:"fa fa-file-excel-o",callbackfunction:"DownloadExcelDataNew",additionalClass:"",href:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add",iconClass:"fa fa-plus",callbackfunction:"openAddService",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddService"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],r=[{COLUMN_NAME:"service_type_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Service Name",DISPLAY_ORDER:1},{COLUMN_NAME:"worktype_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Work Type",DISPLAY_ORDER:2},{COLUMN_NAME:"cost",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Cost",DISPLAY_ORDER:3},{COLUMN_NAME:"markup",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Markup (%)",DISPLAY_ORDER:4},{COLUMN_NAME:"unit_price",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Unit Price",DISPLAY_ORDER:5},{COLUMN_NAME:"service_duration",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Service Duration",DISPLAY_ORDER:6},{COLUMN_NAME:"created_at",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created Dated",DISPLAY_ORDER:7},{COLUMN_NAME:"created_by",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created By",DISPLAY_ORDER:8},{COLUMN_NAME:"status_id",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:10}],l=[{fieldName:"Service Name",fieldType:"text",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["TTS.service_type_name"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Duration Type",fieldType:"ddl-check",fieldIcon:"fa-clock-o",fieldSearchConditionName:["TTS.service_duration"],isSearch:!1,value:"",listOptions:[{name:"Hours",value:"HH"},{name:"Minutes",value:"MM"}]},{fieldName:"Created By",fieldType:"ddl-check",fieldIcon:"fa-user",fieldSearchConditionName:["TTS.created_by"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Work Type",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["TTS.work_type_id"],isSearch:!1,value:"",listOptions:[]}],n=[{title:"View",href:"javascript:void(0)",callbackfunction:"ClickOnView",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"Edit",additionalSpan:""},{title:"Publish",href:"javascript:void(0)",callbackfunction:"Publish",icon:"fa fa-check action-icon",additionalSpan:""}];async function d(e,t,i,a,s){var c=e,r="moduleName=Ticketing&type="+i;"USERS"==i?await o["a"].GetDDLData(r).then(e=>{""!=e.data&&e.data.DATA.length&&e.data.DATA.forEach(e=>{let t={name:e.name,value:e.value};c.leftSearchFields[2].listOptions.push(t)})}):"Work_Type_List"==i&&await o["a"].GetDDLData(r).then(e=>{""!=e.data&&e.data.DATA.length&&e.data.DATA.forEach(e=>{let t={name:e.name,value:e.value};c.leftSearchFields[3].listOptions.push(t)})})}var u={buttons:c,Headers:r,leftsearchSchema:l,listActions:n,bindleftCommonSearchdropdown:d},v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Service Name:"))+" "+e._s(e.ServiceTypeName))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.Close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body",staticStyle:{"max-height":"70vh",overflow:"auto"}},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"panel1"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5 mb-2"},[t("span",[e._v(e._s(e.$t("Service Details")))])])]),e._l(e.ServiceDetailData,(function(i,a){return t("div",{key:a,staticClass:"row"},[t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Created Date"))+":")]),e._v(" "+e._s(e.$options.filters.formatDate(i.created_at)))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Created By"))+":")]),e._v(" "+e._s(i.created_by))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Cost"))+":")]),e._v(" "+e._s(e.$t("$")+i.cost))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Markup(%)"))+":")]),e._v(" "+e._s(i.markup))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Unit Price"))+":")]),e._v(" "+e._s(e.$t("$")+i.unit_price))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Service Duration"))+":")]),e._v(" "+e._s(i.service_duration))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Status"))+":")]),e._v(" "+e._s(1001==i.status_id?e.$t("Active"):e.$t("InActive")))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Description"))+":")]),e._v(" "+e._s(i.service_description))])])])])}))],2),t("div",{staticClass:"panel1"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5 mb-2"},[t("span",[e._v(e._s(e.$t("Work Type Details")))])])]),e._l(e.ServiceDetailData,(function(i,a){return t("div",{key:a,staticClass:"row"},[t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Work Type Name"))+":")]),e._v(" "+e._s(i.worktype_name))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Duration Type"))+":")]),e._v(" "+e._s(i.duration_type))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Auto Create Service"))+":")]),e._v(" "+e._s(i.auto_create_sa?e.$t("Yes"):e.$t("No")))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Minimum Crew Size"))+":")]),e._v(" "+e._s(i.min_crew_size))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Recommended Crew Size"))+":")]),e._v(" "+e._s(i.rec_crew_size))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Estimate Duration"))+":")]),e._v(" "+e._s(i.estimate_duration))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Max Duration"))+":")]),e._v(" "+e._s(i.maximum_duration))])])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Color"))+":")])]),t("div",{staticClass:"color-box",style:{backgroundColor:i.color}})])]),t("div",{staticClass:"col-md-6 col-lg-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Description"))+":")]),e._v(" "+e._s(i.worktype_description))])])])])}))],2)])])])])])],1)},_=[],S={props:{ServiceDetailRecord:{type:Array,required:!0}},data(){return{ServiceDetailData:[],ServiceTypeName:null,isLoading:!1,NoRecord:!1,UserType:null}},created:function(){var e=this;e.isBlank(e.ServiceDetailRecord)||(e.ServiceDetailData=e.ServiceDetailRecord,e.ServiceTypeName=e.ServiceDetailData[0].service_type_name)},methods:{Close(){this.$parent.ServiceDetailPopup=!1,vm.ServiceDetailData=null}}},p=S,h=(i("e857"),i("2877")),m=Object(h["a"])(p,v,_,!1,null,null,null),f=m.exports,C={components:{ServiceDetail:f},data(){return{noRecords:!1,TotalRecords:0,ServiceDetailPopup:!1,CurrentPage:1,TotalPages:0,listheaderbuttons:u.buttons,Headers:u.Headers,leftSearchFields:u.leftsearchSchema,listActions:u.listActions,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,SearchCondition:"",ServiceListing:[],ServiceDetailRecord:[],conditionForInstantSearch:"",IsServiceView:!0}},created:async function(){var e=this;await e.FetchRecords(),await u.bindleftCommonSearchdropdown(e,"Ticketing","USERS"),await u.bindleftCommonSearchdropdown(e,"Ticketing","Work_Type_List")},methods:{FetchRecords:async function(){var e=this,t="",i=`sortBy=${e.SortBy}&sortExp=${e.SortExp}&pagesize=${e.PageSize}&pagenumber=${e.PageNumber}`;this.isBlank(this.searchCondition)||(t+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(t+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=t&&(i=i+"&search="+t),await o["a"].GetServiceListing(i).then((function(t){""!=t.data&&null!=t.data?(e.Headers.forEach(e=>{e.settings=null,"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"service_type_name"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"created_at"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"cost"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"unit_price"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),t.data.result.data.length>0?(e.ServiceListing=t.data.result.data,e.TotalRecords=t.data.result.data[0].TOTALRECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1):(e.noRecord=!0,e.TotalRecords=0,e.ServiceListing=[])):(e.noRecord=!0,e.TotalRecords=0,e.ServiceListing=[]),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchRecords()},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchRecords()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},renderActions:function(e){var t=this;let i=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"View":t.isVisible=!0;break;case"Edit":t.isVisible=!0;break;case"Publish":t.isVisible=!0;break;default:t.isVisible=!0}i.push(t)}),i},actionButtonClick(e,t,i,a){switch(e){case"ClickOnView":this.ServiceTypeDetail(t.service_type_id);break;case"Edit":this.EditServiceDetail(t);break;case"Publish":this.PublishDetail(t);break}},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.DeleteServiceData();break;case"openAddService":this.OpenManagePopup(null);break;case"updateStatus":this.UpdateStatus(e.id);break;case"DownloadExcelDataNew":this.DownloadExcelDataNew();break}},OpenManagePopup:function(){var e=this;e.$router.push({name:"AddService",params:{id:0}})},EditServiceDetail:function(e){var t=this;t.$router.push({name:"EditService",params:{item:e}})},PublishDetail:function(e){var t=this;t.$router.push({name:"PublishService",params:{worktype_id:e.worktype_id,servicetype_id:e.service_type_id,worktype_name:e.worktype_name,servicetype_name:e.service_type_name,service_duration:e.service_duration}})},DownloadExcelDataNew:function(){var e=this;e.isBlank(e.SearchCondition)||(e.PageNumber=1);var t=`sortBy=${e.SortBy}&sortExp=${e.SortExp}&pagesize=${e.PageSize}&pagenumber=${e.PageNumber}`;e.isBlank(e.SearchCondition)||(t=t+"&search="+e.SearchCondition),o["a"].GetServiceListing(t).then((function(t){"Success"==t.data.status&&(null==t.data.result?e.ShowAlertShowAlert($t("NoRecordfound"),"warning",!0,$t("Alert")):e.JSONToCSVConvertorData(t.data.result,"Service-Detail",!0))}))},ServiceTypeDetail:async function(e){var t=this;t.ServiceDetailRecord=[];var i="serviceTypeId="+e;await o["a"].GetServiceDetail(i).then((function(e){t.ServiceDetailRecord=e.data.result.data,t.ServiceDetailPopup=!0,console.log(t.ServiceDetailRecord)}))},UpdateStatus:async function(e){var t=this;e="Active"==e?1001:1002;var i="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=$(this).val()})),i.length>0&&t.confirmR(t.$t("ConfirmActiveInactiveStatus"),!0,t.$t("Active")+"  "+t.$t("Inactive"),(function(){var a=`id=${i}&statusId=${e}&isFor=service`;o["a"].updatestatus(a).then(e=>{1==e.data&&($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("Status")]),"success",!0,t.$t("Alert")),t.FetchData())})}))}}},g=C,A=Object(h["a"])(g,a,s,!1,null,null,null);t["default"]=A.exports},2682:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".card-body{padding:0}.color-box{width:60px;height:18px;display:inline-block;border:1px solid #ccc;vertical-align:middle;border-radius:10px}",""]),e.exports=t},ca35:function(e,t,i){var a=i("2682");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=i("499e").default;s("acee8532",a,!0,{sourceMap:!1,shadowMode:!1})},e857:function(e,t,i){"use strict";i("ca35")}}]);
//# sourceMappingURL=chunk-642b5410.js.map