(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54b9fa06"],{5828:function(e,t,a){"use strict";let s=[{title:"Add",iconClass:"fa fa-plus",callbackfunction:"CommonAddData",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddResource"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0},{title:"Back to list",iconClass:"fa fa-angle-double-left",callbackfunction:"BackToList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"BacktoList"}],i=[{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"Edit",additionalSpan:""}];t["a"]={buttons:s,listActions:i}},"8a36":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"divMainFormData"}},[t("section",{staticClass:"main-content",attrs:{id:"main-content"}},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"left-menu-tab div-click-event hr_jobpost_a"},[t("div",{staticClass:"col-md-12 p-0"},e._l(e.CrewList,(function(a){return t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white textelipsis"},[e._v(e._s(a.CREW_NAME))])])})),0),t("ul",{staticClass:"nav nav-pills flex-column left-tab mt-2 responivecustomtab",attrs:{id:"myTab",role:"tablist"}},[t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link left-menu",class:{"active show":1==e.activeKey},attrs:{"data-bs-target":"#tab-detail-content",href:"javascript:void(0)","data-bs-toggle":"tab",role:"tab",id:"tab-Details"},on:{click:function(t){return e.loadData("detail")}}},[t("em",{staticClass:"fa fa-ticket",attrs:{"aria-hidden":"true","aria-selected":"true"}}),e._v(" "+e._s(e.$t("Details"))+" ")])]),t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link left-menu",class:{"active show":2==e.activeKey},attrs:{"data-bs-target":"#tab-resource-content",href:"javascript:void(0)",id:"tab-resource-content","data-bs-toggle":"tab",role:"tab"},on:{click:function(t){return e.loadData("Resource")}}},[t("em",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true","aria-selected":"false"}}),e._v(" "+e._s(e.$t("Resource"))+" ")])]),t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link left-menu",class:{"active show":3==e.activeKey},attrs:{"data-bs-target":"#tab-service-content",href:"javascript:void(0)",id:"tab-service-content","data-bs-toggle":"tab",role:"tab"},on:{click:function(t){return e.loadData("Service")}}},[t("em",{staticClass:"fa fa-file-text",attrs:{"aria-hidden":"true","aria-selected":"false"}}),e._v(" "+e._s(e.$t("ServiceAppointment"))+" ")])])])]),t("div",{staticClass:"right-content"},[e.isDetail||e.isService?t("div",{staticClass:"col-md-12 p-0 mb-2"},[t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("span",{staticClass:"p-name text-white",attrs:{id:"span_ForSelectedTabName"}},[e._v(e._s(e.tabNameTitle))]),t("input",{attrs:{type:"hidden",id:"hdnActionName"},domProps:{value:e.Acctab}}),t("span",{staticClass:"p-actions float-right"},[t("RouterLink",{staticClass:"p-action-btn text-white float-right",attrs:{to:"/Ticketing/Crew"}},[t("em",{staticClass:"fa fa-angle-double-left"}),t("br"),e._v(" "+e._s(e.$t("BacktoList"))+" ")])],1),e._m(0)])]):e._e(),e.isDetail?t("div",{staticClass:"col-md-12 p-0 mt-2",attrs:{id:"crewData"}},[t("div",{staticClass:"card mb-3 probx"},[t("div",{staticClass:"card-header"},[t("h2",[e._v(e._s(e.$t("Details")))])]),t("div",{staticClass:"card-body"},e._l(e.CrewList,(function(a){return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6 col-lg-3"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("CrewName"))+":")]),e._v(" "+e._s(a.CREW_NAME))])])]),t("div",{staticClass:"col-md-6 col-lg-3"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("CrewSize"))+":")]),e._v(" "+e._s(a.FIRST_NAME)+" "+e._s(a.CREW_SIZE))])])]),t("div",{staticClass:"col-md-6 col-lg-3"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Status"))+":")]),e._v(" "),1002==a.STATUS_ID?t("span",[e._v(e._s(e.$t("Inactive")))]):e._e(),1001==a.STATUS_ID?t("span",[e._v(e._s(e.$t("Active")))]):e._e()])])]),t("div",{staticClass:"col-md-6 col-lg-3"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("Description"))+":")]),e._v(" "+e._s(a.DESCRIPTION))])])])])})),0)])]):e._e(),e.isResource?t("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":2==e.activeKey},attrs:{id:"tab-resource-content",role:"tabpanel","aria-labelledby":"tab-resource-content"}},[t("ResourceDatamodal",{attrs:{ResourceTypeId:e.ticketSourceId}})],1):e._e(),e.isService?t("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":3==e.activeKey},attrs:{id:"tab-service-content",role:"tabpanel","aria-labelledby":"tab-service-content"}},[t("ServiceAppointmentDataModal",{attrs:{ResourceTypeId:e.ticketSourceId}})],1):e._e()])],1)])},i=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-angle-up text-white"})])])}],r=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{attrs:{IsShowAction:!1,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:()=>{},widgets:[],IdentityColumn:"SA_ID",HeaderText:e.$t("ServiceAppointment"),listType:["List"],ListData:e.SAData,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,ListDataCallBackFunction:e.FetchServiceAppointment,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["View"==a.column.COLUMN_NAME?[t("td",{staticClass:"text-center single-action tourguide_a"},[t("RouterLink",{staticStyle:{color:"dodgerblue"},attrs:{to:"/ServiceAppointment/ViewSADetails/"+a.row.SA_ID,typetitle:e.$t("View"),dataid:a.row.SA_ID,title:e.$t("View")}},[t("em",{staticClass:"fa fa-eye text-info action-icon"})])],1)]:e._e(),"SA_Scheduled_StartTime"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDate(a.row.SA_Scheduled_StartTime))+" ")])]:e._e(),"SA_Scheduled_EndTime"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDate(a.row.SA_Scheduled_EndTime))+" ")])]:e._e()]}}])})],1)},o=[],c=a("9769"),l={data(){return{noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,SearchCondition:"",Headers:[{COLUMN_NAME:"SA_Number",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"SA Number",DISPLAY_ORDER:1},{COLUMN_NAME:"Subject",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Subject",DISPLAY_ORDER:2},{COLUMN_NAME:"crew_name",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Crew Name",DISPLAY_ORDER:3},{COLUMN_NAME:"SA_Scheduled_StartTime",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Scheduled Start Time",DISPLAY_ORDER:4},{COLUMN_NAME:"SA_Scheduled_EndTime",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Scheduled End Time",DISPLAY_ORDER:5},{COLUMN_NAME:"View",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Action",DISPLAY_ORDER:6}],listheaderbuttons:null,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,leftSearchFields:null,SAData:[]}},created:async function(){var e=this;await e.FetchServiceAppointment()},methods:{FetchServiceAppointment:function(){var e=this,t=`crewid=${this.$route.params.id}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}`;c["a"].FsmGetServiceAppointmentByCrew(t).then((function(t){e.Headers.forEach(e=>{e.settings=null,"SA_Scheduled_StartTime"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"SA_Scheduled_EndTime"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"View"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),e.SAData=[],""!=t.data&&null!=t.data?t.data.result.data[0].TOTALRECORDS>0?(e.SAData=t.data.result.data,e.TotalRecords=t.data.result.data[0].TOTALRECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.noRecord=!1):(e.noRecord=!0,e.SAData=[],e.TotalRecords=0):(e.noRecord=!0,e.SAData=[],e.Headers=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchServiceAppointment()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchServiceAppointment()}}},n=l,d=a("2877"),u=Object(d["a"])(n,r,o,!1,null,null,null),S=u.exports,h=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{attrs:{IsShowAction:!0,ModuleName:"Ticketing",SubModuleCode:"FSM_CREW",LegendArray:[],RenderRowActionMethod:e.renderActions,widgets:[],IdentityColumn:"CREW_RES_ID",HeaderText:e.$t("Resource"),listType:["List"],ListData:e.ResourceList,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,ListDataCallBackFunction:e.FetchResources,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{ActionButtonClick:e.actionButtonClick,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["ISLEADER"==a.column.COLUMN_NAME?[t("div",{staticClass:"form-group text-center mb-0"},[t("label",{staticClass:"switch disabled"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.row.ISLEADER,expression:"data.row.ISLEADER"},{name:"disabled",rawName:"v-disabled",value:e.disabled,expression:"disabled"}],staticClass:"form-check-input custom-control-input dynamic",attrs:{type:"checkbox",name:"IsLogin"},domProps:{checked:Array.isArray(a.row.ISLEADER)?e._i(a.row.ISLEADER,null)>-1:a.row.ISLEADER},on:{change:function(t){var s=a.row.ISLEADER,i=t.target,r=!!i.checked;if(Array.isArray(s)){var o=null,c=e._i(s,o);i.checked?c<0&&e.$set(a.row,"ISLEADER",s.concat([o])):c>-1&&e.$set(a.row,"ISLEADER",s.slice(0,c).concat(s.slice(c+1)))}else e.$set(a.row,"ISLEADER",r)}}}),t("span",{staticClass:"slider round",staticStyle:{cursor:"default"}},[t("span",{staticClass:"slider-yes"},[e._v("Yes")]),t("span",{staticClass:"slider-no"},[e._v("No")])])])])]:e._e(),"STATUS_NAME"==a.column.COLUMN_NAME?[t("a",{staticClass:"active"},["Active"==a.row.STATUS_NAME?t("span",{class:e.getStatusClassList(a.row.STATUS_NAME,"STATUS_NAME")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")]):e._e(),"Inactive"==a.row.STATUS_NAME?t("span",{class:e.getStatusClassList(a.row.STATUS_NAME,"STATUS_NAME")},[e._v(" "+e._s(e.$t("Inactive"))+" ")]):e._e()])]:e._e(),"STARTDT"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDate(a.row.STARTDT))+" ")])]:e._e(),"ENDDT"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDate(a.row.ENDDT))+" ")])]:e._e()]}}])}),e.AddEditCrewResourcePopup?t("AddEditCrewResourcePopup",{attrs:{CrewResId:e.CrewResId}}):e._e()],1)},m=[],p=(a("14d9"),a("88a7"),a("271a"),a("5494"),a("5828")),A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.ManageServiceCrew))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)])])])],1)},C=[],E={props:{CrewResId:{type:Object,required:!0}},data(){return{isLoading:!1,ManageServiceCrew:this.$t("AddFsmCrewResource"),FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("ResourceName"),name:"ResourceName",value:"",config:{options:[]},placeholder:this.$t("SelectResource"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]},{layoutType:"double",Data:[{astype:"DateField",label:this.$t("StartDateTime"),name:"StartDate",value:"",placeholder:this.$t("StartDateTime"),config:{format:"M/D/YYYY"}},{astype:"DateField",label:this.$t("EndDateTime"),name:"EndDate",value:"",placeholder:this.$t("EndDateTime"),config:{format:"M/D/YYYY"}}]},{layoutType:"double",Data:[{astype:"toggleField",label:this.$t("IsLeader"),name:"IsLeader",value:"",placeholder:"",validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}]}},created:async function(){this.FetchData(),this.GetResourceDdlRecords()},methods:{FetchData:function(){var e=this;e.ManageServiceCrew="",e.CrewResId.CREW_RES_ID>0?e.ManageServiceCrew=this.$t("EditFsmCrewResource"):e.ManageServiceCrew=this.$t("AddFsmCrewResource");var t="Id="+e.CrewResId.CREW_RES_ID;c["a"].FsmGetCrewResourceByCrewId(t).then((function(t){null!=t.data&&""!=t.data&&"Success"==t.data.status&&(e.FormSchema[0].Data[0].value=t.data.result.data[0].resource_id,e.FormSchema[0].Data[1].value=t.data.result.data[0].status_id,e.FormSchema[1].Data[0].value=t.data.result.data[0].startDt,e.FormSchema[1].Data[1].value=t.data.result.data[0].endDt,e.FormSchema[2].Data[0].value=t.data.result.data[0].isleader)}))},Close:function(){this.$parent.AddEditCrewResourcePopup=!1},GetResourceDdlRecords:async function(){var e=this,t="id=&&moduleName=FSM&type=FSM_RESOURCENAME&search=&refId=";await c["a"].GetDDLData(t).then((function(t){if(t.data){var a=t.data;null!=a&&t.data.DATA.forEach((t,a)=>{e.FormSchema[0].Data[0].config.options.push({value:t.value,name:t.name})})}}))},onSubmit(e,t){var a=this,s={Id:null==a.CrewResId.CREW_RES_ID?0:a.CrewResId.CREW_RES_ID,CrewID:this.$route.params.id,ResourceId:e.ResourceName,IsLeader:e.IsLeader,StartDt:""==e.StartDate?null:a.$options.filters.formatDate(e.StartDate),EndDt:""==e.EndDate?null:a.$options.filters.formatDate(e.EndDate),Status:e.Status},i=JSON.stringify(s);c["a"].SaveCrewResource(i).then(e=>{if("Success"==e.data.status){var t=JSON.parse(e.data.result);"ALREADY EXISTS"==t.MSG?(a.ShowAlert(a.$t("AlreadyExists",[a.$t("Resource")]),"failure",!0,a.$t("Alert")),a.Close()):(a.CrewResId.CREW_RES_ID>0?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Resource")]),"success",!0,a.$t("Alert")),a.Close()):a.ShowAlert(a.$t("AddedSuccess",[a.$t("Resource")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchResources())}else a.ShowAlert(a.$t("AddedError",[a.$t("Resource")]),"failure",!0,a.$t("Alert")),a.Close()})}}},v=E,_=Object(d["a"])(v,A,C,!1,null,null,null),R=_.exports,D={components:{AddEditCrewResourcePopup:R},data(){return{AddEditCrewResourcePopup:!1,noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,SearchCondition:"",listActions:p["a"].listActions,GroupStart:1,GroupEnd:3,Headers:[{COLUMN_NAME:"RESOURCE_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Resource Name",DISPLAY_ORDER:1},{COLUMN_NAME:"STARTDT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Start Date",DISPLAY_ORDER:2},{COLUMN_NAME:"ENDDT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"End Date",DISPLAY_ORDER:3},{COLUMN_NAME:"ISLEADER",DATA_TYPE:"",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Is Leader",DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:5,settings:{isInSlot:!0}}],listheaderbuttons:p["a"].buttons,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",search:"",GroupStart:1,GroupEnd:3,leftSearchFields:[],ResourceList:[],CrewResId:0,user_id:null,companyId:null}},created:async function(){var e=this;e.user_id=this.GetUserInfo.ID,e.user_type=this.GetUserInfo.UserType,e.companyId=this.GetUserInfo.CompanyId,await e.FetchResources()},methods:{getStatusClassList:function(e){var t="";switch(e){case"Active":t="px-2 text-center text-white d-block bg-success";break;case"Inactive":t="px-2 text-center text-white d-block bg-danger";break;default:t=""}return t},actionButtonClick(e,t,a,s){switch(e){case"Edit":this.openPopupForAddCrewResource(t);break}},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Edit":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},FetchResources:function(){var e=this,t=`crewid=${this.$route.params.id}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}`;c["a"].FsmGetResourcesByCrewId(t).then((function(t){e.ResourceList=[],e.Headers.forEach(e=>{e.settings=null,"STARTDT"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"ENDDT"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),null!=t.data&&""!=t.data&&("Success"==t.data.status?(e.ResourceList=t.data.result.data,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.ResourceList.length>0?(e.listheaderbuttons[1].isdisabled=!0,e.TotalRecords=t.data.result.data[0].TOTALRECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.NoRecord=!1):e.NoRecord=!0):e.NoRecord=!0,setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500))}))},leftCommonSearch:function(e){const t=new URLSearchParams(e.searchConditionJson),a=t.entries(),s=this.paramsToObject(a);s.hasOwnProperty("search")?this.search=s["search"]:this.search="",this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchResources()},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchResources()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchResources()},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"CommonAddData":this.openPopupForAddCrewResource(null);break;case"BackToList":this.BackToCrewList();break}},openPopupForAddCrewResource:function(e){void 0==e&&(e=0),this.CrewResId=e,this.AddEditCrewResourcePopup=!this.AddEditCrewResourcePopup},BackToCrewList:function(){this.$router.push({name:"CrewListing"})},commonDeleteData:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Resource"),(function(){var e={ids:a,companyId:t.companyId,userId:t.user_id,moduleName:"FSM",refCode:"TALYGEN_FSM_CREW_RESOURCE"},s=JSON.stringify(e);c["a"].deleteActivityData(s).then(e=>{var a="";"Success"==e.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.FetchResources(),a=t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Resource")]),"Success",!0,t.$t("Alert"))):a=t.ShowAlert(t.$t("DeletedError",[t.$t("Resource")]),"failure",!0,t.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)})})):alert(t.$t("Selectanyrecordtodelete"))}}},b=D,f=Object(d["a"])(b,h,m,!1,null,null,null),T=f.exports,g={components:{ResourceDatamodal:T,ServiceAppointmentDataModal:S},data(){return{CrewList:[],isDetail:!1,isResource:!1,isService:!1,NoRecord:!1,ResourceDatamodal:!1,ServiceAppointmentDataModal:!1,tabNameTitle:""}},created:function(){this.loadData("detail"),this.FetchData()},methods:{FetchData:function(){var e=this,t="crewid="+this.$route.params.id;c["a"].FsmGetCrewById(t).then((function(t){e.CrewList=[],null!=t.data&&""!=t.data&&("Success"==t.data.status?(e.CrewList=t.data.result.data,e.crewName=e.CrewList[0].CREW_NAME,e.CrewList.length>0?e.NoRecord=!1:e.NoRecord=!0):e.NoRecord=!0)}))},loadData:function(e,t){var a=this;"detail"==e?(a.isService=!1,a.isResource=!1,a.isDetail=!0,a.tabNameTitle="Service Crew Overview",a.activeKey=1):"Resource"==e?(a.isDetail=!1,a.isService=!1,a.isResource=!0,a.tabNameTitle="Resource",a.activeKey=2,a.openPopupForCrewResourceDetail(this.$route.params.id)):"Service"==e&&(a.isDetail=!1,a.isResource=!1,a.isService=!0,a.tabNameTitle="Service Appointment",a.activeKey=3,a.openPopupForCrewServiceDetail(this.$route.params.id))},openPopupForCrewResourceDetail:function(e){this.ResourceDatamodal=!this.ResourceDatamodal},openPopupForCrewServiceDetail:function(e){this.ServiceAppointmentDataModal=!this.ServiceAppointmentDataModal}}},N=g,w=Object(d["a"])(N,s,i,!1,null,null,null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-54b9fa06.js.map