(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12c34422"],{"0e0c":function(e,t,a){"use strict";a("8569")},"10e1":function(e,t,a){"use strict";a("d060")},2522:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'#Tree ul{min-height:78vh}.clearfix:after{content:"";clear:both;display:table}h3.form-heading{border-bottom:1px solid #ccc;padding-bottom:5px;font-weight:600;text-transform:none;margin-top:10px;font-size:18px;position:relative;width:100%}h3.form-heading span{position:relative;border-bottom:5px solid #2f4050;min-width:240px;display:inline-block;bottom:-8px}.subject{display:inline-block;color:#fff}.lock-gantt-view{float:right}.lock-gantt-view select{max-width:480px;display:inline-block;padding:5px;border-radius:4px}.lock-gantt-view.bg-success{border-color:#28a745!important}.e-schedule .e-timeline-view .e-work-hours{background-color:#fafafa!important}ul.e-list-parent{max-height:70vh}.e-bigger .treeview-external-drag .e-list-parent,.treeview-external-drag .e-list-parent{height:100%;padding:0 2px}.e-bigger .treeview-external-drag .e-list-item,.treeview-external-drag .e-list-item{height:100%;padding:0 0 5px 0}.e-bigger .treeview-external-drag .e-fullrow,.treeview-external-drag .e-fullrow{height:55px}.e-bigger .treeview-external-drag .e-list-item.e-active.e-hover>.e-fullrow,.e-bigger .treeview-external-drag .e-list-item.e-active>.e-fullrow,.e-bigger .treeview-external-drag .e-list-item.e-hover>.e-fullrow,.treeview-external-drag .e-list-item.e-active.e-hover>.e-fullrow,.treeview-external-drag .e-list-item.e-active>.e-fullrow,.treeview-external-drag .e-list-item.e-hover>.e-fullrow{background-color:transparent;border-color:transparent;box-shadow:none!important}.e-bigger .treeview-external-drag .e-text-content,.treeview-external-drag .e-text-content{padding:0}.e-bigger .e-drag-item.e-treeview.treeview-external-drag,.e-drag-item.e-treeview.treeview-external-drag{padding:0!important}.sa-color{float:right}.e-schedule.e-rtl.schedule-drag-drop .e-resource-cells.e-parent-node .specialist-category{padding-right:30px}.e-schedule.schedule-drag-drop .e-resource-cells.e-child-node .specialist-category,.e-schedule.schedule-drag-drop .e-resource-cells.e-child-node .specialist-name{padding:5px}.tailwind-dark .e-schedule.schedule-drag-drop .e-resource-cells.e-child-node .specialist-category,.tailwind-dark .e-schedule.schedule-drag-drop .e-resource-cells.e-child-node .specialist-name,.tailwind .e-schedule.schedule-drag-drop .e-resource-cells.e-child-node .specialist-category,.tailwind .e-schedule.schedule-drag-drop .e-resource-cells.e-child-node .specialist-name{padding:unset!important}.e-schedule.schedule-drag-drop .e-resource-cells.e-parent-node .specialist-name{padding:0 10px}.e-schedule.schedule-drag-drop .e-resource-cells.e-parent-node .template-wrap{padding:3px 0}.e-schedule.schedule-drag-drop .specialist-name{font-size:13px}.e-schedule.schedule-drag-drop .specialist-designation{font-size:10px}.e-schedule.schedule-drag-drop .specialist-img{width:45px!important;height:40px!important;float:left!important;border-radius:50%!important;margin-right:10px!important}.e-bigger .e-schedule-dialog .e-all-day-time-zone-row,.e-bigger .e-schedule-dialog .e-location-container,.e-schedule-dialog .e-all-day-time-zone-row,.e-schedule-dialog .e-location-container{display:none}.e-bigger .e-schedule-dialog .e-subject-container,.e-schedule-dialog .e-subject-container{padding-right:0;width:100%}.e-bigger .e-schedule-dialog.e-rtl .e-subject-container,.e-schedule-dialog.e-rtl .e-subject-container{padding-left:0}.e-device-hover{background-color:#e0e0e0!important}@media (max-width:550px){.e-bigger .treeview-external-drag.e-treeview,.treeview-external-drag.e-treeview{width:225px}.e-bigger .treeview-external-drag.e-treeview.e-drag-item{position:relative!important}}.e-control,.e-css{font-family:Lato,Open Sans,Helvetica,sans-serif!important}.e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn[aria-label=Next],.e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn[aria-label=Next]:hover,.e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn[aria-label=Previous],.e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn[aria-label=Previous]:hover{background:#2f4050;padding:6px}.e-schedule .e-schedule-toolbar .e-icon-next:before,.e-schedule .e-schedule-toolbar .e-icon-prev:before{color:#fff}.e-schedule .e-timeline-month-view .e-date-header-wrap table tbody td,.e-schedule .e-timeline-view .e-date-header-wrap table tbody td{height:44px!important;font-size:16px;font-weight:600;text-align:center;color:#2f4050}.e-schedule .e-timeline-month-view .e-date-header-wrap table tbody td>span,.e-schedule .e-timeline-view .e-date-header-wrap table tbody td>span{position:inherit!important;color:#2f4050}.e-schedule .e-schedule-toolbar .e-toolbar-items.e-tbar-pos{height:60px!important;background:#fff!important}.e-schedule .e-schedule-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn .e-tbar-btn-text{font-size:14px!important;color:#2f4050}.e-schedule .e-schedule-toolbar .e-toolbar-items .e-toolbar-item.e-active-view .e-tbar-btn .e-tbar-btn-text{color:#fff}.e-schedule .e-timeline-month-view .e-resource-text,.e-schedule .e-timeline-view .e-resource-text{color:#2f4050!important;font-size:16px!important;padding:4px 10px!important;font-weight:600!important;padding-right:50px!important;white-space:normal;line-height:18px;position:relative}.e-schedule .e-resource-text .name a#btnFilter{position:absolute;right:5px;top:8px;z-index:10}.e-schedule .e-resource-text .name a#clearFilter{position:absolute;right:30px;top:8px;color:#dc3545}.specialist-category{font-size:15px;text-transform:capitalize;font-weight:600!important}.e-schedule .e-resource-tree-icon:before{content:"\\e22f";font-weight:600!important}span.sa_unassigned{width:45px;height:40px;float:left;border-radius:50%;margin-right:10px;background:#3a3e3f;color:#fff;text-align:center}.main-content .panel .panel-content span.sa_unassigned i{font-size:22px;padding-right:0;padding-top:5px}.main-content .panel .panel-content .treeview-container h1{font-size:20px;background:#2f4050;padding:11px 12px;color:#fff;font-weight:300;margin-bottom:0;line-height:38px}.e-list-parent.e-ul{border:1px solid #d2d2d2;padding-top:10px;padding-bottom:10px;background:#fff}.e-treeview .e-text-content{padding:0 0 0 7px!important}.e-treeview .e-list-text{color:#2f4050!important;font-size:14px!important;width:100%}.e-treeview .e-list-text .bg-dark.text-white.p-2,.e-treeview .e-list-text .sa-color.text-white.p-2{float:right;font-size:13px!important;line-height:12px}.e-treeview .e-list-text .sa-color.text-white.p-2{max-width:120px;display:inline-block;text-overflow:ellipsis;overflow:hidden;border-radius:8px 8px 0 8px}.e-treeview .e-list-text .apmnt-no.text-white.p-2{font-size:14px!important;line-height:12px;display:inline-block;background:hsla(0,0%,87.8%,.8);color:#303030!important;font-weight:600}.e-treeview .e-list-text .apmnt-type.text-white.p-2{font-size:14px!important;line-height:12px;display:inline-block;background:#fff;color:#676767!important;font-weight:600;border-radius:8px 8px 8px 0;margin-left:20px!important}.e-treeview .e-list-text .sa-srt-dtl{position:relative}.e-treeview .e-list-text .sa-srt-dtl .sa-detail{background-color:#f1f1f1!important;position:absolute;padding:0;width:100%;top:24px;border-radius:0 8px 8px 8px;display:none;z-index:100;box-shadow:0 1px 0 0 #bdbdbd;font-size:12px!important}.e-treeview .e-list-text .sa-srt-dtl:hover .sa-detail{display:block}.e-treeview .e-list-text .sa-srt-dtl .sa-detail p{color:#2f4050;font-size:13px;margin:0 0 6px 0;white-space:normal}.e-treeview .e-list-text .sa-srt-dtl .sa-detail p i{font-size:13px}.e-treeview .e-list-text p.location-address{font-size:13px;margin-top:5px;margin-bottom:0!important;white-space:normal}.e-treeview .e-list-text p.contct-dtl{font-size:13px;margin-top:5px;text-align:right;padding-top:5px;margin-bottom:0!important;border-top:1px solid #e2e2e2}.e-treeview .e-list-text p.contct-dtl strong{float:left}.e-treeview .e-list-item{list-style:none!important;padding:12px 0!important;border-bottom:1px solid #d2d2d2!important}.e-treeview .e-list-item.e-hover,.e-treeview .e-list-item.e-node-focus{background:#f0f6fb!important}.e-schedule .e-schedule-toolbar .e-toolbar-items .e-toolbar-item.e-separator,.e-toolbar .e-toolbar-items .e-toolbar-item .e-tbar-btn.e-btn[aria-label=Today],.e-treeview .e-list-item.e-hover>.e-fullrow,.e-treeview .e-list-item.e-node-focus>.e-fullrow{display:none!important}.e-toolbar-item.e-date-range.e-overflow-show button{background:#2f4050;border-radius:2px;padding:0 5px!important;height:40px!important}.e-toolbar-item.e-date-range.e-overflow-show button:hover{opacity:.8;background:#2f4050;border-radius:2px;padding:0 5px!important}.e-toolbar-item.e-date-range.e-overflow-show button span{color:#fff!important}.e-toolbar .e-toolbar-items .e-toolbar-right .e-toolbar-item .e-tbar-btn.e-btn{padding:0 30px!important}.e-toolbar .e-toolbar-items .e-toolbar-right .e-toolbar-item.e-active-view .e-tbar-btn.e-btn{background:#2f4050;color:#fff;height:40px!important}.e-schedule .e-schedule-toolbar .e-toolbar-items .e-toolbar-left .e-tbar-btn.e-icon-btn:hover{background:#2f4050!important;border-radius:2px!important;opacity:.8!important;height:40px!important}.e-schedule .e-schedule-toolbar .e-toolbar-items .e-toolbar-left .e-tbar-btn.e-icon-btn:focus,.e-schedule .e-schedule-toolbar .e-toolbar-items .e-toolbar-left .e-tbar-btn.e-icon-btn:hover{border-radius:0!important}.e-calendar .e-content.e-year table{min-width:100px!important}.e-bigger.e-small .e-calendar .e-content td.e-selected span.e-day,.e-calendar .e-content td.e-selected span.e-day{background-color:#41b2f9!important}.e-footer-container button{color:#2f4050!important;font-weight:600!important}.e-toolbar .e-tbar-btn{background:#f0f0f0}.main-content .panel .panel-content .treeview-container h1{display:flex;justify-content:space-between}.select-in-tag{display:inline-block;max-width:180px;font-size:14px}.timezone #ancTimeZoneEdit{display:block;float:left;background:#f2f2f2;padding:6px 5px;border:1px solid #dfdfdf}.timezone #ancTimeZoneEdit a{float:left}.timezone #ddlTimeZone{padding-right:20px}.edit-time-pencil{float:left;width:30px;text-align:center;cursor:pointer}#divEditTimezone a#ancTimeZone{width:30px;float:right;line-height:36px}.select-in-tag .ng-select{background:none;height:38px}.e-schedule .e-timeline-month-view .e-resource-column-wrap,.e-schedule .e-timeline-view .e-resource-column-wrap{border-right:1px solid #dedede!important}.e-schedule .e-timeline-month-view .e-appointment,.e-schedule .e-timeline-view .e-appointment{height:15px!important;min-height:24px!important}.e-appointment-container .e-appointment-wrapper .e-appointment{min-width:60px!important}.employee-designation{padding-left:20px;color:#7d7d7d}.employee-category .dcontainer{height:30px;overflow:hidden;padding-right:10px}.employee-designation.added-space{padding-left:0;max-height:43px;overflow:hidden;overflow-x:auto;width:auto}.employee-name{font-weight:600;display:inline-block;width:calc(100% - 60px)}.employee-name.customer-trunc{width:calc(100% - 40px)}.cat-Name--gantt{font-weight:600;display:inline-block;padding-left:10px;font-size:15px!important;width:100%}.e-schedule .e-timeline-month-view .e-resource-tree-icon,.e-schedule .e-timeline-view .e-resource-tree-icon{float:right!important}#spnTimeZone{font-size:14px}.employee-category .gicon{display:inline-block!important;padding:8px;width:32px;height:32px;border-radius:50%;background:#ccc;text-align:center;line-height:17px}.employee-category .gicon i{display:inline-block!important;font-size:14px!important;padding-left:0!important;color:#333}.customer-badge-view{float:left;font-size:13px!important;max-width:170px;border-radius:8px 8px 0 8px;padding:.5rem}.customer-badge-view,.sites-zone,.zone-address{line-height:12px;display:inline-block;text-overflow:ellipsis;overflow:hidden;color:#fff}.sites-zone,.zone-address{font-size:12px!important;max-width:120px;padding:5px 6px;margin:5px 2px}.zone-address{float:right}.e-schedule .e-timeline-view .e-appointment .e-left-icon{line-height:19px!important}.main-content .panel{background:#fff;border-radius:0;border:1px solid #d2d2d2!important;border:none;color:#5b5b5b;margin-bottom:20px;min-height:30px;position:relative}.main-content .panel:after,.main-content .panel:before{content:" ";display:table}.main-content .panel .panel-content h1{font-weight:100}.main-content .panel .panel-content ol,.main-content .panel .panel-content ul{padding-left:0}.main-content .panel .panel-content i{padding-left:0;padding-right:6px;font-size:12px}.main-content .panel .panel-content .btn i{padding-right:0}.main-content .panel .panel-header[class*=bg-] h2{color:#fff}.main-content .panel .panel-header{display:block;height:auto;padding:6px 18px;z-index:2}.main-content .panel .panel-header h2{color:#313131;display:block;font-size:24px;line-height:normal;margin-bottom:5px;margin-top:7px;text-transform:uppercase}.main-content .panel .panel-header h3{display:block;font-family:Open Sans,sans-serif;font-size:15px;font-weight:400;line-height:normal;margin-bottom:10px;margin-top:10px;text-transform:uppercase}.main-content .panel .panel-header:hover .control-btn>a{background:none!important;color:#909090!important;transition:all .4s ease}.main-content .panel .panel-header .control-btn>a .icon-size-fullscreen:before{display:inline-block;width:14px}.main-content .panel .panel-header .control-btn .btn-group>a{color:#ccc!important;cursor:pointer;margin-left:11px;margin-right:0;transition:all .4s ease}.main-content .panel .panel-content h1{font-size:28px;margin-top:0}@media (max-width:1599px){.main-content .panel .panel-content .treeview-container h1{display:block}span.select-in-tag{max-width:100%}}.schedule-drag-drop{border:none}.main-content .panel{margin-top:8px}.lock-gantt-view{padding:0!important;margin-right:0!important}.e-treeview .e-list-text .apmnt-no.text-white.p-2{background:#e0e0e0;border-radius:8px 8px 8px 0}td.e-header-cells .date-text{left:auto!important}table.e-schedule-table tr.e-header-row td.e-time-slots span{z-index:1}.e-dlg-container.e-schedule-dialog.e-dlg-center-center.e-schedule-dialog-container{display:none!important}',""]),e.exports=t},"3a09":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("ScheduledAppointment")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.CloseScheduledAppointment}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("span",{staticClass:"user-guide"},[t("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t("em",{staticClass:"fa fa-files-o pr-2"}),e._v(e._s(e.$t("GuideForUser")))]),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("UgScheduledAppointment"))}})])])])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-NoAssignedServiceResources",fn:function({data:a}){return[t("div",{staticClass:"form-group p-2 bg-light mb-0",staticStyle:{"min-height":"33px"}},[""!=e.SchduleAppointment.AssignedResources?t("span",[e._v(e._s(e.SchduleAppointment.AssignedResources))]):t("span",{staticClass:"text-danger"},[e._v(e._s(e.$t("Noassignedresourcefound")))])])]}},{key:"tgslot-NoAssignedServiceCrews",fn:function({data:a}){return[t("div",{staticClass:"form-group p-2 bg-light mb-0",staticStyle:{"min-height":"33px"}},[""!=e.SchduleAppointment.AssignedCrews?t("span",[e._v(e._s(e.SchduleAppointment.AssignedCrews))]):t("span",{staticClass:"text-danger"},[e._v(e._s(e.$t("Noassignedcrewfound")))])])]}},{key:"tgslot-RelatedSAList",fn:function({data:a}){return["NU"!=e.isLocateOrNonLocate?t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header",staticStyle:{"max-height":"400px"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"realtedServiceAppointmentlistingdata"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(e._s(e.$t("AppointmentNumber"))+" ")]),t("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v(e._s(e.$t("ScheduledSA")))]),t("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v(e._s(e.$t("Status")))]),t("th",{staticClass:"text-left",staticStyle:{width:"35%"}},[e._v(e._s(e.$t("WorkType")))])])]),t("tbody",[e._l(e.relatedSAList,(function(a,i){return t("tr",{key:i},[t("td",{staticClass:"text-center",staticStyle:{width:"25%"}},[t("a",{attrs:{href:"/ServiceAppointment/ViewSADetails/"+a.Id,target:"_blank"}},[e._v(e._s(a.AppointmentNo))])]),t("td",{staticClass:"text-center",staticStyle:{width:"20%"}},["NU"!=e.isLocateOrNonLocate?t("label",{staticClass:"switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedRelatedSAList,expression:"checkedRelatedSAList"}],attrs:{type:"checkbox",hidden:"",id:a.Id},domProps:{value:a.Id,checked:Array.isArray(e.checkedRelatedSAList)?e._i(e.checkedRelatedSAList,a.Id)>-1:e.checkedRelatedSAList},on:{click:function(t){return e.check(t)},change:function(t){var i=e.checkedRelatedSAList,s=t.target,l=!!s.checked;if(Array.isArray(i)){var r=a.Id,o=e._i(i,r);s.checked?o<0&&(e.checkedRelatedSAList=i.concat([r])):o>-1&&(e.checkedRelatedSAList=i.slice(0,o).concat(i.slice(o+1)))}else e.checkedRelatedSAList=l}}}),t("span",{staticClass:"slider round"})]):e._e(),"NU"==e.isLocateOrNonLocate?t("label",{staticClass:"switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedRelatedSAList,expression:"checkedRelatedSAList"}],attrs:{type:"checkbox",disabled:"",hidden:"",id:a.Id},domProps:{value:a.Id,checked:Array.isArray(e.checkedRelatedSAList)?e._i(e.checkedRelatedSAList,a.Id)>-1:e.checkedRelatedSAList},on:{click:function(t){return e.check(t)},change:function(t){var i=e.checkedRelatedSAList,s=t.target,l=!!s.checked;if(Array.isArray(i)){var r=a.Id,o=e._i(i,r);s.checked?o<0&&(e.checkedRelatedSAList=i.concat([r])):o>-1&&(e.checkedRelatedSAList=i.slice(0,o).concat(i.slice(o+1)))}else e.checkedRelatedSAList=l}}}),t("span",{staticClass:"slider round"})]):e._e()]),t("td",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v(e._s(a.Status))]),t("td",{staticClass:"text",staticStyle:{width:"35%"}},[e._v(e._s(a.WorkType))])])})),0==e.relatedSAList.length?t("tr",[t("td",{staticClass:"text-center bg-light text-danger",attrs:{colspan:"4"}},[e._v(e._s(e.$t("NoRecordfound")))])]):e._e()],2)])])]):e._e()]}}])}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("small",{staticClass:"text-danger"},[e._v(e._s(e.$t("MandatoryString")))])])])])],1)])])])],1)},s=[],l=(a("14d9"),a("9769")),r={props:{SchduleAppointment:{type:Object,required:!0},SA_GroupData:{type:Array,required:!0},IsCurrentView:{type:String,required:!0}},data(){return{isLocateOrNonLocate:"",checkedRelatedSAList:[],Headers:[{COLUMN_NAME:"AppointmentNo",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Appointment Number",DISPLAY_ORDER:1},{COLUMN_NAME:"Id",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Scheduled SA",DISPLAY_ORDER:2},{COLUMN_NAME:"Status",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3},{COLUMN_NAME:"WorkType",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Work Type",DISPLAY_ORDER:4}],widgets:[],HeaderText:"",LegendArray:[],listheaderbuttons:[],isLoading:!1,SortExp:"",SortBy:"",TotalRecords:0,FormSchema:[{layoutType:"double",group_name:"General Information",Data:[{astype:"TextField",label:this.$t("ScheduledAppointment"),name:"ScheduledAppointment",value:"",disabled:!0,validationRules:{required:!1}},{astype:"TextField",label:this.$t("Acount"),name:"Acount",value:"",disabled:!0,validationRules:{required:!1}},{astype:"TextField",label:this.$t("Subject"),name:"Subject",value:"",disabled:!0,validationRules:{required:!1}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}},{astype:"TextField",label:this.$t("WorkType"),name:"WorkType",value:"",disabled:!0,validationRules:{required:!1}},{astype:"TextField",label:this.$t("WorkOrder"),name:"WorkOrder",value:"",disabled:!0,validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("description"),name:"Description",value:"",validationRules:"",config:{rows:4,cols:5}}]},{layoutType:"double",group_name:"Scheduled Times",Data:[{astype:"DateField",label:this.$t("ArrivalWindowStartTime"),name:"ArrivalWindowStartTime",value:"",config:{mode:"DateTime",format:"M/D/YYYY",onChange:this.GetStartData}},{astype:"DateField",label:this.$t("ArrivalWindowEndTime"),name:"ArrivalWindowEndTime",value:"",config:{mode:"DateTime",format:"M/D/YYYY",minDate:""}},{astype:"DateField",label:this.$t("ScheduledStartTime"),name:"ScheduledStartTime",value:"",config:{mode:"DateTime",format:"MM/DD/YYYY h:mm A",onChange:this.GetStartDataa}},{astype:"DateField",label:this.$t("ScheduledEndTime"),name:"ScheduledEndTime",mode:"DateTime",value:"",config:{mode:"DateTime",format:"MM/DD/YYYY h:mm A",minDate:""}},{astype:"MultiSelectField",label:this.$t("ServiceResource"),name:"ServiceResource",value:"",mode:"tag",placeholder:"",validationRules:{required:!1},config:{options:[]}},{astype:"SlotField",label:this.$t("AssignedServiceResources"),name:"NoAssignedServiceResources",value:"",placeholder:"",visibility:!0,validationRules:"",settings:{isInSlot:!0}},{astype:"MultiSelectField",label:this.$t("ServiceCrew"),name:"ServiceCrew",value:"",mode:"tag",placeholder:"",validationRules:{required:!1},config:{options:[]}},{astype:"SlotField",label:this.$t("SelectedServiceCrews"),name:"NoAssignedServiceCrews",value:"",placeholder:"",visibility:!0,validationRules:"",settings:{isInSlot:!0}}]},{layoutType:"single",group_name:"Related SA List",Data:[{astype:"SlotField",label:"",name:"RelatedSAList"}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.CloseScheduledAppointment}],statusList:[],resourceList:[],crewList:[],relatedSAList:[],isAjax:!1}},created:async function(){await this.FetchData(),await this.getStatusList(),await this.getResourceList(),await this.getcrewList(),await this.getResourceCrewData(),await this.getRelatedSAList(this.SchduleAppointment.SA_Account_Id,this.SchduleAppointment.SA_Id),this.isLocateOrNonLocate=this.GetUserInfo.UserType},methods:{check(){},GetStartData:function(e,t){var a=this;a.FormSchema[2].Data[1].config.minDate=e,a.FormSchema[2].Data[3].config.minDate=e},GetStartDataa:function(e,t){var a=this;a.FormSchema[2].Data[3].config.minDate=e},FetchData:async function(){var e=this;e.FormSchema[0].Data[0].value=e.SchduleAppointment.SA_Number,e.FormSchema[0].Data[1].value=e.SchduleAppointment.SA_Account,e.FormSchema[0].Data[2].value=e.SchduleAppointment.SA_Subject,e.FormSchema[0].Data[3].value=e.SchduleAppointment.Status_Id,e.FormSchema[0].Data[4].value=e.SchduleAppointment.SA_WorkType,e.FormSchema[0].Data[5].value=e.SchduleAppointment.SA_WorkOrder,e.FormSchema[1].Data[0].value=e.SchduleAppointment.SA_Description,e.FormSchema[2].Data[2].value=e.$options.filters.formatDateTime(e.SchduleAppointment.SA_Scheduled_StartTime),e.FormSchema[2].Data[3].value=e.$options.filters.formatDateTime(e.SchduleAppointment.SA_Scheduled_EndTime)},CloseScheduledAppointment:function(){this.$parent.IsSchduleAppointment=!1},getRelatedSAList:async function(e,t){e=null==e?0:e;var a=`accountId=${e}&sa_id=${t}`;await l["a"].getRelatedSAList(a).then(e=>{this.relatedSAList=e.data.result.data})},getResourceCrewData:async function(){var e,t,a=this,i="SA_ID="+a.SchduleAppointment.SA_Id;await l["a"].getResourceCrewData(i).then(i=>{if(null!=i.data&&"Failure"!=i.data.status){if(i.data.result.data.forEach(a=>{e=$.grep(i.data.result.data,(function(e,t){return"RESOURCE"==e.ResourceType})),t=$.grep(i.data.result.data,(function(e,t){return"CREW"==e.ResourceType}))}),e){var s=[];e.forEach(e=>{s.push({label:e.name,value:e.value})}),a.FormSchema[2].Data[4].value=s}if(t){var l=[];t.forEach(e=>{l.push({label:e.name,value:e.value})}),a.FormSchema[2].Data[6].value=l}if(this.SA_GroupData.length>0)if("Resource"==this.SA_GroupData[0].type){s=[];this.SA_GroupData.forEach(e=>{s.push({label:e.name,value:e.value})}),a.FormSchema[2].Data[4].value=s}else if("Crew"==this.SA_GroupData[0].type){l=[];this.SA_GroupData.forEach(e=>{l.push({label:e.name,value:e.value})}),a.FormSchema[2].Data[6].value=l}}})},getStatusList:async function(){var e="type=status";await l["a"].getStatusList(e).then(e=>{null!=e.data&&(this.statusList=e.data.result,this.statusList.forEach(e=>{let t={name:e.text,value:e.value};this.FormSchema[0].Data[3].config.options.push(t)}))})},getResourceList:async function(){var e="moduleName=&type=FSM_SA_RESOURCENAME&refId=";await l["a"].GetDDLDataFSM(e).then(e=>{this.resourceList=e.data.result.DATA,this.resourceList.forEach(e=>{let t={name:e.name,value:e.value};this.FormSchema[2].Data[4].config.options.push(t)})})},getcrewList:async function(){var e="moduleName=&type=FSM_CREWNAME&refId=";await l["a"].GetDDLDataFSM(e).then(e=>{this.crewList=e.data.result.DATA,this.crewList.forEach(e=>{let t={name:e.name,value:e.value};this.FormSchema[2].Data[6].config.options.push(t)})})},onSubmit(e,t){var a=this,i=this.checkedRelatedSAList.join(","),s="",r="",o="Invalid Date"===a.$options.filters.formatDateTime(e.ArrivalWindowStartTime)?a.$options.filters.formatDateTime(a.SchduleAppointment.ArrivalWindowStartTime):a.$options.filters.formatDateTime(e.ArrivalWindowStartTime),n="Invalid Date"===a.$options.filters.formatDateTime(e.ArrivalWindowEndTime)?a.$options.filters.formatDateTime(a.SchduleAppointment.ArrivalWindowEndTime):a.$options.filters.formatDateTime(e.ArrivalWindowEndTime),c="Invalid Date"===a.$options.filters.formatDateTime(e.ArrivalWindowStartTime)?a.$options.filters.formatDateTime(a.SchduleAppointment.ArrivalWindowStartTime):a.$options.filters.formatDateTime(e.ArrivalWindowStartTime),d="Invalid Date"===a.$options.filters.formatDateTime(e.ArrivalWindowEndTime)?a.$options.filters.formatDateTime(a.SchduleAppointment.ArrivalWindowEndTime):a.$options.filters.formatDateTime(e.ArrivalWindowEndTime);if(c==d&&o>n)return a.ShowAlert(a.$t("ArrivalWindowTimeRangeValidation"),"warning",!0,a.$t("Alert")),e.ArrivalWindowEndTime="",!1;var u="Invalid date"===a.$options.filters.formatDateTime(e.ScheduledStartTime)?a.$options.filters.formatDateTime(a.SchduleAppointment.SA_Scheduled_StartTime):a.$options.filters.formatDateTime(e.ScheduledStartTime),p="Invalid date"===a.$options.filters.formatDateTime(e.ScheduledEndTimes)?a.$options.filters.formatDateTime(a.SchduleAppointment.SA_Scheduled_EndTime):a.$options.filters.formatDateTime(e.ScheduledEndTime),m="Invalid date"===a.$options.filters.formatDateTime(e.ScheduledStartTime)?a.$options.filters.formatDateTime(a.SchduleAppointment.SA_Scheduled_StartTime):a.$options.filters.formatDateTime(e.ScheduledStartTime),h="Invalid date"===a.$options.filters.formatDateTime(e.ScheduledEndTime)?a.$options.filters.formatDateTime(a.SchduleAppointment.SA_Scheduled_EndTime):a.$options.filters.formatDateTime(e.ScheduledEndTime);if(m==h&&u>p)return a.ShowAlert(a.$t("ScheduledTimeRangeValidation"),"warning",!0,a.$t("Alert")),e.ScheduledStartTime="",!1;if(e.ServiceResource){var f=[];e.ServiceResource.forEach(e=>{f.push(e.value)}),s=f.join(",")}if(e.ServiceCrew){var v=[];e.ServiceResource.forEach(e=>{v.push(e.value)}),r=v.join(",")}var g={SA_id:a.SchduleAppointment.SA_Id,txtSA_Number:e.ScheduledAppointment,txtAccount:e.Acount,Subject:e.Subject,satusId:e.Status,Description:e.Description,arrivalWindowStartTime:c,arrivalWindowEndTime:d,scheduledStartTime:m,scheduledEndTime:h,serviceResourceId:s,serviceCrewId:r,relatedServiceAppointments:i},S=JSON.stringify(g);l["a"].AddScheduledAppointment(S).then(e=>{1==e.data?("WorkOrderListing"==a.$route.name&&a.$router.push({name:"WorkOrderListing"}),a.SchduleAppointment.SA_Id>0?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("ServiceAppointment")]),"success",!0,a.$t("Alert")),a.CloseScheduledAppointment(),a.$parent.fetchRecords()):(a.ShowAlert(a.$t("AddedSuccess",[a.$t("ServiceAppointment")]),"success",!0,a.$t("Alert")),a.CloseScheduledAppointment(),a.$parent.fetchRecords()),1==a.isAjax?a.CloseScheduledAppointment():"Gantt"==a.IsCurrentView?(a.$parent.refreshGhanttChart(),a.CloseScheduledAppointment()):(a.$router.push({path:"/ServiceAppointment/Index"}),a.CloseScheduledAppointment())):a.ShowAlert(a.$t("AddedError",[a.$t("ServiceAppointment")]),"failure",!0,a.$t("Alert"))})},openPopupForSetupTickectSource(e){this.$router.push({name:"ViewSADetails",params:{id:e}})}}},o=r,n=(a("0e0c"),a("2877")),c=Object(n["a"])(o,i,s,!1,null,"b3cc3efa",null);t["a"]=c.exports},"6c0e":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("ServiceAppointment")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.Close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("Form",{ref:"AddService"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.OnSubmit}})],1),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("small",{staticClass:"text-danger"},[e._v(e._s(e.$t("MandatoryString")))])])])])],1)])])])],1)},s=[],l=(a("14d9"),a("9769")),r={props:{SchduleObj:{Type:Object,required:!0},callfrom:{Type:String,required:!0}},data(){return{isLoading:!1,WorkOrderListData:[],StaticObj:{layoutType:"double",Data:[{astype:"MultiSelectField",label:this.$t("ServiceResource"),name:"ServiceResource",value:"",mode:"tag",placeholder:"",validationRules:{required:!1},config:{options:[]}},{astype:"MultiSelectField",label:this.$t("Service Crew"),name:"ServiceCrew",value:"",mode:"tag",placeholder:"",validationRules:{required:!1},config:{options:[]}}]},FormSchema:[],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Submit"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}],resourceList:[],crewList:[],SAData:[],isFsmLocating:"",SAFormSchema:[],StatusId:"1001",StatusData:[],DurationData:[],Id:"",ServiceAppointmentList:[],JsonObj:[],TicketNumber:""}},created:async function(){null!=this.SchduleObj?("ServiceAppointment"==this.callfrom?this.TicketNumber=this.SchduleObj.SA_Related_Object_Id:this.TicketNumber=this.SchduleObj.ticket_number,this.Id=this.SchduleObj.SA_Id,await this.getForm(),await this.getResourceCrewData(this.Id)):await this.getForm(),await this.getResourceList(),await this.getcrewList()},methods:{Close(){this.$parent.showPopupAddServiceAppointment=!1},getResourceCrewData:async function(e){var t,a,i=this,s=[],r=[],o="SA_ID="+e;await l["a"].getResourceCrewData(o).then(e=>{$.each(e.data.result.data,(function(i,s){t=$.grep(e.data.result.data,(function(e,t){return"RESOURCE"==e.ResourceType})),a=$.grep(e.data.result.data,(function(e,t){return"CREW"==e.ResourceType}))})),void 0!=t&&t.forEach(e=>{let t={label:e.name,value:e.value};s.push(t),i.FormSchema[2].Data[0].value=s}),void 0!=a&&a.forEach(e=>{let t={label:e.name,value:e.value};r.push(t),i.FormSchema[2].Data[1].value=r})})},getResourceList:async function(){var e="moduleName=Ticketing&type=FSM_SA_RESOURCENAME&refId=";await l["a"].GetDDLData(e).then(e=>{this.resourceList=e.data.DATA,this.resourceList.forEach(e=>{let t={name:e.name,value:e.value};this.FormSchema[2].Data[0].config.options.push(t)})})},getcrewList:async function(){var e="moduleName=Ticketing&type=FSM_CREWNAME&refId=";await l["a"].GetDDLData(e).then(e=>{this.crewList=e.data.DATA,this.crewList.forEach(e=>{let t={name:e.name,value:e.value};this.FormSchema[2].Data[1].config.options.push(t)})})},async getForm(){var e=this,t=`recordId=${e.Id}&moduleName=Ticketing&subModuleCode=SERVICE_APPOINTMENT`;await l["a"].GetDynamicForm(t).then(t=>{e.FormSchema=e.ConvertCustomFieldIntoDynamicFormObj(t.data.data),e.FormSchema.forEach((t,a)=>{t.Data.forEach((a,i)=>{"General Information"==t.group_name&&("SA_Description"==a.name&&(a.astype="TextAreaField"),"SA_WorkOrder_Id"==a.name&&(a.config.options=[]),"SA_Related_Object_Id"==a.name&&(a.value=a.value,a.config.options=[],a.config.onSearchChange=e.onSearch)),"Scheduled Times"==t.group_name?"ArrivalWindowStartTime"!=a.name&&"ArrivalWindowEndTime"!=a.name&&"SA_Scheduled_StartTime"!=a.name&&"SA_Scheduled_EndTime"!=a.name||(a.astype="DateField"):"ArrivalWindowStartTime"==a.name||"SA_Scheduled_StartTime"==a.name?(a.config.mode="DateTime",a.config.format="MM/DD/YYYY h:mm A",a.config.onChange=e.GetStartData):"ArrivalWindowEndTime"!=a.name&&"SA_Scheduled_EndTime"!=a.name||(a.config.mode="DateTime",a.config.format="MM/DD/YYYY h:mm A",a.config.minDate=""),a.config.onChange=e.onChangeEventForFields})}),e.FormSchema.push(e.StaticObj)})},GetStartData:function(e,t){},onChangeEventForFields:function(e,t,a){var i=this;"SA_Related_Object_Id"==t.name&&setTimeout((function(){i.GetDropDownData("SA_TICKET_WORKORDERS",t,null)}),1e3)},GetDropDownData:function(e,t,a){var i=this,s=`id=&moduleName=TICKETING&type=${e}&search=&refId=${"undefined"===typeof t.value.value?"":t.value.value}`;l["a"].GetDDLData(s).then(e=>{i.FormSchema[0].Data[2].config.options=[],""!=e.data&&e.data.DATA.forEach(e=>{let t={value:e.value,name:e.name};i.FormSchema[0].Data[2].config.options.push(t)})})},onSearch:function(e,t,a){var i=this;i.searchSelectData(a,i,t)},searchSelectData:function(e,t,a){this.ShowSearchData(e,t,a)},ShowSearchData:async function(e,t,a){var i=this,s=`id=&&moduleName=Ticketing&type=SA_TICKET_NUMBER&search=${e}&refId=`;"undefined"==typeof a&&(a=0),i.FormSchema[0].Data[1].config.options=[],await l["a"].GetDDLDataFSM(s).then((function(e){e.data&&(i.JsonObj=e.data,null!=i.JsonObj&&e.data.result.DATA.forEach(e=>{var t={value:e.value,name:e.name};i.FormSchema[0].Data[1].config.options.push(t)}))}))},OnSubmit(e){var t=this;t.isLoading=!0;var a=t.ConvertDynamicFormObjToCustomFieldObj(t.FormSchema),i="",s="",r="";a.forEach(e=>{"SA_WorkOrder_Id"==e.field_name&&(t.isBlank(e.field_value)||(r=e.field_value)),"SA_Id"==e.field_name&&(t.id>0?e.field_value=e.field_value:e.field_value=0),"SA_Related_Object_Id"==e.field_name&&(t.isBlank(e.field_value)||(e.field_value=e.field_value.value)),"ArrivalWindowStartTime"==e.field_name&&(t.isBlank(e.field_value)||(e.field_value=t.$options.filters.formatDateTime(e.field_value))),"ArrivalWindowEndTime"==e.field_name&&(t.isBlank(e.field_value)||(e.field_value=t.$options.filters.formatDateTime(e.field_value))),"SA_Scheduled_StartTime"==e.field_name&&(t.isBlank(e.field_value)||(e.field_value=t.$options.filters.formatDateTime(e.field_value))),"SA_Scheduled_EndTime"==e.field_name&&(t.isBlank(e.field_value)||(e.field_value=t.$options.filters.formatDateTime(e.field_value)))}),e.ServiceResource.forEach((e,t)=>{0==t?s=e.value:s+=","+e.value});var o=s;e.ServiceCrew.forEach((e,t)=>{0==t?i=e.value:i+=","+e.value});var n=i,c={data:a,serviceResourceId:o,serviceCrewId:n},d=JSON.stringify(c);if(null!=r||""!=r){var u=`Id=${r}&SA_Id=${t.Id}&reqfrom=AddServiceAppointment`;l["a"].GetServiceAppointmentByWorkOrderId(u).then(e=>{if(t.ServiceAppointmentList=[],t.isLoading=!1,null!=e.data&&""!=e.data&&"Success"==e.data.status){t.ServiceAppointmentList=e.data.result.DATA;var a="";if($.each(t.ServiceAppointmentList,(function(e,t){a+=t.SA_NUMBER+","})),""!=a){var i=t.$t("ServiceAppointmentCancel")+"("+a+")"+t.$t("ConfirmServiceAppointmentCancel");t.confirmR(i,!0,null,(function(){l["a"].AddEditServiceAppointment(d).then(e=>{1==e.data.CODE?t.Id>0?(t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("ServiceAppointment")]),"success",!0,t.$t("Alert")),t.Close(),t.$parent.fetchRecords()):(t.ShowAlert(t.$t("AddedSuccess",[t.$t("ServiceAppointment")]),"success",!0,t.$t("Alert")),t.Close(),t.$parent.fetchRecords()):t.ShowAlert(t.$t("AddedError",[t.$t("ServiceAppointment")]),"failure",!0,t.$t("Alert")),t.isLoading=!1})}))}else l["a"].AddEditServiceAppointment(d).then(e=>{1==e.data.CODE?t.Id>0?(t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("ServiceAppointment")]),"success",!0,t.$t("Alert")),t.Close(),t.$parent.fetchRecords()):(t.ShowAlert(t.$t("AddedSuccess",[t.$t("ServiceAppointment")]),"success",!0,t.$t("Alert")),t.Close(),t.$parent.fetchRecords()):t.ShowAlert(t.$t("AddedError",[t.$t("ServiceAppointment")]),"failure",!0,t.$t("Alert")),t.isLoading=!1})}})}}}},o=r,n=a("2877"),c=Object(n["a"])(o,i,s,!1,null,null,null);t["a"]=c.exports},8569:function(e,t,a){var i=a("fb8c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("7f00164e",i,!0,{sourceMap:!1,shadowMode:!1})},"87de":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal my-popups right fade",attrs:{id:"modalManageView",role:"dialog"}},[t("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("ManageView")))]),t("span",{staticClass:"user-guide"},[e.ShowLisiting?e._e():t("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"javascript:void(0)",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},on:{click:function(t){return e.ShowUserGuide()}}},[e._v("User Guide")]),t("div",{class:"divancuserguide collapse"+e.toggleUserGuide,attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("MangeViewUG1"))}})])])])]),t("div",{staticClass:"modal-body"},[t("loader",{attrs:{"is-visible":e.isLoading}}),e.ShowLisiting?t("div",{staticClass:"w-100 float-left"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.$t("ManageView")))]),t("small",{staticClass:"float-right"},[t("a",{attrs:{href:"javascript:;",title:e.$t("AddNew")},on:{click:function(t){return e.AddNewView()}}},[t("em",{staticClass:"fa fa-plus pr-1"}),e._v(" "+e._s(e.$t("AddNew"))+" ")]),t("a",{class:{disabled:e.isClearViewDisabled},attrs:{href:"javascript:;",title:e.$t("Clear")},on:{click:function(t){return e.ClearView()}}},[t("em",{staticClass:"fa fa-refresh pr-1 ml-3"}),e._v(" "+e._s(e.$t("Clear"))+" ")])])])]),t("div",{staticClass:"listing mt-3"},[t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"example","aria-describedby":"viewlayout"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("Name")))]),t("th",{staticClass:"text-center",attrs:{scope:"col",width:"100"}},[e._v(e._s(e.$t("Apply")))]),t("th",{staticClass:"text-center",attrs:{scope:"col",width:"100"}},[e._v(e._s(e.$t("Edit")))]),t("th",{staticClass:"text-center",attrs:{scope:"col",width:"100"}},[e._v(e._s(e.$t("Delete")))])])]),t("tbody",[e._l(e.ListingData,(function(a,i){return t("tr",{key:i},[t("td",[e._v(e._s(a.VIEW_NAME))]),t("td",{staticClass:"text-center single-action"},[0==a.IS_SLECTED_USER_ID?t("a",{attrs:{href:"javascript:;",title:e.$t("Apply")},on:{click:function(t){return e.ApplyView(a.VIEW_ID,a.VIEW_NAME)}}},[t("em",{staticClass:"fa fa-check text-info"})]):e._e(),a.IS_SLECTED_USER_ID>0?t("a",{attrs:{title:e.$t("Applied")}},[t("em",{staticClass:"fa fa-check text-success"})]):e._e()]),t("td",{staticClass:"text-center single-action"},[a.CAN_EDIT?t("a",{attrs:{href:"javascript:;",title:e.$t("Edit")},on:{click:function(t){return e.EditManageView(a.VIEW_ID)}}},[t("em",{staticClass:"fa fa-pencil text-success"})]):e._e(),a.CAN_EDIT?e._e():t("a",{staticClass:"disabled",staticStyle:{cursor:"no-drop !important"},attrs:{href:"javascript:;",title:" $t('Edit') "}},[t("em",{staticClass:"fa fa-pencil text-success disabled"})])]),t("td",{staticClass:"text-center single-action"},[a.CAN_EDIT?t("a",{attrs:{href:"javascript:;",title:e.$t("Delete")},on:{click:function(t){return e.deleteView(a.VIEW_ID)}}},[t("em",{staticClass:"fa fa-trash text-danger"})]):e._e(),a.CAN_EDIT?e._e():t("a",{class:{disabled:!a.CAN_EDIT},attrs:{href:"javascript:;",title:e.$t("Delete")},on:{click:function(t){return e.deleteView(a.VIEW_ID)}}},[t("em",{staticClass:"fa fa-trash text-danger disabled"})])])])})),e.noRecord?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[e._v(e._s(e.$t("NoRecordfound")))])])]):e._e()],2)])])])]):e._e(),e.ShowLisiting?e._e():t("section",{staticClass:"tab mt-2"},[t("div",{staticClass:"tab-style"},[t("div",{staticClass:"tab_container"},[t("div",{staticClass:"responsive-tabs-container view_tab"},[t("ul",{staticClass:"nav nav-tabs all-tabs responsive-tabs cust"},[t("li",{staticClass:"nav-item general"},[t("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"javascript:void(0)"},on:{click:function(t){return e.ShowTabData(1)}}},[t("span",{staticClass:"numb"},[e._v("1")]),e._v(" "+e._s(e.$t("General"))+" ")])]),t("li",{staticClass:"nav-item selectcolumn"},[t("a",{class:{"nav-link":!0,disabled:""==e.ViewData.Name||2==e.ViewData.ApplyTo&&0==e.ListSelectedUsers.length},attrs:{"data-toggle":"tab",href:"javascript:void(0)"},on:{click:function(t){return e.ShowTabData(2)}}},[t("span",{staticClass:"numb"},[e._v("2")]),e._v(" "+e._s(e.$t("Select Column"))+" ")])]),t("li",{staticClass:"nav-item filter"},[t("a",{class:{"nav-link":!0,disabled:""==e.ViewData.Name||2==e.ViewData.ApplyTo&&0==e.ListSelectedUsers.length||0==e.SelectedItems.length},attrs:{"data-toggle":"tab",href:"javascript:void(0)"},on:{click:function(t){return e.ShowTabData(3)}}},[t("span",{staticClass:"numb"},[e._v("3")]),e._v(" "+e._s(e.$t("Filter"))+" ")])])]),t("Form",{ref:"ManageViewLayoutData"},[t("div",{staticClass:"tab-content"},[t("div",{staticClass:"tab-pane active",attrs:{id:"step1"}},[t("div",{staticClass:"container-fluid p-0",staticStyle:{"min-height":"416px"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"form-group"},[t("label",[e._v(" "+e._s(e.$t("ViewName"))+": "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.ViewData.Name,expression:"ViewData.Name",modifiers:{trim:!0}}],staticClass:"form-control",domProps:{value:e.ViewData.Name},on:{input:function(t){t.target.composing||e.$set(e.ViewData,"Name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),t("div",{staticClass:"col-lg-6 float-left"},[t("div",{staticClass:"col-12 float-left p-0"},[t("div",{staticClass:"form-group"},[t("label",[e._v(" "+e._s(e.$t("ApplyTo"))+": "),t("span",{staticClass:"text-danger"},[e._v("*")])]),t("div",{staticClass:"form-group"},[t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ViewData.ApplyTo,expression:"ViewData.ApplyTo"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customRadio",name:"viewapplyto",value:"1"},domProps:{checked:e._q(e.ViewData.ApplyTo,"1")},on:{change:function(t){return e.$set(e.ViewData,"ApplyTo","1")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"customRadio"}},[e._v("Only For Me")])]),"CA"==e.usertype?t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ViewData.ApplyTo,expression:"ViewData.ApplyTo"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customRadio2",name:"viewapplyto",value:"2"},domProps:{checked:e._q(e.ViewData.ApplyTo,"2")},on:{change:function(t){return e.$set(e.ViewData,"ApplyTo","2")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"customRadio2"}},[e._v(e._s(e.$t("Others")))])]):e._e(),"CA"==e.usertype?t("div",{staticClass:"custom-control custom-radio custom-control-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.ViewData.ApplyTo,expression:"ViewData.ApplyTo"}],staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"customRadio3",name:"viewapplyto",value:"3"},domProps:{checked:e._q(e.ViewData.ApplyTo,"3")},on:{change:function(t){return e.$set(e.ViewData,"ApplyTo","3")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"customRadio3"}},[e._v(e._s(e.$t("ALL")))])]):e._e()])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:2==e.ViewData.ApplyTo,expression:"ViewData.ApplyTo==2"}],staticClass:"w-100 float-left mb-2 mt-2"},[e.ListUnselectedUsers.length>0?t("moveuser",{attrs:{leftItems:e.ListUnselectedUsers,"right-items":e.ListSelectedUsers,"title-left":e.$t("Available"),"title-right":e.$t("Selectedusers"),"moved-item-location":"bottom","target-id":"ListViewUsers"}}):e._e()],1),t("div",{staticClass:"col-lg-12 text-right mt-3"},[t("a",{staticClass:"btn btn-secondary mr-1",attrs:{href:"javascript:;",title:e.$t("BacktoList")},on:{click:function(t){return e.BackToList()}}},[t("em",{staticClass:"fa fa-angle-double-left pr-2"}),e._v(" "+e._s(e.$t("BacktoList"))+" ")]),t("a",{staticClass:"btn btn-success mr-1",attrs:{href:"javascript:;",title:e.$t("Next")},on:{click:function(t){return e.ShowNextTab(2)}}},[t("em",{staticClass:"fa fa-angle-double-right pr-2"}),e._v(" "+e._s(e.$t("Next"))+" ")])])])])]),t("div",{staticClass:"tab-pane",attrs:{id:"step2"}},[t("div",{staticClass:"container-fluid p-0",staticStyle:{"min-height":"416px"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[e.UnselectedItems&&e.UnselectedItems.length>0?t("mover",{attrs:{"left-items":e.UnselectedItems,"right-items":e.SelectedItems,"title-left":e.$t("AvailableFields"),"title-right":e.$t("SelectedFields"),"moved-item-location":"bottom","max-item":"25"}}):e._e()],1),t("div",{staticClass:"col-12 text-right mt-3"},[t("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",title:e.$t("Next")},on:{click:function(t){return e.ShowNextTab(3)}}},[t("em",{staticClass:"fa fa-angle-double-right pr-2"}),e._v(" "+e._s(e.$t("Next"))+" ")])])])])]),t("div",{staticClass:"tab-pane",attrs:{id:"step3"}},[t("div",{staticClass:"container-fluid p-0",staticStyle:{"min-height":"416px"}},[t("div",{staticClass:"container-fluid p-0",staticStyle:{"min-height":"416px"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("searchfilter",{attrs:{submodulecode:e.SubmoduleCode,modulename:e.ModuleName,viewId:e.ViewData.ViewId,"filter-type":"VIEW"}},[t("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])])],1),t("div",{staticClass:"col-12 text-right mt-3"},[t("a",{staticClass:"btn btn-success mr-1",attrs:{href:"javascript:;",title:e.$t("Save")},on:{"~click":function(t){return e.SaveViewData()}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("Save"))+" ")])])])])])])])])],1)])])])],1)])])])},s=[],l=(a("14d9"),a("9769")),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"listing mover-panel",attrs:{id:e.targetId}},[t("div",{staticClass:"border-0 p-0 d-flex flex-wrap"},[t("div",{staticClass:"mover-panel-box leftpanel",attrs:{id:"MoverLeft"}},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.titleLeft))])])]),t("div",{staticClass:"col-12 pl-0 mt-2 px-small-0"},[t("div",{staticClass:"col-sm-12 col-md-8 col-lg-8 float-left pr-1 pl-0 px-small-0"},[t("div",{staticClass:"form-group mb-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.Search,expression:"Search"}],staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search by Name",autocomplete:"off"},domProps:{value:e.Search},on:{keyup:function(t){return e.SearchData()},input:function(t){t.target.composing||(e.Search=t.target.value)}}})])]),t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 float-left pl-0 px-small-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:e.$t("Search"),href:"javascript:;"},on:{click:function(t){return e.SearchData()}}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:e.$t("Clear")},on:{click:function(t){return e.ClearData()}}},[t("em",{staticClass:"fa fa-refresh"})])])])]),t("div",{staticClass:"listing mt-2"},[t("vue-scroll",[t("div",{staticClass:"table-responsive scrollmoverdiv",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered",attrs:{"aria-describedby":"fildname"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{attrs:{role:"row"}},[t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("fieldName")))])])]),t("tbody",{attrs:{id:e.targetId+"LeftItems"}},[e._l(e.unselectedItems,(function(a,i){return t("tr",{class:{"low-bar":a.isSelected,even:i%2==2,odd:i%2>0},attrs:{Key:a,"data-id":a.value,"data-side":"left","data-index":i},on:{click:function(t){return e.selectItem(a,e.unselectedItems)}}},[t("td",{staticClass:"sorting_1"},[e._v(e._s(a.displayValue))])])})),null==e.unselectedItems||0==e.unselectedItems.length?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{staticClass:"text-center text-danger"},[e._v(" "+e._s(e.$t("NoRecordfound")))])]):e._e()],2)])])])],1)]),t("div",{staticClass:"mover-controls"},["false"!=e.moveAll?t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveAllRight")},on:{click:function(t){return e.moveAllRight()}}},[t("em",{staticClass:"fa fa-angle-double-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-double-right fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]):e._e(),t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveRight")},on:{click:function(t){return e.moveRight()}}},[t("em",{staticClass:"fa fa-angle-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-right fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]),t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveLeft")},on:{click:function(t){return e.moveLeft()}}},[t("em",{staticClass:"fa fa-angle-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-left fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]),"false"!=e.moveAll?t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveAllLeft")},on:{click:function(t){return e.moveAllLeft()}}},[t("em",{staticClass:"fa fa-angle-double-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa fa-angle-double-left fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]):e._e()]),t("div",{staticClass:"mover-panel-box rightpanel",attrs:{id:"MoverRight"}},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.titleRight))])])]),e._m(0),t("div",{staticClass:"listing mt-2"},[t("vue-scroll",[t("div",{staticClass:"table-responsive scrollmoverdiv",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered",attrs:{id:"example","aria-describedby":"mover"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{attrs:{scope:"col"}},[t("span",[e._v(" "+e._s(e.$t("fieldName"))+" ")])]),t("th",{staticClass:"text-center",staticStyle:{width:"100px"},attrs:{scope:"col"}},[e._v(" "+e._s(e.$t("Sortable")))])])]),t("tbody",{attrs:{id:e.targetId+"RightItems"}},[e._l(e.selectedItems,(function(a,i){return t("tr",{class:{even:i%2==2,odd:i%2>0,"low-bar":a.isSelected},attrs:{"data-id":a.value,"data-side":"right","data-index":i,Key:a},on:{click:function(t){return e.selectItem(a,e.selectedItems)}}},[t("td",[t("span",{staticClass:"my-handle"},[e._v(e._s(a.displayValue))])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.isSortable,expression:"item.isSortable"}],staticClass:"form-check-input float-right custom-control-input multilevel",staticStyle:{display:"none"},attrs:{disabled:0==a.isSortableEnabled,id:a.value,name:a.value,type:"checkbox"},domProps:{value:a.isSortable,checked:Array.isArray(a.isSortable)?e._i(a.isSortable,a.isSortable)>-1:a.isSortable},on:{change:function(t){var i=a.isSortable,s=t.target,l=!!s.checked;if(Array.isArray(i)){var r=a.isSortable,o=e._i(i,r);s.checked?o<0&&e.$set(a,"isSortable",i.concat([r])):o>-1&&e.$set(a,"isSortable",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(a,"isSortable",l)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:a.value}})])])])})),null==e.selectedItems||0==e.selectedItems.length?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{staticClass:"text-center text-danger",attrs:{colspan:"2"}},[e._v(" "+e._s(e.$t("NoFieldSelected")))])]):e._e()],2)])])])],1)])])])},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 pl-0 mt-2 d-none"},[t("div",{staticClass:"col-4 float-left pr-1 pl-0"},[t("div",{staticClass:"form-group mb-0"},[t("input",{staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search By Title",autocomplete:"off"}})])]),t("div",{staticClass:"col-4 float-left pr-1 pl-0"},[t("div",{staticClass:"form-group mb-0"},[t("input",{staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search By Title",autocomplete:"off"}})])]),t("div",{staticClass:"col-4 float-left pl-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"Go",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[t("em",{staticClass:"fa fa-refresh"})])])])])}],n=a("aa47"),c={props:{titleLeft:{type:String,default:"Available"},titleRight:{type:String,default:"Selected"},movedItemLocation:{type:String,default:"top"},leftItems:Array,rightItems:Array,targetId:{type:String,default:"Mover"},normalizeLists:{type:Boolean,default:!0},fontAwesome:{type:Boolean,default:!0},moveAll:{type:Boolean,default:!0},maxItem:{type:String,default:null}},methods:{raiseItemMoved:function(e,t,a){this.lastMovedItem={item:e,targetList:t,listType:a},this.$emit("item-moved",this.lastMovedItem)}},data:function(){var e={selectedSortable:null,unselectedSortable:null,selectedItem:{},selectedList:null,selectedItems:this.rightItems,unselectedItems:[],AllItems:[],lastMovedItem:null,Search:"",initialize:function(t){var a={group:"_mvgp_"+(new Date).getTime(),ghostClass:"mover-ghost",chosenClass:"mover-selected",onAdd:e.onListDrop,onUpdate:e.onSorted,sort:!1,disabled:!0},i={group:"_mvgp_"+(new Date).getTime(),ghostClass:"mover-ghost",chosenClass:"mover-selected",onAdd:e.onListDrop,onUpdate:e.onSorted,handle:".my-handle",nodeName:"tr"},s=t.targetId,l=document.getElementById(s+"LeftItems");e.unselectedSortable=n["a"].create(l,a);var r=document.getElementById(s+"RightItems");e.selectedSortable=n["a"].create(r,i),t.normalizeLists&&e.normalizeListValues()},selectItem:function(e,t){var a=this;if(e.hasOwnProperty("length")){if(t.length>0&&(e=t[0]),!e)return}else e.isSelected=!e.isSelected,a.selectedItem=e,a.selectedList=t},moveRight:function(e,t){var a=this;if(!e)e=$.grep(a.unselectedItems,(function(e,t){return e.isSelected}));e&&(a.selectedItems.length>a.maxItem-1&&a.maxItem>0?a.ShowAlert(a.$t([a.$t(a.maxItem)]),"warning",!0,a.$t("Alert")):e.length+a.selectedItems.length>a.maxItem&&a.maxItem>0?a.ShowAlert(a.$t("SelectFieldMessage",[a.$t(a.maxItem)]),"warning",!0,a.$t("Alert")):($.each(e,(function(e,t){t.isSelected=!1;var i=a.unselectedItems.indexOf(t);if(a.unselectedItems.splice(i,1),"number"===typeof e)a.selectedItems.splice(e,0,t);else if("top"==a.movedItemLocation)a.selectedItems.unshift(t);else{a.selectedItems.push(t);var s=a.$el.querySelector(".mover-right>.mover-panel");setTimeout((function(){s.scrollTop=s.scrollHeight}))}})),setTimeout((function(){a.selectItem(e,a.selectedItems),a.raiseItemMoved(e,a.selectedItems,"right")}),1),a.SetCheckbox("right",a)))},moveLeft:function(){var e=this,t=$.grep(e.selectedItems,(function(e,t){return e.isSelected}));t&&($.each(t,(function(t,a){a.isSelected=!1;var i=e.selectedItems.indexOf(a);if(e.selectedItems.splice(i,1),"number"===typeof t)e.unselectedItems.splice(t,0,a);else if("top"==e.movedItemLocation)e.unselectedItems.unshift(a);else{e.unselectedItems.push(a);var s=e.$el.querySelector(".mover-left>.mover-panel");setTimeout((function(){s.scrollTop=s.scrollHeight}))}})),setTimeout((function(){e.selectItem(t,e.unselectedItems),e.raiseItemMoved(t,e.unselectedItems,"left")}),10),e.SetCheckbox("left",e))},SetCheckbox:function(e,t){setTimeout((function(){t.CheckBoxBootstrap(),$(".mover-panel :checkbox").prop("checked",!0)}),100)},moveAllRight:function(){for(var e=this,t=e.unselectedItems.length-1;t>=0;t--){var a=e.unselectedItems[t];e.unselectedItems.splice(t,1),e.selectedItems.push(a)}},moveAllLeft:function(){for(var e=this,t=e.selectedItems.length-1;t>=0;t--){var a=e.selectedItems[t];e.selectedItems.splice(t,1),e.unselectedItems.push(a)}},refreshListDisplay:function(){setTimeout((function(){var t=e.selectedItems;e.selectedItems=[],e.selectedItems=t,t=e.unselectedItems,e.unselectedItems=[],e.unselectedItems=t}),10)},SearchData:function(){var e=this,t=e.Search;t=t.toLowerCase(),e.unselectedItems=e.AllItems.filter((function(t){return 0==e.selectedItems.filter((function(e){return e.value==t.value})).length})),e.unselectedItems=$.grep(e.unselectedItems,(function(e){return-1!=e.displayValue.toLowerCase().indexOf(t)}))},ClearData:function(){var e=this;e.Search="",e.unselectedItems=e.AllItems.filter((function(t){return 0==e.selectedItems.filter((function(e){return e.value==t.value})).length}))},onSorted:function(t){var a=t.item.dataset["id"],i=t.item.dataset["side"],s=t.item.dataset["index"];if("left"==i){var l=e.SortItemOfList(e.unselectedItems,a,s,t.newIndex);e.unselectedItems=[],setTimeout((function(){e.unselectedItems=l}),1)}else l=e.SortItemOfList(e.selectedItems,a,s,t.newIndex),e.selectedItems=[],setTimeout((function(){e.selectedItems=l}),1)},SortItemOfList:function(t,a,i,s){var l=t.find((function(e){return e.value==a}));return l?(t.splice(i,1),t.splice(s,0,l),t.forEach((function(e){e.isSelected=!1})),e.selectItem(l,t),t):t},onListDrop:function(e){return!1},normalizeListValues:function(){if(e.selectedItems&&0!=e.selectedItems.length&&e.unselectedItems&&0!=e.unselectedItems.length)for(var t of e.selectedItems){var a=t,i=e.unselectedItems.findIndex((function(e){return e.value==a.value}));i>-1&&e.unselectedItems.splice(i,1)}}},t=this;return setTimeout((function(){e.initialize(t)}),100),e},created:function(){var e=this;setTimeout((function(){var t=JSON.parse(JSON.stringify(e.leftItems));$.each(t,(function(t,a){let i=e.AllItems.filter((function(e){return e.value==a.value}));0==i.length&&e.AllItems.push(a)})),e.unselectedItems=JSON.parse(JSON.stringify(e.leftItems));var a=JSON.parse(JSON.stringify(e.rightItems));$.each(a,(function(t,a){let i=e.AllItems.filter((function(e){return e.value==a.value}));0==i.length&&e.AllItems.push(a)}))}),1e3),setTimeout((function(){e.SetBootstraptoolTip()}),200),setTimeout((function(){e.CheckBoxBootstrap()}),100)}},d=c,u=a("2877"),p=Object(u["a"])(d,r,o,!1,null,null,null),m=p.exports,h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid mover-panel"},[t("div",{staticClass:"border-0 p-0 d-flex flex-wrap"},[t("div",{staticClass:"mover-panel-box leftpanel"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.titleLeft))])])]),t("div",{staticClass:"col-12 pl-0 mt-2 px-small-0"},[t("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 float-left pr-1 pl-0 px-small-0"},[t("div",{staticClass:"form-group mb-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.UserName,expression:"UserName"}],staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:e.GetPlaceHoder(),autocomplete:"off"},domProps:{value:e.UserName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.SearchData()},input:function(t){t.target.composing||(e.UserName=t.target.value)}}})])]),t("div",{staticClass:"col-sm-12 col-md-5 col-lg-5 float-left pr-1 pl-0 px-small-0"},[t("div",{staticClass:"form-group mb-1"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.DepartmentName,expression:"DepartmentName"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.DepartmentName=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("SelectDepartment")))]),e._l(e.GetDistinctArray(e.leftItems),(function(a,i){return t("option",{key:i,domProps:{value:a}},[e._v(e._s(a))])}))],2)])]),t("div",{staticClass:"col-sm-12 col-md-3 col-lg-3 float-left pl-0 px-small-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline d-flex"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:e.$t("Search"),href:"javascript:;"},on:{click:function(t){return e.SearchData()}}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:e.$t("Clear")},on:{click:function(t){return e.ClearData()}}},[t("em",{staticClass:"fa fa-refresh"})])])])]),t("div",{staticClass:"listing mt-2"},[t("vue-scroll",[t("div",{staticClass:"table-responsive scrollmoverdiv",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered",attrs:{"aria-describedby":"moveruser"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{attrs:{role:"row"}},[t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("UserName")))]),t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("Department")))])])]),t("tbody",{attrs:{id:e.targetId+"LeftItems"}},[e._l(e.unselectedItems,(function(a,i){return t("tr",{key:i,class:{"low-bar":a.isSelected,even:i%2==2,odd:i%2>0},attrs:{"data-id":a.value,"data-side":"left","data-index":i},on:{click:function(t){return e.selectItem(a,e.unselectedItems)}}},[t("td",{staticClass:"sorting_1"},[e._v(e._s(a.displayValue))]),t("td",{staticClass:"sorting_1"},[e._v(e._s(a.departmentName))])])})),null==e.unselectedItems||0==e.unselectedItems.length?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{staticClass:"text-center text-danger",attrs:{colspan:"2"}},[e._v(e._s(e.$t("NoUserFound")))])]):e._e()],2)])])])],1)]),t("div",{staticClass:"mover-controls"},["false"!=e.moveAll?t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveAllRight")},on:{click:function(t){return e.moveAllRight()}}},[t("em",{staticClass:"fa fa-angle-double-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-double-right fa-2x d-block d-md-block",attrs:{"aria-hidden":"true"}})]):e._e(),t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveRight")},on:{click:function(t){return e.moveRight()}}},[t("em",{staticClass:"fa fa-angle-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-right fa-2x d-block d-md-block",attrs:{"aria-hidden":"true"}})]),t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveLeft")},on:{click:function(t){return e.moveLeft()}}},[t("em",{staticClass:"fa fa-angle-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa-angle-left fa-2x d-block d-md-block",attrs:{"aria-hidden":"true"}})]),"false"!=e.moveAll?t("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:e.$t("MoveAllLeft")},on:{click:function(t){return e.moveAllLeft()}}},[t("em",{staticClass:"fa fa-angle-double-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),t("em",{staticClass:"fa fa fa-angle-double-left fa-2x d-block d-md-block",attrs:{"aria-hidden":"true"}})]):e._e()]),t("div",{staticClass:"mover-panel-box rightpanel"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.titleRight))])])]),e._m(0),t("div",{staticClass:"listing mt-2"},[t("vue-scroll",[t("div",{staticClass:"table-responsive scrollmoverdiv",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered",attrs:{id:"example","aria-describedby":"mover"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("UserName")))]),t("th",{attrs:{scope:"col"}},[e._v(e._s(e.$t("Department")))])])]),t("tbody",{attrs:{id:e.targetId+"RightItems"}},[e._l(e.selectedItems,(function(a,i){return t("tr",{key:i,class:{even:i%2==2,odd:i%2>0,"low-bar":a.isSelected},attrs:{"data-id":a.value,"data-side":"right"},on:{click:function(t){return e.selectItem(a,e.selectedItems)}}},[t("td",[t("span",{staticClass:"my-handle"},[e._v(e._s(a.displayValue))])]),t("td",[e._v(e._s(a.departmentName))])])})),null==e.selectedItems||0==e.selectedItems.length?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{staticClass:"text-center text-danger",attrs:{colspan:"2"}},[e._v(e._s(e.$t("UserNotSelect")))])]):e._e()],2)])])])],1)])])])},f=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 pl-0 mt-2 d-none"},[t("div",{staticClass:"col-4 float-left pr-1 pl-0"},[t("div",{staticClass:"form-group mb-0"},[t("input",{staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search By Title",autocomplete:"off"}})])]),t("div",{staticClass:"col-4 float-left pr-1 pl-0"},[t("div",{staticClass:"form-group mb-0"},[t("input",{staticClass:"form-control",attrs:{id:"search",maxlength:"50",type:"text",placeholder:"Search By Title",autocomplete:"off"}})])]),t("div",{staticClass:"col-4 float-left pl-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline d-flex"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"Go",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[t("em",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[t("em",{staticClass:"fa fa-refresh"})])])])])}],v={props:{titleLeft:{type:String,default:"Available"},titleRight:{type:String,default:"Selected"},movedItemLocation:{type:String,default:"top"},leftItems:Array,rightItems:Array,targetId:{type:String,default:"Mover"},normalizeLists:{type:Boolean,default:!0},fontAwesome:{type:Boolean,default:!0},moveAll:{type:Boolean,default:!0},maxItem:{type:Number,default:0}},methods:{raiseItemMoved:function(e,t,a){this.lastMovedItem={item:e,targetList:t,listType:a},this.$emit("item-moved",this.lastMovedItem)},GetDistinctArray:function(e){return e.map((function(e){return e.departmentName})).filter((function(e,t,a){return a.indexOf(e)===t}))},GetPlaceHoder:function(){return this.$t("SearchbyFieldName"),this.$t("Name")}},data:function(){var e={selectedSortable:null,unselectedSortable:null,selectedItem:{},selectedList:null,selectedItems:this.rightItems,AllItems:[],unselectedItems:[],lastMovedItem:null,DepartmentArray:this.department,UserName:"",DepartmentName:"",initialize:function(t){var a={group:"_mvgp_"+(new Date).getTime(),ghostClass:"mover-ghost",chosenClass:"mover-selected",onAdd:e.onListDrop,onUpdate:e.onSorted,sort:!1,disabled:!0},i={group:"_mvgp_"+(new Date).getTime(),ghostClass:"mover-ghost",chosenClass:"mover-selected",onAdd:e.onListDrop,onUpdate:e.onSorted,handle:".my-handle"},s=t.targetId,l=document.getElementById(s+"LeftItems");e.unselectedSortable=n["a"].create(l,a);var r=document.getElementById(s+"RightItems");e.selectedSortable=n["a"].create(r,i),t.normalizeLists&&e.normalizeListValues()},selectItem:function(e,t){var a=this;(e||(t.length>0&&(e=t[0]),e))&&(e.isSelected=!e.isSelected,a.selectedItem=e,a.selectedList=t)},SetCheckbox:function(e){setTimeout((function(){$(".mover-panel :checkbox").prop("checked",!1)}),100)},moveRight:function(e,t){var a=this;if(!e)e=$.grep(a.unselectedItems,(function(e,t){return e.isSelected}));e&&(a.selectedItems.length>a.maxItem-1&&a.maxItem>0?alertR(this.$t("SelectFieldMessage")+a.maxItem,!0,this.$t("Alert")):($.each(e,(function(e,t){t.isSelected=!1;var i=a.unselectedItems.indexOf(t);if(a.unselectedItems.splice(i,1),console.log(a.selectedItems),"number"===typeof e)e=a.selectedItems.hasOwnProperty("length")?a.selectedItems.length:0,a.selectedItems.splice(e,0,t);else if("top"==a.movedItemLocation)a.selectedItems.unshift(t);else{a.selectedItems.push(t);var s=a.$el.querySelector(".mover-right>.mover-panel");setTimeout((function(){s.scrollTop=s.scrollHeight}))}console.log(a.selectedItems)})),setTimeout((function(){a.selectItem(e,a.selectedItems),a.raiseItemMoved(e,a.selectedItems,"right")}),10),a.SetCheckbox("right")))},moveLeft:function(e,t){var a=this;e=$.grep(a.selectedItems,(function(e,t){return e.isSelected}));e&&($.each(e,(function(e,t){t.isSelected=!1;var i=a.selectedItems.indexOf(t);if(a.selectedItems.splice(i,1),"number"===typeof e)a.unselectedItems.splice(e,0,t);else if("top"==a.movedItemLocation)a.unselectedItems.unshift(t);else{a.unselectedItems.push(t);var s=a.$el.querySelector(".mover-left>.mover-panel");setTimeout((function(){s.scrollTop=s.scrollHeight}))}})),setTimeout((function(){a.selectItem(e,a.unselectedItems),a.raiseItemMoved(e,a.unselectedItems,"left")}),10),a.SetCheckbox("left"))},moveAllRight:function(){for(var e=this,t=e.unselectedItems.length-1;t>=0;t--){var a=e.unselectedItems[t];e.unselectedItems.splice(t,1),e.selectedItems.push(a)}e.SetCheckbox()},moveAllLeft:function(){for(var e=this,t=e.selectedItems.length-1;t>=0;t--){var a=e.selectedItems[t];e.selectedItems.splice(t,1),e.unselectedItems.push(a)}e.SetCheckbox()},refreshListDisplay:function(){var e=this;setTimeout((function(){var t=e.selectedItems;e.selectedItems=[],e.selectedItems=t,t=e.unselectedItems,e.unselectedItems=[],e.unselectedItems=t}),10)},SearchData:function(){var e=this,t=e.UserName,a=e.DepartmentName;e.unselectedItems=e.AllItems.filter((function(t){return 0==e.selectedItems.filter((function(e){return e.value==t.value})).length})),""!=$.trim(t)&&""==$.trim(a)?(t=t.toLowerCase(),e.unselectedItems=$.grep(e.unselectedItems,(function(e){return-1!=e.displayValue.toLowerCase().indexOf(t)}))):""==$.trim(t)&&""!=$.trim(a)?e.unselectedItems=$.grep(e.unselectedItems,(function(e){return e.departmentName==a})):""!=$.trim(t)&&""!=$.trim(a)&&(t=t.toLowerCase(),e.unselectedItems=$.grep(e.unselectedItems,(function(e){return-1!=e.displayValue.toLowerCase().indexOf(t)&&e.departmentName==a})))},ClearData:function(){var e=this;e.UserName="",e.DepartmentName="",e.unselectedItems=e.AllItems.filter((function(t){return 0==e.selectedItems.filter((function(e){return e.value==t.value})).length}))},onSorted:function(t){var a=t.item.dataset["id"],i=t.item.dataset["side"],s=t.item.dataset["index"];if("left"==i){var l=e.SortItemOfList(e.unselectedItems,a,s,t.newIndex);e.unselectedItems=[],setTimeout((function(){e.unselectedItems=l}),1)}else l=e.SortItemOfList(e.selectedItems,a,s,t.newIndex),e.selectedItems=[],setTimeout((function(){e.selectedItems=l}),1)},SortItemOfList:function(e,t,a,i){var s=this,l=e.find((function(e){return e.value==t}));return l?(e.splice(a,1),e.splice(i,0,l),e.forEach((function(e){e.isSelected=!1})),s.selectItem(l,e),e):e},onListDrop:function(e){var t=this,a=e.item.dataset["id"],i=e.item.dataset["side"],s=e.newIndex;if("left"==i){var l=t.unselectedItems.find((function(e){return e.value==a}));t.moveRight(l,s),l.isSelected=!0;var r=t.unselectedItems;t.unselectedItems=[],setTimeout((function(){t.unselectedItems=r}))}else{l=t.selectedItems.find((function(e){return e.value==a}));l.isSelected=!0,t.moveLeft(l,s);r=t.selectedItems;t.selectedItems=[],setTimeout((function(){t.selectedItems=r}))}},normalizeListValues:function(){var e=this;if(e.selectedItems&&0!=e.selectedItems.length&&e.unselectedItems&&0!=e.unselectedItems.length)for(var t of e.selectedItems){var a=t,i=e.unselectedItems.findIndex((function(e){return e.value==a.value}));i>-1&&e.unselectedItems.splice(i,1)}}},t=this;return setTimeout((function(){e.initialize(t)}),100),e},created:function(){var e=this;setTimeout((function(){var t=JSON.parse(JSON.stringify(e.leftItems));$.each(t,(function(t,a){let i=e.AllItems.filter((function(e){return e.value==a.value}));0==i.length&&e.AllItems.push(a)})),e.unselectedItems=JSON.parse(JSON.stringify(e.leftItems));var a=JSON.parse(JSON.stringify(e.rightItems));$.each(a,(function(t,a){0==e.AllItems.filter((function(e){return e.value==a.value})).length&&e.AllItems.push(a)}))}),1e3),setTimeout((function(){e.SetBootstraptoolTip()}),200)}},g=v,S=Object(u["a"])(g,h,f,!1,null,null,null),b=S.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-100 float-left px-3 listing"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("div",{staticClass:"form-content border-0"},[e.showAddData?t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divManageSearchCriteria"}},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("Form",{ref:"form",scopedSlots:e._u([{key:"default",fn:function({values:a,meta:i}){return[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("div",{staticClass:"table-responsive overflow-visible"},[t("table",{staticClass:"table table-bordered nowrap mt-0 mb-0",attrs:{"aria-describedby":"layoutfilter"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{attrs:{scope:"col"}},[t("span",[e._v(e._s(e.$t("fieldName")))])]),t("th",{attrs:{scope:"col"}},[t("span",[e._v(" "+e._s(e.$t("ConditionalOperator")))])]),t("th",{attrs:{scope:"col"}},[t("span",[e._v(" "+e._s(e.$t("Value")))])]),t("th",{staticClass:"text-center",attrs:{scope:"col"}})])]),t("tbody",e._l(e.filterItemData,(function(a,i){return t("tr",{key:i},[t("td",[t("Field",{attrs:{name:"field_name"+(i+1),"data-vv-name":"SearchFilter.fieldName"+(i+1),rules:{required:a.is_required},label:"Field Name"},scopedSlots:e._u([{key:"default",fn:function({errors:s,changed:l}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.field_name,expression:"item.field_name"}],class:{"form-control disableAria":!0,"is-invalid":s[0]},attrs:{name:"field_name"+(i+1)},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"field_name",t.target.multiple?i:i[0])},function(t){return e.GetOperatorData(t,a,i)}],"update:modelValue":l}},[t("option",{attrs:{"data-index":i,value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.fieldNameData,(function(a,i){return t("option",{key:i,domProps:{value:String(a.custom_field_id)}},[e._v(" "+e._s(e.$t(a.display_name)))])}))],2)]}}],null,!0)})],1),t("td",[t("Field",{attrs:{name:"operator"+(i+1),rules:{required:a.is_required},label:"operator"},scopedSlots:e._u([{key:"default",fn:function({errors:s,changed:l}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.operator,expression:"item.operator"}],class:{"form-control":!0,disableAria:!0,"is-invalid":s[0]},attrs:{name:"operator"+(i+1)},on:{"update:modelValue":l,change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"operator",t.target.multiple?i:i[0])},function(t){return e.ShowFieldValue(t,a,i)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(a.operator_list,(function(a,i){return t("option",{key:i,domProps:{value:String(a.OPERATOR_ID)}},[e._v(" "+e._s(a.OPERATOR_DISPLAY_NAME))])}))],2)]}}],null,!0)})],1),t("td",{staticClass:"overflow-visible"},["date"==a.dt_code||"datetime"==a.dt_code?t("div",{class:{"col-5 p-0 float-left pr-1":"between"==a.operator_expression}},[t("Field",{attrs:{name:"date"+a.label+i,rules:{required:a.is_required},label:a.label+i},scopedSlots:e._u([{key:"default",fn:function({errors:s,changed:l}){return[t("v-date-picker",{staticClass:"input-group",class:{disableAria:!0,"is-invalid":("date"==a.dt_code||"datetime"==a.dt_code)&&s[0]},attrs:{popover:e.popover,"minute-increment":5,name:"date"+a.label+i},on:{"dp-hide":function(t){a.second_value="",e.SetValues(t,a)},"update:modelValue":l,input:function(t){return e.SetValues(t,a)}},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:i,togglePopover:s}){return[t("input",e._g({staticClass:"form-control",domProps:{value:a}},i)),t("div",{staticClass:"input-group-append",on:{click:function(e){return s()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]}}],null,!0)})],1):e._e(),"date"!=a.dt_code&&"datetime"!=a.dt_code||"between"!=a.operator_expression?e._e():t("div",{staticClass:"col-2 float-left",staticStyle:{"margin-top":"6px"}},[e._v(" "+e._s(e.$t("And","And")))]),"date"!=a.dt_code&&"datetime"!=a.dt_code||"between"!=a.operator_expression?e._e():t("div",{class:{"input-group":!0,"col-5 p-0 float-left":"between"==a.operator_expression}},[t("Field",{attrs:{name:"second"+a.label+i,rules:{required:a.is_required},label:a.label+i},scopedSlots:e._u([{key:"default",fn:function({errors:s,changed:l}){return[t("v-date-picker",{ref:"SecondDatePicker",refInFor:!0,staticClass:"input-group",class:{disableAria:!0,"is-invalid":("date"==a.dt_code||"datetime"==a.dt_code)&&s[0]},attrs:{popover:e.popover,"minute-increment":5,name:"second"+a.label+i},on:{"dp-hide":function(t){a.second_value="",e.SetValues(t,a)},"update:modelValue":l,input:function(t){return e.SetValues(t,a)}},scopedSlots:e._u([{key:"default",fn:function({inputValue:a,inputEvents:i,togglePopover:s}){return[t("input",e._g({staticClass:"form-control",domProps:{value:a}},i)),t("div",{staticClass:"input-group-append",on:{click:function(e){return s()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.second_value,callback:function(t){e.$set(a,"second_value",t)},expression:"item.second_value"}})]}}],null,!0)})],1),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code?t("Field",{attrs:{name:a.label+i,rules:{required:a.is_required},label:"Value"},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],class:{"form-control disableAria":!0,"is-invalid":s[0],"col-5 float-left":"between"==a.operator_expression},attrs:{id:a.label+i,name:a.label+i,type:"text"},domProps:{value:a.value},on:{input:[function(t){t.target.composing||e.$set(a,"value",t.target.value)},function(t){return e.SetValues(t,a)}]}})]}}],null,!0)}):e._e(),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code&&"between"==a.operator_expression?t("div",{staticClass:"col-2 float-left",staticStyle:{"margin-top":"6px"}},[e._v(e._s(e.$t("And","And"))+" ")]):e._e(),"Lookup"!=a.picklist_options&&"date"!=a.dt_code&&"datetime"!=a.dt_code&&"radio"!=a.dt_code&&"select"!=a.dt_code&&"textarea"!=a.dt_code&&"checkbox"!=a.dt_code&&"between"==a.operator_expression?t("Field",{attrs:{name:"second"+a.label+i,rules:{required:a.is_required},label:"second"+a.label+i},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.second_value,expression:"item.second_value"}],class:{"form-control disableAria":!0,"is-invalid":s[0],"col-5 float-left":"between"==a.operator_expression},attrs:{type:"text",id:a.label,name:"second"+a.label+i},domProps:{value:a.second_value},on:{input:[function(t){t.target.composing||e.$set(a,"second_value",t.target.value)},function(t){return e.SetValues(t,a,"second")}]}})]}}],null,!0)}):e._e(),"textarea"==a.dt_code?t("Field",{attrs:{name:"textarea"+a.label+i,rules:{required:a.is_required},label:a.label+i},scopedSlots:e._u([{key:"default",fn:function({errors:i}){return[t("textarea",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],class:{"form-control":!0,"is-invalid":"textarea"==a.dt_code&&i[0]},attrs:{id:a.label},domProps:{value:a.value},on:{change:function(t){return e.SetValues(t,a)},input:function(t){t.target.composing||e.$set(a,"value",t.target.value)}}})]}}],null,!0)}):e._e(),"radio"==a.dt_code?t("div",{staticClass:"form-control pl-4 border-0 bg-transparent"},[t("div",{staticClass:"form-check form-check-inline"},e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(i,s){return t("div",{key:s,staticClass:"form-check form-check-inline custom-control mx-4 pl-2 custom-radio",attrs:{key:i.name}},[t("Field",{attrs:{name:"rdo_"+a.custom_field_id+i.value,rules:{required:a.is_required},label:a.label}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],staticClass:"dynamic form-check-input custom-control-input",attrs:{id:"rdo_"+a.custom_field_id+i.value,name:"rdo_"+a.custom_field_id+i.value,"data-resource":i.name,type:"radio"},domProps:{value:i.value,checked:i.value==a.value,checked:e._q(a.value,i.value)},on:{change:[function(t){return e.$set(a,"value",i.value)},function(t){return e.SetValues(t,a)}]}})]),t("label",{staticClass:"custom-control-label universalradio-custom-control-label pl-0 pt-0 dynamic",attrs:{for:"rdo_"+a.custom_field_id+i.value}},[e._v(e._s(i.name))])],1)})),0)]):e._e(),"checkbox"==a.dt_code?t("div",{staticClass:"form-control pl-0 border-0 bg-transparent"},[t("div",{staticClass:"form-check form-check-inline"},e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(i,s){return t("div",{key:s,staticClass:"custom-control custom-checkbox"},[t("Field",{attrs:{name:"chk_"+a.custom_field_id+i.value,rules:{required:a.is_required},label:a.label}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.select_value,expression:"item.select_value"}],staticClass:"dynamic custom-control-input",attrs:{id:"chk_"+a.custom_field_id+i.value,name:"chk_"+a.custom_field_id+i.value,"data-resource-id":i.name,type:"checkbox"},domProps:{value:i.value,checked:Array.isArray(a.select_value)?e._i(a.select_value,i.value)>-1:a.select_value},on:{change:[function(t){var s=a.select_value,l=t.target,r=!!l.checked;if(Array.isArray(s)){var o=i.value,n=e._i(s,o);l.checked?n<0&&e.$set(a,"select_value",s.concat([o])):n>-1&&e.$set(a,"select_value",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(a,"select_value",r)},function(t){return e.SetValues(t,a)}]}})]),t("label",{staticClass:"custom-control-label universal-custom-control-label pl-2 pr-1 dynamic",attrs:{for:"chk_"+a.custom_field_id+i.value}},[e._v(e._s(i.name))])],1)})),0)]):e._e(),"Lookup"!=a.picklist_options||"select"!=a.dt_code||"custom"!=a.dropdown_type&&("normal"!=a.dropdown_type||"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression)?e._e():t("Field",{attrs:{name:"Multiselect"+a.label+i,rules:{required:a.is_required},label:a.label+i},scopedSlots:e._u([{key:"default",fn:function({errors:s,changed:l}){return[t("Multiselect",{class:{disableAria:!0,"is-invalid":"Lookup"==a.picklist_options&&"select"==a.dt_code&&"custom"==a.dropdown_type&&s[0]},attrs:{multiple:"IN"==a.operator_expression||"NOT IN"==a.operator_expression,name:"Multiselect"+a.label+i,placeholder:"Search a value","filter-results":!1,searchable:!0,"track-by":"value","show-no-results":!1,"internal-search":!1,"clear-on-select":!1,"close-on-select":!0,options:"normal"==a.dropdown_type?e.MakeNormalArray(a.select_options):a.select_options,object:!0,label:"name"},on:{"search-change":function(t){return e.onSearch(t,a)},select:e.setSelectedValue,"update:modelValue":l},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]}}],null,!0)}),"Lookup"==a.picklist_options&&"select"==a.dt_code&&"normal"==a.dropdown_type&&"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression?t("Field",{attrs:{name:"select"+a.label+i,rules:{required:!0},label:a.operator},scopedSlots:e._u([{key:"default",fn:function({errors:s,changed:l}){return[t("select",{class:{"form-control disableAria":!0,"is-invalid":s[0]},attrs:{name:"select"+a.label+i},on:{"update:modelValue":l,change:function(t){return e.SetValues(t,a,i)}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.MakeNormalArray(a.select_options),(function(i,s){return t("option",{key:s,domProps:{selected:a.value==i.value,value:i.value}},[e._v(e._s(i.name))])}))],2)]}}],null,!0)}):e._e(),"Lookup"!=a.picklist_options&&"select"==a.dt_code&&"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression?t("Field",{attrs:{name:"select2"+a.label+i,rules:{required:!0},label:a.operator},scopedSlots:e._u([{key:"default",fn:function({errors:s,changed:l}){return[t("select",{class:{"form-control disableAria":!0,"is-invalid":s[0]},attrs:{name:"select2"+a.label+i},on:{"update:modelValue":l,change:function(t){return e.SetValues(t,a,i)}}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.MakeArray(a.picklist_options,a.dt_code),(function(i,s){return null!=a.picklist_options?t("option",{key:s,domProps:{selected:a.value==i.value,value:i.value}},[e._v(e._s(i.name))]):e._e()}))],2)]}}],null,!0)}):e._e(),"Lookup"==a.picklist_options||null==a.picklist_options||"select"!=a.dt_code||"custom"!=a.dropdown_type&&("normal"!=a.dropdown_type||"IN"!=a.operator_expression&&"NOT IN"!=a.operator_expression)?e._e():t("Field",{attrs:{name:"Multiselect2"+a.label+i,rules:{required:a.is_required},label:"name"},scopedSlots:e._u([{key:"default",fn:function({errors:i,changed:s}){return[t("Multiselect",{class:{disableAria:!0,"is-invalid":"Lookup"==a.picklist_options&&"select"==a.dt_code&&"custom"==a.dropdown_type&&i[0]},attrs:{placeholder:"Search a value","filter-results":!1,searchable:!0,"track-by":"value","show-no-results":!1,"internal-search":!1,"clear-on-select":!1,"close-on-select":!0,options:a.select_options,object:!0,label:"name"},on:{"search-change":function(t){return e.onSearch(t,a)},select:function(t){return e.setSelectedValue(a,t)},"update:modelValue":s},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]}}],null,!0)})],1),t("td",{staticClass:"text-center single-action"},[t("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.DeleteSearchItem(a,i)}}},[t("em",{staticClass:"fa fa-trash action-icon text-danger"})])])])})),0)]),t("div",{staticClass:"col-lg-12 text-right py-3"},[t("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",title:e.$t("Add")},on:{click:e.AddSearchData}},[t("em",{staticClass:"fa fa-plus pr-2",attrs:{"aria-hidden":"true"}}),e._v(e._s(e.$t("Add")))])])])]),e.isBlank(e.condition)?e._e():t("div",{staticClass:"col-12 float-left p-0 mt-2"},[t("div",{staticClass:"alert alert-secondary py-2"},[t("label",{staticClass:"font-weight-bold mb-0"},[e._v(" "+e._s(e.$t("Condition"))+":")]),t("label",{staticClass:"mb-0"},[e._v(e._s(e.condition))])])]),t("div",{staticClass:"col-12 float-left p-0 mt-2 d-none"},[t("div",{staticClass:"alert alert-secondary py-2"},[t("label",{staticClass:"font-weight-bold mb-0"},[e._v("Database Condition:")]),t("label",{staticClass:"mb-0"},[e._v(e._s(e.databaseCondition))])])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left py-3 d-none"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"search-btm-btn"},[t("a",{staticClass:"btn btn-success formbtn widthhalf",attrs:{href:"javascript:;",title:e.$t("SaveAndSearch")},on:{click:function(t){return e.SubmitData("save")}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v(" "+e._s(e.$t("SaveAndSearch"))+" ")]),t("a",{staticClass:"btn btn-success formbtn widthhalf",attrs:{href:"javascript:;",title:e.$t("Search")},on:{click:function(t){return e.SubmitData("search")}}},[t("em",{staticClass:"fa fa-search pr-2"}),e._v(e._s(e.$t("Search")))]),t("a",{staticClass:"btn btn-danger formbtn widthhalf",attrs:{href:"javascript:;",title:e.$t("Cancel")},on:{click:function(t){e.showListData=!0,e.showAddData=!1,e.filterItemData=[],e.GetSearchFilterItemData()}}},[t("em",{staticClass:"fa fa-close pr-2"}),e._v(e._s(e.$t("Cancel")))])])])])]}}],null,!1,717057401)})],1)]):e._e()])])])])},C=[],w=a("1157"),A=a.n(w),D={props:{submodulecode:{type:String,required:!0},modulename:{type:String,required:!0},callbackfunction:{type:Function},control:{type:Object},viewId:{type:Number},filterType:{type:String},tabId:{type:Number}},data:function(){return{filterData:[],showListData:!1,showAddData:!0,filterItemData:[],fieldNameData:[],options:"",submited:!1,databaseCondition:"",condition:"",filterName:"",validationForName:"",filterId:0,isDefault:!1,FormatForSecond:"",isFirstTime:!1,exitstingFilterNameArray:[],ApiURL:"",CurrentObject:null,ViewId:0,FilterType:"",TabId:0,popover:{visibility:"click"},CompanyType:""}},created:function(){this.ViewId=this.viewId,this.FilterType=this.filterType,this.CurrentObject=this.control,this.TabId=this.tabId,this.IsExtraMapFeature(),this.GetSearchFilterItemData(),this.GetFieldNameData(),this.ViewId>0&&this.EditSearchFilterData(this.ViewId),setTimeout((function(){A()(".modal-dialog").draggable({handle:".modal-header"})}),1e3)},methods:{IsExtraMapFeature:function(){var e=this;l["a"].IsExtraMapFeature().then((function(t){e.CompanyType="",null!=t.data&&""!=t.data?e.CompanyType=t.data:e.CompanyType="normal"}))},MakeArray:function(e,t){var a=[],i=String(e).split(",");if("radio"==t||"checkbox"==t){if(i.length>0)for(var s of i)if(s.split("|").length>1){var l={name:s.split("|")[0],value:s.split("|")[1]};a.push(l)}else{l={name:s,value:s};a.push(l)}}else if(i.length>0)for(var s of i){l={name:s,value:s};a.push(l)}return a},GetLocalizedValue:function(e,t){try{if(this.isBlank(t)){var a=this.$t(String(e).toUpperCase());return a!=String(e).toUpperCase()?a:(a=this.$t(String(e)),a||/^\s*$/.test(a)?a:e)}a=this.$t(String(t).toUpperCase());return a!=String(t).toUpperCase()?a:(a=this.$t(String(t)),a||/^\s*$/.test(a)?a:t)}catch(i){console.log(i)}},MakeNormalArray:function(e){if(e)try{return JSON.parse(e)}catch(t){return e}else e=[]},isBlank:function(e){return!e||/^\s*$/.test(e)},returnDateObject:function(e){var t=null;return e=void 0==e?"":e,""!=e&&(t=new Date(Date.parse(e))),{format:"MM-dd-yyyy",useStrict:!0,useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:t,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},GetValidationF:function(e){var t={};return e.is_required&&(t["required"]=!0),e.length>0&&(t["max"]=e.length),"email"==e.validation_type&&(t["email"]=!0),"date"!=e.dt_code&&"datetime"!=e.dt_code||(t["date_format"]=String(Globalize.culture().calendar.patterns.d).toUpperCase()),"decimal"==e.dt_code&&(t["decimal"]=2),"mobile_phone"!=e.name&&"business_phone"!=e.name&&"fax"!=e.name&&"zipcode"!=e.name||"CRM_CONTACTS"!=this.submodulecode||(t["numeric"]=!0,t["max"]=15),"int"!=e.dt_code&&"bigint"!=e.dt_code||(t["numeric"]=!0),"url"==e.dt_code&&(t["url"]="require_protocol"),null!=e.regular_expression&&""!=e.regular_expression&&(t["regex"]=e.regular_expression),t},onSearch:async function(e,t){var a=t.value;"undefined"==typeof a&&(a=0);var i="id=&moduleName="+this.modulename+"&type="+t.field_code+"&search="+escape(e);"fill"==t.dependent_type&&(i+="&refId="+a),await l["a"].getDDLData(i).then((function(e){var a=[];return e.data,""!=e.data&&(a=e.data),t.select_options=a.DATA}))},setSelectedValue:function(e,t){try{setTimeout(()=>{this.SetCondition(),this.validateFilterData()},100)}catch(a){}},AddSearchData:function(){this.GetSearchFilterItemData()},DeleteSearchItem:function(e,t){var a=this,i=a.$t("ConfirmDelete");a.confirmR(i,!0,null,(function(){a.filterItemData.splice(t,1),a.SetCondition()}))},GetSearchFilterData:function(){var e=this,t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode;this.filterData=[],l["a"].SearchCriteriaListing(t).then((function(e){var t=e.data;if(null!=t)return this.filterData=t.DATA,this.filterData}))},GetFieldNameData:function(){var e=this,t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode;"VIEW"==this.FilterType&&(t+="&reqFrom=MANAGEVIEW"),this.fieldNameData=[],l["a"].GetFieldName(t).then((function(t){var a=t.data;if(null!=a){if(e.fieldNameData=a.DATA,"nonlocating"!=e.CompanyType)return e.fieldNameData;e.fieldNameData.forEach((t,a)=>{if("parent_sub_status_id"==t.label||"sub_status_id"==t.label)return e.fieldNameData.splice(a,1)})}}))},GetOperatorData:function(e,t){var a=e.target.value,i=A.a.grep(this.fieldNameData,(function(e,t){return e.custom_field_id==a})),s="";t.dt_code="",t.picklist_options=[],t.label="",t.dropdown_type="",t.select_options="",t.select_value="",t.length=0,t.operator="",t.field_code="",t.second_value="",t.display_name="",t.is_required=!1,i.length>0&&(s="ModifiedBy"==i[0].display_name||"Modified By"==i[0].display_name?"nvarchar":i[0].sql_type,t.dt_code=i[0].dt_code,t.picklist_options=i[0].picklist_options,t.label=i[0].label,t.dropdown_type=i[0].dropdown_type,t.select_options=i[0].select_options,t.length=i[0].length,t.display_name=i[0].display_name,t.field_code=i[0].field_code,t.is_required=i[0].is_required,t.validation_type=i[0].validation_type);var r="dataType="+s+"&customField="+a;t.operator_list=[],l["a"].GetOperator(r).then((function(e){var a=e.data;if(null!=a)return t.operator_list=a.DATA,t.operator_list})),t.field_name=a,t.value="",this.SetCondition(),this.validateFilterData()},SetValues:function(e,t,a){if("datetime"==t.dt_code||"decimal"==t.dt_code||"date"==t.dt_code)if("second"==a){var i=t.second_value;t.second_value=i}else{i=t.value;t.value=i}else"second"==a?t.second_value=e.target.value:t.value=e.target.value;this.SetCondition(),this.validateFilterData()},SetCondition:function(){var e="",t="",a=this,i="";A.a.each(a.filterItemData,(function(s,l){s>0&&(e+=" And ",t+=" and ");var r=l.field_name,o=A.a.grep(a.fieldNameData,(function(e){return e.custom_field_id==r}));"undefined"!=typeof o&&o.length>0&&(e+=a.GetLocalizedValue(o[0].label,o[0].display_name),"date"==o[0].dt_code||"datetime"==o[0].dt_code?t+="convert(date, "+o[0].name+", 23)":"CL.client"==o[0].name?o[0].name="CL.UserNames":"PMU.pm"==o[0].name?o[0].name="PMU.UserNames":t+=o[0].name.trimEnd());var n=l.operator;if(o=A.a.grep(l.operator_list,(function(e,t){return e.OPERATOR_ID==n})),"undefined"!=typeof o&&o.length>0&&(e=e+" "+o[0].OPERATOR_DISPLAY_NAME,i=o[0].OPERATOR_EXPRESSION,t+=" "+i),!a.isBlank(l.value)){var c=l.value,d=l.value;if("select"==l.dt_code&&"normal"==l.dropdown_type&&"IN"!=i&&"NOT IN"!=i){var u=a.MakeNormalArray(l.select_options);o=A.a.grep(u,(function(e,t){return e.value==l.value})),"undefined"!=typeof o&&o.length>0&&(c=o[0].name)}else if("select"==l.dt_code&&"custom"==l.dropdown_type||"select"==l.dt_code&&"normal"==l.dropdown_type&&("IN"==i||"NOT IN"==i)){if(Array.isArray(l.value)?(d=a.createString(l.value,"value"),c=a.createString(l.value,"name")):(d=l.value.value,c=l.value.name),"IN"==i||"NOT IN"==i){u=a.MakeNormalArray(l.select_options);o=A.a.grep(u,(function(e,t){return e.value==l.value})),"undefined"!=typeof o&&o.length>0&&(c=o[0].name),d="("+d+")"}}else if("select"==l.dt_code&&"custom"!=l.dropdown_type&&"normal"!=l.dropdown_type)if("IN"==i||"NOT IN"==i)Array.isArray(l.value)?(d=a.createString(l.value,"value"),c=a.createString(l.value,"name")):(d=l.value.value,c=l.value.name),d="("+d+")";else{u=a.MakeArray(l.picklist_options,l.dt_code);o=A.a.grep(u,(function(e,t){return e.value==l.value})),"undefined"!=typeof o&&o.length>0&&(c=o[0].name),d=" '"+d+"'"}else if("date"==l.dt_code||"datetime"==l.dt_code)"between"==i?(c=l.value+" And "+l.second_value,d="'"+a.$options.filters.formatDatee(l.value)+"' and '"+a.$options.filters.formatDatee(l.second_value)+"'"):(c=l.value,d="'"+a.$options.filters.formatDatee(l.value)+"'");else if("radio"==l.dt_code){u=a.MakeArray(l.picklist_options,l.dt_code);o=A.a.grep(u,(function(e,t){return e.value==l.value})),"undefined"!=typeof o&&o.length>0&&(c=o[0].name,d="'"+o[0].value+"'")}else if("Like"==i||"Not Like"==i)d="'%"+l.value+"%'";else if("Starts With"==i)d="'"+l.value+"%'",t=t.replace("Starts With","like");else if("Ends With"==i)d="'%"+l.value+"'",t=t.replace("Ends With","like");else if("between"==i)c=l.value+" And "+l.second_value,d="'"+l.value+"' and '"+l.second_value+"'";else if("IN"==i||"NOT IN"==i){for(var p=String(l.value).split(","),m="",h=0;h<p.length;h++)h>0&&(m+=" , "),m+="'"+p[h]+"'";d="("+m+")"}else d="'"+d+"'";"select"==l.dt_code&&"normal"==l.dropdown_type&&"event_location"==l.label?t+=" '"+d+"'":"select"==l.dt_code&&"normal"==l.dropdown_type&&"forecast_category_name"==l.label?t+=" '"+c+"'":"select"==l.dt_code&&"normal"==l.dropdown_type&&"display_icon"==l.label?t+=" '"+d+"'":t+=" "+d,e=e+" "+c}})),a.condition=e,a.databaseCondition=encodeURIComponent(t).replace(/'/g,"%27"),"undefined"!=typeof a.CurrentObject&&null!=a.CurrentObject?(a.CurrentObject.TabCondition=a.condition,a.CurrentObject.TabDatabaseCondition=a.databaseCondition):(a.$parent.$parent.ViewData.Condition=a.condition,a.$parent.$parent.ViewData.DatabaseCondition=a.databaseCondition),a.SubmitData()},ShowFieldValue:function(e,t){var a=e.target.value,i=A.a.grep(t.operator_list,(function(e,t){return e.OPERATOR_ID==a})),s="";i.length>0&&(s=i[0].OPERATOR_EXPRESSION),t.showSecondValue="between"==s,t.operator=a,t.operator_expression=s,this.SetCondition(),this.validateFilterData()},GetSearchFilterItemData:function(){var e={field_name:"",dt_code:"",operator:"",operator_expression:"",operator_list:[],first_value:"",second_value:"",showSecondValue:!1,picklist_options:[],label:"",display_name:"",dropdown_type:"",select_options:"",length:0,field_code:"",select_value:"",is_required:!1};this.filterItemData.push(e)},ApplyFilter:function(e){this.databaseCondition=e,checkVue.searchCondition=this.databaseCondition,"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction?this.callbackfunction():(this.$parent.PageSize=10,this.$parent.FetchData()),this.$emit("close")},EditFilter:function(e,t){this.showListData=!1,this.showAddData=!0,"NotSaved"!=t?(this.filterId=e.FILTER_ID,this.EditSearchFilterData(this.filterId)):(this.filterName=this.$parent.appliedFilter[0].field_name.split("(")[0],this.filterItemData=this.$parent.appliedFilter[0])},deleteFilter:function(e){this.filterId=e.FILTER_ID;var t=this,a=t.$t("Delete"),i=t.$t("ConfirmDeleteFilter")+t.$t("Remove");t.confirmR(i,!0,a,(function(){var a="id="+e.FILTER_ID+"&moduleName="+t.modulename+"&subModuleCode="+t.submodulecode+"&isDelete=1";l["a"].SearchCriteriaById(a).then((function(a){var i=a.data;null!=i&&"SUCCESS"==i.MSG&&(t.GetSearchFilterData(),e.DATABASE_CONDITION==t.$parent.searchCondition&&(t.$parent.searchCondition="","undefined"!=typeof t.callbackfunction&&null!=t.callbackfunction?t.callbackfunction():t.$parent.FetchData()),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Filter")]),"success",!0,t.$t("Filter")))}))}))},EditSearchFilterData:function(e){var t=this,a=0;t.TabId>0&&(a=t.TabId);var i="id="+e+"&type="+t.FilterType+"&tabId="+a+"&moduleName="+t.modulename+"&subModuleCode="+t.submodulecode;t.filterItemData=[],l["a"].SearchCriteriaByIdView(i).then((function(a){var i=a.data;if(null!=i){var s=i.DATA,l=A.a.grep(s,(function(t,a){return t.VIEW_ID==e}));if(null!=l&&l.length>0&&(t.condition=l[0].CONDITION,t.databaseCondition=l[0].DATABASE_CONDITION),0==s.length){var r={field_name:"",dt_code:"",operator:"",operator_expression:"",operator_list:"",value:"",second_value:"",showSecondValue:!1,picklist_options:"",label:"",dropdown_type:"",select_options:"",length:"",field_code:"",select_value:"",is_required:!1};t.filterItemData.push(r)}A.a.each(s,(function(e,a){var i=a.FIRST_VALUE,s=a.SECOND_VALUE;"date"==a.DT_CODE&&(i=t.formatDate(i),"between"==a.OPERATOR_EXPRESSION&&(s=t.formatDate(s)));var l={field_name:a.FIELD_ID,dt_code:a.DT_CODE,operator:a.OPERATOR_ID,operator_expression:a.OPERATOR_EXPRESSION,operator_list:t.MakeNormalArray(a.OPERATOR_LIST),value:t.MakeNormalArray(i),second_value:s,showSecondValue:!t.isBlank(a.SECOND_VALUE),picklist_options:a.PICKLIST_OPTIONS,label:a.LABEL,dropdown_type:a.DROPDOWN_TYPE,select_options:t.MakeNormalArray(a.SELECT_OPTIONS),length:a.LENGTH,field_code:a.FIELD_CODE,select_value:t.MakeNormalArray(a.SELECT_OPTIONS),is_required:a.IS_REQUIRED};t.filterItemData.push(l)})),t.SubmitData()}}))},ClearFilter:function(){this.$parent.appliedFilter[0].searchCondition==this.$parent.searchCondition&&(this.$parent.searchCondition="","undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction?this.callbackfunction():this.$parent.FetchData()),this.$parent.appliedFilter=[]},SubmitData:function(e){var t=this;t.$refs.form.validate().then(e=>{if(e){t.$parent.appliedFilter=[];var a=t.filterItemData,i=[];A.a.each(a,(function(e,a){var s=a.value,l=a.second_value;"select"==a.dt_code&&"custom"==a.dropdown_type&&(s=Array.isArray(a.value)?t.createString(a.value,"value"):a.value.value),"date"==a.dt_code&&(t.isBlank(l)||"between"!=a.operator_expression||(l=t.$options.filters.formatDate(l)),s=t.$options.filters.formatDate(a.value));var r={fieldId:a.field_name,operatorId:a.operator,firstValue:s,secondValue:l};i.push(r)})),"undefined"!=typeof t.CurrentObject&&null!=t.CurrentObject?t.CurrentObject.TabData=i:t.$parent.$parent.ViewData.FilterData=i}})},validateFilterData:function(){var e=this;e.filterItemData.length>0&&""!=e.filterItemData[0].field_name&&null!=e.filterItemData[0].field_name?void 0!=e.$parent.$parent.isFilterDataValidationError&&e.$refs.form.validate().then(t=>{e.$parent.$parent.isFilterDataValidationError=!t}):e.$parent.$parent.isFilterDataValidationError=!1},inputEvents(){},inputValue(){}}},I=D,y=Object(u["a"])(I,_,C,!1,null,null,null),x=y.exports,T={components:{mover:m,moveuser:b,searchfilter:x},props:{submodulecode:{type:String,required:!0},modulename:{type:String,required:!0},callbackfunction:{type:Function},show:{type:Boolean},usertype:{type:String}},data:function(){return{isLoading:!1,StatusId:this.dataselected,ViewData:{ViewId:0,Name:"",Description:"",ApplyTo:1,ApplicableUser:"",SelectedUser:"",Selectoptions:"",ViewTabData:[],Condition:"",FilterData:[],DatabaseCondition:""},ListUnselectedUsers:[],ListSelectedUsers:[],ListDepartment:[],UnselectedItems:[],SelectedItems:[],SubmoduleCode:this.submodulecode,ModuleName:this.modulename,ShowLisiting:!0,ListingData:[],TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,noRecord:!0,isClearViewDisabled:!0,isFilterDataValidationError:!1,toggleUserGuide:"d-none"}},created:function(){var e=this;e.GetViewList()},watch:{dataselected:function(e){this.StatusId=e}},methods:{close:function(){this.$parent.ShowManageView=!1,$("#modalManageView").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()},AddNewView:function(){this.ShowLisiting=!1,this.ViewData.ViewId=0,this.ViewData.Name="",this.FetchData()},BackToList:function(){this.ShowLisiting=!0},ClearView:function(){var e=this,t={ModuleName:e.ModuleName,SubmoduleCode:e.submodulecode},a=e.$t("Leave_Confirm_Part1")+" "+e.$t("Clear")+" "+e.$t("View")+"?";e.confirmR(a,!0,e.$t("Confirm"),(function(){var a=JSON.stringify(t);l["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.body.Code)?(e.ShowAlert(e.$t("ClearedSuccess",[e.$t("View")]),"Success",!0,e.$t("Alert")),e.close(),e.callbackfunction()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))}))},DefaultView:function(){var e=this,t={ModuleName:e.ModuleName,SubmoduleCode:e.submodulecode},a=JSON.stringify(t);l["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ApplySuccess",[e.$t("Default View")]),"success",!0,e.$t("Alert")),e.close(),e.callbackfunction(),e.GetViewList()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))},OnChangeToggle:function(e){var t=this;e.target.checked?t.ViewData.ApplyTo=1:t.ViewData.ApplyTo=0},isBlank:function(e){return!e||/^\s*$/.test(e)},GetLocalizedValue:function(e,t){if(this.isBlank(t)){var a=this.$t(String(e).toUpperCase());return a||/^\s*$/.test(a)?a:(a=$t(String(e)),a||/^\s*$/.test(a)?a:e)}a=this.$t(String(t).toUpperCase());return a||/^\s*$/.test(a)?a:(a=this.$t(String(t)),a||/^\s*$/.test(a)?a:t)},CreateString:function(e,t,a){return e.map((function(e){return"int"==a?e[t]:"'"+e[t]+"'"})).join(",")},GetViewList:function(){var e=this,t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode+"&viewId="+e.ViewData.ViewId+"&pageSize="+this.PageSize+"&pageNum="+this.PageNumber+"&sortBy="+this.SortBy+"&sortExp="+this.SortExp;l["a"].GetViewList(t).then((function(t){if(null!=t.data&&""!=t.data){e.ListingData=t.data.DATA,e.TotalRecords=e.ListingData[0].TOTAL_RECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1;var a=0;e.ListingData.forEach((function(e){e.IS_SLECTED_USER_ID>0&&(a+=1)}));var i=0;a>0?e.ListingData.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:parseInt(e.TotalRecords+1),VIEW_TYPE:"",USER_LIST:""}):e.ListingData.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:parseInt(e.TotalRecords+1),VIEW_TYPE:"",USER_LIST:""})}else e.noRecord=!1,e.TotalRecords=1,e.ListingData.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:e.TotalRecords,VIEW_TYPE:"",USER_LIST:""});setTimeout((function(){e.SetBootstraptoolTip()}),200),e.checkIfClearViewDisabled()}))},deleteView:function(e){var t=this;t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Remove"),(function(){var a={ids:e,moduleName:"",subModuleCode:"",refCode:"DELETE_HOME_MANAGE_VIEW"};t.isLoading=!0;var i=JSON.stringify(a);l["a"].CommonCommonDelete(i).then((function(e){t.isLoading=!1;"Success"==e.data[0].Status?(t.ShowAlert(t.$t("DeletedSuccess",[t.$t("View")]),"success",!0,t.$t("Alert")),t.callbackfunction(),$("#modalManageView").modal("hide"),window.location.reload()):t.ShowAlert(t.$t("DeletedError",[t.$t("View")]),"warning",!0,t.$t("Alert"))}))}))},EditManageView:function(e){var t=this;t.ViewData.ViewId=e;var a="moduleName="+t.modulename+"&subModuleCode="+t.submodulecode+"&id="+t.ViewData.ViewId;l["a"].GetViewById(a).then((function(e){if(null!=e.data){var a=e.data.DATA;a.length>0&&(a=a[0],t.ViewData.Name=a.VIEW_NAME,t.ViewData.Description=a.DESCRIPTION,t.ViewData.ApplyTo=a.IS_APPLICABLE_TO_ALL,t.ViewData.Condition=a.CONDITION,t.ViewData.DatabaseCondition=encodeURIComponent(a.DATABASE_CONDITION)),t.ShowLisiting=!1,t.FetchData()}}))},ApplyView:function(e,t){var a=this;if(0==e)a.DefaultView();else{var i={ViewId:e,ModuleName:a.ModuleName,SubmoduleCode:a.submodulecode},s=JSON.stringify(i);l["a"].ApplyView(s).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(a.ShowAlert(a.$t("ApplySuccess",[a.$t(t)]),"success",!0,a.$t("Alert")),a.close(),a.callbackfunction(),a.GetViewList()):a.ShowAlert(a.$t("AddedError",[a.$t("View")]),"failure",!0,a.$t("Alert"))}))}},SaveViewData:function(){var e=this;$("#spnlistfieldssmessage").hide(),$("#spnusersmessage").hide(),$("#spncardfieldssmessage").hide(),$("#spncardtabsmessage").hide(),null!=e.SelectedItems&&0!=e.SelectedItems.length||$("#spnlistfieldssmessage").show(),"0"!=e.ViewData.IsApplicableToAll||null!=e.ListSelectedUsers&&0!=e.ListSelectedUsers.length||$("#spnusersmessage").show(),e.$refs.ManageViewLayoutData.validate().then(t=>{if(t){var a=[];$.each(e.SelectedItems,(function(e,t){var i={id:t.value,order:e+1,isSortable:t.isSortable};a.push(i)})),e.ViewData.DatabaseCondition=decodeURIComponent(e.ViewData.DatabaseCondition);var i={ViewData:e.ViewData,ListFields:a,FilterData:e.ViewData.FilterData,ShareUsers:e.CreateString(e.ListSelectedUsers,"value","int"),ModuleName:e.ModuleName,SubmoduleCode:e.submodulecode},s=JSON.stringify(i);l["a"].SaveView(s).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ViewData.ViewId>0?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("View")]),"success",!0,e.$t("Alert")),e.callbackfunction()):(e.ShowAlert(e.$t("AddedSuccess",[e.$t("View")]),"success",!0,e.$t("Alert")),e.callbackfunction()),e.GetViewList(),e.ShowLisiting=!0,e.close()):e.ShowAlert(e.$t("AddedError",[e.$t("View")]),"failure",!0,e.$t("Alert"))}))}else console.log(this.$refs.ManageViewLayoutData.errors)})},FetchData:function(){var e=this;e.isLoading=!0;var t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode+"&viewId="+e.ViewData.ViewId;e.UnselectedItems=[],e.SelectedItems=[],l["a"].ViewListFields(t).then((function(t){if(t.data.AVAILABLE_FIELDS.length!==t.data.SELECTED_FIELDS.length)for(var a=t.data.AVAILABLE_FIELDS.length-1;a>=0;a--)for(var i=0;i<t.data.SELECTED_FIELDS.length;i++)t.data.AVAILABLE_FIELDS[a]&&t.data.AVAILABLE_FIELDS[a].NAME===t.data.SELECTED_FIELDS[i].NAME&&t.data.AVAILABLE_FIELDS.splice(a,1);t.data.AVAILABLE_FIELDS.length>0&&$.each(t.data.AVAILABLE_FIELDS,(function(t,a){var i={value:a.CUSTOM_FIELD_ID,displayValue:a.DISPLAY_NAME,isSortable:a.IS_SORTABLE,displayOrder:a.DISPLAY_ORDER,isSelected:!1,isSystemGenerated:a.IS_SYSTEM_GENERATED,isSortableEnabled:a.IS_SORTABLE_ENABLE};e.UnselectedItems.push(i)})),$.each(t.data.SELECTED_FIELDS,(function(t,a){var i={value:a.CUSTOM_FIELD_ID,displayValue:a.DISPLAY_NAME,isSortable:a.IS_SORTABLE,displayOrder:a.DISPLAY_ORDER,isSelected:!1,isSystemGenerated:a.IS_SYSTEM_GENERATED,isSortableEnabled:a.IS_SORTABLE_ENABLE};e.SelectedItems.push(i)})),e.isLoading=!1,e.FetchUserData()}))},FetchUserData:function(){var e=this;e.isLoading=!0,e.ListUnselectedUsers=[],e.ListSelectedUsers=[];var t="moduleName="+e.modulename+"&subModuleCode="+e.submodulecode+"&viewId="+e.ViewData.ViewId;l["a"].ViewListUsers(t).then((function(t){e.isLoading=!1;var a=[];$.each(t.data.AVAILABLE_FIELDS,(function(t,a){var i={value:a.USER_ID,displayValue:a.USER_NAME,departmentName:a.DEPARTMENT_NAME,isSelected:!1};e.ListUnselectedUsers.push(i)})),e.ListUnselectedUsers=a,a=[],$.each(t.data.SELECTED_FIELDS,(function(t,a){var i={value:a.USER_ID,displayValue:a.USER_NAME,departmentName:a.DEPARTMENT_NAME,isSelected:!1};e.ListSelectedUsers.push(i)}))}))},ShowNextTab:function(e){var t=this;if(2==e)$("#scrollbarreplyuserguideMangeView .con").html(t.$t("MangeViewUG2")),""==$.trim(t.ViewData.Name)?t.ShowAlert(t.$t("Required",[t.$t("ViewName")]),"warning",!0,t.$t("Alert")):2==t.ViewData.ApplyTo&&0==t.ListSelectedUsers.length?t.ShowAlert(t.$t("PleaseSelectAtleastOneUser"),"warning",!0,t.$t("Alert")):($(".view_tab a").removeClass("active show"),$("li.selectcolumn").find("a").addClass("active"),$(".view_tab .tab-pane").removeClass("active show"),$(".view_tab a[href='#step2']").addClass("active show"),$(".view_tab #step2").addClass("active show"));else if(3==e){$("#scrollbarreplyuserguideMangeView .con").html(t.$t("MangeViewUG3"));var a=25;""==$.trim(t.ViewData.Name)?t.ShowAlert(t.$t("Required",[t.$t("ViewName")]),!0,"warning",t.$t("Alert")):2==t.ViewData.ApplyTo&&0==t.ListSelectedUsers.length?t.ShowAlert(t.$t("PleaseSelectAtleastOneUser")):0==t.SelectedItems.length?t.ShowAlert(t.$t("Pleaseselectatleastonecolumn"),"warning",!0,t.$t("Alert")):t.SelectedItems.length>a?t.ShowAlert(t.$t("SelectFieldMessage",[a]),"warning",!0,t.$t("Alert")):($(".view_tab a").removeClass("active show"),$("li.filter").find("a").addClass("active"),$(".view_tab .tab-pane").removeClass("active show"),$(".view_tab a[href='#step3']").addClass("active show"),$(".view_tab #step3").addClass("active show"))}},checkIfClearViewDisabled:function(){var e=this;if(null!=e.ListingData&&e.ListingData.length>0){var t=e.ListingData.filter((function(e){return e.IS_SLECTED_USER_ID>0}));t.length>0?e.isClearViewDisabled=!1:e.isClearViewDisabled=!0}else e.isClearViewDisabled=!0},ShowTabData:function(e){"1"==e?($("#scrollbarreplyuserguideMangeView .con").html(this.$t("MangeViewUG1")),$("li.general").find("a").addClass("active"),$("li.selectcolumn").find("a").removeClass("active"),$("li.filter").find("a").removeClass("active"),$("div#step1").addClass("active show"),$("div#step2").removeClass("active show"),$("div#step3").removeClass("active show")):"2"==e?($("#scrollbarreplyuserguideMangeView .con").html(this.$t("MangeViewUG2")),$("li.general").find("a").removeClass("active"),$("li.selectcolumn").find("a").addClass("active"),$("li.filter").find("a").removeClass("active"),$("div#step1").removeClass("active show"),$("div#step2").addClass("active show"),$("div#step3").removeClass("active show")):"3"==e&&($("#scrollbarreplyuserguideMangeView .con").html(this.$t("MangeViewUG3")),$("li.general").find("a").removeClass("active"),$("li.selectcolumn").find("a").removeClass("active"),$("li.filter").find("a").addClass("active"),$("div#step1").removeClass("active show"),$("div#step2").removeClass("active show"),$("div#step3").addClass("active show")),this.$forceUpdate()},ShowUserGuide(){var e=this;"d-none"==e.toggleUserGuide&&(e.toggleUserGuide="d-block")}}},k=T,L=Object(u["a"])(k,i,s,!1,null,null,null);t["a"]=L.exports},"995c":function(e,t,a){"use strict";a("e90b")},bd03:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),e.IsListView?e._e():t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("ServiceAppointment")))]),t("span",{staticClass:"p-actions float-right"},[t("a",{staticClass:"p-action-btn text-white",attrs:{id:"ancListView",title:e.$t("ListView"),"data-toggle-tooltip":"tooltip","data-original-title":e.$t("ListView")},on:{click:function(t){return e.loadView("List")}}},[t("em",{staticClass:"fa fa-list"}),t("br"),e._v(" "+e._s(e.$t("ListView")))]),t("a",{staticClass:"p-action-btn text-white ancSettingView",attrs:{id:"ancSettingView",title:e.$t("SetDefaultView"),"data-toggle-tooltip":"tooltip","data-original-title":e.$t("SetDefaultView")},on:{click:function(t){return e.SetDefaultView()}}},[t("em",{staticClass:"fa fa-cog"}),t("br"),e._v(" "+e._s(e.$t("SetDefaultView")))])])])])]),e.IsListView?t("section",[t("tg-list",{ref:"tgList",attrs:{IsShowAction:!0,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:e.renderActions,widgets:e.widgets,IdentityColumn:"SA_Id",HeaderText:e.$t("ServiceAppointment"),listType:["List"],ListData:e.SAData,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,ViewList:e.ViewList,SearchFields:e.leftSearchFields,ListDataCallBackFunction:e.fetchRecords,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{ActionButtonClick:e.actionButtonClick,ApplyView:e.OnApplyView,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["Status"==a.column.COLUMN_NAME?[t("a",{staticClass:"active"},[t("span",{class:e.getStatusClassList(a.row.Status,"Status")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")])])]:e._e()]}}],null,!1,2235991297)}),e.showFilter?t("SearchFilter",{attrs:{submodulecode:"SERVICE_APPOINTMENT",modulename:"Ticketing",callbackfunction:e.fetchRecords},on:{close:function(t){e.showFilter=!1},FilterData:e.FilterData}},[t("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e(),e.ShowManageView?t("ManageView",{attrs:{submodulecode:"SERVICE_APPOINTMENT",modulename:"Ticketing",callbackfunction:e.fetchRecords,usertype:e.usertype},on:{close:function(t){e.ShowManageView=!1}}},[t("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e(),e.OpenSetDefaultView?t("OpenSetDefaultViewModal"):e._e(),e.IsSchduleAppointment?t("SchduleAppointment",{attrs:{SchduleAppointment:e.SchduleAppointment,SA_GroupData:e.SA_GroupData}}):e._e()],1):e._e(),e.IsListView?e._e():t("section",[t("ViewSchduler",{attrs:{IsDefaultView:e.IsDefaultView}})],1),e.OpenSetDefaultView?t("OpenSetDefaultViewModal"):e._e(),e.showPopupAddServiceAppointment?t("AddServiceAppointmentPopUpVue",{attrs:{SchduleObj:e.SchduleObj,callfrom:e.ServiceAppointment}}):e._e()],1)},s=[],l=(a("14d9"),a("9769"));let r=[{title:"Add Service Appointment",iconClass:"fa fa-plus",callbackfunction:"AddServiceAppointment",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddServiceAppointment"},{title:"Reset",iconClass:"fa-filter text-danger",callbackfunction:"removeFilter",href:"",additionalClass:"",isdisabled:!1,isvisible:!1,checkPrivilege:!1},{title:"Filter",iconClass:"fa-filter",callbackfunction:"openFilterPopUp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Gantt Chart",iconClass:"fa fa-area-chart",callbackfunction:"GanttChart",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"GanttChart"},{title:"Set Default View",iconClass:"fa fa-cog",callbackfunction:"SetDefaultView",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"SetDefaultView"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"commonDeleteData",isEnabledOnSelectedRow:!0}],o=[{fieldName:"SA Number",fieldType:"text",fieldIcon:"fa fa-file",fieldSearchConditionName:["SA.SA_Number"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Work Order Number",fieldType:"text",fieldIcon:"fa fa-file",fieldSearchConditionName:["worder.workorder_number"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Account",fieldType:"ddl-check",fieldIcon:"fa fa-user",fieldSearchConditionName:["SA.SA_Account_Id"],isSearch:!1,value:"",listOptions:[]}],n=[{title:"View",href:"javascript:void(0)",callbackfunction:"ViewDetail",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Edit",href:"javascript:void(0)",callbackfunction:"Edit",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Scheduled Appointment",callbackfunction:"ScheduledAppointment",href:"javascript:void(0)",icon:"fa fa-clock-o text-muted action-icon",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash-o",additionalSpan:"",callbackfunction:"SingleDelete"}];async function c(e,t,a){var i=e,s=`moduleName=${t}&type=${a}`;await l["a"].GetDDLData(s).then((function(e){var t=e.data;if(null!=t)return i.leftSearchFields[2].listOptions=t.DATA,i.StatusListForListing=t.DATA,i.StatusListForListing}))}var d={buttons:r,leftsearchSchema:o,listActions:n,bindleftCommonSearchdropdown:c},u=a("69d3"),p=a("87de"),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("SelectDefaultView")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)])])])],1)},h=[],f={data(){return{isLoading:!1,AutoServiceDisabled:!0,FormSchema:[{layoutType:"single",Data:[{astype:"SelectField",label:this.$t("DefaultView"),name:"DefaultView",value:"",validationRules:{required:!0,max:100},config:{options:[{value:"List",name:"List View"},{value:"Gantt",name:"Gantt Chart"}]}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}]}},methods:{Close:function(){this.$parent.OpenSetDefaultView=!1},onSubmit(e,t){var a=this,i={view:e.DefaultView},s=JSON.stringify(i);l["a"].SaveGanttViewFilter(s).then(t=>{"Success"==t.data.status&&(a.ShowAlert(a.$t("DeafultViewAppliedSuccessfully",[a.$t("DeafultView")]),"success",!0,a.$t("Alert")),a.$parent.loadView(e.DefaultView),a.Close())})}}},v=f,g=a("2877"),S=Object(g["a"])(v,m,h,!1,null,null,null),b=S.exports,_=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"divGanttView"}},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"panel"},[t("div",{staticClass:"panel-header border-bottom btn-iconres"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3 d-flex align-items-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.CurrentView,expression:"CurrentView"}],class:{"form-control":!0},attrs:{id:"ddlCurrentView",name:"CurrentView"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.CurrentView=t.target.multiple?a:a[0]},function(t){return e.ChangeViewResource(e.CurrentView)}]}},e._l(e.ddlCurrentView,(function(a,i){return t("option",{key:i,domProps:{value:a.value}},[e._v(" "+e._s(a.name))])})),0),t("button",{ref:"ancRefresh",staticClass:"btn btn-primary form-btns mx-2",on:{click:e.RefreshFilter}},[e._m(0)]),t("button",{staticClass:"btn btn-white form-btns mr-2 border",attrs:{tooltip:"Filter"},on:{click:e.ApplyFilter}},[e._m(1)]),t("button",{ref:"ancLock",staticClass:"btn btn-success form-btns mr-2",on:{click:e.UnLockUnSchduleList}},[e._m(2)])]),t("div",{staticClass:"col-md-9 p-0 d-flex justify-content-end"},[t("div",{staticClass:"lock-gantt-view p-2 mr-4",staticStyle:{"background-color":"#f2f2f2"}},[t("div",{staticClass:"timezone"},[e.isTimeZoneEdit?t("div",{staticClass:"d-flex",attrs:{id:"ancTimeZoneEdit"},on:{click:e.TimeZoneEdit}},[t("a",[t("span",{staticStyle:{"font-size":"14px"},attrs:{id:"spnTimeZone"}},[e._v("Current TimeZone:"+e._s(e.isZoneDisplayNamee))])]),e._m(3)]):e._e(),e.isTimeZoneEdit?e._e():t("div",{staticClass:"d-flex",attrs:{id:"divEditTimezone"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.isZoneDisplayNameId,expression:"isZoneDisplayNameId"}],class:{"form-control":!0},attrs:{name:"DisplayNameZone"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.isZoneDisplayNameId=t.target.multiple?a:a[0]},e.ddlTimeZone]}},e._l(e.isZoneDisplayName,(function(a,i){return t("option",{key:i,domProps:{value:a.VALUE}},[e._v(e._s(a.TEXT))])})),0),t("a",{attrs:{id:"ancTimeZone"},on:{click:e.ddlTimeZone}},[t("i",{staticClass:"mt-2 ml-2 fa fa-times text-danger"})])])])])])])]),t("div",{staticClass:"panel-content p-3 pb-2 pagination2 table-responsive no-padding switchcalendar border-0"},[t("div",{staticClass:"control-section"},[t("div",{staticClass:"content-wrapper row"},[t("div",{staticClass:"schedule-container e-schedule schedule-drag-drop px-3"},[t("ejs-schedule",{ref:"ScheduleObj",attrs:{id:"Schedule",width:"100%",height:"550px",selectedDate:e.selectedDate,currentView:e.IsView,group:e.group,resourceHeaderTemplate:"resourceHeaderTemplate",renderCell:e.onRenderCell,cellDoubleClick:e.onAppointmentClick,cellClick:e.onAppointmentClick,eventSettings:e.eventSettings,actionComplete:e.onActionComplete,eventTemplate:"eventTemplate",dateHeaderTemplate:e.dateHeaderTemplate,rowAutoHeight:e.rowAutoHeight},on:{eventClick:e.onEventClick,eventRendered:e.onEventRendered},scopedSlots:e._u([{key:"resourceHeaderTemplate",fn:function({data:a}){return[t("div",{attrs:{className:"template-wrap"}},[t("div",{staticClass:"specialist-category"},[t("span",{staticClass:"specialist-image",domProps:{innerHTML:e._s(e.getConsultantImageName(a))}}),t("div",{staticClass:"specialist-name",domProps:{innerHTML:e._s(e.getConsultantName(a))},on:{click:function(t){return e.GetConsultantName(a)}}}),t("span",{domProps:{innerHTML:e._s(e.getConsultantDesignation(a))}})])])]}}])},[t("e-views",[t("e-view",{attrs:{option:"TimelineDay"}}),t("e-view",{attrs:{option:"TimelineWeek"}}),t("e-view",{attrs:{option:"TimelineMonth"}})],1),t("e-resources",[e._l(e.ResourceDataSource,(function(e,a){return[t("e-resource",{key:a,attrs:{field:e.field,title:e.title,name:e.name,allowMultiple:e.allowMultiple,dataSource:e.dataSource,textField:e.textField,idField:e.idField,groupIDField:e.groupIDField,colorField:e.colorField}})]}))],2)],1)],1),t("div",{staticClass:"treeview-container px-3"},[t("div",{staticClass:"title-container"},[t("h1",{staticClass:"title-text d-flex align-items-center"},[t("span",{staticClass:"w-100 text-left"},[e._v(e._s(e.$t("UnscheduledList")))]),t("span",{staticClass:"select-in-tag"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.txtSearchAppointmentNo,expression:"txtSearchAppointmentNo"}],staticClass:"form-control input-sm",staticStyle:{"margin-right":"100px"},attrs:{placeholder:"Search by Appt. no.",type:"text"},domProps:{value:e.txtSearchAppointmentNo},on:{input:[function(t){t.target.composing||(e.txtSearchAppointmentNo=t.target.value)},function(t){return e.GetUnscheduleList(t,"keypress")}]}})])])]),e.UnSchduleList.length>0?t("div",{staticClass:"treeview-component"},[t("ejs-treeview",{ref:"TreeViewScheduleObj",attrs:{id:"Tree",cssClass:"treeview-external-drag",nodeTemplate:e.treeTemplate,fields:e.treeViewFields,allowDragAndDrop:e.allowDragAndDrop,nodeDragStop:e.onTreeDragStop,nodeDragging:e.onTreeDrag,nodeDragStart:e.onTreeDragStart,nodeSelecting:e.onItemSelecting}})],1):t("div",{staticClass:"text-danger text-center py-4 border"},[e._v(e._s(e.$t("NoRecordfound")))])])])])])]),e.IsSchduleAppointment?t("SchduleAppointment",{attrs:{SchduleAppointment:e.SchduleAppointment,SA_GroupData:e.SA_GroupData,IsCurrentView:e.CurrentView}}):e._e(),e.IsApplyFilter?t("OpenFilter",{attrs:{CurrentView:e.CurrentView,IsDefaultView:e.IsDefaultView}}):e._e(),e.IsCrewMemberList?t("CrewMemberListPopup",{attrs:{IsCrewListId:e.IsCrewListId}}):e._e()],1)},C=[function(){var e=this,t=e._self._c;return t("span",[t("i",{staticClass:"fa fa-refresh p-0"})])},function(){var e=this,t=e._self._c;return t("span",[t("i",{staticClass:"fa fa-filter"})])},function(){var e=this,t=e._self._c;return t("span",[t("i",{staticClass:"fa fa-lock p-0"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"edit-time-pencil pl-2"},[t("i",{staticClass:"fa fa-pencil text-success"})])}],w=(a("13d5"),a("6126")),A=a("f8ae"),D=a("7de8"),I=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"waiting"}},[t("div",{attrs:{id:"waitdetails"}},[t("div",{staticClass:"sa-srt-dtl",attrs:{id:"waitlist"}},[t("strong",{staticClass:"apmnt-no text-white p-2"},[t("i",{staticClass:"fa fa-th",staticStyle:{opacity:".6",cursor:"all-scroll","padding-top":"1px","font-size":"12px",float:"left"}}),e._v(" "+e._s(e.data.Name)+"($"+e._s(e.data.workorder_number)+")")]),""!=e.data.color?[e.isColoreDark?[e.data.external_ticket_number?t("span",{staticClass:"sa-color font-12 p-2 badge text-capitalize",style:{"background-color":e.data.color,color:"#FFFFFF"}},[e._v(" "+e._s(e.RemoveNull(e.data.TicketNumber))+" "),t("br"),t("br"),e._v(" "+e._s(e.RemoveNull(e.data.external_ticket_number))+" ")]):t("span",{staticClass:"sa-color font-12 p-2 badge text-capitalize",style:{"background-color":e.data.color,color:"#FFFFFF"}},[e._v(" "+e._s(e.RemoveNull(e.data.TicketNumber))+" ")])]:[e.data.external_ticket_number?t("span",{staticClass:"sa-color font-12 p-2 badge text-capitalize",style:{"background-color":e.data.color,color:"#000000"}},[e._v(" "+e._s(e.RemoveNull(e.data.TicketNumber))+" "),t("br"),t("br"),e._v(" "+e._s(e.RemoveNull(e.data.external_ticket_number))+" ")]):t("span",{staticClass:"sa-color font-12 p-2 badge text-capitalize",style:{"background-color":e.data.color,color:"#000000"}},[e._v(" "+e._s(e.RemoveNull(e.data.TicketNumber))+" ")])]]:[t("span",{staticClass:"sa-color p-2"},[e._v(" "+e._s(e.data.TicketNumber))])],t("div",{staticClass:"sa-detail"},[t("table",{staticClass:"table table-striped HS",staticStyle:{margin:"0px"}},[t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-ticket"}),e._v("Work Order Number: "+e._s(e.data.workorder_number))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-ticket"}),e._v(" SA Number: "+e._s(e.data.Name))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-ticket"}),e._v(" Ticket Number: "+e._s(e.data.TicketNumber))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-cog"}),e._v(" Work Type: "+e._s(e.data.WorkType))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-file-o"}),e._v(" Subject: "+e._s(e.data.Subject))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-address-card"}),e._v(" Account Name:"+e._s(e.data.AccountName))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-user"}),e._v(" Client: "+e._s(e.data.ContactName))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-mail-forward"}),e._v(" Email: "+e._s(e.data.Email))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[e._m(0),e._v(" "+e._s(e.data.SA_Status))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-address-card"}),e._v(" Address: "+e._s(e.data.Address))])]),t("tr",[t("td",{staticClass:"px-2 pt-0 pb-0"},[t("i",{staticClass:"fa fa-clock-o"}),e._v(" Preferred Time: "+e._s(e.data.StartDateTime)+" - "+e._s(e.data.EndDateTime))])])])])],2)]),t("p",{staticClass:"location-address ticket-address"},[e._v(e._s(e.data.Address))]),t("span",{staticClass:"location-address"},[e._v("WorkType:"),t("b",[e._v(" "+e._s(e.data.WorkType))])]),e._v(" |  "),t("span",{staticClass:"location-address"},[e._v("Status:"),t("b",[e._v(" "+e._s(e.data.SA_Status))])])])},y=[function(){var e=this,t=e._self._c;return t("strong",[t("i",{staticClass:"fa fa-calendar"}),e._v(" Status: ")])}],x={data(){return{data:{result:"",isColoreDark:!0}}},created:function(){this.getUpperNote(this.data.TicketNumber,this.data.external_ticket_number,this.data.WorkType,this.data.color)},methods:{RemoveNull(e){return null==e||"undefined"==typeof e?"":e},getUpperNote:function(e,t,a,i){var s=this;if(s.isColoreDark=!0,null!=i){var l=i.substring(1),r=parseInt(l,16),o=r>>16&255,n=r>>8&255,c=r>>0&255,d=.2126*o+.7152*n+.0722*c;s.isColoreDark=!(d>=127)}}}},T=x,k=Object(g["a"])(T,I,y,!1,null,null,null),L=k.exports,E=a("3a09"),N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tooltip-wrap cstmdsgn"},[t("p",[t("strong",[t("em",{staticClass:"fa fa-ticket"}),e._v(" "+e._s(e.$t("WorkOrderNumber"))+": ")]),e._v(" "+e._s(e.RemoveNull(e.data.workorder_number)))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-ticket"}),e._v(e._s(e.$t("SANumber"))+": ")]),e._v(" "+e._s(e.RemoveNull(e.data.Subject)))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-ticket"}),e._v(" "+e._s(e.$t("TicketNumber"))+": ")]),e._v(" "+e._s(e.RemoveNull(e.data.TicketNumber)))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-cog"}),e._v(" "+e._s(e.$t("WorkType"))+": ")]),e._v(" "+e._s(e.RemoveNull(e.data.WorkType)))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-file-o"}),e._v(" "+e._s(e.$t("Subject"))+": ")]),e._v(" "+e._s(e.RemoveNull(e.data.SubjectDesc)))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-address-card"}),e._v(" "+e._s(e.$t("AccountName"))+": ")]),e._v(" "+e._s(e.RemoveNull(e.data.AccountName)))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-user"}),e._v(" "+e._s(e.$t("Client"))+": ")]),e._v(" "+e._s(e.RemoveNull(e.data.ContactName)))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-envelope"}),e._v(" "+e._s(e.$t("Email"))+": ")]),e._v(" "+e._s(e.data.email))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-user"}),e._v(" "+e._s(e.$t("Status"))+": ")]),e._v(" "+e._s(e.RemoveNull(e.data.SA_Status)))]),t("p",[t("strong",[t("em",{staticClass:"fa fa-map-marker"}),e._v(" "+e._s(e.$t("Address"))+": ")]),e._v(" "+e._s(e.data.Address))])])},V=[],R={methods:{RemoveNull(e){return null==e||"undefined"==typeof e?"":e}}},F=R,O=Object(g["a"])(F,N,V,!1,null,null,null),M=O.exports,U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"template-wrap"},[t("div",{staticClass:"e-subject",on:{click:function(t){return e.onAppointmentClick(e.props)}}},[e._v(e._s(e.data.Subject)+" "+e._s(e.RemoveNull(e.data.TicketNumber)))])])},P=[],G={methods:{RemoveNull(e){return null==e||"undefined"==typeof e?"":e},onAppointmentClick(e){}}},j=G,B=Object(g["a"])(j,U,P,!1,null,null,null),W=B.exports,z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Filter")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)])])])],1)},q=[],Y={props:{CurrentView:{type:String,required:!0},IsDefaultView:{type:String,required:!0}},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",group_name:"Filter in Resource and Unscheduled Appointment List",Data:[{astype:"SelectField",label:this.$t("WorkType"),name:"WorkType",value:"",placeholder:"",config:{options:[]},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("Account"),name:"Account",value:"",placeholder:"",config:{options:[]},validationRules:{required:!1}}]},{layoutType:"double",group_name:"Filter in Service Resource",Data:[{astype:"SelectField",label:this.$t("Department"),name:"Department",value:"",placeholder:"",config:{options:[]},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("ResourceName"),name:"ResourceName",value:"",placeholder:"",config:{options:[]},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("CrewName"),name:"CrewName",value:"",placeholder:"",config:{options:[]},validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-search text-white pr-2'></i>Save and Search"},{type:"submit",class:"btn btn-danger",text:"<i class='fa fa-refresh text-white pr-2'></i>Reset"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-times text-white pr-2'></i>Close",onClick:this.Close}]}},created:function(){this.GetWorkTypeDDL(),this.GetAccountDDL(),this.GetDepartmentDDL(),this.GetResourceDDL(),this.GetCrewDDL(),this.GetFilterDDLSelectedValue()},methods:{GetWorkTypeDDL(){var e="type=worktype";l["a"].getStatusList(e).then(e=>{var t=[];t=e.data.result,t.forEach(e=>{let t={name:e.text,value:e.value};this.FormSchema[0].Data[0].config.options.push(t)})})},GetAccountDDL(){var e="type=account";l["a"].getStatusList(e).then(e=>{var t=[];t=e.data.result,t.forEach(e=>{let t={name:e.text,value:e.value};this.FormSchema[0].Data[1].config.options.push(t)})})},GetDepartmentDDL(){var e="type=department";l["a"].getStatusList(e).then(e=>{var t=[];t=e.data.result,t.forEach(e=>{let t={name:e.text,value:e.value};this.FormSchema[1].Data[0].config.options.push(t)})})},GetResourceDDL(){var e="type=resource";l["a"].getStatusList(e).then(e=>{var t=[];t=e.data.result,t.forEach(e=>{let t={name:e.text,value:e.value};this.FormSchema[1].Data[1].config.options.push(t)})})},GetCrewDDL(){var e="type=crew";l["a"].getStatusList(e).then(e=>{var t=[];t=e.data.result,t.forEach(e=>{let t={name:e.text,value:e.value};this.FormSchema[1].Data[2].config.options.push(t)})})},Close(){this.$parent.IsApplyFilter=!1},onSubmit:function(e,t){this.isLoading=!0;var a={view:this.IsDefaultView,gantt_view_type:this.CurrentView,filter_data:"Reset"==t.split("/i>")[1]?null:{worktype:e.WorkType,account:e.Account,department:e.Department,resource:e.ResourceName,crew:e.CrewName},isFirstTime:!0},i=JSON.stringify(a);l["a"].SaveAndSearchGanttFilter(i).then(e=>{"Success"==e.data.status&&(this.$parent.refreshGhanttChart(),this.Close(),"Reset"==t.split("/i>")[1]?this.ShowAlert(this.$t("FilterDataClearSuccessfully"),"success",!0,this.$t("Alert")):this.ShowAlert(this.$t("FilterDataAppliedSuccessfully"),"success",!0,this.$t("Alert")),this.isLoading=!1)})},GetFilterDDLSelectedValue(){var e=this;l["a"].GetFilterDDLSelectedValue().then(t=>{var a=JSON.parse(t.data.filterData);null!=a&&(e.FormSchema[0].Data[0].value=a["account"],e.FormSchema[0].Data[0].value=a["worktype"],e.FormSchema[1].Data[0].value=a["department"],e.FormSchema[1].Data[1].value=a["resource"],e.FormSchema[1].Data[2].value=a["crew"])})}}},Z=Y,H=Object(g["a"])(Z,z,q,!1,null,null,null),J=H.exports,K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"date-text fw-bold"},[e._v(e._s(e.getDateHeaderText(e.data.date)))])},X=[],Q={methods:{getDateHeaderText:function(e){var t=new D["o"];return t.formatDate(e,{skeleton:"Ed"})}}},ee=Q,te=(a("995c"),Object(g["a"])(ee,K,X,!1,null,null,null)),ae=te.exports,ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Service Crew Member")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.Close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group mb-0"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.IsSearch,expression:"IsSearch"}],staticClass:"form-control text",attrs:{type:"text",placeholder:"Searchby Service Crew Member"},domProps:{value:e.IsSearch},on:{input:function(t){t.target.composing||(e.IsSearch=t.target.value)}}})])]),t("div",{staticClass:"col-8 pl-0"},[t("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"Search",href:"javascript:;"},on:{click:e.SearchCrew}},[t("i",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger clearsearchtext px-4",attrs:{href:"javascript:;",title:"Clear"},on:{click:e.ResetSearchCrew}},[t("i",{staticClass:"fa fa-refresh"})])])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t("div",{staticClass:"listing mt-2",attrs:{id:"divTicketRouteListing"}},[t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[e._m(0),t("tbody",[e._l(e.CreWListData,(function(a,i){return t("tr",{key:i},[t("td",[t("span",{attrs:{title:"ResourceName"}},[e._v(e._s(a.ResourceName))])]),t("td",[t("span",{attrs:{title:"ResourceType"}},[e._v(e._s(a.ResourceType))])]),t("td",[t("span",{attrs:{title:"StartDate"}},[e._v(e._s(a.StartDate))])]),t("td",[t("span",{attrs:{title:"EndDate"}},[e._v(e._s(a.EndDate))])])])})),e.noRecord?t("tr",[t("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"4"}},[t("span",[e._v(e._s(e.$t("NoRecordfound")))])])]):e._e()],2)])])])]),t("div",{staticClass:"row flex-row-reverse col-12 px-0 pt-3"},[t("div",{staticClass:"col-6 text-right px-0",on:{click:e.Close}},[e._m(1)])])])])])])])],1)},se=[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",{attrs:{href:"javascript:;",id:"ResourceName"}},[e._v("Resource Name")])]),t("th",[t("span",{attrs:{href:"javascript:;",id:"ResourceType"}},[e._v("Type")])]),t("th",[t("span",[e._v("Start Date")])]),t("th",[t("span",[e._v("End Date")])])])])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"btn btn-danger"},[t("i",{staticClass:"fa fa-times text-white pr-2"}),e._v("Close")])}],le={props:{IsCrewListId:{Type:Number,required:!0}},data(){return{TotalRecords:0,PageNumber:1,CurrentPage:1,PageSize:10,isPaged:1,SortBy:"",SortExp:"",TotalPages:0,IsSearch:"",CreWListData:[],noRecord:!1}},created:function(){this.FetchCrewList()},methods:{FetchCrewList(){this.CreWListData=[];var e=`crewId=${this.IsCrewListId}&search=${this.IsSearch}&pageNo=${this.PageNumber}&pageSize=${this.PageSize}&sortBy=${this.SortBy}&sortExp=${this.SortExp}`;l["a"].GetCrewMemberListing(e).then(e=>{JSON.parse(e.data).length>0?(this.CreWListData=JSON.parse(e.data),this.noRecord=!1):this.noRecord=!0})},SearchCrew(){this.FetchCrewList()},ResetSearchCrew(){this.IsSearch="",this.FetchCrewList()},Close(){this.$parent.IsCrewMemberList=!1}}},re=le,oe=Object(g["a"])(re,ie,se,!1,null,null,null),ne=oe.exports,ce={components:{"ejs-schedule":w["d"],"e-view":w["h"],"e-views":w["i"],"e-resource":w["b"],"e-resources":w["c"],"ejs-treeview":A["a"],TreeVue:L,EventTemplate:W,SchduleAppointment:E["a"],ToolTip:M,OpenFilter:J,CrewMemberListPopup:ne},props:{IsDefaultView:{type:String,required:!0}},data(){return{isZoneDisplayNameId:null,UserTimeZone:null,rowAutoHeight:!0,isLoading:!1,IsApplyFilter:!1,txtSearchAppointmentNo:"",isLocateOrNonLocate:"",SA_GroupData:[],IsSchduleAppointment:!1,SchduleAppointment:{},ResourceDataSource:[],selectedDate:new Date,eventSettings:{dataSource:[],enableTooltip:!0,editFollowingEvents:!0,enableIndicator:!1,enableMaxHeight:!0,tooltipTemplate:function(e){return{template:M}},eventTemplate:function(e){return{template:W}}},cssClass:"schedule-drag-drop",isZoneDisplayName:"",isZoneDisplayNamee:"",ZoneDisplayNameValue:"",isTimeZoneEdit:!0,ExtraMapFeature:!1,CurrentView:"mixed",resourceListData:[],ZoneDisplayName:[],UnSchduleList:[],ddlCurrentView:[{value:"mixed",name:"View all"},{value:"crew",name:"Crew View"},{value:"resource",name:"Resource View"}],IsView:"TimelineWeek",group:{enableCompactView:!0,resources:["Employees"]},allowMultiple:!0,treeViewFields:{dataSource:[],id:"SA_Id",text:"Name"},treeTemplate:function(e){return{template:L}},draggedItemId:null,_startDate:"",_lastDate:"",startDate:new Date,lastDate:new Date,allowDragAndDrop:!1,isTreeItemDropped:!1,dateHeaderTemplate:function(e){return{template:ae}},IsActive:!1,IsCrewMemberList:!1,IsCrewListId:null,GroupData1:[]}},provide:{schedule:[w["a"],w["g"],w["f"]]},created:async function(){this.UserTimeZone=this.GetUserInfo.TimeZone,await this.IsExtraMapFeature(),await this.GetUserTimeZoneDisplayName(),await this.refreshGhanttChart()},methods:{onEventClick(e){e.cancel=!0,"Canceled"!=e.event.SA_Status?this.openScheduledAppointmentPopupForEdit(e.event.Id):this.ShowAlert(this.$t("CancelledSA",[this.$t("ServiceAppointment")]),"Success",!0,this.$t("Alert"))},onEventRendered(e){null!=e.data.Color&&"null"!=e.data.Color&&"undefined"!=typeof e.data.Color&&(e.element.style.backgroundColor=e.data.Color);for(var t=0;t<document.getElementsByClassName("e-appointment-container").length;t++){let e=0;for(var a=0;a<document.getElementsByClassName("e-resource-cells").length;a++){if(!(t>a))break;e+=document.getElementsByClassName("e-resource-cells")[a].offsetHeight}document.getElementsByClassName("e-appointment-container")[t].style.top=e+"px"}},openScheduledAppointmentPopupForEdit(e){var t=`id=${e}&isForTickets=${this.ExtraMapFeature}`;l["a"].GetSADetailById(t).then(e=>{var t=e.data.result;this.openScheduledAppointmentPopup(t)})},onAppointmentClick:function(e){e.cancel=!0},ChangeViewResource(){this.refreshGhanttChart()},ApplyFilter(){this.IsApplyFilter=!0},UnLockUnSchduleList(){this.$refs.ancLock.classList.remove("e-lib"),this.$refs.ancLock.classList.remove("e-btn"),this.$refs.ancLock.classList.remove("e-active"),this.$refs.ancLock.classList.remove("e-control"),this.$refs.ancLock.classList.value="btn form-btns mr-2 e-active btn-dark",1==this.IsActive?(this.$refs.ancLock.innerHTML='<span><i class="fa fa-lock p-0"></i>',this.$refs.ancLock.classList.add("btn-success"),this.$refs.ancLock.classList.remove("btn-dark"),this.$refs.ancLock.classList.remove("e-active"),this.allowResizing=!1,this.allowDragAndDrop=!1,this.IsActive=!1):(this.$refs.ancLock.innerHTML='<span><i class="fa fa-unlock p-0"></i>',this.$refs.ancLock.classList.remove("btn-success"),this.$refs.ancLock.classList.add("btn-dark"),this.$refs.ancLock.classList.add("e-active"),this.allowResizing=!0,this.allowDragAndDrop=!0,this.IsActive=!0)},RefreshFilter(){this.$refs.ancRefresh.classList.remove("e-lib"),this.$refs.ancRefresh.classList.remove("e-btn"),this.$refs.ancRefresh.classList.remove("e-control"),this.CurrentView="mixed",this.refreshGhanttChart()},refreshGhanttChart:async function(){this.isLoading=!0;var e=this.$refs.ScheduleObj.ej2Instance.activeView.renderDates[0],t=this.$options.filters.formatDate(e);this.$refs.ScheduleObj.ej2Instance.activeView.renderDates.reverse();e=this.$refs.ScheduleObj.ej2Instance.activeView.renderDates[0];var a=e.setDate(e.getDate()+1);a=this.$options.filters.formatDate(e),this._startDate=t,this._lastDate=a,await this.GetCrewResourceList(),await this.GetUnscheduledServiceAppointmentList()},refreshCalenderData:async function(e=!1){var t=this;if(t.isLoading=!0,e){var a=this.$refs.ScheduleObj.ej2Instance.activeView.renderDates[0],i=this.$options.filters.formatDate(a);this.$refs.ScheduleObj.ej2Instance.activeView.renderDates.reverse();a=this.$refs.ScheduleObj.ej2Instance.activeView.renderDates[0];var s=a.setDate(a.getDate()+1);s=this.$options.filters.formatDate(a),this._startDate=i,this._lastDate=s}var r=`viewType=${this.CurrentView}&currentdate=${this._startDate}&lastdate=${this._lastDate}&isFirstTime=true&filters=&timezone_id=${this.isZoneDisplayNameId}`;await l["a"].GetSACalenderList(r).then(e=>{if("Success"===e.data.status){if(this.dataCalenderSource=e.data.result,"crew"===this.getCurrentView()){var a=[];this.dataCalenderSource.forEach(e=>{1==e.IsCrew?(e=Object.keys(e).filter((function(e){return"EmployeeId"!==e})).reduce((function(t,a){return t[a]=e[a],t}),{}),a.push(e)):a.push(e)}),t.eventSettings={dataSource:[...a]},t.$refs.ScheduleObj.ej2Instance.refresh()}else t.eventSettings={dataSource:[...this.dataCalenderSource]},t.$refs.ScheduleObj.ej2Instance.refresh();t.isLoading=!1}})},onTreeDrag:function(e){let t=this.$refs.ScheduleObj.ej2Instances;if(t.isAdaptive){let t=document.querySelector(".e-device-hover");t&&t.classList.remove("e-device-hover"),e.target.classList.contains("e-work-cells")&&Object(D["w"])([e.target],"e-device-hover")}},dataFilter:function(e){return e.Id!==parseInt(this.draggedItemId,10)},onActionBegin:function(e){if("eventCreate"===e.requestType&&this.isTreeItemDropped){let e=document.getElementById("Tree").ej2_instances[0],t=e.fields.dataSource,a=t.filter(this.dataFilter);e.fields.dataSource=a;let i=document.querySelectorAll(".e-drag-item.treeview-external-drag");for(let s=0;s<i.length;s++)remove(i[s])}},onItemSelecting:function(e){e.cancel=!0},onTreeDragStop:function(e){let t=Object(D["C"])(e.target,".e-treeview"),a=document.querySelector(".e-device-hover");if(a&&a.classList.remove("e-device-hover"),!t){e.cancel=!0;let t=Object(D["C"])(e.target,".e-content-wrap");if(t){let t=document.getElementById("Tree").ej2_instances[0],a=t.fields.dataSource;if(e.target.classList.contains("e-work-cells")){let t=a.filter((function(t){return t.SA_Id===parseInt(e.draggedNodeData.id,10)})),c=document.getElementById("Schedule").ej2_instances[0],d=c.getCellDetails(e.target),u=c.getResourcesByIndex(d.groupIndex);var i,s;this.draggedItemId=e.draggedNodeData.id,this.isTreeItemDropped=!0,s="undefined"==typeof d.startTime?new Date:d.startTime,i="undefined"==typeof d.endTime?new Date:d.endTime;var l=[];l="crew"==this.getCurrentView()?u.resourceData.Id.split("-"):u.groupData.EmployeeId.split("-");var r=l[0],o=l[1],n=u.resourceData.Text+" ("+u.resourceData.Designation+")";""!=r&&null!=r||(r="-1");let p={SA_Number:t[0].Name,SA_Account:t[0].AccountName,SA_Scheduled_StartTime:s,SA_Scheduled_EndTime:i,SA_Subject:t[0].Subject,SA_Account_Id:t[0].AccountId,SA_Account_Id:t[0].AccountId,SA_Id:t[0].SA_Id,SA_WorkOrder:t[0].WorkOrder,SA_WorkType:t[0].WorkType,SA_Description:t[0].SA_Description,groupId:r,groupType:o,groupName:n,RelatedObjectId:t[0].RelatedObjectId,TicketNumber:t[0].TicketNumber,AssignedResources:"",AssignedCrews:""};this.openScheduledAppointmentPopup(p)}}}document.body.classList.remove("e-disble-not-allowed")},onTreeDragStart:function(){document.body.classList.add("e-disble-not-allowed")},getCurrentView:function(){try{var e=localStorage.getItem("view");return null!=e?e:"resource"}catch{return"resource"}},openScheduledAppointmentPopup:function(e){e&&("undefined"!=typeof e.groupId&&null!=e.groupId&&(this.SA_GroupData=[],this.SA_GroupData.push({value:parseInt(e.groupId),name:e.groupName,type:e.groupType})),this.SchduleAppointment=e,this.IsSchduleAppointment=!0)},GetUnscheduleList:function(e,t){var a=e.keyCode||e.which,i=this.txtSearchAppointmentNo.toLowerCase();if(35==a||36==a||38==a)this.ShowAlert("Not a valid character.","warning",this.$t("Alert")),this.GetUnscheduledServiceAppointmentList();else if(0==/^[a-zA-Z0-9- ]*$/.test(i))this.ShowAlert("Please enter valid characters.","warning",this.$t("Alert")),this.GetUnscheduledServiceAppointmentList();else{i=this.txtSearchAppointmentNo;this.GetUnscheduledServiceAppointmentList(i)}},GetUnscheduledServiceAppointmentList:async function(e){var t=void 0==e?"":e,a="search="+t;await l["a"].GetUnscheduledServiceAppointmentList(a).then(e=>{if(this.UnSchduleList=e.data.result,this.UnSchduleList.length>0){var t={dataSource:this.UnSchduleList,id:"SA_Id",text:"Name"};this.treeViewFields=t}})},dataFilter:function(e){return e.Id!==parseInt(this.draggedItemId,10)},getConsultantName:function(e){let t=JSON.parse(JSON.stringify(e));return"1"==t.resourceData.IsCrew?"crew"==this.getCurrentView()?t.resourceData[t.resource.textField]:"<a class='link anccrew' v-on:click=CrewMemeberListPopup(value.resourceData.CrewId) :data-crewid='"+t.resourceData.CrewId+"' >"+t.resourceData[t.resource.textField]+"</a>":t.resourceData[t.resource.textField]},GetConsultantName(e){"1"==e.resourceData.IsCrew&&("crew"==this.getCurrentView()||this.CrewMemeberListPopup(e.resourceData.CrewId))},CrewMemeberListPopup(e){this.IsCrewMemberList=!0,this.IsCrewListId=e},getConsultantImageName:function(e){var t=e.resourceData.profilepic,a=parseInt(e.resourceData.Id);return-1==a?'<span class="sa_unassigned"><i class="specialist-img d-flex justify-content-center align-items-center fa fa-user-times" aria-hidden="true"></i></span>':""===t?"":"1"==e.resourceData.IsCrew?'<span class="sa_unassigned"><i class="specialist-img d-flex justify-content-center align-items-center fa fa-users"></i></span>':"<img class='specialist-img' src='https://talygenv.github.io/Vue-UI-Content/images/DefaultImages/uc_user_new.jpg' />"},getConsultantDesignation:function(e){let t=JSON.parse(JSON.stringify(e));var a=t.resourceData[t.resource.textField];return"GENERAL"===a||"DENTAL"===a?'<div class="specialist-designation"></div>':"undefined"!=typeof t.resourceData.Designation&&""!=t.resourceData.Designation?'<div class="specialist-designation">'+t.resourceData.Designation+"</div>":""},onRenderCell(e){if("emptyCells"===e.elementType&&e.element.classList.contains("e-resource-left-td")){var t=e.element.querySelector(".e-resource-text");"crew"==this.CurrentView?t.innerHTML='<div class="name"  >Crew Name </div>':"customer"==this.CurrentView?t.innerHTML='<div class="name"  >Customer Name </div>':"mixed"==this.CurrentView?t.innerHTML='<div class="name"  >Crew/Resource Name </div>':t.innerHTML='<div class="name"  >Resource Name </div>'}},getCurrentViewTimeline(){try{var e=localStorage.getItem("timeline");return null!=e?e:"Week"}catch{return"Week"}},onActionComplete(e){var t=this;if("viewNavigate"==e.requestType||"dateNavigate"==e.requestType){var a=[...document.getElementById("Schedule").ej2_instances],i=(a=a.reverse(),a[2]),s=[...i.getCurrentViewDates()];if(s.length>0){s[0];var l=s.reverse()[0];"Day"==t.getCurrentViewTimeline()&&(l=new Date(l.setDate(l.getDate()+1)))}this.IsView="Timeline"+this.getCurrentViewTimeline(),this._startDate=this.startDate.toLocaleDateString(),this._lastDate=l.toLocaleDateString(),this.selectedDate=this.startDate,this.refreshGhanttChart()}},GetUserTimeZoneDisplayName:async function(){await l["a"].GetTimeZoneByTimeZone().then(e=>{if("Success"==e.data.status){var t=e.data.result;this.isZoneDisplayNamee=t[0].display_name,this.isZoneDisplayNameId=t[0].timezone_id}})},GetTimeZoneList:function(){var e=this;l["a"].GetTimeZoneListing().then((function(t){t.data.result.length>0&&(e.isZoneDisplayName=t.data.result)}))},IsExtraMapFeature:async function(){await l["a"].IsExtraMapFeature().then(e=>{"locating"==e.data?(this.ExtraMapFeature=!0,this.removeViewWithValue(this.ddlCurrentView,this.ExtraMapFeature)):this.ExtraMapFeature=!1})},removeViewWithValue(e,t){if(t){const t=e.findIndex(e=>"customer"===e.value);return t>-1&&e.splice(t,1),e}},TimeZoneEdit(){this.isTimeZoneEdit=!this.isTimeZoneEdit,this.GetTimeZoneList()},ddlTimeZone(){var e=this,t=this.isZoneDisplayName.find((function(t){return t.VALUE==e.isZoneDisplayNameId}));e.isZoneDisplayNamee=t.TEXT,this.isZoneDisplayNameId=t.VALUE,e.isTimeZoneEdit=!e.isTimeZoneEdit,e.refreshGhanttChart()},setCurrentView(e){localStorage.setItem("view",e)},GetCrewResourceList:async function(){var e=this,t=e.CurrentView,a=`type=${t}&startTime=${this._startDate}&endTime=${this._lastDate}`;await l["a"].GetCrewResourceList(a).then(a=>{let i=[],s=[];this.setCurrentView(t),e.resourceListData=a.data.result,"Success"==a.data.status&&("resource"===t||"mixed"===t?(i=["Employees"],s.push({field:"EmployeeId",title:"Employee",name:"Employees",allowMultiple:!0,textField:"Text",idField:"Id",colorField:"Color",dataSource:e.resourceListData})):"crew"===t?(i=["Groups","Employees"],s.push({field:"EmployeeId",title:"Employee",name:"Employees",textField:"Text",idField:"Id",groupIDField:"GroupId",colorField:"Color",allowMultiple:!1,dataSource:e.resourceListData["dataResources"]}),e.GroupData1.push({field:"Group_Id",title:"Group",name:"Groups",textField:"Text",idField:"Gid",colorField:"Color",dataSource:e.resourceListData["dataGroup"]})):"customer"===t&&(i=["Customers"],s.push({field:"CustomerId",title:"Customer",name:"Customers",allowMultiple:!1,textField:"Text",idField:"Id",colorField:"Color",dataSource:e.resourceListData})),e.group.resources=i,e.ResourceDataSource=s,e.refreshCalenderData()),e.isLoading=!1})}}},de=ce,ue=(a("10e1"),Object(g["a"])(de,_,C,!1,null,null,null)),pe=ue.exports,me=a("6c0e"),he={components:{SearchFilter:u["a"],ManageView:p["a"],OpenSetDefaultViewModal:b,ViewSchduler:pe,SchduleAppointment:E["a"],AddServiceAppointmentPopUpVue:me["a"]},data(){return{isLoading:!1,ServiceAppointment:"ServiceAppointment",showPopupAddServiceAppointment:!1,IsSchduleAppointment:!1,listheaderbuttons:d.buttons,leftSearchFields:d.leftsearchSchema,listActions:d.listActions,TotalRecords:0,PageNumber:1,CurrentPage:1,PageSize:10,isPaged:1,SortBy:"",SortExp:"",TotalPages:0,IsFsmLocating:!1,selectedWidgetCode:"",searchCondition:"",SAData:[],Headers:[],widgets:[{icon:"fa fa-list-ul",value:"",name:"Completed",class:"one_wid",onClick:this.widgetClick},{icon:"fa fa-ticket",value:"",name:"In progress",class:"two_wid",onClick:this.widgetClick},{icon:"fa fa-line-chart",value:"",name:"Need To Reschedule",class:"three_wid",onClick:this.widgetClick},{icon:"fa fa-reply",value:"",name:"Scheduled",class:"four_wid",onClick:this.widgetClick},{icon:"fa fa-calendar-check-o",value:"",name:"Unscheduled",class:"five_wid",onClick:this.widgetClick},{icon:"fa fa-file-text",value:"",name:"Cancelled",class:"six_wid",onClick:this.widgetClick}],UserType:null,showFilter:!1,ShowManageView:!1,OpenSetDefaultView:!1,IsDefaultView:"",IsListView:!1,appliedFilter:[],ExtraMapFeature:!1,SchduleAppointment:{},SA_GroupData:[],ViewList:[],ViewListId:"",SchduleObj:{}}},created:async function(){this.UserType=this.GetUserInfo.UserType,await this.IsExtraMapFeature(),await this.GetDefaultView(),await this.loadView(this.IsDefaultView),await vm.fetchRecords(),await vm.GetDdlRecords_ViewList(),await d.bindleftCommonSearchdropdown(this,"Ticketing","FilterACCOUNTSListForServiceAppointment")},methods:{OnApplyView(e){var t=this;if("0"==e)t.DefaultView();else{var a={ViewId:e,ModuleName:"Ticketing",SubmoduleCode:"SERVICE_APPOINTMENT"},i=JSON.stringify(a);l["a"].ApplyView(i).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(t.ShowAlert(t.$t("ApplySuccess",[t.$t("View")]),"success",!0,t.$t("Alert")),t.$emit("RefreshManageView"),t.fetchRecords()):t.ShowAlert(t.$t("AddedError",[t.$t("View")]),"failure",!0,t.$t("Alert"))}))}},DefaultView:function(){var e=this,t={ModuleName:"Ticketing",SubmoduleCode:"SERVICE_APPOINTMENT"},a=JSON.stringify(t);l["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ClearSuccess",[e.$t("DefaultView")]),"success",!0,e.$t("Alert")),e.$emit("RefreshManageView"),e.fetchRecords()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))},GetDdlRecords_ViewList:async function(){var e=this;e.ViewList=[];var t="moduleName=Ticketing&subModuleCode=SERVICE_APPOINTMENT&viewId=0&pageSize=10&pageNum=1&sortBy=&sortExp=";await l["a"].GetViewList(t).then((function(t){t.data&&"undefined"!=typeof t.data.DATA&&(e.ViewList=t.data.DATA);var a=0;e.ViewListId="0",null==e.ViewList||""==e.ViewList||e.ViewList.forEach((function(t){t.IS_SLECTED_USER_ID>0&&(a+=1,e.ViewListId=t.VIEW_ID)}));var i=0;a>0?e.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):null==e.ViewList||""==e.ViewList?e.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):e.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}),setTimeout(()=>{e.ViewListId>0?e.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=e.ViewListId:e.$refs.tgList.$refs.tgListHeaderButtons.ViewListId="0"},1e3)}))},IsExtraMapFeature:async function(){await l["a"].IsExtraMapFeature().then(e=>{"locating"==e.data?this.ExtraMapFeature=!0:this.ExtraMapFeature=!1})},getStatusClassList:function(e){var t="";switch(e){case"Completed":case"Dispatched":t="px-2 bg-success text-white text-center d-block";break;case"Cancelled":case"Canceled":t="px-2 bg-danger text-white text-center d-block";break;case"Cannot Complete":case"Open":case"Unscheduled":t="px-2 bg-secondary text-white text-center d-block";break;case"In Progress":t="px-2 bg-info text-white text-center d-block";break;case"Needs Reschedule":case"Scheduled":t="px-2 bg-dark text-white text-center d-block";break;case"Failed":case"On Hold":case"Need to Reschedule":t="px-2 bg-warning text-white text-center d-block";break;default:t=""}return t},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"View":t.isVisible=!0;break;case"Edit":t.isVisible="NU"!=this.UserType;break;case"Scheduled Appointment":t.isVisible=!0;break;case"Delete":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},actionButtonClick(e,t,a,i){switch(e){case"ViewDetail":this.openPopupForSetupTickectSource(t.SA_Id);break;case"Edit":this.AddServiceAppointment(t);break;case"ScheduledAppointment":this.openScheduledAppointmentPopupForEdit(t.SA_Id);break;case"SingleDelete":this.commonDeleteData(t.SA_Id);break}},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.fetchRecords()},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"ManageView":this.ManageView();break;case"AddServiceAppointment":this.AddServiceAppointment(null);break;case"openFilterPopUp":this.openFilter();break;case"removeFilter":var t=this;t.searchCondition="";const e=t.listheaderbuttons.findIndex(e=>"removeFilter"===e.callbackfunction);t.listheaderbuttons[e].isvisible=!1;const i=t.listheaderbuttons.findIndex(e=>"openFilterPopUp"===e.callbackfunction);t.listheaderbuttons[i].iconClass="fa fa-filter";try{t.appliedFilter=[]}catch(a){}t.fetchRecords();break;case"GanttChart":this.loadView("Gantt");break;case"SetDefaultView":this.SetDefaultView();break;case"commonDeleteData":this.commonDeleteData();break}},SetDefaultView:function(){this.OpenSetDefaultView=!this.OpenSetDefaultView},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.fetchRecords()},FilterData:function(e,t,a,i,s,l){this.pageNum=e,this.pageSize=t,this.sortBy=a,this.sortExp=i,this.searchCondition=s,null!=typeof l&&this.appliedFilter.push(l),this.fetchRecords()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.fetchRecords()},clickEventOfColumn:function(e,t){"SA_Number"==t.COLUMN_NAME&&this.$router.push({path:"/ServiceAppointment/ViewSADetails/"+e.SA_Id,query:{TicketNumber:e.SA_Related_Object_Id,DurationType:e.SA_Duration_Type}})},columnDataFormatter:function(e,t){return e[t.COLUMN_NAME]},ManageView:function(){var e=this;e.ShowManageView=!0,setTimeout((function(){$("#modalManageView").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3)},getRequestParams:function(e,t,a,i,s,l){let r={};return e&&(r["pageNum"]=e),l&&(r["searchcondition"]=l),s&&(r["isPaged"]=s),a&&(r["sortBy"]=a),i&&(r["sortExp"]=i),t&&(r["pageSize"]=t),r},widgetClick:function(e){var t=this;t.selectedWidgetCode=e.name,"In progress"==t.selectedWidgetCode&&(t.selectedWidgetCode="inprogress"),"Completed"==t.selectedWidgetCode&&(t.selectedWidgetCode="completed"),"Need To Reschedule"==t.selectedWidgetCode&&(t.selectedWidgetCode="needtoreschedule"),"Scheduled"==t.selectedWidgetCode&&(t.selectedWidgetCode="scheduled"),"UnScheduled"==t.selectedWidgetCode&&(t.selectedWidgetCode="unscheduled"),t.fetchRecords()},async fetchRecords(){var e=this;e.isLoading=!0;var t="";if(this.isBlank(this.searchCondition)||(t+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(t+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),this.isBlank(this.searchCondition)||(t+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(t+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=t){if(e.appliedFilter.length>0){const t=e.listheaderbuttons.findIndex(e=>"removeFilter"===e.callbackfunction);e.listheaderbuttons[t].isvisible=!0;const a=e.listheaderbuttons.findIndex(e=>"openFilterPopUp"===e.callbackfunction);e.listheaderbuttons[a].iconClass="fa fa-filter text-success"}}else if(0==e.appliedFilter.length){const t=e.listheaderbuttons.findIndex(e=>"removeFilter"===e.callbackfunction);e.listheaderbuttons[t].isvisible=!1;const a=e.listheaderbuttons.findIndex(e=>"openFilterPopUp"===e.callbackfunction);e.listheaderbuttons[a].iconClass="fa fa-filter"}e.SAData=[];var a=`isPaged=${this.isPaged}&pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&code=${e.selectedWidgetCode}`;e.isBlank(e.searchCondition)||(a=e.searchCondition.includes("SA.SA_Number")||e.searchCondition.includes("worder.workorder_number")?a+"&searchCondition="+encodeURIComponent(this.searchCondition):a+"&searchCondition="+e.searchCondition),await l["a"].ServiceAppointmentListing(a).then(t=>{""!=t.data&&null!=t.data?(e.isLoading=!1,e.Headers=t.data.schema,e.Headers.forEach(t=>{t.settings=null,"SA_Number"==t.COLUMN_NAME&&(t.settings={clickEvent:e.clickEventOfColumn,formatter:e.columnDataFormatter}),"Status"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),t.data.data.length>0?(e.SAData=t.data.data,e.TotalRecords=t.data.data[0].total_records,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),0==t.data.CompletedSACount?(e.CompletedSACount=0,e.widgets[0].value=0):e.widgets[0].value=t.data.CompletedSACount,0==t.data.InProgressSACount?(e.InProgressSACount=0,e.widgets[1].value=0):e.widgets[1].value=t.data.InProgressSACount,0==t.data.NeedToRescheduleSACount?(e.NeedToRescheduleSACount=0,e.widgets[2].value=0):e.widgets[2].value=t.data.NeedToRescheduleSACount,0==t.data.ScheduledSACount?(e.ScheduledSACount=0,e.widgets[3].value=0):e.widgets[3].value=t.data.ScheduledSACount,0==t.data.UnscheduledSACount?(e.UnscheduledSACount=0,e.widgets[4].value=0):e.widgets[4].value=t.data.UnscheduledSACount,0==t.data.CancelledSACount?(e.CancelledSACount=0,e.widgets[5].value=0):e.widgets[5].value=t.data.CancelledSACount,e.CurrentPage=e.PageNumber,e.IsFsmLocating=t.data.IS_FSM_LOCATING,e.listheaderbuttons[5].isdisabled=!0,e.noRecord=!1):(e.noRecord=!0,e.SAData=[],e.TotalRecords=0)):(e.noRecord=!0,e.SAData=[],e.Headers=[],e.TotalRecords=0)}),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)},commonDeleteData:async function(e){var t=this,a="";1==$(".chkItems:checkbox:checked").prop("checked")?$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})):a+=e,a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("SetupTicketSource"),(function(){var e={ids:a,moduleName:"Ticketing",subModuleCode:"SERVICE_APPOINTMENT",refCode:"TALYGEN_ServiceAppointment"},i=JSON.stringify(e);l["a"].DeleteMultipleOrSingleRecords(i).then((function(e){"Success"==e.data[0].Status?(t.ShowAlert(t.$t("DeletedSuccess",[t.$t("ServiceAppointment")]),"Success",!0,t.$t("Alert")),t.fetchRecords()):t.ShowAlert(t.$t("DeletedError",[t.$t("ServiceAppointment")]),"failure",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete"),"warning",!0,t.$t("Alert"))},openFilter(){this.showFilter=!0},async GetDefaultView(){await l["a"].GetDefaultView().then(e=>{this.IsDefaultView=e.data.result})},async loadView(e){var t=this;t.isLoading=!0,"Gantt"===e&&"NU"!=t.UserType||"Gantt"===e&&"NU"==t.UserType?t.IsListView=!1:"List"===e&&(t.IsListView=!0,await t.fetchRecords(),await t.GetDdlRecords_ViewList()),t.isLoading=!1},AddServiceAppointment(e){this.showPopupAddServiceAppointment=!0,this.SchduleObj=e},openScheduledAppointmentPopupForEdit:async function(e){var t=`id=${e}&isForTickets=${this.ExtraMapFeature}`;await l["a"].GetSADetailById(t).then(e=>{var t=e.data.result;this.openScheduledAppointmentPopup(t)})},openScheduledAppointmentPopup:function(e){e&&("undefined"!=typeof e.groupId&&null!=e.groupId&&(this.SA_GroupData=[],this.SA_GroupData.push({value:parseInt(e.groupId),name:e.groupName,type:e.groupType})),this.SchduleAppointment=e,this.IsSchduleAppointment=!0)},openPopupForSetupTickectSource(e){this.$router.push({name:"ViewSADetails",params:{id:e}})}}},fe=he,ve=Object(g["a"])(fe,i,s,!1,null,null,null);t["default"]=ve.exports},d060:function(e,t,a){var i=a("2522");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("7ccce7a9",i,!0,{sourceMap:!1,shadowMode:!1})},e90b:function(e,t,a){var i=a("fef8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("54f3503e",i,!0,{sourceMap:!1,shadowMode:!1})},fb8c:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"#ArrivalWindowEndTime[data-v-b3cc3efa],#ArrivalWindowStartTime[data-v-b3cc3efa]{z-index:999}#ScheduledEndTime[data-v-b3cc3efa],#ScheduledStartTime[data-v-b3cc3efa]{z-index:998}#ServiceResource[data-v-b3cc3efa]{z-index:997}#ServiceCrew[data-v-b3cc3efa]{z-index:996}",""]),e.exports=t},fef8:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".fw-bold{font-size:16px!important;font-weight:600!important}",""]),e.exports=t}}]);
//# sourceMappingURL=chunk-12c34422.js.map