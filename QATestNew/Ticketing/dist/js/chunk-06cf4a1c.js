(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06cf4a1c"],{5828:function(t,e,a){"use strict";let s=[{title:"Add",iconClass:"fa fa-plus",callbackfunction:"CommonAddData",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddResource"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0},{title:"Back to list",iconClass:"fa fa-angle-double-left",callbackfunction:"BackToList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"BacktoList"}],i=[{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"Edit",additionalSpan:""}];e["a"]={buttons:s,listActions:i}},b756:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"divMainFormData"}},[e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("div",{staticClass:"left-menu-tab div-click-event hr_jobpost_a"},[e("div",{staticClass:"col-md-12 p-0"},t._l(t.WorktypeSourceList,(function(a){return e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white textelipsis"},[t._v(t._s(a.worktype_name))])])})),0),e("ul",{staticClass:"nav nav-pills flex-column left-tab mt-2 responivecustomtab",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link left-menu",class:{"active show":1==t.activeKey},attrs:{"data-bs-target":"#tab-detail-content",href:"javascript:void(0)","data-bs-toggle":"tab",role:"tab",id:"tab-Details"},on:{click:function(e){return t.loadData("detail")}}},[e("em",{staticClass:"fa fa-file-text",attrs:{"aria-hidden":"true","aria-selected":"true"}}),t._v(" "+t._s(t.$t("Details"))+" ")])]),"NU"==t.user_type&&t.created_by==t.user_id||"CA"==t.user_type||"PM"==t.user_type?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link left-menu",class:{"active show":2==t.activeKey},attrs:{"data-bs-target":"#tab-service-content",href:"javascript:void(0)",id:"tab-service-content","data-bs-toggle":"tab",role:"tab"},on:{click:function(e){return t.loadData("Service")}}},[e("em",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("ServiceAppointment"))+" ")])]):t._e(),"locating"==t.CompanyType?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link left-menu",class:{"active show":3==t.activeKey},attrs:{"data-bs-target":"#tab-WOStatus-content",href:"javascript:void(0)",id:"tab-WOStatus-content","data-bs-toggle":"tab",role:"tab"},on:{click:function(e){return t.loadData("WoStatus")}}},[e("em",{staticClass:"fa fa-bar-chart",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("WOStatusMapping"))+" ")])]):t._e(),"NU"==t.user_type&&t.created_by==t.user_id||"CA"==t.user_type||"PM"==t.user_type?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link left-menu",class:{"active show":4==t.activeKey},attrs:{"data-bs-target":"#tab-Skill-content",href:"javascript:void(0)",id:"tab-Skill-content","data-bs-toggle":"tab",role:"tab"},on:{click:function(e){return t.loadData("Skill")}}},[e("em",{staticClass:"fa fa-bar-chart",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("SkillMapping"))+" ")])]):t._e(),"NU"==t.user_type&&t.created_by==t.user_id||"CA"==t.user_type||"PM"==t.user_type?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link left-menu",class:{"active show":5==t.activeKey},attrs:{"data-bs-target":"#tab-Product-content",href:"javascript:void(0)",id:"tab-Product-content","data-bs-toggle":"tab",role:"tab"},on:{click:function(e){return t.loadData("Product")}}},[e("em",{staticClass:"fa fa-bar-chart",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("ProductMapping"))+" ")])]):t._e(),"locating"==t.CompanyType?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link left-menu",class:{"active show":6==t.activeKey},attrs:{"data-bs-target":"#tab-CDCCode-content",href:"javascript:void(0)",id:"tab-CDCCode-content","data-bs-toggle":"tab",role:"tab"},on:{click:function(e){return t.loadData("CDCCode")}}},[e("em",{staticClass:"fa fa-code",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("CDCCodeMapping"))+" ")])]):t._e(),"nonlocating"==t.CompanyType?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link left-menu",class:{"active show":7==t.activeKey},attrs:{"data-bs-target":"#tab-FormMapping-content",href:"javascript:void(0)",id:"tab-FormMapping-content","data-bs-toggle":"tab",role:"tab"},on:{click:function(e){return t.loadData("FormMapping")}}},[e("em",{staticClass:"fa fa-bar-chart",attrs:{"aria-hidden":"true","aria-selected":"false"}}),t._v(" "+t._s(t.$t("FormMapping"))+" ")])]):t._e()])]),e("div",{staticClass:"right-content"},[t.isDetail||t.isService?e("div",{staticClass:"col-md-12 p-0 mb-2"},[e("div",{staticClass:"theme-primary partition p-actions-expand"},[e("span",{staticClass:"p-name text-white",attrs:{id:"span_ForSelectedTabName"}},[t._v(t._s(t.tabNameTitle))]),e("span",{staticClass:"p-actions float-right"},[e("RouterLink",{staticClass:"p-action-btn text-white float-right",attrs:{to:"/Ticketing/worktypelisting"}},[e("em",{staticClass:"fa fa-angle-double-left"}),e("br"),t._v(" "+t._s(t.$t("BacktoList"))+" ")])],1),t._m(0)])]):t._e(),t.isDetail?e("div",{staticClass:"col-md-12 p-0",attrs:{id:"WorktypeData"}},[e("div",{staticClass:"card mb-2 probx"},[e("div",{staticClass:"card-header"},[e("h2",[t._v(t._s(t.$t("Details")))])]),e("div",{staticClass:"card-body"},t._l(t.WorktypeSourceList,(function(a){return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("WorkTypeName"))+":")]),t._v(" "+t._s(a.worktype_name))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},["HH"==a.duration_type?e("label",[e("b",[t._v(t._s(t.$t("DurationType"))+":")]),t._v(" "+t._s(t.$t("Hours")))]):t._e(),"MM"==a.duration_type?e("label",[e("b",[t._v(t._s(t.$t("DurationType"))+":")]),t._v(" "+t._s(t.$t("Minutes")))]):t._e()])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("AutoCreateService"))+":")]),t._v(" "+t._s(1==a.auto_create_sa?"Yes":"No"))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("MinimumCrewSize"))+":")]),t._v(" "+t._s(a.min_crew_size))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("RecommendedCrewSize"))+":")]),t._v(" "+t._s(a.rec_crew_size))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("EstimateDuration"))+":")]),t._v(" "+t._s(a.estimate_duration))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("MaxDuration"))+":")]),t._v(" "+t._s(a.maximum_duration))])])]),e("div",{staticClass:"col-md-6 col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Color:")]),t._v(" "),e("span",{style:"background-color: "+a.color+";display: inline-block;width: 60px;border-radius: 10px;height: 17px;"},[t._v("Â ")])])])]),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v(t._s(t.$t("description"))+":")]),t._v(" "+t._s(a.description))])])])])})),0)])]):t._e(),t.isService?e("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":2==t.activeKey},attrs:{id:"tab-service-content",role:"tabpanel","aria-labelledby":"tab-service-content"}},[e("WorktypeSADataModal")],1):t._e(),t.isWOStatus?e("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":3==t.activeKey},attrs:{id:"tab-WOStatus-content",role:"tabpanel","aria-labelledby":"tab-WOStatus-content"}},[e("WOStatusMappingModal",{attrs:{CompanyType:t.CompanyType}})],1):t._e(),t.isSkill?e("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":4==t.activeKey},attrs:{id:"tab-Skill-content",role:"tabpanel","aria-labelledby":"tab-Skill-content"}},[e("SkillMappingModal")],1):t._e(),t.isProduct?e("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":5==t.activeKey},attrs:{id:"tab-Product-content",role:"tabpanel","aria-labelledby":"tab-Product-content"}},[e("ProductMappingModal")],1):t._e(),t.isCDCMap?e("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":6==t.activeKey},attrs:{id:"tab-CDCCode-content",role:"tabpanel","aria-labelledby":"tab-CDCCode-content"}},[e("CDCCodeWorkTypeModal")],1):t._e(),t.isFormMap?e("div",{staticClass:"tab-pane fade p-0 pb-2 border-0",class:{"active show":7==t.activeKey},attrs:{id:"tab-FormMapping-content",role:"tabpanel","aria-labelledby":"tab-FormMapping-content"}},[e("FormMappingModal")],1):t._e()])])])},i=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-angle-up text-white"})])])}],o=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:()=>{},widgets:[],IdentityColumn:"MAPPING_ID",HeaderText:t.$t("ServiceAppointment"),listType:["List"],ListData:t.FormData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchRecords,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["IS_FORM_MANDATORY"==a.column.COLUMN_NAME?[e("div",{staticClass:"form-group mb-0"},[e("label",{staticClass:"switch disabled"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.row.IS_FORM_MANDATORY,expression:"data.row.IS_FORM_MANDATORY"},{name:"disabled",rawName:"v-disabled",value:t.disabled,expression:"disabled"}],staticClass:"form-check-input custom-control-input dynamic",attrs:{type:"checkbox",name:"IsLogin"},domProps:{checked:Array.isArray(a.row.IS_FORM_MANDATORY)?t._i(a.row.IS_FORM_MANDATORY,null)>-1:a.row.IS_FORM_MANDATORY},on:{change:function(e){var s=a.row.IS_FORM_MANDATORY,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=null,d=t._i(s,r);i.checked?d<0&&t.$set(a.row,"IS_FORM_MANDATORY",s.concat([r])):d>-1&&t.$set(a.row,"IS_FORM_MANDATORY",s.slice(0,d).concat(s.slice(d+1)))}else t.$set(a.row,"IS_FORM_MANDATORY",o)}}}),e("span",{staticClass:"slider round",staticStyle:{cursor:"default"}},[e("span",{staticClass:"slider-yes"},[t._v("Yes")]),e("span",{staticClass:"slider-no"},[t._v("No")])])])])]:t._e(),"IS_APPROVAL_REQUIRED"==a.column.COLUMN_NAME?[e("div",{staticClass:"form-group mb-0"},[e("label",{staticClass:"switch disabled"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.row.IS_APPROVAL_REQUIRED,expression:"data.row.IS_APPROVAL_REQUIRED"},{name:"disabled",rawName:"v-disabled",value:t.disabled,expression:"disabled"}],staticClass:"form-check-input custom-control-input dynamic",attrs:{type:"checkbox",name:"IsLogin"},domProps:{checked:Array.isArray(a.row.IS_APPROVAL_REQUIRED)?t._i(a.row.IS_APPROVAL_REQUIRED,null)>-1:a.row.IS_APPROVAL_REQUIRED},on:{change:function(e){var s=a.row.IS_APPROVAL_REQUIRED,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=null,d=t._i(s,r);i.checked?d<0&&t.$set(a.row,"IS_APPROVAL_REQUIRED",s.concat([r])):d>-1&&t.$set(a.row,"IS_APPROVAL_REQUIRED",s.slice(0,d).concat(s.slice(d+1)))}else t.$set(a.row,"IS_APPROVAL_REQUIRED",o)}}}),e("span",{staticClass:"slider round",staticStyle:{cursor:"default"}},[e("span",{staticClass:"slider-yes"},[t._v("Yes")]),e("span",{staticClass:"slider-no"},[t._v("No")])])])])]:t._e(),"Action"==a.column.COLUMN_NAME?[e("td",{staticClass:"text-center single-action tourguide_aa"},[e("a",{attrs:{typetitle:t.$t("Delete"),typefor:"Delete",dataid:a.row.MAPPING_ID,title:t.$t("Delete")},on:{click:function(e){return t.DeleteById(a.row.MAPPING_ID)}}},[e("em",{staticClass:"fa fa-trash text-danger action-icon"})])])]:t._e()]}}])}),t.AddFormMapping?e("AddFormMappingModal"):t._e()],1)},r=[],d=(a("14d9"),a("5828")),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("AddFormMapping")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},l=[],c=a("9769"),u={data(){return{isLoading:!1,FormSchema:[{layoutType:"single",Data:[{astype:"CustomSelectField",mode:"tag",label:this.$t("Form"),name:"Form",value:"",config:{options:[]},placeholder:this.$t("SelectForm"),validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Subject"),name:"Subject",value:"",placeholder:this.$t("EventSubject"),validationRules:""},{astype:"TextField",label:this.$t("NotificationTo"),name:"NotificationTo",value:"",placeholder:this.$t("EMAIL"),validationRules:""}]},{layoutType:"double",Data:[{astype:"toggleField",label:this.$t("IsFormMandatory"),name:"IsFormMandatory",value:"",placeholder:this.$t("EnterDescription"),validationRules:""},{astype:"toggleField",label:this.$t("IsApprovalRequired"),name:"IsApprovalRequired",value:"",placeholder:this.$t("EnterDescription"),validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}]}},created:async function(){this.GetDdlRecords_Form()},methods:{GetDdlRecords_Form:async function(){var t=this,e=`id=${this.$route.params.id}&&moduleName=FSM&type=FSM_FORMS_FOR_NONLOCATE&search=&refId=`;await c["a"].GetDDLData(e).then((function(e){if(e.data){var a=e.data;null!=a&&e.data.DATA.forEach((e,a)=>{t.FormSchema[0].Data[0].config.options.push({value:e.value,name:e.name})})}}))},Close:function(){this.$parent.AddFormMapping=!1},onSubmit(t,e){var a=this,s="",i=0;for(i=0;i<t.Form.length;i++)s=0==i?t.Form[i].value:s+","+t.Form[i].value;var o={selectedStatusCode:0,selectedForm:s,subject:t.Subject,notificationTo:t.NotificationTo,isApprovalRequired:t.IsApprovalRequired,isFormMandatory:t.IsFormMandatory,workTypeId:this.$route.params.id,sub_status_code_id:0},r=JSON.stringify(o);c["a"].SaveFormMapping(r).then(t=>{"Success"==t.data.status?(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Form")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchRecords()):(a.ShowAlert(a.$t("AddedError",[a.$t("Resource")]),"failure",!0,a.$t("Alert")),a.Close())})}}},p=u,S=a("2877"),h=Object(S["a"])(p,n,l,!1,null,null,null),m=h.exports,C={components:{AddFormMappingModal:m},data(){return{AddFormMapping:!1,ProductMappingId:0,noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,SearchCondition:"",Headers:[{COLUMN_NAME:"FORM_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Form Name",DISPLAY_ORDER:1},{COLUMN_NAME:"IS_FORM_MANDATORY",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Is Form Mandatory",DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"IS_APPROVAL_REQUIRED",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Is Approval Required",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"Action",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Action",DISPLAY_ORDER:3}],listheaderbuttons:d["a"].buttons,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,user_id:null,companyId:null,leftSearchFields:null,FormData:[]}},created:async function(){var t=this;this.user_id=this.GetUserInfo.ID,this.user_type=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,await t.FetchRecords()},methods:{leftCommonSearch(){},FetchRecords:async function(){var t=this,e=`WtId=${this.$route.params.id}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNumber=${t.PageNumber}`;await c["a"].FsmGetFormMappingByWorkType(e).then((function(e){t.TotalRecords=0,t.Headers.forEach(t=>{t.settings=null,"IS_FORM_MANDATORY"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"IS_APPROVAL_REQUIRED"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"Action"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),t.FormData=[],""!=e.data&&null!=e.data?"Success"==e.data.status?e.data.result.data.length>0&&(t.FormData=e.data.result.data,t.TotalRecords=t.FormData[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),t.noRecord=!1):(t.noRecord=!0,t.FormData=[],t.TotalRecords=0):(t.noRecord=!0,t.ProductData=[],t.Headers=[],t.TotalRecords=0),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchRecords()},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},openPopupForAddFormMapping:function(t){void 0==t&&(t=0),this.AddFormMapping=!this.AddFormMapping},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"CommonAddData":this.openPopupForAddFormMapping(null);break;case"commonDeleteData":this.commonDeleteData();break;case"BackToList":this.BacktoWorktypeList();break}},DeleteById:function(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Ticketing Service Board"),(function(){var a={ids:t,companyId:e.companyId,userId:e.user_id,moduleName:"FSM",refCode:"TALYGEN_FSM_STATUS_CODE_FORM_MAPPING"},s=JSON.stringify(a);c["a"].deleteActivityData(s).then(t=>{"Success"==t.data[0].Status?(e.FetchRecords(),setTimeout((function(){e.ShowAlert(e.$t("DeletedSuccess",[e.$t("FormMapping")]),"Success",!0,e.$t("Alert"))}),500)):e.ShowAlert(e.$t("DeletedError",[e.$t("FormMapping")]),"failure",!0,e.$t("Alert"))})}))},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Ticketing Service Board"),(function(){var t={ids:a,companyId:e.companyId,userId:e.user_id,moduleName:"FSM",refCode:"TALYGEN_FSM_STATUS_CODE_FORM_MAPPING"},s=JSON.stringify(t);c["a"].deleteActivityData(s).then(t=>{"Success"==t.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.FetchRecords(),setTimeout((function(){e.ShowAlert(e.$t("DeletedSuccess",[e.$t("FormMapping")]),"Success",!0,e.$t("Alert"))}),500)):e.ShowAlert(e.$t("DeletedError",[e.$t("FormMapping")]),"failure",!0,e.$t("Alert"))})})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))},BacktoWorktypeList:function(){this.$router.push({name:"WorkTypeListing"})}}},A=C,g=Object(S["a"])(A,o,r,!1,null,null,null),_=g.exports,f=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:()=>{},widgets:[],IdentityColumn:"id",HeaderText:t.$t("ServiceAppointment"),listType:["List"],ListData:t.StatusCodeList,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchRecords,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata}}),t.AddWOStatusCode?e("AddWOStatusCodeModal",{attrs:{MappingId:t.MappingId}}):t._e(),t.SetFormMapping?e("SetFormMappingModal",{attrs:{Form_Id:t.workTypeId,Form:t.moduleName,IsCheckLocate:t.CompanyType}}):t._e()],1)},b=[];let D=[{title:"Set Form mapping",iconClass:"fa fa-file",callbackfunction:"OpenSetFormMapping",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"SetFormMapping"},{title:"WO status Code",iconClass:"fa fa-file",callbackfunction:"openaddWorkType",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddWorkType"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0},{title:"Back to List",iconClass:"fa fa-angle-double-left",callbackfunction:"BackToList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"BacktoList"}];var v={buttons:D},T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("StatusCode")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("section",[e("tg-list",{attrs:{IsShowAction:!0,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:t.renderActions,widgets:[],IdentityColumn:"id",HeaderText:t.$t("ServiceAppointment"),listType:["List"],ListData:t.StatusCodemodalList,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchRecords,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata}}),t.AddEditStatusCode?e("AddEditStatusCodeModal",{attrs:{Data:t.StatusCodeData}}):t._e()],1)]),e("div",{staticClass:"d-flex justify-content-end mr-3 mb-3"},[e("a",{staticClass:"btn btn-success mr-2 mt-3",attrs:{title:"Save"},on:{click:function(e){return t.SaveStatusCodeMapping()}}},[e("i",{staticClass:"fa fa-floppy-o pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Save")))]),e("a",{staticClass:"btn btn-primary delete-btn mt-3",attrs:{title:"Close"},on:{click:function(e){return t.Close()}}},[e("i",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Close"))+" ")])])])])])],1)},M=[];let E=[{title:"Add Status Code",iconClass:"fa fa-plus",callbackfunction:"CommonAddData",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddStatusCode"}],R=[{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"Edit",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",callbackfunction:"Delete",icon:"fa fa-trash action-icon",additionalSpan:""}];var y={buttons:E,listActions:R},I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("StatusCode")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},P=[],k={props:{Data:{type:Number,required:!0}},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("StatusCode"),name:"StatusCode",value:"",placeholder:this.$t("EnterStatusCodeName"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("ParentStatusCode"),name:"ParentStatusCode",value:"",config:{options:[]},placeholder:this.$t("Select"),validationRules:""}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("description"),name:"Description",value:"",placeholder:this.$t("EnterDescription"),validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}],statusCodeId:0}},created:async function(){var t=this;t.GetDdlRecords_PARENT_STATUSCODE(),null!=t.Data&&(t.statusCodeId=t.Data.id,t.FormSchema[0].Data[0].value=t.Data.status_code,t.FormSchema[0].Data[1].value=null==t.Data.parent_id?0:t.Data.parent_id,t.FormSchema[1].Data[0].value=t.Data.description)},methods:{GetDdlRecords_PARENT_STATUSCODE:async function(){var t=this,e="id=&&moduleName=FSM&type=FSM_WO_STATUSCODE&search=&refId=";await c["a"].GetDDLData(e).then((function(e){if(e.data){var a=e.data;null!=a&&e.data.DATA.forEach((e,a)=>{t.FormSchema[0].Data[1].config.options.push({value:e.value,name:e.name})})}}))},Close:function(){this.$parent.AddEditStatusCode=!1},onSubmit(t,e){var a=this,s={id:a.statusCodeId,StatusCode:t.StatusCode,ParentStatusCode:t.ParentStatusCode,Description:t.Description},i=JSON.stringify(s);c["a"].SaveStatusCode(i).then(t=>{"Success"==t.data.status?(a.statusCodeId>0?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("StatusCode")]),"success",!0,a.$t("Alert")),a.Close()):a.ShowAlert(a.$t("AddedSuccess",[a.$t("StatusCode")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchRecords()):(a.ShowAlert(a.$t("AddedError",[a.$t("StatusCode")]),"failure",!0,a.$t("Alert")),a.Close())})}}},L=k,N=Object(S["a"])(L,I,P,!1,null,null,null),O=N.exports,F={components:{AddEditStatusCodeModal:O},data(){return{AddEditStatusCode:!1,noRecords:!1,TotalRecords:0,listActions:y.listActions,CurrentPage:1,TotalPages:0,SearchCondition:"",Headers:[{COLUMN_NAME:"status_code",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"WO Status Code",DISPLAY_ORDER:1},{COLUMN_NAME:"description",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Description",DISPLAY_ORDER:2}],SubHeaders:[{COLUMN_NAME:"status_code",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"WO Sub Status Code",DISPLAY_ORDER:1},{COLUMN_NAME:"description",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Description",DISPLAY_ORDER:2}],listheaderbuttons:y.buttons,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,leftSearchFields:null,StatusCodemodalList:[],StatusCodeData:[],SubStatusCodemodalList:[]}},created:async function(){var t=this;await t.FetchRecords()},methods:{FetchRecords:async function(t,e){var a=this,s="",i=`worktypeid=${this.$route.params.id}&sortBy=${a.SortBy}&sortExp=${a.SortExp}&pageSize=${a.PageSize}&pageNumber=${a.PageNumber}`;this.isBlank(this.searchCondition)||(s+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(s+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=s&&(i=i+"&search="+s),await c["a"].GetFsmStatusCodeList(i).then((function(t){a.StatusCodemodalList=[],""!=t.data&&null!=t.data?t.data.result.data[0].TOTALRECORDS>0?(a.StatusCodemodalList=t.data.result.data,a.StatusCodemodalList.forEach(t=>{t.child={onExpandChild:a.onExpandChild,isShowChild:!1,isShowExpandButton:!0,data:[]}}),a.TotalRecords=t.data.result.data[0].TOTALRECORDS,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),a.CurrentPage=a.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),a.noRecord=!1):(a.noRecord=!0,a.StatusCodemodalList=[],a.TotalRecords=0):(a.noRecord=!0,a.SAData=[],a.TotalRecords=0),setTimeout((function(){a.ResponsiveDataTable("tablelistingdata")}),500)}))},onExpandChild:async function(t){var e=this,a=`worktypeid=${this.$route.params.id}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}&statuscodeid=${t.id}`;await c["a"].GetFsmStatusCodeList(a).then((function(a){""!=a.data&&null!=a.data?(e.Headers=e.SubHeaders,a.data.result.data[0].TOTALRECORDS>0?(t.child.data=a.data.result.data,$.each(t.child.data,(function(t,e){var a="",s=e.selectedForm;$.each(s,(function(t,e){a+=""==a?e.name:", "+e.name})),e.selectedForm=a})),e.TotalRecords=a.data.result.data[0].TOTALRECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1):(e.noRecord=!0,t.child.data=[],e.TotalRecords=0)):(e.noRecord=!0,t.child.data=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},Close:function(){this.$parent.AddWOStatusCode=!1},DeleteStatusCode:function(t,e,a){var s=this;a?0==e&&s.confirmR(s.$t("ConfirmDelete"),!0,s.$t("Delete")+"  "+s.$t("Ticketing Service Board"),(function(){var e={ids:t,moduleName:"FSM",subModuleCode:"",refCode:"TALYGEN_FSM_STATUS_CODE"},a=JSON.stringify(e);c["a"].deleteActivityDataFSM(a).then(t=>{"Success"==t.data.status?(s.FetchRecords(),setTimeout((function(){s.ShowAlert(s.$t("DeletedSuccess",[s.$t("StatusCode")]),"Success",!0,s.$t("Alert"))}),500)):s.ShowAlert(s.$t("DeletedError",[s.$t("StatusCode")]),"failure",!0,s.$t("Alert"))})})):s.commonDeleteData()},actionButtonClick(t,e,a,s,i){switch(t){case"Delete":this.DeleteStatusCode(e.id,e.Isdeleteable,i);break;case"Edit":this.openPopupForAddEditStatusCode(e,i);break}},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(e=>{let s={...e};switch(s.title){case"Edit":s.isVisible=!0,s.isDisabled=t.Isdeleteable>0;break;case"Delete":s.isVisible=!0,s.isDisabled=t.Isdeleteable>0;break;default:s.isDisabled=!0}a.push(s)}),a},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchRecords()},openPopupForAddEditStatusCode:function(t,e){this.StatusCodeData=t,this.AddEditStatusCode=!this.AddEditStatusCode},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"CommonAddData":this.openPopupForAddEditStatusCode(null);break}},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Ticketing Service Board"),(function(){var t={ids:a,companyId:e.companyId,userId:e.user_id,moduleName:"ticketing",refCode:"TALYGEN_FSM_STATUS_CODE_WORKTYPE_MAPPING"},s=JSON.stringify(t);c["a"].deleteActivityData(s).then(t=>{"Success"==t.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.FetchRecords(),setTimeout((function(){e.ShowAlert(e.$t("DeletedSuccess",[e.$t("StatusCodeMapping")]),"Success",!0,e.$t("Alert"))}),500)):e.ShowAlert(e.$t("DeletedError",[e.$t("StatusCodeMapping")]),"failure",!0,e.$t("Alert"))})})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))},SaveStatusCodeMapping(){var t=this,e=[];if(t.StatusCodemodalList.forEach(t=>{if(1==t.isSelected){var a=t.id,s={statuscode_id:a,worktype_id:this.$route.params.id};e.push(s)}1==t.isSelected&&t.child.data.forEach(t=>{if(1==t.isSelected){var a=t.id,s={statuscode_id:a,worktype_id:this.$route.params.id};e.push(s)}})}),e.length>0){var a=JSON.stringify(e);c["a"].SaveWorktypeStatusCodeMapping(a).then(e=>{"Success"==e.data.status?(t.statusCodeId>0?(t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("StatusCode")]),"success",!0,t.$t("Alert")),t.Close()):t.ShowAlert(t.$t("AddedSuccess",[t.$t("StatusCode")]),"success",!0,t.$t("Alert")),t.Close(),t.$parent.FetchRecords()):(t.ShowAlert(t.$t("AddedError",[t.$t("StatusCode")]),"failure",!0,t.$t("Alert")),t.Close())})}else t.ShowAlert(t.$t("PleaseSelectAnyRecordsForFurther"),"warning",!0,t.$t("Alert"))},BacktoWorktypeList:function(){this.$router.push({name:"WorkTypeListing"})}}},B=F,w=Object(S["a"])(B,T,M,!1,null,null,null),x=w.exports,U=a("26fe"),Y={props:{CompanyType:{type:String,Required:!0}},components:{AddWOStatusCodeModal:x,SetFormMappingModal:U["a"]},data(){return{moduleName:"WorkType",AddWOStatusCode:!1,SetFormMapping:!1,FormMappingId:0,noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,SearchCondition:"",Headers:[{COLUMN_NAME:"status_code",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"WO Status Code",DISPLAY_ORDER:1},{COLUMN_NAME:"description",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Description",DISPLAY_ORDER:2},{COLUMN_NAME:"selectedForm",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Selected Form",DISPLAY_ORDER:3}],SubHeaders:[{COLUMN_NAME:"status_code",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"WO Sub Status Code",DISPLAY_ORDER:1},{COLUMN_NAME:"description",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Description",DISPLAY_ORDER:2},{COLUMN_NAME:"selectedForm",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Selected Form",DISPLAY_ORDER:3}],listheaderbuttons:v.buttons,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,leftSearchFields:null,StatusCodeList:[],workTypeId:null,isLoading:!1}},created:async function(){var t=this;t.workTypeId=this.$route.params.id,await t.FetchRecords()},methods:{leftCommonSearch(){},FetchRecords:async function(t,e){var a=this,s="",i=`worktypeid=${this.$route.params.id}&sortBy=${a.SortBy}&sortExp=${a.SortExp}&pageSize=${a.PageSize}&pageNumber=${a.PageNumber}`;this.isBlank(this.searchCondition)||(s+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(s+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=s&&(i=i+"&search="+s),await c["a"].GetFsmWorktypeStatusCodeMappingList(i).then((function(t){a.StatusCodeList=[],""!=t.data&&null!=t.data?t.data.result.data[0].TOTALRECORDS>0?(a.StatusCodeList=t.data.result.data,a.StatusCodeList.forEach(t=>{t.child={onExpandChild:a.onExpandChild,isShowChild:!1,isShowExpandButton:!0,data:[]}}),$.each(a.StatusCodeList,(function(t,e){var a="",s=e.selectedForm;$.each(s,(function(t,e){a+=""==a?e.name:", "+e.name})),e.selectedForm=a})),a.TotalRecords=t.data.result.data[0].TOTALRECORDS,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),a.CurrentPage=a.PageNumber,a.listheaderbuttons[2].isdisabled=!0,a.noRecord=!1):(a.noRecord=!0,a.StatusCodeList=[],a.TotalRecords=0):(a.noRecord=!0,a.SAData=[],a.TotalRecords=0),setTimeout((function(){a.ResponsiveDataTable("tablelistingdata")}),500)}))},onExpandChild:function(t){var e=this;e.isLoading=!0;var a=`worktypeid=${e.workTypeId}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}&parentstatuscodeid=${t.id}`;c["a"].GetFsmWorktypeStatusCodeMappingList(a).then((function(a){""!=a.data&&null!=a.data&&"Success"==a.data.status&&a.data.result.data.length>0?(e.Headers=e.SubHeaders,t.child.data=a.data.result.data,$.each(t.child.data,(function(t,e){var a="",s=e.selectedForm;$.each(s,(function(t,e){a+=""==a?e.name:", "+e.name})),e.selectedForm=a})),e.TotalRecords=a.data.result.data[0].TOTALRECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.listheaderbuttons[2].isdisabled=!0,e.noRecord=!1,e.isLoading=!1):(e.noRecord=!0,t.child.data=[],e.TotalRecords=0,e.isLoading=!1),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchRecords()},openPopupForAddWOStatusCode:function(t){void 0==t&&(t=0),this.MappingId=t,this.AddWOStatusCode=!this.AddWOStatusCode},openPopupForSetFormMapping:function(t){this.SetFormMapping=!this.SetFormMapping},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"OpenSetFormMapping":this.openPopupForSetFormMapping(null);break;case"openaddWorkType":this.openPopupForAddWOStatusCode(null);break;case"commonDeleteData":this.commonDeleteData();break;case"BackToList":this.BacktoWorktypeList();break}},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Ticketing Service Board"),(function(){var t={ids:a,companyId:e.companyId,userId:e.user_id,moduleName:"ticketing",refCode:"TALYGEN_FSM_STATUS_CODE_WORKTYPE_MAPPING"},s=JSON.stringify(t);c["a"].deleteActivityData(s).then(t=>{"Success"==t.data[0].Status?(e.listheaderbuttons[2].isdisabled=!0,e.FetchRecords(),setTimeout((function(){e.ShowAlert(e.$t("DeletedSuccess",[e.$t("StatusCodeMapping")]),"Success",!0,e.$t("Alert"))}),500)):e.ShowAlert(e.$t("DeletedError",[e.$t("StatusCodeMapping")]),"failure",!0,e.$t("Alert"))})})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))},BacktoWorktypeList:function(){this.$router.push({name:"WorkTypeListing"})}}},W=Y,G=Object(S["a"])(W,f,b,!1,null,null,null),H=G.exports,V=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:()=>{},widgets:[],IdentityColumn:"SA_ID",HeaderText:t.$t("ServiceAppointment"),listType:["List"],ListData:t.SAData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchServiceAppointment,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["View"==a.column.COLUMN_NAME?[e("td",{staticClass:"text-center single-action tourguide_a"},[e("RouterLink",{staticStyle:{color:"dodgerblue"},attrs:{to:"/ServiceAppointment/ViewSADetails/"+a.row.SA_ID,typetitle:t.$t("View"),dataid:a.row.SA_ID,title:t.$t("View")}},[e("em",{staticClass:"fa fa-eye text-info action-icon"})])],1)]:t._e(),"SA_Scheduled_StartTime"==a.column.COLUMN_NAME?[e("span",[t._v(" "+t._s(t.$options.filters.formatDate(a.row.SA_Scheduled_StartTime))+" ")])]:t._e(),"SA_Scheduled_EndTime"==a.column.COLUMN_NAME?[e("span",[t._v(" "+t._s(t.$options.filters.formatDate(a.row.SA_Scheduled_EndTime))+" ")])]:t._e()]}}])})],1)},z=[],j={data(){return{noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,SearchCondition:"",Headers:[{COLUMN_NAME:"SA_Number",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"SA Number",DISPLAY_ORDER:1},{COLUMN_NAME:"Subject",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Subject",DISPLAY_ORDER:2},{COLUMN_NAME:"WorkOrder_Number",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"WO Number",DISPLAY_ORDER:3},{COLUMN_NAME:"worktype_name",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Work Type",DISPLAY_ORDER:3},{COLUMN_NAME:"SA_Scheduled_StartTime",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Scheduled Start Time",DISPLAY_ORDER:3},{COLUMN_NAME:"SA_Scheduled_EndTime",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Scheduled End Time",DISPLAY_ORDER:3},{COLUMN_NAME:"View",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Action",DISPLAY_ORDER:3}],listheaderbuttons:null,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,leftSearchFields:null,SAData:[]}},created:function(){var t=this;t.FetchServiceAppointment()},methods:{FetchServiceAppointment:function(){var t=this,e=`WtId=${this.$route.params.id}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNumber=${t.PageNumber}`;c["a"].FsmGetServiceAppointmentByWorkType(e).then((function(e){t.Headers.forEach(t=>{t.settings=null,"SA_Scheduled_StartTime"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"SA_Scheduled_EndTime"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"View"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),t.SAData=[],""!=e.data&&null!=e.data?e.data.result.data[0].TOTALRECORDS>0?(t.SAData=e.data.result.data,t.TotalRecords=e.data.result.data[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1):(t.noRecord=!0,t.SAData=[],t.TotalRecords=0):(t.noRecord=!0,t.SAData=[],t.Headers=[],t.TotalRecords=0),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchServiceAppointment()},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchServiceAppointment()}}},K=j,Q=Object(S["a"])(K,V,z,!1,null,null,null),q=Q.exports,J=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:()=>{},widgets:[],IdentityColumn:"MappingId",HeaderText:t.$t("ServiceAppointment"),listType:["List"],ListData:t.SKillData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchRecords,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["StatusId"==a.column.COLUMN_NAME?[t.isCRMShowStausDrop(a.row.StatusId,"Ticketing")?e("listing-status",{ref:"updatestatus",attrs:{isfor:"WORKTYPE_SKILL_MAPPING",dataid:a.row.MappingId,"data-controller":"Crm",statuslist:t.StatusListForListing,item:a.StatusId,"data-action":"index",dataselected:1001==a.row.StatusId?"Active":"Inactive",callbackfunction:t.FetchRecords,isselectedvaluestring:!0}}):t._e(),t.isCRMShowStausDrop(a.row.status_id,"Ticketing")?t._e():e("a",{staticClass:"inactive-disabled"},[e("span",{class:t.getStatusClass(a.row.status_id,"status_id")},[t._v(" "+t._s(a.row[a.column.COLUMN_NAME])+" ")])])]:t._e()]}}])}),t.AddSkillMapping?e("AddSkillMappingModal",{attrs:{MappingId:t.MappingId}}):t._e()],1)},X=[],Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("AddSkillMapping")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},tt=[],et={props:{MappingId:{type:Number,required:!0}},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"CustomSelectField",mode:"tag",label:this.$t("Skill"),name:"Skill",value:"",config:{options:[]},placeholder:this.$t("SelectSkill"),validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}],ListData:[]}},created:async function(){this.GetDdlRecords_Skill()},methods:{GetDdlRecords_Skill:async function(){var t=this,e="WorkTypeId="+this.$route.params.id;await c["a"].GetSkillByWorkTypeId(e).then((function(e){if(e.data){var a=e.data;null!=a&&e.data.forEach((e,a)=>{t.FormSchema[0].Data[0].config.options.push({value:e.value,name:e.name})})}}))},Close:function(){this.$parent.AddSkillMapping=!1},onSubmit(t,e){var a=this,s="",i=0;for(i=0;i<t.Skill.length;i++)s=0==i?t.Skill[i].value:s+","+t.Skill[i].value;var o={Id:null==a.MappingId?0:a.MappingId,FSMSkillList:s,WorkTypeId:this.$route.params.id,Status:t.Status},r=JSON.stringify(o);c["a"].SaveWorkTypeSkillMapping(r).then(t=>{"Success"==t.data.status?(a.$parent.mappingId>0?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Skill")]),"success",!0,a.$t("Alert")),a.Close()):a.ShowAlert(a.$t("AddedSuccess",[a.$t("Skill")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchRecords()):(a.ShowAlert(a.$t("AddedError",[a.$t("Resource")]),"failure",!0,a.$t("Alert")),a.Close())})}}},at=et,st=Object(S["a"])(at,Z,tt,!1,null,null,null),it=st.exports,ot={components:{AddSkillMappingModal:it},data(){return{AddSkillMapping:!1,MappingId:0,noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,SearchCondition:"",Headers:[{COLUMN_NAME:"SkillName",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Skill Name",DISPLAY_ORDER:1},{COLUMN_NAME:"WorkName",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Work Type Name",DISPLAY_ORDER:2},{COLUMN_NAME:"StatusId",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3}],listheaderbuttons:d["a"].buttons,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,user_id:null,companyId:null,leftSearchFields:null,SKillData:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}]}},created:async function(){var t=this;this.user_id=this.GetUserInfo.ID,this.user_type=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,await t.FetchRecords()},methods:{FetchRecords:async function(){var t=this,e=`WtId=${this.$route.params.id}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNumber=${t.PageNumber}`;await c["a"].FsmGetSkillMappingByWorkType(e).then((function(e){t.TotalRecords=0,t.Headers.forEach(t=>{t.settings=null,"StatusId"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),t.SKillData=[],""!=e.data&&null!=e.data?"Success"==e.data.status?e.data.result.data.length>0&&(t.SKillData=e.data.result.data,t.TotalRecords=t.SKillData[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.listheaderbuttons[1].isdisabled=!0,t.noRecord=!1):(t.noRecord=!0,t.SKillData=[],t.TotalRecords=0):(t.noRecord=!0,t.SKillData=[],t.Headers=[],t.TotalRecords=0),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchRecords()},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},openPopupForAddSkillmapping:function(t){void 0==t&&(t=0),this.MappingId=t,this.AddSkillMapping=!this.AddSkillMapping},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"CommonAddData":this.openPopupForAddSkillmapping(null);break;case"commonDeleteData":this.commonDeleteData();break;case"BackToList":this.BacktoWorktypeList();break}},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Ticketing Service Board"),(function(){var t={ids:a,companyId:e.companyId,userId:e.user_id,moduleName:"ticketing",refCode:"TALYGEN_FSM_worktype_skill_mapping"},s=JSON.stringify(t);c["a"].deleteActivityData(s).then(t=>{"Success"==t.data[0].Status?(e.listheaderbuttons[1].isdisabled=!0,e.FetchRecords(),setTimeout((function(){e.ShowAlert(e.$t("DeletedSuccess",[e.$t("SkillMapping")]),"Success",!0,e.$t("Alert"))}),500)):e.ShowAlert(e.$t("DeletedError",[e.$t("SkillMapping")]),"failure",!0,e.$t("Alert"))})})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))},getStatusClass:function(t){var e="";switch(t){case"Active":e="px-2 bg-success text-center text-white d-block";break;case"Inactive":e="px-2 text-center bg-danger text-white d-block";break;default:e=""}return e},BacktoWorktypeList:function(){this.$router.push({name:"WorkTypeListing"})}}},rt=ot,dt=Object(S["a"])(rt,J,X,!1,null,null,null),nt=dt.exports,lt=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:()=>{},widgets:[],IdentityColumn:"ProductMappingId",HeaderText:t.$t("ServiceAppointment"),listType:["List"],ListData:t.ProductData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchRecords,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["StatusId"==a.column.COLUMN_NAME?[t.isCRMShowStausDrop(a.row.StatusId,"Ticketing")?e("listing-status",{ref:"updatestatus",attrs:{isfor:"WORKTYPE_PRODUCT_TYPE_MAPPING",dataid:a.row.ProductMappingId,"data-controller":"Crm",statuslist:t.StatusListForListing,item:a.StatusId,"data-action":"index",dataselected:1001==a.row.StatusId?"Active":"Inactive",callbackfunction:t.FetchRecords,isselectedvaluestring:!0}}):t._e(),t.isCRMShowStausDrop(a.row.StatusId,"Ticketing")?t._e():e("a",{staticClass:"inactive-disabled"},[e("span",{class:t.getStatusClass(a.row.StatusId,"status_id")},[t._v(" "+t._s(a.row[a.column.COLUMN_NAME])+" ")])])]:t._e()]}}])}),t.AddProductMapping?e("AddProductMappingModal",{attrs:{ProductMappingId:t.ProductMappingId}}):t._e()],1)},ct=[],ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("AddProductMapping")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},pt=[],St={props:{ProductMappingId:{type:Number,required:!0}},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"CustomSelectField",mode:"tag",label:this.$t("ProductName"),name:"Product",value:"",config:{options:[]},placeholder:this.$t("SelectProductName"),validationRules:{required:!0,max:100}},{astype:"NumericField",label:this.$t("Quantity"),name:"Quantity",value:"",placeholder:this.$t("EnterQuantity"),validationRules:{required:!0,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}],ListData:[]}},created:async function(){this.GetDdlRecords_Product()},methods:{GetDdlRecords_Product:async function(){var t=this,e="WorkTypeId="+this.$route.params.id;await c["a"].GetProductByWorkTypeId(e).then((function(e){if(e.data){var a=e.data;null!=a&&e.data.forEach((e,a)=>{t.FormSchema[0].Data[0].config.options.push({value:e.value,name:e.name})})}}))},Close:function(){this.$parent.AddProductMapping=!1},onSubmit(t,e){var a=this,s="",i=0;for(i=0;i<t.Product.length;i++)s=0==i?t.Product[i].value:s+","+t.Product[i].value;var o={Id:null==a.ProductMappingId?0:a.ProductMappingId,FSMProductList:s,WorkTypeId:this.$route.params.id,Quantity:t.Quantity},r=JSON.stringify(o);c["a"].SaveWorkTypeProductMapping(r).then(t=>{"Success"==t.data.status?(a.$parent.ProductMappingId>0?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Product")]),"success",!0,a.$t("Alert")),a.Close()):a.ShowAlert(a.$t("AddedSuccess",[a.$t("Product")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchRecords()):(a.ShowAlert(a.$t("AddedError",[a.$t("Resource")]),"failure",!0,a.$t("Alert")),a.Close())})}}},ht=St,mt=Object(S["a"])(ht,ut,pt,!1,null,null,null),Ct=mt.exports,At={components:{AddProductMappingModal:Ct},data(){return{AddProductMapping:!1,ProductMappingId:0,noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,SearchCondition:"",Headers:[{COLUMN_NAME:"ProductName",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Product Name",DISPLAY_ORDER:1},{COLUMN_NAME:"Quantity",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Quantity",DISPLAY_ORDER:2},{COLUMN_NAME:"WorkName",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Work Type Name",DISPLAY_ORDER:3},{COLUMN_NAME:"StatusId",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3}],listheaderbuttons:d["a"].buttons,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,user_id:null,companyId:null,leftSearchFields:null,ProductData:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}]}},created:async function(){var t=this;this.user_id=this.GetUserInfo.ID,this.user_type=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,await t.FetchRecords()},methods:{FetchRecords:async function(){var t=this,e=`WtId=${this.$route.params.id}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNumber=${t.PageNumber}`;await c["a"].FsmGetProductMappingByWorkType(e).then((function(e){t.TotalRecords=0,t.Headers.forEach(t=>{t.settings=null,"StatusId"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),t.ProductData=[],""!=e.data&&null!=e.data?"Success"==e.data.status?e.data.result.data.length>0&&(t.ProductData=e.data.result.data,t.TotalRecords=t.ProductData[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.listheaderbuttons[1].isdisabled=!0,t.noRecord=!1):(t.noRecord=!0,t.ProductData=[],t.TotalRecords=0):(t.noRecord=!0,t.ProductData=[],t.Headers=[],t.TotalRecords=0),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchRecords()},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},openPopupForAddProductmapping:function(t){void 0==t&&(t=0),this.ProductMappingId=t,this.AddProductMapping=!this.AddProductMapping},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"CommonAddData":this.openPopupForAddProductmapping(null);break;case"commonDeleteData":this.commonDeleteData();break;case"BackToList":this.BacktoWorktypeList();break}},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Ticketing Service Board"),(function(){var t={ids:a,companyId:e.companyId,userId:e.user_id,moduleName:"ticketing",refCode:"TALYGEN_FSM_Worktype_Product_Item_Mapping"},s=JSON.stringify(t);c["a"].deleteActivityData(s).then(t=>{"Success"==t.data[0].Status?(e.listheaderbuttons[1].isdisabled=!0,e.FetchRecords(),setTimeout((function(){e.ShowAlert(e.$t("DeletedSuccess",[e.$t("ProductMapping")]),"Success",!0,e.$t("Alert"))}),500)):e.ShowAlert(e.$t("DeletedError",[e.$t("ProductMapping")]),"failure",!0,e.$t("Alert"))})})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))},getStatusClass:function(t){var e="";switch(t){case"Active":e="px-2 bg-success text-center text-white d-block";break;case"Inactive":e="px-2 text-center bg-danger text-white d-block";break;default:e=""}return e},BacktoWorktypeList:function(){this.$router.push({name:"WorkTypeListing"})}}},gt=At,_t=Object(S["a"])(gt,lt,ct,!1,null,null,null),ft=_t.exports,bt=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"Ticketing",SubModuleCode:"SERVICE_APPOINTMENT",LegendArray:[],RenderRowActionMethod:()=>{},widgets:[],IdentityColumn:"id",HeaderText:t.$t("ServiceAppointment"),listType:["List"],ListData:t.CdcList,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchRecords,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["STATUS_NAME"==a.column.COLUMN_NAME?[e("a",{staticClass:"active"},["Active"==a.row.STATUS_NAME?e("span",{class:t.getStatusClassList(a.row.STATUS_NAME,"STATUS_NAME")},[t._v(" "+t._s(a.row[a.column.COLUMN_NAME])+" ")]):t._e(),"Inactive"==a.row.STATUS_NAME?e("span",{class:t.getStatusClassList(a.row.STATUS_NAME,"STATUS_NAME")},[t._v(" "+t._s(t.$t("Inactive"))+" ")]):t._e()])]:t._e(),"ISAH"==a.column.COLUMN_NAME?[e("td",[e("span",[t._v(t._s("1"==a.row.ISAH?"Yes":"No"))])])]:t._e(),"ISWIRECENTER"==a.column.COLUMN_NAME?[e("td",[e("span",[t._v(t._s("1"==a.row.ISWIRECENTER?"Yes":"No"))])])]:t._e()]}}])}),t.AddCDCCodeMapping?e("AddCDCCodeMappingModal"):t._e()],1)},Dt=[];let vt=[{title:"Add CDC Code",iconClass:"fa fa-plus",callbackfunction:"CommonAddData",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddResource"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0},{title:"Back to list",iconClass:"fa fa-angle-double-left",callbackfunction:"BackToList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"BacktoList"}];var Tt={buttons:vt},Mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("CDCCode")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("span",{staticClass:"user-guide"},[e("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e("em",{staticClass:"fa fa-files-o pr-2"}),t._v(t._s(t.$t("GuideForUser")))]),e("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[e("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("UgAddCDCCode"))}})])])])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},Et=[],Rt={data(){return{isLoading:!1,FormSchema:[{layoutType:"single",Data:[{astype:"CustomSelectField",mode:"tag",label:this.$t("SelectCdcCode"),name:"CDCCode",value:"",config:{options:[]},placeholder:this.$t("SelectProductName"),validationRules:{required:!0,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}]}},created:async function(){this.GetDdlRecords_CDCCODE()},methods:{GetDdlRecords_CDCCODE:async function(){var t=this,e="id=&&moduleName=FSM&type=FSM_CDCCODE&search=&refId="+this.$route.params.id;await c["a"].GetDDLData(e).then((function(e){if(e.data){var a=e.data;null!=a&&e.data.DATA.forEach((e,a)=>{t.FormSchema[0].Data[0].config.options.push({value:e.value,name:e.name})})}}))},Close:function(){this.$parent.AddCDCCodeMapping=!1},onSubmit(t,e){var a=this,s="",i=0;for(i=0;i<t.CDCCode.length;i++)s=0==i?t.CDCCode[i].value:s+","+t.CDCCode[i].value;var o={id:this.$route.params.id,CdcCode:s},r=JSON.stringify(o);c["a"].SaveCdcCode(r).then(t=>{"Success"==t.data.status?(a.ShowAlert(a.$t("AddedSuccess",[a.$t("StatusCode")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchRecords()):(a.ShowAlert(a.$t("AddedError",[a.$t("Resource")]),"failure",!0,a.$t("Alert")),a.Close())})}}},yt=Rt,It=Object(S["a"])(yt,Mt,Et,!1,null,null,null),Pt=It.exports,kt={components:{AddCDCCodeMappingModal:Pt},data(){return{AddCDCCodeMapping:!1,noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,SearchCondition:"",Headers:[{COLUMN_NAME:"CDC_CODE",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"CDC COde",DISPLAY_ORDER:1},{COLUMN_NAME:"SBA_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"SBA Id",DISPLAY_ORDER:2},{COLUMN_NAME:"STATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"State",DISPLAY_ORDER:3},{COLUMN_NAME:"ABBREVIATIONS",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Abbrevations",DISPLAY_ORDER:3},{COLUMN_NAME:"ISAH",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Is After Hour",DISPLAY_ORDER:1},{COLUMN_NAME:"ISWIRECENTER",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Is Wire Center",DISPLAY_ORDER:2},{COLUMN_NAME:"DIVISION_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Invoice Grouping",DISPLAY_ORDER:2},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3}],listheaderbuttons:Tt.buttons,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,user_id:null,companyId:null,leftSearchFields:null,CdcList:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}]}},created:async function(){var t=this;this.user_id=this.GetUserInfo.ID,this.user_type=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,await t.FetchRecords()},methods:{FetchRecords:async function(){var t=this,e=`work_type_id=${this.$route.params.id}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNumber=${t.PageNumber}`;await c["a"].GetFsmCdcList(e).then((function(e){t.Headers.forEach(t=>{t.settings=null,"STATUS_NAME"==t.COLUMN_NAME&&(t.DISPLAY_NAME="Status",t.settings={isInSlot:!0,isForTag:!0}),"ISAH"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"ISWIRECENTER"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),t.CdcList=[],t.TotalRecords=0,null!=e.data&&""!=e.data&&("Success"==e.data.status?(t.CdcList=e.data.result.data,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.listheaderbuttons[1].isdisabled=!0,t.CdcList.length>0?(t.TotalRecords=e.data.result.data[0].TOTALRECORDS,t.NoRecord=!1):t.NoRecord=!0):t.NoRecord=!0),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchRecords()},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},openPopupForAddCDCCodemapping:function(t){void 0==t&&(t=0),this.AddCDCCodeMapping=!this.AddCDCCodeMapping},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"CommonAddData":this.openPopupForAddCDCCodemapping(null);break;case"commonDeleteData":this.commonDeleteData();break;case"BackToList":this.BacktoWorktypeList();break}},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Ticketing Service Board"),(function(){var t={ids:a,companyId:e.companyId,userId:e.user_id,moduleName:"ticketing",refCode:"TALYGEN_FSM_CDC_CODE_WORKTYPE_MAPPING"},s=JSON.stringify(t);c["a"].deleteActivityData(s).then(t=>{"Success"==t.data[0].Status?(e.listheaderbuttons[1].isdisabled=!0,e.FetchRecords(),setTimeout((function(){e.ShowAlert(e.$t("DeletedSuccess",[e.$t("CDCCodeMapping")]),"Success",!0,e.$t("Alert"))}),500)):e.ShowAlert(e.$t("DeletedError",[e.$t("CDCCodeMapping")]),"failure",!0,e.$t("Alert"))})})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))},getStatusClassList:function(t){var e="";switch(t){case"Active":e="px-2 text-center text-white d-block bg-success";break;case"Inactive":e="px-2 text-center text-white d-block bg-danger";break;default:e=""}return e},BacktoWorktypeList:function(){this.$router.push({name:"WorkTypeListing"})}}},Lt=kt,Nt=Object(S["a"])(Lt,bt,Dt,!1,null,null,null),$t=Nt.exports,Ot={components:{WOStatusMappingModal:H,WorktypeSADataModal:q,SkillMappingModal:nt,ProductMappingModal:ft,CDCCodeWorkTypeModal:$t,FormMappingModal:_},data(){return{WorktypeSourceList:[],isDetail:!1,isService:!1,NoRecord:!1,isSkill:!1,isWOStatus:!1,isFormMap:!1,isProduct:!1,isCDCMap:!1,WOStatusMappingModal:!1,SkillMappingModal:!1,ProductMappingModal:!1,CDCCodeWorkTypeModal:!1,FormMappingModal:!1,WorktypeSADataModal:!1,tabNameTitle:"",CompanyType:"",user_id:null,companyId:null,user_type:"",created_by:""}},created:function(){this.user_id=this.GetUserInfo.ID,this.user_type=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,this.IsExtraMapFeature(),this.loadData("detail"),this.FetchData()},methods:{FetchData:function(){var t=this,e="Id="+this.$route.params.id;c["a"].FsmGetWorktypeDetailById(e).then((function(e){t.WorktypeSourceList=[],null!=e.data&&""!=e.data&&("Success"==e.data.status?(t.WorktypeSourceList=e.data.result.data,t.Worktype_name=t.WorktypeSourceList[0].worktype_name,t.created_by=t.WorktypeSourceList[0].created_by,t.WorktypeSourceList.length>0?t.NoRecord=!1:t.NoRecord=!0):t.NoRecord=!0)}))},loadData:function(t,e){var a=this;"detail"==t?(a.isService=!1,a.isSkill=!1,a.isWOStatus=!1,a.isProduct=!1,a.isCDCMap=!1,a.isFormMap=!1,a.isDetail=!0,a.tabNameTitle="WorkType Overview",a.activeKey=1):"Service"==t?(a.isSkill=!1,a.isWOStatus=!1,a.isProduct=!1,a.isCDCMap=!1,a.isDetail=!1,a.isFormMap=!1,a.isService=!0,a.tabNameTitle="Service Appointment Details",a.activeKey=2,a.openWTServiceAppointmentDetail(this.$route.params.id)):"WoStatus"==t?(a.isService=!1,a.isSkill=!1,a.isProduct=!1,a.isCDCMap=!1,a.isDetail=!1,a.isFormMap=!1,a.isWOStatus=!0,a.tabNameTitle="Status Code Mapping List",a.activeKey=3,a.openPopupForWOStatusMapping(this.$route.params.id)):"Skill"==t?(a.isService=!1,a.isWOStatus=!1,a.isProduct=!1,a.isCDCMap=!1,a.isDetail=!1,a.isFormMap=!1,a.isSkill=!0,a.tabNameTitle="Skill Mapping Listing",a.activeKey=4,a.openPopupForSkillMapping(this.$route.params.id)):"Product"==t?(a.isService=!1,a.isSkill=!1,a.isWOStatus=!1,a.isCDCMap=!1,a.isDetail=!1,a.isFormMap=!1,a.isProduct=!0,a.tabNameTitle="Product Mapping Listing",a.activeKey=5,a.openPopupForProductMapping(this.$route.params.id)):"CDCCode"==t?(a.isService=!1,a.isSkill=!1,a.isWOStatus=!1,a.isProduct=!1,a.isDetail=!1,a.isFormMap=!1,a.isCDCMap=!0,a.tabNameTitle="CDC Code Mapping List",a.activeKey=6,a.openPopupForCDCCode(this.$route.params.id)):"FormMapping"==t&&(a.isService=!1,a.isSkill=!1,a.isWOStatus=!1,a.isProduct=!1,a.isDetail=!1,a.isCDCMap=!1,a.isFormMap=!0,a.tabNameTitle="Form Mapping",a.activeKey=7,a.openPopupForFormMapping(this.$route.params.id))},IsExtraMapFeature:function(){var t=this;c["a"].IsExtraMapFeature().then((function(e){t.CompanyType="",null!=e.data&&""!=e.data?t.CompanyType=e.data:t.CompanyType="normal"}))},openWTServiceAppointmentDetail:function(t){this.WorktypeSADataModal=!this.WorktypeSADataModal},openPopupForWOStatusMapping:function(t){this.WOStatusMappingModal=!this.WOStatusMappingModal},openPopupForSkillMapping:function(t){this.SkillMappingModal=!this.SkillMappingModal},openPopupForProductMapping:function(t){this.ProductMappingModal=!this.ProductMappingModal},openPopupForCDCCode:function(t){this.CDCCodeWorkTypeModal=!this.CDCCodeWorkTypeModal},openPopupForFormMapping:function(t){this.FormMappingModal=!this.FormMappingModal}}},Ft=Ot,Bt=Object(S["a"])(Ft,s,i,!1,null,null,null);e["default"]=Bt.exports}}]);
//# sourceMappingURL=chunk-06cf4a1c.js.map