(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1cda"],{4833:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Target")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("Form",{ref:"ManageRuleEngineTarget"},[t("div",{staticClass:"w-100 float-left",attrs:{id:"divTargetResultData"}},[t("div",{staticClass:"collapse show py-3"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-8 col-xl-8 float-left pr-0"},[t("div",{staticClass:"row m-0"},[t("div",{staticClass:"clstargetdata_main",staticStyle:{overflow:"auto"}},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-0 float-left",staticStyle:{"min-height":"210px","min-width":"600px"},attrs:{id:"divTargetsdata"}},e._l(e.Mainleveldiv,(function(a,i){return t("div",{key:i,staticClass:"clstargetdata w-100 Mainleveldiv"},[t("ul",{staticClass:"backgroundEDEDED borderbababa col-12 coloredmandatory"},[t("li",{staticClass:"form-group align-middle px-2"},[t("input",{staticClass:"form-control txtOpeningBrackets px-1",staticStyle:{width:"auto","min-width":"25px","max-width":"25px"},attrs:{type:"text",id:"OpeningBrackets_"+i,value:"(",name:"RuleTarget[0].OpeningBrackets",onpaste:"return false;",maxlength:"5"}})]),t("li",{staticClass:"form-group align-middle px-2"},[t("Field",{attrs:{name:"RuleTarget",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:l}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.RuleTarget,expression:"item.RuleTarget"}],class:{"form-control ddlFieldId":!0,"is-invalid":l[0]},staticStyle:{"min-width":"130px"},attrs:{id:"RuleTarget_FieldId"+i,name:"RuleTarget_FieldId"+i},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"RuleTarget",t.target.multiple?i:i[0])},function(t){return e.GetOperatorDataList(t,null,null,i)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(e.FieldsDropDownList,(function(a){return t("option",{domProps:{value:a.COLUMN_ID}},[e._v(e._s(e.$t(a.DISPLAY_NAME))+" ")])}))],2),l[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"RuleTarget"}},[e._v(e._s(l[0]))]):e._e()]}}],null,!0)})],1),t("li",{staticClass:"form-group align-middle px-2"},[t("Field",{attrs:{name:"OperatorId",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:l}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.OperatorId,expression:"item.OperatorId"}],class:{"form-control ddlOperatorId":!0,"is-invalid":l[0]},staticStyle:{"min-width":"130px"},attrs:{id:"OperatorId_FieldId"+i,name:"OperatorId_FieldId"+i},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"OperatorId",t.target.multiple?i:i[0])},function(t){return e.SetFieldValueType(t,i)}]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(a.OperatorDataList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(" "+e._s(e.$t(a.name)))])}))],2),l[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"OperatorId"}},[e._v(e._s(l[0]))]):e._e()]}}],null,!0)})],1),t("li",{staticClass:"form-group align-middle px-2 multiselectorsize"},["datetime"!=a.DataType||e.isShowCheckOffDays?e._e():t("div",{staticClass:"divRadio form-check form-check-inline"},[t("input",{staticClass:"rdIsTime",attrs:{type:"radio",value:"0",checked:"checked",name:"rdIsTime"}}),e._v(" "+e._s(e.$t("Date"))+"   "),t("input",{staticClass:"rdIsTime",attrs:{type:"radio",value:"1",name:"rdIsTime"}}),e._v(" "+e._s(e.$t("Time"))+" ")]),t("div",[t("div",{staticClass:"input-group divfield float-left"},[t("Field",{attrs:{name:"Condition",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:l}){return["nvarchar"==a.DataType&&"IsFieldService"!=a.selectedValue?t("input",{directives:[{name:"model",rawName:"v-model",value:a.TextTypeField,expression:"item.TextTypeField"}],class:{"form-control txtFirstValue":!0,"is-invalid":l[0]},staticStyle:{"min-width":"auto"},attrs:{type:"text",value:"",id:"ddlfirstfield_"+i,name:a.TextTypeField,maxlength:"10"},domProps:{value:a.TextTypeField},on:{change:function(t){return e.AlreadyExist(t,i,a,"txtFirstValue")},input:function(t){t.target.composing||e.$set(a,"TextTypeField",t.target.value)}}}):e._e()]}}],null,!0)}),t("Field",{attrs:{name:"Condition",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:l}){return["bigint"==a.DataType&&"select"==a.selectType||"IsFieldService"==a.selectedValue?t("select",{directives:[{name:"model",rawName:"v-model",value:a.selectorField,expression:"item.selectorField"}],class:{"form-control ddlfirstfield":!0,"is-invalid":l[0]},attrs:{id:"ddlfirstfield_"+i,name:"ddlfirstfield_"+i},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"selectorField",t.target.multiple?i:i[0])},function(t){return e.AlreadyExist(t,i,a,"ddlfirstfield")}]}},[t("option",{attrs:{value:""}},[e._v(" "+e._s(e.$t("Select")))]),e._l(a.DDlType,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(e.$t(a.text))+" ")])}))],2):e._e()]}}],null,!0)}),t("Field",{attrs:{name:"Condition",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:l}){return["bigint"==a.DataType&&"multiselect"==a.selectType?t("multiselect",{class:{ddlfirstfield:!0,"is-invalid":l[0]},attrs:{id:"ddlfirstfield_"+i,limit:1,name:"ddlfirstfield_"+i,label:"text","track-by":"value",options:a.DDlType,multiple:!0,taggable:!0},on:{input:function(t){return e.SetCondition()}},model:{value:a.multiselector,callback:function(t){e.$set(a,"multiselector",t)},expression:"item.multiselector"}}):e._e(),l[0]?t("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Condition"}},[e._v(e._s(l[0]))]):e._e()]}}],null,!0)})],1),t("div",{staticClass:"input-group divfield float-right"},[t("input",{staticClass:"form-control txtSecondValue hidden",attrs:{type:"text",id:"FieldSecondValue_"+i,value:"",name:"FieldSecondValue_"+i,maxlength:"10",Style:"min-width: auto;"}}),t("a",{staticClass:"ancshowzone",staticStyle:{display:"none"},attrs:{href:"javascript:;",title:e.$t("ViewMap")}},[t("i",{staticClass:"fa fa-eye",staticStyle:{"font-size":"1.5em"}})])])]),e.isShowCheckOffDays&&"datetime"==a.DataType?t("div",{staticClass:"chkOffDays float-left"},[t("div",{staticClass:"form-check form-check-inline float-left"},[t("input",{staticClass:"custCheckBox",attrs:{type:"checkbox",id:"1",value:"1","data-resource-id":e.$t("Sun")}}),t("label",[e._v(e._s(e.$t("Sun")))]),t("input",{staticClass:"custCheckBox",attrs:{type:"checkbox",id:"2",value:"2","data-resource-id":e.$t("Mon")}}),t("label",[e._v(e._s(e.$t("Mon")))]),t("input",{staticClass:"custCheckBox",attrs:{type:"checkbox",id:"3",value:"3","data-resource-id":e.$t("Tue")}}),t("label",[e._v(e._s(e.$t("Tue")))]),t("input",{staticClass:"custCheckBox",attrs:{type:"checkbox",id:"4",value:"4","data-resource-id":e.$t("Wed")}}),t("label",[e._v(e._s(e.$t("Wed")))])]),t("div",{staticClass:"form-check form-check-inline float-left"},[t("input",{staticClass:"custCheckBox",attrs:{type:"checkbox",id:"5",value:"5","data-resource-id":e.$t("Thu")}}),t("label",[e._v(e._s(e.$t("Thu")))]),t("input",{staticClass:"custCheckBox",attrs:{type:"checkbox",id:"6",value:"6","data-resource-id":e.$t("Fri")}}),t("label",[e._v(e._s(e.$t("Fri")))]),t("input",{staticClass:"custCheckBox",attrs:{type:"checkbox",id:"7",value:"7","data-resource-id":e.$t("Sat")}}),t("label",[e._v(e._s(e.$t("Sat")))])])]):e._e()]),t("li",{staticClass:"form-group align-middle px-2"},[t("input",{staticClass:"form-control txtClosingBrackets px-1",staticStyle:{width:"auto","min-width":"25px","max-width":"25px"},attrs:{type:"text",id:"ClosingBrackets_"+i,name:"ClosingBrackets_"+i,onpaste:"return false;",maxlength:"5",value:")"}})]),0!=i?t("li",{staticClass:"form-group align-middle px-2"},[t("a",{staticClass:"recyclebin",attrs:{href:"javascript:;"},on:{click:function(t){return e.DeleteUser(i)}}},[t("i",{staticClass:"fa fa-trash text-danger"})])]):e._e()]),t("div",{class:"col-7 parentrelation float-left my-1 "+e.HdnClass},[t("input",{staticClass:"hdnRelationWithParent",attrs:{type:"hidden",id:"RelationWithParent_"+i,name:"RelationWithParent_"+i,value:""}}),t("div",{staticClass:"float-right"},[t("a",{staticStyle:{cursor:"auto"}},[a.condition?t("div",{staticClass:"blueor"},[e._v(" "+e._s(a.condition))]):e._e()])])])])})),0),t("div",{staticClass:"container-fluid float-left my-2 p-0"},[t("div",{staticClass:"col-7 text-right"},[e.isShowAddMoreButton?e._e():t("div",{staticClass:"borderdddddd pull-right padding3 textaligncenter smallpops",attrs:{id:"divaddmoredatabutton"}},[t("a",{staticClass:"crossed",attrs:{href:"javascript:;","data-code":"close"},on:{click:function(t){return e.AddMoreData(!0,null)}}},[e._v("⤬")]),t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.AddMoreData(null,"or")}}},[t("div",{staticClass:"colorbtn"},[e._v(e._s(e.$t("OR")))])]),t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.AddMoreData(null,"and")}}},[t("div",{staticClass:"colorbtn"},[e._v(e._s(e.$t("AND")))])])]),e.isShowAddMoreButton?t("a",{attrs:{href:"javascript:;",id:"ancAddMoreData"},on:{click:function(t){return e.AddMoreData(!1,null)}}},[t("i",{staticClass:"fa fa-plus-circle",staticStyle:{"font-size":"55px",color:"#7ac645"}})]):e._e()])]),t("div",{staticClass:"search-btm-btn float-left mt-4 mb-3 border border-light"},[t("div",{staticClass:"heading text-left pl-2 float-left py-1",staticStyle:{"max-width":"90px"}},[e._v(e._s(e.$t("Condition"))+":")]),t("div",{staticClass:"boxsizing wordbreak text-left pl-2 float-left py-1",staticStyle:{"max-width":"calc(100% - 100px)"},attrs:{id:"divCondition"}},[e._v(e._s(e.RuleCondition))])])])])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 col-xl-4 float-left"},[t("div",{staticClass:"table-responsive tableborder",staticStyle:{height:"300px","max-height":"300px","min-height":"300px"}},[t("table",{staticClass:"table table-bordered mb-0"},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[e._v(e._s(e.$t("fieldName")))]),t("th",[e._v(e._s(e.$t("DataType")))])])]),t("tbody",{attrs:{id:"tFieldsList"}},[e._l(e.FieldsDropDownList,(function(a){return[t("tr",[t("td",{staticStyle:{"text-transform":"capitalize"}},[e._v(" "+e._s(e.$t(a.DISPLAY_NAME)))]),"decimal"==a.DATA_TYPE?t("td",[e._v(e._s(e.$t("Decimal"))+" ")]):"time"==a.DATA_TYPE?t("td",[e._v(e._s(e.$t("Time"))+" ")]):"tinyint"==a.DATA_TYPE?t("td",[e._v(e._s(e.$t("Boolean"))+" ")]):t("td",[e._v(e._s(e.$t(a.DATA_TYPE)))])])]}))],2)])])])]),t("div",{staticClass:"col-12"},[t("div",{staticClass:"row flex-row-reverse"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success text-white",attrs:{id:"btnSaveTarget",title:"Save"},on:{click:e.btnSaveTarget}},[t("i",{staticClass:"fa fa-save pr-2"}),t("span",[e._v(e._s(e.$t("Save")))])]),t("a",{staticClass:"btn btn-danger text-white ml-2",attrs:{id:"ancTargetDialog",title:"Cancel"},on:{click:e.Close}},[t("i",{staticClass:"fa fa-close pr-2"}),t("span",[e._v(e._s(e.$t("Cancel")))])])]),t("div",{staticClass:"col-lg-6 coloredmandatory_box"},[t("div",{staticClass:"help-labels"},[t("span",{staticClass:"text-danger"},[t("span",{staticClass:"coloredmandatory"}),e._v(e._s(e.$t("MandatoryTargetString")))])])])])])])])],1)])])])],1)},l=[],s=(a("14d9"),a("9769")),n={props:{acionId:{type:Number,required:!0},eventIds:{type:String,required:!1},moduleName:{type:String,required:!0},TargetConditionData:{type:Array,required:!0},TargetIndex:{type:Number,required:!0}},data(){return{isLoading:!1,Mainleveldiv:[{RuleTarget:"",OperatorId:"",multiselector:"",selectorField:"",TextTypeField:"",condition:"",DataType:"nvarchar",DDlType:"",selectType:"multiselect",selectedValue:"",OperatorDataList:""}],HdnClass:"hidden",FieldsDropDownList:[],OperatorList:[],OperatorListData:[],RuleCondition:"",RuleDataBaseCondition:"",isShowCheckOffDays:!1,isShowAddMoreButton:!0,GetCompanyUserByCompanyId:[],YesorNoList:[],GetDDLTicketZoneByCompanyId:[],GetWorkTypeList:[],GetDDLTicketCategoryByCompanyId:[],GetCompanyClientByCompanyId:[],SlaProductList:[],GetDepartmentListbyCompanyForClient:[]}},created:async function(){var e=this;await e.FetchData(),await e.GetWorkTypeListing(),await e.GetOperatorData(null),await e.GetEditCondition()},methods:{FetchData:async function(){var e=this,t=`actionId=${e.acionId}&eventids=${e.eventids}&moduleName=${e.moduleName}`;await s["a"].AddTarget(t).then((function(t){e.FieldsDropDownList=t.data.ruleActionFieldsList,e.YesorNoList=t.data.YesNoList;let a=[];a=t.data.companyUserByCompanyId,null!=a&&a.forEach((t,a)=>{e.GetCompanyUserByCompanyId.push({value:t.USERID,text:t.USERNAME})});let i=[];i=t.data.GetDDLTicketCategoryByCompanyId,null!=i&&i.forEach((t,a)=>{e.GetDDLTicketCategoryByCompanyId.push({value:t.value,text:t.name})});let l=[];l=t.data.GetCompanyClientByCompanyId.result,null!=l&&l.forEach((t,a)=>{e.GetCompanyClientByCompanyId.push({value:t.value,text:t.name})});let s=[];s=t.data.ProductsList.result,null!=s&&s.forEach((t,a)=>{e.SlaProductList.push({value:t.value,text:t.name})});let n=[];n=t.data.GetDepartmentListbyCompanyForClient.result,null!=n&&n.forEach((t,a)=>{e.GetDepartmentListbyCompanyForClient.push({value:t.departmenT_ID,text:t.departmenT_NAME})});let r=[];r=t.data.GetDDLTicketZoneByCompanyId,null!=r&&r.forEach((t,a)=>{e.GetDDLTicketZoneByCompanyId.push({value:t.ZONE_ID,text:t.ZONE_NAME})})}))},GetWorkTypeListing:async function(){var e=this,t="id=&&moduleName=FSM&type=FSM_WORKTYPE&search=&refId=";await s["a"].GetDDLDataFSM(t).then((function(t){if(t.data){var a=t.data;null!=a&&t.data.result.DATA.forEach((t,a)=>{e.GetWorkTypeList.push({value:t.value,text:t.name})})}}))},GetOperatorDataList(e,t,a,i){var l=this,s=[];l.OperatorList=[],null==e?("category"==t||"client"==t||"Created By"==t||"product"==t||"department"==t||"Is Field Service"==t||"Ticket Area"==t||"TypeofWork"==t?(l.OperatorListData.forEach(e=>{"="==e.OPERATOR_EXPRESSION&&"bigint"==e.OPERATION_DATA_TYPE&&s.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION}),"IN"!=e.OPERATOR_EXPRESSION&&"NOT IN"!=e.OPERATOR_EXPRESSION||"nvarchar"!=e.OPERATION_DATA_TYPE||s.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION})}),l.OperatorList=s,l.Mainleveldiv[i].OperatorDataList=s):(l.OperatorListData.forEach(e=>{"nvarchar"==e.OPERATION_DATA_TYPE&&s.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION})}),l.OperatorList=s,l.Mainleveldiv[i].OperatorDataList=s),l.Mainleveldiv[i].OperatorId="",l.Mainleveldiv[i].multiselector="",l.Mainleveldiv[i].TextTypeField="",l.Mainleveldiv[i].selectorField="",l.Mainleveldiv[i].DataType=l.FieldsDropDownList.filter(e=>e.COLUMN_ID==a)[0].DATA_TYPE,"category"==t?(l.Mainleveldiv[i].DDlType=l.GetDDLTicketCategoryByCompanyId,l.Mainleveldiv[i].selectedValue=""):"client"==t?(l.Mainleveldiv[i].DDlType=l.GetCompanyClientByCompanyId,l.Mainleveldiv[i].selectedValue=""):"Created By"==t?(l.Mainleveldiv[i].DDlType=l.GetCompanyUserByCompanyId,l.Mainleveldiv[i].selectedValue=""):"product"==t?(l.Mainleveldiv[i].DDlType=l.SlaProductList,l.Mainleveldiv[i].selectedValue=""):"department"==t?(l.Mainleveldiv[i].DDlType=l.GetDepartmentListbyCompanyForClient,l.Mainleveldiv[i].selectedValue=""):"Is Field Service"==t?(l.Mainleveldiv[i].DDlType=l.YesorNoList,l.Mainleveldiv[i].selectedValue="IsFieldService"):"Ticket Area"==t?(l.Mainleveldiv[i].DDlType=l.GetDDLTicketZoneByCompanyId,l.Mainleveldiv[i].selectedValue=""):"TypeofWork"==t?(l.Mainleveldiv[i].DDlType=l.GetWorkTypeList,l.Mainleveldiv[i].selectedValue=""):l.DDlType=""):("category "==e.target.selectedOptions[0].innerHTML||"client "==e.target.selectedOptions[0].innerHTML||"Created By "==e.target.selectedOptions[0].innerHTML||"product "==e.target.selectedOptions[0].innerHTML||"department "==e.target.selectedOptions[0].innerHTML||"Is Field Service "==e.target.selectedOptions[0].innerHTML||"Ticket Area "==e.target.selectedOptions[0].innerHTML||"Type Of Work "==e.target.selectedOptions[0].innerHTML?(l.OperatorListData.forEach(e=>{"="==e.OPERATOR_EXPRESSION&&"bigint"==e.OPERATION_DATA_TYPE&&s.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION}),"IN"!=e.OPERATOR_EXPRESSION&&"NOT IN"!=e.OPERATOR_EXPRESSION||"nvarchar"!=e.OPERATION_DATA_TYPE||s.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION})}),l.OperatorList=s,l.Mainleveldiv[i].OperatorDataList=s):(l.OperatorListData.forEach(e=>{"nvarchar"==e.OPERATION_DATA_TYPE&&s.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION})}),l.OperatorList=s,l.Mainleveldiv[i].OperatorDataList=s),l.Mainleveldiv[i].OperatorId="",l.Mainleveldiv[i].multiselector="",l.Mainleveldiv[i].TextTypeField="",l.Mainleveldiv[i].selectorField="",l.Mainleveldiv[i].DataType=l.FieldsDropDownList.filter(t=>t.COLUMN_ID==e.target.value)[0].DATA_TYPE,"category "==e.target.selectedOptions[0].innerHTML?(l.Mainleveldiv[i].DDlType=l.GetDDLTicketCategoryByCompanyId,l.Mainleveldiv[i].selectedValue=""):"client "==e.target.selectedOptions[0].innerHTML?(l.Mainleveldiv[i].DDlType=l.GetCompanyClientByCompanyId,l.Mainleveldiv[i].selectedValue=""):"Created By "==e.target.selectedOptions[0].innerHTML?(l.Mainleveldiv[i].DDlType=l.GetCompanyUserByCompanyId,l.Mainleveldiv[i].selectedValue=""):"product "==e.target.selectedOptions[0].innerHTML?(l.Mainleveldiv[i].DDlType=l.SlaProductList,l.Mainleveldiv[i].selectedValue=""):"department "==e.target.selectedOptions[0].innerHTML?(l.Mainleveldiv[i].DDlType=l.GetDepartmentListbyCompanyForClient,l.Mainleveldiv[i].selectedValue=""):"Is Field Service "==e.target.selectedOptions[0].innerHTML?(l.Mainleveldiv[i].DDlType=l.YesorNoList,l.Mainleveldiv[i].selectedValue="IsFieldService"):"Ticket Area "==e.target.selectedOptions[0].innerHTML?(l.Mainleveldiv[i].DDlType=l.GetDDLTicketZoneByCompanyId,l.Mainleveldiv[i].selectedValue=""):"Type Of Work "==e.target.selectedOptions[0].innerHTML?(l.Mainleveldiv[i].DDlType=l.GetWorkTypeList,l.Mainleveldiv[i].selectedValue=""):l.DDlType=""),l.SetCondition()},GetOperatorData:async function(){var e=this,t="fieldId=";await s["a"].GetOperators(t).then((function(t){e.OperatorListData=t.data}))},SetFieldValueType(e,t){var a=this;" Equal To"==e.target.selectedOptions[0].innerHTML?a.Mainleveldiv[t].selectType="select":" Equal to one of multiple possible values"!=e.target.selectedOptions[0].innerHTML&&" Not Equal to one of multiple possible values"!=e.target.selectedOptions[0].innerHTML||(a.Mainleveldiv[t].selectType="multiselect"),a.SetCondition(),a.isShowCheckOffDays=!1;var i=a.OperatorList.filter(t=>t.value==e.target.value)[0];"datetime"!=i.OPERATION_DATA_TYPE||"is week end"!=i.name.toLowerCase()&&"is off day"!=i.name.toLowerCase()&&"is working day"!=i.name.toLowerCase()||(a.isShowCheckOffDays=!0)},AddMoreData(e,t){var a=this;a.Mainleveldiv[a.Mainleveldiv.length-1].condition=t,"or"==t||"and"==t?(a.Mainleveldiv.push({RuleTarget:"",OperatorId:"",multiselector:"",selectorField:"",TextTypeField:"",DataType:"nvarchar",DDlType:"",selectType:"multiselect",condition:"",selectedValue:"",OperatorDataList:""}),a.HdnClass="",a.isShowAddMoreButton=!0):a.isShowAddMoreButton=e},SetCondition(){var e=this;e.RuleCondition="",e.RuleDataBaseCondition="",e.Mainleveldiv.forEach(t=>{var a={},i={};a=e.FieldsDropDownList.filter(e=>e.COLUMN_ID==t.RuleTarget);var l="";if(0!=a.length&&""!=a.length){l=a[0].DISPLAY_NAME;var s=a[0].COLUMN_NAME,n=a[0].CONTROL_DATA_BIND_TYPE}i=e.OperatorList.filter(e=>e.value==t.OperatorId);var r="";if(0!=i.length&&""!=i.length){r=i[0].name;var o=i[0].Expression}var d="",c="";if(null!=t.multiselector&&""!=t.multiselector){t.multiselector.forEach((e,t)=>{0==t?(d=e.text,c=e.value):(d+=","+e.text,c+=","+e.value)});var u=d,p=c;e.RuleCondition+=`( ${l} ${r} ${u}) ${t.condition} `,e.RuleDataBaseCondition+=`( ${n+"."+s} ${o} (${p})) ${t.condition} `}else if(null!=t.TextTypeField&&""!=t.TextTypeField)e.RuleCondition+=`( ${l} ${r} ${t.TextTypeField}) ${t.condition} `,e.RuleDataBaseCondition+=`( ${n} ${o} (${"'"+t.TextTypeField+"'"})) ${t.condition} `;else if(null!=t.selectorField&&""!=t.selectorField){var v={};v=t.DDlType.filter(e=>e.value==t.selectorField);var m=v[0].text,T=v[0].value;e.RuleCondition+=`( ${l} ${r} ${m}) ${t.condition} `,e.RuleDataBaseCondition+=`( ${n+"."+s} ${o} (${T})) ${t.condition} `}else e.RuleCondition+=`( ${l} ${r}) `})},GetEditCondition(){var e=this,t=e.TargetConditionData;null!=t&&""!=t&&t.forEach((t,a)=>{a>0&&(e.Mainleveldiv.push({RuleTarget:"",OperatorId:"",multiselector:"",selectorField:"",TextTypeField:"",DataType:"nvarchar",DDlType:"",selectType:"multiselect",condition:"",selectedValue:"",OperatorDataList:""}),e.HdnClass="");var i={};i=e.FieldsDropDownList.filter(e=>e.COLUMN_ID==t.RuleTarget);var l="";if(0!=i.length&&""!=i.length){l=i[0].DISPLAY_NAME;e.GetOperatorDataList(null,l,t.RuleTarget,a),e.Mainleveldiv[a].RuleTarget=t.RuleTarget,e.Mainleveldiv[a].OperatorId=t.OperatorId,e.Mainleveldiv[a].multiselector=t.multiselector,e.Mainleveldiv[a].selectorField=t.selectorField,e.Mainleveldiv[a].TextTypeField=t.TextTypeField,e.Mainleveldiv[a].DataType=t.DataType,e.Mainleveldiv[a].DDlType=t.DDlType,e.Mainleveldiv[a].selectType=t.selectType,e.Mainleveldiv[a].condition=t.condition,e.Mainleveldiv[a].selectedValue=t.selectedValue,e.Mainleveldiv[a].OperatorDataList=t.OperatorDataList}e.SetCondition()})},DeleteUser:function(e){var t=this;t.Mainleveldiv.splice(e,1),t.Mainleveldiv[t.Mainleveldiv.length-1].condition="",t.SetCondition()},AlreadyExist:function(e,t,a,i){var l=this;l.SetCondition()},Close(){this.$emit("close")},btnSaveTarget(){var e=this;e.$refs.ManageRuleEngineTarget.validate().then(t=>{if(t){var a=e.Mainleveldiv,i=e.RuleCondition,l=e.RuleDataBaseCondition,s=void 0==e.TargetIndex?0:e.TargetIndex;e.$emit("GetformFields",a,i,l,s),e.Close()}})}}},r=n,o=a("2877"),d=Object(o["a"])(r,i,l,!1,null,null,null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0c1cda.js.map