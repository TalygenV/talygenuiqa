{"version":3,"sources":["webpack:///./src/views/Knowledgebase/CreateArticle.vue","webpack:///src/views/Knowledgebase/CreateArticle.vue","webpack:///./src/views/Knowledgebase/CreateArticle.vue?9a8a","webpack:///./src/views/Knowledgebase/CreateArticle.vue?0ce8"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","_v","_s","$t","ref","buttons","FormSchema","on","onSubmit","scopedSlots","_u","key","fn","data","class","error","editor","model","value","articleKeywords","callback","$$v","expression","isPreviewArticle","popupClose","ArticleModel","ArticleTitle","StatusId","CategoryId","AssignTo","SortDescription","Author","domProps","Description","_e","staticRenderFns","CLASSIC_EDITOR","isAllowedFileType","layoutType","Data","astype","label","name","placeholder","validationRules","max","config","options","showLabel","FieldIndex","maxSize","showSelectedFiles","onDeleteSelectedFiles","onChange","GetBase64String","showAddIcon","onAddButtonClick","multiple","onChangeRadio","settings","isInSlot","visibility","type","text","onClick","Preview","Close","fileName","file","ArticleId","allowedPerFileSizeInMb","disallowFileTypes","VisibleToClient","fileData","ModuleName","Type","SubModuleCode","checkFileValidSize","checkFileValidExt","fileExt","fileSize","created","vm","GetStatus","GetCategory","GetUsersByCompanyId","$route","params","id","GetArticleById","user_id","GetUserInfo","ID","mounted","GetConfigurationValueByKey","methods","setEditorContent","newContent","content","onReady","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","mediaIcon","document","getElementsByClassName","remove","divToRemove","querySelector","ArrowIcon","item","$delete","e","field","target","dataset","url","DataServices","GetDDLData","then","response","DATA","length","StatusData","forEach","Obj","push","$refs","AddForm","UpdateKeyValue","GetCategoryDDL","result","CategortData","TICKET_ARTICLE_CATEGORY_PARENT","obj","TICKET_ARTICLE_CATEGORY_NAME","TICKET_ARTICLE_CATEGORY_ID","JSON","parse","USERNAME","USER_ID","FrontSiteUrlHostName","list","$","each","proxy","index1","coreConfigKey","configDataValue","fileTypeList","AttachmentDisallowedFileType","reject","assignList","assignId","filter","f","pattern","replace","statusList","statusId","categoryList","categoryId","ths","status","ArticleData","TICKET_ARTICLE_TITLE","TICKET_ARTICLE_ASSIGNED_TO","TICKET_ARTICLE_KEYWORDS","STATUS_ID","VISIBLE_TO_CLIENT","attachmentName","ATTACHMENT_NAME","attachmentPath","ATTACHMENTFULLPATH","ATTACHMENT_DESC","Size","Extension","fileObj","attachement_mime","contentType","ContentType","setFile","files","FileName","SizeToMb","bytes","vueObj","sizeInBuytes","parseInt","byesInMB","evt","reader","FileReader","onload","theFile","binaryData","base64StringEncoded","window","btoa","n","lastIndexOf","extensionName","substring","attachemnetMime","size","base64String","readAsBinaryString","ex","$router","formfields","val","datafields","extArray","split","includes","ShowAlert","fileSizeInMB","Title","Category","undefined","formData","stringify","SaveUpdateArticle","component"],"mappings":"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","file":"js/chunk-2d0b2565.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"main-content\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(\" \"+_vm._s(_vm.$t('AddArticle')))])])])]),_c('div',{staticClass:\"border p-3\"},[_c('dynamic-form',{ref:\"AddForm\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.onSubmit},scopedSlots:_vm._u([{key:\"tgslot-Description\",fn:function({ data }){return [_c('ckeditor',{class:{ 'is-invalid': data.error != '' },attrs:{\"editor\":_vm.editor},model:{value:(_vm.articleKeywords),callback:function ($$v) {_vm.articleKeywords=$$v},expression:\"articleKeywords\"}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(data.error))])]}}])})],1),_c('transition',{attrs:{\"name\":\"modal\"}},[_c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),(_vm.isPreviewArticle)?_c('div',{staticClass:\"modal d-block dialog\"},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full\"},[_c('h4',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t('Preview')))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.popupClose}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"card mb-3 probx\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t('Title'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.ArticleModel.ArticleTitle)+\" \")])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t('Status'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.ArticleModel.StatusId))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t('Category'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.ArticleModel.CategoryId))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t('AssignTo'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.ArticleModel.AssignTo))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t('ShortDescription'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.ArticleModel.SortDescription))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t('Author'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.ArticleModel.Author))])])]),_c('div',{staticClass:\"col-md-12 col-lg-12\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t('Description'))+\":\")]),_c('span',{staticClass:\"description-text\",domProps:{\"innerHTML\":_vm._s(_vm.ArticleModel.Description)}})])])])])])])])])])]):_vm._e()],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"main-content\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 padding-t_8\">\r\n                <div class=\"theme-primary partition-full\">\r\n                    <span class=\"p-name text-white\"> {{ $t('AddArticle') }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"border p-3\">\r\n            <dynamic-form lang=\"en\" ref=\"AddForm\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"onSubmit\">\r\n                <template v-slot:tgslot-Description=\"{ data }\">\r\n                    <ckeditor :editor=\"editor\" v-model=\"articleKeywords\" :class=\"{ 'is-invalid': data.error != '' }\">\r\n                    </ckeditor>\r\n                    <span class=\"invalid-feedback\">{{ data.error }}</span>\r\n                </template>\r\n            </dynamic-form>\r\n        </div>\r\n\r\n        <transition name=\"modal\">\r\n            <div class=\"my-popups\">\r\n                <loader :is-visible=\"isLoading\"></loader>\r\n                <div class=\"modal d-block dialog\" v-if=\"isPreviewArticle\">\r\n                    <div class=\"modal-dialog\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header theme-primary partition-full\">\r\n                                <h4 class=\"modal-title\">{{ $t('Preview') }}</h4>\r\n                                <button type=\"button\" class=\"close\" v-on:click=\"popupClose\">\r\n                                    <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div class=\"modal-body\">\r\n                                <div class=\"card mb-3 probx\">\r\n                                    <div class=\"card-body\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-4 col-lg-4\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label><b>{{ $t('Title')\r\n                                                    }}:</b> {{ ArticleModel.ArticleTitle }}\r\n                                                    </label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-4 col-lg-4\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label><b>{{ $t('Status') }}:</b> {{ ArticleModel.StatusId }}</label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-4 col-lg-4\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label><b>{{ $t('Category')\r\n                                                    }}:</b> {{ ArticleModel.CategoryId }}</label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-4 col-lg-4\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label><b>{{ $t('AssignTo')\r\n                                                    }}:</b> {{ ArticleModel.AssignTo }}</label>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div class=\"col-md-4 col-lg-4\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label><b>{{\r\n                                                        $t('ShortDescription') }}:</b> {{ ArticleModel.SortDescription\r\n                                                    }}</label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-4 col-lg-4\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label><b>{{\r\n                                                        $t('Author') }}:</b> {{ ArticleModel.Author\r\n                                                    }}</label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-12 col-lg-12\">\r\n                                                <div class=\"form-group\">\r\n                                                    <label><b>{{ $t('Description') }}:</b>\r\n                                                        <span class=\"description-text\"\r\n                                                            v-html=\"ArticleModel.Description\"></span>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n    </section>\r\n</template>\r\n<script>\r\nimport DataServices from \"@/services/DataService\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            editor: this.CLASSIC_EDITOR,\r\n            isLoading: false,\r\n            isPreviewArticle: false,\r\n            articleKeywords: '',\r\n            isAllowedFileType: null,\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"triple\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('Title'),\r\n                            name: \"Title\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('Title'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Category'),\r\n                            name: \"Category\",\r\n                            value: \"\",\r\n                            config: {\r\n                                options: []\r\n                            },\r\n                            placeholder: this.$t('Category'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('AssignTo'),\r\n                            name: \"AssignTo\",\r\n                            value: \"\",\r\n                            config: {\r\n                                options: []\r\n                            },\r\n                            placeholder: this.$t('Category'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"FileField\",\r\n                            showLabel: true,\r\n                            label: this.$t('ArticleAttachment'),\r\n                            name: \"ArticleAttachment\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: false,\r\n                            FieldIndex: 0,\r\n                            config: {\r\n                                maxSize: 5,\r\n                                // reject: this.AttachmentDisallowedFileType(this.disallowFileTypes),\r\n                                showSelectedFiles: [],\r\n                                onDeleteSelectedFiles: this.onDeleteSelectedFiles,\r\n                                onChange: this.GetBase64String,\r\n                                showAddIcon: false,\r\n                                onAddButtonClick: '',\r\n                                multiple: false\r\n                            },\r\n                        },\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('ShortDescription'),\r\n                            name: \"SortDescription\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('ShortDescription'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"RadioField\",\r\n                            label: this.$t('Status'),\r\n                            name: \"Status\",\r\n                            value: \"1105\",\r\n                            config: {\r\n                                options: [],\r\n                                onChange: this.onChangeRadio\r\n                            },\r\n                            placeholder: this.$t('SelectStatus'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"SlotField\",\r\n                            label: this.$t('Description'),\r\n                            name: \"Description\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            settings: {\r\n                                isInSlot: true\r\n                            },\r\n                            visibility: true,\r\n                            validationRules: { \"required\": true, max: 4000 },\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"toggleField\",\r\n                            label: this.$t('VisibleToClient'),\r\n                            name: \"VisibleToClient\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: \"\",\r\n                        },\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-info preview\",\r\n                    text: \"<i class='fa fa-eye pr-2'></i> Preview\",\r\n                    onClick: this.Preview\r\n                },\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success save\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Save\",\r\n                    //onClick: this.onSubmit\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i> Cancel\",\r\n                    onClick: this.Close\r\n                }\r\n            ],\r\n            fileName: null,\r\n            file: null,\r\n            ArticleId: 0,\r\n            allowedPerFileSizeInMb: 0,\r\n            disallowFileTypes: '',\r\n            ArticleModel: {\r\n                ArticleId: 0,\r\n                ArticleTitle: '',\r\n                CategoryId: '',\r\n                StatusId: '',\r\n                Description: '',\r\n                SortDescription: '',\r\n                AssignTo: '',\r\n                VisibleToClient: '',\r\n                fileData: [],\r\n                ModuleName: '',\r\n                Type: '',\r\n                SubModuleCode: '',\r\n                Author: ''\r\n            },\r\n            StatusId: null,\r\n            checkFileValidSize: false,\r\n            checkFileValidExt: false,\r\n            fileExt: '',\r\n            fileSize: '',\r\n\r\n        }\r\n    },\r\n    created: function () {\r\n        //debugger;\r\n        var vm = this;\r\n        this.GetStatus();\r\n        this.GetCategory();\r\n        this.GetUsersByCompanyId();\r\n        // this.GetConfigurationValueByKey();\r\n        if (this.$route.params.id > 0) {\r\n            this.ArticleId = this.$route.params.id;\r\n            this.GetArticleById(this.$route.params.id);\r\n        }\r\n        var user_id = this.GetUserInfo.ID;\r\n        vm.FormSchema[0].Data[2].value = user_id;\r\n    },\r\n    mounted: function(){\r\n        var vm = this;\r\n        vm.GetConfigurationValueByKey();\r\n    },\r\n    methods: {\r\n        setEditorContent(newContent) {\r\n           //debugger\r\n            this.data.content = newContent;\r\n        },\r\n\r\n        onReady(editor) {\r\n            editor.ui.getEditableElement().parentElement.insertBefore(\r\n                editor.ui.view.toolbar.element,\r\n                editor.ui.getEditableElement()\r\n            );\r\n            let mediaIcon = document.getElementsByClassName('ck-dropdown')[2]\r\n            mediaIcon.remove();\r\n            var divToRemove = document.querySelector('.ck-file-dialog-button');\r\n            divToRemove.remove();\r\n            let ArrowIcon = document.getElementsByClassName('ck ck-button ck-off')[8]\r\n            ArrowIcon.remove();\r\n        },\r\n        onDeleteSelectedFiles: function (item) {\r\n            this.$delete(this.FormSchema[0].Data[3].config, 'showSelectedFiles');\r\n        },\r\n        onChangeRadio: function (e, field) {\r\n            var vm = this;\r\n            vm.StatusId = e.target.dataset.value;\r\n        },\r\n        GetStatus: function () {\r\n            var url = `type=KnowledgeBase`\r\n            DataServices.GetDDLData(url).then(response => {\r\n                if (response.data.DATA.length > 0) {\r\n                    var StatusData = response.data.DATA;\r\n                    ////debugger\r\n                    StatusData.forEach(element => {\r\n                        var Obj = {\r\n                            name: element.name,\r\n                            value: element.value\r\n                        }\r\n                        this.FormSchema[0].Data[5].config.options.push(Obj);\r\n                        this.$refs.AddForm.UpdateKeyValue();\r\n                    });\r\n\r\n\r\n                }\r\n            })\r\n        },\r\n        GetCategory: function () {\r\n            var vm = this;\r\n            DataServices.GetCategoryDDL().then(response => {\r\n                if (response.data.result.length > 0) {\r\n                    var CategortData = response.data.result;\r\n                    CategortData.forEach(element => {\r\n                        if (element.TICKET_ARTICLE_CATEGORY_PARENT == null) {\r\n                            let obj = {\r\n                                name: element.TICKET_ARTICLE_CATEGORY_NAME,\r\n                                value: element.TICKET_ARTICLE_CATEGORY_ID\r\n                            }\r\n                            vm.FormSchema[0].Data[1].config.options.push(obj);\r\n                            vm.$refs.AddForm.UpdateKeyValue();\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        GetUsersByCompanyId: function () {\r\n            var url = `moduleName=KnowledgeBase`;\r\n            DataServices.GetUsersByCompanyId(url).then(response => {\r\n                if (JSON.parse(response.data.result).length > 0) {\r\n                    var StatusData = JSON.parse(response.data.result);\r\n                    StatusData.forEach(element => {\r\n                        var Obj = {\r\n                            name: element.USERNAME,\r\n                            value: element.USER_ID\r\n                        }\r\n                        this.FormSchema[0].Data[2].config.options.push(Obj);\r\n                        this.$refs.AddForm.UpdateKeyValue();\r\n                    });\r\n\r\n\r\n                }\r\n            })\r\n        },\r\n        GetConfigurationValueByKey: async function () {\r\n            var vm = this;\r\n            var url = `moduleName=KnowledgeBase`\r\n            await DataServices.FrontSiteUrlHostName(url).then(function (response) {\r\n               //debugger;\r\n                if (response.data.list.result.length > 0) {\r\n                    $.each(response.data.list.result, $.proxy(function (index1, item) {\r\n                        if (item.coreConfigKey == \"AttachmentFileSize\") {\r\n                            vm.allowedPerFileSizeInMb = item.configDataValue;\r\n                        }\r\n                        else if (item.coreConfigKey == \"AllowedFileTypes\") {\r\n                            vm.disallowFileTypes = item.configDataValue;\r\n                            let fileTypeList = vm.AttachmentDisallowedFileType(vm.disallowFileTypes);\r\n                            vm.FormSchema[0].Data[3].config.reject = fileTypeList;\r\n                        }\r\n                    }, this));\r\n                }\r\n            })\r\n        },\r\n        Preview: function () {\r\n            var vm = this;\r\n           //debugger;\r\n            vm.ArticleModel.ArticleTitle = vm.FormSchema[0].Data[0].value;\r\n            vm.ArticleModel.Description = vm.articleKeywords;\r\n            vm.ArticleModel.SortDescription = vm.FormSchema[0].Data[4].value;\r\n\r\n\r\n            var assignList = vm.FormSchema[0].Data[2].config.options;\r\n            if (assignList.length > 0) {\r\n                var assignId = vm.FormSchema[0].Data[2].value;\r\n                if (assignId != \"\") {\r\n                    var obj = assignList.filter(f => f.value == assignId);\r\n                    vm.ArticleModel.AssignTo = obj[0].name;\r\n                    let pattern = /\\s*\\(.*?\\)/;\r\n                    let result = vm.ArticleModel.AssignTo.replace(pattern, '');\r\n                    vm.ArticleModel.Author = result;\r\n                }\r\n                else {\r\n                    vm.ArticleModel.AssignTo = '';\r\n                    vm.ArticleModel.Author = '';\r\n                }\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n            var statusList = vm.FormSchema[0].Data[5].config.options;\r\n            if (statusList.length > 0) {\r\n                var statusId = vm.FormSchema[0].Data[5].value;\r\n                if (statusId != \"\") {\r\n                    var obj = statusList.filter(f => f.value == statusId);\r\n                    vm.ArticleModel.StatusId = obj[0].name;\r\n                }\r\n                else { vm.ArticleModel.StatusId = ''; }\r\n\r\n            }\r\n            var categoryList = vm.FormSchema[0].Data[1].config.options;\r\n            if (categoryList.length > 0) {\r\n                var categoryId = vm.FormSchema[0].Data[1].value;\r\n                if (categoryId != \"\") {\r\n                    var obj = categoryList.filter(f => f.value == categoryId);\r\n                    vm.ArticleModel.CategoryId = obj[0].name;\r\n                }\r\n                else { vm.ArticleModel.CategoryId = ''; }\r\n\r\n            }\r\n            vm.isPreviewArticle = true;\r\n        },\r\n        popupClose: function () {\r\n            var vm = this;\r\n            vm.isPreviewArticle = false;\r\n        },\r\n        GetArticleById: async function (ths) {\r\n            var vm = this;\r\n            var url = `articleId=${ths}`\r\n            await DataServices.GetArticleById(url).then(function (response) {\r\n                if (response.data.status == 'Success') {\r\n                   //debugger\r\n                    var ArticleData = JSON.parse(response.data.result);\r\n                    vm.FormSchema[0].Data[0].value = ArticleData[0].TICKET_ARTICLE_TITLE;\r\n                    vm.FormSchema[0].Data[1].value = ArticleData[0].TICKET_ARTICLE_CATEGORY_ID;\r\n                    vm.FormSchema[0].Data[2].value = ArticleData[0].TICKET_ARTICLE_ASSIGNED_TO;\r\n                    vm.articleKeywords = ArticleData[0].TICKET_ARTICLE_TITLE;\r\n                    vm.FormSchema[0].Data[4].value = ArticleData[0].TICKET_ARTICLE_KEYWORDS;\r\n                    vm.FormSchema[0].Data[5].value = ArticleData[0].STATUS_ID;\r\n                    vm.FormSchema[2].Data[0].value = ArticleData[0].VISIBLE_TO_CLIENT;\r\n                    var Obj = {\r\n                        attachmentName: ArticleData[0].ATTACHMENT_NAME,\r\n                        attachmentPath: ArticleData[0].ATTACHMENTFULLPATH\r\n                    };\r\n                    vm.FormSchema[0].Data[3].config.showSelectedFiles.push(Obj);\r\n                }\r\n                vm.fileSize = JSON.parse(ArticleData[0].ATTACHMENT_DESC).Size;\r\n                vm.fileExt = '.' + JSON.parse(ArticleData[0].ATTACHMENT_DESC).Extension;\r\n                var fileObj = {\r\n                    attachement_mime: ArticleData[0].ATTACHMENT_DESC,\r\n                    fileName: ArticleData[0].ATTACHMENT_NAME,\r\n                    fileSize: vm.fileSize,\r\n                    contentType: JSON.parse(ArticleData[0].ATTACHMENT_DESC).ContentType\r\n                };\r\n                vm.ArticleModel.fileData.push(fileObj);\r\n            })\r\n        },\r\n        setFile: function (e) {\r\n            var vm = this;\r\n            vm.file = e.target.files[0];\r\n            vm.FileName = e.target.files[0].name;\r\n        },\r\n        SizeToMb: function (bytes) {\r\n            // //debugger;\r\n            var vueObj = this;\r\n            var sizeInBuytes = parseInt(vueObj.allowedPerFileSizeInMb, 10) * 1048576;\r\n            if (bytes > sizeInBuytes) {\r\n                return -1;\r\n            }\r\n            else {\r\n                var byesInMB = (bytes / 1024) / 1024;\r\n                return byesInMB;\r\n            }\r\n        },\r\n        GetBase64String: function (evt) {\r\n            try {\r\n                var vm = this;\r\n                vm.fileData = [];\r\n                vm.fileExt = '';\r\n                var f = evt.target.files[0];\r\n                var reader = new FileReader();\r\n                reader.onload = (function (theFile) {\r\n                    return function (e) {\r\n                        ////debugger                    \r\n                        var binaryData = e.target.result;\r\n                        var base64StringEncoded = window.btoa(binaryData);\r\n                        var fileName = f.name;\r\n                        vm.fileName = fileName;\r\n                        var n = fileName.lastIndexOf(\".\");\r\n                        var extensionName = fileName.substring(n + 1, fileName.length);\r\n                        vm.fileExt += \".\" + extensionName;\r\n                        var attachemnetMime = '{\"ContentType\":\"' + f.type + '\",\"Size\":\"' + f.size + '\",\"Extension\":\"' + extensionName + '\"}';\r\n                        var fileSize = f.size;\r\n                        vm.fileSize = fileSize;\r\n                        var fileObj = {\r\n                            attachement_mime: attachemnetMime,\r\n                            fileName: fileName,\r\n                            base64String: base64StringEncoded,\r\n                            fileSize: f.size,\r\n                            contentType: f.type\r\n                        };\r\n\r\n                        vm.fileData.push(fileObj);\r\n                    };\r\n                })(f);\r\n                reader.readAsBinaryString(f);\r\n            }\r\n            catch (ex) {\r\n            }\r\n        },\r\n        Close: function () {\r\n            this.$router.push({ name: 'KnowledgebaseCAUser' });\r\n        },\r\n        onSubmit(formfields, val) {\r\n            //debugger;\r\n            var vm = this;\r\n            vm.isLoading = true;\r\n            var datafields = formfields;\r\n            var extArray = vm.disallowFileTypes.split(',');\r\n            if (extArray.includes(vm.fileExt)) {\r\n                vm.checkFileValidExt = false;\r\n                vm.ShowAlert(vm.$t(\"InvalidFileUploadMsg\", vm.fileName, vm.disallowFileTypes), \"warning\", true, vm.$t(\"Alert\"));\r\n            }\r\n            else {\r\n                vm.checkFileValidExt = true;\r\n            }\r\n            var fileSizeInMB = this.SizeToMb(vm.fileSize);\r\n            if (fileSizeInMB < parseInt(vm.allowedPerFileSizeInMb, 10)) {\r\n                vm.checkFileValidSize = true;\r\n            }\r\n            else {\r\n                vm.checkFileValidSize = false;\r\n                vm.ShowAlert(vm.$t(\"ExceedAllowedSize\", vm.fileName, vm.allowedPerFileSizeInMb), \"warning\", true, vm.$t(\"Alert\"));\r\n            }\r\n            if (vm.checkFileValidExt == true && vm.checkFileValidSize == true) {\r\n                vm.ArticleModel.ArticleId = vm.ArticleId;\r\n                vm.ArticleModel.ArticleTitle = datafields.Title;\r\n                vm.ArticleModel.CategoryId = datafields.Category;\r\n                vm.ArticleModel.StatusId = vm.StatusId == null ? vm.FormSchema[0].Data[5].value : vm.StatusId;\r\n                vm.ArticleModel.Description = datafields.Description;\r\n                vm.ArticleModel.SortDescription = datafields.SortDescription;\r\n                vm.ArticleModel.AssignTo = datafields.AssignTo;\r\n                vm.ArticleModel.VisibleToClient = datafields.VisibleToClient == true ? 1 : 0;\r\n                vm.ArticleModel.fileData = vm.fileData == undefined ? vm.ArticleModel.fileData : vm.fileData;\r\n                vm.ArticleModel.ModuleName = 'Ticketing';\r\n                vm.ArticleModel.Type = vm.$route.params.id > 0 ? 'UPDATE' : 'ADD'\r\n                vm.ArticleModel.SubModuleCode = 'KnowledgeBase';\r\n                var formData = JSON.stringify(vm.ArticleModel);\r\n                DataServices.SaveUpdateArticle(formData).then((response) => {\r\n                    if (response.data.status == \"Success\") {\r\n                        if ((response.data.result > 0 && response.data.result != 3) && vm.ArticleModel.Type == 'ADD') {\r\n                            vm.ShowAlert(vm.$t('AddedSuccess', [vm.$t('Article')]), \"Success\", true, vm.$t('Alert'));\r\n                            vm.$router.push({ name: 'KnowledgebaseCAUser' });\r\n                        }\r\n                        else if (response.data.result == 3 && vm.ArticleModel.Type == 'ADD') {\r\n                            vm.ShowAlert(vm.$t(\"AlreadyExists\", [vm.$t(\"Article\")]), \"failure\", true, vm.$t(\"Alert\"));\r\n                        }\r\n                        else if (response.data.result > 0 && vm.ArticleModel.Type == 'UPDATE') {\r\n                            vm.ShowAlert(vm.$t(\"UpdatedSuccess\", [vm.$t(\"Article\")]), \"Success\", true, vm.$t(\"Alert\"));\r\n                            vm.$router.push({ name: 'KnowledgebaseCAUser' });\r\n                        }\r\n                        else if (response.data.result == 3 && vm.ArticleModel.Type == 'UPDATE') {\r\n                            vm.ShowAlert(vm.$t(\"UpdatedSuccess\", [vm.$t(\"Article\")]), \"Success\", true, vm.$t(\"Alert\"));\r\n                            vm.$router.push({ name: 'KnowledgebaseCAUser' });\r\n                        }\r\n                    }\r\n                    vm.isLoading = false;\r\n                })\r\n            }\r\n            else {\r\n                vm.isLoading = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateArticle.vue?vue&type=template&id=423169ec&\"\nimport script from \"./CreateArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateArticle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}