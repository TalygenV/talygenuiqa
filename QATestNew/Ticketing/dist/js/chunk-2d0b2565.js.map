{"version":3,"sources":["webpack:///./src/views/Knowledgebase/CreateArticle.vue","webpack:///src/views/Knowledgebase/CreateArticle.vue","webpack:///./src/views/Knowledgebase/CreateArticle.vue?9a8a","webpack:///./src/views/Knowledgebase/CreateArticle.vue?0ce8"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","_v","_s","$t","ref","buttons","FormSchema","on","onSubmit","scopedSlots","_u","key","fn","data","class","error","editor","model","value","articleKeywords","callback","$$v","expression","staticRenderFns","CLASSIC_EDITOR","isAllowedFileType","layoutType","Data","astype","label","name","placeholder","validationRules","max","config","options","showLabel","FieldIndex","maxSize","showSelectedFiles","onDeleteSelectedFiles","onChange","GetBase64String","showAddIcon","onAddButtonClick","multiple","onChangeRadio","settings","isInSlot","visibility","type","text","onClick","Preview","Close","fileName","file","ArticleId","allowedPerFileSizeInMb","disallowFileTypes","ArticleModel","ArticleTitle","CategoryId","StatusId","Description","SortDescription","AssignTo","VisibleToClient","fileData","ModuleName","Type","SubModuleCode","checkFileValidSize","checkFileValidExt","fileExt","fileSize","created","vm","GetStatus","GetCategory","GetUsersByCompanyId","GetConfigurationValueByKey","$route","params","id","GetArticleById","user_id","GetUserInfo","ID","methods","setEditorContent","newContent","content","onReady","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","mediaIcon","document","getElementsByClassName","remove","divToRemove","querySelector","ArrowIcon","item","$delete","e","field","target","dataset","url","DataServices","GetDDLData","then","response","DATA","length","StatusData","forEach","Obj","push","$refs","AddForm","UpdateKeyValue","GetCategoryDDL","result","CategortData","TICKET_ARTICLE_CATEGORY_PARENT","obj","TICKET_ARTICLE_CATEGORY_NAME","TICKET_ARTICLE_CATEGORY_ID","JSON","parse","USERNAME","USER_ID","FrontSiteUrlHostName","list","$","each","proxy","index1","coreConfigKey","configDataValue","fileTypeList","AttachmentDisallowedFileType","reject","$router","ths","status","ArticleData","TICKET_ARTICLE_TITLE","TICKET_ARTICLE_ASSIGNED_TO","TICKET_ARTICLE_KEYWORDS","STATUS_ID","VISIBLE_TO_CLIENT","attachmentName","ATTACHMENT_NAME","attachmentPath","ATTACHMENTFULLPATH","ATTACHMENT_DESC","Size","Extension","fileObj","attachement_mime","contentType","ContentType","setFile","files","FileName","SizeToMb","bytes","vueObj","sizeInBuytes","parseInt","byesInMB","evt","f","reader","FileReader","onload","theFile","binaryData","base64StringEncoded","window","btoa","n","lastIndexOf","extensionName","substring","attachemnetMime","size","base64String","readAsBinaryString","ex","formfields","val","datafields","extArray","split","includes","ShowAlert","fileSizeInMB","Title","Category","undefined","formData","stringify","SaveUpdateArticle","component"],"mappings":"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","file":"js/chunk-2d0b2565.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"main-content\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(\" \"+_vm._s(_vm.$t('AddArticle')))])])])]),_c('div',{staticClass:\"border p-3\"},[_c('dynamic-form',{ref:\"AddForm\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.onSubmit},scopedSlots:_vm._u([{key:\"tgslot-Description\",fn:function({ data }){return [_c('ckeditor',{class:{ 'is-invalid': data.error != '' },attrs:{\"editor\":_vm.editor},model:{value:(_vm.articleKeywords),callback:function ($$v) {_vm.articleKeywords=$$v},expression:\"articleKeywords\"}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(data.error))])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"main-content\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 padding-t_8\">\r\n                <div class=\"theme-primary partition-full\">\r\n                    <span class=\"p-name text-white\"> {{ $t('AddArticle') }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"border p-3\">\r\n            <dynamic-form lang=\"en\" ref=\"AddForm\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"onSubmit\">\r\n                <template v-slot:tgslot-Description=\"{ data }\">\r\n                    <ckeditor :editor=\"editor\" v-model=\"articleKeywords\" :class=\"{ 'is-invalid': data.error != '' }\">\r\n                    </ckeditor>\r\n                    <span class=\"invalid-feedback\">{{ data.error }}</span>\r\n                    <!-- <ckeditor :editor=\"editor\" @ready=\"onReady\" v-model=\"data.fieldInfo.value\"\r\n                        :class=\"{ 'is-invalid': data.error != '' }\"></ckeditor>\r\n                    <span class=\"invalid-feedback\">{{ data.error }}</span> -->\r\n                    <!-- <ckeditor :editor=\"editor\" @ready=\"onReady\" @input=\"updateCkeditorModel($event, data)\" :class=\"{ 'is-invalid': data.error != '' }\"></ckeditor>\r\n                    <span class=\"invalid-feedback\">{{ data.error }}</span>Â \r\n                    <input type=\"hidden\" v-model='data.fieldInfo.value' /> -->\r\n                </template>\r\n            </dynamic-form>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script>\r\nimport DataServices from \"@/services/DataService\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            editor: this.CLASSIC_EDITOR,\r\n            isLoading: false,\r\n            articleKeywords: '',\r\n            isAllowedFileType: null,\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"triple\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('Title'),\r\n                            name: \"Title\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('Title'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Category'),\r\n                            name: \"Category\",\r\n                            value: \"\",\r\n                            config: {\r\n                                options: []\r\n                            },\r\n                            placeholder: this.$t('Category'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('AssignTo'),\r\n                            name: \"AssignTo\",\r\n                            value: \"\",\r\n                            config: {\r\n                                options: []\r\n                            },\r\n                            placeholder: this.$t('Category'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"FileField\",\r\n                            showLabel: true,\r\n                            label: this.$t('ArticleAttachment'),\r\n                            name: \"ArticleAttachment\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: false,\r\n                            FieldIndex: 0,\r\n                            config: {\r\n                                maxSize: 10000,\r\n                                // reject: this.AttachmentDisallowedFileType(this.disallowFileTypes),\r\n                                showSelectedFiles: [],\r\n                                onDeleteSelectedFiles: this.onDeleteSelectedFiles,\r\n                                onChange: this.GetBase64String,\r\n                                showAddIcon: false,\r\n                                onAddButtonClick: '',\r\n                                multiple: false\r\n                            },\r\n                        },\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('ShortDescription'),\r\n                            name: \"SortDescription\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('ShortDescription'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"RadioField\",\r\n                            label: this.$t('Status'),\r\n                            name: \"Status\",\r\n                            value: \"1105\",\r\n                            config: {\r\n                                options: [],\r\n                                onChange: this.onChangeRadio\r\n                            },\r\n                            placeholder: this.$t('SelectStatus'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"SlotField\",\r\n                            label: this.$t('Description'),\r\n                            name: \"Description\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            settings: {\r\n                                isInSlot: true\r\n                            },\r\n                            visibility: true,\r\n                            validationRules: { \"required\": true, max: 4000 },\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"toggleField\",\r\n                            label: this.$t('VisibleToClient'),\r\n                            name: \"VisibleToClient\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: \"\",\r\n                        },\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-info save\",\r\n                    text: \"<i class='fa fa-eye pr-2'></i> Preview\",\r\n                    onClick: this.Preview\r\n                },\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success save\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Save\",\r\n                    //onClick: this.onSubmit\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i> Cancel\",\r\n                    onClick: this.Close\r\n                }\r\n            ],\r\n            fileName: null,\r\n            file: null,\r\n            ArticleId: 0,\r\n            allowedPerFileSizeInMb: 0,\r\n            disallowFileTypes: '',\r\n            ArticleModel: {\r\n                ArticleId: 0,\r\n                ArticleTitle: '',\r\n                CategoryId: '',\r\n                StatusId: '',\r\n                Description: '',\r\n                SortDescription: '',\r\n                AssignTo: '',\r\n                VisibleToClient: '',\r\n                fileData: [],\r\n                ModuleName: '',\r\n                Type: '',\r\n                SubModuleCode: ''\r\n            },\r\n            StatusId: null,\r\n            checkFileValidSize: false,\r\n            checkFileValidExt: false,\r\n            fileExt: '',\r\n            fileSize: '',\r\n\r\n        }\r\n    },\r\n    created: function () {\r\n        //debugger;\r\n        var vm = this;\r\n        this.GetStatus();\r\n        this.GetCategory();\r\n        this.GetUsersByCompanyId();\r\n        this.GetConfigurationValueByKey();\r\n        if (this.$route.params.id > 0) {\r\n            this.ArticleId = this.$route.params.id;\r\n            this.GetArticleById(this.$route.params.id);\r\n        }\r\n        var user_id = this.GetUserInfo.ID;\r\n        vm.FormSchema[0].Data[2].value = user_id;\r\n    },\r\n    methods: {\r\n        setEditorContent(newContent) {\r\n            debugger\r\n            this.data.content = newContent;\r\n        },\r\n\r\n        onReady(editor) {\r\n            editor.ui.getEditableElement().parentElement.insertBefore(\r\n                editor.ui.view.toolbar.element,\r\n                editor.ui.getEditableElement()\r\n            );\r\n            let mediaIcon = document.getElementsByClassName('ck-dropdown')[2]\r\n            mediaIcon.remove();\r\n            var divToRemove = document.querySelector('.ck-file-dialog-button');\r\n            divToRemove.remove();\r\n            let ArrowIcon = document.getElementsByClassName('ck ck-button ck-off')[8]\r\n            ArrowIcon.remove();\r\n        },\r\n        // updateCkeditorModel: function(e, x){\r\n\r\n        //     x.fieldInfo.value = e;\r\n        // },\r\n        onDeleteSelectedFiles: function (item) {\r\n            this.$delete(this.FormSchema[0].Data[3].config, 'showSelectedFiles');\r\n        },\r\n        onChangeRadio: function (e, field) {\r\n            var vm = this;\r\n            vm.StatusId = e.target.dataset.value;\r\n        },\r\n        GetStatus: function () {\r\n            var url = `type=KnowledgeBase`\r\n            DataServices.GetDDLData(url).then(response => {\r\n                if (response.data.DATA.length > 0) {\r\n                    var StatusData = response.data.DATA;\r\n                    // debugger\r\n                    StatusData.forEach(element => {\r\n                        var Obj = {\r\n                            name: element.name,\r\n                            value: element.value\r\n                        }\r\n                        this.FormSchema[0].Data[5].config.options.push(Obj);\r\n                        this.$refs.AddForm.UpdateKeyValue();\r\n                    });\r\n\r\n\r\n                }\r\n            })\r\n        },\r\n        GetCategory: function () {\r\n            var vm = this;\r\n            DataServices.GetCategoryDDL().then(response => {\r\n                if (response.data.result.length > 0) {\r\n                    var CategortData = response.data.result;\r\n                    CategortData.forEach(element => {\r\n                        if (element.TICKET_ARTICLE_CATEGORY_PARENT == null) {\r\n                            let obj = {\r\n                                name: element.TICKET_ARTICLE_CATEGORY_NAME,\r\n                                value: element.TICKET_ARTICLE_CATEGORY_ID\r\n                            }\r\n                            vm.FormSchema[0].Data[1].config.options.push(obj);\r\n                            vm.$refs.AddForm.UpdateKeyValue();\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        GetUsersByCompanyId: function () {\r\n            var url = `moduleName=KnowledgeBase`;\r\n            DataServices.GetUsersByCompanyId(url).then(response => {\r\n                if (JSON.parse(response.data.result).length > 0) {\r\n                    var StatusData = JSON.parse(response.data.result);\r\n                    StatusData.forEach(element => {\r\n                        var Obj = {\r\n                            name: element.USERNAME,\r\n                            value: element.USER_ID\r\n                        }\r\n                        this.FormSchema[0].Data[2].config.options.push(Obj);\r\n                        this.$refs.AddForm.UpdateKeyValue();\r\n                    });\r\n\r\n\r\n                }\r\n            })\r\n        },\r\n        GetConfigurationValueByKey: async function () {\r\n            var vm = this;\r\n            var url = `moduleName=KnowledgeBase`\r\n            await DataServices.FrontSiteUrlHostName(url).then(function (response) {\r\n                if (response.data.list.result.length > 0) {\r\n                    $.each(response.data.list.result, $.proxy(function (index1, item) {\r\n                        if (item.coreConfigKey == \"AttachmentFileSize\") {\r\n                            vm.allowedPerFileSizeInMb = item.configDataValue;\r\n                        }\r\n                        else if (item.coreConfigKey == \"AllowedFileTypes\") {\r\n                            vm.disallowFileTypes = item.configDataValue;\r\n                            let fileTypeList = vm.AttachmentDisallowedFileType(vm.disallowFileTypes);\r\n                            vm.FormSchema[0].Data[3].config.reject = fileTypeList;\r\n                        }\r\n                    }, this));\r\n                }\r\n            })\r\n        },\r\n        Preview: function () {\r\n            var vm = this;\r\n            vm.$router.push({ name: \"ArticleDetails\", params: { id: 0 } });\r\n\r\n        },\r\n        GetArticleById: async function (ths) {\r\n            var vm = this;\r\n            var url = `articleId=${ths}`\r\n            await DataServices.GetArticleById(url).then(function (response) {\r\n                if (response.data.status == 'Success') {\r\n                    debugger\r\n                    var ArticleData = JSON.parse(response.data.result);\r\n                    vm.FormSchema[0].Data[0].value = ArticleData[0].TICKET_ARTICLE_TITLE;\r\n                    vm.FormSchema[0].Data[1].value = ArticleData[0].TICKET_ARTICLE_CATEGORY_ID;\r\n                    vm.FormSchema[0].Data[2].value = ArticleData[0].TICKET_ARTICLE_ASSIGNED_TO;\r\n                    vm.articleKeywords = ArticleData[0].TICKET_ARTICLE_KEYWORDS;\r\n                    vm.FormSchema[0].Data[5].value = ArticleData[0].STATUS_ID;\r\n                    vm.FormSchema[2].Data[0].value = ArticleData[0].VISIBLE_TO_CLIENT;\r\n                    var Obj = {\r\n                        attachmentName: ArticleData[0].ATTACHMENT_NAME,\r\n                        attachmentPath: ArticleData[0].ATTACHMENTFULLPATH\r\n                    };\r\n                    vm.FormSchema[0].Data[3].config.showSelectedFiles.push(Obj);\r\n                }\r\n                vm.fileSize = JSON.parse(ArticleData[0].ATTACHMENT_DESC).Size;\r\n                vm.fileExt = '.' + JSON.parse(ArticleData[0].ATTACHMENT_DESC).Extension;\r\n                var fileObj = {\r\n                    attachement_mime: ArticleData[0].ATTACHMENT_DESC,\r\n                    fileName: ArticleData[0].ATTACHMENT_NAME,\r\n                    fileSize: vm.fileSize,\r\n                    contentType: JSON.parse(ArticleData[0].ATTACHMENT_DESC).ContentType\r\n                };\r\n                vm.ArticleModel.fileData.push(fileObj);\r\n            })\r\n        },\r\n        setFile: function (e) {\r\n            var vm = this;\r\n            vm.file = e.target.files[0];\r\n            vm.FileName = e.target.files[0].name;\r\n        },\r\n        SizeToMb: function (bytes) {\r\n            // //debugger;\r\n            var vueObj = this;\r\n            var sizeInBuytes = parseInt(vueObj.allowedPerFileSizeInMb, 10) * 1048576;\r\n            if (bytes > sizeInBuytes) {\r\n                return -1;\r\n            }\r\n            else {\r\n                var byesInMB = (bytes / 1024) / 1024;\r\n                return byesInMB;\r\n            }\r\n        },\r\n        GetBase64String: function (evt) {\r\n            try {\r\n                var vm = this;\r\n                vm.fileData = [];\r\n                vm.fileExt = '';\r\n                var f = evt.target.files[0];\r\n                var reader = new FileReader();\r\n                reader.onload = (function (theFile) {\r\n                    return function (e) {\r\n                        // debugger                    \r\n                        var binaryData = e.target.result;\r\n                        var base64StringEncoded = window.btoa(binaryData);\r\n                        var fileName = f.name;\r\n                        vm.fileName = fileName;\r\n                        var n = fileName.lastIndexOf(\".\");\r\n                        var extensionName = fileName.substring(n + 1, fileName.length);\r\n                        vm.fileExt += \".\" + extensionName;\r\n                        var attachemnetMime = '{\"ContentType\":\"' + f.type + '\",\"Size\":\"' + f.size + '\",\"Extension\":\"' + extensionName + '\"}';\r\n                        var fileSize = f.size;\r\n                        vm.fileSize = fileSize;\r\n                        var fileObj = {\r\n                            attachement_mime: attachemnetMime,\r\n                            fileName: fileName,\r\n                            base64String: base64StringEncoded,\r\n                            fileSize: f.size,\r\n                            contentType: f.type\r\n                        };\r\n\r\n                        vm.fileData.push(fileObj);\r\n                    };\r\n                })(f);\r\n                reader.readAsBinaryString(f);\r\n            }\r\n            catch (ex) {\r\n            }\r\n        },\r\n        Close: function () {\r\n            this.$router.push({ name: 'KnowledgebaseCAUser' });\r\n        },\r\n        onSubmit(formfields, val) {\r\n            //debugger;\r\n            var vm = this;\r\n            vm.isLoading = true;\r\n            var datafields = formfields;\r\n            var extArray = vm.disallowFileTypes.split(',');\r\n            if (extArray.includes(vm.fileExt)) {\r\n                vm.checkFileValidExt = false;\r\n                vm.ShowAlert(vm.$t(\"InvalidFileUploadMsg\", vm.fileName, vm.disallowFileTypes), \"warning\", true, vm.$t(\"Alert\"));\r\n            }\r\n            else {\r\n                vm.checkFileValidExt = true;\r\n            }\r\n            var fileSizeInMB = this.SizeToMb(vm.fileSize);\r\n            if (fileSizeInMB < parseInt(vm.allowedPerFileSizeInMb, 10)) {\r\n                vm.checkFileValidSize = true;\r\n            }\r\n            else {\r\n                vm.checkFileValidSize = false;\r\n                vm.ShowAlert(vm.$t(\"ExceedAllowedSize\", vm.fileName, vm.allowedPerFileSizeInMb), \"warning\", true, vm.$t(\"Alert\"));\r\n            }\r\n            if (vm.checkFileValidExt == true && vm.checkFileValidSize == true) {\r\n                vm.ArticleModel.ArticleId = vm.ArticleId;\r\n                vm.ArticleModel.ArticleTitle = datafields.Title;\r\n                vm.ArticleModel.CategoryId = datafields.Category;\r\n                vm.ArticleModel.StatusId = vm.StatusId == null ? vm.FormSchema[0].Data[5].value : vm.StatusId;\r\n                vm.ArticleModel.Description = datafields.Description;\r\n                vm.ArticleModel.SortDescription = datafields.SortDescription;\r\n                vm.ArticleModel.AssignTo = datafields.AssignTo;\r\n                vm.ArticleModel.VisibleToClient = datafields.VisibleToClient == true ? 1 : 0;\r\n                vm.ArticleModel.fileData = vm.fileData == undefined ? vm.ArticleModel.fileData : vm.fileData;\r\n                vm.ArticleModel.ModuleName = 'Ticketing';\r\n                vm.ArticleModel.Type = vm.$route.params.id > 0 ? 'UPDATE' : 'ADD'\r\n                vm.ArticleModel.SubModuleCode = 'KnowledgeBase';\r\n                var formData = JSON.stringify(vm.ArticleModel);\r\n                DataServices.SaveUpdateArticle(formData).then((response) => {\r\n                    if (response.data.status == \"Success\") {\r\n                        if ((response.data.result > 0 && response.data.result != 3) && vm.ArticleModel.Type == 'ADD') {\r\n                            vm.ShowAlert(vm.$t('AddedSuccess', [vm.$t('Article')]), \"Success\", true, vm.$t('Alert'));\r\n                            vm.$router.push({ name: 'KnowledgebaseCAUser' });\r\n                        }\r\n                        else if (response.data.result == 3 && vm.ArticleModel.Type == 'ADD') {\r\n                            vm.ShowAlert(vm.$t(\"AlreadyExists\", [vm.$t(\"Article\")]), \"failure\", true, vm.$t(\"Alert\"));\r\n                        }\r\n                        else if (response.data.result > 0 && vm.ArticleModel.Type == 'UPDATE') {\r\n                            vm.ShowAlert(vm.$t(\"UpdatedSuccess\", [vm.$t(\"Article\")]), \"Success\", true, vm.$t(\"Alert\"));\r\n                            vm.$router.push({ name: 'KnowledgebaseCAUser' });\r\n                        }\r\n                        else if (response.data.result == 3 && vm.ArticleModel.Type == 'UPDATE') {\r\n                            vm.ShowAlert(vm.$t(\"UpdatedSuccess\", [vm.$t(\"Article\")]), \"Success\", true, vm.$t(\"Alert\"));\r\n                            vm.$router.push({ name: 'KnowledgebaseCAUser' });\r\n                        }\r\n                    }\r\n                    vm.isLoading = false;\r\n                })\r\n            }\r\n            else {\r\n                vm.isLoading = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateArticle.vue?vue&type=template&id=a8d7bd80&\"\nimport script from \"./CreateArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateArticle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}