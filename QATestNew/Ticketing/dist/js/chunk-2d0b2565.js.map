{"version":3,"sources":["webpack:///./src/views/Knowledgebase/CreateArticle.vue","webpack:///src/views/Knowledgebase/CreateArticle.vue","webpack:///./src/views/Knowledgebase/CreateArticle.vue?9a8a","webpack:///./src/views/Knowledgebase/CreateArticle.vue?0ce8"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","_v","_s","$t","ref","buttons","FormSchema","on","onSubmit","scopedSlots","_u","key","fn","data","class","error","editor","onReady","$event","updateCkeditorModel","directives","name","rawName","value","fieldInfo","expression","domProps","target","composing","$set","staticRenderFns","CLASSIC_EDITOR","isAllowedFileType","layoutType","Data","astype","label","placeholder","validationRules","max","config","options","showLabel","FieldIndex","maxSize","accept","fileType","iconClass","showSelectedFiles","onDeleteSelectedFiles","onChange","GetBase64String","showAddIcon","onAddButtonClick","multiple","onChangeRadio","settings","isInSlot","visibility","type","text","onClick","Preview","Close","fileName","file","ArticleId","allowedPerFileSizeInMb","disallowFileTypes","ArticleModel","ArticleTitle","CategoryId","StatusId","Description","SortDescription","AssignTo","VisibleToClient","fileData","ModuleName","Type","SubModuleCode","checkFileValidSize","checkFileValidExt","fileExt","fileSize","created","GetStatus","GetCategory","GetUsersByCompanyId","GetConfigurationValueByKey","$route","params","id","GetArticleById","methods","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","mediaIcon","document","getElementsByClassName","remove","divToRemove","querySelector","ArrowIcon","e","x","item","$delete","field","vm","dataset","url","DataServices","GetDDLData","then","response","DATA","length","StatusData","forEach","Obj","push","$refs","AddForm","UpdateKeyValue","GetCategoryDDL","result","CategortData","TICKET_ARTICLE_CATEGORY_PARENT","obj","TICKET_ARTICLE_CATEGORY_NAME","TICKET_ARTICLE_CATEGORY_ID","JSON","parse","USERNAME","USER_ID","FrontSiteUrlHostName","list","$","each","proxy","index1","coreConfigKey","configDataValue","ths","status","ArticleData","TICKET_ARTICLE_TITLE","TICKET_ARTICLE_ASSIGNED_TO","TICKET_ARTICLE_KEYWORDS","STATUS_ID","TICKET_ARTICLE_DESC","VISIBLE_TO_CLIENT","attachmentName","ATTACHMENT_NAME","attachmentPath","ATTACHMENTFULLPATH","ATTACHMENT_DESC","Size","Extension","setFile","files","FileName","SizeToMb","bytes","vueObj","sizeInBuytes","parseInt","byesInMB","evt","f","reader","FileReader","onload","theFile","binaryData","base64StringEncoded","window","btoa","n","lastIndexOf","extensionName","substring","attachemnetMime","size","fileObj","attachement_mime","base64String","contentType","readAsBinaryString","ex","$router","formfields","val","datafields","extArray","split","includes","ShowAlert","fileSizeInMB","Title","Category","formData","stringify","SaveUpdateArticle","component"],"mappings":"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","file":"js/chunk-2d0b2565.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"main-content\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(\" \"+_vm._s(_vm.$t('AddArticle')))])])])]),_c('div',{staticClass:\"border p-3\"},[_c('dynamic-form',{ref:\"AddForm\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.onSubmit},scopedSlots:_vm._u([{key:\"tgslot-Description\",fn:function({ data }){return [_c('ckeditor',{class:{ 'is-invalid': data.error != '' },attrs:{\"editor\":_vm.editor},on:{\"ready\":_vm.onReady,\"input\":function($event){return _vm.updateCkeditorModel($event, data)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(data.error))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(data.fieldInfo.value),expression:\"data.fieldInfo.value\"}],attrs:{\"type\":\"hidden\"},domProps:{\"value\":(data.fieldInfo.value)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(data.fieldInfo, \"value\", $event.target.value)}}})]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"main-content\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 padding-t_8\">\r\n                <div class=\"theme-primary partition-full\">\r\n                    <span class=\"p-name text-white\"> {{ $t('AddArticle') }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"border p-3\">\r\n            <dynamic-form lang=\"en\" ref=\"AddForm\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"onSubmit\">\r\n                <template v-slot:tgslot-Description=\"{ data }\">\r\n                    <ckeditor :editor=\"editor\" @ready=\"onReady\" @input=\"updateCkeditorModel($event, data)\" :class=\"{ 'is-invalid': data.error != '' }\"></ckeditor>\r\n                    <span class=\"invalid-feedback\">{{ data.error }}</span> \r\n                    <input type=\"hidden\" v-model='data.fieldInfo.value' />\r\n                </template>\r\n            </dynamic-form>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script>\r\nimport DataServices from \"@/services/DataService\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            editor: this.CLASSIC_EDITOR,\r\n            isLoading: false,\r\n            isAllowedFileType: null,\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"triple\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('Title'),\r\n                            name: \"Title\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('Title'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Category'),\r\n                            name: \"Category\",\r\n                            value: \"\",\r\n                            config: {\r\n                                options: []\r\n                            },\r\n                            placeholder: this.$t('Category'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('AssignTo'),\r\n                            name: \"AssignTo\",\r\n                            value: \"\",\r\n                            config: {\r\n                                options: []\r\n                            },\r\n                            placeholder: this.$t('Category'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"FileField\",\r\n                            showLabel: false,\r\n                            name: \"ExpenseAttechment\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: false,\r\n                            FieldIndex: 0,\r\n                            config: {\r\n                                maxSize: 10000,\r\n                                accept: [\r\n                                    {\r\n                                        fileType: 'png',\r\n                                        iconClass: 'fa-file-image-o'\r\n                                    },\r\n                                    {\r\n                                        fileType: 'jpg',\r\n                                        iconClass: 'fa-file-image-o'\r\n                                    },\r\n                                    {\r\n                                        fileType: 'jpeg',\r\n                                        iconClass: 'fa-file-image-o'\r\n                                    },\r\n                                    {\r\n                                        fileType: 'pdf',\r\n                                        iconClass: 'fa-file-archive-o'\r\n                                    }\r\n                                ],\r\n                                showSelectedFiles: [],\r\n                                onDeleteSelectedFiles: this.onDeleteSelectedFiles,\r\n                                onChange: this.GetBase64String,                                \r\n                                showAddIcon: false,\r\n                                onAddButtonClick: '',\r\n                                multiple: false\r\n                            },\r\n                        },\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('Sort Description'),\r\n                            name: \"SortDescription\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('ShortDescription'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        },\r\n                        {\r\n                            astype: \"RadioField\",\r\n                            label: this.$t('Status'),\r\n                            name: \"Status\",\r\n                            value: \"1105\",\r\n                            config: {\r\n                                options: [],\r\n                                onChange: this.onChangeRadio\r\n                            },\r\n                            placeholder: this.$t('SelectStatus'),\r\n                            validationRules: { \"required\": true, max: 100 },\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"SlotField\",\r\n                            label: this.$t('Description'),\r\n                            name: \"Description\",\r\n                            value: \"\",\r\n                            placeholder: \"\",                           \r\n                            settings: {\r\n                                isInSlot: true\r\n                            },\r\n                            visibility: true,\r\n                            validationRules: { \"required\": true, max: 4000 },\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"toggleField\",\r\n                            label: this.$t('VisibleToClient'),\r\n                            name: \"VisibleToClient\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: \"\",\r\n                        },\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-info save\",\r\n                    text: \"<i class='fa fa-eye pr-2'></i> Preview\",\r\n                    onClick: this.Preview\r\n                },\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success save\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Save\",\r\n                    //onClick: this.onSubmit\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i> Cancel\",\r\n                    onClick: this.Close\r\n                }\r\n            ],\r\n            fileName: null,\r\n            file: null,\r\n            ArticleId: 0,\r\n            allowedPerFileSizeInMb: 0,\r\n            disallowFileTypes: '',\r\n            ArticleModel: {\r\n                ArticleId: 0,\r\n                ArticleTitle: '',\r\n                CategoryId: '',\r\n                StatusId: '',\r\n                Description: '',\r\n                SortDescription:'',\r\n                AssignTo: '',              \r\n                VisibleToClient:'',\r\n                fileData: [],\r\n                ModuleName:'',\r\n                Type:'',\r\n                SubModuleCode:''\r\n            },\r\n            StatusId:null,\r\n            checkFileValidSize: false,\r\n            checkFileValidExt: false,\r\n            fileExt:'',\r\n            fileSize:''\r\n        }\r\n    },\r\n    created: function () {\r\n        this.GetStatus();\r\n        this.GetCategory();\r\n        this.GetUsersByCompanyId();\r\n        this.GetConfigurationValueByKey();\r\n        if(this.$route.params.id>0){\r\n            this.GetArticleById(this.$route.params.id);\r\n        }\r\n        \r\n    },\r\n    methods: {\r\n        onReady(editor) {\r\n            editor.ui.getEditableElement().parentElement.insertBefore(\r\n                editor.ui.view.toolbar.element,\r\n                editor.ui.getEditableElement()\r\n            );\r\n            let mediaIcon=document.getElementsByClassName('ck-dropdown')[2]\r\n            mediaIcon.remove();\r\n            var divToRemove = document.querySelector('.ck-file-dialog-button');\r\n            divToRemove.remove();\r\n            let ArrowIcon=document.getElementsByClassName('ck ck-button ck-off')[8]\r\n            ArrowIcon.remove();\r\n        },\r\n        updateCkeditorModel: function(e, x){\r\n          //  debugger\r\n            x.fieldInfo.value = e;\r\n        },\r\n        onDeleteSelectedFiles: function (item) {            \r\n            this.$delete(this.FormSchema[0].Data[3].config, 'showSelectedFiles');\r\n        },\r\n        onChangeRadio: function (e, field) {           \r\n            var vm = this;\r\n            vm.StatusId = e.target.dataset.value;\r\n        },\r\n        GetStatus: function () {\r\n            var url = `type=KnowledgeBase`\r\n            DataServices.GetDDLData(url).then(response => {\r\n                if (response.data.DATA.length > 0) {\r\n                    var StatusData = response.data.DATA;\r\n                   // debugger\r\n                    StatusData.forEach(element => {\r\n                        var Obj = {\r\n                            name: element.name,\r\n                            value: element.value\r\n                        }\r\n                        this.FormSchema[0].Data[5].config.options.push(Obj);\r\n                        this.$refs.AddForm.UpdateKeyValue();\r\n                    });\r\n\r\n\r\n                }\r\n            })\r\n        },\r\n        GetCategory: function () {\r\n            var vm = this;\r\n            DataServices.GetCategoryDDL().then(response => {\r\n                if (response.data.result.length > 0) {\r\n                    var CategortData = response.data.result;\r\n                    CategortData.forEach(element => {\r\n                        if (element.TICKET_ARTICLE_CATEGORY_PARENT == null) {\r\n                            let obj = {\r\n                                name: element.TICKET_ARTICLE_CATEGORY_NAME,\r\n                                value: element.TICKET_ARTICLE_CATEGORY_ID\r\n                            }\r\n                            vm.FormSchema[0].Data[1].config.options.push(obj);\r\n                            vm.$refs.AddForm.UpdateKeyValue();\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        GetUsersByCompanyId: function () {\r\n            var url = `moduleName=KnowledgeBase`;\r\n            DataServices.GetUsersByCompanyId(url).then(response => {\r\n                if (JSON.parse(response.data.result).length > 0) {\r\n                    var StatusData = JSON.parse(response.data.result);\r\n                    StatusData.forEach(element => {\r\n                        var Obj = {\r\n                            name: element.USERNAME,\r\n                            value: element.USER_ID\r\n                        }\r\n                        this.FormSchema[0].Data[2].config.options.push(Obj);\r\n                        this.$refs.AddForm.UpdateKeyValue();\r\n                    });\r\n\r\n\r\n                }\r\n            })\r\n        },\r\n        GetConfigurationValueByKey: async function () {\r\n            var vm = this;\r\n            var url = `moduleName=KnowledgeBase`\r\n            await DataServices.FrontSiteUrlHostName(url).then(function (response) {                               \r\n                if (response.data.list.result.length>0) {\r\n                    $.each(response.data.list.result, $.proxy(function (index1, item) {                        \r\n                        if (item.coreConfigKey == \"AttachmentFileSize\") {\r\n                            vm.allowedPerFileSizeInMb = item.configDataValue;\r\n                        }\r\n                        else if (item.coreConfigKey == \"AllowedFileTypes\") {\r\n                            vm.disallowFileTypes = item.configDataValue;\r\n                        }\r\n                    }, this));\r\n                }\r\n            })\r\n        },\r\n        GetArticleById: async function (ths) {\r\n            var vm = this;            \r\n            var url = `articleId=${ths}`\r\n            await DataServices.GetArticleById(url).then(function (response) {                      \r\n                  if(response.data.status=='Success'){\r\n                    debugger\r\n                    var ArticleData=JSON.parse(response.data.result);\r\n                    vm.FormSchema[0].Data[0].value=ArticleData[0].TICKET_ARTICLE_TITLE;\r\n                    vm.FormSchema[0].Data[1].value=ArticleData[0].TICKET_ARTICLE_CATEGORY_ID;\r\n                    vm.FormSchema[0].Data[2].value=ArticleData[0].TICKET_ARTICLE_ASSIGNED_TO;\r\n                    vm.FormSchema[0].Data[4].value=ArticleData[0].TICKET_ARTICLE_KEYWORDS;\r\n                    vm.FormSchema[0].Data[5].value=ArticleData[0].STATUS_ID;\r\n                    vm.FormSchema[1].Data[0].value=ArticleData[0].TICKET_ARTICLE_DESC;\r\n                    vm.FormSchema[2].Data[0].value=ArticleData[0].VISIBLE_TO_CLIENT;\r\n                    var Obj = {\r\n                            attachmentName: ArticleData[0].ATTACHMENT_NAME,\r\n                            attachmentPath: ArticleData[0].ATTACHMENTFULLPATH\r\n                        }; \r\n                    vm.FormSchema[0].Data[3].config.showSelectedFiles.push(Obj);\r\n                  }   \r\n                  //debugger\r\n                  vm.fileSize=JSON.parse(ArticleData[0].ATTACHMENT_DESC).Size;\r\n                  vm.fileExt=  '.' + JSON.parse(ArticleData[0].ATTACHMENT_DESC).Extension;         \r\n            })\r\n        },\r\n        setFile: function (e) {\r\n            var vm = this;\r\n            vm.file = e.target.files[0];\r\n            vm.FileName = e.target.files[0].name;\r\n        },\r\n        SizeToMb: function (bytes) {\r\n            // debugger;\r\n            var vueObj = this;\r\n            var sizeInBuytes = parseInt(vueObj.allowedPerFileSizeInMb, 10) * 1048576;\r\n            if (bytes > sizeInBuytes) {\r\n                return -1;\r\n            }\r\n            else {\r\n                var byesInMB = (bytes / 1024) / 1024;\r\n                return byesInMB;\r\n            }\r\n        },        \r\n        GetBase64String: function (evt) {            \r\n            try {\r\n                var vm = this;\r\n                vm.fileData = [];\r\n                vm.fileExt = '';\r\n                var f = evt.target.files[0]; \r\n                var reader = new FileReader();\r\n                reader.onload = (function (theFile) {\r\n                    return function (e) {                        \r\n                        var binaryData = e.target.result;\r\n                        var base64StringEncoded = window.btoa(binaryData);\r\n                        var fileName = f.name;\r\n                        vm.fileName = fileName;\r\n                        var n = fileName.lastIndexOf(\".\");\r\n                        var extensionName = fileName.substring(n + 1, fileName.length);\r\n                        vm.fileExt += \".\" + extensionName;\r\n                        var attachemnetMime = '{\"ContentType\":\"' + f.type + '\",\"Size\":\"' + f.size + '\",\"Extension\":\"' + extensionName + '\"}';\r\n                        var fileSize = f.size;\r\n                        vm.fileSize = fileSize;\r\n                        var fileObj = {\r\n                            attachement_mime: attachemnetMime,\r\n                            fileName: fileName,\r\n                            base64String: base64StringEncoded,\r\n                            fileSize: f.size,\r\n                            contentType: f.type\r\n                        };\r\n\r\n                        vm.fileData.push(fileObj);\r\n                    };\r\n                })(f);\r\n                reader.readAsBinaryString(f);\r\n            }\r\n            catch (ex) {\r\n            }\r\n        },\r\n        Close:function(){\r\n            this.$router.push({ name: 'KnowledgebaseCAUser'});\r\n        },\r\n        onSubmit(formfields, val) {  \r\n            debugger          \r\n            var vm = this;\r\n            vm.isLoading=true;\r\n            var datafields = formfields;\r\n            var extArray = vm.disallowFileTypes.split(',');\r\n            if (extArray.includes(vm.fileExt)) {\r\n                vm.checkFileValidExt = true;                \r\n            }\r\n            else {\r\n                vm.checkFileValidExt = false;\r\n                vm.ShowAlert(vm.$t(\"InvalidFileUploadMsg\", vm.fileName, vm.disallowFileTypes), \"warning\", true, vm.$t(\"Alert\"));\r\n            }\r\n            var fileSizeInMB = this.SizeToMb(vm.fileSize);\r\n            if (fileSizeInMB < parseInt(vm.allowedPerFileSizeInMb, 10)) {\r\n                vm.checkFileValidSize = true;\r\n            }\r\n            else {                \r\n                vm.checkFileValidSize = false;\r\n                vm.ShowAlert(vm.$t(\"ExceedAllowedSize\", vm.fileName, vm.allowedPerFileSizeInMb), \"warning\", true, vm.$t(\"Alert\"));\r\n            }            \r\n            if (vm.checkFileValidExt == true && vm.checkFileValidSize == true) {                \r\n                vm.ArticleModel.ArticleId = vm.ArticleId;\r\n                vm.ArticleModel.ArticleTitle = datafields.Title;\r\n                vm.ArticleModel.CategoryId = datafields.Category;                \r\n                vm.ArticleModel.StatusId = vm.StatusId==null?vm.FormSchema[0].Data[5].value:vm.StatusId;\r\n                vm.ArticleModel.Description = datafields.Description;\r\n                vm.ArticleModel.SortDescription = datafields.SortDescription;\r\n                vm.ArticleModel.AssignTo = datafields.AssignTo;\r\n                vm.ArticleModel.VisibleToClient = datafields.VisibleToClient==true?1:0;\r\n                vm.ArticleModel.fileData = vm.fileData;\r\n                vm.ArticleModel.ModuleName = 'Ticketing';\r\n                vm.ArticleModel.Type = vm.$route.params.id>0?'UPDATE':'ADD'\r\n                vm.ArticleModel.SubModuleCode = 'KnowledgeBase';\r\n                var formData = JSON.stringify(vm.ArticleModel);            \r\n                DataServices.SaveUpdateArticle(formData).then((response) => { \r\n                if(response.data.status==\"Success\"){\r\n                    if((response.data.result>0 && response.data.result !=3) && vm.ArticleModel.Type=='ADD'){\r\n                        vm.ShowAlert(vm.$t('AddedSuccess', [vm.$t('Article')]), \"Success\", true, vm.$t('Alert'));\r\n                        vm.$router.push({ name: 'KnowledgebaseCAUser'});\r\n                    }\r\n                    else if(response.data.result ==3 && vm.ArticleModel.Type=='ADD'){\r\n                        vm.ShowAlert(vm.$t(\"AlreadyExists\", [vm.$t(\"Article\")]), \"failure\", true, vm.$t(\"Alert\"));\r\n                    }\r\n                    else if((response.data.result==0 && response.data.result !=3) && vm.ArticleModel.Type=='UPDATE'){\r\n                        vm.ShowAlert(vm.$t(\"UpdatedSuccess\", [vm.$t(\"Article\")]), \"failure\", true, vm.$t(\"Alert\"));\r\n                        vm.$router.push({ name: 'KnowledgebaseCAUser'});\r\n                    }\r\n                }\r\n                vm.isLoading=false;                \r\n                })\r\n            }\r\n            else{\r\n                vm.isLoading=false;\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateArticle.vue?vue&type=template&id=1268ec62&\"\nimport script from \"./CreateArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateArticle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}