(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-741f9eb9"],{"5ffb":function(e,t,a){"use strict";let s=[{title:"Add",iconClass:"fa fa-plus",callbackfunction:"openaddWorkType",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"Addticketing"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],i=[{title:"Add",iconClass:"fa fa-plus",callbackfunction:"openPopupForSetupTickectSource",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"Addticketing"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0},{title:"Back to list",iconClass:"fa fa-angle-double-left",callbackfunction:"openResourceTypeList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1,id:"assignTicket"}],o=[{fieldName:"Resource Type Name",fieldType:"text",fieldIcon:"fa fa-map-marker",fieldSearchConditionName:[""],paramName:"search",isSearch:!1,value:"",listOptions:[]},{fieldName:"Created At",fieldType:"date",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:[""],isSearch:!1,paramName:"searchDate",datePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},value:"",listOptions:[]}],r=[{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"Edit",additionalSpan:""},{title:"View",href:"javascript:void(0)",callbackfunction:"ClickOnView",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",callbackfunction:"Delete",icon:"fa fa-trash action-icon",additionalSpan:"",isEnabledOnSelectedRow:!0}];t["a"]={buttons:s,leftsearchSchema:o,listActions:r,ResourceDetailPagebuttons:i}},"8dc4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("tg-list",{directives:[{name:"show",rawName:"v-show",value:e.IsResourceTypeView,expression:"IsResourceTypeView"}],attrs:{IsShowAction:!0,ModuleName:"Ticketing",SubModuleCode:"FSM_resource_type",LegendArray:[],widgets:[],IdentityColumn:"resource_type_id",HeaderText:e.$t("ResourceType"),listType:["List"],ListData:e.ResourceTypeList,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,ListDataCallBackFunction:e.FetchRecords,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),RenderRowActionMethod:e.renderActions},on:{ActionButtonClick:e.actionButtonClick,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["status_id"==a.column.COLUMN_NAME?[e.isCRMShowStausDrop(a.row.status_id,"Ticketing")?t("listing-status",{ref:"updatestatus",attrs:{isfor:"RESOURCES_TYPE",dataid:a.row.resource_type_id,"data-controller":"Crm",statuslist:e.StatusListForListing,item:a.status_id,"data-action":"index",dataselected:1001==a.row.status_id?"Active":"Inactive",callbackfunction:e.FetchRecords,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(a.row.status_id,"Ticketing")?e._e():t("a",{staticClass:"inactive-disabled"},[t("span",{class:e.getStatusClass(a.row.status_id,"status_id")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")])])]:e._e(),"CREATED_AT"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDate(a.row.CREATED_AT))+" ")])]:e._e(),"resource_type_name"==a.column.COLUMN_NAME?[t("a",{attrs:{href:"#"},on:{click:function(t){return e.openPopupForSetupTickectSource(a.row.resource_type_id)}}},[e._v(e._s(a.row.resource_type_name))])]:e._e()]}}])}),e.AddResourceTypePopup?t("AddResourceTypePopup",{attrs:{ResourceTypeId:e.ticketSourceId}}):e._e()],1)},i=[],o=(a("14d9"),a("5ffb")),r=a("9769"),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Add Resource Type")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("span",{staticClass:"user-guide"},[t("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t("em",{staticClass:"fa fa-files-o pr-2"}),e._v(e._s(e.$t("GuideForUser")))]),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("UgAddEditResourceType"))}})])])])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)])])])],1)},n=[],l={props:{ResourceTypeId:{type:Number,required:!0}},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("ResourceTypeName"),name:"ResourceTypeName",value:"",placeholder:this.$t("EnterResourceTypeName"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]},{layoutType:"double",Data:[{astype:"CustomSelectField",mode:"tag",label:this.$t("User "),name:"User",value:"",config:{options:[]},placeholder:this.$t("SelectUser"),validationRules:{required:!0,max:100}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("description"),name:"Description",value:"",placeholder:this.$t("EnterDescription"),validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}],ListData:[]}},created:async function(){this.FetchData(),this.GetDdlRecords_User()},methods:{FetchData:function(){var e=this;e.isLoading=!0;var t="Id="+e.ResourceTypeId;r["a"].FetchDataByResourcetypeId(t).then((function(t){e.isLoading=!1,null!=t.data&&""!=t.data&&"Success"==t.data.status&&(e.FormSchema[0].Data[0].value=t.data.result.data[0].resource_type_name,e.FormSchema[0].Data[1].value=t.data.result.data[0].status_id,e.FormSchema[2].Data[0].value=t.data.result.data[0].description,JSON.parse(t.data.result.data[0].FSMUserListId).forEach((t,a)=>{e.ListData.push({value:t.value,label:t.name})}),e.FormSchema[1].Data[0].value=e.ListData)}))},GetDdlRecords_User:async function(){var e=this,t="id=&&moduleName=Ticketing&type=FSM_SA_User&search=&refId=";await r["a"].GetDDLData(t).then((function(t){if(t.data){var a=t.data;null!=a&&t.data.DATA.forEach((t,a)=>{e.FormSchema[1].Data[0].config.options.push({value:t.value,name:t.name})})}}))},Close:function(){this.$parent.AddResourceTypePopup=!1},onSubmit(e,t){var a=this;a.isLoading=!0;var s="",i=0;for(i=0;i<e.User.length;i++)s=0==i?e.User[i].value:s+","+e.User[i].value;var o={Id:null==a.ResourceTypeId?0:a.ResourceTypeId,ResourceTypeName:e.ResourceTypeName,FSMUsersList:s,Desc:e.Description,Status:e.Status},c=JSON.stringify(o);r["a"].SaveResourceTypeWithResources(c).then(e=>{a.isLoading=!1,"Success"==e.data.status?(a.ResourceTypeId>0?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("ResourceType")]),"success",!0,a.$t("Alert")),a.Close()):a.ShowAlert(a.$t("AddedSuccess",[a.$t("ResourceType")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchRecords()):(a.ShowAlert(a.$t("AddedError",[a.$t("Resource")]),"failure",!0,a.$t("Alert")),a.Close())})}}},d=l,u=a("2877"),p=Object(u["a"])(d,c,n,!1,null,null,null),h=p.exports,S={components:{AddResourceTypePopup:h},data(){return{isLoading:!1,IsResourceTypeView:!0,AddResourceTypePopup:!1,listheaderbuttons:o["a"].buttons,leftSearchFields:o["a"].leftsearchSchema,listActions:o["a"].listActions,Headers:[{COLUMN_NAME:"resource_type_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Resource Type Name",DISPLAY_ORDER:1},{COLUMN_NAME:"CREATED_AT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Created at ",DISPLAY_ORDER:2},{COLUMN_NAME:"CreatedBy_Name",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Created by","DISPLAY_ORDER ":3},{COLUMN_NAME:"status_id",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"status",DISPLAY_ORDER:4}],showSetupTickectSource:!1,showExpanded:"",StatusMappingList:[],NoRecord:!1,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,searchCondition:"",ResourceTypeList:[],GroupStart:1,GroupEnd:3,ResourceTypeName:"",ResourceTypeSearch:!1,ticketSourceId:0,CreationDate:"",IsDateSearch:!1,conditionForResourceTypeSearch:"",search:"",StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}]}},created:async function(){this.user_id=this.GetUserInfo.ID,this.user_type=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,await this.FetchRecords()},methods:{actionButtonClick(e,t,a,s){switch(e){case"Edit":this.openPopupForSetupTickectSource(t.resource_type_id);break;case"Delete":this.DeleteResourceType(t.resource_type_id);break;case"ClickOnView":this.ResourceTypeDetail(t.resource_type_id,t.resource_type_name);break}},ResourceTypeDetail:function(e,t){var a=this;a.$router.push({name:"ResourceTypeDetail",params:{ResourceTypeId:e,ResourceTypeName:t}})},getStatusClass:function(e){var t="";switch(e){case"Active":t="px-2 bg-success text-center text-white d-block";break;case"Inactive":t="px-2 text-center bg-danger text-white d-block";break;default:t=""}return t},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Edit":t.isVisible=!0;break;case"Delete":t.isVisible=!0;break;case"ClickOnView":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchRecords()},paramsToObject(e){const t={};for(const[a,s]of e)t[a]=s;return t},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchConditionJson:this.searchCondition="",this.FetchRecords()},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.DeleteResourceType();break;case"openaddWorkType":this.openPopupForSetupTickectSource(null);break}},isBlank:function(e){return!e||/^\s*$/.test(e)},openPopupForSetupTickectSource:function(e){void 0==e&&(e=0),this.ticketSourceId=e,this.AddResourceTypePopup=!this.AddResourceTypePopup},openPopUpForResourceTypeDetail:function(e){void 0==e&&(e=0),this.ticketSourceId=e,this.AddResourceTypePopup=!this.AddResourceTypePopup},formatDateTime:function(e){if(e)return moment(e).format(String(Globalize.culture().calendar.patterns.d).toUpperCase()+" "+String(Globalize.culture().calendar.patterns.t).replace("t","A").replace("t",""))},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()},Searchdata:function(){var e=this;e.searchCondition=e.searchCondition,e.FetchRecords()},refreshList:function(){this.searchCondition="",this.FetchRecords()},DeleteResourceType:function(e){var t=this,a="";1==$(".chkItems:checkbox:checked").prop("checked")?$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})):a+=e,a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Resource Type"),(function(){var e={ids:a,companyId:t.companyId,userId:t.user_id,moduleName:"FSM",refCode:"TALYGEN_FSM_RESOURCE_TYPE"},s=JSON.stringify(e);r["a"].deleteActivityData(s).then(e=>{var a="";"Success"==e.data[0].Status?(t.FetchRecords(),a=t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Resource Type")]),"Success",!0,t.$t("Alert"))):a=t.ShowAlert(t.$t("DeletedError",[t.$t("Resource Type")]),"failure",!0,t.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)})})):alert(t.$t("Selectanyrecordtodelete"))},FetchRecords:async function(){var e=this;e.isLoading=!0;var t=`sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}&${e.searchCondition}`;e.ResourceTypeList=[],await r["a"].GetFsmResourceTypeList(t).then((function(t){e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.TotalRecords=0,e.Headers.forEach(e=>{e.settings=null,"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"resource_type_name"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"View"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"Action"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"CREATED_AT"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),null!=t.data&&""!=t.data&&("Success"==t.data.status?(e.ResourceTypeList=t.data.result.data,e.listheaderbuttons[1].isdisabled=!0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.ResourceTypeList.length>0?(e.TotalRecords=t.data.result.data[0].TOTALRECORDS,e.NoRecord=!1,e.isLoading=!1,e.listheaderbuttons[1].isdisabled=!0):(e.NoRecord=!0,e.isLoading=!1)):(e.NoRecord=!0,e.isLoading=!1),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500))}))}}},f=S,m=Object(u["a"])(f,s,i,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-741f9eb9.js.map