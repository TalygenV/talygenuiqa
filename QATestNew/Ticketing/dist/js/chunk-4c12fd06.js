(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c12fd06"],{"36f1":function(t,e,a){"use strict";a("a2ba")},"4a2c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"Ticketing",SubModuleCode:"ManageCategory",RenderRowActionMethod:t.renderActions,IdentityColumn:"TICKET_ARTICLE_CATEGORY_ID",HeaderText:t.$t("ManageCategory"),ListData:t.SAData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["NoOfArticle"==a.column.COLUMN_NAME?[e("td",{staticClass:"text-center single-action"},[e("span",[e("a",{staticClass:"fa fa-file-text-o",staticStyle:{"font-size":"20px !important",color:"black !important"},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.openViewDetail(a.row.TICKET_ARTICLE_CATEGORY_ID)}}}),e("span",{staticClass:"noti-circle noti-green"},[t._v(t._s(a.row.NoOfArticle))])])])]:t._e(),"STATUS_NAME"==a.column.COLUMN_NAME?[e("a",{staticClass:"inactive-disabled"},[e("span",{class:t.getStatusClassList(a.row.STATUS_NAME,"STATUS_NAME")},[t._v(" "+t._s(a.row[a.column.COLUMN_NAME])+" ")])])]:t._e(),"Edit"==a.column.COLUMN_NAME?[e("td",{staticClass:"text-center single-action"},[e("a",{staticClass:"updateCat editicon",attrs:{title:"Edit"},on:{click:function(e){return t.AddCategory(a.row.TICKET_ARTICLE_CATEGORY_ID)}}},[e("em",{staticClass:"fa fa-pencil text-success action-icon"})])])]:t._e()]}}])}),t.IsCategory?e("AddCategory",{attrs:{CategoryId:t.CategoryId}}):t._e(),e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),t.isArticleDetail?e("div",{staticClass:"modal d-block dialog"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("ArticleList")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.popupClose}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tbl_formList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"sorting"},[e("span",[t._v(t._s(t.$t("Article")))])]),e("th",[e("span",[t._v(t._s(t.$t("Status")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("ShortDescription")))])]),e("th",{staticClass:"text-center sorting"},[e("span",[t._v(t._s(t.$t("View")))])])])]),e("tbody",[t._l(t.ArticleList,(function(a,s){return e("tr",[e("td",[e("span",[t._v(t._s(a.TICKET_ARTICLE_TITLE))])]),e("td",[e("span",{class:t.getStatusClassList(a.STATUS_NAME,"STATUS_NAME")},[t._v(" "+t._s(a.STATUS_NAME)+" ")])]),e("td",[e("span",[t._v(t._s(a.TICKET_ARTICLE_KEYWORDS))])]),e("td",{staticClass:"single-action text-center",staticStyle:{"font-size":"20px"}},[e("a",{on:{click:function(e){return t.ClickOnView(a.TICKET_ARTICLE_ID)}}},[e("i",{staticClass:"fa fa-eye text-info action-icon"})])])])})),null==t.ArticleList||0==t.ArticleList.length?e("tr",[e("td",{staticClass:"text-danger text-center",attrs:{colspan:"4"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]):t._e()],2)])])])])])])])]):t._e()],1)])],1)},i=[],o=(a("14d9"),a("9769"));let r=[{title:"Add New",iconClass:"fa fa-plus",callbackfunction:"callAdd",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}],l=[{fieldName:"Category",fieldType:"radio",fieldIcon:"fa fa-envelope",fieldSearchConditionName:[""],paramName:"categoryId",isSearch:!1,value:"",listOptions:[]},{fieldName:"Sub Category",fieldType:"radio",fieldIcon:"fa fa-envelope",fieldSearchConditionName:[""],paramName:"subCategoryId",isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"radio",fieldIcon:"fa fa-envelope",fieldSearchConditionName:[""],paramName:"statusId",isSearch:!1,value:"",listOptions:[{name:"Active",value:1001},{name:"Inactive",value:1002}]}];async function n(t,e,a){var s=this;"Category"==a&&o["a"].CategoryListDDL().then(t=>{if(t.data.result.data.length>0&&""!=t.data.result.data){var e=t.data.result.data;s.leftsearchSchema[0].listOptions=[],e.forEach(t=>{let e={name:t.TICKET_ARTICLE_CATEGORY_NAME,value:t.TICKET_ARTICLE_CATEGORY_ID};s.leftsearchSchema[0].listOptions.push(e)})}}),"Sub Category"==a&&o["a"].SubCategoryListDDL().then(t=>{if(t.data.result.data.length>0&&""!=t.data.result.data){var e=t.data.result.data;s.leftsearchSchema[1].listOptions=[],e.forEach(t=>{let e={name:t.TICKET_ARTICLE_CATEGORY_NAME,value:t.TICKET_ARTICLE_CATEGORY_ID};s.leftsearchSchema[1].listOptions.push(e)})}})}var c={buttons:r,leftsearchSchema:l,bindleftCommonSearchdropdown:n},d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("AddCategory")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{ref:"AddForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},u=[],C={props:{CategoryId:{type:Number}},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Category Name"),name:"CategoryName",value:"",placeholder:"",disabled:!1,config:{options:[]}},{astype:"SelectField",label:this.$t("Parent Category"),name:"ParentCategoryName",value:"",placeholder:"",disabled:!1,visibility:!0,config:{options:[]}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",config:{options:[]}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}]}},created:function(){this.CategoryListDDL(),null!=this.CategoryId&&this.GetDetails()},methods:{Close:function(){this.$parent.IsCategory=!1},CategoryListDDL:function(){o["a"].CategoryListDDL().then(t=>{t.data.result.data.length>0&&t.data.result.data.forEach(t=>{let e={name:t.TICKET_ARTICLE_CATEGORY_NAME,value:t.TICKET_ARTICLE_CATEGORY_ID};this.FormSchema[0].Data[1].config.options.push(e)}),this.FormSchema[0].Data[2].config.options=[{value:1001,name:"Active"},{value:1002,name:"Inactive"}],this.$refs.AddForm.UpdateKeyValue()})},onSubmit(t,e){var a=this;a.isLoading=!0;var s={CategoryId:0==a.CategoryId?0:a.CategoryId,RequestType:0==a.CategoryId?"ADD":"UPDATE",StatusId:t.Status,ParentCategoryId:t.ParentCategoryName,CategoryName:t.CategoryName},i=JSON.stringify(s);o["a"].SaveUpdateCategory(i).then(t=>{"Success"==t.data.status&&(0==t.data.result.data[0]?(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Category")]),"Success",!0,a.$t("Alert")),a.$parent.FetchData(),a.Close()):3==t.data.result.data[0]?(a.ShowAlert(a.$t("AlreadyExists",[a.$t("Category")]),"failure",!0,a.$t("Alert")),a.Close()):1==t.data.result.data[0]&&(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Category")]),"Success",!0,a.$t("Alert")),a.$parent.FetchData(),a.Close())),a.isLoading=!1})},GetDetails:function(){var t=this,e="categoryId="+t.CategoryId;o["a"].GetDetails(e).then(e=>{if(e.data.result.data.length>0){var a=e.data.result.data;t.FormSchema[0].Data[0].value=a[0].ticket_article_category_name,a[0].Parent_Count>0?t.FormSchema[0].Data[1].visibility=!1:t.FormSchema[0].Data[1].visibility=!0,t.FormSchema[0].Data[1].value=a[0].ticket_article_category_parent,t.FormSchema[0].Data[2].value=a[0].status_id}}),t.$refs.AddForm.UpdateKeyValue()}}},h=C,g=a("2877"),m=Object(g["a"])(h,d,u,!1,null,null,null),S=m.exports,A={components:{AddCategory:S},data(){return{isLoading:!1,noRecords:!1,isArticleDetail:!1,CategoryId:null,IsAddCannedReply:!1,listheaderbuttons:c.buttons,leftSearchFields:c.leftsearchSchema,Headers:[{COLUMN_NAME:"TICKET_ARTICLE_CATEGORY_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Category Name",DISPLAY_ORDER:1},{COLUMN_NAME:"SUBCATEGORYNAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Sub Category",DISPLAY_ORDER:2},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"NoOfArticle",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Number Of Articles",DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"Edit",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Edit",DISPLAY_ORDER:5,settings:{isInSlot:!0}}],SAData:[],ArticleList:[],SortBy:"",SortExp:"",TotalRecords:0,PageNumber:1,PageSize:10,searchCondition:"",TemplateId:null,IsCategory:!1}},created:async function(){await c.bindleftCommonSearchdropdown(this,"Ticketing","Category"),await c.bindleftCommonSearchdropdown(this,"Ticketing","Sub Category"),this.FetchData()},methods:{FetchData:function(){var t=this;t.isLoading=!0;var e=`sortBy=${t.SortBy}&sortExp=${t.SortExp}&isPaged=1&pageSize=${t.PageSize}&pageNum=${t.PageNumber}&${t.searchCondition}`;o["a"].ManageCategoryList(e).then(e=>{"Success"==e.data.status&&e.data.result.data.length>0?(t.SAData=e.data.result.data,t.TotalRecords=e.data.result.data[0].TOTAL_RECORDS,t.listheaderbuttons[1].isdisabled=!0,t.isLoading=!1):(t.noRecord=!0,t.TotalRecords=0,t.SAData=[],t.isLoading=!1)})},ClickOnView:function(t){this.$router.push({name:"ArticleDetails",params:{id:t}})},getStatusClassList:function(t){var e="";switch(t){case"UnPublish":e="px-2 text-center bg-danger text-white d-block";break;case"Active":e="px-2 text-center bg-success text-white d-block";break;case"Published":e="px-2 bg-primary text-center text-white d-block";break;case"Draft":e="px-2 text-center bg-warning text-white d-block";break;case"Inactive":e="px-2 text-center bg-danger text-white d-block";break;default:e=""}return e},openViewDetail:function(t){var e=this;e=this;e.isLoading=!0;var a=`Category=${t}&SortBy=${e.SortBy}&SortExp=${e.SortExp}&PageSize=${e.PageSize}&PageNumber=${e.PageNumber}&${e.searchCondition}`;o["a"].GetArticleListing(a).then(t=>{"Success"==t.data.status&&(e.isLoading=!1,t.data.result.length>0?e.ArticleList=t.data.result:e.ArticleList=[])}),e.isArticleDetail=!0},popupClose:function(){var t=this;t.isArticleDetail=!1},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"callAdd":this.AddCategory(0);break;case"commonDeleteData":this.commonDeleteData();break}},AddCategory:function(t){this.CategoryId=t,this.IsCategory=!0},renderActions:function(){},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchConditionJson?this.searchCondition=t.searchConditionJson:this.searchCondition="",this.FetchData()},actionButtonClick:function(){},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchData()},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Category"),(function(){var t={ids:a,companyId:e.companyId,userId:e.user_id,moduleName:"KnowledgeBase",refCode:"TALYGEN_ticket_article_category"},s=JSON.stringify(t);o["a"].deleteActivityData(s).then(t=>{var a="";"Success"==t.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.FetchData(),a=e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Category")]),"Success",!0,e.$t("Alert"))):a=e.ShowAlert(e.$t("DeletedError",[e.$t("Category")]),"failure",!0,e.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)})})):alert(e.$t("Selectanyrecordtodelete"))}}},p=A,f=(a("36f1"),Object(g["a"])(p,s,i,!1,null,null,null));e["default"]=f.exports},a177:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".textstyle{color:#007bff;text-decoration:none;background-color:transparent}",""]),t.exports=e},a2ba:function(t,e,a){var s=a("a177");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("16a64621",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-4c12fd06.js.map