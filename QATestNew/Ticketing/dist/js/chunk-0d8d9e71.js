(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d8d9e71"],{1171:function(e,t,a){"use strict";a("afa4")},a256:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'body{font-size:14px}.outer{float:left;width:100%;box-sizing:border-box;background:#fff;padding:50px}.outer .container{float:left;text-align:center;list-style-type:none;position:relative;padding:20px 5px 0 5px;transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s}.outer .container:after,.outer .container:before{content:"";position:absolute;top:0;right:50%;border-top:1px solid #000;width:50%;height:20px}.outer .container:after{right:auto;left:50%;border-left:1px solid #000}.outer .container:only-child:after,.outer .container:only-child:before{display:none}.outer .container:only-child{padding-top:0}.outer .container:first-child:before,.outer .container:last-child:after{border:0 none}.outer .container:last-child:before{border-right:1px solid #000}.outer .maintree .maintree:before{content:"";position:absolute;top:0;left:50%;border-left:1px solid #000;width:0;height:32px}*,.fc_parentchild{margin:0;padding:0}.fc_parentchild{width:100%;float:left;height:auto}.fc_parentchild li{width:auto;float:left;height:auto;display:block;clear:both;margin-bottom:60px;position:relative}.fc_parentchild li p.shape_ovalwhen{margin:0 0 0 85px}.fc_parentchild li p.shape_oval{background-image:url(/Content/OrganizationChart/round_purple.png);background-repeat:no-repeat;background-size:100% 100%;background-position:50%;border:none;border-radius:36px/62px;height:95px;position:relative;list-style:outside none none;margin:0 0 0 85px;text-align:center;vertical-align:middle;width:100px;border-radius:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;background-color:#fbedb7}.fc_parentchild li p.shape_oval span{margin-top:38px;font-weight:700;color:#000}.fc_parentchild li p.shape_polygan{background:#fff;background-image:url(/Content/OrganizationChart/square_purple.png);background-repeat:no-repeat;background-size:100% 100%;background-position:50%;border:none;z-index:100;border-radius:0;min-height:110px;list-style:none;margin:0 0 0 74px;position:relative;text-align:center;vertical-align:middle;width:120px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:20px 36px;display:inline-block;background-color:#5d6d7e}.fc_parentchild li p.shape_polygan span{margin-top:15px;font-weight:700;color:#fff}.fc_parentchild li p.shape_polygan span.delete{margin-top:5px;cursor:pointer;background-image:url(/Content/OrganizationChart/billing_sprite.png);background-position:2px -43px;height:43px;border-radius:50%!important;position:relative}.fc_subchild li p.shape_oval span.results{margin-top:25px;font-weight:400;text-align:left;width:80%;float:left;color:#303030!important}.fc_subchild li a.resulteditlink{color:#cbc93d;float:right;margin-top:5px;background-image:url(/Content/OrganizationChart/billing_sprite.png);background-position:-5px -2px;height:32px!important;width:32px!important;cursor:pointer;border-radius:50%!important;background-color:#199b14;padding:19px;margin-right:4px}.fc_parentchild li:last-child p:before{border:none!important}.fc_parentchild li p{float:left}.fc_parentchild li p span{display:block;line-height:20px;overflow:hidden;text-overflow:ellipsis;width:100%;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}.fc_subchild li p img{left:50%;margin-left:-12px;position:absolute;top:-35px}.fc_subchild li p.hoctagon{background-image:url(/Content/OrganizationChart/hoctagen.png);background-repeat:no-repeat;background-position:top;color:#000;height:48px;margin:0;padding-top:24px;position:relative;width:190px}.fc_subchild li p.hoctagon span{display:block;padding:0 10px;text-align:center}.fc_subchild li p.shape_oval span{display:inline-block;padding:0 10px;text-align:center}.textbetweenline{font-size:12px;left:-50px;line-height:14px!important;margin:0;padding:0!important;position:absolute;text-align:left!important;top:0;width:auto}.fc_parentchild li.arrowdown:last-child:after{border-left:6px solid transparent}.fc_subchild li.arrowright.Dparent:after{top:40%}.imgdownarrow{left:129px;position:absolute;top:110px;z-index:100}.fc_parentchild li.arrowdown{position:relative;margin-bottom:0;padding-bottom:60px;background-image:url(/Content/OrganizationChart/FlowChart_DownArrow_90.png);background-repeat:no-repeat;background-position:129px bottom}.flowfsm .fc_parentchild li.arrowdown:after{position:absolute;top:67%;left:50%;font-weight:700}.flowfsm .fc_parentchild li.arrowdown:first-child:after,.flowfsm .fc_parentchild li.arrowdown:last-child:after{display:none}.fc_parentchild li.arrowdown:last-child{background:none}.fc_subchild{float:left;margin-left:-2px}.fc_subchild.fc_subchildWhen{width:60%}.fc_subchild li{clear:none;display:inline-block;margin:26px 0;padding-left:60px;background-image:url(/Content/OrganizationChart/FlowChart_RightArrow.png);background-repeat:no-repeat;background-position:left 31px}.fc_subchild li p.shape_oval{background-image:url(/Content/OrganizationChart/rectangle_purple.png);background-repeat:no-repeat;background-size:100% 100%;background-position:50%;border:none;border-radius:36px/62px;height:66px;position:relative;list-style:outside none none;margin:0;text-align:center;vertical-align:middle;width:350px;border-radius:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;background:#fbf3d2;border:1px dashed #bbb392}.fc_subchild li p.shape_oval.oval_red{background-image:url(/Content/OrganizationChart/oval_red.png)}.fc_subchild li p.shape_oval.oval_green{background-image:url(/Content/OrganizationChart/oval_green.png)}.fc_subchild li p.shape_oval.oval_yellow{background-image:url(/Content/OrganizationChart/oval_orange.png)}.formsfieldmainunique{border:1px dashed #aed6f1;background:#ebf5fb;width:100%;box-sizing:border-box;float:left;padding:5px 10px;min-height:140px;width:564px}.formsfieldmainunique .parenthead{background:#c6dae8;color:#303030;padding:10px;font-weight:700}.formsfieldmainunique .childdivsunique_base,.formsfieldmainunique .parenthead{width:100%;box-sizing:border-box;float:left}.formsfieldmainunique .childdivsunique{width:49%;float:left;padding:10px;box-sizing:border-box}.formsfieldmainunique .childdivsunique span{padding-left:2px;font-weight:700}.formsfieldmainunique .childdivsunique div{padding-top:3px;margin-left:35px}.formsfieldmainunique .childdivsunique.childdivsunique_HS span{padding-left:2px;font-weight:700;float:left;padding:3px 0 0 10px}.formsfieldmainunique .childdivsunique.childdivsunique_HS div{padding-top:3px;margin-left:35px;float:left}.fc_subchild li.arrowright.top50{background-position:left 45px!important}.fc_subchild li.arrowright.top30{background-position:left 30px!important}.fc_subchild li p.shape_btn{background:#fff;background-repeat:no-repeat;background-position:50%;border:none;height:70px;position:relative;list-style:outside none none;margin:0;text-align:center;vertical-align:middle;width:120px;display:inline-block;color:#fff}.fc_subchild li a.addtarget_btn{background:#fff;border:1px dashed #33a752;font-weight:700;margin:0;text-align:center;width:120px;display:inline-block;color:#138732;padding-top:10px;padding-bottom:10px;margin-top:15px;cursor:pointer}.fc_subchild li a:hover.addtarget_btn{background:#138732;color:#fff}.childdivsuniqueheader{width:90%;float:left;padding:10px;box-sizing:border-box}.formsfieldmainunique .childdivsunique_edit{width:100%;float:left;padding:10px;box-sizing:border-box}.childdivediticon_unique{width:5%;float:right;padding:2px 0;box-sizing:border-box}.iconedit_unique{background-image:url(/content/images/Black/inner_mono_new.png)!important;display:inline-block;width:32px!important;height:30px!important;background-position:-217px -60px!important}.formsfieldmainunique_condition{border:1px dashed #aed6f1;width:100%;box-sizing:border-box;float:left;margin-top:2px}.formsfieldmainunique_condition div.innercontbase{float:left;background:#ebf5fb;width:390px;max-height:220px;overflow-y:auto;overflow-x:hidden;min-height:60px}.formsfieldmainunique_condition div.innercont{float:left;padding:6px 0 15px 6px;margin-top:10px;max-width:345px;box-sizing:border-box}.formsfieldmainunique_condition div.inneredit{float:right;margin-top:11px;top:0;width:40px}.formsfieldmainunique_condition .iconedit_unique{padding:19px;margin-top:0;background:#fff;border-radius:50%!important}.childdivediticon_unique .iconedit_unique{padding:19px;margin-top:-5px;background:#fff;border-radius:50%!important}.formsfieldmainunique .parenthead span.text{float:left;width:92%}.formsfieldmainunique .parenthead span.icon{float:right;background-image:url(/content/images/Black/inner_mono_new.png)!important;width:30px!important;height:21px!important;background-position:-292px -4px!important;cursor:pointer}.fc_parentchild li p.shape_roundbtn{background:#fff;z-index:100;border:1px dashed #25a5ff;border-radius:30px;min-height:48px;list-style:none;margin:0 0 0 110px;position:relative;text-align:center;vertical-align:middle;width:50px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;cursor:pointer}.fc_parentchild li p.shape_roundbtn span{margin-top:13px;font-weight:700;color:#25a5ff;font-size:20px}.fc_parentchild li p:hover.shape_roundbtn{background:#25a5ff;color:#fff!important}.fc_parentchild li p:hover.shape_roundbtn span{color:#fff!important}#divTargetsdata .recyclebin.enable{border-radius:50%;padding:4px;background-position:6px -138px}#divTargetsdata .recyclebin.disable{background-color:#d2d2d2;border-radius:50%;padding:4px;background-position:-164px -665px}.divflagservicesser{left:-39px;top:-106px}.chkOffDays label{margin:5px 10px!important}.chkOffDays .color757575{text-align:center}.managepopupservice{z-index:9999}table.bottomalign td.up{vertical-align:top!important}.childdivsunique label{display:initial}.shape_polygan{cursor:move}.fc_subchildWhen li{margin:0!important}.childdivsuniqueheader{width:50%!important}#ViolationTimeReminder .multiselect__content-wrapper{position:relative}#ViolationTimeReminder .listing .table td:not(.day){vertical-align:top}',""]),e.exports=t},afa4:function(e,t,a){var i=a("a256");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("11aa7f64",i,!0,{sourceMap:!1,shadowMode:!1})},d4a9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("section",{staticClass:"main-content"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 padding-t_8"},[t("div",{staticClass:"theme-primary partition-full"},[t("span",{staticClass:"p-name text-white"},[e._v(" "+e._s(e.$t("AddSLA")))]),t("span",{staticClass:"float-right"},[t("RouterLink",{staticClass:"p-action-btn text-white float-right",attrs:{to:"/Ticketing/Policy"}},[t("em",{staticClass:"fa fa-angle-double-left"}),t("br"),e._v(" "+e._s(e.$t("BacktoList"))+" ")])],1)])])]),t("div",{staticClass:"border p-3"},[t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.OnSubmit},scopedSlots:e._u([{key:"tgslot-ApplyOnSLA",fn:function({data:a}){return[t("section",{staticClass:"main-content"},[t("div",{staticClass:"border p-3"},[t("div",{staticClass:"clearfix"}),t("div",{staticClass:"div-scroll"},[e.isShowFlowChart?t("div",{staticClass:"outer DivRuleFlowDataShowCls flowchart-fix",attrs:{id:"divruleflowdatashow"}},[t("ul",{staticClass:"fc_parentchild"},[t("li",{staticClass:"arrowdown"},[t("p",{staticClass:"shape_oval shape_ovalwhen"},[t("span",[e._v("When")])]),t("ul",{staticClass:"fc_subchild fc_subchildWhen"},[t("li",{staticClass:"arrowright top50 m-0"},[t("div",{staticClass:"formsfieldmainunique"},[t("div",{staticClass:"parenthead"},[t("span",{staticClass:"text"},[e._v("When do you want to execute the rule () ?")]),t("span",{class:{icon:!0,"d-none":!e.isShowBackIcon},attrs:{title:"Back","data-event":"hide"},on:{click:e.GotoBack}})]),t("div",{class:{childdivsunique_edit:!0,"d-none":!e.isShowEdit}},[t("div",{staticClass:"childdivsuniqueheader"},[t("span",[e._v("Routing: "+e._s(e.SelectedRouting)+" ")])]),t("div",{staticClass:"childdivediticon_unique textalignright d-block"},[t("a",{staticClass:"d-block"},[t("div",{staticClass:"iconedit_unique",on:{click:e.EditTarget}})])])]),t("div",{class:{childdivsunique_base:!0,"d-none":e.isShowEdit}},e._l(e.RuleEventList,(function(a,i){return t("div",{key:i,staticClass:"childdivsunique childdivsunique_HS color757575"},[t("input",{staticClass:"clsradioevent d-block",staticStyle:{display:"none"},attrs:{type:"radio",name:"radioevent"},on:{change:function(t){return e.OnChangeEvent(a,null,null)}}}),t("label",{staticClass:"offrd"}),t("span",[e._v(e._s(a.EVENT_NAME))])])})),0)])])])]),e._l(e.AddDeleteTarget,(function(a,i){return e.AddDeleteTarget.length>0?[t("li",{staticClass:"clstargetadd arrowdown",attrs:{id:"li_"+i,"data-eventid":a.RULE_EVENT_ID}},[t("p",{staticClass:"shape_polygan"},[t("span",[e._v(e._s(e.$t("Target")))]),t("span",{staticClass:"delete",attrs:{title:"Click here to delete Target"},on:{click:function(t){return e.DeleteTarget(i)}}})]),t("ul",{staticClass:"fc_subchild"},[""==e.TargetRuleCondition?t("li",{staticClass:"arrowright",attrs:{id:"litarger_"+i}},[t("p",{staticClass:"shape_btn"},[t("a",{staticClass:"addtarget_btn",on:{click:e.AddTarget}},[e._v(e._s(e.$t("AddTarget")))])])]):e._e(),""!=e.TargetRuleCondition?t("li",{staticClass:"arrowright",attrs:{id:"litarger_"+i}},[t("div",{staticClass:"formsfieldmainunique_condition"},[t("div",{staticClass:"innercontbase"},[t("div",{staticClass:"innercont"},[e._v(e._s(e.TargetRuleCondition)+" ")]),t("div",{staticClass:"inneredit d-block"},[t("a",{staticClass:"d-block"},[t("div",{staticClass:"iconedit_unique",on:{click:e.EditTargetCondition}})])])])])]):e._e()])])]:e._e()})),e.isShowAddMoreTarget?t("li",{staticClass:"arrowdown"},[t("p",{staticClass:"shape_roundbtn",attrs:{title:"Click here to add new Target"},on:{click:e.AddMoreTarget}},[t("span",[e._v("+")])])]):e._e()],2)]):e._e()])]),e.isShowTargetModal?t("addtarget",{attrs:{acionId:e.ActionId,TargetIndex:e.TargetIndex,moduleName:e.ModuleName,TargetConditionData:e.TargetConditionData},on:{close:function(t){e.isShowTargetModal=!1},GetformFields:e.GetformFields}}):e._e()],1)]}},{key:"tgslot-Targets",fn:function({data:a}){return[t("div",{staticClass:"col-lg-12 listing"},[t("div",{staticClass:"table-responsive tableborder table-fix-header"},[t("table",{staticClass:"table table-bordered mb-0",staticStyle:{width:"100%"},attrs:{role:"grid"}},[t("thead",{staticClass:"thead-bg"},[t("th",{staticClass:"text-center",attrs:{width:"50"}}),t("th",[e._v(e._s(e.$t("PriorityType"))+" ")]),t("th",{staticClass:"text-center",staticStyle:{"min-width":"235px"},attrs:{colspan:"2"}},[e._v(e._s(e.$t("ResponseTime"))+" ")]),t("th",{staticClass:"text-center",staticStyle:{"min-width":"240px"},attrs:{colspan:"2"}},[e._v(e._s(e.$t("AlertBeforeResponseTimeApproaches")))]),t("th",{staticClass:"text-center",staticStyle:{"min-width":"235px"},attrs:{colspan:"2"}},[e._v(e._s(e.$t("ResolveTime"))+" ")]),t("th",{staticClass:"text-center",staticStyle:{"min-width":"240px"},attrs:{colspan:"2"}},[e._v(e._s(e.$t("AlertBeforeResolveTimeApproaches")))])]),t("tbody",e._l(e.TargetList,(function(a,i){return t("tr",[t("td",[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkitems custom-control-input",attrs:{id:a.prioritY_ID,type:"checkbox"},domProps:{checked:a.response_time>0},on:{click:function(t){return e.ToggleTargetPriorityCheckboxOnChange(a,t)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:a.prioritY_ID,type:"checkbox"}})])]),t("td",[e._v(" "+e._s(a.prioritY_NAME)+" ")]),t("td",{staticClass:"Text-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.response_time,expression:"items.response_time"}],class:{"form-control ResponseTimeField":!0,disabled:0==a.isPriorityChecked},attrs:{disabled:0==a.isPriorityChecked,id:"ResponseTime_"+a.prioritY_ID,name:"ResponseTime_"+a.prioritY_ID,"data-val-required":"The ResponseTime field is required."},domProps:{value:a.response_time},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"response_time",t.target.multiple?i:i[0])}}},e._l(e.TimeDropdownList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.response_time_type,expression:"items.response_time_type"}],class:{"form-control ResponseTimeTypeField":!0,disabled:0==a.isPriorityChecked},attrs:{disabled:0==a.isPriorityChecked,id:"ResponseTimeType_"+a.prioritY_ID,name:"ResponseTimeType_"+a.prioritY_ID},domProps:{value:a.response_time_type},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"response_time_type",t.target.multiple?i:i[0])}}},e._l(e.VoilationTimeType,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.response_time_approaches,expression:"items.response_time_approaches"}],class:{"form-control ResponseTimeApproachField":!0,disabled:0==a.isPriorityChecked},attrs:{disabled:0==a.isPriorityChecked,id:"ResponseTimeApproach_"+a.prioritY_ID,name:"ResponseTimeApproach_"+a.prioritY_ID,"data-val":"true","data-val-required":"The ResponseTimeApproach field is required."},domProps:{value:a.response_time_approaches},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"response_time_approaches",t.target.multiple?i:i[0])}}},e._l(e.TimeDropdownList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.response_time_approaches_type,expression:"items.response_time_approaches_type"}],class:{"form-control ResponseTimeApproachType":!0,disabled:0==a.isPriorityChecked},attrs:{disabled:0==a.isPriorityChecked,id:"ResponseTimeApproachType_"+a.prioritY_ID,name:"ResponseTimeApproachType_"+a.prioritY_ID},domProps:{value:a.response_time_approaches_type},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"response_time_approaches_type",t.target.multiple?i:i[0])}}},e._l(e.VoilationTimeType,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.resolve_time,expression:"items.resolve_time"}],class:{"form-control ResolveTime":!0,disabled:0==a.isPriorityChecked},attrs:{disabled:0==a.isPriorityChecked,id:"ResolveTime_"+a.prioritY_ID,name:"ResolveTime_"+a.prioritY_ID,"data-val":"true","data-val-required":"The ResolveTime field is required."},domProps:{value:a.resolve_time},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"resolve_time",t.target.multiple?i:i[0])}}},e._l(e.TimeDropdownList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.resolve_time_type,expression:"items.resolve_time_type"}],class:{"form-control ResolveTimeType":!0,disabled:0==a.isPriorityChecked},attrs:{disabled:0==a.isPriorityChecked,id:"ResolveTimeType_"+a.prioritY_ID,name:"ResolveTimeType_"+a.prioritY_ID},domProps:{value:a.resolve_time_type},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"resolve_time_type",t.target.multiple?i:i[0])}}},e._l(e.VoilationTimeType,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.resolve_time_approaches,expression:"items.resolve_time_approaches"}],class:{"form-control ResolveTimeApproach":!0,disabled:0==a.isPriorityChecked},attrs:{disabled:0==a.isPriorityChecked,id:"ResolveTimeApproach_"+a.prioritY_ID,name:"ResolveTimeApproach_"+a.prioritY_ID,"data-val":"true","data-val-required":"The ResolveTimeApproach field is required."},domProps:{value:a.resolve_time_approaches},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"resolve_time_approaches",t.target.multiple?i:i[0])}}},e._l(e.TimeDropdownList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.resolve_time_approaches_type,expression:"items.resolve_time_approaches_type"}],class:{"form-control ResolveTimeApproachType":!0,disabled:0==a.isPriorityChecked},attrs:{disabled:0==a.isPriorityChecked,id:"ResolveTimeApproachType_"+a.prioritY_ID,name:"ResolveTimeApproachType_"+a.prioritY_ID},domProps:{value:a.resolve_time_approaches_type},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"resolve_time_approaches_type",t.target.multiple?i:i[0])}}},e._l(e.VoilationTimeType,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)])])})),0)])])]),e.IsRequireTarget?t("div",{staticClass:"col-12 float-left"},[t("span",{staticClass:"text-danger",staticStyle:{"font-weight":"700"},attrs:{id:"spnTarget"}},[e._v(e._s(e.$t("SelectTheTarget")))])]):e._e()]}},{key:"tgslot-ViolationTimeReminder",fn:function({data:a}){return[t("div",{staticClass:"col-lg-12 listing"},[t("div",{staticClass:"table-responsive tableborder table-fix-header overflow-visible"},[t("table",{staticClass:"table table-bordered mb-0",staticStyle:{width:"100%"},attrs:{role:"grid"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticStyle:{width:"50%","min-width":"320px"},attrs:{colspan:"3"}},[e._v(e._s(e.$t("TimeApproachedSLA"))+" ")]),t("th",{staticStyle:{width:"50%"},attrs:{colspan:"2"}},[e._v(e._s(e.$t("NotifyTo")))])])]),t("tbody",[t("tr",[t("td",{staticClass:"Text-center"},[e._v(e._s(e.$t("ResponseDueSLA"))+":")]),t("td",{staticClass:"Text-center"},[t("select",{staticClass:"form-control ResponseDueSLAField",attrs:{"data-val":"true","data-val-required":"The ResponseDueSLA field is required.",id:"ResolveTimeApproach",name:"ResolveTimeApproach"},domProps:{value:e.SLAResponseDue},on:{change:function(t){return e.ResponseDueSLAOnChange(e.items,t)}}},e._l(e.TimeDropdownList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{staticClass:"form-control ResponseDueSLATypeField",attrs:{id:"ResponseDueSLATypeField",name:"ResponseDueSLAType"},domProps:{value:e.SLAResponseDueType},on:{change:function(t){return e.ResponseDueSLATypeFieldOnChange(e.items,t)}}},e._l(e.VoilationTimeType,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text))])})),0)]),t("td",{staticClass:"overflow-visible"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkitems custom-control-input",attrs:{id:"policySLAReminderResponse_IsHOD",name:"policySLAReminderResponse_IsHOD",type:"checkbox"}}),t("label",{staticClass:"custom-control-label",attrs:{for:"policySLAReminderResponse_IsHOD",type:"checkbox"}},[e._v(e._s(e.$t("SLA_HOD")))])]),t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkitems custom-control-input",attrs:{id:"policySLAReminderResponse_IsCA",name:"policySLAReminderResponse_IsCA",type:"checkbox"}}),t("label",{staticClass:"custom-control-label",attrs:{for:"policySLAReminderResponse_IsCA",type:"checkbox"}},[e._v(e._s(e.$t("SLA_CA")))])]),t("div",{staticClass:"form-group d-inline-block mt-0 mb-0 divResponseAssignToIds",staticStyle:{position:"absolute",overflow:"visible !important"}},[t("multiselect",{attrs:{placeholder:"Select User","max-height":150,id:"ResponseAssignTo",label:"text","track-by":"value",limit:2,options:e.GetCompanyUserListByCompanyId,multiple:!0,taggable:!0},model:{value:e.ResponseSelectedUser,callback:function(t){e.ResponseSelectedUser=t},expression:"ResponseSelectedUser"}}),t("input",{attrs:{type:"hidden","asp-for":"policySLAReminderResponse.ResponseAssignTo",id:"hdnResponseAssignTo"}})],1)])])])]),t("tr",[t("td",{staticClass:"Text-center"},[e._v(e._s(e.$t("ResolveDueSLA"))+":")]),t("td",{staticClass:"Text-center"},[t("select",{staticClass:"form-control ResolveDueSLAField",attrs:{"data-val":"true","data-val-required":"The ResolveDueSLA field is required.",id:"ResolveDueSLA",name:"ResolveDueSLA"},domProps:{value:e.SLAResolveDue},on:{change:function(t){return e.ResolveDueSLAOnChange(e.items,t)}}},e._l(e.TimeDropdownList,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text)+" ")])})),0)]),t("td",{staticClass:"Text-center"},[t("select",{staticClass:"form-control ResolveDueSLATypeField",attrs:{id:"ResolveDueSLAType",name:"ResolveDueSLAType"},domProps:{value:e.SLAResolveDueType},on:{change:function(t){return e.ResolveDueSLATypeOnChange(e.items,t)}}},e._l(e.VoilationTimeType,(function(a){return t("option",{domProps:{value:a.value}},[e._v(e._s(a.text))])})),0)]),t("td",{staticClass:"overflow-visible"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkitems custom-control-input",attrs:{id:"policySLAReminderResolve_IsHOD",name:"policySLAReminderResolve_IsHOD",type:"checkbox"}}),t("label",{staticClass:"custom-control-label",attrs:{for:"policySLAReminderResolve_IsHOD",type:"checkbox"}},[e._v(e._s(e.$t("SLA_HOD")))])]),t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkitems custom-control-input",attrs:{id:"policySLAReminderResolve_IsCA",name:"policySLAReminderResolve_IsCA",type:"checkbox"}}),t("label",{staticClass:"custom-control-label",attrs:{for:"policySLAReminderResolve_IsCA",type:"checkbox"}},[e._v(e._s(e.$t("SLA_CA")))])]),t("div",{staticClass:"form-group d-inline-block mt-0 mb-0 divResolveAssignToIds",staticStyle:{position:"absolute",overflow:"visible !important"}},[t("multiselect",{attrs:{placeholder:"Select User",id:"ResolveAssignTo",label:"text","track-by":"value","max-height":150,options:e.GetCompanyUserListByCompanyId,limit:2,multiple:!0,taggable:!0},model:{value:e.ResolveSelectedUser,callback:function(t){e.ResolveSelectedUser=t},expression:"ResolveSelectedUser"}}),t("input",{attrs:{type:"hidden","asp-for":"policySLAReminderResolve.ResolveAssignTo",id:"hdnResolveAssignTo"}})],1)])])])])])])])])]}}])})],1)],1)},s=[],o=(a("14d9"),a("9769")),r=a("4833"),n={components:{addtarget:r["a"]},data(){return{isLoading:!1,SLAId:0,RuleId:0,ModuleId:0,ActionId:0,EventId:"",TargetRuleCondition:"",TargetDataBaseCondition:"",TargetConditionData:[],TargetList:[],ResponseSelectedUser:[],ResolveSelectedUser:[],ListResponseData:[],RuleEventList:[],TimeReminderList:[],VoilationTimeType:[],TimeDropdownList:[],AddDeleteTarget:[],SelectedRouting:"",isShowBackIcon:!1,isShowAddMoreTarget:!1,IsRequireTarget:!1,slaResponseReminderId:0,slaResolveReminderId:0,isShowFlowChart:!0,isShowEdit:!1,ModuleName:"",SLAResponseDue:0,SLAResponseDueType:"Hour",SLAResolveDue:0,SLAResolveDueType:"Hour",GetCompanyUserListByCompanyId:[],GetDDLTicketCategoryByCompanyId:[],NewOperatorListData:[],GetCompanyClientByCompanyId:[],GetCompanyUserByCompanyId:[],GetDepartmentListbyCompanyForClient:[],SlaProductList:[],YesorNoList:[],GetDDLTicketZoneByCompanyId:[],GetWorkTypeList:[],isShowTargetModal:!1,IsAddPolicy:!0,TargetIndex:0,FormSchema:[{layoutType:"triple",group_name:"Policy Details",Data:[{astype:"TextField",label:this.$t("PolicyName"),name:"PolicyName",value:"",placeholder:"",validationRules:{required:!0}},{astype:"DateField",label:this.$t("PolicyDate"),name:"PolicyDate",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("description"),name:"Description",value:"",placeholder:"",validationRules:{required:!0,max:100}},{astype:"CheckBoxField",label:this.$t("IsApplyTicketPolicy"),name:"IsApplyTicketPolicy",value:"",config:{options:[{name:"",value:"true"}]},validationRules:""}]},{layoutType:"single",group_name:"Apply On SLA",Data:[{astype:"slotField",label:"",name:"ApplyOnSLA",value:"",placeholder:"",validationRules:""}]},{layoutType:"single",group_name:"SLA Business Hours",Data:[{astype:"toggleField",label:this.$t("24 Hours"),name:"Is24Hours",config:{options:[],onChange:this.GetDisableFields},value:"",placeholder:"",validationRules:""}]},{layoutType:"triple",Data:[{astype:"DateField",label:this.$t("EventStartTime"),name:"StartTime",value:"",config:{mode:"Time",is24hr:!1,format:"YYYY-MM-DD-hh:mm"},placeholder:"",validationRules:{required:!0,max:100}},{astype:"DateField",label:this.$t("CAEndTime"),name:"EndTime",value:"",config:{mode:"Time",is24hr:!1,format:"YYYY-MM-DD-hh:mm"},placeholder:"",validationRules:{required:!0,max:100}},{astype:"CheckBoxField",label:this.$t("WeekOffDays"),name:"WeekOffDays",value:"",placeholder:"",config:{options:[{name:"Mon",value:"Mon"},{name:"Tue",value:"Tue"},{name:"Wed",value:"Wed"},{name:"Thu",value:"Thu"},{name:"Fri",value:"Fri"},{name:"Sat",value:"Sat"},{name:"Sun",value:"Sun"},{name:"Holiday",value:"Holiday"}]},validationRules:""}]},{layoutType:"single",group_name:"Targets",Data:[{astype:"slotField",label:"",name:"Targets",value:"",placeholder:"",validationRules:""}]},{layoutType:"single",group_name:"Violation Time Reminder",Data:[{astype:"slotField",label:"",name:"ViolationTimeReminder",value:"",placeholder:"",validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}]}},created:async function(){var e=this;await this.FetchData(),await e.GetWorkTypeListing(),await this.GetRuleEventItems(e.ActionId,0),this.ToggleTargetPriorityCheckboxOnChange(this.$route.params.id),e.UserId=e.GetUserInfo.ID,e.CompanyId=e.GetUserInfo.CompanyId},methods:{ToggleTargetPriorityCheckboxOnChange:function(e,t){var a=this;void 0==t?a.TargetList.forEach((function(t){void 0!=t.responseData&&t.responseData.length>0&&t.responseData[0].sla_id==e?t.isPriorityChecked=!0:t.isPriorityChecked=!1})):t.target.checked?e.isPriorityChecked=!0:e.isPriorityChecked=!1,a.IsRequireTarget=!1},ResponseDueSLAOnChange:function(e,t){var a=this;a.SLAResponseDue=t.target.value},ResponseDueSLATypeFieldOnChange:function(e,t){var a=this;""==t.target.value?a.SLAResponseDueType="Hour":a.SLAResponseDueType=t.target.value},ResolveDueSLAOnChange:function(e,t){var a=this;a.SLAResolveDue=t.target.value},ResolveDueSLATypeOnChange:function(e,t){var a=this;""==t.target.value?a.SLAResolveDueType="Hour":a.SLAResolveDueType=t.target.value},FetchData:async function(){var e=this;e.isLoading=!0;var t="slaId="+this.$route.params.id;await o["a"].GetPolicyDetailById(t).then((function(t){if(null!=t.data&&""!=t.data){if(200==t.status||"OK"==t.statusText){let n=t.data.GetPrioritybyCompanyId.result;n.forEach(e=>{e.isPriorityChecked=!1}),e.TargetList=n,e.TargetList.forEach(e=>{e.response_time=0,e.response_time_type="Hour",e.resolve_time=0,e.resolve_time_type="Hour",e.resolve_time_approaches=0,e.resolve_time_approaches_type="Hour",e.response_time_approaches=0,e.response_time_approaches_type="Hour"}),e.VoilationTimeType=t.data.VoilationTimeType,e.YesorNoList=t.data.YesNoList;let l=[];l=t.data.companyUserByCompanyId,null!=l&&l.forEach((t,a)=>{e.GetCompanyUserByCompanyId.push({value:t.USERID,text:t.USERNAME})});let d=[];d=t.data.GetDDLTicketCategoryByCompanyId.result,null!=d&&d.forEach((t,a)=>{e.GetDDLTicketCategoryByCompanyId.push({value:t.value,text:t.name})});let p=[];p=t.data.GetCompanyClientByCompanyId.result,null!=p&&p.forEach((t,a)=>{e.GetCompanyClientByCompanyId.push({value:t.value,text:t.name})});let c=[];c=t.data.ProductsList.result,null!=c&&c.forEach((t,a)=>{e.SlaProductList.push({value:t.value,text:t.name})});let u=[];u=t.data.GetDepartmentListbyCompanyForClient.result,null!=u&&u.forEach((t,a)=>{e.GetDepartmentListbyCompanyForClient.push({value:t.departmenT_ID,text:t.departmenT_NAME})});let m=[];if(m=t.data.GetDDLTicketZoneByCompanyId,null!=m&&m.forEach((t,a)=>{e.GetDDLTicketZoneByCompanyId.push({value:t.ZONE_ID,text:t.ZONE_NAME})}),e.TimeDropdownList=t.data.TimeDropdownList,e.GetCompanyUserListByCompanyId=t.data.GetCompanyUserListByCompanyId.result,t.data.RuleSLADetails.result.length>0&&t.data.RuleSLADetails.result.forEach((t,a)=>{"Ticketing"==t.MODULE_NAME&&(e.ActionId=t.ACTION_ID)}),e.ModuleId=t.data.RuleSLADetails.result[0].MODULE_ID,null!=t.data.GetSlaTargetDetails){e.FormSchema[0].Data[0].value=t.data.GetSlaTargetDetails.result.result.slaData[0].policy_name,e.FormSchema[0].Data[1].value=t.data.GetSlaTargetDetails.result.result.slaData[0].policy_date,e.FormSchema[0].Data[2].value=t.data.GetSlaTargetDetails.result.result.slaData[0].status_id,e.FormSchema[1].Data[0].value=t.data.GetSlaTargetDetails.result.result.slaData[0].policy_description,e.FormSchema[1].Data[1].value=t.data.GetSlaTargetDetails.result.result.slaData[0].apply_on_all,1==e.FormSchema[1].Data[1].value&&(e.FormSchema[1].Data[1].value="true"),e.FormSchema[4].Data[0].value=""==t.data.GetSlaTargetDetails.result.result.slaBusinessData?"":new Date(t.data.GetSlaTargetDetails.result.result.slaBusinessData[0].start_time),e.FormSchema[4].Data[1].value=""==t.data.GetSlaTargetDetails.result.result.slaBusinessData?"":new Date(t.data.GetSlaTargetDetails.result.result.slaBusinessData[0].end_time);var a=""==t.data.GetSlaTargetDetails.result.result.slaBusinessData?"":t.data.GetSlaTargetDetails.result.result.slaBusinessData[0].weekdays;if(null==a)e.FormSchema[4].Data[2].value=""==t.data.GetSlaTargetDetails.result.result.slaBusinessData?"":t.data.GetSlaTargetDetails.result.result.slaBusinessData[0].weekdays;else{let t=a.split(",");e.FormSchema[4].Data[2].value=t}if(e.FormSchema[3].Data[0].value=""==t.data.GetSlaTargetDetails.result.result.slaBusinessData?"":t.data.GetSlaTargetDetails.result.result.slaBusinessData[0].is_24_hours,e.GetDisableFields(null,e.FormSchema[3].Data[0].value),null!=t.data.GetSlaTargetDetails.result.result.reminderData&&""!=t.data.GetSlaTargetDetails.result.result.reminderData&&t.data.GetSlaTargetDetails.result.result.reminderData.forEach(t=>{"Response"==t.reminder_type&&(e.slaResponseReminderId=t.sla_reminder_id,e.SLAResponseDue=t.time_approaches,e.SLAResponseDueType=t.time_approaches_type,1==t.is_hod&&$("input[name='policySLAReminderResponse_IsHOD").prop("checked",!0),1==t.is_ca&&$("input[name='policySLAReminderResponse_IsCA").prop("checked",!0)),"Resolve"==t.reminder_type&&(e.slaResolveReminderId=t.sla_reminder_id,e.SLAResolveDue=t.time_approaches,e.SLAResolveDueType=t.time_approaches_type,1==t.is_hod&&$("input[name='policySLAReminderResolve_IsHOD").prop("checked",!0),1==t.is_ca&&$("input[name='policySLAReminderResolve_IsCA").prop("checked",!0))}),null!=t.data.GetSlaTargetDetails.result.result.SlaViolationData&&""!=t.data.GetSlaTargetDetails.result.result.SlaViolationData){var i={},s={},o=[],r=[];t.data.GetSlaTargetDetails.result.result.SlaViolationData.forEach((t,a)=>{"Response"==t.tls[0].reminder_type&&(i=e.GetCompanyUserListByCompanyId.filter(e=>e.value==t.reminder_assign_id),o.push({value:i[0].value,text:i[0].text})),"Resolve"==t.tls[0].reminder_type&&(s=e.GetCompanyUserListByCompanyId.filter(e=>e.value==t.reminder_assign_id),r.push({value:s[0].value,text:s[0].text}))}),e.ResponseSelectedUser=o,e.ResolveSelectedUser=r}e.RuleId=""==t.data.GetSlaTargetDetails.result.result.slaData?0:t.data.GetSlaTargetDetails.result.result.slaData[0].rule_id,e.ListResponseData=t.data.GetSlaTargetDetails.result.result.targetData;let n=e.TargetList;n.forEach(t=>{t.responseData=e.ListResponseData.filter(e=>e.priority_id==t.prioritY_ID)}),e.TargetList=n,e.TargetList.forEach(e=>{e.response_time=void 0!=e.responseData[0]&&e.responseData.length>0?e.responseData[0].response_time:0,e.response_time_type=void 0!=e.responseData[0]&&e.responseData.length>0?e.responseData[0].response_time_type:"Hour",e.resolve_time=void 0!=e.responseData[0]&&e.responseData.length>0?e.responseData[0].resolve_time:0,e.resolve_time_type=void 0!=e.responseData[0]&&e.responseData.length>0?e.responseData[0].resolve_time_type:"Hour",e.resolve_time_approaches=void 0!=e.responseData[0]&&e.responseData.length>0?e.responseData[0].resolve_time_approaches:0,e.resolve_time_approaches_type=void 0!=e.responseData[0]&&e.responseData.length>0?e.responseData[0].resolve_time_approaches_type:"Hour",e.response_time_approaches=void 0!=e.responseData[0]&&e.responseData.length>0?e.responseData[0].response_time_approaches:0,e.response_time_approaches_type=void 0!=e.responseData[0]&&e.responseData.length>0?e.responseData[0].response_time_approaches_type:"Hour"}),""!=e.RuleId&&e.GetRuleDetailByRuleId(e.RuleId)}}e.isLoading=!1}setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},GetWorkTypeListing:async function(){var e=this,t="id=&&moduleName=FSM&type=FSM_WORKTYPE&search=&refId=";await o["a"].GetDDLDataFSM(t).then((function(t){if(t.data){var a=t.data;null!=a&&t.data.result.DATA.forEach((t,a)=>{e.GetWorkTypeList.push({value:t.value,text:t.name})})}}))},GetRuleDetailByRuleId:async function(e){var t=this,a="fieldId=";await this.GetRuleEventItems(t.ActionId,0),await o["a"].GetOperators(a).then((function(e){t.NewOperatorListData=e.data}));var i=`actionId=${t.ActionId}&eventids=${t.EventId}`;await o["a"].GetRuleActionFields(i).then((function(e){t.FieldsDropDownList=e.data}));a="id="+e;await o["a"].GetRuleDetaildByRuleId(a).then(e=>{if(e.data.length>0){var a=e.data[0].ACTION_EVENT_ID,i={};i=t.RuleEventList.filter(e=>e.RULE_EVENT_ID==a);var s=i[0].EVENT_NAME;t.OnChangeEvent(null,a,s),t.TargetRuleCondition=e.data[0].DISPLAY_CONDITION,t.TargetDataBaseCondition=e.data[0].DATABASE_CONDITION;e.data;var o=[];e.data.forEach(e=>{if(""!=h){var a="",i="",s="",r="",n="",l="",d="",p={},c=[];if(p=t.FieldsDropDownList.filter(t=>t.COLUMN_ID==e.FIELD_ID),"category"==p[0].DISPLAY_NAME||"client"==p[0].DISPLAY_NAME||"Created By"==p[0].DISPLAY_NAME||"product"==p[0].DISPLAY_NAME||"department"==p[0].DISPLAY_NAME||"Is Field Service"==p[0].DISPLAY_NAME||"Ticket Area"==p[0].DISPLAY_NAME||"TypeofWork"==p[0].DISPLAY_NAME||"Type Of Work"==p[0].DISPLAY_NAME?(t.NewOperatorListData.forEach(e=>{"="==e.OPERATOR_EXPRESSION&&"bigint"==e.OPERATION_DATA_TYPE&&c.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION}),"IN"!=e.OPERATOR_EXPRESSION&&"NOT IN"!=e.OPERATOR_EXPRESSION||"nvarchar"!=e.OPERATION_DATA_TYPE||c.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION})}),d=c):(t.NewOperatorListData.forEach(e=>{"nvarchar"==e.OPERATION_DATA_TYPE&&c.push({value:e.OPERATOR_ID,name:e.OPERATOR_DISPLAY_NAME,Expression:e.OPERATOR_EXPRESSION})}),d=c),"Is Field Service"==p[0].DISPLAY_NAME&&(a="IsFieldService"),"="==e.OPERATOR_EXPRESSION&&"bigint"==e.DATA_TYPE?i="select":"IN"!=e.OPERATOR_EXPRESSION&&"NOT IN"!=e.OPERATOR_EXPRESSION||"bigint"!=e.DATA_TYPE||(i="multiselect"),"nvarchar"==e.DATA_TYPE&&"IsFieldService"!=a&&(s=null==e.FIELD_VALUE?e.FIELD_SECOND_VALUE:e.FIELD_VALUE),"bigint"==e.DATA_TYPE&&"select"==i||"IsFieldService"==a){r=e.FIELD_VALUE;var u={};if("IsFieldService"==a){var m="no"==e.FIELD_VALUE?"No":"Yes";u=t.YesorNoList.filter(e=>e.text==m),r=u[0].value}}"bigint"==e.DATA_TYPE&&"multiselect"==i&&(n=e.FIELD_VALUE),"category"==p[0].DISPLAY_NAME?l=t.GetDDLTicketCategoryByCompanyId:"client"==p[0].DISPLAY_NAME?l=t.GetCompanyClientByCompanyId:"Created By"==p[0].DISPLAY_NAME?l=t.GetCompanyUserByCompanyId:"product"==p[0].DISPLAY_NAME?l=t.SlaProductList:"department"==p[0].DISPLAY_NAME?l=t.GetDepartmentListbyCompanyForClient:"Is Field Service"==p[0].DISPLAY_NAME?(l=t.YesorNoList,a="IsFieldService"):l="Ticket Area"==p[0].DISPLAY_NAME?t.GetDDLTicketZoneByCompanyId:"Type of Work"==p[0].DISPLAY_NAME||"TypeofWork"==p[0].DISPLAY_NAME||"Type Of Work"==p[0].DISPLAY_NAME?t.GetWorkTypeList:"";var h="",v="",_="",g=[],f=n.split(",");if(f.length>0&&""!=f[0])""!=l&&l.forEach((e,t)=>{f.forEach((t,a)=>{t==e.value&&g.push(e)})}),_=g;else if(""!=r&&1==f.length){""!=l&&l.forEach((e,t)=>{h=e.text,v=e.value});v}var y={RuleTarget:e.FIELD_ID,OperatorId:e.OPERATOR_ID,multiselector:_,selectorField:r,TextTypeField:s,DataType:e.DATA_TYPE,DDlType:l,selectType:i,condition:e.RELATION_WITH_PARENT,selectedValue:a,OperatorDataList:d};o.push(y)}}),t.TargetConditionData=o}})},GetDisableFields:async function(e,t){var a=this;null==e?1==t?(a.FormSchema[4].Data[0].disabled=!0,a.FormSchema[4].Data[1].disabled=!0,a.FormSchema[4].Data[0].validationRules={required:!1},a.FormSchema[4].Data[1].validationRules={required:!1},a.FormSchema[4].Data[0].value="",a.FormSchema[4].Data[1].value=""):(a.FormSchema[4].Data[0].disabled=!1,a.FormSchema[4].Data[1].disabled=!1,a.FormSchema[4].Data[0].validationRules={required:!0},a.FormSchema[4].Data[1].validationRules={required:!0}):1==e?(a.FormSchema[4].Data[0].disabled=!0,a.FormSchema[4].Data[1].disabled=!0,a.FormSchema[4].Data[0].validationRules={required:!1},a.FormSchema[4].Data[1].validationRules={required:!1},a.FormSchema[4].Data[0].value="",a.FormSchema[4].Data[1].value=""):(a.FormSchema[4].Data[0].disabled=!1,a.FormSchema[4].Data[1].disabled=!1,a.FormSchema[4].Data[0].validationRules={required:!0},a.FormSchema[4].Data[1].validationRules={required:!0})},Close(){this.$router.push({name:"TicketingPolicy"})},GotoBack:async function(){var e=this;e.isShowEdit=!0,e.isShowBackIcon=!1},EditTarget:async function(){var e=this;e.isShowEdit=!1,e.isShowBackIcon=!0},GetRuleEventItems:async function(e,t){var a=this,i="actionId="+e;await o["a"].RuleEventItems(i).then((function(e){a.RuleEventList=e.data}))},AddTarget:async function(){var e=this;e.TargetIndex=0,e.isShowTargetModal=!0},GetformFields:async function(e,t,a){var i=this;i.TargetRuleCondition=t,i.TargetConditionData=e,i.TargetDataBaseCondition=a},EditTargetCondition:async function(){var e=this;e.TargetIndex=0,e.isShowTargetModal=!0},OnChangeEvent:async function(e,t,a){var i=this;if(null==e){i.AddDeleteTarget=[],i.SelectedRouting=a,i.EventId=t,i.isShowEdit=!0,i.isShowBackIcon=!1;var s={RULE_EVENT_ID:t};i.AddDeleteTarget.push(s)}else{i.AddDeleteTarget=[],i.SelectedRouting=e.EVENT_NAME,i.EventId=e.RULE_EVENT_ID,i.isShowEdit=!0,i.isShowBackIcon=!1;s={RULE_EVENT_ID:e.RULE_EVENT_ID};i.AddDeleteTarget.push(s)}},AddMoreTarget(){var e=this,t={RULE_EVENT_ID:0};e.AddDeleteTarget.push(t)},dateAdd:function(e,t,a){var i=new Date(e);switch(t.toLowerCase()){case"day":i.setDate(i.getDate()+a);break;case"hour":i.setTime(i.getTime()+36e5*a);break;case"minute":i.setTime(i.getTime()+6e4*a);break;default:i=void 0;break}return i},DeleteTarget:async function(e){var t=this;t.confirmR(t.$t("ConfirmDeleteTarget"),!0,t.$t("Delete"),(function(){t.AddDeleteTarget.splice(e,1)}))},OnSubmit(e,t){var a=this;a.buttons[0].class+=" disabled";var i=null,s=[],r=[],n=[];null==i&&void 0==i||(s=JSON.parse(i)),a.TargetConditionData.forEach(e=>{var t="",i="";null!=e.multiselector&&""!=e.multiselector?(e.multiselector.forEach((e,a)=>{0==a?t=e.value:t+=","+e.value}),i=t):i=e.selectorField;var s={OpeningBrackets:"(",FieldValue:i,FieldSecondValue:e.TextTypeField,ClosingBrackets:")",RelationWithParent:e.condition,FieldId:e.RuleTarget,OperatorId:e.OperatorId,RuleCondition:a.TargetRuleCondition,RuleDatabaseCondition:a.TargetDataBaseCondition,RuleTargetResultCondition:""};r.push(s)});var l={RuleTargetList:r,RuleTargetResult:s};if(n.push(l),0==n[0].RuleTargetList.length)return a.ShowAlert(a.$t("SlaWhenAlertMessage"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",!1;var d=[];if(a.TargetList.forEach(e=>{1==e.isPriorityChecked&&d.push(e)}),""==d.length){a=this;return a.IsRequireTarget=!0,a.ShowAlert(a.$t("CorrectHighlightedErrors"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",!1}a.IsRequireTarget=!1,d.forEach(e=>{if(""!=e){var t,i,s,o=new Date,r=new Date;if(r="Hour"==e.response_time_type?a.dateAdd(o,"HOUR",parseInt(e.response_time)):"Minute"==e.response_time_type?a.dateAdd(o,"Minute",parseInt(e.response_time)):a.dateAdd(o,"Day",parseInt(e.response_time)),t="Hour"==e.resolve_time_approaches_type?a.dateAdd(o,"HOUR",parseInt(e.response_time_approaches)):"Minute"==e.resolve_time_approaches_type?a.dateAdd(o,"Minute",parseInt(e.response_time_approaches)):a.dateAdd(o,"Day",parseInt(e.response_time_approaches)),i="Hour"==e.resolve_time_type?a.dateAdd(o,"HOUR",parseInt(e.resolve_time)):"Minute"==e.resolve_time_type?a.dateAdd(o,"Minute",parseInt(e.resolve_time)):a.dateAdd(o,"Day",parseInt(e.resolve_time)),s="Hour"==e.resolve_time_approaches_type?a.dateAdd(o,"HOUR",parseInt(e.resolve_time_approaches)):"Minute"==e.resolve_time_approaches_type?a.dateAdd(o,"Minute",parseInt(e.resolve_time_approaches)):a.dateAdd(o,"Day",parseInt(e.resolve_time_approaches)),r<=t)return $(this).find(".ResponseTimeField").addClass("is-invalid"),a.ShowAlert(a.$t("SLAResponseTimeValidation"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",msg="no",chkTargets=!0,!1;if(i<=s)return $(this).find(".ResolveTimeField").addClass("is-invalid"),a.ShowAlert(a.$t("SLAResolveTimeValidation"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",msg="no",chkTargets=!0,!1;if(r>=i)return a.ShowAlert(a.$t("SLAResponseResolveTimeValidation"),"warning",!0,a.$t("Alert")),$(this).find(".ResolveTimeField").addClass("is-invalid"),a.buttons[0].class="btn btn-success",msg="no",chkTargets=!0,!1;var n=6e4,l=(i-r)/n;if(l<10)return a.ShowAlert(a.$t("SLAMinimumGapResponseResolveTimeValidation"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",msg="no",chkTargets=!0,!1;if("Minute"==e.response_time_type&&parseInt(e.response_time)<20)return a.ShowAlert(a.$t("SLAMinimumResponseTimeValidation"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",msg="no",chkTargets=!0,!1;if("Minute"==e.response_time_type&&parseInt(e.response_time_approaches)<10)return a.ShowAlert(a.$t("SLAMinimumAlertResponseTimeValidation"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",msg="no",chkTargets=!0,!1;if("Minute"==e.response_time_type&&parseInt(e.resolve_time)<30)return a.ShowAlert(a.$t("SLAMinimumResolveTimeValidation"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",msg="no",chkTargets=!0,!1;if("Minute"==e.response_time_approaches_type&&parseInt(e.resolve_time_approaches)<10)return a.ShowAlert(a.$t("SLAMinimumAlertResolveTimeValidation"),"warning",!0,a.$t("Alert")),a.buttons[0].class="btn btn-success",msg="no",chkTargets=!0,!1}});var p={RuleId:a.RuleId,RuleName:e.PolicyName,ModuleId:a.ModuleId,Description:e.Description,ActionId:a.ActionId,EventId:a.EventId,RuleTarget:n,IsForSla:1},c=JSON.stringify(p);o["a"].SaveRuleEngine(c).then(t=>{if(0==t.data.STATUS_CODE){var i=t.data.RULE_ID;a.AddOrEditPolicy(e,i)}else a.ShowAlert(a.$t("AddedError",[a.$t("Policy")]),"failure",!0,a.$t("Alert")),a.Close()})},AddOrEditPolicy:async function(e,t){var a=this,i="",s=[];a.TargetList.forEach(e=>{if(1==e.isPriorityChecked){var t={SlaTargetId:0,SlaId:0,CheckBoxEnabled:e.isPriorityChecked,PriorityId:e.prioritY_ID,PriorityName:e.prioritY_NAME,ResponseTime:e.response_time,ResponseTimeType:e.response_time_type,ResolveTime:e.resolve_time,ResolveTimeType:e.resolve_time_type,ResponseTimeApproach:e.response_time_approaches,ResponseTimeApproachType:e.response_time_approaches_type,ResolveTimeApproach:e.resolve_time_approaches,ResolveTimeApproachType:e.resolve_time_approaches_type};s.push(t)}});var r=$("input[name='policySLAReminderResolve_IsHOD").is(":checked"),n=$("input[name='policySLAReminderResolve_IsCA").is(":checked"),l=(i="","");a.ResolveSelectedUser.forEach((e,t)=>{0==t?(i=e.value,l={SlaReminderId:0,AssignId:0,ReminderAssignId:i}):(i+=","+e.value,l={SlaReminderId:0,AssignId:0,ReminderAssignId:i})});var d=i,p=[],c=l;if(p.push(c),""==d);else var u={SlaReminderId:a.slaResolveReminderId,SlaId:0,TimeApproaches:a.SLAResponseDue,TimeApproachesType:a.SLAResponseDueType,ResolveAssignTo:d,ReminderType:"Resolve",IsHOD:r,IsCA:n,Emails:"",listReminderAssignedTo:p};var m=$("input[name='policySLAReminderResponse_IsHOD").is(":checked"),h=$("input[name='policySLAReminderResponse_IsCA").is(":checked");i="",l="";a.ResponseSelectedUser.forEach((e,t)=>{0==t?(i=e.value,l={SlaReminderId:0,AssignId:0,ReminderAssignId:i}):(i+=","+e.value,l={SlaReminderId:0,AssignId:0,ReminderAssignId:i})});var v=i,_=(p=[],l),g=""!=e.Is24Hours&&e.Is24Hours;if(p.push(_),""==v);else var f={SlaReminderId:a.slaResponseReminderId,SlaId:0,TimeApproaches:a.SLAResolveDue,TimeApproachesType:a.SLAResolveDueType,ResponseAssignTo:v,ReminderType:"Response",IsHOD:m,IsCA:h,Emails:"",listReminderAssignedTo:p};if(""==e.WeekOffDays||null==e.WeekOffDays)var y=e.WeekOffDays;else{var b=e.WeekOffDays;l="";b.forEach((e,t)=>{0==t?l=e:l+=","+e});y=l}var T={ActionId:a.ActionId,ModuleId:a.ModuleId,ApplyOnAll:"t"==e.IsApplyTicketPolicy[0]?"true":e.IsApplyTicketPolicy[0],EventId:a.EventId,Is24Hours:g,CompanyId:a.CompanyId,CreatedBy:a.UserId,ListApplyOn:[],ListTarget:s,PolicyDate:a.$options.filters.formatDate(e.PolicyDate),PolicyName:e.PolicyName,PolicyDescription:e.Description,RuleId:t,SlaId:a.$route.params.id,StatusId:e.Status,Weekdays:y,StartTime:""==e.StartTime?null:a.$options.filters.formatTime(e.StartTime),EndTime:""==e.EndTime?null:a.$options.filters.formatTime(e.EndTime),PolicySLAReminderResolve:u,PolicySLAReminderResponse:f},D=JSON.stringify(T);o["a"].SaveTicketPolicySLA(D).then(e=>{"Success"==e.data.status?(a.$route.params.id>0?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Policy")]),"success",!0,a.$t("Alert")),a.Close()):a.ShowAlert(a.$t("AddedSuccess",[a.$t("Policy")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchData()):(a.ShowAlert(a.$t("AddedError",[a.$t("Policy")]),"failure",!0,a.$t("Alert")),a.Close())})}}},l=n,d=(a("1171"),a("2877")),p=Object(d["a"])(l,i,s,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-0d8d9e71.js.map