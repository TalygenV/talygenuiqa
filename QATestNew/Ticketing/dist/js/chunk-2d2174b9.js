(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2174b9"],{c5b3:function(a,e,t){"use strict";t.r(e);var i=function(){var a=this,e=a._self._c;return e("section",{staticClass:"main-content"},[e("loader",{attrs:{"is-visible":a.isLoading}}),"Wizard"!=a.callFrom?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[a._v(" "+a._s(a.$t("ManageServiceAppointment")))]),e("span",{staticClass:"float-right"},[e("RouterLink",{staticClass:"p-action-btn text-white float-right",attrs:{to:"/ServiceAppointment/index"}},[e("em",{staticClass:"fa fa-angle-double-left"}),e("br"),a._v(" "+a._s(a.$t("BacktoList"))+" ")])],1)])])]):a._e(),e("div",{staticClass:"border p-3"},[e("dynamic-form",{attrs:{lang:"en",buttons:a.buttons,schema:a.FormSchema},on:{OnSubmit:a.OnSubmit}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("small",{staticClass:"text-danger"},[a._v(a._s(a.$t("MandatoryString")))])])])])],1)],1)},s=[],l=(t("14d9"),t("9769")),n={data(){return{isLoading:!1,StaticObj:{layoutType:"double",Data:[{astype:"MultiSelectField",label:this.$t("ServiceResource"),name:"ServiceResource",value:"",mode:"tag",placeholder:"",validationRules:{required:!1},config:{options:[]}},{astype:"MultiSelectField",label:this.$t("Service Crew"),name:"ServiceCrew",value:"",mode:"tag",placeholder:"",validationRules:{required:!1},config:{options:[]}}]},FormSchema:[],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Submit"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}],resourceList:[],crewList:[],SAData:[],isFsmLocating:"",SAFormSchema:[],StatusId:"1001",StatusData:[],DurationData:[]}},created:async function(){await this.getForm()},methods:{getResourceList:async function(){var a="moduleName=&type=FSM_SA_RESOURCENAME&refId=";await l["a"].GetDDLData(a).then(a=>{this.resourceList=a.data.DATA,this.resourceList.forEach(a=>{let e={name:a.name,value:a.value};this.FormSchema[2].Data[0].config.options.push(e)})})},getcrewList:async function(){var a="moduleName=&type=FSM_CREWNAME&refId=";await l["a"].GetDDLData(a).then(a=>{this.crewList=a.data.DATA,this.crewList.forEach(a=>{let e={name:a.name,value:a.value};this.FormSchema[2].Data[1].config.options.push(e)})})},async getForm(){var a=this,e="moduleName=FSM&subModuleCode=SERVICE_APPOINTMENT&langCode=en";await l["a"].ManageServiceAppointment(e).then(e=>{if(a.SAData=e.data.data,a.isFsmLocating=e.data.IS_FSM_LOCATING,null!=a.SAData&&a.SAData.length>0){var t=a.SAData[0].group_id;$.each(a.SAData,$.proxy((function(e,i){if("NO"!=i.form_field_visibility){if(t=i.group_id,"Status"==i.name&&(a.StatusData=JSON.parse(i.select_options)),"SA_Duration_Type"==i.name){var s=i.picklist_options.split(",");s.forEach(e=>{a.DurationData.push({name:e,value:e})})}var l=$.grep(a.SAFormSchema,(function(a,e){return a.group_id==t}));if(0==l.length){var n=$.grep(a.SAData,(function(a,e){return a.group_id==t})),r=[];if(n.forEach(a=>{if("YES"==a.form_field_visibility){let e={};"TextField"==a.astype&&(e={astype:a.astype,label:a.display_name,name:a.name,value:a.value,disabled:!1,validationRules:{required:a.system_is_required}},r.push(e)),"NumericField"==a.astype&&(e={astype:a.astype,label:a.display_name,name:a.name,value:a.value,disabled:!1,validationRules:{required:a.system_is_required}},r.push(e)),"CustomSelectField"==a.astype&&(e={astype:a.astype,label:a.display_name,name:a.name,value:a.value,disabled:!1,config:{options:[]},validationRules:{required:a.system_is_required}},r.push(e)),"SelectField"==a.astype&&(e={astype:a.astype,label:a.display_name,name:a.name,value:a.value,disabled:!1,config:{options:[]},validationRules:{required:a.system_is_required}},r.push(e)),"TextAreaField"==a.astype&&(e={astype:a.astype,label:a.display_name,name:a.name,value:a.value,disabled:!1,validationRules:{required:a.system_is_required}},r.push(e)),"DatetimeField"==a.astype&&(e={astype:"DateField",label:a.display_name,name:a.name,value:a.value,disabled:!1,validationRules:{required:a.system_is_required}},r.push(e))}}),n.length>0){var o={group_id:t,layoutType:"four",group_name:n[0].group_name,group_display_name:n[0].group_display_name,Data:r};a.SAFormSchema.push(o)}}}}),this)),a.FormSchema=a.SAFormSchema,a.FormSchema.push(a.StaticObj)}})},async BindFieldValueDropDown(){this.FormSchema[0].Data[2].config.options=this.DurationData,this.FormSchema[0].Data[5].config.options=this.StatusData,this.FormSchema[0].Data[0].disabled=!0,this.FormSchema[0].Data[1].disabled=!0,this.FormSchema[0].Data[0].value=this.AddServiceAppointmentDetails.TicketId,this.FormSchema[0].Data[1].value=this.AddServiceAppointmentDetails.WorkOrderId},Close(){this.$router.push({name:"ServiceAppointmentListing"})},OnSubmit(){}}},r=n,o=t("2877"),u=Object(o["a"])(r,i,s,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d2174b9.js.map