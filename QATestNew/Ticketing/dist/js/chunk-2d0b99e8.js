(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b99e8"],{"345f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("tg-list",{directives:[{name:"show",rawName:"v-show",value:e.IsRuleEngineView,expression:"IsRuleEngineView"}],attrs:{listType:["List"],IsShowAction:!1,ModuleName:"RuleEngine",SubModuleCode:"RuleEngine",IdentityColumn:"RULE_ID",HeaderText:e.$t("RuleEngine"),ListData:e.RuleEngineList,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchData,SortExp:e.SortExp,SortBy:e.SortBy,LegendArray:e.LegendArray,NorecordfoundText:e.$t("NoRecordfound"),showCheckBox:!0},on:{LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["STATUS_ID"==a.column.COLUMN_NAME?[e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?t("listing-status",{ref:"updatestatus",attrs:{isfor:"RuleEngine",dataid:a.row.RULE_ID,"data-controller":"Crm",statuslist:e.StatusListForListing,item:a.STATUS_ID,"data-action":"index",dataselected:1001==a.row.STATUS_ID?"Active":"Inactive",callbackfunction:e.FetchData,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(a.row.status_id,"Ticketing")?e._e():t("a",{staticClass:"inactive-disabled"},[t("span",{class:e.getStatusClass(a.row.STATUS_ID,"STATUS_ID")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")])])]:e._e(),"RULE_NAME"==a.column.COLUMN_NAME?[t("RouterLink",{attrs:{to:"/RuleEngine/Add/"+a.row.RULE_ID,title:a.row[a.column.COLUMN_NAME],"data-toggle-tooltip":"tooltip","data-original-title":"Click here to edit Rule Engine"}},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")])]:e._e()]}}])})],1)},o=[],n=(a("14d9"),a("9769"));let s=[{title:"Add Rule",iconClass:"fa fa-plus",callbackfunction:"openaddRuleEngine",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddRule"},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}],l=[{fieldName:"Search By Rule Name",fieldType:"text",fieldIcon:"fa fa-star",fieldSearchConditionName:["RULE_NAME"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Module Name",fieldType:"radio",fieldIcon:"fa fa-wpforms",fieldSearchConditionName:["ST.MODULE_GROUP_ID"],isSearch:!1,value:"",listOptions:[]}];async function r(e,t,a){var i=this;await n["a"].ModuleGroupNameList().then(e=>{i.leftsearchSchema[1].listOptions=[],e.data.forEach(e=>{let t={name:e.MODULE_GROUP_NAME,value:e.MODULE_GROUP_ID};i.leftsearchSchema[1].listOptions.push(t)})})}var d={buttons:s,leftsearchSchema:l,bindleftCommonSearchdropdown:r},c={data(){return{isLoading:!1,StatusListForListing:[],searchCondition:"",TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",RuleEngineList:[],GroupNameList:[],IsRuleEngineView:!0,widgets:[],GroupStart:1,GroupEnd:3,listheaderbuttons:d.buttons,leftSearchFields:d.leftsearchSchema,noRecord:!1,CurrentPage:1,TotalPages:0,LegendArray:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],moduleGroupId:0,Headers:[{COLUMN_NAME:"RULE_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Rule Name",DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"MODULE_GROUP_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Module Name",DISPLAY_ORDER:2},{COLUMN_NAME:"MODIFY_AT",DATA_TYPE:"date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Last Updated Date",DISPLAY_ORDER:3},{COLUMN_NAME:"UPDATEDBY",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Last Updated By",DISPLAY_ORDER:4},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:5}]}},created:async function(){var e=this;await d.bindleftCommonSearchdropdown(this,"FSM","ModuleList"),e.FetchData()},methods:{async FetchData(){var e=this;e.isLoading=!0;var t=`searchCondition=${e.searchCondition}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNum=${e.PageNumber}`;await n["a"].RuleEngineListing(t).then((function(t){e.Headers.forEach(e=>{e.settings=null,"STATUS_ID"==e.COLUMN_NAME&&(e.DISPLAY_NAME="Status",e.settings={isInSlot:!0,isForTag:!0}),"RULE_NAME"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})});var a=t.data.GroupNameList;a.length>0&&(e.GroupNameList=[],a.forEach(t=>{let a={name:e.$t(t.MODULE_GROUP_NAME),value:t.MODULE_GROUP_ID};"Field Service Management"!=a.name&&e.GroupNameList.push(a)})),d.leftsearchSchema.forEach(t=>{"Module"==t.fieldName&&(t.listOptions=e.GroupNameList.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1))}),e.RuleEngineList=JSON.parse(t.data.Listing),e.RuleEngineList.length>0?(e.TotalRecords=e.RuleEngineList[0].TOTAL_RECORDS,e.listheaderbuttons[1].isdisabled=!0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.noRecord=!1):(e.TotalRecords=0,e.noRecord=!0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1}))},renderActions:function(e){},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"openaddRuleEngine":this.openAddEditRuleEngine(0);break}},actionButtonClick:function(e,t,a,i){},openAddEditRuleEngine(e){this.$router.push({name:"AddEditRuleEngine",params:{id:e}})},sortdata:async function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchData()},commonDeleteData:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("RuleEngine"),(function(){var e=`ids=${a}&tableName=TALYGEN_RE_RULE&primaryKey=rule_id`;n["a"].DeleteData(e).then(e=>{var a="";"DeletedSuccess"==e.data?(t.listheaderbuttons[1].isdisabled=!0,t.FetchData(),a=t.ShowAlert(t.$t("DeletedSuccess",[t.$t("RuleEngine")]),"Success",!0,t.$t("Alert"))):a=t.ShowAlert(t.$t("DeletedError",[t.$t("RuleEngine")]),"failure",!0,t.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)})})):alert(t.$t("Selectanyrecordtodelete"))}}},u=c,S=a("2877"),h=Object(S["a"])(u,i,o,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0b99e8.js.map