(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c95a9"],{"597f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("loader",{attrs:{"is-visible":e.isLoading}}),s("tg-list",{attrs:{IsShowAction:!0,ModuleName:"HR",SubModuleCode:"EmployeeSharing",LegendArray:[],RenderRowActionMethod:e.renderActions,widgets:[],IdentityColumn:"REQUEST_ID",listType:["List"],ListData:e.EmployeeSharingData,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,IsSearchFieldsOnTop:"true",SearchPosition:"top",ListDataCallBackFunction:e.FetchData,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{ActionButtonClick:e.actionButtonClick,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function(t){var a=t.data;return["TOTAL_REQUEST_QUANTITY"==a.column.COLUMN_NAME?[s("td",{staticClass:"text-center single-action"},[s("span",[s("em",{staticClass:"fa fa-user-o text-dark",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"noti-circle noti-green"},[e._v(" "+e._s(null==a.row[a.column.COLUMN_NAME]?0:a.row[a.column.COLUMN_NAME]))])])])]:e._e(),"request_type"==a.column.COLUMN_NAME?[1==a.row[a.column.COLUMN_NAME]?s("span",[e._v(e._s(e.$t("Resource")))]):2==a.row[a.column.COLUMN_NAME]?s("span",[e._v(e._s(e.$t("Service")))]):s("span",[e._v("--")])]:e._e()]}}])}),e.isRequestDetails?s("RequestDetails",{attrs:{RequestId:e.requestid}}):e._e(),e.isRevokeDetails?s("RevokeDetails",{attrs:{RequestId:e.requestid}}):e._e()],1)},i=[],o=(s("14d9"),s("9769"));let n=[{title:"Add Request",iconClass:"fa-plus",callbackfunction:"openAddRequest",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",isEnabledOnSelectedRow:!0,callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}],l=[{title:"View Assigned Users",href:"javascript:void(0)",icon:"fa fa-users action-icon",callbackfunction:"ViewAssignedUsers",additionalSpan:""},{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"EditEmployeeSharing",additionalSpan:""},{title:"View",href:"javascript:void(0)",icon:"fa fa-eye action-icon text-primary",callbackfunction:"ViewEmployeeSharing",additionalSpan:""},{title:"Revoke",href:"javascript:void(0)",icon:"fa fa-undo action-icon text-secondary",callbackfunction:"RevokeEmployeeSharing",additionalSpan:""}];var r={buttons:n,listActions:l},c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-popups"},[s("loader",{attrs:{"is-visible":e.isLoading}}),s("div",{staticClass:"modal d-block"},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header theme-primary partition-full  d-flex"},[s("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("RequestDetails")))]),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[s("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"listing mt-2"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblRequestedModuleUsers"}},[s("thead",{staticClass:"thead-bg"},[s("tr",[e._m(0),s("th",[s("span",[e._v(e._s(e.$t("ServiceName")))])]),s("th",[s("span",[e._v(e._s(e.$t("NoofUsers")))])]),s("th",[s("span",[e._v(e._s(e.$t("FromDate")))])]),s("th",[s("span",[e._v(e._s(e.$t("ToDate")))])]),s("th",[s("span",[e._v(e._s(e.$t("RequestMode")))])]),s("th",[s("span",[e._v(e._s(e.$t("InfoMode")))])])])]),s("tbody",[e.noRecord?s("tr",[s("td",{staticClass:"text-center text-danger",attrs:{colspan:"7"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])]):e._e(),e._l(e.RequestDetails,(function(t,a){return s("tr",{key:a},[s("td",[e._v(e._s(t.ROWNUMBER))]),s("td",[e._v(e._s(t.service_name))]),s("td",[e._v(e._s(null==t.REQUEST_QUANTITY?0:t.REQUEST_QUANTITY))]),s("td",[e._v(e._s(e.TimeZone))]),s("td",[e._v(e._s(e.TimeZone))]),s("td",[e._v(e._s(t.REQUEST_MODE))]),t.REQUEST_MODE==e.RequestMode.Sharing?s("td",[e._v(" "+e._s(null==t.REQUEST_QUANTITY?0:t.REQUEST_QUANTITY)+" ")]):e._e()])}))],2)])])])])])])])],1)},d=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",[s("span",[e._v("#")])])}],u={props:{RequestId:{type:Number,required:!0}},data(){return{isLoading:!1,noRecord:!1,RequestDetails:[],RequestMode:{Transfer:1,Sharing:2},TimeZone:null}},created:function(){this.TimeZone=this.GetUserInfo.TimeZone,this.FetchData()},methods:{FetchData:function(){var e=this;e.isLoading=!0;var t=`requestID=${e.RequestId}&timezone`;o["a"].GetRequestModuleForService(t).then(t=>{e.isLoading=!1,t.data.result.length>0?(e.RequestDetails=t.data.result,e.noRecord=!1):(e.RequestDetails=[],e.noRecord=!0)})},Close:function(){this.$parent.isRequestDetails=!1}}},h=u,m=s("2877"),p=Object(m["a"])(h,c,d,!1,null,null,null),E=p.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-popups"},[s("loader",{attrs:{"is-visible":e.isLoading}}),s("div",{staticClass:"modal d-block"},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header theme-primary partition-full  d-flex"},[s("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("RevokeLicense")))]),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[s("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"listing mt-2"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblRequestedModuleUsers"}},[s("thead",{staticClass:"thead-bg"},[s("tr",[e._m(0),s("th",[s("span",[e._v(e._s(e.$t("moduleName")))])]),s("th",[s("span",[e._v(e._s(e.$t("UserName")))])])])]),s("tbody",[e.noRecord?s("tr",[s("td",{staticClass:"text-center text-danger",attrs:{colspan:"7"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])]):e._e(),e._l(e.RequestDetails,(function(t,a){return s("tr",{key:a},[s("td",[s("label",{staticClass:"form-check form-check-inline"},[s("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[s("input",{staticClass:"chkItems custom-control-input",attrs:{id:"Checkbox"+t.REQUEST_ID,type:"checkbox"},domProps:{value:t.REQUEST_ID}}),s("label",{staticClass:"custom-control-label",attrs:{for:"Checkbox"+t.REQUEST_ID}})])])]),s("td",[e._v(e._s(t.MODULE_NAME))]),s("td",[e._v(e._s(t.USER_NAME))])])}))],2)])])]),s("div",{staticClass:"clearfix"}),s("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 float-right text-right p-0 mt-2"},[s("div",{staticClass:"form-group"},[s("a",{staticClass:"btn btn-success formbtn widthhalf",attrs:{href:"javascript:;"},on:{click:e.SaveRevoke}},[s("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Save")))])])])])])])])],1)},_=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("th",{attrs:{width:"5%"}},[s("label",{staticClass:"form-check form-check-inline"},[s("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[s("input",{staticClass:"chkItems custom-control-input",attrs:{id:"chkAll",type:"checkbox"}}),s("label",{staticClass:"custom-control-label",attrs:{for:"chkAll"}})])])])}],R={props:{RequestId:{type:Number,required:!0}},data(){return{isLoading:!1,noRecord:!1,RequestDetails:[],RequestMode:{Transfer:1,Sharing:2},TimeZone:null}},created:function(){this.TimeZone=this.GetUserInfo.TimeZone,this.FetchData()},methods:{SaveRevoke:function(){var e="",t=this;$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.length>0&&(e+=","),e+=$(this).val()})),null!=e?t.confirmR(t.$t("ConfirmRevoke"),!0,t.$t("Delete")+"  "+t.$t("RequestEmployee"),(function(){var e="shareId="+t.RequestId;o["a"].SaveRevokeLicenses(e).then((function(e){1==e.data.result[0].Value?(t.ShowAlert(t.$t("EmpRevokedSuccessfully"),"success",!0,t.$t("Alert")),t.FetchData(),t.Close()):t.ShowAlert(t.$t("RequestApproval",[t.$t("RequestEmployee")]),"Success",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete"))},FetchData:function(){var e=this;e.isLoading=!0;var t="requestID=70526";o["a"].GetRevokeDetail(t).then(t=>{e.isLoading=!1,t.data.result.length>0?(e.RequestDetails=t.data.result,e.noRecord=!1):(e.RequestDetails=[],e.noRecord=!0)})},Close:function(){this.$parent.isRevokeDetails=!1}}},v=R,f=Object(m["a"])(v,S,_,!1,null,null,null),D=f.exports,A={components:{RequestDetails:E,RevokeDetails:D},data(){return{isLoading:!1,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,searchCondition:"",EmployeeSharingData:[],Headers:[{COLUMN_NAME:"REQUESTED_BY",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Requested By",DISPLAY_ORDER:1},{COLUMN_NAME:"REQUESTED_TO_COMPANY",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Requested To Company",DISPLAY_ORDER:2},{COLUMN_NAME:"TOTAL_REQUEST_QUANTITY",DATA_TYPE:"Date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Number of Users",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"REQUESTED_BY",DATA_TYPE:"Date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Requested At",DISPLAY_ORDER:3},{COLUMN_NAME:"DESCRIPTION",DATA_TYPE:"Date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Description",DISPLAY_ORDER:3},{COLUMN_NAME:"request_type",DATA_TYPE:"Date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Request Type",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"Date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3}],listheaderbuttons:r.buttons,listActions:r.listActions,leftSearchFields:[{fieldName:"Search",fieldType:"ddl-check",fieldSearchConditionName:[""],paramName:"requestToCompanySearch",isSearch:!0,value:"",listOptions:[]}],isRequestDetails:!1,requestid:null,isRevokeDetails:!1}},updated(){const e=document.getElementsByClassName("theme-primary partition p-actions-expand");if(e[0]&&"p-name text-white"!=e[0].lastChild.className){const t=document.createElement("span");t.className="p-name text-white",t.textContent=this.$t("RequestEmployee"),e[0].appendChild(t)}},mounted(){var e=this;e.leftSearchFields.forEach(e=>{e.value="",e.isSearch=!1})},created:function(){this.FetchData(),this.GetLinkedCompanyDetail()},methods:{FetchData:function(){var e=this;if(e.isLoading=!0,""==e.searchCondition)var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&requestToCompanySearch=&projectId=`;else t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&${e.searchCondition}&projectId=`;o["a"].GetEmployeeRequestsList(t).then(t=>{"Success"==t.data.status&&(t.data.result.length>0?(e.isLoading=!1,e.EmployeeSharingData=t.data.result,e.TotalRecords=t.data.result[0].TOTAL,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.listheaderbuttons[1].isdisabled=!0):(e.isLoading=!1,e.EmployeeSharingData=[]))})},GetLinkedCompanyDetail:function(){var e=this,t="UserType=Company";o["a"].GetLinkedCompanyDetail(t).then(t=>{if(t.data.result.length>0){var s=t.data.result;s.forEach((t,s)=>{var a={name:t.COMPANY_NAME,value:t.RELATED_COMPANY_ID};e.leftSearchFields[0].listOptions.push(a)})}})},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"openAddRequest":this.openAddRequest();break;case"commonDeleteData":this.commonDeleteData();break}},commonDeleteData:function(e){var t=this,s="";t.isLoading=!0,null==e?$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){s.length>0&&(s+=","),s+=$(this).val()})):s=e,null!=s?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("RequestEmployee"),(function(){var e="deleteIDs="+s;o["a"].DeleteRequest(e).then((function(e){1==e.data.result[0].Value?(t.ShowAlert(t.$t("DeletedSuccess",[t.$t("RequestEmployee")]),"success",!0,t.$t("Alert")),t.FetchData()):t.ShowAlert(t.$t("DeletedError",[t.$t("RequestEmployee")]),"Success",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete")),t.isLoading=!1},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.FetchData()},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchConditionJson:this.searchCondition="",this.FetchData()},ResourceNotShareAndService:function(e,t){"NotShare"==t||(this.requestid=e,this.isRequestDetails=!0)},actionButtonClick:function(e,t,s,a){switch(e){case"ViewAssignedUsers":this.ResourceNotShareAndService(t.REQUEST_ID,"Service");break;case"EditEmployeeSharing":this.EditEmployeeSharing(t.REQUEST_TO_COMPANY_ID,t.REQUEST_ID);break;case"ViewEmployeeSharing":this.ViewEmployeeSharing(t.REQUEST_ID);break;case"RevokeEmployeeSharing":this.RevokeEmployeeSharing(t.REQUEST_ID);break}},ViewEmployeeSharing:function(e){this.$router.push({name:"EmployeeSharingDetails",params:{RequestID:e}})},EditEmployeeSharing:function(e,t){this.$router.push({name:"RequestEmployee",params:{linkedcompanyID:e,RequestID:t}})},RevokeEmployeeSharing:function(e){this.requestid=e,this.isRevokeDetails=!0},openAddRequest:function(){this.$router.push({name:"RequestEmployee",params:{linkedcompanyID:0,RequestID:0}})},renderActions:function(e){var t=this;let s=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Edit":t.isVisible=!0;case"View Assigned Users":t.isVisible=!0;case"View":t.isVisible=!0;case"Revoke":t.isVisible=!0;break;default:t.isVisible=!0}s.push(t)}),s}}},C=A,g=Object(m["a"])(C,a,i,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0c95a9.js.map