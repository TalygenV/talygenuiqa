(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21369c"],{ad25:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("section",{staticClass:"main-content"},[a("div",{ref:"hellp",attrs:{id:"divMaindealData"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 padding-t_8"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("ManageResignation")))]),a("span",{staticClass:"float-right"},[a("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",title:e.$t("BacktoList")},on:{click:e.Close}},[a("em",{staticClass:"fa fa-angle-double-left pr-2",attrs:{"aria-hidden":"true"}}),a("br"),e._v(e._s(e.$t("BacktoList"))+" ")])])])])]),a("div",{staticClass:"border p-3"},[a("Form",{ref:"JobPostForm"},[a("dynamic-form",{ref:"ApplyResignation",attrs:{buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.MandatoryString},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-Description",fn:function(t){var i=t.data;return[a("ckeditor",{class:{"is-invalid":""!=i.error},attrs:{editor:e.editor},model:{value:e.noteDescription,callback:function(t){e.noteDescription=t},expression:"noteDescription"}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(i.error))])]}}])})],1)],1)])])],1)},s=[],n=(a("14d9"),a("9769")),l={data(){return{isLoading:!1,UserData:[],EditResigData:[],editor:this.CLASSIC_EDITOR,noteDescription:"",userId:null,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"triple",Data:[{astype:"TextField",label:this.$t("EmployeeName"),name:"EmployeeName",value:"",config:{options:[]},validationRules:{required:!0},visibility:!0,disabled:!1},{astype:"TextField",label:this.$t("EmployeeNumber"),name:"EmployeeNumber",value:"",validationRules:{required:!1,max:100},visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("DepartmentName"),name:"DepartmentName",value:"",validationRules:{required:!1,max:100},visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("DesignationName"),name:"DesignationName",value:"",validationRules:{required:!1,max:100},visibility:!0,disabled:!0},{astype:"DateField",label:this.$t("ResignationEffectiveFrom"),name:"ResignationEffectiveFrom",value:new Date,placeholder:"",config:{options:[],format:"M/D/YYYY",minDate:new Date},validationRules:{required:!0},visibility:!0,disabled:!0}]},{layoutType:"single",Data:[{astype:"SlotField",label:this.$t("ReasonforResignation"),name:"Description",value:"",placeholder:"",config:{options:[]},visibility:!0,validationRules:{required:!0,max:5e3}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}]}},created:function(){var e=this;e.ResignatinId=this.$route.params.id,e.userId=e.GetUserInfo.ID,e.GetUserDetails(),e.ResignatinId>0&&e.EditResignationEmployee()},methods:{onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())},Close:function(){this.$router.push({name:"ResignationListing"})},GetUserDetails:function(e){var t=this,a="UserId="+t.userId;n["a"].GetUserDetailsByUserId(a).then(e=>{""!=e.data&&(t.UserData=e.data[0],t.FormSchema[0].Data[0].value=t.UserData.first_name+" "+t.UserData.last_name,t.FormSchema[0].Data[1].value=t.UserData.user_emp_id,t.FormSchema[0].Data[2].value=t.UserData.DEPARTMENT_NAME,t.FormSchema[0].Data[3].value=t.UserData.DESIGNATION_NAME)})},EditResignationEmployee(){var e=this,t="Id="+e.ResignatinId;n["a"].GetEmployeeResignatonExitDetails(t).then(t=>{(t.data.status="Success")&&(e.EditResigData=t.data.result[0],null!=e.EditResigData.USER_ID&&e.GetUserDetails(e.EditResigData.USER_ID),e.FormSchema[0].Data[4].value=e.EditResigData.EFFECTIVE_RESIGNATION_FROM_REQUEST,e.noteDescription=e.EditResigData.RESIGNATION_REASON)})},onSubmit(e,t){var a=this,i={resignationId:void 0==a.$parent.ResignatinId?0:a.$parent.ResignatinId,resignationEffectiveFrom:e.ResignationEffectiveFrom,reason:a.noteDescription,status:1001,createdBy:null,modifiedBy:null,effectiveFrom:null,effectiveReason:null,requestStatus:null},s=JSON.stringify(i);n["a"].SaveEmployeeResignaton(s).then(e=>{e.data.length>0?-1==e.data[0].RESULT?(a.ShowAlert(a.$t("Resignation"),"success",!0,a.$t("Alert")),a.Close()):-4==e.data[0].RESULT&&(a.ShowAlert(a.$t("UpdateResignation"),"success",!0,a.$t("Alert")),a.Close()):a.ShowAlert(a.$t("Exit"),"failure",!0,a.$t("Alert"))})}}},r=l,o=a("2877"),d=Object(o["a"])(r,i,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d21369c.js.map