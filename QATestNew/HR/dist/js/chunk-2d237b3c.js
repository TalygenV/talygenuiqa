(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d237b3c"],{fbf0:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{staticClass:"main-content"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{attrs:{id:"divMainLeadData"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 padding-t_8"},[t("div",{staticClass:"theme-primary partition-full"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("RequestEmployee")))]),t("span",{staticClass:"float-right"},[t("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",title:e.$t("BacktoList")},on:{click:e.Close}},[t("em",{staticClass:"fa fa-angle-double-left pr-2",attrs:{"aria-hidden":"true"}}),t("br"),e._v(e._s(e.$t("BacktoList"))+" ")])])])])]),t("div",{staticClass:"border p-3"},[t("Form",{ref:"form"},[t("dynamic-form",{ref:"RequestEmployeeForm",attrs:{buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.MandatoryString},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-divLicenses",fn:function(a){a.data;return[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-wrapper-scroll-y my-custom-scrollbar"},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("div",{staticClass:"text-center"},[t("span",{staticClass:"textaligncenter",attrs:{href:"javascript:;"}},[e._v("Select Module")])])]),t("th",[t("span",[e._v("Serial Number")])]),t("th",[t("span",[e._v("License Name")])]),t("th",[t("span",[e._v("Number of Users")])]),t("th",[t("span",[e._v("From Date")])]),t("th",[t("span",[e._v("To Date")])]),t("th",[t("span",[e._v("Request Mode")])]),t("th",[t("span",[e._v("Info Mode")])])])]),t("tbody",e._l(e.divLicensesData,(function(a,i){return t("tr",{key:i,staticClass:"trrowdata"},[t("td",{staticClass:"text-center"},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkItems custom-control-input",attrs:{name:"Checkbox_"+a.AVAILABLE_LICENSE_ID,id:"Checkbox_"+a.AVAILABLE_LICENSE_ID,type:"checkbox","data-licenseid":a.AVAILABLE_LICENSE_ID,"data-moduleMasterID":a.MODULE_MASTER_ID}}),t("label",{staticClass:"custom-control-label",attrs:{for:"Checkbox_"+a.AVAILABLE_LICENSE_ID}})])])]),t("td",{staticClass:"textaligncenter"},[e._v(e._s(i+1))]),t("td",[e._v(e._s(a.MODULE_MASTER_NAME))]),t("td",[t("Field",{attrs:{name:"txtNoOfUsers"+a.REQUEST_QUANTITY}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.REQUEST_QUANTITY,expression:"item.REQUEST_QUANTITY"}],class:{"form-control":!0},attrs:{type:"text",name:"txtNoOfUsers"+a.REQUEST_QUANTITY},domProps:{value:a.REQUEST_QUANTITY},on:{input:function(t){t.target.composing||e.$set(a,"REQUEST_QUANTITY",t.target.value)}}})])],1),t("td",{staticClass:"overflow-visible"},[t("Field",{attrs:{name:"txtFromDate"+a.AVAILABLE_LICENSE_ID},scopedSlots:e._u([{key:"default",fn:function(i){i.errors;return[t("v-date-picker",{staticClass:"input-group",attrs:{popover:e.popover,"minute-increment":5,masks:e.masks,name:"txtFromDate"+a.AVAILABLE_LICENSE_ID,value:a.FROM_DATE},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,o=a.togglePopover;return[t("input",e._g({staticClass:"form-control",domProps:{value:i}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return o()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.FROM_DATE,callback:function(t){e.$set(a,"FROM_DATE",t)},expression:"item.FROM_DATE"}})]}}],null,!0)})],1),t("td",{staticClass:"overflow-visible"},[t("Field",{attrs:{name:"txtFromDate"+a.AVAILABLE_LICENSE_ID},scopedSlots:e._u([{key:"default",fn:function(i){i.errors;return[t("v-date-picker",{staticClass:"input-group",attrs:{popover:e.popover,"minute-increment":5,masks:e.masks,name:"txtFromDate"+a.AVAILABLE_LICENSE_ID,value:a.TO_DATE},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,o=a.togglePopover;return[t("input",e._g({staticClass:"form-control",domProps:{value:i}},s)),t("div",{staticClass:"input-group-append",on:{click:function(e){return o()}}},[t("span",{staticClass:"input-group-text"},[t("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.TO_DATE,callback:function(t){e.$set(a,"TO_DATE",t)},expression:"item.TO_DATE"}})]}}],null,!0)})],1),t("td",[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"chkLicense form-check-input text-center custom-control-input",attrs:{type:"checkbox",name:"chk_"+i,id:"chk_"+i}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_"+i}},[e._v("Sharing")])])]),t("td",[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"chkLicense form-check-input text-center custom-control-input",attrs:{type:"checkbox",name:"chkk_"+i,id:"chkk_"+i}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chkk_"+i}},[e._v("Visible")])])])])})),0)])])])]}}])})],1)],1)])],1)},s=[],o=(t("14d9"),t("9769")),n={data(){return{isLoading:!1,divLicensesData:[],FormSchema:[{layoutType:"triple",Data:[{astype:"RadioField",label:this.$t("CompanyType"),name:"CompanyType",value:"Resource",disabled:!0,placeholder:"",config:{options:[{name:"Company",value:"Resource"},{name:"Vendor",value:"Service"}],onChange:this.LoadCompanies,showAddIcon:!1},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Linkedcompany"),name:"Linkedcompany",value:"",disabled:!0,config:{options:[],showAddIcon:!1,onChange:this.ddlLinkedCompany},placeholder:this.$t("Select Linked Company"),validationRules:{required:!0}},{astype:"RadioField",label:this.$t("RequestType"),name:"RequestType",value:"",disabled:!0,placeholder:"",visibility:!1,config:{options:[],showAddIcon:!1,onChange:this.LoadServices},validationRules:{required:!0}},{astype:"RadioField",label:this.$t("ShareYourLicenseMessage"),name:"ShareYourLicenseMessage",value:"Resource",placeholder:"",visibility:!1,disabled:!0,config:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}],onChange:this.ShareLicenseRadio,showAddIcon:!1},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Project"),name:"Project",disabled:!0,value:"",config:{options:[],showAddIcon:!1,onChange:this.ddlProject},placeholder:this.$t("Select Project"),validationRules:{required:!0}},{astype:"SelectField",label:this.$t("SelectService"),name:"SelectService",visibility:!1,disabled:!0,value:"",config:{options:[],showAddIcon:!1},placeholder:this.$t("Select Service"),validationRules:{required:!1}},{astype:"TextField",label:this.$t("ResourceText"),name:"ResourceText",visibility:!1,disabled:!0,value:"",validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"divLicenses",value:"",visibility:!1,validationRules:""}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",disabled:!0,value:"",visibility:!1,validationRules:{required:!0}}]}],MandatoryString:"Fields marked with an asterisk (*) are mandatory.",buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-paper-plane pr-2'></i>Send Request",isVisible:!1}],vendorId:null,projectId:null,RequestID:null,isAssociateCompany:!1,Companytype:null,Requesttype:null,ProjectId:null,linkedcompanyID:null,IsShared:null,Servicelist:[],Requestquantity:[]}},created:function(){var e=this;e.RequestID=e.$route.params.RequestID,e.linkedcompanyID=e.$route.params.linkedcompanyID,null!=e.RequestID&&(e.GetRequestData(),e.SearchLicense()),e.GetLinkedCompanyDetail(),e.GetProjectList()},methods:{GetRequestData:function(){var e=this,a="RequestID="+e.RequestID;o["a"].GetRequestData(a).then(a=>{if(a.data.result.length>0)if(e.Companytype=a.data.result[0].company_type,e.Requesttype=a.data.result[0].request_type,e.ProjectId=a.data.result[0].PROJECT_ID,e.FormSchema[0].Data[4].value=a.data.result[0].PROJECT_ID,e.FormSchema[0].Data[1].value=a.data.result[0].REQUEST_TO_COMPANY_ID,e.FormSchema[2].Data[0].value=a.data.result[0].DESCRIPTION,e.IsShared=a.data.result[0].is_shared,1==e.Companytype?e.BindCompanyAndVendorList("Company"):e.BindCompanyAndVendorList("Vendor"),2==e.Requesttype&&e.GetCompanySevices("SERVICES"),1==e.Requesttype&&0==e.IsShared&&e.GetCompanySevices("L_NOSHARE"),1==e.Requesttype){var t=[{name:"Resource",value:"Resource"},{name:"Service",value:"Service"}];e.FormSchema[0].Data[2].config.options=t,e.FormSchema[0].Data[2].value="Resource",e.FormSchema[0].Data[3].visibility=!0,e.FormSchema[0].Data[2].visibility=!0,e.FormSchema[1].Data[0].visibility=!0,e.FormSchema[2].Data[0].visibility=!0,e.buttons[0].isVisible=!1,e.IsShared?(e.FormSchema[0].Data[6].visibility=!1,e.FormSchema[0].Data[3].value="Yes"):(e.FormSchema[0].Data[6].visibility=!0,e.FormSchema[2].Data[0].visibility=!1,e.FormSchema[0].Data[3].value="No",e.FormSchema[0].Data[6].value=e.Requestquantity)}else{t=[{name:"Resource",value:"Resource"},{name:"Service",value:"Service"}];e.FormSchema[0].Data[2].config.options=t,e.FormSchema[0].Data[2].value="Service",e.FormSchema[0].Data[0].value="Service",e.FormSchema[0].Data[2].visibility=!0,e.FormSchema[0].Data[5].visibility=!0,e.FormSchema[2].Data[0].visibility=!0,e.buttons[0].isVisible=!1}})},GetCompanySevices:function(e){var a=this,t=`linkedcompanyID=${a.linkedcompanyID}&RequestID=${a.RequestID}&calledFrom=${e}`;o["a"].GetCompanyLicense(t).then(e=>{e.data.result.length>0&&(a.Servicelist=e.data.result[0].SERVICE_ID,a.FormSchema[0].Data[5].value=a.Servicelist,a.Requestquantity=e.data.result[0].REQUEST_QUANTITY,a.ProjectId=a.FormSchema[0].Data[4].value,a.vendorId=a.FormSchema[0].Data[1].value,a.BindServiceOnProjectChange(),a.$refs.RequestEmployeeForm.UpdateKeyValue())})},BindCompanyAndVendorList:function(e){var a=this,t="UserType="+e;o["a"].GetLinkedCompanyDetail(t).then(e=>{if(e.data.result.length>0){var t=e.data.result;t.forEach((e,t)=>{var i={name:e.COMPANY_NAME,value:e.RELATED_COMPANY_ID};a.FormSchema[0].Data[1].config.options.push(i)}),a.$refs.RequestEmployeeForm.UpdateKeyValue()}})},GetProjectList:function(){var e=this;o["a"].GetProjectList().then(a=>{if(a.data.result.length>0){var t=a.data.result;t.forEach((a,t)=>{var i={name:a.project_name,value:a.project_id};e.FormSchema[0].Data[4].config.options.push(i)}),e.$refs.RequestEmployeeForm.UpdateKeyValue()}})},GetLinkedCompanyDetail:function(){var e=this,a="UserType=Company";o["a"].GetLinkedCompanyDetail(a).then(a=>{if(a.data.result.length>0){var t=a.data.result;t.forEach((a,t)=>{var i={name:a.COMPANY_NAME,value:a.RELATED_COMPANY_ID};e.FormSchema[0].Data[1].config.options.push(i)}),e.$refs.RequestEmployeeForm.UpdateKeyValue()}})},LoadCompanies:function(e,a,t){var i=this;i.isLoading=!0,i.FormSchema[0].Data[1].value="",i.FormSchema[0].Data[1].config.options=[];var s="Resource"==a.value?"Company":"Vendor",n="UserType="+s;i.FormSchema[0].Data[2].visibility=!1,i.FormSchema[0].Data[5].visibility=!1,i.FormSchema[1].Data[0].visibility=!1,i.FormSchema[2].Data[0].visibility=!1,i.FormSchema[0].Data[3].visibility=!1,i.FormSchema[0].Data[3].value="",i.buttons[0].isVisible="Vendor"==s,o["a"].GetLinkedCompanyDetail(n).then(e=>{if(e.data.result.length>0){var a=e.data.result;a.forEach((e,a)=>{var t={name:e.COMPANY_NAME,value:e.RELATED_COMPANY_ID};i.FormSchema[0].Data[1].config.options.push(t)}),i.$refs.RequestEmployeeForm.UpdateKeyValue(),i.isLoading=!1}})},ddlLinkedCompany:function(e,a,t){var i=this;if(i.vendorId=a.value,"Resource"==i.FormSchema[0].Data[0].value){var s=[{name:"Resource",value:"Resource"}];i.FormSchema[0].Data[2].visibility=!0,i.FormSchema[0].Data[5].visibility=!0,i.FormSchema[2].Data[0].visibility=!0,i.FormSchema[0].Data[2].config.options=s,i.buttons[0].isVisible=!1}if("Service"==i.FormSchema[0].Data[0].value){s=[{name:"Resource",value:"Resource"},{name:"Service",value:"Service"}];i.FormSchema[0].Data[2].visibility=!0,i.FormSchema[0].Data[5].visibility=!0,i.FormSchema[2].Data[0].visibility=!0,i.FormSchema[0].Data[2].value="Service",i.FormSchema[0].Data[2].config.options=s}i.BindServiceOnProjectChange()},ddlProject:function(e,a,t){var i=this;i.projectId=a.value,i.BindServiceOnProjectChange()},LoadServices:function(e,a,t){var i=this;i.SearchLicense(),i.SetDivData(a.value)},SearchLicense:function(){var e=this,a=`linkedcompanyID=${e.linkedcompanyID}&RequestID=${e.RequestID}&calledFrom=compayLicense`;o["a"].GetCompanyLicense(a).then(a=>{a.data.result.length>0&&(e.divLicensesData=a.data.result)})},ShareLicenseRadio:function(e,a,t){var i=this;"No"==a.value?(i.FormSchema[0].Data[6].visibility=!0,i.FormSchema[1].Data[0].visibility=!1):(i.FormSchema[0].Data[6].visibility=!1,i.FormSchema[1].Data[0].visibility=!0)},SetDivData:function(e){var a=this;(a.FormSchema[0].Data[0].value="Resource")&&(a.FormSchema[0].Data[2].value="Resource")&&(a.FormSchema[1].Data[0].visibility=!0,a.FormSchema[0].Data[3].visibility=!0,a.FormSchema[0].Data[5].visibility=!1,a.FormSchema[0].Data[3].value="Yes")},BindServiceOnProjectChange:function(){var e=this,a=`vendorId=${e.vendorId}&projectId=${e.projectId}`;o["a"].BindVendorServicesByVendorWise(a).then(a=>{if(a.data.result.length>0){var t=a.data.result;t.forEach((a,t)=>{var i={name:a.category_name,value:a.category_id};e.FormSchema[0].Data[5].config.options.push(i)}),e.$refs.RequestEmployeeForm.UpdateKeyValue(),e.isLoading=!1}})},Close:function(){this.$router.push({name:"EmployeeSharingList"})}}},r=n,l=t("2877"),c=Object(l["a"])(r,i,s,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d237b3c.js.map