(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-683b2748"],{2867:function(e,i,t){"use strict";var a=t("9769");let o=[{title:"Add a Job",iconClass:"fa-plus",href:"/JobPost/ManageJob/0/Hiring/HR_JOB",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1,id:"AddJobPost"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],s=[{fieldName:"JOB TITLE",fieldType:"text",fieldIcon:"fa fa fa-file",fieldSearchConditionName:["JOBPOST.POST_TITLE"],isSearch:!1,value:"",listOptions:[]},{fieldName:"JOB START DATE",fieldType:"date-range",fieldIcon:"fa fa-calendar",fieldSearchConditionName:["JOBPOST.start_date|JOBPOST.close_date"],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"DEPARTMENT",fieldType:"ddl-check",fieldIcon:"fa fa-user",fieldSearchConditionName:["DEPTT.DEPARTMENT_ID"],isSearch:!1,value:"",listOptions:[]},{fieldName:"JOB TYPE",fieldType:"ddl-check",fieldIcon:"fa fa fa-wpforms",fieldSearchConditionName:["JOBPOST.JOB_TYPE_ID"],isSearch:!1,value:"",listOptions:[]}],n=[{title:"Share",href:"",icon:"fa fa-share-alt text-success action-icon",callbackfunction:"Share",additionalSpan:"",isvisible:!0,isdisabled:!1},{title:"Clone",callbackfunction:"Clone",href:"javascript:void(0)",icon:"fa fa-clone text-success action-icon",additionalSpan:"",isvisible:!0,isdisabled:!1},{title:"View",callbackfunction:"ClickOnView",href:"javascript:void(0)",icon:"fa fa-eye text-info action-icon",additionalSpan:"",isvisible:!0,isdisabled:!1},{title:"External Link",href:"",icon:"fa fa-link text-success action-icon",additionalSpan:"",callbackfunction:"ExternalLink",isvisible:!0,isdisabled:!1},{title:"Add New Candidate",href:"javascript:void(0)",icon:"fa fa-user-plus text-primary action-icon",callbackfunction:"openAddNewCandidate",additionalSpan:"",isvisible:!0,isdisabled:!1},{title:"Edit",callbackfunction:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isvisible:!0,isdisabled:!1}];async function c(e,i,t){var o=e;let s=`ids=&moduleName=${i}&type=${t}&search=&refId=`;await a["a"].GetDDLData(s).then((function(e){var i=e.data;null!=i&&("DEPARTMENT"==t&&""!=i&&(o.leftSearchFields[2].listOptions=i.DATA),"HR_JOB_TYP"==t&&""!=i&&(o.leftSearchFields[3].listOptions=i.DATA))}))}let l=[{title:"Add New",iconClass:"fa-plus",callbackfunction:"AddRequisition",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",isEnabledOnSelectedRow:!0,callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}],d=[{title:"View",href:"javascript:void(0)",icon:"fa fa-eye text-info action-icon",additionalSpan:"",callbackfunction:"ViewRequisition"},{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",callbackfunction:"EditRequisition"},{title:"Approve",callbackfunction:"ApproveRequisition",href:"javascript:void(0)",icon:"fa fa-check text-info action-icon",additionalSpan:""},{title:"Reject",href:"javascript:void(0)",icon:"fa fa-times-circle text-danger action-icon",additionalSpan:"",callbackfunction:"RejectRequisition"}];i["a"]={buttons:o,leftsearchSchema:s,listActions:n,RequisitionButtons:l,RequisitionActions:d,bindleftCommonSearchdropdown:c}},"979c":function(e,i,t){"use strict";t.r(i);var a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("tg-list",{attrs:{IsShowAction:!0,ModuleName:"Hiring",SubModuleCode:"",LegendArray:[],RenderRowActionMethod:e.renderActions,widgets:[],IdentityColumn:"REQUISITION_ID",listType:["List"],ListData:e.JobData,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,IsSearchFieldsOnTop:"true",SearchPosition:"top",ListDataCallBackFunction:e.FetchData,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{ActionButtonClick:e.actionButtonClick,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata}}),e.IsGroupOpen?t("AddGroup",{attrs:{HeaderText:e.HeaderText}}):e._e()],1)},o=[],s=(t("14d9"),t("2867")),n=t("9769"),c=t("c1df"),l=t.n(c),d={data(){return{isLoading:!1,IsRequisitionOpen:!1,Headers:[],leftSearchFields:[{fieldName:this.$t("CASearchbyDesignationName"),fieldType:"text",fieldSearchConditionName:[""],paramName:"search",isSearch:!0,value:"",listOptions:[]}],requisitionid:0,userType:"",SortBy:"",SortExp:"",noRecords:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,searchCondition:"",JobData:[],search:"",listheaderbuttons:s["a"].RequisitionButtons,listActions:s["a"].RequisitionActions,CompanyId:null,Userid:null,HeaderText:""}},created:async function(){var e=this;e.CompanyId=this.GetUserInfo.CompanyId,e.Userid=this.GetUserInfo.ID,await e.FetchData()},updated(){const e=document.getElementsByClassName("theme-primary partition p-actions-expand");if(e[0]&&"p-name text-white"!=e[0].lastChild.className){const i=document.createElement("span");i.className="p-name text-white",i.textContent=this.$t("JobRequisition"),e[0].appendChild(i)}},mounted(){var e=this;e.leftSearchFields.forEach(e=>{e.value="",e.isSearch=!1})},methods:{actionButtonClick:function(e,i){switch(e){case"EditRequisition":this.AddRequisition(i.REQUISITION_ID,"EditRequisition");break;case"ViewRequisition":this.ViewRequisition(i.REQUISITION_ID);break;case"ApproveRequisition":this.ApproveRequisition(i.REQUISITION_ID);break;case"RejectRequisition":this.RejectRequisition(i.REQUISITION_ID);break}},leftCommonSearch:function(e){if(this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition){let i=e.searchConditionJson,t=i.split("=")[1];this.searchCondition=t}else this.searchCondition="";this.FetchData()},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"AddRequisition":this.AddRequisition(0,"AddRequisition");break;case"commonDeleteData":this.commonDeleteData();break}},sortdata:function(e){this.SortBy=e;var i="ASC";"ASC"==this.SortExp&&(i="DESC"),this.SortExp=i,this.SortBy=e,this.SortExp=i,this.PageNumber=1,this.FetchData()},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},renderActions:function(e){var i=this;let t=[];return i.listActions.forEach(e=>{let i={...e};switch(i.title){case"View":i.isVisible=!0;break;case"Edit":i.isVisible=!0;break;case"Approve":i.isVisible=!0;break;case"Reject":i.isVisible=!0;break;default:i.isVisible=!0}t.push(i)}),t},FetchData:async function(){var e=this;e.isLoading=!0;var i=`userType=${e.userType}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNum=${e.PageNumber}`;e.isBlank(this.searchCondition)||(i+="&search="+this.searchCondition),await n["a"].RequisitionList(i).then(i=>{i.data&&i.data.data.length>0?(e.isLoading=!1,e.Headers=i.data.schema,e.JobData=i.data.data,e.JobData.forEach(i=>{i.created_at&&(i.created_at=e.formatTimestamp(i.created_at))}),e.TotalRecords=i.data.data[0].totalrecords,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.listheaderbuttons[1].isdisabled=!0,e.noRecords=!1):(e.isLoading=!1,e.JobData=[],e.TotalRecords=0,e.noRecords=!0)})},formatTimestamp:function(e){const i=l()(e),t=i.format("MM/DD/YYYY h:mm A");return t},commonDeleteData:function(e){var i=this,t="";i.isLoading=!0,null==e?$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){t.length>0&&(t+=","),t+=$(this).val()})):t=e,null!=t?i.confirmR(i.$t("ConfirmDelete"),!0,i.$t("Delete")+"  "+i.$t("Requisition"),(function(){var e={ids:t,companyId:i.CompanyId,userId:i.Userid,moduleName:"",subModuleCode:"",refCode:"DELETE_REQUISITION"},a=JSON.stringify(e);n["a"].CommonCommonDelete(a).then((function(e){200==e.status?(i.ShowAlert(i.$t("DeletedSuccess",[i.$t("Requisition")]),"success",!0,i.$t("Alert")),i.FetchData()):i.ShowAlert(i.$t("DeletedError",[i.$t("Requisition")]),"Success",!0,i.$t("Alert"))}))})):i.ShowAlert(i.$t("Selectanyrecordtodelete")),i.isLoading=!1},AddRequisition:function(e,i){this.requisitionid=e,this.HeaderText=i,this.IsRequisitionOpen=!0,"AddRequisition"==i?this.$router.push({name:"AddRequisition",params:{reqfrom:"JobPost/AddRequisition",requisitionId:e}}):this.$router.push({name:"EditRequisition",params:{reqfrom:"JobPost/EditRequisition",requisitionId:e}})},ViewRequisition:function(e){this.$router.push({name:"JobRequisitionDetail",params:{reqfrom:"JobPost/RequisitionDetail",requisitionId:e}})}}},r=d,u=t("2877"),h=Object(u["a"])(r,a,o,!1,null,null,null);i["default"]=h.exports}}]);
//# sourceMappingURL=chunk-683b2748.js.map