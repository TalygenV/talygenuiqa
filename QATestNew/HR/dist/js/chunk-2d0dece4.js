(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dece4"],{"86e5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("section",{staticClass:"main-content"},[a("div",{ref:"hellp",attrs:{id:"divMaindealData"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 padding-t_8"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("CandidateAsInternal")))])])])]),a("div",{staticClass:"border p-3"},[a("dynamic-form",{ref:"AddAsCandidate",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-ToEmail",fn:function(e){e.data;return[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white text-dark font-weight-light bg-white"},[t._v("To:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtEmailTo,expression:"txtEmailTo"}],staticClass:"form-control  bg-white",attrs:{type:"text",disabled:"disabled",placeholder:"zoe@yopmail.com"},domProps:{value:t.txtEmailTo},on:{input:function(e){e.target.composing||(t.txtEmailTo=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-white  text-info "},[a("a",{staticClass:"text-info cc",attrs:{href:"javascript:;"},on:{click:function(e){return t.IsShowHiddenField("isHidden")}}},[t._v(t._s(t.$t("CCuppercase")))])])]),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-white"},[a("a",{staticClass:"text-info bcc",attrs:{href:"javascript:;"},on:{click:function(e){return t.IsShowHiddenField("isHide")}}},[t._v(t._s(t.$t("BCCuppercase"))+" ")])])])])]}},{key:"tgslot-CC",fn:function(e){e.data;return[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white  text-dark font-weight-light"},[t._v(t._s(t.$t("CCuppercase"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtEmailCc,expression:"txtEmailCc"}],staticClass:"form-control  box-shadow bg-white",class:{"form-control":!0,"is-invalid":t.isInvalidCCEmail},attrs:{type:"text",id:"emails",name:"CCemail",placeholder:"Multiple emails can be separated by comma or semicolon."},domProps:{value:t.txtEmailCc},on:{change:t.validateCCEmail,input:function(e){e.target.composing||(t.txtEmailCc=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isInvalidCCEmail,expression:"isInvalidCCEmail"}],staticClass:"invalid-feedback"},[t._v(" "+t._s(t.$t("InvalidEmailFormat")))])])]}},{key:"tgslot-BCC",fn:function(e){e.data;return[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white  text-dark font-weight-light"},[t._v(t._s(t.$t("BCCuppercase"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtEmailBcc,expression:"txtEmailBcc"}],staticClass:"form-control box-shadow bg-white",class:{"form-control":!0,"is-invalid":t.isInvalidBCCEmail},attrs:{type:"text",id:"emails_bcc",name:"BCCemail",placeholder:"Multiple emails can be separated by comma or semicolon."},domProps:{value:t.txtEmailBcc},on:{change:t.validateBCCEmail,input:function(e){e.target.composing||(t.txtEmailBcc=e.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isInvalidBCCEmail,expression:"isInvalidBCCEmail"}],staticClass:"invalid-feedback"},[t._v(" "+t._s(t.$t("InvalidEmailFormat")))])])]}},{key:"tgslot-FromEmail",fn:function(e){e.data;return[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white text-dark font-weight-light"},[t._v(t._s(t.$t("From"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtEmailFrom,expression:"txtEmailFrom"}],staticClass:"form-control box-shadow bg-white",attrs:{type:"text",disabled:"disabled",placeholder:"james149adams@gmail.com"},domProps:{value:t.txtEmailFrom},on:{input:function(e){e.target.composing||(t.txtEmailFrom=e.target.value)}}})])]}},{key:"tgslot-ReplyTo",fn:function(e){e.data;return[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white text-dark font-weight-light "},[t._v(t._s(t.$t("ReplyTo"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtEmailReplyTo,expression:"txtEmailReplyTo"},{name:"validate",rawName:"v-validate",value:t.mailvalidate,expression:"mailvalidate"}],staticClass:"form-control box-shadow bg-white",attrs:{type:"text",name:"ReplyToEmail",placeholder:"me(careers@trentvash.freshersteam.com)"},domProps:{value:t.txtEmailReplyTo},on:{input:function(e){e.target.composing||(t.txtEmailReplyTo=e.target.value)}}})])]}},{key:"tgslot-Subject",fn:function(e){e.data;return[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white text-dark font-weight-light",attrs:{id:""}},[t._v(t._s(t.$t("Subject"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtEmailSubject,expression:"txtEmailSubject"}],staticClass:"form-control box-shadow bg-white",attrs:{type:"text",placeholder:"Profile for the opening (Job Title/ Designation)"},domProps:{value:t.txtEmailSubject},on:{input:function(e){e.target.composing||(t.txtEmailSubject=e.target.value)}}})])]}},{key:"tgslot-Description",fn:function(e){var i=e.data;return[a("ckeditor",{class:{"is-invalid":""!=i.error},attrs:{editor:t.editor},model:{value:t.noteDescription,callback:function(e){t.noteDescription=e},expression:"noteDescription"}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(i.error))])]}}])})],1)])])],1)},s=[],l=(a("14d9"),a("9769")),n={components:{},data(){return{isLoading:!1,IsVendor:"",ApplicantId:0,editor:this.CLASSIC_EDITOR,isHidden:!1,notify:"",txtEmailCc:"",txtEmailBcc:"",InvalidCCEmail:"",InvalidBCCEmail:"",txtEmailFrom:"",isInvalidCCEmail:!1,isInvalidBCCEmail:!1,txtEmailReplyTo:"",txtEmailSubject:"",isHide:!1,CandidateData:[],JobsData:[],jobtitle:"",jobtype:"",txtEmailTo:"",userId:"",companyId:"",noteDescription:"",FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Job"),name:"SelectJob",value:"",config:{options:[]},placeholder:this.$t("SelectJob"),validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Template"),name:"SelectTemplate",value:"",config:{options:[]},placeholder:this.$t("SelectTemplate"),validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"ToEmail",value:"",placeholder:this.$t("Enter To Email"),validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"CC",value:"",visibility:!1,validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"BCC",value:"",visibility:!1,validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"FromEmail",value:"",validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"ReplyTo",value:"",validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"Subject",value:"",placeholder:this.$t("Enter Subject"),validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",label:this.$t("Note Description"),name:"Description",value:"",placeholder:"",config:{options:[]},visibility:!0,validationRules:{required:!1,max:5e3}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save and Skip Email",isVisible:!0,onClick:this.OnSubmit},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0,onClick:this.OnSubmit},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}]}},created:async function(){var t=this;t.userId=this.GetUserInfo.ID,t.companyId=this.GetUserInfo.CompanyId,t.IsVendor=this.GetUserInfo.IsVendor,t.txtEmailFrom=this.GetUserInfo.Email,t.ApplicantId=this.$route.params.id,await this.getForm(t.ApplicantId),this.GetDdlRecords_jobs(),this.GetDdlRecords_Template(),this.emailValidate={required:!0,regex:/^(\s?[^\s,]+[^\s,]+\.[^\s,]+\s?,)*(\s?[^\s,]+[^\s,]+\.[^\s,]+)$/},this.mailvalidate={regex:/^\w+([\.-]?\w+)*@@\w+([\.-]?\w+)*(\.\w{2,3})+$/}},methods:{onReady(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())},getForm:function(t){var e=this;e.isLoading=!0;var a=`applicantId=${t}&moduleName=Hiring&subModuleCode=HR_TALENT_POOL&langCode=en`;l["a"].CandidateDetails(a).then((function(t){if(null!=t&&null!=t.data&&t.data.data.length>0){let a=t.data.data.filter((function(t){return t.notice_period=t.notice_period+" "+t.notice_period_type,!0}));e.CandidateData=a,e.txtEmailTo=e.CandidateData[0].email_id,e.isLoading=!1}else e.CandidateData=[],e.isLoading=!1}))},GetDdlRecords_jobs:async function(){var t=this,e="no"==t.IsVendor?"JOB_POST_APPLICANT":"GET_CONSULTANT_JOBS",a=`ids=${t.ApplicantId}&&moduleName=Hiring&type=${e}&search=&refId=`;await l["a"].GetDDLData(a).then((function(e){if(e.data){var a=e.data;if(null!=a&&(e.data.DATA.forEach((e,a)=>{t.FormSchema[0].Data[0].config.options.push({value:e.value,name:e.name})}),null!=t.ddljobs&&""!=t.ddljobs)){var i=t.JobsData.filter(e=>e.value==t.ddljobs);t.jobtitle=i[0].name}t.$refs.AddAsCandidate.UpdateKeyValue()}}))},GetDdlRecords_Template:async function(){var t=this,e="ids=&&&type=ADD_AS_CANDIDATE_TEMPLATE&search=&refId=";await l["a"].GetDDLData(e).then((function(e){if(e.data){var a=e.data;null!=a&&e.data.DATA.forEach((e,a)=>{t.FormSchema[0].Data[1].config.options.push({value:e.value,name:e.name})}),t.$refs.AddAsCandidate.UpdateKeyValue()}}))},Close:function(t){"inter"==t?this.$router.push({name:"JobListing"}):this.$router.push({name:"TalentPoolList"})},IsShowHiddenField:function(t){var e=this;"isHidden"==t?(e.isHidden=!e.isHidden,1==e.isHidden?e.FormSchema[2].Data[0].visibility=!0:e.FormSchema[2].Data[0].visibility=!1):"isHide"==t&&(e.isHide=!e.isHide,1==e.isHide?e.FormSchema[3].Data[0].visibility=!0:e.FormSchema[3].Data[0].visibility=!1)},validateCCEmail:function(){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.isInvalidCCEmail=!t.test(this.txtEmailCc)},validateBCCEmail:function(){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.isInvalidBCCEmail=!t.test(this.txtEmailCc)},bindJobTitle:function(t){if(null!=vm.ddljobs&&""!=vm.ddljobs){var e=vm.JobsData.filter(t=>t.value==vm.ddljobs);vm.jobtitle=e[0].name,this.onChange(event)}},onSubmit:function(t,e){var a=this,i=document.createElement("div");i.innerHTML=e;var s=i.textContent.trim(),n="";if(n="Save"==s,1!=a.isInvalidCCEmail&&1!=a.isInvalidBCCEmail)if(""!=t.SelectJob&&null!=t.SelectJob){var o={CandidateID:a.ApplicantId,UserId:a.userId,CompanyId:a.companyId,TemplateId:t.SelectTemplate,job_Id:t.SelectJob,EmailTo:a.txtEmailTo,EmailCc:a.txtEmailCc,EmailBcc:a.txtEmailBcc,EmailFrom:a.txtEmailFrom,EmailReplyTo:a.txtEmailReplyTo,EmailSubject:a.txtEmailSubject,EmailDesc:a.noteDescription,Notify:a.notify,is_sendEmail:n},d=JSON.stringify(o);l["a"].AddAsCandidate(d).then(t=>{if("Save"!=s)"Success"==t.data[0].Status?(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Candidate")]),"success",!0,a.$t("Alert")),a.Close()):"Already Exist"==t.data[0].Status&&a.ShowAlert(a.$t("CandidateAlreadyApplied"),"warning",!0,a.$t("Alert"));else{if("Success"==t.data[0].Status){if("inter"==a.jobtype)return a.Close("inter"),a.ShowAlert(a.$t("EmailSuccessfullySend"),"success",!0,a.$t("Alert")),!0;a.Close(),a.ShowAlert(a.$t("EmailSuccessfullySend"),"success",!0,a.$t("Alert"))}"Already Exist"==t.data[0].Status&&a.ShowAlert(a.$t("CandidateAlreadyApplied"),"warning",!0,a.$t("Alert"))}},t=>{})}else a.ShowAlert(a.$t("PleaseCorrectHighlightedErrors"),"failure",!0)}}},o=n,d=a("2877"),r=Object(d["a"])(o,i,s,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0dece4.js.map