(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3268"],{"5c15":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("section",{staticClass:"main-content"},[a("div",{ref:"hellp",attrs:{id:"divMaindealData"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 padding-t_8"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("ForwardCV")))])])])]),a("div",{staticClass:"border p-3"},[a("dynamic-form",{ref:"ForwardCV",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.MandatoryString},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-ToEmail",fn:function(t){t.data;return[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white text-dark font-weight-light bg-white"},[e._v("To:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.txtEmailTo,expression:"txtEmailTo"}],staticClass:"form-control  bg-white",attrs:{type:"text"},domProps:{value:e.txtEmailTo},on:{input:function(t){t.target.composing||(e.txtEmailTo=t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-white  text-info "},[a("a",{staticClass:"text-info cc",attrs:{href:"javascript:;"},on:{click:function(t){return e.IsShowHiddenField("isHidden")}}},[e._v(e._s(e.$t("CCuppercase")))])])]),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-white"},[a("a",{staticClass:"text-info bcc",attrs:{href:"javascript:;"},on:{click:function(t){return e.IsShowHiddenField("isHide")}}},[e._v(e._s(e.$t("BCCuppercase"))+" ")])])])])]}},{key:"tgslot-CC",fn:function(t){t.data;return[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white  text-dark font-weight-light"},[e._v(e._s(e.$t("CCuppercase"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.txtEmailCc,expression:"txtEmailCc"}],staticClass:"form-control  box-shadow bg-white",class:{"form-control":!0,"is-invalid":e.isInvalidCCEmail},attrs:{type:"text",id:"emails",name:"CCemail"},domProps:{value:e.txtEmailCc},on:{change:e.validateCCEmail,input:function(t){t.target.composing||(e.txtEmailCc=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isInvalidCCEmail,expression:"isInvalidCCEmail"}],staticClass:"invalid-feedback"},[e._v(" "+e._s(e.$t("InvalidEmailFormat")))])])]}},{key:"tgslot-BCC",fn:function(t){t.data;return[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white  text-dark font-weight-light"},[e._v(e._s(e.$t("BCCuppercase"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.txtEmailBcc,expression:"txtEmailBcc"}],staticClass:"form-control box-shadow bg-white",class:{"form-control":!0,"is-invalid":e.isInvalidBCCEmail},attrs:{type:"text",id:"emails_bcc",name:"BCCemail"},domProps:{value:e.txtEmailBcc},on:{change:e.validateBCCEmail,input:function(t){t.target.composing||(e.txtEmailBcc=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isInvalidBCCEmail,expression:"isInvalidBCCEmail"}],staticClass:"invalid-feedback"},[e._v(" "+e._s(e.$t("InvalidEmailFormat")))])])]}},{key:"tgslot-FromEmail",fn:function(t){t.data;return[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white text-dark font-weight-light"},[e._v(e._s(e.$t("From"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.txtEmailFrom,expression:"txtEmailFrom"}],staticClass:"form-control box-shadow bg-white",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.txtEmailFrom},on:{input:function(t){t.target.composing||(e.txtEmailFrom=t.target.value)}}})])]}},{key:"tgslot-ReplyTo",fn:function(t){t.data;return[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white text-dark font-weight-light "},[e._v(e._s(e.$t("ReplyTo"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.txtEmailReplyTo,expression:"txtEmailReplyTo"},{name:"validate",rawName:"v-validate",value:e.mailvalidate,expression:"mailvalidate"}],staticClass:"form-control box-shadow bg-white",attrs:{type:"text",name:"ReplyToEmail",placeholder:"me(careers@trentvash.freshersteam.com)"},domProps:{value:e.txtEmailReplyTo},on:{input:function(t){t.target.composing||(e.txtEmailReplyTo=t.target.value)}}})])]}},{key:"tgslot-Subject",fn:function(t){t.data;return[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white text-dark font-weight-light",attrs:{id:""}},[e._v(e._s(e.$t("Subject"))+":")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.txtEmailSubject,expression:"txtEmailSubject"}],staticClass:"form-control box-shadow bg-white",attrs:{type:"text",placeholder:"Profile for the opening (Job Title/ Designation)"},domProps:{value:e.txtEmailSubject},on:{input:function(t){t.target.composing||(e.txtEmailSubject=t.target.value)}}})])]}},{key:"tgslot-Description",fn:function(t){var l=t.data;return[a("ckeditor",{class:{"is-invalid":""!=l.error},attrs:{editor:e.editor},model:{value:e.txtEmailDesc,callback:function(t){e.txtEmailDesc=t},expression:"txtEmailDesc"}}),a("span",{staticClass:"invalid-feedback"},[e._v(e._s(l.error))])]}}])})],1)])]),e.showAddEditModal?a("modaledittemplate"):e._e()],1)},i=[],s=(a("14d9"),a("9769")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full  d-flex"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("ChooseandArrange")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"col-lg-4 mt-2"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.$t("TemplateName"))+":")]),a("span",{staticClass:"text-danger"},[e._v("*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.SelectedPrefillTemplate,expression:"SelectedPrefillTemplate"}],staticClass:"form-control",class:{"form-control":!0,"is-invalid":e.IsValidate},attrs:{type:"text",name:"TemplateName"},domProps:{value:e.SelectedPrefillTemplate},on:{input:function(t){t.target.composing||(e.SelectedPrefillTemplate=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.IsValidate,expression:"IsValidate"}],staticClass:"invalid-feedback"},[e._v(e._s(e.$t("TemplateNameError")))])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12 col-lg-12 col-xl-12 float-left px-0"},[a("div",{staticClass:"row card-view bg-border custom-box-width"},[a("div",{staticClass:"col-md-12 col-lg-6 col-xl-4 mb-3 float-left"},[a("div",{staticClass:"card-box blue-bg-light"},[a("div",{staticClass:"card-number"},[a("label",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ChkAllCandidates,expression:"ChkAllCandidates"}],staticClass:"chkItems custom-control-input",attrs:{id:"chkAll_527850",type:"checkbox"},domProps:{checked:Array.isArray(e.ChkAllCandidates)?e._i(e.ChkAllCandidates,null)>-1:e.ChkAllCandidates},on:{change:function(t){var a=e.ChkAllCandidates,l=t.target,i=!!l.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);l.checked?o<0&&(e.ChkAllCandidates=a.concat([s])):o>-1&&(e.ChkAllCandidates=a.slice(0,o).concat(a.slice(o+1)))}else e.ChkAllCandidates=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkAll_527850"}})])]),a("span",{staticClass:"position-relative"},[e._v(e._s(e.$t("CandidateDetails")))])]),a("ul",{staticClass:"list-group card-detail-main",staticStyle:{"max-height":"262px"}},e._l(e.ProfileTemplateddl,(function(t,l){return"Candidate Detail"===t.Field_Type?a("li",{key:l,staticClass:"list-group-item",attrs:{id:"profiletemp"}},[a("label",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"chkItems custom-control-input",attrs:{id:"chkAll_527851",type:"checkbox"},domProps:{value:t.Template_fields,checked:Array.isArray(e.selected)?e._i(e.selected,t.Template_fields)>-1:e.selected},on:{change:[function(a){var l=e.selected,i=a.target,s=!!i.checked;if(Array.isArray(l)){var o=t.Template_fields,n=e._i(l,o);i.checked?n<0&&(e.selected=l.concat([o])):n>-1&&(e.selected=l.slice(0,n).concat(l.slice(n+1)))}else e.selected=s},function(a){return e.onChecked(t)}]}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkAll_527851"}})])]),e._v(" "+e._s(t.Template_fields)+" ")]):e._e()})),0)])]),a("div",{staticClass:"col-md-12 col-lg-6 col-xl-4 mb-3 float-left"},[a("div",{staticClass:"card-box blue-bg-light"},[a("div",{staticClass:"card-number"},[a("label",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ChkAllJobs,expression:"ChkAllJobs"}],staticClass:"chkItems custom-control-input",attrs:{id:"chkAll_527852",type:"checkbox"},domProps:{checked:Array.isArray(e.ChkAllJobs)?e._i(e.ChkAllJobs,null)>-1:e.ChkAllJobs},on:{change:function(t){var a=e.ChkAllJobs,l=t.target,i=!!l.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);l.checked?o<0&&(e.ChkAllJobs=a.concat([s])):o>-1&&(e.ChkAllJobs=a.slice(0,o).concat(a.slice(o+1)))}else e.ChkAllJobs=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkAll_527852"}})])]),a("span",{staticClass:"position-relative"},[e._v("Job Details")])]),a("ul",{staticClass:"list-group card-detail-main",staticStyle:{"max-height":"262px"}},e._l(e.ProfileTemplateddl,(function(t,l){return"Job Detail"===t.Field_Type?a("li",{key:l,staticClass:"list-group-item"},[a("label",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedjobs,expression:"selectedjobs"}],staticClass:"chkItems custom-control-input",attrs:{id:"chkAll_527853",type:"checkbox"},domProps:{value:t.Template_fields,checked:Array.isArray(e.selectedjobs)?e._i(e.selectedjobs,t.Template_fields)>-1:e.selectedjobs},on:{change:[function(a){var l=e.selectedjobs,i=a.target,s=!!i.checked;if(Array.isArray(l)){var o=t.Template_fields,n=e._i(l,o);i.checked?n<0&&(e.selectedjobs=l.concat([o])):n>-1&&(e.selectedjobs=l.slice(0,n).concat(l.slice(n+1)))}else e.selectedjobs=s},function(a){return e.onCheckedApplication(t)}]}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkAll_527853"}})])]),e._v(" "+e._s(t.Template_fields))]):e._e()})),0)])]),a("div",{staticClass:"col-md-12 col-lg-6 col-xl-4 mb-3 float-left"},[a("div",{staticClass:"card-box blue-bg-light"},[a("div",{staticClass:"card-number"},[e._v("Arrange Column for Excel/Mail Body")]),a("ul",{staticClass:"list-group card-detail-main",staticStyle:{"max-height":"262px"},attrs:{id:"sortable"}},e._l(e.excelMailBody,(function(t,l){return a("li",{key:l,staticClass:"list-group-item",attrs:{id:"sort"}},[e._v(e._s(t.Name)),a("a",{staticClass:"float-right",attrs:{href:"javascript:;"}})])})),0)])])])])]),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"btn btn-primary save-btn mr-2",attrs:{href:"javascript:;",type:"submit",title:"Save"},on:{click:function(t){return e.SaveProfileTemplateData()}}},[a("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),a("span",[e._v(e._s(e.$t("Save")))])]),a("a",{staticClass:"btn btn-primary delete-btn",attrs:{href:"javascript:;",type:"submit",title:"Cancel"},on:{click:e.Close}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "),a("span",[e._v(e._s(e.$t("Cancel")))])])])])])])],1)},n=[],r={data(){return{isLoading:!1,SelectedPrefillTemplate:"",selected:"",IsValidate:!1,excelMailBody:[],candidateDetails:[],ProfileTemplateddl:[],candidateData:[],jobDetails:[],selected:[],selectedjobs:[],userId:null,companyId:null,aid:null,pid:null}},created:function(){this.GetTemplatesFields(),this.userId=this.GetUserInfo.ID,this.companyId=this.GetUserInfo.CompanyId,this.aid=this.$route.params.aid,this.pid=this.$route.params.pid},computed:{ChkAllJobs:{get:function(){return!!this.ProfileTemplateddl&&this.selectedjobs.length==this.ProfileTemplateddl.length},set:function(e){var t=this,a=[];t.jobDetails=[],e?t.ProfileTemplateddl.forEach((function(e){if(a.push(e.Template_fields),"Job Detail"==e.Field_Type){var l={Name:e.Template_fields,id:e.Custom_Field_Id,isselected:e.Is_Selected},i=t.excelMailBody.find(t=>t.Name==e.Template_fields);void 0==i&&(t.excelMailBody.push(l),t.jobDetails.push(l))}})):(t.excelMailBody=[],t.excelMailBody=t.candidateDetails),t.selectedjobs=a}},ChkAllCandidates:{get:function(){return!!this.ProfileTemplateddl&&this.selected.length==this.ProfileTemplateddl.length},set:function(e){var t=this,a=[];t.candidateDetails=[],e?t.ProfileTemplateddl.forEach((function(e){if(a.push(e.Template_fields),"Candidate Detail"==e.Field_Type){var l={Name:e.Template_fields,id:e.Custom_Field_Id,isselected:e.Is_Selected,fieldtype:e.Field_Type},i=t.excelMailBody.find(t=>t.Name==e.Template_fields);void 0==i&&(t.excelMailBody.push(l),t.candidateDetails.push(l))}})):(t.excelMailBody=[],t.excelMailBody=t.jobDetails),t.selected=a}}},methods:{onChecked:function(e){var t=this;if(!0===event.target.checked){var a={Name:e.Template_fields,id:e.Custom_Field_Id,isselected:e.Is_Selected,fieldtype:e.Field_Ty};this.excelMailBody.push(a);var l=this.excelMailBody.filter(e=>"Candidate Detail"==e.fieldtype);t.candidateData.length==l.length&&(t.ChkAllCandidates=!0)}else!1===event.target.checked&&$("#sortable li:contains("+event.currentTarget.value+")").remove()},onCheckedApplication:function(e){var t=this;if(!0===event.target.checked){var a={Name:e.Template_fields,id:e.Custom_Field_Id,isselected:e.Is_Selected,fieldtype:e.Field_Type};this.excelMailBody.push(a);var l=this.excelMailBody.filter(e=>"Job Detail"==e.fieldtype);t.jobData.length==l.length&&(t.ChkAllJobs=!0)}else!1===event.target.checked&&$("#sortable li:contains("+event.currentTarget.value+")").remove()},GetTemplatesFields:function(){var e=this,t="",a="",l=[];t=e.$parent.ddlPrefillTemplate;a=""==t?"id=":"id="+t,s["a"].GetProfileTemplates(a).then((function(t){if(t.data.DATA.length>0){var a=[],i=[];return t.data.DATA.forEach((function(t){if(1==t.Is_Selected&&"Candidate Detail"==t.Field_Type&&a.push(t.Template_fields),1==t.Is_Selected&&"Job Detail"==t.Field_Type&&i.push(t.Template_fields),t.Is_Selected){l.push(t.Template_fields);var s={Name:t.Template_fields,id:t.Custom_Field_Id,isselected:t.Is_Selected,fieldtype:t.Field_Type};e.excelMailBody.push(s),"Candidate Detail"==t.Field_Type?e.candidateDetails.push(s):e.jobDetails.push(s)}})),e.selected=a,e.selectedjobs=i,e.ProfileTemplateddl=t.data.DATA,e.candidateData=t.data.DATA.filter(e=>"Candidate Detail"==e.Field_Type),e.jobData=t.data.DATA.filter(e=>"Job Detail"==e.Field_Type),e.candidateData.length==a.length&&(e.ChkAllCandidates=!0),e.jobData.length==i.length&&(e.ChkAllJobs=!0),e.ProfileTemplateddl}}))},Close:function(){this.$parent.showAddEditModal=!1},SaveProfileTemplateData:function(){var e=this;if(""==e.SelectedPrefillTemplate)return e.IsValidate=!0,!1;var t="";t=this.$parent.ddlPrefillTemplate;var a="";$.each(this.excelMailBody,(function(e,t){a+=""==a?t.id:","+t.id}));e.aid,e.pid;var l={TEMPLATEID:t,SELECTEDCOLUMNS:a,COMPANYID:e.companyId,USER_ID:e.userId,TEMPLATE_NAME:this.SelectedPrefillTemplate},i=JSON.stringify(l);s["a"].SaveProfileTemplateData(i).then((function(t){"Success"==t.data[0].Status&&(e.$parent.GetPrefillTemplate(),e.Close())}))}}},c=r,m=a("2877"),u=Object(m["a"])(c,o,n,!1,null,null,null),p=u.exports,h={components:{modaledittemplate:p},data(){return{isLoading:!1,editor:this.CLASSIC_EDITOR,content:"<h1>Some initial content</h1>",MandatoryString:"Fields marked with an asterisk (*) are mandatory.",noteDescription:"",txtEmailCc:"",txtEmailBcc:"",InvalidCCEmail:"",InvalidBCCEmail:"",txtEmailFrom:"",isInvalidCCEmail:!1,isInvalidBCCEmail:!1,txtEmailReplyTo:"",txtEmailSubject:"",txtEmailDesc:"",txtEmailTo:"",isHidden:!1,isHide:!1,showAddEditModal:!1,FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Choose Template"),name:"ChooseTemplate",value:"",config:{options:[],onChange:this.GetEmailTemplate},validationRules:{required:!0}},{astype:"TextField",label:this.$t("Receive Reply on"),name:"ReceiveReplyon",value:"",config:{options:[]},validationRules:{required:!0}}]},{layoutType:"triple",group_name:this.$t("CustomizeAttachments"),Data:[{astype:"SelectField",label:this.$t("Profile from Template"),name:"PrefillfromTemplate",value:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.openPopUp,onChange:this.OnSelect},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Resume Template"),name:"ResumeTemplate",value:"",config:{options:[]},validationRules:{required:!0}},{astype:"CheckBoxField",label:this.$t("Attach Profile Fields as Excel attacher"),name:"AttachProfileFieldsasExcelattacher",value:"",config:{options:[{name:"",value:"true"}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("Attached CV's (Max 20) to be sent in an Unzipped format:"),name:"AttachedCVUnzipped",value:"",config:{options:[{name:"",value:"true"}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("Attach CVs (maximum 100 characters) in the email"),name:"AttachedCV",value:"",config:{options:[{name:"",value:"true"}]},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("Included Template"),name:"IncludedTemplate",value:"",config:{onChange:this.onChangeInclude,options:[{name:"Top 5",value:5}]},validationRules:{required:!0}},{astype:"CheckBoxField",label:this.$t("Add company logo in CV Docx/pdf."),name:"chkCompanyLogo",value:"",config:{options:[{name:"",value:"true"}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("HideProfileDetails"),name:"chkMaskProfileDetail",value:"",config:{onChange:this.onChangeInclude,options:[{name:"",value:"true"}]},validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"ToEmail",value:"",placeholder:this.$t("Enter To Email"),validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"CC",value:"",visibility:!1,validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"BCC",value:"",visibility:!1,validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"FromEmail",value:"",validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"ReplyTo",value:"",validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"Subject",value:"",placeholder:this.$t("Enter Subject"),validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",label:this.$t("Note Description"),name:"Description",value:"",placeholder:"",config:{options:[]},visibility:!0,validationRules:{required:!1,max:5e3}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}],resultData:"",resultEmail:"",aid:null,pid:null,qid:null,userId:null,companyId:null,ContainerName:null,Email:null,chkProfilesummary:0,chkCustomizeCVname:0,ddlPrefillTemplate:""}},created:function(){var e=this;e.GetTemplates(),e.GetResumeTemplates(),e.GetPrefillTemplate(),e.GetQueryString(),e.emailValidate={required:!0,regex:/^(\s?[^\s,]+[^\s,]+\.[^\s,]+\s?,)*(\s?[^\s,]+[^\s,]+\.[^\s,]+)$/},e.mailvalidate={regex:/^\w+([\.-]?\w+)*@@\w+([\.-]?\w+)*(\.\w{2,3})+$/},e.aid=e.$route.params.aid,e.pid=e.$route.params.pid,e.qid=e.$route.params.qid,e.userId=e.GetUserInfo.ID,e.companyId=e.GetUserInfo.CompanyId,e.ContainerName=e.GetUserInfo.ContainerName,e.Email=e.GetUserInfo.Email,e.FormSchema[0].Data[1].value=e.Email,e.txtEmailFrom=e.Email,e.FormSchema[3].Data[0].value=e.Email},methods:{Close:function(){this.$router.push({name:"CandidateList"})},GetResumeTemplates:function(){var e=this,t="ids=&moduleName=&type=RESUME_TEMPLATE&search=&refId=";s["a"].GetDDLData(t).then((function(t){t.data.DATA.length>0&&t.data.DATA.forEach(t=>{var a={value:t.value,name:t.name};e.FormSchema[1].Data[1].config.options.push(a),e.$refs.ForwardCV.UpdateKeyValue()})}))},GetTemplates:function(){var e=this,t="ids=&moduleName=&type=FORWARD_CV_TEMPLATE&search=&refId=";s["a"].GetDDLData(t).then((function(t){t.data.DATA.length>0&&t.data.DATA.forEach(t=>{var a={value:t.value,name:t.name};e.FormSchema[0].Data[0].config.options.push(a),e.$refs.ForwardCV.UpdateKeyValue()})}))},GetPrefillTemplate:function(){var e=this,t="ids=&moduleName=&type=HR_PREFILL_TEMPLATE&search=&refId=";s["a"].GetDDLData(t).then((function(t){t.data.DATA.length>0&&t.data.DATA.forEach(t=>{var a={value:t.value,name:t.name};e.FormSchema[1].Data[0].config.options.push(a),e.$refs.ForwardCV.UpdateKeyValue()})}))},GetQueryString:function(){},GetEmailTemplate:function(){var e=this,t="templateId="+e.FormSchema[0].Data[0].value;s["a"].GetEmailTemplate(t).then((function(t){if(t.data.DATA.length>0){var a=t.data.DATA[0].template_content,l=t.data.DATA[0].template_subject;e.resultEmail=a,null!=a&&(e.txtEmailDesc=a,e.txtEmailSubject=l)}}))},OnSelect:function(){var e=this;e.ExcelData(),e.ddlPrefillTemplate=e.FormSchema[1].Data[0].value},ExcelData:function(){var e=this;e.ddlPrefillTemplate=e.FormSchema[1].Data[0].value;var t=`ApplicantId=${e.aid}&&PostId=&SelectedColumns=&TemplateId=${e.FormSchema[1].Data[0].value}`;s["a"].CandidateProfileFieldDetails(t).then((function(t){if(""!=t.data){var a=JSON.stringify(t.data.DATA);e.resultData=a,e.jsonToTable(a,e.FormSchema[1].Data[5].value,"true"==e.FormSchema[1].Data[7].value,e.resultEmail)}}))},onChangeInclude:function(){var e=this;e.FormSchema[1].Data[6].value;e.jsonToTable(e.resultData,e.FormSchema[1].Data[5].value,"true"==e.FormSchema[1].Data[7].value,e.resultEmail)},jsonToTable:function(e,t,a,l){var i=JSON.parse(e),s=[],o="<thead><tr>";for(m in i[0])s.push(m),o+="<th>"+m+"</th>";o+="</tr></thead>",document.getElementById("tableID").innerHTML="",document.getElementById("tableID").innerHTML=o,t=""==t?0:t;for(var n=i.length>t&&5==t?5:i.length,r="<tbody>",c=0;c<n;c++){var m=i[c],u="<tr>";for(d in m){var p=m[d];if("Experience"==d||"Qualification"==d){for(item in u+="<td><p><table><thead><tr>",p[0])u+="<th>"+item+"</th>";u+="</tr></thead></tbody>";for(var h=0;h<p.length;h++){var v=p[h];for(prop in u+="<tr>",v){var f=v[prop];if(null!=f){f=f.toString();u+="<td><p>"+f.split("<").join("&lt;")+"</p></td>"}else u+="<td><p>null</p></td>"}u+="</tr>"}u+=" </tbody></table></p></td>"}else if("Phone Number"!=d&&"Email"!=d||!a)if(null!=p){C=p.toString();u+="<td><p>"+C+"</p></td>"}else u+="<td><p>null</p></td>";else{var C=p.toString();C=C.replace(/.(?=.{0})/g,"*"),u+="<td><p>"+C.split("<").join("&lt;")+"</p></td>"}}u+="</tr>",r+=u}r+="</tbody>",document.getElementById("tableID").innerHTML+=r,vm.txtEmailDesc=l.replace("@@details@@"," <style>table, th, td {border:1px solid black;}</style > <table>"+$("#tableID").html()+"</table>")},openPopUp:function(){this.showAddEditModal=!0},onReady(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())},IsShowHiddenField:function(e){var t=this;"isHidden"==e?(t.isHidden=!t.isHidden,1==t.isHidden?t.FormSchema[3].Data[0].visibility=!0:t.FormSchema[2].Data[0].visibility=!1):"isHide"==e&&(t.isHide=!t.isHide,1==t.isHide?t.FormSchema[4].Data[0].visibility=!0:t.FormSchema[3].Data[0].visibility=!1)},validateCCEmail:function(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.isInvalidCCEmail=!e.test(this.txtEmailCc)},validateBCCEmail:function(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.isInvalidBCCEmail=!e.test(this.txtEmailCc)},onSubmit:function(e,t){var a=this;a.isLoading=!0;var l={UserId:a.userId,CompanyId:a.companyId,Applicant_Id:a.aid,Post_Id:a.pid,Template_Id:e.PrefillfromTemplate},i={UserId:a.userId,CompanyId:a.companyId,TemplateId:e.ChooseTemplate,ResumeTemplateId:e.ResumeTemplate,Replyon:e.ReceiveReplyon,AttachProfileFields:"true"==e.AttachProfileFieldsasExcelattacher,Include:e.IncludedTemplate,AttachCV:"true"==e.AttachedCV,AttachCVUnzip:"true"==e.AttachedCVUnzipped,Profilesummary:a.chkProfilesummary,CompanyLogo:"true"==e.chkCompanyLogo,CustomizeCVname:a.chkCustomizeCVname,MaskProfileDetail:"true"==e.chkMaskProfileDetail,EmailTo:a.txtEmailTo,EmailCc:a.txtEmailCc,EmailBcc:a.txtEmailBcc,EmailFrom:a.Email,EmailReplyTo:a.txtEmailReplyTo,EmailSubject:a.txtEmailSubject,EmailDesc:a.txtEmailDesc,ApplicantId:a.aid,exceldatatemp:l,moduleName:"Hiring",containerName:a.ContainerName},o=JSON.stringify(i);s["a"].SaveEmailData(o).then((function(e){a.isLoading=!1,"Success"==e.data[0].Status?(a.ShowAlert(a.$t("EmailSent",[a.$t("Email")]),"success",!0,a.$t("Alert")),a.Close()):a.ShowAlert(a.$t("EmailSendError",[a.$t("Email")]),"failure",!0,a.$t("Alert"))}))}}},v=h,f=Object(m["a"])(v,l,i,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0d3268.js.map