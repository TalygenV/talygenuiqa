(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224f03"],{e1ef:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("tg-list",{directives:[{name:"show",rawName:"v-show",value:e.IsTalentPoolView,expression:"IsTalentPoolView"}],ref:"tgList",attrs:{IsShowAction:!0,ModuleName:"Hiring",SubModuleCode:"HR_TALENT_POOL",LegendArray:[],RenderRowActionMethod:e.renderActions,widgets:[],IdentityColumn:"applicant_id",ViewList:e.ViewList,HeaderText:e.$t("TalentPool"),listType:["List"],ListData:e.TalentPoolList,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,ListDataCallBackFunction:e.FetchData,showCheckBox:!0,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound")},on:{ActionButtonClick:e.actionButtonClick,ApplyView:e.OnApplyView,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["status_id"==i.column.COLUMN_NAME?["Active"==i.row.status_id?a("span",{class:e.getStatusClassList(i.row.status_id,"status_id")},[e._v(" "+e._s(i.row[i.column.COLUMN_NAME])+" ")]):e._e(),"InActive"==i.row.status_id?a("span",{class:e.getStatusClassList(i.row.status_id,"status_id")},[e._v(" "+e._s(i.row[i.column.COLUMN_NAME])+" ")]):e._e()]:e._e(),"resume_path"==i.column.COLUMN_NAME?["resume_path"==i.column.COLUMN_NAME&&null!=i.row.resume_path&&""!=i.row.resume_path?a("a",{staticClass:"text-primary",attrs:{href:"#"},on:{click:function(t){return e.DownloadResume(i.row.resume_path,i.row.resume_name)}}},[a("em",{staticClass:"fa fa-download pr-2"}),a("span",[e._v(e._s(i.row.resume_name))])]):e._e(),"resume_path"!=i.column.COLUMN_NAME||null!=i.row.resume_path&&""!=i.row.resume_path?e._e():a("span",{staticClass:"text-secondary"},[a("em",{staticClass:"fa fa-download pr-2"}),a("span",[e._v(e._s(i.row.resume_name))])])]:e._e()]}}])}),e.ShowManageView?a("viewlayout",{directives:[{name:"show",rawName:"v-show",value:e.ShowManageView,expression:"ShowManageView"}],attrs:{submodulecode:"HR_TALENT_POOL",modulename:"Hiring",callbackfunction:e.FetchData,usertype:e.usertype},on:{close:function(t){e.ShowManageView=!1}}},[a("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e()],1)},o=[],s=(a("14d9"),a("9769"));let n=[{title:"Add to Talent Pool",iconClass:"fa fa-plus",callbackfunction:"AddTalentPool",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddTalentPool"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],l=[{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"EditTalentPool",additionalSpan:""},{title:"View",href:"javascript:void(0)",icon:"fa fa-eye action-icon",callbackfunction:"ClickOnView",additionalSpan:""},{title:"Add As Candidate",callbackfunction:"AddAsCandidate",icon:"fa fa-mail-forward action-icon",additionalSpan:""}],r=[{fieldName:"Talent Pool Name",fieldType:"text",fieldIcon:"fa-envelope",fieldSearchConditionName:["TJA.FIRST_NAME"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Email",fieldType:"text",fieldIcon:"fa-file",fieldSearchConditionName:["email_id"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Department",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["TD.DEPARTMENT_ID"],isSearch:!1,value:"",listOptions:[]}];async function d(e,t,a){var i=e;let o=`ids=&moduleName=${t}&type=${a}&search=&refId=`;await s["a"].GetDDLData(o).then((function(e){var t=e.data;null!=t&&"HR_DEPT"==a&&""!=t&&(i.leftSearchFields[2].listOptions=t.DATA)}))}var c={buttons:n,listActions:l,leftsearchSchema:r,bindleftCommonSearchdropdown:d},u=a("cdd5"),h={components:{viewlayout:u["a"]},data(){return{IsTalentPoolView:!0,showExpanded:"",ViewList:[],MimeType:"",noRecords:!1,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,ShowManageView:!1,searchCondition:"",TalentPoolList:[],GroupStart:1,GroupEnd:3,Headers:[],listheaderbuttons:c.buttons,leftSearchFields:c.leftsearchSchema,listActions:c.listActions,user_type:null,user_id:null,companyId:null,search:""}},created:async function(){var e=this;e.user_id=this.GetUserInfo.ID,e.user_type=this.GetUserInfo.UserType,e.companyId=this.GetUserInfo.CompanyId,await c.bindleftCommonSearchdropdown(e,"HIRING","HR_DEPT"),await e.FetchData(),this.GetDdlRecords_ViewList()},methods:{leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},actionButtonClick(e,t,a,i){switch(e){case"EditTalentPool":this.EdittoTalentPool(t.applicant_id,null);break;case"ClickOnView":this.TalentPoolDetail(t.applicant_id);break;case"AddAsCandidate":this.AddAsCandidate(t.applicant_id);break}},ManageView:function(){var e=this;e.ShowManageView=!0,setTimeout((function(){$("#modalManageView").modal("show")}),1e3)},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Edit":t.isVisible=!0;break;case"ClickOnView":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},DownloadResume:async function(e,t){var a=this,i=t,o=e;if(""==o&&""==i||null==o)a.ShowAlert(a.$t("NoAttachment"),"warning",!0,a.$t("Alert"));else{var n=`filePath=${o}&fileName=${i}`;await s["a"].DownloadFile(n).then((async function(e){const t=e.data,a="data:image/png;base64;base64,"+t;var o=document.createElement("a");o.href=a,o.setAttribute("download",i),document.body.appendChild(o),o.click()}))}},FetchData:async function(){var e=this;e.isBlank(e.searchCondition)||(e.PageNumber=1);var t=`sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}&firstname=&deptname=&langCode=EN`;e.isBlank(this.searchCondition)||(t+="&searchCondition="+this.searchCondition),await s["a"].GetTalentPoolList(t).then((function(t){null!=t.data&&""!=t.data?(e.Headers=t.data.schema,e.Headers.forEach(e=>{e.settings=null,"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"resume_path"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),e.TalentPoolList=t.data.data,e.Headers.forEach(e=>{"date"==e.DATA_TYPE&&(e.DATA_TYPE="DATE"),"select"!=e.DATA_TYPE&&"string"!=e.DATA_TYPE||(e.DATA_TYPE="text")}),e.TalentPoolList.length>0?(e.TalentPoolList.forEach((function(e){!0===e.is_sample_data&&(e.additionalClass="sample-bar")})),e.TotalRecords=t.data.data[0].total_records,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.listheaderbuttons[1].isdisabled=!0,e.noRecords=!1):(e.noRecords=!0,e.TotalRecords=0)):e.noRecords=!0}))},AddAsCandidate:function(e){var t=this;t.$router.push({name:"HRAddAsCandidate",params:{id:e}})},TalentPoolDetail:function(e){var t=this;t.$router.push({name:"HRTalentPoolDetail",params:{id:e,type:"TalentPoolDetail"}})},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"ManageView":this.ManageView();break;case"AddTalentPool":this.AddtoTalentPool()}},GetDdlRecords_ViewList:async function(){var e=this;e.ViewList=[];var t="moduleName=Hiring&subModuleCode=HR_TALENT_POOL&viewId=0&pageSize=100&pageNum=1&sortBy=&sortExp=";await s["a"].GetViewList(t).then((function(t){t.data&&"undefined"!=typeof t.data.DATA&&(e.ViewList=t.data.DATA);var a=0;e.ViewListId="0",null==e.ViewList||""==e.ViewList||e.ViewList.forEach((function(t){t.IS_SLECTED_USER_ID>0&&(a+=1,e.ViewListId=t.VIEW_ID)}));var i=0;a>0?e.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):null==e.ViewList||""==e.ViewList?e.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):e.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}),setTimeout(()=>{e.ViewListId>0?e.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=e.ViewListId:e.$refs.tgList.$refs.tgListHeaderButtons.ViewListId="0"},1e3)}))},DefaultView:function(){var e=this,t={ModuleName:"Hiring",SubmoduleCode:"HR_TALENT_POOL"},a=JSON.stringify(t);s["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ApplySuccess",[e.$t("DefaultView")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))},OnApplyView(e){var t=this;if("0"==e)t.DefaultView();else{var a={ViewId:e,ModuleName:"Hiring",SubmoduleCode:"HR_TALENT_POOL"},i=JSON.stringify(a);s["a"].ApplyView(i).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(t.ShowAlert(t.$t("ApplySuccess",[t.$t("View")]),"success",!0,t.$t("Alert")),t.$emit("RefreshManageView"),t.FetchData()):t.ShowAlert(t.$t("AddedError",[t.$t("View")]),"failure",!0,t.$t("Alert"))}))}},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchData()},commonDeleteData:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Crew"),(function(){var e={ids:a,companyId:t.companyId,userId:t.user_id,moduleName:"Hiring",subModuleCode:"HR_TALENT_POOL"},i=JSON.stringify(e);s["a"].CommonCommonDelete(i).then(e=>{"Success"==e.data[0].Status?(t.FetchData(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("TalentPool")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("TalentPool")]),"failure",!0,t.$t("Alert"))})})):alert(t.$t("Selectanyrecordtodelete"))},getStatusClassList:function(e){var t="";switch(e){case"Active":t="px-2 text-center text-white d-block bg-success";break;case"Inactive":t="px-2 text-center text-white d-block bg-danger";break;default:t=""}return t},AddtoTalentPool:function(){this.$router.push({name:"ManageTalentPool",params:{reqfrom:"HR/TalentPoolList",id:0,pid:null,aid:null,uid:null}})},EdittoTalentPool:function(e,t){this.$router.push({name:"ManageTalentPool",params:{reqfrom:"HR/TalentPoolList",id:e,pid:t,aid:null,uid:null}})}}},_=h,f=a("2877"),m=Object(f["a"])(_,i,o,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d224f03.js.map