(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4667427a"],{"32a5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!0,ModuleName:"HR",SubModuleCode:"Group",LegendArray:[],RenderRowActionMethod:t.renderActions,widgets:[],IdentityColumn:"group_id",listType:["List"],ListData:t.GroupData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,IsSearchFieldsOnTop:"true",SearchPosition:"top",ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata}}),t.IsGroupOpen?a("AddGroup",{attrs:{HeaderText:t.HeaderText}}):t._e()],1)},s=[],o=(a("14d9"),a("9769"));let r=[{title:"Add Group",iconClass:"fa-plus",callbackfunction:"openAddGroup",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",isEnabledOnSelectedRow:!0,callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}],n=[{title:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil action-icon",callbackfunction:"EditGroup",additionalSpan:""}];var d={buttons:r,listActions:n},l=a("dc7e"),c=a("c1df"),u=a.n(c),p={components:{AddGroup:l["a"]},data(){return{isLoading:!1,IsGroupOpen:!1,Headers:[{COLUMN_NAME:"group_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Group Name",DISPLAY_ORDER:1},{COLUMN_NAME:"recruiter_id",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Team",DISPLAY_ORDER:2},{COLUMN_NAME:"created_at",DATA_TYPE:"Date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Add/Update On",DISPLAY_ORDER:3}],leftSearchFields:[{fieldName:"Search",fieldType:"text",fieldSearchConditionName:[""],paramName:"groupname",isSearch:!0,value:"",listOptions:[]}],groupid:0,groupname:"",SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,searchCondition:"",GroupData:[],listheaderbuttons:d.buttons,listActions:d.listActions,CompanyId:null,Userid:null,HeaderText:""}},created:async function(){var t=this;t.CompanyId=this.GetUserInfo.CompanyId,t.Userid=this.GetUserInfo.ID,await t.FetchData()},updated(){const t=document.getElementsByClassName("theme-primary partition p-actions-expand");if(t[0]&&"p-name text-white"!=t[0].lastChild.className){const e=document.createElement("span");e.className="p-name text-white",e.textContent=this.$t("GroupListing"),t[0].appendChild(e)}},mounted(){var t=this;t.leftSearchFields.forEach(t=>{t.value="",t.isSearch=!1})},methods:{actionButtonClick:function(t,e,a,i){switch(t){case"EditGroup":this.openAddGroup(e.group_id,"EditGroup");break}},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchConditionJson:this.searchCondition="",this.FetchData()},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"openAddGroup":this.openAddGroup(0,"AddGroup");break;case"commonDeleteData":this.commonDeleteData();break}},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.FetchData()},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"Edit":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)}),a},FetchData:async function(){var t=this;t.isLoading=!0;var e=`groupid=${t.groupid}&pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&${t.searchCondition}`;await o["a"].GroupListing(e).then(e=>{e.data&&e.data.data.length>0&&(t.isLoading=!1,t.GroupData=e.data.data,t.GroupData.forEach(e=>{e.created_at&&(e.created_at=t.formatTimestamp(e.created_at))}),t.TotalRecords=e.data.data[0].totalrecords,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.listheaderbuttons[1].isdisabled=!0)})},formatTimestamp:function(t){const e=u()(t),a=e.format("MM/DD/YYYY h:mm A");return a},commonDeleteData:function(t){var e=this,a="";e.isLoading=!0,null==t?$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})):a=t,null!=a?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Group"),(function(){var t={ids:a,companyId:e.CompanyId,userId:e.Userid,moduleName:"HIRING",subModuleCode:"HR_RECRUITER_GROUP"},i=JSON.stringify(t);o["a"].CommonCommonDelete(i).then((function(t){200==t.status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Group")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("DeletedError",[e.$t("Group")]),"Success",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1},openAddGroup:function(t,e){this.groupId=t,this.HeaderText=e,this.IsGroupOpen=!0}}},h=p,m=a("2877"),g=Object(m["a"])(h,i,s,!1,null,null,null);e["default"]=g.exports},dc7e:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full  d-flex"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t(t.HeaderText)))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("span",{staticClass:"user-guide"},[a("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[a("em",{staticClass:"fa fa-files-o pr-2"}),t._v(t._s(t.$t("GuideForUser")))]),a("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t.$parent.groupId>0?a("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[a("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("UgHiringGroupListEdit"))}})]):a("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[a("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("UgHiringGroupListAdd"))}})])])])]),a("div",{staticClass:"modal-body"},[a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},s=[],o=(a("14d9"),a("9769")),r={props:{HeaderText:{Type:String,Required:!0}},data(){return{FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("GroupName"),name:"GroupName",value:"",placeholder:this.$t("GroupName"),validationRules:{required:!0},config:{onChange:this.IsGroupExists},disabled:!1}]},{layoutType:"single",Data:[{astype:"CustomSelectField",mode:"tag",label:this.$t("Recruiters"),name:"Recruiters",value:"",config:{options:[]},placeholder:this.$t("Select Recruiters"),validationRules:{required:!0,max:100}}]}],isLoading:!1,CompanyId:null,Userid:null,buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0,onClick:this.OnSubmit},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-send pr-2'></i>Update",isVisible:!1,onClick:this.OnSubmit},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}]}},created:async function(){var t=this;t.CompanyId=this.GetUserInfo.CompanyId,t.Userid=this.GetUserInfo.ID,await t.GetRecruiters(),t.$parent.groupId>0?(t.buttons[0].isVisible=!1,t.buttons[1].isVisible=!0,await t.FetchAddEditGroupData(t.$parent.groupId)):(t.buttons[0].isVisible=!0,t.buttons[1].isVisible=!1)},methods:{FetchAddEditGroupData:async function(t){var e=this,a="groupid="+t;await o["a"].GroupListing(a).then(t=>{if(""!=t.data){var a=[];e.FormSchema[0].Data[0].value=t.data.data[0].group_name,t.data.recruiterData.forEach(t=>{let e={label:t.name,value:t.value};a.push(e)}),e.FormSchema[1].Data[0].value=a}})},GetRecruiters:async function(){var t=this,e="moduleName=Hiring";await o["a"].GetRecruiterList(e).then(e=>{t.isLoading=!1,e.data.DATA.length>0&&(t.FormSchema[1].Data[0].config.options=e.data.DATA)})},async onSubmit(t,e){var a=this;a.isLoading=!0;var i={UserId:a.Userid,CompanyId:a.CompanyId,GroupID:void 0==a.$parent.groupId?0:a.$parent.groupId,Nametext:t.GroupName,RecruiterID:t.Recruiters,Groupdate:new Date},s=JSON.stringify(i);await o["a"].SaveRecruiterGroup(s).then(t=>{a.isLoading=!1,"Success"==t.data[0].Status?(a.$parent.groupId>0?a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Group")]),"success",!0,a.$t("Alert")):a.ShowAlert(a.$t("AddedSuccess",[a.$t("Group")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchData()):(a.ShowAlert(a.$t("AddedError",[a.$t("Group")]),"failure",!0,a.$t("Alert")),a.Close())})},Close:function(){this.$parent.IsGroupOpen=!1},IsGroupExists:async function(){var t=this;t.isLoading=!0;var e="groupname="+this.FormSchema[0].Data[0].value;await o["a"].GroupExists(e).then(e=>{"exists"==e.data?(t.isLoading=!1,t.ShowAlert(t.$t("AlreadyExists",[t.$t("GroupName")]),"warning",!0,t.$t("Alert"))):t.isLoading=!1})}}},n=r,d=a("2877"),l=Object(d["a"])(n,i,s,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-4667427a.js.map