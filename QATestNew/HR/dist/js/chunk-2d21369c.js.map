{"version":3,"sources":["webpack:///./src/views/HR/ExitPolicy/ApplyResignation.vue?b3c7","webpack:///src/views/HR/ExitPolicy/ApplyResignation.vue","webpack:///./src/views/HR/ExitPolicy/ApplyResignation.vue?c28c","webpack:///./src/views/HR/ExitPolicy/ApplyResignation.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","staticClass","ref","_v","_s","$t","on","Close","buttons","FormSchema","MandatoryString","onSubmit","scopedSlots","_u","key","fn","data","class","error","editor","model","value","callback","$$v","noteDescription","expression","staticRenderFns","UserData","EditResigData","CLASSIC_EDITOR","userId","layoutType","Data","astype","label","name","config","options","validationRules","visibility","disabled","max","Date","placeholder","format","minDate","type","text","isVisible","onClick","created","vm","ResignatinId","$route","params","id","GetUserInfo","ID","GetUserDetails","EditResignationEmployee","methods","onReady","ui","getEditableElement","parentElement","insertBefore","view","toolbar","element","$router","push","DataService","GetUserDetailsByUserId","then","response","first_name","last_name","user_emp_id","DEPARTMENT_NAME","DESIGNATION_NAME","GetEmployeeResignatonExitDetails","status","result","USER_ID","EFFECTIVE_RESIGNATION_FROM_REQUEST","RESIGNATION_REASON","formfields","val","jsonobj","resignationId","undefined","$parent","resignationEffectiveFrom","ResignationEffectiveFrom","reason","createdBy","modifiedBy","effectiveFrom","effectiveReason","requestStatus","JSON","stringify","SaveEmployeeResignaton","length","RESULT","ShowAlert","component"],"mappings":"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","file":"js/chunk-2d21369c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('section',{staticClass:\"main-content\"},[_c('div',{ref:\"hellp\",attrs:{\"id\":\"divMaindealData\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(_vm._s(_vm.$t('ManageResignation')))]),_c('span',{staticClass:\"float-right\"},[_c('a',{staticClass:\"p-action-btn text-white\",attrs:{\"href\":\"javascript:;\",\"title\":_vm.$t('BacktoList')},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-angle-double-left pr-2\",attrs:{\"aria-hidden\":\"true\"}}),_c('br'),_vm._v(_vm._s(_vm.$t('BacktoList'))+\" \")])])])])]),_c('div',{staticClass:\"border p-3\"},[_c('Form',{ref:\"JobPostForm\"},[_c('dynamic-form',{ref:\"ApplyResignation\",attrs:{\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema,\"mandatorytext\":_vm.MandatoryString},on:{\"OnSubmit\":_vm.onSubmit},scopedSlots:_vm._u([{key:\"tgslot-Description\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('ckeditor',{class:{ 'is-invalid': data.error != '' },attrs:{\"editor\":_vm.editor},model:{value:(_vm.noteDescription),callback:function ($$v) {_vm.noteDescription=$$v},expression:\"noteDescription\"}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(data.error))])]}}])})],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n    <loader :is-visible=\"isLoading\"></loader>\r\n    <section class=\"main-content\">\r\n        <div ref=\"hellp\" id=\"divMaindealData\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12 padding-t_8\">\r\n                    <div class=\"theme-primary partition-full\">\r\n                        <span class=\"p-name text-white\">{{ $t('ManageResignation') }}</span>\r\n                        <span class=\"float-right\">\r\n                            <a href=\"javascript:;\" class=\"p-action-btn text-white\" :title=\"$t('BacktoList')\" @click=\"Close\">\r\n                                <em class=\"fa fa-angle-double-left pr-2\" aria-hidden=\"true\"></em>\r\n                                <br />{{ $t('BacktoList') }}\r\n                            </a>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"border p-3\">\r\n                <Form ref=\"JobPostForm\">\r\n                    <dynamic-form ref=\"ApplyResignation\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"onSubmit\" :mandatorytext='MandatoryString'>\r\n                        <template v-slot:tgslot-Description=\"{ data }\">\r\n                            <ckeditor :editor=\"editor\" v-model=\"noteDescription\" :class=\"{ 'is-invalid': data.error != '' }\">\r\n                            </ckeditor>\r\n                            <span class=\"invalid-feedback\">{{ data.error }}</span>\r\n                        </template>\r\n                    </dynamic-form>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../services/DataService'\r\nexport default {\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            UserData: [],\r\n            EditResigData: [],\r\n            editor: this.CLASSIC_EDITOR,\r\n            noteDescription: '',\r\n            userId: null,\r\n            MandatoryString: 'Fields marked with an asterisk (*) are mandatory.',\r\n            FormSchema: [{\r\n                    layoutType: \"triple\",\r\n                    Data: [{\r\n                            astype: \"TextField\",\r\n                            label: this.$t('EmployeeName'),\r\n                            name: \"EmployeeName\",\r\n                            value: \"\",\r\n                            config: {\r\n                                options: [],\r\n                            },\r\n                            validationRules: {\r\n                                \"required\": true\r\n                            },\r\n                            visibility: true,\r\n                            disabled: false\r\n                        },\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('EmployeeNumber'),\r\n                            name: \"EmployeeNumber\",\r\n                            value: \"\",\r\n                            validationRules: {\r\n                                \"required\": false,\r\n                                max: 100\r\n                            },\r\n                            visibility: true,\r\n                            disabled: true\r\n                        },\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('DepartmentName'),\r\n                            name: \"DepartmentName\",\r\n                            value: \"\",\r\n                            validationRules: {\r\n                                \"required\": false,\r\n                                max: 100\r\n                            },\r\n                            visibility: true,\r\n                            disabled: true\r\n                        },\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('DesignationName'),\r\n                            name: \"DesignationName\",\r\n                            value: \"\",\r\n                            validationRules: {\r\n                                \"required\": false,\r\n                                max: 100\r\n                            },\r\n                            visibility: true,\r\n                            disabled: true\r\n                        },\r\n                        {\r\n                            astype: \"DateField\",\r\n                            label: this.$t('ResignationEffectiveFrom'),\r\n                            name: \"ResignationEffectiveFrom\",\r\n                            value: (new Date()),\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                options: [],\r\n                                format: \"M/D/YYYY\",\r\n                                minDate: new Date(),\r\n                            },\r\n                            validationRules: {\r\n                                \"required\": true\r\n                            },\r\n                            visibility: true,\r\n                            disabled: true\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [{\r\n                        astype: \"SlotField\",\r\n                        label: this.$t('ReasonforResignation'),\r\n                        name: \"Description\",\r\n                        value: \"\",\r\n                        placeholder: \"\",\r\n                        config: {\r\n                            options: []\r\n                        },\r\n                        visibility: true,\r\n                        validationRules: {\r\n                            \"required\": true,\r\n                            max: 5000\r\n                        },\r\n                    }]\r\n                }\r\n            ],\r\n            buttons: [{\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Save\",\r\n                    isVisible: true,\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i>Cancel\",\r\n                    onClick: this.Close,\r\n                },\r\n            ]\r\n        }\r\n    },\r\n    created: function () {\r\n        var vm = this;\r\n        vm.ResignatinId = this.$route.params.id;\r\n        vm.userId = vm.GetUserInfo.ID;\r\n        vm.GetUserDetails();\r\n        if(vm.ResignatinId > 0) {\r\n            vm.EditResignationEmployee();\r\n        }\r\n    },\r\n    methods: {\r\n        onReady(editor) {\r\n            editor.ui.getEditableElement().parentElement.insertBefore(\r\n                editor.ui.view.toolbar.element,\r\n                editor.ui.getEditableElement()\r\n            );\r\n        },\r\n        Close: function () {\r\n            this.$router.push({\r\n                name: 'ResignationListing'\r\n            });\r\n        },\r\n        GetUserDetails: function (id) {\r\n            var vm = this;\r\n            var params = `UserId=${vm.userId}`\r\n            DataService.GetUserDetailsByUserId(params).then((response) => {\r\n                if (response.data != '') {\r\n                    vm.UserData = response.data[0];\r\n                    vm.FormSchema[0].Data[0].value = vm.UserData.first_name + \" \" + vm.UserData.last_name;\r\n                    vm.FormSchema[0].Data[1].value = vm.UserData.user_emp_id;\r\n                    vm.FormSchema[0].Data[2].value = vm.UserData.DEPARTMENT_NAME;\r\n                    vm.FormSchema[0].Data[3].value = vm.UserData.DESIGNATION_NAME;\r\n                }\r\n            })\r\n        },\r\n        EditResignationEmployee() {\r\n            var vm = this;\r\n            var params = `Id=${vm.ResignatinId}`\r\n            DataService.GetEmployeeResignatonExitDetails(params).then((response) => {    \r\n                if(response.data.status = 'Success'){                   \r\n                    vm.EditResigData = response.data.result[0];\r\n                    if(vm.EditResigData.USER_ID != null){                        \r\n                        vm.GetUserDetails(vm.EditResigData.USER_ID);\r\n                    }\r\n                    vm.FormSchema[0].Data[4].value = vm.EditResigData.EFFECTIVE_RESIGNATION_FROM_REQUEST;\r\n                    vm.noteDescription =  vm.EditResigData.RESIGNATION_REASON;\r\n                }\r\n            })\r\n        },\r\n        onSubmit(formfields, val) {\r\n            var vm = this;\r\n            var jsonobj = {\r\n                resignationId: vm.$parent.ResignatinId == undefined ? 0 : vm.$parent.ResignatinId,\r\n                resignationEffectiveFrom: formfields.ResignationEffectiveFrom,\r\n                reason: vm.noteDescription,\r\n                status: 1001,\r\n                createdBy: null,\r\n                modifiedBy: null,\r\n                effectiveFrom: null,\r\n                effectiveReason: null,\r\n                requestStatus: null,\r\n            };\r\n            var params = JSON.stringify(jsonobj);\r\n            DataService.SaveEmployeeResignaton(params).then((response) => {\r\n                if (response.data.length > 0) {\r\n                    if (response.data[0].RESULT == -1) {\r\n                        vm.ShowAlert((vm.$t('Resignation')), \"success\", true, vm.$t(\"Alert\"));\r\n                        vm.Close();\r\n                    } else if (response.data[0].RESULT == -4) {\r\n                        vm.ShowAlert((vm.$t('UpdateResignation')), \"success\", true, vm.$t(\"Alert\"));\r\n                        vm.Close();\r\n                    }\r\n                } else {\r\n                    vm.ShowAlert((vm.$t(\"Exit\")), \"failure\", true, vm.$t(\"Alert\"));\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplyResignation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplyResignation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ApplyResignation.vue?vue&type=template&id=20d89d39\"\nimport script from \"./ApplyResignation.vue?vue&type=script&lang=js\"\nexport * from \"./ApplyResignation.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}